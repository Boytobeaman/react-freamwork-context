/*!!**
 * BIMWINNER.BOS3D V4.12.0
 * A WebGL-based 3D Viewer for threejs,it is modified for BimWinner
 * http://bos3d.bimwinner.com
 * Built on 2019-10-24 13:51:33
 * Copyright 2019, 盈嘉互联（北京）科技有限公司
 ***/
!function(A,e){"object"==typeof exports&&"undefined"!=typeof module?e(exports):"function"==typeof define&&define.amd?define(["exports"],e):e(((A=A||self).BIMWINNER=A.BIMWINNER||{},A.BIMWINNER.BOS3D={}))}(this,function(A){"use strict";console.log("BOS3D Version: 4.12.0");var i="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{};var e;(function(A){var e,t;e=i,t=function(){function l(A){return"[object Array]"===Object.prototype.toString.call(A)}function A(A,e){for(var t in e)e.hasOwnProperty(t)&&(A[t]=e[t])}function o(A){if(!(this instanceof o))throw new TypeError(this+"is not a promise");if("function"!=typeof A)throw new TypeError("Promise resolver "+A+" is not a function");var e=new t;this._resolver=e;try{A(function(A){e.resolve(A)},function(A){e.reject(A)})}catch(A){e.reject(A)}}function t(){this._callbacks=[],this._errbacks=[],this._status="pending",this._result=null}return A(o.prototype,{then:function(A,e){var t,i,n=new this.constructor(function(A,e){t=A,i=e});return this._resolver._addCallbacks("function"==typeof A?o._makeCallback(n,t,i,A):t,"function"==typeof e?o._makeCallback(n,t,i,e):i),n},catch:function(A){return this.then(void 0,A)}}),o._makeCallback=function(t,i,n,o){return function(A){var e;try{e=o(A)}catch(A){return void n(A)}e!==t?i(e):n(new TypeError("Cannot resolve a promise with itself"))}},o.resolve=function(e){return e&&e.constructor===this?e:new this(function(A){A(e)})},o.reject=function(A){var e=new this(function(){});return e._resolver._result=A,e._resolver._status="rejected",e},o.all=function(a){var s=this;return new s(function(t,A){if(l(a)){var i=a.length,e=0,n=a.length,o=[];if(n<1)return t(o);for(;e<n;e++)s.resolve(a[e]).then(r(e),A)}else A(new TypeError("Promise.all expects an array of values or promises"));function r(e){return function(A){o[e]=A,--i||t(o)}}})},o.race=function(n){var o=this;return new o(function(A,e){if(l(n))for(var t=0,i=n.length;t<i;t++)o.resolve(n[t]).then(A,e);else e(new TypeError("Promise.race expects an array of values or promises"))})},o.async="undefined"!=typeof setImmediate?function(A){setImmediate(A)}:"undefined"!=typeof process&&process.nextTick?process.nextTick:function(A){setTimeout(A,0)},A(t.prototype,{fulfill:function(A){var e=this._status;"pending"!==e&&"accepted"!==e||(this._result=A,this._status="fulfilled"),"fulfilled"===this._status&&(this._notify(this._callbacks,this._result),this._callbacks=[],this._errbacks=null)},reject:function(A){var e=this._status;"pending"!==e&&"accepted"!==e||(this._result=A,this._status="rejected"),"rejected"===this._status&&(this._notify(this._errbacks,this._result),this._callbacks=null,this._errbacks=[])},resolve:function(A){"pending"===this._status&&(this._status="accepted",this._value=A,(this._callbacks&&this._callbacks.length||this._errbacks&&this._errbacks.length)&&this._unwrap(this._value))},_unwrap:function(A){var e,t=this,i=!1;if(!A||"object"!=typeof A&&"function"!=typeof A)t.fulfill(A);else try{"function"==typeof(e=A.then)?e.call(A,function(A){i||(i=!0,t._unwrap(A))},function(A){i||(i=!0,t.reject(A))}):t.fulfill(A)}catch(A){i||t.reject(A)}},_addCallbacks:function(A,e){var t=this._callbacks,i=this._errbacks;switch(t&&t.push(A),i&&i.push(e),this._status){case"accepted":this._unwrap(this._value);break;case"fulfilled":this.fulfill(this._result);break;case"rejected":this.reject(this._result)}},_notify:function(t,i){t.length&&o.async(function(){var A,e;for(A=0,e=t.length;A<e;++A)t[A](i)})}}),o.Resolver=t,o}(),A&&(A.exports=t),(e=e||self).PromisePolyfill=t,e.Promise||(e.Promise=t)})(e={exports:{}},e.exports);function t(){}void 0===Number.EPSILON&&(Number.EPSILON=Math.pow(2,-52)),void 0===Number.isInteger&&(Number.isInteger=function(A){return"number"==typeof A&&isFinite(A)&&Math.floor(A)===A}),void 0===Math.sign&&(Math.sign=function(A){return A<0?-1:0<A?1:+A}),"name"in Function.prototype==!1&&Object.defineProperty(Function.prototype,"name",{get:function(){return this.toString().match(/^\s*function\s*([^\(\s]*)/)[1]}}),void 0===Object.assign&&(Object.assign=function(A){if(null==A)throw new TypeError("Cannot convert undefined or null to object");for(var e=Object(A),t=1;t<arguments.length;t++){var i=arguments[t];if(null!=i)for(var n in i)Object.prototype.hasOwnProperty.call(i,n)&&(e[n]=i[n])}return e}),Object.assign(t.prototype,{addEventListener:function(A,e){void 0===this._listeners&&(this._listeners={});var t=this._listeners;void 0===t[A]&&(t[A]=[]),-1===t[A].indexOf(e)&&t[A].push(e)},hasEventListener:function(A,e){if(void 0===this._listeners)return!1;var t=this._listeners;return void 0!==t[A]&&-1!==t[A].indexOf(e)},removeEventListener:function(A,e){if(void 0!==this._listeners){var t=this._listeners[A];if(void 0!==t){var i=t.indexOf(e);-1!==i&&t.splice(i,1)}}},dispatchEvent:function(A){if(void 0!==this._listeners){var e=this._listeners[A.type];if(void 0!==e){A.target=this;for(var t=e.slice(0),i=0,n=t.length;i<n;i++)t[i].call(this,A)}}}});var n,o,r,a,s,l,pA={LEFT:0,MIDDLE:1,RIGHT:2,ROTATE:0,DOLLY:1,PAN:2},j=0,W=1,q=2,k=1,z=2,U=0,IA=1,gA=2,c=0,m=2,X=0,Y=1,J=2,Z=3,AA=4,eA=5,tA=100,d=101,h=102,u=103,p=104,g=200,f=201,v=202,y=203,C=204,I=205,x=206,b=207,E=208,w=209,M=210,iA=0,nA=1,oA=2,rA=3,aA=4,sA=5,lA=6,cA=7,V=0,H=1,G=2,dA=0,xA=1,hA=2,uA=3,fA=4,mA=5,vA=301,yA=302,CA=303,bA=304,EA=305,wA=306,MA=307,B=1e3,L=1001,_=1002,N=1003,O=1004,R=1005,P=1006,S=1007,T=1008,BA=1009,K=1010,F=1011,D=1012,Q=1013,_A=1014,SA=1015,TA=1016,KA=1017,FA=1018,LA=1019,OA=1020,UA=1021,NA=1022,RA=1023,PA=1024,DA=1025,QA=RA,kA=1026,zA=1027,VA=1028,HA=33776,GA=33777,jA=33778,WA=33779,qA=35840,XA=35841,YA=35842,JA=35843,ZA=36196,$A=37808,Ae=37809,ee=37810,te=37811,ie=37812,ne=37813,oe=37814,re=37815,ae=37816,se=37817,le=37818,ce=37819,de=37820,he=37821,ue=2300,pe=2301,ge=2400,fe=2401,me=2402,ve=0,ye=3e3,Ce=3001,Ie=3007,xe=3002,be=3004,Ee=3005,we=3006,Me=3200,Be=3201,_e=0,Se=1,Te=7680,Ke=519,Fe={DEG2RAD:Math.PI/180,RAD2DEG:180/Math.PI,generateUUID:function(){for(var n=[],A=0;A<256;A++)n[A]=(A<16?"0":"")+A.toString(16);return function(){var A=4294967295*Math.random()|0,e=4294967295*Math.random()|0,t=4294967295*Math.random()|0,i=4294967295*Math.random()|0;return(n[255&A]+n[A>>8&255]+n[A>>16&255]+n[A>>24&255]+"-"+n[255&e]+n[e>>8&255]+"-"+n[e>>16&15|64]+n[e>>24&255]+"-"+n[63&t|128]+n[t>>8&255]+"-"+n[t>>16&255]+n[t>>24&255]+n[255&i]+n[i>>8&255]+n[i>>16&255]+n[i>>24&255]).toUpperCase()}}(),clamp:function(A,e,t){return Math.max(e,Math.min(t,A))},euclideanModulo:function(A,e){return(A%e+e)%e},mapLinear:function(A,e,t,i,n){return i+(A-e)*(n-i)/(t-e)},lerp:function(A,e,t){return(1-t)*A+t*e},smoothstep:function(A,e,t){return e<A?A<t?(A=(A-e)/(t-e))*A*(3-2*A):1:0},smootherstep:function(A,e,t){return e<A?A<t?(A=(A-e)/(t-e))*A*A*(A*(6*A-15)+10):1:0},randInt:function(A,e){return A+Math.floor(Math.random()*(e-A+1))},randFloat:function(A,e){return A+Math.random()*(e-A)},randFloatSpread:function(A){return A*(.5-Math.random())},degToRad:function(A){return A*Fe.DEG2RAD},radToDeg:function(A){return A*Fe.RAD2DEG},isPowerOfTwo:function(A){return 0==(A&A-1)&&0!==A},ceilPowerOfTwo:function(A){return Math.pow(2,Math.ceil(Math.log(A)/Math.LN2))},floorPowerOfTwo:function(A){return Math.pow(2,Math.floor(Math.log(A)/Math.LN2))}};function Le(A,e){this.x=A||0,this.y=e||0}function Oe(A,e,t,i){this._x=A||0,this._y=e||0,this._z=t||0,this._w=void 0!==i?i:1}function Ue(A,e,t){this.x=A||0,this.y=e||0,this.z=t||0}function Ne(){this.elements=[1,0,0,0,1,0,0,0,1],0<arguments.length&&console.error("THREE.Matrix3: the constructor no longer reads arguments. use .set() instead.")}Object.defineProperties(Le.prototype,{width:{get:function(){return this.x},set:function(A){this.x=A}},height:{get:function(){return this.y},set:function(A){this.y=A}}}),Object.assign(Le.prototype,{isVector2:!0,set:function(A,e){return this.x=A,this.y=e,this},setScalar:function(A){return this.x=A,this.y=A,this},setX:function(A){return this.x=A,this},setY:function(A){return this.y=A,this},setComponent:function(A,e){switch(A){case 0:this.x=e;break;case 1:this.y=e;break;default:throw new Error("index is out of range: "+A)}return this},getComponent:function(A){switch(A){case 0:return this.x;case 1:return this.y;default:throw new Error("index is out of range: "+A)}},clone:function(){return new this.constructor(this.x,this.y)},copy:function(A){return this.x=A.x,this.y=A.y,this},add:function(A,e){return void 0!==e?(console.warn("THREE.Vector2: .add() now only accepts one argument. Use .addVectors( a, b ) instead."),this.addVectors(A,e)):(this.x+=A.x,this.y+=A.y,this)},addScalar:function(A){return this.x+=A,this.y+=A,this},addVectors:function(A,e){return this.x=A.x+e.x,this.y=A.y+e.y,this},addScaledVector:function(A,e){return this.x+=A.x*e,this.y+=A.y*e,this},sub:function(A,e){return void 0!==e?(console.warn("THREE.Vector2: .sub() now only accepts one argument. Use .subVectors( a, b ) instead."),this.subVectors(A,e)):(this.x-=A.x,this.y-=A.y,this)},subScalar:function(A){return this.x-=A,this.y-=A,this},subVectors:function(A,e){return this.x=A.x-e.x,this.y=A.y-e.y,this},multiply:function(A){return this.x*=A.x,this.y*=A.y,this},multiplyScalar:function(A){return this.x*=A,this.y*=A,this},divide:function(A){return this.x/=A.x,this.y/=A.y,this},divideScalar:function(A){return this.multiplyScalar(1/A)},applyMatrix3:function(A){var e=this.x,t=this.y,i=A.elements;return this.x=i[0]*e+i[3]*t+i[6],this.y=i[1]*e+i[4]*t+i[7],this},min:function(A){return this.x=Math.min(this.x,A.x),this.y=Math.min(this.y,A.y),this},max:function(A){return this.x=Math.max(this.x,A.x),this.y=Math.max(this.y,A.y),this},clamp:function(A,e){return this.x=Math.max(A.x,Math.min(e.x,this.x)),this.y=Math.max(A.y,Math.min(e.y,this.y)),this},clampScalar:function(A,e){return this.x=Math.max(A,Math.min(e,this.x)),this.y=Math.max(A,Math.min(e,this.y)),this},clampLength:function(A,e){var t=this.length();return this.divideScalar(t||1).multiplyScalar(Math.max(A,Math.min(e,t)))},floor:function(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this},ceil:function(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this},round:function(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this},roundToZero:function(){return this.x=this.x<0?Math.ceil(this.x):Math.floor(this.x),this.y=this.y<0?Math.ceil(this.y):Math.floor(this.y),this},negate:function(){return this.x=-this.x,this.y=-this.y,this},dot:function(A){return this.x*A.x+this.y*A.y},cross:function(A){return this.x*A.y-this.y*A.x},lengthSq:function(){return this.x*this.x+this.y*this.y},length:function(){return Math.sqrt(this.x*this.x+this.y*this.y)},manhattanLength:function(){return Math.abs(this.x)+Math.abs(this.y)},normalize:function(){return this.divideScalar(this.length()||1)},angle:function(){var A=Math.atan2(this.y,this.x);return A<0&&(A+=2*Math.PI),A},distanceTo:function(A){return Math.sqrt(this.distanceToSquared(A))},distanceToSquared:function(A){var e=this.x-A.x,t=this.y-A.y;return e*e+t*t},manhattanDistanceTo:function(A){return Math.abs(this.x-A.x)+Math.abs(this.y-A.y)},setLength:function(A){return this.normalize().multiplyScalar(A)},lerp:function(A,e){return this.x+=(A.x-this.x)*e,this.y+=(A.y-this.y)*e,this},lerpVectors:function(A,e,t){return this.subVectors(e,A).multiplyScalar(t).add(A)},equals:function(A){return A.x===this.x&&A.y===this.y},fromArray:function(A,e){return void 0===e&&(e=0),this.x=A[e],this.y=A[e+1],this},toArray:function(A,e){return void 0===A&&(A=[]),void 0===e&&(e=0),A[e]=this.x,A[e+1]=this.y,A},fromBufferAttribute:function(A,e,t){return void 0!==t&&console.warn("THREE.Vector2: offset has been removed from .fromBufferAttribute()."),this.x=A.getX(e),this.y=A.getY(e),this},rotateAround:function(A,e){var t=Math.cos(e),i=Math.sin(e),n=this.x-A.x,o=this.y-A.y;return this.x=n*t-o*i+A.x,this.y=n*i+o*t+A.y,this}}),Object.assign(Oe,{slerp:function(A,e,t,i){return t.copy(A).slerp(e,i)},slerpFlat:function(A,e,t,i,n,o,r){var a=t[i+0],s=t[i+1],l=t[i+2],c=t[i+3],d=n[o+0],h=n[o+1],u=n[o+2],p=n[o+3];if(c!==p||a!==d||s!==h||l!==u){var g=1-r,f=a*d+s*h+l*u+c*p,m=f<0?-1:1,v=1-f*f;if(v>Number.EPSILON){var y=Math.sqrt(v),C=Math.atan2(y,f*m);g=Math.sin(g*C)/y,r=Math.sin(r*C)/y}var I=r*m;if(a=a*g+d*I,s=s*g+h*I,l=l*g+u*I,c=c*g+p*I,g===1-r){var x=1/Math.sqrt(a*a+s*s+l*l+c*c);a*=x,s*=x,l*=x,c*=x}}A[e]=a,A[e+1]=s,A[e+2]=l,A[e+3]=c}}),Object.defineProperties(Oe.prototype,{x:{get:function(){return this._x},set:function(A){this._x=A,this._onChangeCallback()}},y:{get:function(){return this._y},set:function(A){this._y=A,this._onChangeCallback()}},z:{get:function(){return this._z},set:function(A){this._z=A,this._onChangeCallback()}},w:{get:function(){return this._w},set:function(A){this._w=A,this._onChangeCallback()}}}),Object.assign(Oe.prototype,{isQuaternion:!0,set:function(A,e,t,i){return this._x=A,this._y=e,this._z=t,this._w=i,this._onChangeCallback(),this},clone:function(){return new this.constructor(this._x,this._y,this._z,this._w)},copy:function(A){return this._x=A.x,this._y=A.y,this._z=A.z,this._w=A.w,this._onChangeCallback(),this},setFromEuler:function(A,e){if(!A||!A.isEuler)throw new Error("THREE.Quaternion: .setFromEuler() now expects an Euler rotation rather than a Vector3 and order.");var t=A._x,i=A._y,n=A._z,o=A.order,r=Math.cos,a=Math.sin,s=r(t/2),l=r(i/2),c=r(n/2),d=a(t/2),h=a(i/2),u=a(n/2);return"XYZ"===o?(this._x=d*l*c+s*h*u,this._y=s*h*c-d*l*u,this._z=s*l*u+d*h*c,this._w=s*l*c-d*h*u):"YXZ"===o?(this._x=d*l*c+s*h*u,this._y=s*h*c-d*l*u,this._z=s*l*u-d*h*c,this._w=s*l*c+d*h*u):"ZXY"===o?(this._x=d*l*c-s*h*u,this._y=s*h*c+d*l*u,this._z=s*l*u+d*h*c,this._w=s*l*c-d*h*u):"ZYX"===o?(this._x=d*l*c-s*h*u,this._y=s*h*c+d*l*u,this._z=s*l*u-d*h*c,this._w=s*l*c+d*h*u):"YZX"===o?(this._x=d*l*c+s*h*u,this._y=s*h*c+d*l*u,this._z=s*l*u-d*h*c,this._w=s*l*c-d*h*u):"XZY"===o&&(this._x=d*l*c-s*h*u,this._y=s*h*c-d*l*u,this._z=s*l*u+d*h*c,this._w=s*l*c+d*h*u),!1!==e&&this._onChangeCallback(),this},setFromAxisAngle:function(A,e){var t=e/2,i=Math.sin(t);return this._x=A.x*i,this._y=A.y*i,this._z=A.z*i,this._w=Math.cos(t),this._onChangeCallback(),this},setFromRotationMatrix:function(A){var e,t=A.elements,i=t[0],n=t[4],o=t[8],r=t[1],a=t[5],s=t[9],l=t[2],c=t[6],d=t[10],h=i+a+d;return this._z=0<h?(e=.5/Math.sqrt(h+1),this._w=.25/e,this._x=(c-s)*e,this._y=(o-l)*e,(r-n)*e):a<i&&d<i?(e=2*Math.sqrt(1+i-a-d),this._w=(c-s)/e,this._x=.25*e,this._y=(n+r)/e,(o+l)/e):d<a?(e=2*Math.sqrt(1+a-i-d),this._w=(o-l)/e,this._x=(n+r)/e,this._y=.25*e,(s+c)/e):(e=2*Math.sqrt(1+d-i-a),this._w=(r-n)/e,this._x=(o+l)/e,this._y=(s+c)/e,.25*e),this._onChangeCallback(),this},setFromUnitVectors:function(A,e){var t=A.dot(e)+1;return this._w=(this._z=t<1e-6?(t=0,Math.abs(A.x)>Math.abs(A.z)?(this._x=-A.y,this._y=A.x,0):(this._x=0,this._y=-A.z,A.y)):(this._x=A.y*e.z-A.z*e.y,this._y=A.z*e.x-A.x*e.z,A.x*e.y-A.y*e.x),t),this.normalize()},angleTo:function(A){return 2*Math.acos(Math.abs(Fe.clamp(this.dot(A),-1,1)))},rotateTowards:function(A,e){var t=this.angleTo(A);if(0===t)return this;var i=Math.min(1,e/t);return this.slerp(A,i),this},inverse:function(){return this.conjugate()},conjugate:function(){return this._x*=-1,this._y*=-1,this._z*=-1,this._onChangeCallback(),this},dot:function(A){return this._x*A._x+this._y*A._y+this._z*A._z+this._w*A._w},lengthSq:function(){return this._x*this._x+this._y*this._y+this._z*this._z+this._w*this._w},length:function(){return Math.sqrt(this._x*this._x+this._y*this._y+this._z*this._z+this._w*this._w)},normalize:function(){var A=this.length();return this._w=0===A?(this._x=0,this._y=0,this._z=0,1):(this._x=this._x*(A=1/A),this._y=this._y*A,this._z=this._z*A,this._w*A),this._onChangeCallback(),this},multiply:function(A,e){return void 0!==e?(console.warn("THREE.Quaternion: .multiply() now only accepts one argument. Use .multiplyQuaternions( a, b ) instead."),this.multiplyQuaternions(A,e)):this.multiplyQuaternions(this,A)},premultiply:function(A){return this.multiplyQuaternions(A,this)},multiplyQuaternions:function(A,e){var t=A._x,i=A._y,n=A._z,o=A._w,r=e._x,a=e._y,s=e._z,l=e._w;return this._x=t*l+o*r+i*s-n*a,this._y=i*l+o*a+n*r-t*s,this._z=n*l+o*s+t*a-i*r,this._w=o*l-t*r-i*a-n*s,this._onChangeCallback(),this},slerp:function(A,e){if(0===e)return this;if(1===e)return this.copy(A);var t=this._x,i=this._y,n=this._z,o=this._w,r=o*A._w+t*A._x+i*A._y+n*A._z;if(r<0?(this._w=-A._w,this._x=-A._x,this._y=-A._y,this._z=-A._z,r=-r):this.copy(A),1<=r)return this._w=o,this._x=t,this._y=i,this._z=n,this;var a=1-r*r;if(a<=Number.EPSILON){var s=1-e;return this._w=s*o+e*this._w,this._x=s*t+e*this._x,this._y=s*i+e*this._y,this._z=s*n+e*this._z,this.normalize(),this._onChangeCallback(),this}var l=Math.sqrt(a),c=Math.atan2(l,r),d=Math.sin((1-e)*c)/l,h=Math.sin(e*c)/l;return this._w=o*d+this._w*h,this._x=t*d+this._x*h,this._y=i*d+this._y*h,this._z=n*d+this._z*h,this._onChangeCallback(),this},equals:function(A){return A._x===this._x&&A._y===this._y&&A._z===this._z&&A._w===this._w},fromArray:function(A,e){return void 0===e&&(e=0),this._x=A[e],this._y=A[e+1],this._z=A[e+2],this._w=A[e+3],this._onChangeCallback(),this},toArray:function(A,e){return void 0===A&&(A=[]),void 0===e&&(e=0),A[e]=this._x,A[e+1]=this._y,A[e+2]=this._z,A[e+3]=this._w,A},_onChange:function(A){return this._onChangeCallback=A,this},_onChangeCallback:function(){}}),Object.assign(Ue.prototype,{isVector3:!0,set:function(A,e,t){return this.x=A,this.y=e,this.z=t,this},setScalar:function(A){return this.x=A,this.y=A,this.z=A,this},setX:function(A){return this.x=A,this},setY:function(A){return this.y=A,this},setZ:function(A){return this.z=A,this},setComponent:function(A,e){switch(A){case 0:this.x=e;break;case 1:this.y=e;break;case 2:this.z=e;break;default:throw new Error("index is out of range: "+A)}return this},getComponent:function(A){switch(A){case 0:return this.x;case 1:return this.y;case 2:return this.z;default:throw new Error("index is out of range: "+A)}},clone:function(){return new this.constructor(this.x,this.y,this.z)},copy:function(A){return this.x=A.x,this.y=A.y,this.z=A.z,this},add:function(A,e){return void 0!==e?(console.warn("THREE.Vector3: .add() now only accepts one argument. Use .addVectors( a, b ) instead."),this.addVectors(A,e)):(this.x+=A.x,this.y+=A.y,this.z+=A.z,this)},addScalar:function(A){return this.x+=A,this.y+=A,this.z+=A,this},addVectors:function(A,e){return this.x=A.x+e.x,this.y=A.y+e.y,this.z=A.z+e.z,this},addScaledVector:function(A,e){return this.x+=A.x*e,this.y+=A.y*e,this.z+=A.z*e,this},sub:function(A,e){return void 0!==e?(console.warn("THREE.Vector3: .sub() now only accepts one argument. Use .subVectors( a, b ) instead."),this.subVectors(A,e)):(this.x-=A.x,this.y-=A.y,this.z-=A.z,this)},subScalar:function(A){return this.x-=A,this.y-=A,this.z-=A,this},subVectors:function(A,e){return this.x=A.x-e.x,this.y=A.y-e.y,this.z=A.z-e.z,this},multiply:function(A,e){return void 0!==e?(console.warn("THREE.Vector3: .multiply() now only accepts one argument. Use .multiplyVectors( a, b ) instead."),this.multiplyVectors(A,e)):(this.x*=A.x,this.y*=A.y,this.z*=A.z,this)},multiplyScalar:function(A){return this.x*=A,this.y*=A,this.z*=A,this},multiplyVectors:function(A,e){return this.x=A.x*e.x,this.y=A.y*e.y,this.z=A.z*e.z,this},applyEuler:(a=new Oe,function(A){return A&&A.isEuler||console.error("THREE.Vector3: .applyEuler() now expects an Euler rotation rather than a Vector3 and order."),this.applyQuaternion(a.setFromEuler(A))}),applyAxisAngle:(r=new Oe,function(A,e){return this.applyQuaternion(r.setFromAxisAngle(A,e))}),applyMatrix3:function(A){var e=this.x,t=this.y,i=this.z,n=A.elements;return this.x=n[0]*e+n[3]*t+n[6]*i,this.y=n[1]*e+n[4]*t+n[7]*i,this.z=n[2]*e+n[5]*t+n[8]*i,this},applyMatrix4:function(A){var e=this.x,t=this.y,i=this.z,n=A.elements,o=1/(n[3]*e+n[7]*t+n[11]*i+n[15]);return this.x=(n[0]*e+n[4]*t+n[8]*i+n[12])*o,this.y=(n[1]*e+n[5]*t+n[9]*i+n[13])*o,this.z=(n[2]*e+n[6]*t+n[10]*i+n[14])*o,this},applyQuaternion:function(A){var e=this.x,t=this.y,i=this.z,n=A.x,o=A.y,r=A.z,a=A.w,s=a*e+o*i-r*t,l=a*t+r*e-n*i,c=a*i+n*t-o*e,d=-n*e-o*t-r*i;return this.x=s*a+d*-n+l*-r-c*-o,this.y=l*a+d*-o+c*-n-s*-r,this.z=c*a+d*-r+s*-o-l*-n,this},project:function(A){return this.applyMatrix4(A.matrixWorldInverse).applyMatrix4(A.projectionMatrix)},unproject:function(A){return this.applyMatrix4(A.projectionMatrixInverse).applyMatrix4(A.matrixWorld)},transformDirection:function(A){var e=this.x,t=this.y,i=this.z,n=A.elements;return this.x=n[0]*e+n[4]*t+n[8]*i,this.y=n[1]*e+n[5]*t+n[9]*i,this.z=n[2]*e+n[6]*t+n[10]*i,this.normalize()},divide:function(A){return this.x/=A.x,this.y/=A.y,this.z/=A.z,this},divideScalar:function(A){return this.multiplyScalar(1/A)},min:function(A){return this.x=Math.min(this.x,A.x),this.y=Math.min(this.y,A.y),this.z=Math.min(this.z,A.z),this},max:function(A){return this.x=Math.max(this.x,A.x),this.y=Math.max(this.y,A.y),this.z=Math.max(this.z,A.z),this},clamp:function(A,e){return this.x=Math.max(A.x,Math.min(e.x,this.x)),this.y=Math.max(A.y,Math.min(e.y,this.y)),this.z=Math.max(A.z,Math.min(e.z,this.z)),this},clampScalar:function(A,e){return this.x=Math.max(A,Math.min(e,this.x)),this.y=Math.max(A,Math.min(e,this.y)),this.z=Math.max(A,Math.min(e,this.z)),this},clampLength:function(A,e){var t=this.length();return this.divideScalar(t||1).multiplyScalar(Math.max(A,Math.min(e,t)))},floor:function(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this.z=Math.floor(this.z),this},ceil:function(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this.z=Math.ceil(this.z),this},round:function(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this.z=Math.round(this.z),this},roundToZero:function(){return this.x=this.x<0?Math.ceil(this.x):Math.floor(this.x),this.y=this.y<0?Math.ceil(this.y):Math.floor(this.y),this.z=this.z<0?Math.ceil(this.z):Math.floor(this.z),this},negate:function(){return this.x=-this.x,this.y=-this.y,this.z=-this.z,this},dot:function(A){return this.x*A.x+this.y*A.y+this.z*A.z},lengthSq:function(){return this.x*this.x+this.y*this.y+this.z*this.z},length:function(){return Math.sqrt(this.x*this.x+this.y*this.y+this.z*this.z)},manhattanLength:function(){return Math.abs(this.x)+Math.abs(this.y)+Math.abs(this.z)},normalize:function(){return this.divideScalar(this.length()||1)},setLength:function(A){return this.normalize().multiplyScalar(A)},lerp:function(A,e){return this.x+=(A.x-this.x)*e,this.y+=(A.y-this.y)*e,this.z+=(A.z-this.z)*e,this},lerpVectors:function(A,e,t){return this.subVectors(e,A).multiplyScalar(t).add(A)},cross:function(A,e){return void 0!==e?(console.warn("THREE.Vector3: .cross() now only accepts one argument. Use .crossVectors( a, b ) instead."),this.crossVectors(A,e)):this.crossVectors(this,A)},crossVectors:function(A,e){var t=A.x,i=A.y,n=A.z,o=e.x,r=e.y,a=e.z;return this.x=i*a-n*r,this.y=n*o-t*a,this.z=t*r-i*o,this},projectOnVector:function(A){var e=A.dot(this)/A.lengthSq();return this.copy(A).multiplyScalar(e)},projectOnPlane:(o=new Ue,function(A){return o.copy(this).projectOnVector(A),this.sub(o)}),reflect:(n=new Ue,function(A){return this.sub(n.copy(A).multiplyScalar(2*this.dot(A)))}),angleTo:function(A){var e=this.dot(A)/Math.sqrt(this.lengthSq()*A.lengthSq());return Math.acos(Fe.clamp(e,-1,1))},distanceTo:function(A){return Math.sqrt(this.distanceToSquared(A))},distanceToSquared:function(A){var e=this.x-A.x,t=this.y-A.y,i=this.z-A.z;return e*e+t*t+i*i},manhattanDistanceTo:function(A){return Math.abs(this.x-A.x)+Math.abs(this.y-A.y)+Math.abs(this.z-A.z)},setFromSpherical:function(A){return this.setFromSphericalCoords(A.radius,A.phi,A.theta)},setFromSphericalCoords:function(A,e,t){var i=Math.sin(e)*A;return this.x=i*Math.sin(t),this.y=Math.cos(e)*A,this.z=i*Math.cos(t),this},setFromCylindrical:function(A){return this.setFromCylindricalCoords(A.radius,A.theta,A.y)},setFromCylindricalCoords:function(A,e,t){return this.x=A*Math.sin(e),this.y=t,this.z=A*Math.cos(e),this},setFromMatrixPosition:function(A){var e=A.elements;return this.x=e[12],this.y=e[13],this.z=e[14],this},setFromMatrixScale:function(A){var e=this.setFromMatrixColumn(A,0).length(),t=this.setFromMatrixColumn(A,1).length(),i=this.setFromMatrixColumn(A,2).length();return this.x=e,this.y=t,this.z=i,this},setFromMatrixColumn:function(A,e){return this.fromArray(A.elements,4*e)},equals:function(A){return A.x===this.x&&A.y===this.y&&A.z===this.z},fromArray:function(A,e){return void 0===e&&(e=0),this.x=A[e],this.y=A[e+1],this.z=A[e+2],this},toArray:function(A,e){return void 0===A&&(A=[]),void 0===e&&(e=0),A[e]=this.x,A[e+1]=this.y,A[e+2]=this.z,A},fromBufferAttribute:function(A,e,t){return void 0!==t&&console.warn("THREE.Vector3: offset has been removed from .fromBufferAttribute()."),this.x=A.getX(e),this.y=A.getY(e),this.z=A.getZ(e),this}}),Object.assign(Ne.prototype,{isMatrix3:!0,set:function(A,e,t,i,n,o,r,a,s){var l=this.elements;return l[0]=A,l[1]=i,l[2]=r,l[3]=e,l[4]=n,l[5]=a,l[6]=t,l[7]=o,l[8]=s,this},identity:function(){return this.set(1,0,0,0,1,0,0,0,1),this},clone:function(){return(new this.constructor).fromArray(this.elements)},copy:function(A){var e=this.elements,t=A.elements;return e[0]=t[0],e[1]=t[1],e[2]=t[2],e[3]=t[3],e[4]=t[4],e[5]=t[5],e[6]=t[6],e[7]=t[7],e[8]=t[8],this},setFromMatrix4:function(A){var e=A.elements;return this.set(e[0],e[4],e[8],e[1],e[5],e[9],e[2],e[6],e[10]),this},applyToBufferAttribute:function(A){void 0===s&&(s=new Ue);for(var e=0,t=A.count;e<t;e++)s.x=A.getX(e),s.y=A.getY(e),s.z=A.getZ(e),s.applyMatrix3(this),A.setXYZ(e,s.x,s.y,s.z);return A},multiply:function(A){return this.multiplyMatrices(this,A)},premultiply:function(A){return this.multiplyMatrices(A,this)},multiplyMatrices:function(A,e){var t=A.elements,i=e.elements,n=this.elements,o=t[0],r=t[3],a=t[6],s=t[1],l=t[4],c=t[7],d=t[2],h=t[5],u=t[8],p=i[0],g=i[3],f=i[6],m=i[1],v=i[4],y=i[7],C=i[2],I=i[5],x=i[8];return n[0]=o*p+r*m+a*C,n[3]=o*g+r*v+a*I,n[6]=o*f+r*y+a*x,n[1]=s*p+l*m+c*C,n[4]=s*g+l*v+c*I,n[7]=s*f+l*y+c*x,n[2]=d*p+h*m+u*C,n[5]=d*g+h*v+u*I,n[8]=d*f+h*y+u*x,this},multiplyScalar:function(A){var e=this.elements;return e[0]*=A,e[3]*=A,e[6]*=A,e[1]*=A,e[4]*=A,e[7]*=A,e[2]*=A,e[5]*=A,e[8]*=A,this},determinant:function(){var A=this.elements,e=A[0],t=A[1],i=A[2],n=A[3],o=A[4],r=A[5],a=A[6],s=A[7],l=A[8];return e*o*l-e*r*s-t*n*l+t*r*a+i*n*s-i*o*a},getInverse:function(A,e){A&&A.isMatrix4&&console.error("THREE.Matrix3: .getInverse() no longer takes a Matrix4 argument.");var t=A.elements,i=this.elements,n=t[0],o=t[1],r=t[2],a=t[3],s=t[4],l=t[5],c=t[6],d=t[7],h=t[8],u=h*s-l*d,p=l*c-h*a,g=d*a-s*c,f=n*u+o*p+r*g;if(0===f){var m="THREE.Matrix3: .getInverse() can't invert matrix, determinant is 0";if(!0===e)throw new Error(m);return console.warn(m),this.identity()}var v=1/f;return i[0]=u*v,i[1]=(r*d-h*o)*v,i[2]=(l*o-r*s)*v,i[3]=p*v,i[4]=(h*n-r*c)*v,i[5]=(r*a-l*n)*v,i[6]=g*v,i[7]=(o*c-d*n)*v,i[8]=(s*n-o*a)*v,this},transpose:function(){var A,e=this.elements;return A=e[1],e[1]=e[3],e[3]=A,A=e[2],e[2]=e[6],e[6]=A,A=e[5],e[5]=e[7],e[7]=A,this},getNormalMatrix:function(A){return this.setFromMatrix4(A).getInverse(this).transpose()},transposeIntoArray:function(A){var e=this.elements;return A[0]=e[0],A[1]=e[3],A[2]=e[6],A[3]=e[1],A[4]=e[4],A[5]=e[7],A[6]=e[2],A[7]=e[5],A[8]=e[8],this},setUvTransform:function(A,e,t,i,n,o,r){var a=Math.cos(n),s=Math.sin(n);this.set(t*a,t*s,-t*(a*o+s*r)+o+A,-i*s,i*a,-i*(-s*o+a*r)+r+e,0,0,1)},scale:function(A,e){var t=this.elements;return t[0]*=A,t[3]*=A,t[6]*=A,t[1]*=e,t[4]*=e,t[7]*=e,this},rotate:function(A){var e=Math.cos(A),t=Math.sin(A),i=this.elements,n=i[0],o=i[3],r=i[6],a=i[1],s=i[4],l=i[7];return i[0]=e*n+t*a,i[3]=e*o+t*s,i[6]=e*r+t*l,i[1]=-t*n+e*a,i[4]=-t*o+e*s,i[7]=-t*r+e*l,this},translate:function(A,e){var t=this.elements;return t[0]+=A*t[2],t[3]+=A*t[5],t[6]+=A*t[8],t[1]+=e*t[2],t[4]+=e*t[5],t[7]+=e*t[8],this},equals:function(A){for(var e=this.elements,t=A.elements,i=0;i<9;i++)if(e[i]!==t[i])return!1;return!0},fromArray:function(A,e){void 0===e&&(e=0);for(var t=0;t<9;t++)this.elements[t]=A[t+e];return this},toArray:function(A,e){void 0===A&&(A=[]),void 0===e&&(e=0);var t=this.elements;return A[e]=t[0],A[e+1]=t[1],A[e+2]=t[2],A[e+3]=t[3],A[e+4]=t[4],A[e+5]=t[5],A[e+6]=t[6],A[e+7]=t[7],A[e+8]=t[8],A}});var Re,Pe,De,Qe,ke,ze,Ve,He,Ge,je,We,qe={getDataURL:function(A){var e;if("undefined"==typeof HTMLCanvasElement)return A.src;if(A instanceof HTMLCanvasElement)e=A;else{void 0===l&&(l=document.createElementNS("http://www.w3.org/1999/xhtml","canvas")),l.width=A.width,l.height=A.height;var t=l.getContext("2d");A instanceof ImageData?t.putImageData(A,0,0):t.drawImage(A,0,0,A.width,A.height),e=l}return 2048<e.width||2048<e.height?e.toDataURL("image/jpeg",.6):e.toDataURL("image/png")}},Xe=0;function Ye(A,e,t,i,n,o,r,a,s,l){Object.defineProperty(this,"id",{value:Xe++}),this.uuid=Fe.generateUUID(),this.name="",this.image=void 0!==A?A:Ye.DEFAULT_IMAGE,this.mipmaps=[],this.mapping=void 0!==e?e:Ye.DEFAULT_MAPPING,this.wrapS=void 0!==t?t:L,this.wrapT=void 0!==i?i:L,this.magFilter=void 0!==n?n:P,this.minFilter=void 0!==o?o:T,this.anisotropy=void 0!==s?s:1,this.format=void 0!==r?r:RA,this.type=void 0!==a?a:BA,this.offset=new Le(0,0),this.repeat=new Le(1,1),this.center=new Le(0,0),this.rotation=0,this.matrixAutoUpdate=!0,this.matrix=new Ne,this.generateMipmaps=!0,this.premultiplyAlpha=!1,this.flipY=!0,this.unpackAlignment=4,this.encoding=void 0!==l?l:ye,this.version=0,this.onUpdate=null}function Je(A,e,t,i){this.x=A||0,this.y=e||0,this.z=t||0,this.w=void 0!==i?i:1}function Ze(A,e,t){this.width=A,this.height=e,this.scissor=new Je(0,0,A,e),this.scissorTest=!1,this.viewport=new Je(0,0,A,e),this.texture=new Ye(void 0,void 0,(t=t||{}).wrapS,t.wrapT,t.magFilter,t.minFilter,t.format,t.type,t.anisotropy,t.encoding),this.texture.image={},this.texture.image.width=A,this.texture.image.height=e,this.texture.generateMipmaps=void 0!==t.generateMipmaps&&t.generateMipmaps,this.texture.minFilter=void 0!==t.minFilter?t.minFilter:P,this.depthBuffer=void 0===t.depthBuffer||t.depthBuffer,this.stencilBuffer=void 0===t.stencilBuffer||t.stencilBuffer,this.depthTexture=void 0!==t.depthTexture?t.depthTexture:null}function $e(A,e,t){Ze.call(this,A,e,t),this.samples=4}function At(){this.elements=[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1],0<arguments.length&&console.error("THREE.Matrix4: the constructor no longer reads arguments. use .set() instead.")}function et(A,e,t,i){this._x=A||0,this._y=e||0,this._z=t||0,this._order=i||et.DefaultOrder}function tt(){this.mask=1}Ye.DEFAULT_IMAGE=void 0,Ye.DEFAULT_MAPPING=300,Ye.prototype=Object.assign(Object.create(t.prototype),{constructor:Ye,isTexture:!0,updateMatrix:function(){this.matrix.setUvTransform(this.offset.x,this.offset.y,this.repeat.x,this.repeat.y,this.rotation,this.center.x,this.center.y)},clone:function(){return(new this.constructor).copy(this)},copy:function(A){return this.name=A.name,this.image=A.image,this.mipmaps=A.mipmaps.slice(0),this.mapping=A.mapping,this.wrapS=A.wrapS,this.wrapT=A.wrapT,this.magFilter=A.magFilter,this.minFilter=A.minFilter,this.anisotropy=A.anisotropy,this.format=A.format,this.type=A.type,this.offset.copy(A.offset),this.repeat.copy(A.repeat),this.center.copy(A.center),this.rotation=A.rotation,this.matrixAutoUpdate=A.matrixAutoUpdate,this.matrix.copy(A.matrix),this.generateMipmaps=A.generateMipmaps,this.premultiplyAlpha=A.premultiplyAlpha,this.flipY=A.flipY,this.unpackAlignment=A.unpackAlignment,this.encoding=A.encoding,this},toJSON:function(A){var e=void 0===A||"string"==typeof A;if(!e&&void 0!==A.textures[this.uuid])return A.textures[this.uuid];var t={metadata:{version:4.5,type:"Texture",generator:"Texture.toJSON"},uuid:this.uuid,name:this.name,mapping:this.mapping,repeat:[this.repeat.x,this.repeat.y],offset:[this.offset.x,this.offset.y],center:[this.center.x,this.center.y],rotation:this.rotation,wrap:[this.wrapS,this.wrapT],format:this.format,type:this.type,encoding:this.encoding,minFilter:this.minFilter,magFilter:this.magFilter,anisotropy:this.anisotropy,flipY:this.flipY,premultiplyAlpha:this.premultiplyAlpha,unpackAlignment:this.unpackAlignment};if(void 0!==this.image){var i=this.image;if(void 0===i.uuid&&(i.uuid=Fe.generateUUID()),!e&&void 0===A.images[i.uuid]){var n;if(Array.isArray(i)){n=[];for(var o=0,r=i.length;o<r;o++)n.push(qe.getDataURL(i[o]))}else n=qe.getDataURL(i);A.images[i.uuid]={uuid:i.uuid,url:n}}t.image=i.uuid}return e||(A.textures[this.uuid]=t),t},dispose:function(){this.dispatchEvent({type:"dispose"})},transformUv:function(A){if(300!==this.mapping)return A;if(A.applyMatrix3(this.matrix),A.x<0||1<A.x)switch(this.wrapS){case B:A.x=A.x-Math.floor(A.x);break;case L:A.x=A.x<0?0:1;break;case _:A.x=1===Math.abs(Math.floor(A.x)%2)?Math.ceil(A.x)-A.x:A.x-Math.floor(A.x)}if(A.y<0||1<A.y)switch(this.wrapT){case B:A.y=A.y-Math.floor(A.y);break;case L:A.y=A.y<0?0:1;break;case _:A.y=1===Math.abs(Math.floor(A.y)%2)?Math.ceil(A.y)-A.y:A.y-Math.floor(A.y)}return this.flipY&&(A.y=1-A.y),A}}),Object.defineProperty(Ye.prototype,"needsUpdate",{set:function(A){!0===A&&this.version++}}),Object.defineProperties(Je.prototype,{width:{get:function(){return this.z},set:function(A){this.z=A}},height:{get:function(){return this.w},set:function(A){this.w=A}}}),Object.assign(Je.prototype,{isVector4:!0,set:function(A,e,t,i){return this.x=A,this.y=e,this.z=t,this.w=i,this},setScalar:function(A){return this.x=A,this.y=A,this.z=A,this.w=A,this},setX:function(A){return this.x=A,this},setY:function(A){return this.y=A,this},setZ:function(A){return this.z=A,this},setW:function(A){return this.w=A,this},setComponent:function(A,e){switch(A){case 0:this.x=e;break;case 1:this.y=e;break;case 2:this.z=e;break;case 3:this.w=e;break;default:throw new Error("index is out of range: "+A)}return this},getComponent:function(A){switch(A){case 0:return this.x;case 1:return this.y;case 2:return this.z;case 3:return this.w;default:throw new Error("index is out of range: "+A)}},clone:function(){return new this.constructor(this.x,this.y,this.z,this.w)},copy:function(A){return this.x=A.x,this.y=A.y,this.z=A.z,this.w=void 0!==A.w?A.w:1,this},add:function(A,e){return void 0!==e?(console.warn("THREE.Vector4: .add() now only accepts one argument. Use .addVectors( a, b ) instead."),this.addVectors(A,e)):(this.x+=A.x,this.y+=A.y,this.z+=A.z,this.w+=A.w,this)},addScalar:function(A){return this.x+=A,this.y+=A,this.z+=A,this.w+=A,this},addVectors:function(A,e){return this.x=A.x+e.x,this.y=A.y+e.y,this.z=A.z+e.z,this.w=A.w+e.w,this},addScaledVector:function(A,e){return this.x+=A.x*e,this.y+=A.y*e,this.z+=A.z*e,this.w+=A.w*e,this},sub:function(A,e){return void 0!==e?(console.warn("THREE.Vector4: .sub() now only accepts one argument. Use .subVectors( a, b ) instead."),this.subVectors(A,e)):(this.x-=A.x,this.y-=A.y,this.z-=A.z,this.w-=A.w,this)},subScalar:function(A){return this.x-=A,this.y-=A,this.z-=A,this.w-=A,this},subVectors:function(A,e){return this.x=A.x-e.x,this.y=A.y-e.y,this.z=A.z-e.z,this.w=A.w-e.w,this},multiplyScalar:function(A){return this.x*=A,this.y*=A,this.z*=A,this.w*=A,this},applyMatrix4:function(A){var e=this.x,t=this.y,i=this.z,n=this.w,o=A.elements;return this.x=o[0]*e+o[4]*t+o[8]*i+o[12]*n,this.y=o[1]*e+o[5]*t+o[9]*i+o[13]*n,this.z=o[2]*e+o[6]*t+o[10]*i+o[14]*n,this.w=o[3]*e+o[7]*t+o[11]*i+o[15]*n,this},divideScalar:function(A){return this.multiplyScalar(1/A)},setAxisAngleFromQuaternion:function(A){this.w=2*Math.acos(A.w);var e=Math.sqrt(1-A.w*A.w);return this.z=e<1e-4?(this.x=1,this.y=0):(this.x=A.x/e,this.y=A.y/e,A.z/e),this},setAxisAngleFromRotationMatrix:function(A){var e,t,i,n,o=A.elements,r=o[0],a=o[4],s=o[8],l=o[1],c=o[5],d=o[9],h=o[2],u=o[6],p=o[10];if(Math.abs(a-l)<.01&&Math.abs(s-h)<.01&&Math.abs(d-u)<.01){if(Math.abs(a+l)<.1&&Math.abs(s+h)<.1&&Math.abs(d+u)<.1&&Math.abs(r+c+p-3)<.1)return this.set(1,0,0,0),this;e=Math.PI;var g=(r+1)/2,f=(c+1)/2,m=(p+1)/2,v=(a+l)/4,y=(s+h)/4,C=(d+u)/4;return f<g&&m<g?n=g<.01?(t=0,i=.707106781):(i=v/(t=Math.sqrt(g)),y/t):m<f?n=f<.01?(i=0,t=.707106781):(t=v/(i=Math.sqrt(f)),C/i):m<.01?(i=t=.707106781,n=0):(t=y/(n=Math.sqrt(m)),i=C/n),this.set(t,i,n,e),this}var I=Math.sqrt((u-d)*(u-d)+(s-h)*(s-h)+(l-a)*(l-a));return Math.abs(I)<.001&&(I=1),this.x=(u-d)/I,this.y=(s-h)/I,this.z=(l-a)/I,this.w=Math.acos((r+c+p-1)/2),this},min:function(A){return this.x=Math.min(this.x,A.x),this.y=Math.min(this.y,A.y),this.z=Math.min(this.z,A.z),this.w=Math.min(this.w,A.w),this},max:function(A){return this.x=Math.max(this.x,A.x),this.y=Math.max(this.y,A.y),this.z=Math.max(this.z,A.z),this.w=Math.max(this.w,A.w),this},clamp:function(A,e){return this.x=Math.max(A.x,Math.min(e.x,this.x)),this.y=Math.max(A.y,Math.min(e.y,this.y)),this.z=Math.max(A.z,Math.min(e.z,this.z)),this.w=Math.max(A.w,Math.min(e.w,this.w)),this},clampScalar:function(A,e){return this.x=Math.max(A,Math.min(e,this.x)),this.y=Math.max(A,Math.min(e,this.y)),this.z=Math.max(A,Math.min(e,this.z)),this.w=Math.max(A,Math.min(e,this.w)),this},clampLength:function(A,e){var t=this.length();return this.divideScalar(t||1).multiplyScalar(Math.max(A,Math.min(e,t)))},floor:function(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this.z=Math.floor(this.z),this.w=Math.floor(this.w),this},ceil:function(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this.z=Math.ceil(this.z),this.w=Math.ceil(this.w),this},round:function(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this.z=Math.round(this.z),this.w=Math.round(this.w),this},roundToZero:function(){return this.x=this.x<0?Math.ceil(this.x):Math.floor(this.x),this.y=this.y<0?Math.ceil(this.y):Math.floor(this.y),this.z=this.z<0?Math.ceil(this.z):Math.floor(this.z),this.w=this.w<0?Math.ceil(this.w):Math.floor(this.w),this},negate:function(){return this.x=-this.x,this.y=-this.y,this.z=-this.z,this.w=-this.w,this},dot:function(A){return this.x*A.x+this.y*A.y+this.z*A.z+this.w*A.w},lengthSq:function(){return this.x*this.x+this.y*this.y+this.z*this.z+this.w*this.w},length:function(){return Math.sqrt(this.x*this.x+this.y*this.y+this.z*this.z+this.w*this.w)},manhattanLength:function(){return Math.abs(this.x)+Math.abs(this.y)+Math.abs(this.z)+Math.abs(this.w)},normalize:function(){return this.divideScalar(this.length()||1)},setLength:function(A){return this.normalize().multiplyScalar(A)},lerp:function(A,e){return this.x+=(A.x-this.x)*e,this.y+=(A.y-this.y)*e,this.z+=(A.z-this.z)*e,this.w+=(A.w-this.w)*e,this},lerpVectors:function(A,e,t){return this.subVectors(e,A).multiplyScalar(t).add(A)},equals:function(A){return A.x===this.x&&A.y===this.y&&A.z===this.z&&A.w===this.w},fromArray:function(A,e){return void 0===e&&(e=0),this.x=A[e],this.y=A[e+1],this.z=A[e+2],this.w=A[e+3],this},toArray:function(A,e){return void 0===A&&(A=[]),void 0===e&&(e=0),A[e]=this.x,A[e+1]=this.y,A[e+2]=this.z,A[e+3]=this.w,A},fromBufferAttribute:function(A,e,t){return void 0!==t&&console.warn("THREE.Vector4: offset has been removed from .fromBufferAttribute()."),this.x=A.getX(e),this.y=A.getY(e),this.z=A.getZ(e),this.w=A.getW(e),this}}),Ze.prototype=Object.assign(Object.create(t.prototype),{constructor:Ze,isWebGLRenderTarget:!0,setSize:function(A,e){this.width===A&&this.height===e||(this.width=A,this.height=e,this.texture.image.width=A,this.texture.image.height=e,this.dispose()),this.viewport.set(0,0,A,e),this.scissor.set(0,0,A,e)},clone:function(){return(new this.constructor).copy(this)},copy:function(A){return this.width=A.width,this.height=A.height,this.viewport.copy(A.viewport),this.texture=A.texture.clone(),this.depthBuffer=A.depthBuffer,this.stencilBuffer=A.stencilBuffer,this.depthTexture=A.depthTexture,this},dispose:function(){this.dispatchEvent({type:"dispose"})}}),$e.prototype=Object.assign(Object.create(Ze.prototype),{constructor:$e,isWebGLMultisampleRenderTarget:!0,copy:function(A){return Ze.prototype.copy.call(this,A),this.samples=A.samples,this}}),Object.assign(At.prototype,{isMatrix4:!0,set:function(A,e,t,i,n,o,r,a,s,l,c,d,h,u,p,g){var f=this.elements;return f[0]=A,f[4]=e,f[8]=t,f[12]=i,f[1]=n,f[5]=o,f[9]=r,f[13]=a,f[2]=s,f[6]=l,f[10]=c,f[14]=d,f[3]=h,f[7]=u,f[11]=p,f[15]=g,this},identity:function(){return this.set(1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1),this},clone:function(){return(new At).fromArray(this.elements)},copy:function(A){var e=this.elements,t=A.elements;return e[0]=t[0],e[1]=t[1],e[2]=t[2],e[3]=t[3],e[4]=t[4],e[5]=t[5],e[6]=t[6],e[7]=t[7],e[8]=t[8],e[9]=t[9],e[10]=t[10],e[11]=t[11],e[12]=t[12],e[13]=t[13],e[14]=t[14],e[15]=t[15],this},copyPosition:function(A){var e=this.elements,t=A.elements;return e[12]=t[12],e[13]=t[13],e[14]=t[14],this},extractBasis:function(A,e,t){return A.setFromMatrixColumn(this,0),e.setFromMatrixColumn(this,1),t.setFromMatrixColumn(this,2),this},makeBasis:function(A,e,t){return this.set(A.x,e.x,t.x,0,A.y,e.y,t.y,0,A.z,e.z,t.z,0,0,0,0,1),this},extractRotation:(Ge=new Ue,function(A){var e=this.elements,t=A.elements,i=1/Ge.setFromMatrixColumn(A,0).length(),n=1/Ge.setFromMatrixColumn(A,1).length(),o=1/Ge.setFromMatrixColumn(A,2).length();return e[0]=t[0]*i,e[1]=t[1]*i,e[2]=t[2]*i,e[3]=0,e[4]=t[4]*n,e[5]=t[5]*n,e[6]=t[6]*n,e[7]=0,e[8]=t[8]*o,e[9]=t[9]*o,e[10]=t[10]*o,e[11]=0,e[12]=0,e[13]=0,e[14]=0,e[15]=1,this}),makeRotationFromEuler:function(A){A&&A.isEuler||console.error("THREE.Matrix4: .makeRotationFromEuler() now expects a Euler rotation rather than a Vector3 and order.");var e=this.elements,t=A.x,i=A.y,n=A.z,o=Math.cos(t),r=Math.sin(t),a=Math.cos(i),s=Math.sin(i),l=Math.cos(n),c=Math.sin(n);if("XYZ"===A.order){var d=o*l,h=o*c,u=r*l,p=r*c;e[0]=a*l,e[4]=-a*c,e[8]=s,e[1]=h+u*s,e[5]=d-p*s,e[9]=-r*a,e[2]=p-d*s,e[6]=u+h*s,e[10]=o*a}else if("YXZ"===A.order){var g=a*c,f=s*l;e[0]=(m=a*l)+(v=s*c)*r,e[4]=f*r-g,e[8]=o*s,e[1]=o*c,e[5]=o*l,e[9]=-r,e[2]=g*r-f,e[6]=v+m*r,e[10]=o*a}else if("ZXY"===A.order){var m,v;g=a*c,f=s*l;e[0]=(m=a*l)-(v=s*c)*r,e[4]=-o*c,e[8]=f+g*r,e[1]=g+f*r,e[5]=o*l,e[9]=v-m*r,e[2]=-o*s,e[6]=r,e[10]=o*a}else if("ZYX"===A.order){d=o*l,h=o*c,u=r*l,p=r*c;e[0]=a*l,e[4]=u*s-h,e[8]=d*s+p,e[1]=a*c,e[5]=p*s+d,e[9]=h*s-u,e[2]=-s,e[6]=r*a,e[10]=o*a}else if("YZX"===A.order){var y=o*a,C=o*s,I=r*a,x=r*s;e[0]=a*l,e[4]=x-y*c,e[8]=I*c+C,e[1]=c,e[5]=o*l,e[9]=-r*l,e[2]=-s*l,e[6]=C*c+I,e[10]=y-x*c}else if("XZY"===A.order){y=o*a,C=o*s,I=r*a,x=r*s;e[0]=a*l,e[4]=-c,e[8]=s*l,e[1]=y*c+x,e[5]=o*l,e[9]=C*c-I,e[2]=I*c-C,e[6]=r*l,e[10]=x*c+y}return e[3]=0,e[7]=0,e[11]=0,e[12]=0,e[13]=0,e[14]=0,e[15]=1,this},makeRotationFromQuaternion:(Ve=new Ue(0,0,0),He=new Ue(1,1,1),function(A){return this.compose(Ve,A,He)}),lookAt:(Qe=new Ue,ke=new Ue,ze=new Ue,function(A,e,t){var i=this.elements;return ze.subVectors(A,e),0===ze.lengthSq()&&(ze.z=1),ze.normalize(),Qe.crossVectors(t,ze),0===Qe.lengthSq()&&(1===Math.abs(t.z)?ze.x+=1e-4:ze.z+=1e-4,ze.normalize(),Qe.crossVectors(t,ze)),Qe.normalize(),ke.crossVectors(ze,Qe),i[0]=Qe.x,i[4]=ke.x,i[8]=ze.x,i[1]=Qe.y,i[5]=ke.y,i[9]=ze.y,i[2]=Qe.z,i[6]=ke.z,i[10]=ze.z,this}),multiply:function(A,e){return void 0!==e?(console.warn("THREE.Matrix4: .multiply() now only accepts one argument. Use .multiplyMatrices( a, b ) instead."),this.multiplyMatrices(A,e)):this.multiplyMatrices(this,A)},premultiply:function(A){return this.multiplyMatrices(A,this)},multiplyMatrices:function(A,e){var t=A.elements,i=e.elements,n=this.elements,o=t[0],r=t[4],a=t[8],s=t[12],l=t[1],c=t[5],d=t[9],h=t[13],u=t[2],p=t[6],g=t[10],f=t[14],m=t[3],v=t[7],y=t[11],C=t[15],I=i[0],x=i[4],b=i[8],E=i[12],w=i[1],M=i[5],B=i[9],_=i[13],S=i[2],T=i[6],K=i[10],F=i[14],L=i[3],O=i[7],U=i[11],N=i[15];return n[0]=o*I+r*w+a*S+s*L,n[4]=o*x+r*M+a*T+s*O,n[8]=o*b+r*B+a*K+s*U,n[12]=o*E+r*_+a*F+s*N,n[1]=l*I+c*w+d*S+h*L,n[5]=l*x+c*M+d*T+h*O,n[9]=l*b+c*B+d*K+h*U,n[13]=l*E+c*_+d*F+h*N,n[2]=u*I+p*w+g*S+f*L,n[6]=u*x+p*M+g*T+f*O,n[10]=u*b+p*B+g*K+f*U,n[14]=u*E+p*_+g*F+f*N,n[3]=m*I+v*w+y*S+C*L,n[7]=m*x+v*M+y*T+C*O,n[11]=m*b+v*B+y*K+C*U,n[15]=m*E+v*_+y*F+C*N,this},multiplyScalar:function(A){var e=this.elements;return e[0]*=A,e[4]*=A,e[8]*=A,e[12]*=A,e[1]*=A,e[5]*=A,e[9]*=A,e[13]*=A,e[2]*=A,e[6]*=A,e[10]*=A,e[14]*=A,e[3]*=A,e[7]*=A,e[11]*=A,e[15]*=A,this},applyToBufferAttribute:(De=new Ue,function(A){for(var e=0,t=A.count;e<t;e++)De.x=A.getX(e),De.y=A.getY(e),De.z=A.getZ(e),De.applyMatrix4(this),A.setXYZ(e,De.x,De.y,De.z);return A}),determinant:function(){var A=this.elements,e=A[0],t=A[4],i=A[8],n=A[12],o=A[1],r=A[5],a=A[9],s=A[13],l=A[2],c=A[6],d=A[10],h=A[14];return A[3]*(+n*a*c-i*s*c-n*r*d+t*s*d+i*r*h-t*a*h)+A[7]*(+e*a*h-e*s*d+n*o*d-i*o*h+i*s*l-n*a*l)+A[11]*(+e*s*c-e*r*h-n*o*c+t*o*h+n*r*l-t*s*l)+A[15]*(-i*r*l-e*a*c+e*r*d+i*o*c-t*o*d+t*a*l)},transpose:function(){var A,e=this.elements;return A=e[1],e[1]=e[4],e[4]=A,A=e[2],e[2]=e[8],e[8]=A,A=e[6],e[6]=e[9],e[9]=A,A=e[3],e[3]=e[12],e[12]=A,A=e[7],e[7]=e[13],e[13]=A,A=e[11],e[11]=e[14],e[14]=A,this},setPosition:function(A,e,t){var i=this.elements;return i[14]=A.isVector3?(i[12]=A.x,i[13]=A.y,A.z):(i[12]=A,i[13]=e,t),this},getInverse:function(A,e){var t=this.elements,i=A.elements,n=i[0],o=i[1],r=i[2],a=i[3],s=i[4],l=i[5],c=i[6],d=i[7],h=i[8],u=i[9],p=i[10],g=i[11],f=i[12],m=i[13],v=i[14],y=i[15],C=u*v*d-m*p*d+m*c*g-l*v*g-u*c*y+l*p*y,I=f*p*d-h*v*d-f*c*g+s*v*g+h*c*y-s*p*y,x=h*m*d-f*u*d+f*l*g-s*m*g-h*l*y+s*u*y,b=f*u*c-h*m*c-f*l*p+s*m*p+h*l*v-s*u*v,E=n*C+o*I+r*x+a*b;if(0===E){var w="THREE.Matrix4: .getInverse() can't invert matrix, determinant is 0";if(!0===e)throw new Error(w);return console.warn(w),this.identity()}var M=1/E;return t[0]=C*M,t[1]=(m*p*a-u*v*a-m*r*g+o*v*g+u*r*y-o*p*y)*M,t[2]=(l*v*a-m*c*a+m*r*d-o*v*d-l*r*y+o*c*y)*M,t[3]=(u*c*a-l*p*a-u*r*d+o*p*d+l*r*g-o*c*g)*M,t[4]=I*M,t[5]=(h*v*a-f*p*a+f*r*g-n*v*g-h*r*y+n*p*y)*M,t[6]=(f*c*a-s*v*a-f*r*d+n*v*d+s*r*y-n*c*y)*M,t[7]=(s*p*a-h*c*a+h*r*d-n*p*d-s*r*g+n*c*g)*M,t[8]=x*M,t[9]=(f*u*a-h*m*a-f*o*g+n*m*g+h*o*y-n*u*y)*M,t[10]=(s*m*a-f*l*a+f*o*d-n*m*d-s*o*y+n*l*y)*M,t[11]=(h*l*a-s*u*a-h*o*d+n*u*d+s*o*g-n*l*g)*M,t[12]=b*M,t[13]=(h*m*r-f*u*r+f*o*p-n*m*p-h*o*v+n*u*v)*M,t[14]=(f*l*r-s*m*r-f*o*c+n*m*c+s*o*v-n*l*v)*M,t[15]=(s*u*r-h*l*r+h*o*c-n*u*c-s*o*p+n*l*p)*M,this},scale:function(A){var e=this.elements,t=A.x,i=A.y,n=A.z;return e[0]*=t,e[4]*=i,e[8]*=n,e[1]*=t,e[5]*=i,e[9]*=n,e[2]*=t,e[6]*=i,e[10]*=n,e[3]*=t,e[7]*=i,e[11]*=n,this},getMaxScaleOnAxis:function(){var A=this.elements;return Math.sqrt(Math.max(A[0]*A[0]+A[1]*A[1]+A[2]*A[2],A[4]*A[4]+A[5]*A[5]+A[6]*A[6],A[8]*A[8]+A[9]*A[9]+A[10]*A[10]))},makeTranslation:function(A,e,t){return this.set(1,0,0,A,0,1,0,e,0,0,1,t,0,0,0,1),this},makeRotationX:function(A){var e=Math.cos(A),t=Math.sin(A);return this.set(1,0,0,0,0,e,-t,0,0,t,e,0,0,0,0,1),this},makeRotationY:function(A){var e=Math.cos(A),t=Math.sin(A);return this.set(e,0,t,0,0,1,0,0,-t,0,e,0,0,0,0,1),this},makeRotationZ:function(A){var e=Math.cos(A),t=Math.sin(A);return this.set(e,-t,0,0,t,e,0,0,0,0,1,0,0,0,0,1),this},makeRotationAxis:function(A,e){var t=Math.cos(e),i=Math.sin(e),n=1-t,o=A.x,r=A.y,a=A.z,s=n*o,l=n*r;return this.set(s*o+t,s*r-i*a,s*a+i*r,0,s*r+i*a,l*r+t,l*a-i*o,0,s*a-i*r,l*a+i*o,n*a*a+t,0,0,0,0,1),this},makeScale:function(A,e,t){return this.set(A,0,0,0,0,e,0,0,0,0,t,0,0,0,0,1),this},makeShear:function(A,e,t){return this.set(1,e,t,0,A,1,t,0,A,e,1,0,0,0,0,1),this},compose:function(A,e,t){var i=this.elements,n=e._x,o=e._y,r=e._z,a=e._w,s=n+n,l=o+o,c=r+r,d=n*s,h=n*l,u=n*c,p=o*l,g=o*c,f=r*c,m=a*s,v=a*l,y=a*c,C=t.x,I=t.y,x=t.z;return i[0]=(1-(p+f))*C,i[1]=(h+y)*C,i[2]=(u-v)*C,i[3]=0,i[4]=(h-y)*I,i[5]=(1-(d+f))*I,i[6]=(g+m)*I,i[7]=0,i[8]=(u+v)*x,i[9]=(g-m)*x,i[10]=(1-(d+p))*x,i[11]=0,i[12]=A.x,i[13]=A.y,i[14]=A.z,i[15]=1,this},decompose:(Re=new Ue,Pe=new At,function(A,e,t){var i=this.elements,n=Re.set(i[0],i[1],i[2]).length(),o=Re.set(i[4],i[5],i[6]).length(),r=Re.set(i[8],i[9],i[10]).length();this.determinant()<0&&(n=-n),A.x=i[12],A.y=i[13],A.z=i[14],Pe.copy(this);var a=1/n,s=1/o,l=1/r;return Pe.elements[0]*=a,Pe.elements[1]*=a,Pe.elements[2]*=a,Pe.elements[4]*=s,Pe.elements[5]*=s,Pe.elements[6]*=s,Pe.elements[8]*=l,Pe.elements[9]*=l,Pe.elements[10]*=l,e.setFromRotationMatrix(Pe),t.x=n,t.y=o,t.z=r,this}),makePerspective:function(A,e,t,i,n,o){void 0===o&&console.warn("THREE.Matrix4: .makePerspective() has been redefined and has a new signature. Please check the docs.");var r=this.elements,a=2*n/(t-i),s=(e+A)/(e-A),l=(t+i)/(t-i),c=-(o+n)/(o-n),d=-2*o*n/(o-n);return r[0]=2*n/(e-A),r[4]=0,r[8]=s,r[12]=0,r[1]=0,r[5]=a,r[9]=l,r[13]=0,r[2]=0,r[6]=0,r[10]=c,r[14]=d,r[3]=0,r[7]=0,r[11]=-1,r[15]=0,this},makeOrthographic:function(A,e,t,i,n,o){var r=this.elements,a=1/(e-A),s=1/(t-i),l=1/(o-n),c=(e+A)*a,d=(t+i)*s,h=(o+n)*l;return r[0]=2*a,r[4]=0,r[8]=0,r[12]=-c,r[1]=0,r[5]=2*s,r[9]=0,r[13]=-d,r[2]=0,r[6]=0,r[10]=-2*l,r[14]=-h,r[3]=0,r[7]=0,r[11]=0,r[15]=1,this},equals:function(A){for(var e=this.elements,t=A.elements,i=0;i<16;i++)if(e[i]!==t[i])return!1;return!0},fromArray:function(A,e){void 0===e&&(e=0);for(var t=0;t<16;t++)this.elements[t]=A[t+e];return this},toArray:function(A,e){void 0===A&&(A=[]),void 0===e&&(e=0);var t=this.elements;return A[e]=t[0],A[e+1]=t[1],A[e+2]=t[2],A[e+3]=t[3],A[e+4]=t[4],A[e+5]=t[5],A[e+6]=t[6],A[e+7]=t[7],A[e+8]=t[8],A[e+9]=t[9],A[e+10]=t[10],A[e+11]=t[11],A[e+12]=t[12],A[e+13]=t[13],A[e+14]=t[14],A[e+15]=t[15],A}}),et.RotationOrders=["XYZ","YZX","ZXY","XZY","YXZ","ZYX"],et.DefaultOrder="XYZ",Object.defineProperties(et.prototype,{x:{get:function(){return this._x},set:function(A){this._x=A,this._onChangeCallback()}},y:{get:function(){return this._y},set:function(A){this._y=A,this._onChangeCallback()}},z:{get:function(){return this._z},set:function(A){this._z=A,this._onChangeCallback()}},order:{get:function(){return this._order},set:function(A){this._order=A,this._onChangeCallback()}}}),Object.assign(et.prototype,{isEuler:!0,set:function(A,e,t,i){return this._x=A,this._y=e,this._z=t,this._order=i||this._order,this._onChangeCallback(),this},clone:function(){return new this.constructor(this._x,this._y,this._z,this._order)},copy:function(A){return this._x=A._x,this._y=A._y,this._z=A._z,this._order=A._order,this._onChangeCallback(),this},setFromRotationMatrix:function(A,e,t){var i=Fe.clamp,n=A.elements,o=n[0],r=n[4],a=n[8],s=n[1],l=n[5],c=n[9],d=n[2],h=n[6],u=n[10];return"XYZ"===(e=e||this._order)?(this._y=Math.asin(i(a,-1,1)),this._z=Math.abs(a)<.99999?(this._x=Math.atan2(-c,u),Math.atan2(-r,o)):(this._x=Math.atan2(h,l),0)):"YXZ"===e?(this._x=Math.asin(-i(c,-1,1)),this._z=Math.abs(c)<.99999?(this._y=Math.atan2(a,u),Math.atan2(s,l)):(this._y=Math.atan2(-d,o),0)):"ZXY"===e?(this._x=Math.asin(i(h,-1,1)),this._z=Math.abs(h)<.99999?(this._y=Math.atan2(-d,u),Math.atan2(-r,l)):(this._y=0,Math.atan2(s,o))):"ZYX"===e?(this._y=Math.asin(-i(d,-1,1)),this._z=Math.abs(d)<.99999?(this._x=Math.atan2(h,u),Math.atan2(s,o)):(this._x=0,Math.atan2(-r,l))):"YZX"===e?(this._z=Math.asin(i(s,-1,1)),this._y=Math.abs(s)<.99999?(this._x=Math.atan2(-c,l),Math.atan2(-d,o)):(this._x=0,Math.atan2(a,u))):"XZY"===e?(this._z=Math.asin(-i(r,-1,1)),this._y=Math.abs(r)<.99999?(this._x=Math.atan2(h,l),Math.atan2(a,o)):(this._x=Math.atan2(-c,u),0)):console.warn("THREE.Euler: .setFromRotationMatrix() given unsupported order: "+e),this._order=e,!1!==t&&this._onChangeCallback(),this},setFromQuaternion:function(A,e,t){return void 0===je&&(je=new At),je.makeRotationFromQuaternion(A),this.setFromRotationMatrix(je,e,t)},setFromVector3:function(A,e){return this.set(A.x,A.y,A.z,e||this._order)},reorder:function(A){return void 0===We&&(We=new Oe),We.setFromEuler(this),this.setFromQuaternion(We,A)},equals:function(A){return A._x===this._x&&A._y===this._y&&A._z===this._z&&A._order===this._order},fromArray:function(A){return this._x=A[0],this._y=A[1],this._z=A[2],void 0!==A[3]&&(this._order=A[3]),this._onChangeCallback(),this},toArray:function(A,e){return void 0===A&&(A=[]),void 0===e&&(e=0),A[e]=this._x,A[e+1]=this._y,A[e+2]=this._z,A[e+3]=this._order,A},toVector3:function(A){return A?A.set(this._x,this._y,this._z):new Ue(this._x,this._y,this._z)},_onChange:function(A){return this._onChangeCallback=A,this},_onChangeCallback:function(){}}),Object.assign(tt.prototype,{set:function(A){this.mask=1<<A|0},enable:function(A){this.mask|=1<<A|0},toggle:function(A){this.mask^=1<<A|0},disable:function(A){this.mask&=~(1<<A|0)},test:function(A){return 0!=(this.mask&A.mask)}});var it,nt,ot,rt,at,st,lt,ct,dt,ht,ut,pt,gt,ft,mt,vt,yt,Ct,It,xt,bt,Et,wt,Mt,Bt,_t,St,Tt,Kt,Ft,Lt,Ot,Ut,Nt,Rt,Pt,Dt,Qt,kt,zt,Vt,Ht,Gt,jt,Wt,qt,Xt,Yt,Jt,Zt,$t,Ai,ei=0;function ti(){Object.defineProperty(this,"id",{value:ei++}),this.uuid=Fe.generateUUID(),this.name="",this.type="Object3D",this.parent=null,this.children=[],this.up=ti.DefaultUp.clone();var A=new Ue,e=new et,t=new Oe,i=new Ue(1,1,1);e._onChange(function(){t.setFromEuler(e,!1)}),t._onChange(function(){e.setFromQuaternion(t,void 0,!1)}),Object.defineProperties(this,{position:{configurable:!0,enumerable:!0,value:A},rotation:{configurable:!0,enumerable:!0,value:e},quaternion:{configurable:!0,enumerable:!0,value:t},scale:{configurable:!0,enumerable:!0,value:i},modelViewMatrix:{value:new At},normalMatrix:{value:new Ne}}),this.matrix=new At,this.matrixWorld=new At,this.matrixAutoUpdate=ti.DefaultMatrixAutoUpdate,this.matrixWorldNeedsUpdate=!1,this.layers=new tt,this.visible=!0,this.castShadow=!1,this.receiveShadow=!1,this.frustumCulled=!0,this.renderOrder=0,this.userData={}}function ii(){ti.call(this),this.type="Scene",this.background=null,this.fog=null,this.overrideMaterial=null,this.autoUpdate=!0,"undefined"!=typeof __THREE_DEVTOOLS__&&__THREE_DEVTOOLS__.dispatchEvent(new CustomEvent("observe",{detail:this}))}function ni(A,e){this.min=void 0!==A?A:new Ue(1/0,1/0,1/0),this.max=void 0!==e?e:new Ue(-1/0,-1/0,-1/0)}function oi(A,e){this.center=void 0!==A?A:new Ue,this.radius=void 0!==e?e:0}function ri(A,e){this.origin=void 0!==A?A:new Ue,this.direction=void 0!==e?e:new Ue}function ai(A,e,t){this.a=void 0!==A?A:new Ue,this.b=void 0!==e?e:new Ue,this.c=void 0!==t?t:new Ue}ti.DefaultUp=new Ue(0,1,0),ti.DefaultMatrixAutoUpdate=!0,ti.prototype=Object.assign(Object.create(t.prototype),{constructor:ti,isObject3D:!0,onBeforeRender:function(){},onAfterRender:function(){},applyMatrix:function(A){this.matrixAutoUpdate&&this.updateMatrix(),this.matrix.premultiply(A),this.matrix.decompose(this.position,this.quaternion,this.scale)},applyQuaternion:function(A){return this.quaternion.premultiply(A),this},setRotationFromAxisAngle:function(A,e){this.quaternion.setFromAxisAngle(A,e)},setRotationFromEuler:function(A){this.quaternion.setFromEuler(A,!0)},setRotationFromMatrix:function(A){this.quaternion.setFromRotationMatrix(A)},setRotationFromQuaternion:function(A){this.quaternion.copy(A)},rotateOnAxis:(It=new Oe,function(A,e){return It.setFromAxisAngle(A,e),this.quaternion.multiply(It),this}),rotateOnWorldAxis:(Ct=new Oe,function(A,e){return Ct.setFromAxisAngle(A,e),this.quaternion.premultiply(Ct),this}),rotateX:(yt=new Ue(1,0,0),function(A){return this.rotateOnAxis(yt,A)}),rotateY:(vt=new Ue(0,1,0),function(A){return this.rotateOnAxis(vt,A)}),rotateZ:(mt=new Ue(0,0,1),function(A){return this.rotateOnAxis(mt,A)}),translateOnAxis:(ft=new Ue,function(A,e){return ft.copy(A).applyQuaternion(this.quaternion),this.position.add(ft.multiplyScalar(e)),this}),translateX:(gt=new Ue(1,0,0),function(A){return this.translateOnAxis(gt,A)}),translateY:(pt=new Ue(0,1,0),function(A){return this.translateOnAxis(pt,A)}),translateZ:(ut=new Ue(0,0,1),function(A){return this.translateOnAxis(ut,A)}),localToWorld:function(A){return A.applyMatrix4(this.matrixWorld)},worldToLocal:(ht=new At,function(A){return A.applyMatrix4(ht.getInverse(this.matrixWorld))}),lookAt:(st=new Oe,lt=new At,ct=new Ue,dt=new Ue,function(A,e,t){A.isVector3?ct.copy(A):ct.set(A,e,t);var i=this.parent;this.updateWorldMatrix(!0,!1),dt.setFromMatrixPosition(this.matrixWorld),this.isCamera||this.isLight?lt.lookAt(dt,ct,this.up):lt.lookAt(ct,dt,this.up),this.quaternion.setFromRotationMatrix(lt),i&&(lt.extractRotation(i.matrixWorld),st.setFromRotationMatrix(lt),this.quaternion.premultiply(st.inverse()))}),add:function(A){if(1<arguments.length){for(var e=0;e<arguments.length;e++)this.add(arguments[e]);return this}return A===this?console.error("THREE.Object3D.add: object can't be added as a child of itself.",A):A&&A.isObject3D?(null!==A.parent&&A.parent.remove(A),(A.parent=this).children.push(A),A.dispatchEvent({type:"added"})):console.error("THREE.Object3D.add: object not an instance of THREE.Object3D.",A),this},remove:function(A){if(1<arguments.length){for(var e=0;e<arguments.length;e++)this.remove(arguments[e]);return this}var t=this.children.indexOf(A);return-1!==t&&(A.parent=null,this.children.splice(t,1),A.dispatchEvent({type:"removed"})),this},attach:(at=new At,function(A){return this.updateWorldMatrix(!0,!1),at.getInverse(this.matrixWorld),null!==A.parent&&(A.parent.updateWorldMatrix(!0,!1),at.multiply(A.parent.matrixWorld)),A.applyMatrix(at),A.updateWorldMatrix(!1,!1),this.add(A),this}),getObjectById:function(A){return this.getObjectByProperty("id",A)},getObjectByName:function(A){return this.getObjectByProperty("name",A)},getObjectByProperty:function(A,e){if(this[A]===e)return this;for(var t=0,i=this.children.length;t<i;t++){var n=this.children[t].getObjectByProperty(A,e);if(void 0!==n)return n}},getWorldPosition:function(A){return void 0===A&&(console.warn("THREE.Object3D: .getWorldPosition() target is now required"),A=new Ue),this.updateMatrixWorld(!0),A.setFromMatrixPosition(this.matrixWorld)},getWorldQuaternion:(ot=new Ue,rt=new Ue,function(A){return void 0===A&&(console.warn("THREE.Object3D: .getWorldQuaternion() target is now required"),A=new Oe),this.updateMatrixWorld(!0),this.matrixWorld.decompose(ot,A,rt),A}),getWorldScale:(it=new Ue,nt=new Oe,function(A){return void 0===A&&(console.warn("THREE.Object3D: .getWorldScale() target is now required"),A=new Ue),this.updateMatrixWorld(!0),this.matrixWorld.decompose(it,nt,A),A}),getWorldDirection:function(A){void 0===A&&(console.warn("THREE.Object3D: .getWorldDirection() target is now required"),A=new Ue),this.updateMatrixWorld(!0);var e=this.matrixWorld.elements;return A.set(e[8],e[9],e[10]).normalize()},raycast:function(){},traverse:function(A){A(this);for(var e=this.children,t=0,i=e.length;t<i;t++)e[t].traverse(A)},traverseVisible:function(A){if(!1!==this.visible){A(this);for(var e=this.children,t=0,i=e.length;t<i;t++)e[t].traverseVisible(A)}},traverseAncestors:function(A){var e=this.parent;null!==e&&(A(e),e.traverseAncestors(A))},updateMatrix:function(){this.matrix.compose(this.position,this.quaternion,this.scale),this.matrixWorldNeedsUpdate=!0},updateMatrixWorld:function(A){this.matrixAutoUpdate&&this.updateMatrix(),(this.matrixWorldNeedsUpdate||A)&&(null===this.parent?this.matrixWorld.copy(this.matrix):this.matrixWorld.multiplyMatrices(this.parent.matrixWorld,this.matrix),A=!(this.matrixWorldNeedsUpdate=!1));for(var e=this.children,t=0,i=e.length;t<i;t++)e[t].updateMatrixWorld(A)},updateWorldMatrix:function(A,e){var t=this.parent;if(!0===A&&null!==t&&t.updateWorldMatrix(!0,!1),this.matrixAutoUpdate&&this.updateMatrix(),null===this.parent?this.matrixWorld.copy(this.matrix):this.matrixWorld.multiplyMatrices(this.parent.matrixWorld,this.matrix),!0===e)for(var i=this.children,n=0,o=i.length;n<o;n++)i[n].updateWorldMatrix(!1,!0)},toJSON:function(t){var A=void 0===t||"string"==typeof t,e={};A&&(t={geometries:{},materials:{},textures:{},images:{},shapes:{}},e.metadata={version:4.5,type:"Object",generator:"Object3D.toJSON"});var i={};function n(A,e){return void 0===A[e.uuid]&&(A[e.uuid]=e.toJSON(t)),e.uuid}if(i.uuid=this.uuid,i.type=this.type,""!==this.name&&(i.name=this.name),!0===this.castShadow&&(i.castShadow=!0),!0===this.receiveShadow&&(i.receiveShadow=!0),!1===this.visible&&(i.visible=!1),!1===this.frustumCulled&&(i.frustumCulled=!1),0!==this.renderOrder&&(i.renderOrder=this.renderOrder),"{}"!==JSON.stringify(this.userData)&&(i.userData=this.userData),i.layers=this.layers.mask,i.matrix=this.matrix.toArray(),!1===this.matrixAutoUpdate&&(i.matrixAutoUpdate=!1),this.isMesh&&this.drawMode!==ve&&(i.drawMode=this.drawMode),this.isMesh||this.isLine||this.isPoints){i.geometry=n(t.geometries,this.geometry);var o=this.geometry.parameters;if(void 0!==o&&void 0!==o.shapes){var r=o.shapes;if(Array.isArray(r))for(var a=0,s=r.length;a<s;a++){n(t.shapes,r[a])}else n(t.shapes,r)}}if(void 0!==this.material)if(Array.isArray(this.material)){var l=[];for(a=0,s=this.material.length;a<s;a++)l.push(n(t.materials,this.material[a]));i.material=l}else i.material=n(t.materials,this.material);if(0<this.children.length){i.children=[];for(a=0;a<this.children.length;a++)i.children.push(this.children[a].toJSON(t).object)}if(A){var c=p(t.geometries),d=p(t.materials),h=p(t.textures),u=p(t.images);r=p(t.shapes);0<c.length&&(e.geometries=c),0<d.length&&(e.materials=d),0<h.length&&(e.textures=h),0<u.length&&(e.images=u),0<r.length&&(e.shapes=r)}return e.object=i,e;function p(A){var e=[];for(var t in A){var i=A[t];delete i.metadata,e.push(i)}return e}},clone:function(A){return(new this.constructor).copy(this,A)},copy:function(A,e){if(void 0===e&&(e=!0),this.name=A.name,this.up.copy(A.up),this.position.copy(A.position),this.quaternion.copy(A.quaternion),this.scale.copy(A.scale),this.matrix.copy(A.matrix),this.matrixWorld.copy(A.matrixWorld),this.matrixAutoUpdate=A.matrixAutoUpdate,this.matrixWorldNeedsUpdate=A.matrixWorldNeedsUpdate,this.layers.mask=A.layers.mask,this.visible=A.visible,this.castShadow=A.castShadow,this.receiveShadow=A.receiveShadow,this.frustumCulled=A.frustumCulled,this.renderOrder=A.renderOrder,this.userData=JSON.parse(JSON.stringify(A.userData)),!0===e)for(var t=0;t<A.children.length;t++){this.add(A.children[t].clone())}return this}}),ii.prototype=Object.assign(Object.create(ti.prototype),{constructor:ii,isScene:!0,copy:function(A,e){return ti.prototype.copy.call(this,A,e),null!==A.background&&(this.background=A.background.clone()),null!==A.fog&&(this.fog=A.fog.clone()),null!==A.overrideMaterial&&(this.overrideMaterial=A.overrideMaterial.clone()),this.autoUpdate=A.autoUpdate,this.matrixAutoUpdate=A.matrixAutoUpdate,this},toJSON:function(A){var e=ti.prototype.toJSON.call(this,A);return null!==this.background&&(e.object.background=this.background.toJSON(A)),null!==this.fog&&(e.object.fog=this.fog.toJSON()),e},dispose:function(){this.dispatchEvent({type:"dispose"})}}),Object.assign(ni.prototype,{isBox3:!0,set:function(A,e){return this.min.copy(A),this.max.copy(e),this},setFromArray:function(A){for(var e=1/0,t=1/0,i=1/0,n=-1/0,o=-1/0,r=-1/0,a=0,s=A.length;a<s;a+=3){var l=A[a],c=A[a+1],d=A[a+2];l<e&&(e=l),c<t&&(t=c),d<i&&(i=d),n<l&&(n=l),o<c&&(o=c),r<d&&(r=d)}return this.min.set(e,t,i),this.max.set(n,o,r),this},setFromBufferAttribute:function(A){for(var e=1/0,t=1/0,i=1/0,n=-1/0,o=-1/0,r=-1/0,a=0,s=A.count;a<s;a++){var l=A.getX(a),c=A.getY(a),d=A.getZ(a);l<e&&(e=l),c<t&&(t=c),d<i&&(i=d),n<l&&(n=l),o<c&&(o=c),r<d&&(r=d)}return this.min.set(e,t,i),this.max.set(n,o,r),this},setFromPoints:function(A){this.makeEmpty();for(var e=0,t=A.length;e<t;e++)this.expandByPoint(A[e]);return this},setFromCenterAndSize:(Mt=new Ue,function(A,e){var t=Mt.copy(e).multiplyScalar(.5);return this.min.copy(A).sub(t),this.max.copy(A).add(t),this}),setFromObject:function(A){return this.makeEmpty(),this.expandByObject(A)},clone:function(){return(new this.constructor).copy(this)},copy:function(A){return this.min.copy(A.min),this.max.copy(A.max),this},makeEmpty:function(){return this.min.x=this.min.y=this.min.z=1/0,this.max.x=this.max.y=this.max.z=-1/0,this},isEmpty:function(){return this.max.x<this.min.x||this.max.y<this.min.y||this.max.z<this.min.z},getCenter:function(A){return void 0===A&&(console.warn("THREE.Box3: .getCenter() target is now required"),A=new Ue),this.isEmpty()?A.set(0,0,0):A.addVectors(this.min,this.max).multiplyScalar(.5)},getSize:function(A){return void 0===A&&(console.warn("THREE.Box3: .getSize() target is now required"),A=new Ue),this.isEmpty()?A.set(0,0,0):A.subVectors(this.max,this.min)},expandByPoint:function(A){return this.min.min(A),this.max.max(A),this},expandByVector:function(A){return this.min.sub(A),this.max.add(A),this},expandByScalar:function(A){return this.min.addScalar(-A),this.max.addScalar(A),this},expandByObject:function(){var n,o,r,a=new Ue;function e(A){var e=A.geometry;if(void 0!==e)if(e.isGeometry){var t=e.vertices;for(o=0,r=t.length;o<r;o++)a.copy(t[o]),a.applyMatrix4(A.matrixWorld),n.expandByPoint(a)}else if(e.isBufferGeometry){var i=e.attributes.position;if(void 0!==i)for(o=0,r=i.count;o<r;o++)a.fromBufferAttribute(i,o).applyMatrix4(A.matrixWorld),n.expandByPoint(a)}}return function(A){return n=this,A.updateMatrixWorld(!0),A.traverse(e),this}}(),containsPoint:function(A){return!(A.x<this.min.x||this.max.x<A.x||A.y<this.min.y||this.max.y<A.y||A.z<this.min.z||this.max.z<A.z)},containsBox:function(A){return!(A.min.x<this.min.x||this.max.x<A.max.x||A.min.y<this.min.y||this.max.y<A.max.y||A.min.z<this.min.z||this.max.z<A.max.z)},getParameter:function(A,e){return void 0===e&&(console.warn("THREE.Box3: .getParameter() target is now required"),e=new Ue),e.set((A.x-this.min.x)/(this.max.x-this.min.x),(A.y-this.min.y)/(this.max.y-this.min.y),(A.z-this.min.z)/(this.max.z-this.min.z))},intersectsBox:function(A){return!(A.max.x<this.min.x||this.max.x<A.min.x||A.max.y<this.min.y||this.max.y<A.min.y||A.max.z<this.min.z||this.max.z<A.min.z)},intersectsSphere:(wt=new Ue,function(A){return this.clampPoint(A.center,wt),wt.distanceToSquared(A.center)<=A.radius*A.radius}),intersectsPlane:function(A){var e,t;return t=0<A.normal.x?(e=A.normal.x*this.min.x,A.normal.x*this.max.x):(e=A.normal.x*this.max.x,A.normal.x*this.min.x),0<A.normal.y?(e+=A.normal.y*this.min.y,t+=A.normal.y*this.max.y):(e+=A.normal.y*this.max.y,t+=A.normal.y*this.min.y),0<A.normal.z?(e+=A.normal.z*this.min.z,t+=A.normal.z*this.max.z):(e+=A.normal.z*this.max.z,t+=A.normal.z*this.min.z),e<=-A.constant&&-A.constant<=t},intersectsTriangle:function(){var a=new Ue,s=new Ue,l=new Ue,t=new Ue,i=new Ue,n=new Ue,c=new Ue,o=new Ue,d=new Ue,r=new Ue;function h(A){var e,t;for(e=0,t=A.length-3;e<=t;e+=3){c.fromArray(A,e);var i=d.x*Math.abs(c.x)+d.y*Math.abs(c.y)+d.z*Math.abs(c.z),n=a.dot(c),o=s.dot(c),r=l.dot(c);if(Math.max(-Math.max(n,o,r),Math.min(n,o,r))>i)return!1}return!0}return function(A){if(this.isEmpty())return!1;this.getCenter(o),d.subVectors(this.max,o),a.subVectors(A.a,o),s.subVectors(A.b,o),l.subVectors(A.c,o),t.subVectors(s,a),i.subVectors(l,s),n.subVectors(a,l);var e=[0,-t.z,t.y,0,-i.z,i.y,0,-n.z,n.y,t.z,0,-t.x,i.z,0,-i.x,n.z,0,-n.x,-t.y,t.x,0,-i.y,i.x,0,-n.y,n.x,0];return!!h(e)&&(!!h(e=[1,0,0,0,1,0,0,0,1])&&(r.crossVectors(t,i),h(e=[r.x,r.y,r.z])))}}(),clampPoint:function(A,e){return void 0===e&&(console.warn("THREE.Box3: .clampPoint() target is now required"),e=new Ue),e.copy(A).clamp(this.min,this.max)},distanceToPoint:(Et=new Ue,function(A){return Et.copy(A).clamp(this.min,this.max).sub(A).length()}),getBoundingSphere:(bt=new Ue,function(A){return void 0===A&&console.error("THREE.Box3: .getBoundingSphere() target is now required"),this.getCenter(A.center),A.radius=.5*this.getSize(bt).length(),A}),intersect:function(A){return this.min.max(A.min),this.max.min(A.max),this.isEmpty()&&this.makeEmpty(),this},union:function(A){return this.min.min(A.min),this.max.max(A.max),this},applyMatrix4:(xt=[new Ue,new Ue,new Ue,new Ue,new Ue,new Ue,new Ue,new Ue],function(A){return this.isEmpty()||(xt[0].set(this.min.x,this.min.y,this.min.z).applyMatrix4(A),xt[1].set(this.min.x,this.min.y,this.max.z).applyMatrix4(A),xt[2].set(this.min.x,this.max.y,this.min.z).applyMatrix4(A),xt[3].set(this.min.x,this.max.y,this.max.z).applyMatrix4(A),xt[4].set(this.max.x,this.min.y,this.min.z).applyMatrix4(A),xt[5].set(this.max.x,this.min.y,this.max.z).applyMatrix4(A),xt[6].set(this.max.x,this.max.y,this.min.z).applyMatrix4(A),xt[7].set(this.max.x,this.max.y,this.max.z).applyMatrix4(A),this.setFromPoints(xt)),this}),translate:function(A){return this.min.add(A),this.max.add(A),this},equals:function(A){return A.min.equals(this.min)&&A.max.equals(this.max)}}),Object.assign(oi.prototype,{set:function(A,e){return this.center.copy(A),this.radius=e,this},setFromPoints:function(A,e){void 0===Bt&&(Bt=new ni);var t=this.center;void 0!==e?t.copy(e):Bt.setFromPoints(A).getCenter(t);for(var i=0,n=0,o=A.length;n<o;n++)i=Math.max(i,t.distanceToSquared(A[n]));return this.radius=Math.sqrt(i),this},clone:function(){return(new this.constructor).copy(this)},copy:function(A){return this.center.copy(A.center),this.radius=A.radius,this},empty:function(){return this.radius<=0},containsPoint:function(A){return A.distanceToSquared(this.center)<=this.radius*this.radius},distanceToPoint:function(A){return A.distanceTo(this.center)-this.radius},intersectsSphere:function(A){var e=this.radius+A.radius;return A.center.distanceToSquared(this.center)<=e*e},intersectsBox:function(A){return A.intersectsSphere(this)},intersectsPlane:function(A){return Math.abs(A.distanceToPoint(this.center))<=this.radius},clampPoint:function(A,e){var t=this.center.distanceToSquared(A);return void 0===e&&(console.warn("THREE.Sphere: .clampPoint() target is now required"),e=new Ue),e.copy(A),this.radius*this.radius<t&&(e.sub(this.center).normalize(),e.multiplyScalar(this.radius).add(this.center)),e},getBoundingBox:function(A){return void 0===A&&(console.warn("THREE.Sphere: .getBoundingBox() target is now required"),A=new ni),A.set(this.center,this.center),A.expandByScalar(this.radius),A},applyMatrix4:function(A){return this.center.applyMatrix4(A),this.radius=this.radius*A.getMaxScaleOnAxis(),this},translate:function(A){return this.center.add(A),this},equals:function(A){return A.center.equals(this.center)&&A.radius===this.radius}}),Object.assign(ri.prototype,{set:function(A,e){return this.origin.copy(A),this.direction.copy(e),this},clone:function(){return(new this.constructor).copy(this)},copy:function(A){return this.origin.copy(A.origin),this.direction.copy(A.direction),this},at:function(A,e){return void 0===e&&(console.warn("THREE.Ray: .at() target is now required"),e=new Ue),e.copy(this.direction).multiplyScalar(A).add(this.origin)},lookAt:function(A){return this.direction.copy(A).sub(this.origin).normalize(),this},recast:(Pt=new Ue,function(A){return this.origin.copy(this.at(A,Pt)),this}),closestPointToPoint:function(A,e){void 0===e&&(console.warn("THREE.Ray: .closestPointToPoint() target is now required"),e=new Ue),e.subVectors(A,this.origin);var t=e.dot(this.direction);return t<0?e.copy(this.origin):e.copy(this.direction).multiplyScalar(t).add(this.origin)},distanceToPoint:function(A){return Math.sqrt(this.distanceSqToPoint(A))},distanceSqToPoint:(Rt=new Ue,function(A){var e=Rt.subVectors(A,this.origin).dot(this.direction);return e<0?this.origin.distanceToSquared(A):(Rt.copy(this.direction).multiplyScalar(e).add(this.origin),Rt.distanceToSquared(A))}),distanceSqToSegment:(Ot=new Ue,Ut=new Ue,Nt=new Ue,function(A,e,t,i){Ot.copy(A).add(e).multiplyScalar(.5),Ut.copy(e).sub(A).normalize(),Nt.copy(this.origin).sub(Ot);var n,o,r,a,s=.5*A.distanceTo(e),l=-this.direction.dot(Ut),c=Nt.dot(this.direction),d=-Nt.dot(Ut),h=Nt.lengthSq(),u=Math.abs(1-l*l);if(0<u)if(o=l*c-d,a=s*u,(n=l*d-c)<0)r=-a<o?a<o?-(n=Math.max(0,-(l*s+c)))*n+(o=0<n?s:Math.min(Math.max(-s,-d),s))*(o+2*d)+h:(n=0,(o=Math.min(Math.max(-s,-d),s))*(o+2*d)+h):-(n=Math.max(0,-(-l*s+c)))*n+(o=0<n?-s:Math.min(Math.max(-s,-d),s))*(o+2*d)+h;else if(o<-a)o=-s,r=-(n=Math.max(0,-(l*o+c)))*n+o*(o+2*d)+h;else if(a<o)o=s,r=-(n=Math.max(0,-(l*o+c)))*n+o*(o+2*d)+h;else{var p=1/u;r=(n*=p)*(n+l*(o*=p)+2*c)+o*(l*n+o+2*d)+h}else o=0<l?-s:s,r=-(n=Math.max(0,-(l*o+c)))*n+o*(o+2*d)+h;return t&&t.copy(this.direction).multiplyScalar(n).add(this.origin),i&&i.copy(Ut).multiplyScalar(o).add(Ot),r}),intersectSphere:(Lt=new Ue,function(A,e){Lt.subVectors(A.center,this.origin);var t=Lt.dot(this.direction),i=Lt.dot(Lt)-t*t,n=A.radius*A.radius;if(n<i)return null;var o=Math.sqrt(n-i),r=t-o,a=t+o;return r<0&&a<0?null:this.at(r<0?a:r,e)}),intersectsSphere:function(A){return this.distanceSqToPoint(A.center)<=A.radius*A.radius},distanceToPlane:function(A){var e=A.normal.dot(this.direction);if(0===e)return 0===A.distanceToPoint(this.origin)?0:null;var t=-(this.origin.dot(A.normal)+A.constant)/e;return t<0?null:t},intersectPlane:function(A,e){var t=this.distanceToPlane(A);return null===t?null:this.at(t,e)},intersectsPlane:function(A){var e=A.distanceToPoint(this.origin);return 0===e||A.normal.dot(this.direction)*e<0},intersectBox:function(A,e){var t,i,n,o,r,a,s=1/this.direction.x,l=1/this.direction.y,c=1/this.direction.z,d=this.origin;return i=s<0?(t=(A.max.x-d.x)*s,(A.min.x-d.x)*s):(t=(A.min.x-d.x)*s,(A.max.x-d.x)*s),(o=l<0?(n=(A.max.y-d.y)*l,(A.min.y-d.y)*l):(n=(A.min.y-d.y)*l,(A.max.y-d.y)*l))<t||i<n?null:((t<n||t!=t)&&(t=n),(o<i||i!=i)&&(i=o),(a=c<0?(r=(A.max.z-d.z)*c,(A.min.z-d.z)*c):(r=(A.min.z-d.z)*c,(A.max.z-d.z)*c))<t||i<r?null:((t<r||t!=t)&&(t=r),(a<i||i!=i)&&(i=a),i<0?null:this.at(t<0?i:t,e)))},intersectsBox:(Ft=new Ue,function(A){return null!==this.intersectBox(A,Ft)}),intersectTriangle:(_t=new Ue,St=new Ue,Tt=new Ue,Kt=new Ue,function(A,e,t,i,n){St.subVectors(e,A),Tt.subVectors(t,A),Kt.crossVectors(St,Tt);var o,r=this.direction.dot(Kt);if(0<r){if(i)return null;o=1}else{if(0<=r)return null;o=-1,r=-r}_t.subVectors(this.origin,A);var a=o*this.direction.dot(Tt.crossVectors(_t,Tt));if(a<0)return null;var s=o*this.direction.dot(St.cross(_t));if(s<0)return null;if(r<a+s)return null;var l=-o*_t.dot(Kt);return l<0?null:this.at(l/r,n)}),applyMatrix4:function(A){return this.origin.applyMatrix4(A),this.direction.transformDirection(A),this},equals:function(A){return A.origin.equals(this.origin)&&A.direction.equals(this.direction)}}),Object.assign(ai,{getNormal:(jt=new Ue,function(A,e,t,i){void 0===i&&(console.warn("THREE.Triangle: .getNormal() target is now required"),i=new Ue),i.subVectors(t,e),jt.subVectors(A,e),i.cross(jt);var n=i.lengthSq();return 0<n?i.multiplyScalar(1/Math.sqrt(n)):i.set(0,0,0)}),getBarycoord:(Vt=new Ue,Ht=new Ue,Gt=new Ue,function(A,e,t,i,n){Vt.subVectors(i,e),Ht.subVectors(t,e),Gt.subVectors(A,e);var o=Vt.dot(Vt),r=Vt.dot(Ht),a=Vt.dot(Gt),s=Ht.dot(Ht),l=Ht.dot(Gt),c=o*s-r*r;if(void 0===n&&(console.warn("THREE.Triangle: .getBarycoord() target is now required"),n=new Ue),0===c)return n.set(-2,-1,-1);var d=1/c,h=(s*a-r*l)*d,u=(o*l-r*a)*d;return n.set(1-h-u,u,h)}),containsPoint:(zt=new Ue,function(A,e,t,i){return ai.getBarycoord(A,e,t,i,zt),0<=zt.x&&0<=zt.y&&zt.x+zt.y<=1}),getUV:(kt=new Ue,function(A,e,t,i,n,o,r,a){return this.getBarycoord(A,e,t,i,kt),a.set(0,0),a.addScaledVector(n,kt.x),a.addScaledVector(o,kt.y),a.addScaledVector(r,kt.z),a}),isFrontFacing:(Dt=new Ue,Qt=new Ue,function(A,e,t,i){return Dt.subVectors(t,e),Qt.subVectors(A,e),Dt.cross(Qt).dot(i)<0})}),Object.assign(ai.prototype,{set:function(A,e,t){return this.a.copy(A),this.b.copy(e),this.c.copy(t),this},setFromPointsAndIndices:function(A,e,t,i){return this.a.copy(A[e]),this.b.copy(A[t]),this.c.copy(A[i]),this},clone:function(){return(new this.constructor).copy(this)},copy:function(A){return this.a.copy(A.a),this.b.copy(A.b),this.c.copy(A.c),this},getArea:($t=new Ue,Ai=new Ue,function(){return $t.subVectors(this.c,this.b),Ai.subVectors(this.a,this.b),.5*$t.cross(Ai).length()}),getMidpoint:function(A){return void 0===A&&(console.warn("THREE.Triangle: .getMidpoint() target is now required"),A=new Ue),A.addVectors(this.a,this.b).add(this.c).multiplyScalar(1/3)},getNormal:function(A){return ai.getNormal(this.a,this.b,this.c,A)},getPlane:function(A){return void 0===A&&(console.warn("THREE.Triangle: .getPlane() target is now required"),A=new Ue),A.setFromCoplanarPoints(this.a,this.b,this.c)},getBarycoord:function(A,e){return ai.getBarycoord(A,this.a,this.b,this.c,e)},getUV:function(A,e,t,i,n){return ai.getUV(A,this.a,this.b,this.c,e,t,i,n)},containsPoint:function(A){return ai.containsPoint(A,this.a,this.b,this.c)},isFrontFacing:function(A){return ai.isFrontFacing(this.a,this.b,this.c,A)},intersectsBox:function(A){return A.intersectsTriangle(this)},closestPointToPoint:(Wt=new Ue,qt=new Ue,Xt=new Ue,Yt=new Ue,Jt=new Ue,Zt=new Ue,function(A,e){void 0===e&&(console.warn("THREE.Triangle: .closestPointToPoint() target is now required"),e=new Ue);var t,i,n=this.a,o=this.b,r=this.c;Wt.subVectors(o,n),qt.subVectors(r,n),Yt.subVectors(A,n);var a=Wt.dot(Yt),s=qt.dot(Yt);if(a<=0&&s<=0)return e.copy(n);Jt.subVectors(A,o);var l=Wt.dot(Jt),c=qt.dot(Jt);if(0<=l&&c<=l)return e.copy(o);var d=a*c-l*s;if(d<=0&&0<=a&&l<=0)return t=a/(a-l),e.copy(n).addScaledVector(Wt,t);Zt.subVectors(A,r);var h=Wt.dot(Zt),u=qt.dot(Zt);if(0<=u&&h<=u)return e.copy(r);var p=h*s-a*u;if(p<=0&&0<=s&&u<=0)return i=s/(s-u),e.copy(n).addScaledVector(qt,i);var g=l*u-h*c;if(g<=0&&0<=c-l&&0<=h-u)return Xt.subVectors(r,o),i=(c-l)/(c-l+(h-u)),e.copy(o).addScaledVector(Xt,i);var f=1/(g+p+d);return t=p*f,i=d*f,e.copy(n).addScaledVector(Wt,t).addScaledVector(qt,i)}),equals:function(A){return A.a.equals(this.a)&&A.b.equals(this.b)&&A.c.equals(this.c)}});var si,li,ci,di={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};function hi(A,e,t){return void 0===e&&void 0===t?this.set(A):this.setRGB(A,e,t)}function ui(A,e,t){return t<0&&(t+=1),1<t&&(t-=1),t<1/6?A+6*(e-A)*t:t<.5?e:t<2/3?A+6*(e-A)*(2/3-t):A}function pi(A){return A<.04045?.0773993808*A:Math.pow(.9478672986*A+.0521327014,2.4)}function gi(A){return A<.0031308?12.92*A:1.055*Math.pow(A,.41666)-.055}function fi(A,e,t,i,n,o){this.a=A,this.b=e,this.c=t,this.normal=i&&i.isVector3?i:new Ue,this.vertexNormals=Array.isArray(i)?i:[],this.color=n&&n.isColor?n:new hi,this.vertexColors=Array.isArray(n)?n:[],this.materialIndex=void 0!==o?o:0}Object.assign(hi.prototype,{isColor:!0,r:1,g:1,b:1,set:function(A){return A&&A.isColor?this.copy(A):"number"==typeof A?this.setHex(A):"string"==typeof A&&this.setStyle(A),this},setScalar:function(A){return this.r=A,this.g=A,this.b=A,this},setHex:function(A){return A=Math.floor(A),this.r=(A>>16&255)/255,this.g=(A>>8&255)/255,this.b=(255&A)/255,this},setRGB:function(A,e,t){return this.r=A,this.g=e,this.b=t,this},setHSL:function(A,e,t){if(A=Fe.euclideanModulo(A,1),e=Fe.clamp(e,0,1),t=Fe.clamp(t,0,1),0===e)this.r=this.g=this.b=t;else{var i=.5<t?t+e-t*e:t*(1+e),n=2*t-i;this.r=ui(n,i,A+1/3),this.g=ui(n,i,A),this.b=ui(n,i,A-1/3)}return this},setStyle:function(e){function A(A){void 0!==A&&parseFloat(A)<1&&console.warn("THREE.Color: Alpha component of "+e+" will be ignored.")}var t;if(t=/^((?:rgb|hsl)a?)\(\s*([^\)]*)\)/.exec(e)){var i,n=t[2];switch(t[1]){case"rgb":case"rgba":if(i=/^(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*(,\s*([0-9]*\.?[0-9]+)\s*)?$/.exec(n))return this.r=Math.min(255,parseInt(i[1],10))/255,this.g=Math.min(255,parseInt(i[2],10))/255,this.b=Math.min(255,parseInt(i[3],10))/255,A(i[5]),this;if(i=/^(\d+)\%\s*,\s*(\d+)\%\s*,\s*(\d+)\%\s*(,\s*([0-9]*\.?[0-9]+)\s*)?$/.exec(n))return this.r=Math.min(100,parseInt(i[1],10))/100,this.g=Math.min(100,parseInt(i[2],10))/100,this.b=Math.min(100,parseInt(i[3],10))/100,A(i[5]),this;break;case"hsl":case"hsla":if(i=/^([0-9]*\.?[0-9]+)\s*,\s*(\d+)\%\s*,\s*(\d+)\%\s*(,\s*([0-9]*\.?[0-9]+)\s*)?$/.exec(n)){var o=parseFloat(i[1])/360,r=parseInt(i[2],10)/100,a=parseInt(i[3],10)/100;return A(i[5]),this.setHSL(o,r,a)}}}else if(t=/^\#([A-Fa-f0-9]+)$/.exec(e)){var s,l=(s=t[1]).length;if(3===l)return this.r=parseInt(s.charAt(0)+s.charAt(0),16)/255,this.g=parseInt(s.charAt(1)+s.charAt(1),16)/255,this.b=parseInt(s.charAt(2)+s.charAt(2),16)/255,this;if(6===l)return this.r=parseInt(s.charAt(0)+s.charAt(1),16)/255,this.g=parseInt(s.charAt(2)+s.charAt(3),16)/255,this.b=parseInt(s.charAt(4)+s.charAt(5),16)/255,this}e&&0<e.length&&(void 0!==(s=di[e])?this.setHex(s):console.warn("THREE.Color: Unknown color "+e));return this},clone:function(){return new this.constructor(this.r,this.g,this.b)},copy:function(A){return this.r=A.r,this.g=A.g,this.b=A.b,this},copyGammaToLinear:function(A,e){return void 0===e&&(e=2),this.r=Math.pow(A.r,e),this.g=Math.pow(A.g,e),this.b=Math.pow(A.b,e),this},copyLinearToGamma:function(A,e){void 0===e&&(e=2);var t=0<e?1/e:1;return this.r=Math.pow(A.r,t),this.g=Math.pow(A.g,t),this.b=Math.pow(A.b,t),this},convertGammaToLinear:function(A){return this.copyGammaToLinear(this,A),this},convertLinearToGamma:function(A){return this.copyLinearToGamma(this,A),this},copySRGBToLinear:function(A){return this.r=pi(A.r),this.g=pi(A.g),this.b=pi(A.b),this},copyLinearToSRGB:function(A){return this.r=gi(A.r),this.g=gi(A.g),this.b=gi(A.b),this},convertSRGBToLinear:function(){return this.copySRGBToLinear(this),this},convertLinearToSRGB:function(){return this.copyLinearToSRGB(this),this},getHex:function(){return 255*this.r<<16^255*this.g<<8^255*this.b<<0},getHexString:function(){return("000000"+this.getHex().toString(16)).slice(-6)},getHSL:function(A){void 0===A&&(console.warn("THREE.Color: .getHSL() target is now required"),A={h:0,s:0,l:0});var e,t,i=this.r,n=this.g,o=this.b,r=Math.max(i,n,o),a=Math.min(i,n,o),s=(a+r)/2;if(a===r)t=e=0;else{var l=r-a;switch(t=.5<s?l/(2-r-a):l/(r+a),r){case i:e=(n-o)/l+(n<o?6:0);break;case n:e=(o-i)/l+2;break;case o:e=(i-n)/l+4}e/=6}return A.h=e,A.s=t,A.l=s,A},getStyle:function(){return"rgb("+(255*this.r|0)+","+(255*this.g|0)+","+(255*this.b|0)+")"},offsetHSL:(ci={},function(A,e,t){return this.getHSL(ci),ci.h+=A,ci.s+=e,ci.l+=t,this.setHSL(ci.h,ci.s,ci.l),this}),add:function(A){return this.r+=A.r,this.g+=A.g,this.b+=A.b,this},addColors:function(A,e){return this.r=A.r+e.r,this.g=A.g+e.g,this.b=A.b+e.b,this},addScalar:function(A){return this.r+=A,this.g+=A,this.b+=A,this},sub:function(A){return this.r=Math.max(0,this.r-A.r),this.g=Math.max(0,this.g-A.g),this.b=Math.max(0,this.b-A.b),this},multiply:function(A){return this.r*=A.r,this.g*=A.g,this.b*=A.b,this},multiplyScalar:function(A){return this.r*=A,this.g*=A,this.b*=A,this},lerp:function(A,e){return this.r+=(A.r-this.r)*e,this.g+=(A.g-this.g)*e,this.b+=(A.b-this.b)*e,this},lerpHSL:(si={h:0,s:0,l:0},li={h:0,s:0,l:0},function(A,e){this.getHSL(si),A.getHSL(li);var t=Fe.lerp(si.h,li.h,e),i=Fe.lerp(si.s,li.s,e),n=Fe.lerp(si.l,li.l,e);return this.setHSL(t,i,n),this}),equals:function(A){return A.r===this.r&&A.g===this.g&&A.b===this.b},fromArray:function(A,e){return void 0===e&&(e=0),this.r=A[e],this.g=A[e+1],this.b=A[e+2],this},toArray:function(A,e){return void 0===A&&(A=[]),void 0===e&&(e=0),A[e]=this.r,A[e+1]=this.g,A[e+2]=this.b,A},toJSON:function(){return this.getHex()}}),Object.assign(fi.prototype,{clone:function(){return(new this.constructor).copy(this)},copy:function(A){this.a=A.a,this.b=A.b,this.c=A.c,this.normal.copy(A.normal),this.color.copy(A.color),this.materialIndex=A.materialIndex;for(var e=0,t=A.vertexNormals.length;e<t;e++)this.vertexNormals[e]=A.vertexNormals[e].clone();for(e=0,t=A.vertexColors.length;e<t;e++)this.vertexColors[e]=A.vertexColors[e].clone();return this}});var mi=0;function vi(){Object.defineProperty(this,"id",{value:mi++}),this.uuid=Fe.generateUUID(),this.name="",this.type="Material",this.fog=!0,this.lights=!0,this.blending=Y,this.side=U,this.flatShading=!1,this.vertexTangents=!1,this.vertexColors=c,this.opacity=1,this.transparent=!1,this.blendSrc=C,this.blendDst=I,this.blendEquation=tA,this.blendSrcAlpha=null,this.blendDstAlpha=null,this.blendEquationAlpha=null,this.depthFunc=rA,this.depthTest=!0,this.depthWrite=!0,this.stencilFunc=Ke,this.stencilRef=0,this.stencilMask=255,this.stencilFail=Te,this.stencilZFail=Te,this.stencilZPass=Te,this.stencilWrite=!1,this.clippingPlanes=null,this.clipIntersection=!1,this.clipShadows=!1,this.shadowSide=null,this.colorWrite=!0,this.precision=null,this.polygonOffset=!1,this.polygonOffsetFactor=0,this.polygonOffsetUnits=0,this.dithering=!1,this.alphaTest=0,this.premultipliedAlpha=!1,this.visible=!0,this.userData={},this.needsUpdate=!0}function yi(A){vi.call(this),this.type="MeshBasicMaterial",this.color=new hi(16777215),this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.specularMap=null,this.alphaMap=null,this.envMap=null,this.combine=V,this.reflectivity=1,this.refractionRatio=.98,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.skinning=!1,this.morphTargets=!1,this.lights=!1,this.setValues(A)}function Ci(A,e,t){if(Array.isArray(A))throw new TypeError("THREE.BufferAttribute: array should be a Typed Array.");this.name="",this.array=A,this.itemSize=e,this.count=void 0!==A?A.length/e:0,this.normalized=!0===t,this.dynamic=!1,this.updateRange={offset:0,count:-1},this.version=0}function Ii(A,e,t){Ci.call(this,new Int8Array(A),e,t)}function xi(A,e,t){Ci.call(this,new Uint8Array(A),e,t)}function bi(A,e,t){Ci.call(this,new Uint8ClampedArray(A),e,t)}function Ei(A,e,t){Ci.call(this,new Int16Array(A),e,t)}function wi(A,e,t){Ci.call(this,new Uint16Array(A),e,t)}function Mi(A,e,t){Ci.call(this,new Int32Array(A),e,t)}function Bi(A,e,t){Ci.call(this,new Uint32Array(A),e,t)}function _i(A,e,t){Ci.call(this,new Float32Array(A),e,t)}function Si(A,e,t){Ci.call(this,new Float64Array(A),e,t)}function Ti(){this.vertices=[],this.normals=[],this.colors=[],this.uvs=[],this.uvs2=[],this.groups=[],this.morphTargets={},this.skinWeights=[],this.skinIndices=[],this.boundingBox=null,this.boundingSphere=null,this.verticesNeedUpdate=!1,this.normalsNeedUpdate=!1,this.colorsNeedUpdate=!1,this.uvsNeedUpdate=!1,this.groupsNeedUpdate=!1}function Ki(A){if(0===A.length)return-1/0;for(var e=A[0],t=1,i=A.length;t<i;++t)e<A[t]&&(e=A[t]);return e}vi.prototype=Object.assign(Object.create(t.prototype),{constructor:vi,isMaterial:!0,onBeforeCompile:function(){},setValues:function(A){if(void 0!==A)for(var e in A){var t=A[e];if(void 0!==t)if("shading"!==e){var i=this[e];void 0!==i?i&&i.isColor?i.set(t):i&&i.isVector3&&t&&t.isVector3?i.copy(t):this[e]=t:console.warn("THREE."+this.type+": '"+e+"' is not a property of this material.")}else console.warn("THREE."+this.type+": .shading has been removed. Use the boolean .flatShading instead."),this.flatShading=1===t;else console.warn("THREE.Material: '"+e+"' parameter is undefined.")}},toJSON:function(A){var e=void 0===A||"string"==typeof A;e&&(A={textures:{},images:{}});var t={metadata:{version:4.5,type:"Material",generator:"Material.toJSON"}};function i(A){var e=[];for(var t in A){var i=A[t];delete i.metadata,e.push(i)}return e}if(t.uuid=this.uuid,t.type=this.type,""!==this.name&&(t.name=this.name),this.color&&this.color.isColor&&(t.color=this.color.getHex()),void 0!==this.roughness&&(t.roughness=this.roughness),void 0!==this.metalness&&(t.metalness=this.metalness),this.emissive&&this.emissive.isColor&&(t.emissive=this.emissive.getHex()),this.emissiveIntensity&&1!==this.emissiveIntensity&&(t.emissiveIntensity=this.emissiveIntensity),this.specular&&this.specular.isColor&&(t.specular=this.specular.getHex()),void 0!==this.shininess&&(t.shininess=this.shininess),void 0!==this.clearCoat&&(t.clearCoat=this.clearCoat),void 0!==this.clearCoatRoughness&&(t.clearCoatRoughness=this.clearCoatRoughness),this.map&&this.map.isTexture&&(t.map=this.map.toJSON(A).uuid),this.matcap&&this.matcap.isTexture&&(t.matcap=this.matcap.toJSON(A).uuid),this.alphaMap&&this.alphaMap.isTexture&&(t.alphaMap=this.alphaMap.toJSON(A).uuid),this.lightMap&&this.lightMap.isTexture&&(t.lightMap=this.lightMap.toJSON(A).uuid),this.aoMap&&this.aoMap.isTexture&&(t.aoMap=this.aoMap.toJSON(A).uuid,t.aoMapIntensity=this.aoMapIntensity),this.bumpMap&&this.bumpMap.isTexture&&(t.bumpMap=this.bumpMap.toJSON(A).uuid,t.bumpScale=this.bumpScale),this.normalMap&&this.normalMap.isTexture&&(t.normalMap=this.normalMap.toJSON(A).uuid,t.normalMapType=this.normalMapType,t.normalScale=this.normalScale.toArray()),this.displacementMap&&this.displacementMap.isTexture&&(t.displacementMap=this.displacementMap.toJSON(A).uuid,t.displacementScale=this.displacementScale,t.displacementBias=this.displacementBias),this.roughnessMap&&this.roughnessMap.isTexture&&(t.roughnessMap=this.roughnessMap.toJSON(A).uuid),this.metalnessMap&&this.metalnessMap.isTexture&&(t.metalnessMap=this.metalnessMap.toJSON(A).uuid),this.emissiveMap&&this.emissiveMap.isTexture&&(t.emissiveMap=this.emissiveMap.toJSON(A).uuid),this.specularMap&&this.specularMap.isTexture&&(t.specularMap=this.specularMap.toJSON(A).uuid),this.envMap&&this.envMap.isTexture&&(t.envMap=this.envMap.toJSON(A).uuid,t.reflectivity=this.reflectivity,t.refractionRatio=this.refractionRatio,void 0!==this.combine&&(t.combine=this.combine),void 0!==this.envMapIntensity&&(t.envMapIntensity=this.envMapIntensity)),this.gradientMap&&this.gradientMap.isTexture&&(t.gradientMap=this.gradientMap.toJSON(A).uuid),void 0!==this.size&&(t.size=this.size),void 0!==this.sizeAttenuation&&(t.sizeAttenuation=this.sizeAttenuation),this.blending!==Y&&(t.blending=this.blending),!0===this.flatShading&&(t.flatShading=this.flatShading),this.side!==U&&(t.side=this.side),this.vertexColors!==c&&(t.vertexColors=this.vertexColors),this.opacity<1&&(t.opacity=this.opacity),!0===this.transparent&&(t.transparent=this.transparent),t.depthFunc=this.depthFunc,t.depthTest=this.depthTest,t.depthWrite=this.depthWrite,t.stencilWrite=this.stencilWrite,t.stencilFunc=this.stencilFunc,t.stencilRef=this.stencilRef,t.stencilMask=this.stencilMask,t.stencilFail=this.stencilFail,t.stencilZFail=this.stencilZFail,t.stencilZPass=this.stencilZPass,this.rotation&&0!==this.rotation&&(t.rotation=this.rotation),!0===this.polygonOffset&&(t.polygonOffset=!0),0!==this.polygonOffsetFactor&&(t.polygonOffsetFactor=this.polygonOffsetFactor),0!==this.polygonOffsetUnits&&(t.polygonOffsetUnits=this.polygonOffsetUnits),this.linewidth&&1!==this.linewidth&&(t.linewidth=this.linewidth),void 0!==this.dashSize&&(t.dashSize=this.dashSize),void 0!==this.gapSize&&(t.gapSize=this.gapSize),void 0!==this.scale&&(t.scale=this.scale),!0===this.dithering&&(t.dithering=!0),0<this.alphaTest&&(t.alphaTest=this.alphaTest),!0===this.premultipliedAlpha&&(t.premultipliedAlpha=this.premultipliedAlpha),!0===this.wireframe&&(t.wireframe=this.wireframe),1<this.wireframeLinewidth&&(t.wireframeLinewidth=this.wireframeLinewidth),"round"!==this.wireframeLinecap&&(t.wireframeLinecap=this.wireframeLinecap),"round"!==this.wireframeLinejoin&&(t.wireframeLinejoin=this.wireframeLinejoin),!0===this.morphTargets&&(t.morphTargets=!0),!0===this.morphNormals&&(t.morphNormals=!0),!0===this.skinning&&(t.skinning=!0),!1===this.visible&&(t.visible=!1),"{}"!==JSON.stringify(this.userData)&&(t.userData=this.userData),e){var n=i(A.textures),o=i(A.images);0<n.length&&(t.textures=n),0<o.length&&(t.images=o)}return t},clone:function(){return(new this.constructor).copy(this)},copy:function(A){this.name=A.name,this.fog=A.fog,this.lights=A.lights,this.blending=A.blending,this.side=A.side,this.flatShading=A.flatShading,this.vertexColors=A.vertexColors,this.opacity=A.opacity,this.transparent=A.transparent,this.blendSrc=A.blendSrc,this.blendDst=A.blendDst,this.blendEquation=A.blendEquation,this.blendSrcAlpha=A.blendSrcAlpha,this.blendDstAlpha=A.blendDstAlpha,this.blendEquationAlpha=A.blendEquationAlpha,this.depthFunc=A.depthFunc,this.depthTest=A.depthTest,this.depthWrite=A.depthWrite,this.stencilWrite=A.stencilWrite,this.stencilFunc=A.stencilFunc,this.stencilRef=A.stencilRef,this.stencilMask=A.stencilMask,this.stencilFail=A.stencilFail,this.stencilZFail=A.stencilZFail,this.stencilZPass=A.stencilZPass,this.colorWrite=A.colorWrite,this.precision=A.precision,this.polygonOffset=A.polygonOffset,this.polygonOffsetFactor=A.polygonOffsetFactor,this.polygonOffsetUnits=A.polygonOffsetUnits,this.dithering=A.dithering,this.alphaTest=A.alphaTest,this.premultipliedAlpha=A.premultipliedAlpha,this.visible=A.visible,this.userData=JSON.parse(JSON.stringify(A.userData)),this.clipShadows=A.clipShadows,this.clipIntersection=A.clipIntersection;var e=A.clippingPlanes,t=null;if(null!==e){var i=e.length;t=new Array(i);for(var n=0;n!==i;++n)t[n]=e[n].clone()}return this.clippingPlanes=t,this.shadowSide=A.shadowSide,this},dispose:function(){this.dispatchEvent({type:"dispose"})}}),((yi.prototype=Object.create(vi.prototype)).constructor=yi).prototype.isMeshBasicMaterial=!0,yi.prototype.copy=function(A){return vi.prototype.copy.call(this,A),this.color.copy(A.color),this.map=A.map,this.lightMap=A.lightMap,this.lightMapIntensity=A.lightMapIntensity,this.aoMap=A.aoMap,this.aoMapIntensity=A.aoMapIntensity,this.specularMap=A.specularMap,this.alphaMap=A.alphaMap,this.envMap=A.envMap,this.combine=A.combine,this.reflectivity=A.reflectivity,this.refractionRatio=A.refractionRatio,this.wireframe=A.wireframe,this.wireframeLinewidth=A.wireframeLinewidth,this.wireframeLinecap=A.wireframeLinecap,this.wireframeLinejoin=A.wireframeLinejoin,this.skinning=A.skinning,this.morphTargets=A.morphTargets,this},Object.defineProperty(Ci.prototype,"needsUpdate",{set:function(A){!0===A&&this.version++}}),Object.assign(Ci.prototype,{isBufferAttribute:!0,onUploadCallback:function(){},setArray:function(A){if(Array.isArray(A))throw new TypeError("THREE.BufferAttribute: array should be a Typed Array.");return this.count=void 0!==A?A.length/this.itemSize:0,this.array=A,this},setDynamic:function(A){return this.dynamic=A,this},copy:function(A){return this.name=A.name,this.array=new A.array.constructor(A.array),this.itemSize=A.itemSize,this.count=A.count,this.normalized=A.normalized,this.dynamic=A.dynamic,this},copyAt:function(A,e,t){A*=this.itemSize,t*=e.itemSize;for(var i=0,n=this.itemSize;i<n;i++)this.array[A+i]=e.array[t+i];return this},copyArray:function(A){return this.array.set(A),this},copyColorsArray:function(A){for(var e=this.array,t=0,i=0,n=A.length;i<n;i++){var o=A[i];void 0===o&&(console.warn("THREE.BufferAttribute.copyColorsArray(): color is undefined",i),o=new hi),e[t++]=o.r,e[t++]=o.g,e[t++]=o.b}return this},copyVector2sArray:function(A){for(var e=this.array,t=0,i=0,n=A.length;i<n;i++){var o=A[i];void 0===o&&(console.warn("THREE.BufferAttribute.copyVector2sArray(): vector is undefined",i),o=new Le),e[t++]=o.x,e[t++]=o.y}return this},copyVector3sArray:function(A){for(var e=this.array,t=0,i=0,n=A.length;i<n;i++){var o=A[i];void 0===o&&(console.warn("THREE.BufferAttribute.copyVector3sArray(): vector is undefined",i),o=new Ue),e[t++]=o.x,e[t++]=o.y,e[t++]=o.z}return this},copyVector4sArray:function(A){for(var e=this.array,t=0,i=0,n=A.length;i<n;i++){var o=A[i];void 0===o&&(console.warn("THREE.BufferAttribute.copyVector4sArray(): vector is undefined",i),o=new Je),e[t++]=o.x,e[t++]=o.y,e[t++]=o.z,e[t++]=o.w}return this},set:function(A,e){return void 0===e&&(e=0),this.array.set(A,e),this},getX:function(A){return this.array[A*this.itemSize]},setX:function(A,e){return this.array[A*this.itemSize]=e,this},getY:function(A){return this.array[A*this.itemSize+1]},setY:function(A,e){return this.array[A*this.itemSize+1]=e,this},getZ:function(A){return this.array[A*this.itemSize+2]},setZ:function(A,e){return this.array[A*this.itemSize+2]=e,this},getW:function(A){return this.array[A*this.itemSize+3]},setW:function(A,e){return this.array[A*this.itemSize+3]=e,this},setXY:function(A,e,t){return this.array[(A*=this.itemSize)+0]=e,this.array[A+1]=t,this},setXYZ:function(A,e,t,i){return this.array[(A*=this.itemSize)+0]=e,this.array[A+1]=t,this.array[A+2]=i,this},setXYZW:function(A,e,t,i,n){return this.array[(A*=this.itemSize)+0]=e,this.array[A+1]=t,this.array[A+2]=i,this.array[A+3]=n,this},onUpload:function(A){return this.onUploadCallback=A,this},clone:function(){return new this.constructor(this.array,this.itemSize).copy(this)},toJSON:function(){return{itemSize:this.itemSize,type:this.array.constructor.name,array:Array.prototype.slice.call(this.array),normalized:this.normalized}}}),(Ii.prototype=Object.create(Ci.prototype)).constructor=Ii,(xi.prototype=Object.create(Ci.prototype)).constructor=xi,(bi.prototype=Object.create(Ci.prototype)).constructor=bi,(Ei.prototype=Object.create(Ci.prototype)).constructor=Ei,(wi.prototype=Object.create(Ci.prototype)).constructor=wi,(Mi.prototype=Object.create(Ci.prototype)).constructor=Mi,(Bi.prototype=Object.create(Ci.prototype)).constructor=Bi,(_i.prototype=Object.create(Ci.prototype)).constructor=_i,(Si.prototype=Object.create(Ci.prototype)).constructor=Si,Object.assign(Ti.prototype,{computeGroups:function(A){for(var e,t=[],i=void 0,n=A.faces,o=0;o<n.length;o++){var r=n[o];r.materialIndex!==i&&(i=r.materialIndex,void 0!==e&&(e.count=3*o-e.start,t.push(e)),e={start:3*o,materialIndex:i})}void 0!==e&&(e.count=3*o-e.start,t.push(e)),this.groups=t},fromGeometry:function(A){var e,t=A.faces,i=A.vertices,n=A.faceVertexUvs,o=n[0]&&0<n[0].length,r=n[1]&&0<n[1].length,a=A.morphTargets,s=a.length;if(0<s){e=[];for(var l=0;l<s;l++)e[l]={name:a[l].name,data:[]};this.morphTargets.position=e}var c,d=A.morphNormals,h=d.length;if(0<h){c=[];for(l=0;l<h;l++)c[l]={name:d[l].name,data:[]};this.morphTargets.normal=c}var u=A.skinIndices,p=A.skinWeights,g=u.length===i.length,f=p.length===i.length;0<i.length&&0===t.length&&console.error("THREE.DirectGeometry: Faceless geometries are not supported.");for(l=0;l<t.length;l++){var m=t[l];this.vertices.push(i[m.a],i[m.b],i[m.c]);var v=m.vertexNormals;if(3===v.length)this.normals.push(v[0],v[1],v[2]);else{var y=m.normal;this.normals.push(y,y,y)}var C,I=m.vertexColors;if(3===I.length)this.colors.push(I[0],I[1],I[2]);else{var x=m.color;this.colors.push(x,x,x)}if(!0===o)void 0!==(C=n[0][l])?this.uvs.push(C[0],C[1],C[2]):(console.warn("THREE.DirectGeometry.fromGeometry(): Undefined vertexUv ",l),this.uvs.push(new Le,new Le,new Le));if(!0===r)void 0!==(C=n[1][l])?this.uvs2.push(C[0],C[1],C[2]):(console.warn("THREE.DirectGeometry.fromGeometry(): Undefined vertexUv2 ",l),this.uvs2.push(new Le,new Le,new Le));for(var b=0;b<s;b++){var E=a[b].vertices;e[b].data.push(E[m.a],E[m.b],E[m.c])}for(b=0;b<h;b++){var w=d[b].vertexNormals[l];c[b].data.push(w.a,w.b,w.c)}g&&this.skinIndices.push(u[m.a],u[m.b],u[m.c]),f&&this.skinWeights.push(p[m.a],p[m.b],p[m.c])}return this.computeGroups(A),this.verticesNeedUpdate=A.verticesNeedUpdate,this.normalsNeedUpdate=A.normalsNeedUpdate,this.colorsNeedUpdate=A.colorsNeedUpdate,this.uvsNeedUpdate=A.uvsNeedUpdate,this.groupsNeedUpdate=A.groupsNeedUpdate,null!==A.boundingSphere&&(this.boundingSphere=A.boundingSphere.clone()),null!==A.boundingBox&&(this.boundingBox=A.boundingBox.clone()),this}});var Fi,Li,Oi,Ui,Ni,Ri,Pi,Di,Qi,ki,zi,Vi,Hi=1;function Gi(){Object.defineProperty(this,"id",{value:Hi+=2}),this.uuid=Fe.generateUUID(),this.name="",this.type="BufferGeometry",this.index=null,this.attributes={},this.morphAttributes={},this.groups=[],this.boundingBox=null,this.boundingSphere=null,this.drawRange={start:0,count:1/0},this.userData={}}function ji(A,e){ti.call(this),this.type="Mesh",this.geometry=void 0!==A?A:new Gi,this.material=void 0!==e?e:new yi({color:16777215*Math.random()}),this.drawMode=ve,this.updateMorphTargets()}Gi.prototype=Object.assign(Object.create(t.prototype),{constructor:Gi,isBufferGeometry:!0,getIndex:function(){return this.index},setIndex:function(A){this.index=Array.isArray(A)?new(65535<Ki(A)?Bi:wi)(A,1):A},addAttribute:function(A,e){return e&&e.isBufferAttribute||e&&e.isInterleavedBufferAttribute?("index"===A?(console.warn("THREE.BufferGeometry.addAttribute: Use .setIndex() for index attribute."),this.setIndex(e)):this.attributes[A]=e,this):(console.warn("THREE.BufferGeometry: .addAttribute() now expects ( name, attribute )."),this.addAttribute(A,new Ci(e,arguments[2])))},getAttribute:function(A){return this.attributes[A]},removeAttribute:function(A){return delete this.attributes[A],this},addGroup:function(A,e,t){this.groups.push({start:A,count:e,materialIndex:void 0!==t?t:0})},clearGroups:function(){this.groups=[]},setDrawRange:function(A,e){this.drawRange.start=A,this.drawRange.count=e},applyMatrix:function(A){var e=this.attributes.position;void 0!==e&&(A.applyToBufferAttribute(e),e.needsUpdate=!0);var t=this.attributes.normal;void 0!==t&&((new Ne).getNormalMatrix(A).applyToBufferAttribute(t),t.needsUpdate=!0);var i=this.attributes.tangent;void 0!==i&&((new Ne).getNormalMatrix(A).applyToBufferAttribute(i),i.needsUpdate=!0);return null!==this.boundingBox&&this.computeBoundingBox(),null!==this.boundingSphere&&this.computeBoundingSphere(),this},rotateX:(Vi=new At,function(A){return Vi.makeRotationX(A),this.applyMatrix(Vi),this}),rotateY:(zi=new At,function(A){return zi.makeRotationY(A),this.applyMatrix(zi),this}),rotateZ:(ki=new At,function(A){return ki.makeRotationZ(A),this.applyMatrix(ki),this}),translate:(Qi=new At,function(A,e,t){return Qi.makeTranslation(A,e,t),this.applyMatrix(Qi),this}),scale:(Di=new At,function(A,e,t){return Di.makeScale(A,e,t),this.applyMatrix(Di),this}),lookAt:(Pi=new ti,function(A){Pi.lookAt(A),Pi.updateMatrix(),this.applyMatrix(Pi.matrix)}),center:(Ri=new Ue,function(){return this.computeBoundingBox(),this.boundingBox.getCenter(Ri).negate(),this.translate(Ri.x,Ri.y,Ri.z),this}),setFromObject:function(A){var e=A.geometry;if(A.isPoints||A.isLine){var t=new _i(3*e.vertices.length,3),i=new _i(3*e.colors.length,3);if(this.addAttribute("position",t.copyVector3sArray(e.vertices)),this.addAttribute("color",i.copyColorsArray(e.colors)),e.lineDistances&&e.lineDistances.length===e.vertices.length){var n=new _i(e.lineDistances.length,1);this.addAttribute("lineDistance",n.copyArray(e.lineDistances))}null!==e.boundingSphere&&(this.boundingSphere=e.boundingSphere.clone()),null!==e.boundingBox&&(this.boundingBox=e.boundingBox.clone())}else A.isMesh&&e&&e.isGeometry&&this.fromGeometry(e);return this},setFromPoints:function(A){for(var e=[],t=0,i=A.length;t<i;t++){var n=A[t];e.push(n.x,n.y,n.z||0)}return this.addAttribute("position",new _i(e,3)),this},updateFromObject:function(A){var e,t=A.geometry;if(A.isMesh){var i=t.__directGeometry;if(!0===t.elementsNeedUpdate&&(i=void 0,t.elementsNeedUpdate=!1),void 0===i)return this.fromGeometry(t);i.verticesNeedUpdate=t.verticesNeedUpdate,i.normalsNeedUpdate=t.normalsNeedUpdate,i.colorsNeedUpdate=t.colorsNeedUpdate,i.uvsNeedUpdate=t.uvsNeedUpdate,i.groupsNeedUpdate=t.groupsNeedUpdate,t.verticesNeedUpdate=!1,t.normalsNeedUpdate=!1,t.colorsNeedUpdate=!1,t.uvsNeedUpdate=!1,t.groupsNeedUpdate=!1,t=i}return!0===t.verticesNeedUpdate&&(void 0!==(e=this.attributes.position)&&(e.copyVector3sArray(t.vertices),e.needsUpdate=!0),t.verticesNeedUpdate=!1),!0===t.normalsNeedUpdate&&(void 0!==(e=this.attributes.normal)&&(e.copyVector3sArray(t.normals),e.needsUpdate=!0),t.normalsNeedUpdate=!1),!0===t.colorsNeedUpdate&&(void 0!==(e=this.attributes.color)&&(e.copyColorsArray(t.colors),e.needsUpdate=!0),t.colorsNeedUpdate=!1),t.uvsNeedUpdate&&(void 0!==(e=this.attributes.uv)&&(e.copyVector2sArray(t.uvs),e.needsUpdate=!0),t.uvsNeedUpdate=!1),t.lineDistancesNeedUpdate&&(void 0!==(e=this.attributes.lineDistance)&&(e.copyArray(t.lineDistances),e.needsUpdate=!0),t.lineDistancesNeedUpdate=!1),t.groupsNeedUpdate&&(t.computeGroups(A.geometry),this.groups=t.groups,t.groupsNeedUpdate=!1),this},fromGeometry:function(A){return A.__directGeometry=(new Ti).fromGeometry(A),this.fromDirectGeometry(A.__directGeometry)},fromDirectGeometry:function(A){var e=new Float32Array(3*A.vertices.length);if(this.addAttribute("position",new Ci(e,3).copyVector3sArray(A.vertices)),0<A.normals.length){var t=new Float32Array(3*A.normals.length);this.addAttribute("normal",new Ci(t,3).copyVector3sArray(A.normals))}if(0<A.colors.length){var i=new Float32Array(3*A.colors.length);this.addAttribute("color",new Ci(i,3).copyColorsArray(A.colors))}if(0<A.uvs.length){var n=new Float32Array(2*A.uvs.length);this.addAttribute("uv",new Ci(n,2).copyVector2sArray(A.uvs))}if(0<A.uvs2.length){var o=new Float32Array(2*A.uvs2.length);this.addAttribute("uv2",new Ci(o,2).copyVector2sArray(A.uvs2))}for(var r in this.groups=A.groups,A.morphTargets){for(var a=[],s=A.morphTargets[r],l=0,c=s.length;l<c;l++){var d=s[l],h=new _i(3*d.data.length,3);h.name=d.name,a.push(h.copyVector3sArray(d.data))}this.morphAttributes[r]=a}if(0<A.skinIndices.length){var u=new _i(4*A.skinIndices.length,4);this.addAttribute("skinIndex",u.copyVector4sArray(A.skinIndices))}if(0<A.skinWeights.length){var p=new _i(4*A.skinWeights.length,4);this.addAttribute("skinWeight",p.copyVector4sArray(A.skinWeights))}return null!==A.boundingSphere&&(this.boundingSphere=A.boundingSphere.clone()),null!==A.boundingBox&&(this.boundingBox=A.boundingBox.clone()),this},computeBoundingBox:(Ni=new ni,function(){null===this.boundingBox&&(this.boundingBox=new ni);var A=this.attributes.position,e=this.morphAttributes.position;if(void 0!==A){if(this.boundingBox.setFromBufferAttribute(A),e)for(var t=0,i=e.length;t<i;t++)Ni.setFromBufferAttribute(e[t]),this.boundingBox.expandByPoint(Ni.min),this.boundingBox.expandByPoint(Ni.max)}else this.boundingBox.makeEmpty();(isNaN(this.boundingBox.min.x)||isNaN(this.boundingBox.min.y)||isNaN(this.boundingBox.min.z))&&console.error('THREE.BufferGeometry.computeBoundingBox: Computed min/max have NaN values. The "position" attribute is likely to have NaN values.',this)}),computeBoundingSphere:(Li=new ni,Oi=new ni,Ui=new Ue,function(){null===this.boundingSphere&&(this.boundingSphere=new oi);var A=this.attributes.position,e=this.morphAttributes.position;if(A){var t=this.boundingSphere.center;if(Li.setFromBufferAttribute(A),e)for(var i=0,n=e.length;i<n;i++)Oi.setFromBufferAttribute(r=e[i]),Li.expandByPoint(Oi.min),Li.expandByPoint(Oi.max);Li.getCenter(t);var o=0;for(i=0,n=A.count;i<n;i++)Ui.fromBufferAttribute(A,i),o=Math.max(o,t.distanceToSquared(Ui));if(e)for(i=0,n=e.length;i<n;i++)for(var r,a=0,s=(r=e[i]).count;a<s;a++)Ui.fromBufferAttribute(r,a),o=Math.max(o,t.distanceToSquared(Ui));this.boundingSphere.radius=Math.sqrt(o),isNaN(this.boundingSphere.radius)&&console.error('THREE.BufferGeometry.computeBoundingSphere(): Computed radius is NaN. The "position" attribute is likely to have NaN values.',this)}}),computeFaceNormals:function(){},computeVertexNormals:function(){var A=this.index,e=this.attributes;if(e.position){var t=e.position.array;if(void 0===e.normal)this.addAttribute("normal",new Ci(new Float32Array(t.length),3));else for(var i=e.normal.array,n=0,o=i.length;n<o;n++)i[n]=0;var r,a,s,l=e.normal.array,c=new Ue,d=new Ue,h=new Ue,u=new Ue,p=new Ue;if(A){var g=A.array;for(n=0,o=A.count;n<o;n+=3)a=3*g[n+1],s=3*g[n+2],c.fromArray(t,r=3*g[n+0]),d.fromArray(t,a),h.fromArray(t,s),u.subVectors(h,d),p.subVectors(c,d),u.cross(p),l[r]+=u.x,l[r+1]+=u.y,l[r+2]+=u.z,l[a]+=u.x,l[a+1]+=u.y,l[a+2]+=u.z,l[s]+=u.x,l[s+1]+=u.y,l[s+2]+=u.z}else for(n=0,o=t.length;n<o;n+=9)c.fromArray(t,n),d.fromArray(t,n+3),h.fromArray(t,n+6),u.subVectors(h,d),p.subVectors(c,d),u.cross(p),l[n]=u.x,l[n+1]=u.y,l[n+2]=u.z,l[n+3]=u.x,l[n+4]=u.y,l[n+5]=u.z,l[n+6]=u.x,l[n+7]=u.y,l[n+8]=u.z;this.normalizeNormals(),e.normal.needsUpdate=!0}},merge:function(A,e){if(A&&A.isBufferGeometry){void 0===e&&(e=0,console.warn("THREE.BufferGeometry.merge(): Overwriting original geometry, starting at offset=0. Use BufferGeometryUtils.mergeBufferGeometries() for lossless merge."));var t=this.attributes;for(var i in t)if(void 0!==A.attributes[i])for(var n=t[i].array,o=A.attributes[i],r=o.array,a=o.itemSize*e,s=Math.min(r.length,n.length-a),l=0,c=a;l<s;l++,c++)n[c]=r[l];return this}console.error("THREE.BufferGeometry.merge(): geometry not an instance of THREE.BufferGeometry.",A)},normalizeNormals:(Fi=new Ue,function(){for(var A=this.attributes.normal,e=0,t=A.count;e<t;e++)Fi.x=A.getX(e),Fi.y=A.getY(e),Fi.z=A.getZ(e),Fi.normalize(),A.setXYZ(e,Fi.x,Fi.y,Fi.z)}),toNonIndexed:function(){function A(A,e){for(var t=A.array,i=A.itemSize,n=new t.constructor(e.length*i),o=0,r=0,a=0,s=e.length;a<s;a++){o=e[a]*i;for(var l=0;l<i;l++)n[r++]=t[o++]}return new Ci(n,i)}if(null===this.index)return console.warn("THREE.BufferGeometry.toNonIndexed(): Geometry is already non-indexed."),this;var e=new Gi,t=this.index.array,i=this.attributes;for(var n in i){var o=A(i[n],t);e.addAttribute(n,o)}var r=this.morphAttributes;for(n in r){for(var a=[],s=r[n],l=0,c=s.length;l<c;l++){o=A(s[l],t);a.push(o)}e.morphAttributes[n]=a}for(var d=this.groups,h=(l=0,d.length);l<h;l++){var u=d[l];e.addGroup(u.start,u.count,u.materialIndex)}return e},toJSON:function(){var A={metadata:{version:4.5,type:"BufferGeometry",generator:"BufferGeometry.toJSON"}};if(A.uuid=this.uuid,A.type=this.type,""!==this.name&&(A.name=this.name),0<Object.keys(this.userData).length&&(A.userData=this.userData),void 0!==this.parameters){var e=this.parameters;for(var t in e)void 0!==e[t]&&(A[t]=e[t]);return A}A.data={attributes:{}};var i=this.index;null!==i&&(A.data.index={type:i.array.constructor.name,array:Array.prototype.slice.call(i.array)});var n=this.attributes;for(var t in n){var o=(h=n[t]).toJSON();""!==h.name&&(o.name=h.name),A.data.attributes[t]=o}var r={},a=!1;for(var t in this.morphAttributes){for(var s=this.morphAttributes[t],l=[],c=0,d=s.length;c<d;c++){var h;o=(h=s[c]).toJSON();""!==h.name&&(o.name=h.name),l.push(o)}0<l.length&&(r[t]=l,a=!0)}a&&(A.data.morphAttributes=r);var u=this.groups;0<u.length&&(A.data.groups=JSON.parse(JSON.stringify(u)));var p=this.boundingSphere;return null!==p&&(A.data.boundingSphere={center:p.center.toArray(),radius:p.radius}),A},clone:function(){return(new Gi).copy(this)},copy:function(A){var e,t,i;this.index=null,this.attributes={},this.morphAttributes={},this.groups=[],this.boundingBox=null,this.boundingSphere=null,this.name=A.name;var n=A.index;null!==n&&this.setIndex(n.clone());var o=A.attributes;for(e in o){this.addAttribute(e,o[e].clone())}var r=A.morphAttributes;for(e in r){var a=[],s=r[e];for(t=0,i=s.length;t<i;t++)a.push(s[t].clone());this.morphAttributes[e]=a}var l=A.groups;for(t=0,i=l.length;t<i;t++){var c=l[t];this.addGroup(c.start,c.count,c.materialIndex)}var d=A.boundingBox;null!==d&&(this.boundingBox=d.clone());var h=A.boundingSphere;return null!==h&&(this.boundingSphere=h.clone()),this.drawRange.start=A.drawRange.start,this.drawRange.count=A.drawRange.count,this.userData=A.userData,this},dispose:function(){this.dispatchEvent({type:"dispose"})}}),ji.prototype=Object.assign(Object.create(ti.prototype),{constructor:ji,isMesh:!0,setDrawMode:function(A){this.drawMode=A},copy:function(A){return ti.prototype.copy.call(this,A),this.drawMode=A.drawMode,void 0!==A.morphTargetInfluences&&(this.morphTargetInfluences=A.morphTargetInfluences.slice()),void 0!==A.morphTargetDictionary&&(this.morphTargetDictionary=Object.assign({},A.morphTargetDictionary)),this},updateMorphTargets:function(){var A,e,t,i=this.geometry;if(i.isBufferGeometry){var n=i.morphAttributes,o=Object.keys(n);if(0<o.length){var r=n[o[0]];if(void 0!==r)for(this.morphTargetInfluences=[],this.morphTargetDictionary={},A=0,e=r.length;A<e;A++)t=r[A].name||String(A),this.morphTargetInfluences.push(0),this.morphTargetDictionary[t]=A}}else{var a=i.morphTargets;void 0!==a&&0<a.length&&console.error("THREE.Mesh.updateMorphTargets() no longer supports THREE.Geometry. Use THREE.BufferGeometry instead.")}},raycast:function(){var U=new At,N=new ri,R=new oi,v=new Ue,y=new Ue,C=new Ue,I=new Ue,x=new Ue,b=new Ue,E=new Ue,w=new Ue,M=new Ue,P=new Le,D=new Le,Q=new Le,k=new Ue,l=new Ue;function z(A,e,t,i,n,o,r,a){if(null===(e.side===IA?i.intersectTriangle(r,o,n,!0,a):i.intersectTriangle(n,o,r,e.side!==gA,a)))return null;l.copy(a),l.applyMatrix4(A.matrixWorld);var s=t.ray.origin.distanceTo(l);return s<t.near||t.far<s?null:{distance:s,point:l.clone(),object:A}}function V(A,e,t,i,n,o,r,a,s,l,c){v.fromBufferAttribute(n,s),y.fromBufferAttribute(n,l),C.fromBufferAttribute(n,c);var d=A.morphTargetInfluences;if(e.morphTargets&&o&&d){E.set(0,0,0),w.set(0,0,0),M.set(0,0,0);for(var h=0,u=o.length;h<u;h++){var p=d[h],g=o[h];0!==p&&(I.fromBufferAttribute(g,s),x.fromBufferAttribute(g,l),b.fromBufferAttribute(g,c),E.addScaledVector(I.sub(v),p),w.addScaledVector(x.sub(y),p),M.addScaledVector(b.sub(C),p))}v.add(E),y.add(w),C.add(M)}var f=z(A,e,t,i,v,y,C,k);if(f){r&&(P.fromBufferAttribute(r,s),D.fromBufferAttribute(r,l),Q.fromBufferAttribute(r,c),f.uv=ai.getUV(k,v,y,C,P,D,Q,new Le)),a&&(P.fromBufferAttribute(a,s),D.fromBufferAttribute(a,l),Q.fromBufferAttribute(a,c),f.uv2=ai.getUV(k,v,y,C,P,D,Q,new Le));var m=new fi(s,l,c);ai.getNormal(v,y,C,m.normal),f.face=m}return f}return function(A,e){var t,i=this.geometry,n=this.material,o=this.matrixWorld;if(void 0!==n&&(null===i.boundingSphere&&i.computeBoundingSphere(),R.copy(i.boundingSphere),R.applyMatrix4(o),!1!==A.ray.intersectsSphere(R)&&(U.getInverse(o),N.copy(A.ray).applyMatrix4(U),null===i.boundingBox||!1!==N.intersectsBox(i.boundingBox))))if(i.isBufferGeometry){var r,a,s,l,c,d,h,u,p,g=i.index,f=i.attributes.position,m=i.morphAttributes.position,v=i.attributes.uv,y=i.attributes.uv2,C=i.groups,I=i.drawRange;if(null!==g)if(Array.isArray(n))for(l=0,d=C.length;l<d;l++)for(p=n[(u=C[l]).materialIndex],c=Math.max(u.start,I.start),h=Math.min(u.start+u.count,I.start+I.count);c<h;c+=3)r=g.getX(c),a=g.getX(c+1),s=g.getX(c+2),(t=V(this,p,A,N,f,m,v,y,r,a,s))&&(t.faceIndex=Math.floor(c/3),t.face.materialIndex=u.materialIndex,e.push(t));else for(l=Math.max(0,I.start),d=Math.min(g.count,I.start+I.count);l<d;l+=3)r=g.getX(l),a=g.getX(l+1),s=g.getX(l+2),(t=V(this,n,A,N,f,m,v,y,r,a,s))&&(t.faceIndex=Math.floor(l/3),e.push(t));else if(void 0!==f)if(Array.isArray(n))for(l=0,d=C.length;l<d;l++)for(p=n[(u=C[l]).materialIndex],c=Math.max(u.start,I.start),h=Math.min(u.start+u.count,I.start+I.count);c<h;c+=3)(t=V(this,p,A,N,f,m,v,y,r=c,a=c+1,s=c+2))&&(t.faceIndex=Math.floor(c/3),t.face.materialIndex=u.materialIndex,e.push(t));else for(l=Math.max(0,I.start),d=Math.min(f.count,I.start+I.count);l<d;l+=3)(t=V(this,n,A,N,f,m,v,y,r=l,a=l+1,s=l+2))&&(t.faceIndex=Math.floor(l/3),e.push(t))}else if(i.isGeometry){var x,b,E,w,M=Array.isArray(n),B=i.vertices,_=i.faces,S=i.faceVertexUvs[0];0<S.length&&(w=S);for(var T=0,K=_.length;T<K;T++){var F=_[T],L=M?n[F.materialIndex]:n;if(void 0!==L&&(t=z(this,L,A,N,x=B[F.a],b=B[F.b],E=B[F.c],k))){if(w&&w[T]){var O=w[T];P.copy(O[0]),D.copy(O[1]),Q.copy(O[2]),t.uv=ai.getUV(k,x,b,E,P,D,Q,new Le)}t.face=F,t.faceIndex=T,e.push(t)}}}}}(),clone:function(){return new this.constructor(this.geometry,this.material).copy(this)}});var Wi,qi,Xi,Yi,Ji,Zi,$i,An=0;function en(){Object.defineProperty(this,"id",{value:An+=2}),this.uuid=Fe.generateUUID(),this.name="",this.type="Geometry",this.vertices=[],this.colors=[],this.faces=[],this.faceVertexUvs=[[]],this.morphTargets=[],this.morphNormals=[],this.skinWeights=[],this.skinIndices=[],this.lineDistances=[],this.boundingBox=null,this.boundingSphere=null,this.elementsNeedUpdate=!1,this.verticesNeedUpdate=!1,this.uvsNeedUpdate=!1,this.normalsNeedUpdate=!1,this.colorsNeedUpdate=!1,this.lineDistancesNeedUpdate=!1,this.groupsNeedUpdate=!1}function tn(A,e,t,i,n,o){en.call(this),this.type="BoxGeometry",this.parameters={width:A,height:e,depth:t,widthSegments:i,heightSegments:n,depthSegments:o},this.fromBufferGeometry(new nn(A,e,t,i,n,o)),this.mergeVertices()}function nn(A,e,t,i,n,o){Gi.call(this),this.type="BoxBufferGeometry",this.parameters={width:A,height:e,depth:t,widthSegments:i,heightSegments:n,depthSegments:o};var B=this;A=A||1,e=e||1,t=t||1,i=Math.floor(i)||1,n=Math.floor(n)||1,o=Math.floor(o)||1;var _=[],S=[],T=[],K=[],F=0,L=0;function r(A,e,t,i,n,o,r,a,s,l,c){var d,h,u=o/s,p=r/l,g=o/2,f=r/2,m=a/2,v=s+1,y=l+1,C=0,I=0,x=new Ue;for(h=0;h<y;h++){var b=h*p-f;for(d=0;d<v;d++){x[A]=(d*u-g)*i,x[e]=b*n,x[t]=m,S.push(x.x,x.y,x.z),x[A]=0,x[e]=0,x[t]=0<a?1:-1,T.push(x.x,x.y,x.z),K.push(d/s),K.push(1-h/l),C+=1}}for(h=0;h<l;h++)for(d=0;d<s;d++){var E=F+d+v*(h+1),w=F+(d+1)+v*(h+1),M=F+(d+1)+v*h;_.push(F+d+v*h,E,M),_.push(E,w,M),I+=6}B.addGroup(L,I,c),L+=I,F+=C}r("z","y","x",-1,-1,t,e,A,o,n,0),r("z","y","x",1,-1,t,e,-A,o,n,1),r("x","z","y",1,1,A,t,e,i,o,2),r("x","z","y",1,-1,A,t,-e,i,o,3),r("x","y","z",1,-1,A,e,t,i,n,4),r("x","y","z",-1,-1,A,e,-t,i,n,5),this.setIndex(_),this.addAttribute("position",new _i(S,3)),this.addAttribute("normal",new _i(T,3)),this.addAttribute("uv",new _i(K,2))}function on(A){var e={};for(var t in A)for(var i in e[t]={},A[t]){var n=A[t][i];e[t][i]=n&&(n.isColor||n.isMatrix3||n.isMatrix4||n.isVector2||n.isVector3||n.isVector4||n.isTexture)?n.clone():Array.isArray(n)?n.slice():n}return e}function rn(A){for(var e={},t=0;t<A.length;t++){var i=on(A[t]);for(var n in i)e[n]=i[n]}return e}en.prototype=Object.assign(Object.create(t.prototype),{constructor:en,isGeometry:!0,applyMatrix:function(A){for(var e=(new Ne).getNormalMatrix(A),t=0,i=this.vertices.length;t<i;t++){this.vertices[t].applyMatrix4(A)}for(t=0,i=this.faces.length;t<i;t++){var n=this.faces[t];n.normal.applyMatrix3(e).normalize();for(var o=0,r=n.vertexNormals.length;o<r;o++)n.vertexNormals[o].applyMatrix3(e).normalize()}return null!==this.boundingBox&&this.computeBoundingBox(),null!==this.boundingSphere&&this.computeBoundingSphere(),this.verticesNeedUpdate=!0,this.normalsNeedUpdate=!0,this},rotateX:($i=new At,function(A){return $i.makeRotationX(A),this.applyMatrix($i),this}),rotateY:(Zi=new At,function(A){return Zi.makeRotationY(A),this.applyMatrix(Zi),this}),rotateZ:(Ji=new At,function(A){return Ji.makeRotationZ(A),this.applyMatrix(Ji),this}),translate:(Yi=new At,function(A,e,t){return Yi.makeTranslation(A,e,t),this.applyMatrix(Yi),this}),scale:(Xi=new At,function(A,e,t){return Xi.makeScale(A,e,t),this.applyMatrix(Xi),this}),lookAt:(qi=new ti,function(A){qi.lookAt(A),qi.updateMatrix(),this.applyMatrix(qi.matrix)}),fromBufferGeometry:function(A){var r=this,e=null!==A.index?A.index.array:void 0,t=A.attributes,i=t.position.array,a=void 0!==t.normal?t.normal.array:void 0,s=void 0!==t.color?t.color.array:void 0,l=void 0!==t.uv?t.uv.array:void 0,c=void 0!==t.uv2?t.uv2.array:void 0;void 0!==c&&(this.faceVertexUvs[1]=[]);for(var n=0;n<i.length;n+=3)r.vertices.push((new Ue).fromArray(i,n)),void 0!==s&&r.colors.push((new hi).fromArray(s,n));function o(A,e,t,i){var n=void 0===s?[]:[r.colors[A].clone(),r.colors[e].clone(),r.colors[t].clone()],o=new fi(A,e,t,void 0===a?[]:[(new Ue).fromArray(a,3*A),(new Ue).fromArray(a,3*e),(new Ue).fromArray(a,3*t)],n,i);r.faces.push(o),void 0!==l&&r.faceVertexUvs[0].push([(new Le).fromArray(l,2*A),(new Le).fromArray(l,2*e),(new Le).fromArray(l,2*t)]),void 0!==c&&r.faceVertexUvs[1].push([(new Le).fromArray(c,2*A),(new Le).fromArray(c,2*e),(new Le).fromArray(c,2*t)])}var d=A.groups;if(0<d.length)for(n=0;n<d.length;n++)for(var h=d[n],u=h.start,p=u,g=u+h.count;p<g;p+=3)void 0!==e?o(e[p],e[p+1],e[p+2],h.materialIndex):o(p,p+1,p+2,h.materialIndex);else if(void 0!==e)for(n=0;n<e.length;n+=3)o(e[n],e[n+1],e[n+2]);else for(n=0;n<i.length/3;n+=3)o(n,n+1,n+2);return this.computeFaceNormals(),null!==A.boundingBox&&(this.boundingBox=A.boundingBox.clone()),null!==A.boundingSphere&&(this.boundingSphere=A.boundingSphere.clone()),this},center:(Wi=new Ue,function(){return this.computeBoundingBox(),this.boundingBox.getCenter(Wi).negate(),this.translate(Wi.x,Wi.y,Wi.z),this}),normalize:function(){this.computeBoundingSphere();var A=this.boundingSphere.center,e=this.boundingSphere.radius,t=0===e?1:1/e,i=new At;return i.set(t,0,0,-t*A.x,0,t,0,-t*A.y,0,0,t,-t*A.z,0,0,0,1),this.applyMatrix(i),this},computeFaceNormals:function(){for(var A=new Ue,e=new Ue,t=0,i=this.faces.length;t<i;t++){var n=this.faces[t],o=this.vertices[n.a],r=this.vertices[n.b];A.subVectors(this.vertices[n.c],r),e.subVectors(o,r),A.cross(e),A.normalize(),n.normal.copy(A)}},computeVertexNormals:function(A){var e,t,i,n,o,r;for(void 0===A&&(A=!0),r=new Array(this.vertices.length),e=0,t=this.vertices.length;e<t;e++)r[e]=new Ue;if(A){var a,s,l=new Ue,c=new Ue;for(i=0,n=this.faces.length;i<n;i++)a=this.vertices[(o=this.faces[i]).a],l.subVectors(this.vertices[o.c],s=this.vertices[o.b]),c.subVectors(a,s),l.cross(c),r[o.a].add(l),r[o.b].add(l),r[o.c].add(l)}else for(this.computeFaceNormals(),i=0,n=this.faces.length;i<n;i++)r[(o=this.faces[i]).a].add(o.normal),r[o.b].add(o.normal),r[o.c].add(o.normal);for(e=0,t=this.vertices.length;e<t;e++)r[e].normalize();for(i=0,n=this.faces.length;i<n;i++){var d=(o=this.faces[i]).vertexNormals;3===d.length?(d[0].copy(r[o.a]),d[1].copy(r[o.b]),d[2].copy(r[o.c])):(d[0]=r[o.a].clone(),d[1]=r[o.b].clone(),d[2]=r[o.c].clone())}0<this.faces.length&&(this.normalsNeedUpdate=!0)},computeFlatVertexNormals:function(){var A,e,t;for(this.computeFaceNormals(),A=0,e=this.faces.length;A<e;A++){var i=(t=this.faces[A]).vertexNormals;3===i.length?(i[0].copy(t.normal),i[1].copy(t.normal),i[2].copy(t.normal)):(i[0]=t.normal.clone(),i[1]=t.normal.clone(),i[2]=t.normal.clone())}0<this.faces.length&&(this.normalsNeedUpdate=!0)},computeMorphNormals:function(){var A,e,t,i,n;for(t=0,i=this.faces.length;t<i;t++)for((n=this.faces[t]).__originalFaceNormal?n.__originalFaceNormal.copy(n.normal):n.__originalFaceNormal=n.normal.clone(),n.__originalVertexNormals||(n.__originalVertexNormals=[]),A=0,e=n.vertexNormals.length;A<e;A++)n.__originalVertexNormals[A]?n.__originalVertexNormals[A].copy(n.vertexNormals[A]):n.__originalVertexNormals[A]=n.vertexNormals[A].clone();var o=new en;for(o.faces=this.faces,A=0,e=this.morphTargets.length;A<e;A++){if(!this.morphNormals[A]){this.morphNormals[A]={},this.morphNormals[A].faceNormals=[],this.morphNormals[A].vertexNormals=[];var r=this.morphNormals[A].faceNormals,a=this.morphNormals[A].vertexNormals;for(t=0,i=this.faces.length;t<i;t++)s=new Ue,l={a:new Ue,b:new Ue,c:new Ue},r.push(s),a.push(l)}var s,l,c=this.morphNormals[A];for(o.vertices=this.morphTargets[A].vertices,o.computeFaceNormals(),o.computeVertexNormals(),t=0,i=this.faces.length;t<i;t++)l=c.vertexNormals[t],(s=c.faceNormals[t]).copy((n=this.faces[t]).normal),l.a.copy(n.vertexNormals[0]),l.b.copy(n.vertexNormals[1]),l.c.copy(n.vertexNormals[2])}for(t=0,i=this.faces.length;t<i;t++)(n=this.faces[t]).normal=n.__originalFaceNormal,n.vertexNormals=n.__originalVertexNormals},computeBoundingBox:function(){null===this.boundingBox&&(this.boundingBox=new ni),this.boundingBox.setFromPoints(this.vertices)},computeBoundingSphere:function(){null===this.boundingSphere&&(this.boundingSphere=new oi),this.boundingSphere.setFromPoints(this.vertices)},merge:function(A,e,t){if(A&&A.isGeometry){var i,n=this.vertices.length,o=this.vertices,r=A.vertices,a=this.faces,s=A.faces,l=this.colors,c=A.colors;void 0===t&&(t=0),void 0!==e&&(i=(new Ne).getNormalMatrix(e));for(var d=0,h=r.length;d<h;d++){var u=r[d].clone();void 0!==e&&u.applyMatrix4(e),o.push(u)}for(d=0,h=c.length;d<h;d++)l.push(c[d].clone());for(d=0,h=s.length;d<h;d++){var p,g,f=s[d],m=f.vertexNormals,v=f.vertexColors;(p=new fi(f.a+n,f.b+n,f.c+n)).normal.copy(f.normal),void 0!==i&&p.normal.applyMatrix3(i).normalize();for(var y=0,C=m.length;y<C;y++)g=m[y].clone(),void 0!==i&&g.applyMatrix3(i).normalize(),p.vertexNormals.push(g);p.color.copy(f.color);for(y=0,C=v.length;y<C;y++)p.vertexColors.push(v[y].clone());p.materialIndex=f.materialIndex+t,a.push(p)}for(d=0,h=A.faceVertexUvs.length;d<h;d++){var I=A.faceVertexUvs[d];void 0===this.faceVertexUvs[d]&&(this.faceVertexUvs[d]=[]);for(y=0,C=I.length;y<C;y++){for(var x=I[y],b=[],E=0,w=x.length;E<w;E++)b.push(x[E].clone());this.faceVertexUvs[d].push(b)}}}else console.error("THREE.Geometry.merge(): geometry not an instance of THREE.Geometry.",A)},mergeMesh:function(A){A&&A.isMesh?(A.matrixAutoUpdate&&A.updateMatrix(),this.merge(A.geometry,A.matrix)):console.error("THREE.Geometry.mergeMesh(): mesh not an instance of THREE.Mesh.",A)},mergeVertices:function(){var A,e,t,i,n,o,r,a,s={},l=[],c=[],d=Math.pow(10,4);for(t=0,i=this.vertices.length;t<i;t++)A=this.vertices[t],e=Math.round(A.x*d)+"_"+Math.round(A.y*d)+"_"+Math.round(A.z*d),c[t]=void 0===s[e]?(l.push(this.vertices[s[e]=t]),l.length-1):c[s[e]];var h=[];for(t=0,i=this.faces.length;t<i;t++){(n=this.faces[t]).a=c[n.a],n.b=c[n.b],n.c=c[n.c],o=[n.a,n.b,n.c];for(var u=0;u<3;u++)if(o[u]===o[(u+1)%3]){h.push(t);break}}for(t=h.length-1;0<=t;t--){var p=h[t];for(this.faces.splice(p,1),r=0,a=this.faceVertexUvs.length;r<a;r++)this.faceVertexUvs[r].splice(p,1)}var g=this.vertices.length-l.length;return this.vertices=l,g},setFromPoints:function(A){this.vertices=[];for(var e=0,t=A.length;e<t;e++){var i=A[e];this.vertices.push(new Ue(i.x,i.y,i.z||0))}return this},sortFacesByMaterialIndex:function(){for(var A=this.faces,e=A.length,t=0;t<e;t++)A[t]._id=t;A.sort(function(A,e){return A.materialIndex-e.materialIndex});var i,n,o=this.faceVertexUvs[0],r=this.faceVertexUvs[1];o&&o.length===e&&(i=[]),r&&r.length===e&&(n=[]);for(t=0;t<e;t++){var a=A[t]._id;i&&i.push(o[a]),n&&n.push(r[a])}i&&(this.faceVertexUvs[0]=i),n&&(this.faceVertexUvs[1]=n)},toJSON:function(){var A={metadata:{version:4.5,type:"Geometry",generator:"Geometry.toJSON"}};if(A.uuid=this.uuid,A.type=this.type,""!==this.name&&(A.name=this.name),void 0!==this.parameters){var e=this.parameters;for(var t in e)void 0!==e[t]&&(A[t]=e[t]);return A}for(var i=[],n=0;n<this.vertices.length;n++){var o=this.vertices[n];i.push(o.x,o.y,o.z)}var r=[],a=[],s={},l=[],c={},d=[],h={};for(n=0;n<this.faces.length;n++){var u=this.faces[n],p=void 0!==this.faceVertexUvs[0][n],g=0<u.normal.length(),f=0<u.vertexNormals.length,m=1!==u.color.r||1!==u.color.g||1!==u.color.b,v=0<u.vertexColors.length,y=0;if(y=b(y=b(y=b(y=b(y=b(y=b(y=b(y=b(y,0,0),1,!0),2,!1),3,p),4,g),5,f),6,m),7,v),r.push(y),r.push(u.a,u.b,u.c),r.push(u.materialIndex),p){var C=this.faceVertexUvs[0][n];r.push(M(C[0]),M(C[1]),M(C[2]))}if(g&&r.push(E(u.normal)),f){var I=u.vertexNormals;r.push(E(I[0]),E(I[1]),E(I[2]))}if(m&&r.push(w(u.color)),v){var x=u.vertexColors;r.push(w(x[0]),w(x[1]),w(x[2]))}}function b(A,e,t){return t?A|1<<e:A&~(1<<e)}function E(A){var e=A.x.toString()+A.y.toString()+A.z.toString();return void 0!==s[e]||(s[e]=a.length/3,a.push(A.x,A.y,A.z)),s[e]}function w(A){var e=A.r.toString()+A.g.toString()+A.b.toString();return void 0!==c[e]||(c[e]=l.length,l.push(A.getHex())),c[e]}function M(A){var e=A.x.toString()+A.y.toString();return void 0!==h[e]||(h[e]=d.length/2,d.push(A.x,A.y)),h[e]}return A.data={},A.data.vertices=i,A.data.normals=a,0<l.length&&(A.data.colors=l),0<d.length&&(A.data.uvs=[d]),A.data.faces=r,A},clone:function(){return(new en).copy(this)},copy:function(A){var e,t,i,n,o,r;this.vertices=[],this.colors=[],this.faces=[],this.faceVertexUvs=[[]],this.morphTargets=[],this.morphNormals=[],this.skinWeights=[],this.skinIndices=[],this.lineDistances=[],this.boundingBox=null,this.boundingSphere=null,this.name=A.name;var a=A.vertices;for(e=0,t=a.length;e<t;e++)this.vertices.push(a[e].clone());var s=A.colors;for(e=0,t=s.length;e<t;e++)this.colors.push(s[e].clone());var l=A.faces;for(e=0,t=l.length;e<t;e++)this.faces.push(l[e].clone());for(e=0,t=A.faceVertexUvs.length;e<t;e++){var c=A.faceVertexUvs[e];for(void 0===this.faceVertexUvs[e]&&(this.faceVertexUvs[e]=[]),i=0,n=c.length;i<n;i++){var d=c[i],h=[];for(o=0,r=d.length;o<r;o++){h.push(d[o].clone())}this.faceVertexUvs[e].push(h)}}var u=A.morphTargets;for(e=0,t=u.length;e<t;e++){var p={};if(p.name=u[e].name,void 0!==u[e].vertices)for(p.vertices=[],i=0,n=u[e].vertices.length;i<n;i++)p.vertices.push(u[e].vertices[i].clone());if(void 0!==u[e].normals)for(p.normals=[],i=0,n=u[e].normals.length;i<n;i++)p.normals.push(u[e].normals[i].clone());this.morphTargets.push(p)}var g=A.morphNormals;for(e=0,t=g.length;e<t;e++){var f={};if(void 0!==g[e].vertexNormals)for(f.vertexNormals=[],i=0,n=g[e].vertexNormals.length;i<n;i++){var m=g[e].vertexNormals[i],v={};v.a=m.a.clone(),v.b=m.b.clone(),v.c=m.c.clone(),f.vertexNormals.push(v)}if(void 0!==g[e].faceNormals)for(f.faceNormals=[],i=0,n=g[e].faceNormals.length;i<n;i++)f.faceNormals.push(g[e].faceNormals[i].clone());this.morphNormals.push(f)}var y=A.skinWeights;for(e=0,t=y.length;e<t;e++)this.skinWeights.push(y[e].clone());var C=A.skinIndices;for(e=0,t=C.length;e<t;e++)this.skinIndices.push(C[e].clone());var I=A.lineDistances;for(e=0,t=I.length;e<t;e++)this.lineDistances.push(I[e]);var x=A.boundingBox;null!==x&&(this.boundingBox=x.clone());var b=A.boundingSphere;return null!==b&&(this.boundingSphere=b.clone()),this.elementsNeedUpdate=A.elementsNeedUpdate,this.verticesNeedUpdate=A.verticesNeedUpdate,this.uvsNeedUpdate=A.uvsNeedUpdate,this.normalsNeedUpdate=A.normalsNeedUpdate,this.colorsNeedUpdate=A.colorsNeedUpdate,this.lineDistancesNeedUpdate=A.lineDistancesNeedUpdate,this.groupsNeedUpdate=A.groupsNeedUpdate,this},dispose:function(){this.dispatchEvent({type:"dispose"})}}),(tn.prototype=Object.create(en.prototype)).constructor=tn,(nn.prototype=Object.create(Gi.prototype)).constructor=nn;var an={clone:on,merge:rn},sn="void main() {\n\tgl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );\n}",ln="void main() {\n\tgl_FragColor = vec4( 1.0, 0.0, 0.0, 1.0 );\n}";function cn(A){vi.call(this),this.type="ShaderMaterial",this.defines={},this.uniforms={},this.vertexShader=sn,this.fragmentShader=ln,this.linewidth=1,this.wireframe=!1,this.wireframeLinewidth=1,this.fog=!1,this.lights=!1,this.clipping=!1,this.skinning=!1,this.morphTargets=!1,this.morphNormals=!1,this.extensions={derivatives:!1,fragDepth:!1,drawBuffers:!1,shaderTextureLOD:!1},this.defaultAttributeValues={color:[1,1,1],uv:[0,0],uv2:[0,0]},this.index0AttributeName=void 0,this.uniformsNeedUpdate=!1,void 0!==A&&(void 0!==A.attributes&&console.error("THREE.ShaderMaterial: attributes should now be defined in THREE.BufferGeometry instead."),this.setValues(A))}function dn(){ti.call(this),this.type="Camera",this.matrixWorldInverse=new At,this.projectionMatrix=new At,this.projectionMatrixInverse=new At}function hn(A,e,t,i){dn.call(this),this.type="PerspectiveCamera",this.fov=void 0!==A?A:50,this.zoom=1,this.near=void 0!==t?t:.1,this.far=void 0!==i?i:2e3,this.focus=10,this.aspect=void 0!==e?e:1,this.view=null,this.filmGauge=35,this.filmOffset=0,this.updateProjectionMatrix()}((cn.prototype=Object.create(vi.prototype)).constructor=cn).prototype.isShaderMaterial=!0,cn.prototype.copy=function(A){return vi.prototype.copy.call(this,A),this.fragmentShader=A.fragmentShader,this.vertexShader=A.vertexShader,this.uniforms=on(A.uniforms),this.defines=Object.assign({},A.defines),this.wireframe=A.wireframe,this.wireframeLinewidth=A.wireframeLinewidth,this.lights=A.lights,this.clipping=A.clipping,this.skinning=A.skinning,this.morphTargets=A.morphTargets,this.morphNormals=A.morphNormals,this.extensions=A.extensions,this},cn.prototype.toJSON=function(A){var e=vi.prototype.toJSON.call(this,A);for(var t in e.uniforms={},this.uniforms){var i=this.uniforms[t].value;e.uniforms[t]=i&&i.isTexture?{type:"t",value:i.toJSON(A).uuid}:i&&i.isColor?{type:"c",value:i.getHex()}:i&&i.isVector2?{type:"v2",value:i.toArray()}:i&&i.isVector3?{type:"v3",value:i.toArray()}:i&&i.isVector4?{type:"v4",value:i.toArray()}:i&&i.isMatrix3?{type:"m3",value:i.toArray()}:i&&i.isMatrix4?{type:"m4",value:i.toArray()}:{value:i}}0<Object.keys(this.defines).length&&(e.defines=this.defines),e.vertexShader=this.vertexShader,e.fragmentShader=this.fragmentShader;var n={};for(var o in this.extensions)!0===this.extensions[o]&&(n[o]=!0);return 0<Object.keys(n).length&&(e.extensions=n),e},dn.prototype=Object.assign(Object.create(ti.prototype),{constructor:dn,isCamera:!0,copy:function(A,e){return ti.prototype.copy.call(this,A,e),this.matrixWorldInverse.copy(A.matrixWorldInverse),this.projectionMatrix.copy(A.projectionMatrix),this.projectionMatrixInverse.copy(A.projectionMatrixInverse),this},getWorldDirection:function(A){void 0===A&&(console.warn("THREE.Camera: .getWorldDirection() target is now required"),A=new Ue),this.updateMatrixWorld(!0);var e=this.matrixWorld.elements;return A.set(-e[8],-e[9],-e[10]).normalize()},updateMatrixWorld:function(A){ti.prototype.updateMatrixWorld.call(this,A),this.matrixWorldInverse.getInverse(this.matrixWorld)},clone:function(){return(new this.constructor).copy(this)}}),hn.prototype=Object.assign(Object.create(dn.prototype),{constructor:hn,isPerspectiveCamera:!0,copy:function(A,e){return dn.prototype.copy.call(this,A,e),this.fov=A.fov,this.zoom=A.zoom,this.near=A.near,this.far=A.far,this.focus=A.focus,this.aspect=A.aspect,this.view=null===A.view?null:Object.assign({},A.view),this.filmGauge=A.filmGauge,this.filmOffset=A.filmOffset,this},setFocalLength:function(A){var e=.5*this.getFilmHeight()/A;this.fov=2*Fe.RAD2DEG*Math.atan(e),this.updateProjectionMatrix()},getFocalLength:function(){var A=Math.tan(.5*Fe.DEG2RAD*this.fov);return.5*this.getFilmHeight()/A},getEffectiveFOV:function(){return 2*Fe.RAD2DEG*Math.atan(Math.tan(.5*Fe.DEG2RAD*this.fov)/this.zoom)},getFilmWidth:function(){return this.filmGauge*Math.min(this.aspect,1)},getFilmHeight:function(){return this.filmGauge/Math.max(this.aspect,1)},setViewOffset:function(A,e,t,i,n,o){this.aspect=A/e,null===this.view&&(this.view={enabled:!0,fullWidth:1,fullHeight:1,offsetX:0,offsetY:0,width:1,height:1}),this.view.enabled=!0,this.view.fullWidth=A,this.view.fullHeight=e,this.view.offsetX=t,this.view.offsetY=i,this.view.width=n,this.view.height=o,this.updateProjectionMatrix()},clearViewOffset:function(){null!==this.view&&(this.view.enabled=!1),this.updateProjectionMatrix()},updateProjectionMatrix:function(){var A=this.near,e=A*Math.tan(.5*Fe.DEG2RAD*this.fov)/this.zoom,t=2*e,i=this.aspect*t,n=-.5*i,o=this.view;if(null!==this.view&&this.view.enabled){var r=o.fullWidth,a=o.fullHeight;n+=o.offsetX*i/r,e-=o.offsetY*t/a,i*=o.width/r,t*=o.height/a}var s=this.filmOffset;0!==s&&(n+=A*s/this.getFilmWidth()),this.projectionMatrix.makePerspective(n,n+i,e,e-t,A,this.far),this.projectionMatrixInverse.getInverse(this.projectionMatrix)},toJSON:function(A){var e=ti.prototype.toJSON.call(this,A);return e.object.fov=this.fov,e.object.zoom=this.zoom,e.object.near=this.near,e.object.far=this.far,e.object.focus=this.focus,e.object.aspect=this.aspect,null!==this.view&&(e.object.view=Object.assign({},this.view)),e.object.filmGauge=this.filmGauge,e.object.filmOffset=this.filmOffset,e}});var un,pn,gn,fn,mn,vn,yn,Cn;function In(A,e,t,i){ti.call(this),this.type="CubeCamera";var o=new hn(90,1,A,e);o.up.set(0,-1,0),o.lookAt(new Ue(1,0,0)),this.add(o);var r=new hn(90,1,A,e);r.up.set(0,-1,0),r.lookAt(new Ue(-1,0,0)),this.add(r);var a=new hn(90,1,A,e);a.up.set(0,0,1),a.lookAt(new Ue(0,1,0)),this.add(a);var s=new hn(90,1,A,e);s.up.set(0,0,-1),s.lookAt(new Ue(0,-1,0)),this.add(s);var l=new hn(90,1,A,e);l.up.set(0,-1,0),l.lookAt(new Ue(0,0,1)),this.add(l);var c=new hn(90,1,A,e);c.up.set(0,-1,0),c.lookAt(new Ue(0,0,-1)),this.add(c),this.renderTarget=new xn(t,t,i=i||{format:NA,magFilter:P,minFilter:P}),this.renderTarget.texture.name="CubeCamera",this.update=function(A,e){null===this.parent&&this.updateMatrixWorld();var t=A.getRenderTarget(),i=this.renderTarget,n=i.texture.generateMipmaps;i.texture.generateMipmaps=!1,A.setRenderTarget(i,0),A.render(e,o),A.setRenderTarget(i,1),A.render(e,r),A.setRenderTarget(i,2),A.render(e,a),A.setRenderTarget(i,3),A.render(e,s),A.setRenderTarget(i,4),A.render(e,l),i.texture.generateMipmaps=n,A.setRenderTarget(i,5),A.render(e,c),A.setRenderTarget(t)},this.clear=function(A,e,t,i){for(var n=A.getRenderTarget(),o=this.renderTarget,r=0;r<6;r++)A.setRenderTarget(o,r),A.clear(e,t,i);A.setRenderTarget(n)}}function xn(A,e,t){Ze.call(this,A,e,t)}function bn(A,e,t,i,n,o,r,a,s,l,c,d){Ye.call(this,null,o,r,a,s,l,i,n,c,d),this.image={data:A,width:e,height:t},this.magFilter=void 0!==s?s:N,this.minFilter=void 0!==l?l:N,this.generateMipmaps=!1,this.flipY=!1,this.unpackAlignment=1}function En(A,e){this.normal=void 0!==A?A:new Ue(1,0,0),this.constant=void 0!==e?e:0}function wn(A,e,t,i,n,o){this.planes=[void 0!==A?A:new En,void 0!==e?e:new En,void 0!==t?t:new En,void 0!==i?i:new En,void 0!==n?n:new En,void 0!==o?o:new En]}(In.prototype=Object.create(ti.prototype)).constructor=In,((xn.prototype=Object.create(Ze.prototype)).constructor=xn).prototype.isWebGLRenderTargetCube=!0,xn.prototype.fromEquirectangularTexture=function(A,e){this.texture.type=e.type,this.texture.format=e.format,this.texture.encoding=e.encoding;var t=new ii,i={uniforms:{tEquirect:{value:null}},vertexShader:["varying vec3 vWorldDirection;","vec3 transformDirection( in vec3 dir, in mat4 matrix ) {","\treturn normalize( ( matrix * vec4( dir, 0.0 ) ).xyz );","}","void main() {","\tvWorldDirection = transformDirection( position, modelMatrix );","\t#include <begin_vertex>","\t#include <project_vertex>","}"].join("\n"),fragmentShader:["uniform sampler2D tEquirect;","varying vec3 vWorldDirection;","#define RECIPROCAL_PI 0.31830988618","#define RECIPROCAL_PI2 0.15915494","void main() {","\tvec3 direction = normalize( vWorldDirection );","\tvec2 sampleUV;","\tsampleUV.y = asin( clamp( direction.y, - 1.0, 1.0 ) ) * RECIPROCAL_PI + 0.5;","\tsampleUV.x = atan( direction.z, direction.x ) * RECIPROCAL_PI2 + 0.5;","\tgl_FragColor = texture2D( tEquirect, sampleUV );","}"].join("\n")},n=new cn({type:"CubemapFromEquirect",uniforms:on(i.uniforms),vertexShader:i.vertexShader,fragmentShader:i.fragmentShader,side:IA,blending:X});n.uniforms.tEquirect.value=e;var o=new ji(new nn(5,5,5),n);t.add(o);var r=new In(1,10,1);return r.renderTarget=this,r.renderTarget.texture.name="CubeCameraTexture",r.update(A,t),o.geometry.dispose(),o.material.dispose(),this},((bn.prototype=Object.create(Ye.prototype)).constructor=bn).prototype.isDataTexture=!0,Object.assign(En.prototype,{isPlane:!0,set:function(A,e){return this.normal.copy(A),this.constant=e,this},setComponents:function(A,e,t,i){return this.normal.set(A,e,t),this.constant=i,this},setFromNormalAndCoplanarPoint:function(A,e){return this.normal.copy(A),this.constant=-e.dot(this.normal),this},setFromCoplanarPoints:(fn=new Ue,mn=new Ue,function(A,e,t){var i=fn.subVectors(t,e).cross(mn.subVectors(A,e)).normalize();return this.setFromNormalAndCoplanarPoint(i,A),this}),clone:function(){return(new this.constructor).copy(this)},copy:function(A){return this.normal.copy(A.normal),this.constant=A.constant,this},normalize:function(){var A=1/this.normal.length();return this.normal.multiplyScalar(A),this.constant*=A,this},negate:function(){return this.constant*=-1,this.normal.negate(),this},distanceToPoint:function(A){return this.normal.dot(A)+this.constant},distanceToSphere:function(A){return this.distanceToPoint(A.center)-A.radius},projectPoint:function(A,e){return void 0===e&&(console.warn("THREE.Plane: .projectPoint() target is now required"),e=new Ue),e.copy(this.normal).multiplyScalar(-this.distanceToPoint(A)).add(A)},intersectLine:(gn=new Ue,function(A,e){void 0===e&&(console.warn("THREE.Plane: .intersectLine() target is now required"),e=new Ue);var t=A.delta(gn),i=this.normal.dot(t);if(0===i)return 0===this.distanceToPoint(A.start)?e.copy(A.start):void 0;var n=-(A.start.dot(this.normal)+this.constant)/i;return n<0||1<n?void 0:e.copy(t).multiplyScalar(n).add(A.start)}),intersectsLine:function(A){var e=this.distanceToPoint(A.start),t=this.distanceToPoint(A.end);return e<0&&0<t||t<0&&0<e},intersectsBox:function(A){return A.intersectsPlane(this)},intersectsSphere:function(A){return A.intersectsPlane(this)},coplanarPoint:function(A){return void 0===A&&(console.warn("THREE.Plane: .coplanarPoint() target is now required"),A=new Ue),A.copy(this.normal).multiplyScalar(-this.constant)},applyMatrix4:(un=new Ue,pn=new Ne,function(A,e){var t=e||pn.getNormalMatrix(A),i=this.coplanarPoint(un).applyMatrix4(A),n=this.normal.applyMatrix3(t).normalize();return this.constant=-i.dot(n),this}),translate:function(A){return this.constant-=A.dot(this.normal),this},equals:function(A){return A.normal.equals(this.normal)&&A.constant===this.constant}}),Object.assign(wn.prototype,{set:function(A,e,t,i,n,o){var r=this.planes;return r[0].copy(A),r[1].copy(e),r[2].copy(t),r[3].copy(i),r[4].copy(n),r[5].copy(o),this},clone:function(){return(new this.constructor).copy(this)},copy:function(A){for(var e=this.planes,t=0;t<6;t++)e[t].copy(A.planes[t]);return this},setFromMatrix:function(A){var e=this.planes,t=A.elements,i=t[0],n=t[1],o=t[2],r=t[3],a=t[4],s=t[5],l=t[6],c=t[7],d=t[8],h=t[9],u=t[10],p=t[11],g=t[12],f=t[13],m=t[14],v=t[15];return e[0].setComponents(r-i,c-a,p-d,v-g).normalize(),e[1].setComponents(r+i,c+a,p+d,v+g).normalize(),e[2].setComponents(r+n,c+s,p+h,v+f).normalize(),e[3].setComponents(r-n,c-s,p-h,v-f).normalize(),e[4].setComponents(r-o,c-l,p-u,v-m).normalize(),e[5].setComponents(r+o,c+l,p+u,v+m).normalize(),this},intersectsObject:(Cn=new oi,function(A){var e=A.geometry;return null===e.boundingSphere&&e.computeBoundingSphere(),Cn.copy(e.boundingSphere).applyMatrix4(A.matrixWorld),this.intersectsSphere(Cn)}),intersectsSprite:(yn=new oi,function(A){return yn.center.set(0,0,0),yn.radius=.7071067811865476,yn.applyMatrix4(A.matrixWorld),this.intersectsSphere(yn)}),intersectsSphere:function(A){for(var e=this.planes,t=A.center,i=-A.radius,n=0;n<6;n++){if(e[n].distanceToPoint(t)<i)return!1}return!0},intersectsBox:(vn=new Ue,function(A){for(var e=this.planes,t=0;t<6;t++){var i=e[t];if(vn.x=0<i.normal.x?A.max.x:A.min.x,vn.y=0<i.normal.y?A.max.y:A.min.y,vn.z=0<i.normal.z?A.max.z:A.min.z,i.distanceToPoint(vn)<0)return!1}return!0}),containsPoint:function(A){for(var e=this.planes,t=0;t<6;t++)if(e[t].distanceToPoint(A)<0)return!1;return!0}});var Mn={alphamap_fragment:"#ifdef USE_ALPHAMAP\n\tdiffuseColor.a *= texture2D( alphaMap, vUv ).g;\n#endif",alphamap_pars_fragment:"#ifdef USE_ALPHAMAP\n\tuniform sampler2D alphaMap;\n#endif",alphatest_fragment:"#ifdef ALPHATEST\n\tif ( diffuseColor.a < ALPHATEST ) discard;\n#endif",aomap_fragment:"#ifdef USE_AOMAP\n\tfloat ambientOcclusion = ( texture2D( aoMap, vUv2 ).r - 1.0 ) * aoMapIntensity + 1.0;\n\treflectedLight.indirectDiffuse *= ambientOcclusion;\n\t#if defined( USE_ENVMAP ) && defined( PHYSICAL )\n\t\tfloat dotNV = saturate( dot( geometry.normal, geometry.viewDir ) );\n\t\treflectedLight.indirectSpecular *= computeSpecularOcclusion( dotNV, ambientOcclusion, material.specularRoughness );\n\t#endif\n#endif",aomap_pars_fragment:"#ifdef USE_AOMAP\n\tuniform sampler2D aoMap;\n\tuniform float aoMapIntensity;\n#endif",begin_vertex:"vec3 transformed = vec3( position );",beginnormal_vertex:"vec3 objectNormal = vec3( normal );\n#ifdef USE_TANGENT\n\tvec3 objectTangent = vec3( tangent.xyz );\n#endif",bsdfs:"vec2 integrateSpecularBRDF( const in float dotNV, const in float roughness ) {\n\tconst vec4 c0 = vec4( - 1, - 0.0275, - 0.572, 0.022 );\n\tconst vec4 c1 = vec4( 1, 0.0425, 1.04, - 0.04 );\n\tvec4 r = roughness * c0 + c1;\n\tfloat a004 = min( r.x * r.x, exp2( - 9.28 * dotNV ) ) * r.x + r.y;\n\treturn vec2( -1.04, 1.04 ) * a004 + r.zw;\n}\nfloat punctualLightIntensityToIrradianceFactor( const in float lightDistance, const in float cutoffDistance, const in float decayExponent ) {\n#if defined ( PHYSICALLY_CORRECT_LIGHTS )\n\tfloat distanceFalloff = 1.0 / max( pow( lightDistance, decayExponent ), 0.01 );\n\tif( cutoffDistance > 0.0 ) {\n\t\tdistanceFalloff *= pow2( saturate( 1.0 - pow4( lightDistance / cutoffDistance ) ) );\n\t}\n\treturn distanceFalloff;\n#else\n\tif( cutoffDistance > 0.0 && decayExponent > 0.0 ) {\n\t\treturn pow( saturate( -lightDistance / cutoffDistance + 1.0 ), decayExponent );\n\t}\n\treturn 1.0;\n#endif\n}\nvec3 BRDF_Diffuse_Lambert( const in vec3 diffuseColor ) {\n\treturn RECIPROCAL_PI * diffuseColor;\n}\nvec3 F_Schlick( const in vec3 specularColor, const in float dotLH ) {\n\tfloat fresnel = exp2( ( -5.55473 * dotLH - 6.98316 ) * dotLH );\n\treturn ( 1.0 - specularColor ) * fresnel + specularColor;\n}\nvec3 F_Schlick_RoughnessDependent( const in vec3 F0, const in float dotNV, const in float roughness ) {\n\tfloat fresnel = exp2( ( -5.55473 * dotNV - 6.98316 ) * dotNV );\n\tvec3 Fr = max( vec3( 1.0 - roughness ), F0 ) - F0;\n\treturn Fr * fresnel + F0;\n}\nfloat G_GGX_Smith( const in float alpha, const in float dotNL, const in float dotNV ) {\n\tfloat a2 = pow2( alpha );\n\tfloat gl = dotNL + sqrt( a2 + ( 1.0 - a2 ) * pow2( dotNL ) );\n\tfloat gv = dotNV + sqrt( a2 + ( 1.0 - a2 ) * pow2( dotNV ) );\n\treturn 1.0 / ( gl * gv );\n}\nfloat G_GGX_SmithCorrelated( const in float alpha, const in float dotNL, const in float dotNV ) {\n\tfloat a2 = pow2( alpha );\n\tfloat gv = dotNL * sqrt( a2 + ( 1.0 - a2 ) * pow2( dotNV ) );\n\tfloat gl = dotNV * sqrt( a2 + ( 1.0 - a2 ) * pow2( dotNL ) );\n\treturn 0.5 / max( gv + gl, EPSILON );\n}\nfloat D_GGX( const in float alpha, const in float dotNH ) {\n\tfloat a2 = pow2( alpha );\n\tfloat denom = pow2( dotNH ) * ( a2 - 1.0 ) + 1.0;\n\treturn RECIPROCAL_PI * a2 / pow2( denom );\n}\nvec3 BRDF_Specular_GGX( const in IncidentLight incidentLight, const in GeometricContext geometry, const in vec3 specularColor, const in float roughness ) {\n\tfloat alpha = pow2( roughness );\n\tvec3 halfDir = normalize( incidentLight.direction + geometry.viewDir );\n\tfloat dotNL = saturate( dot( geometry.normal, incidentLight.direction ) );\n\tfloat dotNV = saturate( dot( geometry.normal, geometry.viewDir ) );\n\tfloat dotNH = saturate( dot( geometry.normal, halfDir ) );\n\tfloat dotLH = saturate( dot( incidentLight.direction, halfDir ) );\n\tvec3 F = F_Schlick( specularColor, dotLH );\n\tfloat G = G_GGX_SmithCorrelated( alpha, dotNL, dotNV );\n\tfloat D = D_GGX( alpha, dotNH );\n\treturn F * ( G * D );\n}\nvec2 LTC_Uv( const in vec3 N, const in vec3 V, const in float roughness ) {\n\tconst float LUT_SIZE  = 64.0;\n\tconst float LUT_SCALE = ( LUT_SIZE - 1.0 ) / LUT_SIZE;\n\tconst float LUT_BIAS  = 0.5 / LUT_SIZE;\n\tfloat dotNV = saturate( dot( N, V ) );\n\tvec2 uv = vec2( roughness, sqrt( 1.0 - dotNV ) );\n\tuv = uv * LUT_SCALE + LUT_BIAS;\n\treturn uv;\n}\nfloat LTC_ClippedSphereFormFactor( const in vec3 f ) {\n\tfloat l = length( f );\n\treturn max( ( l * l + f.z ) / ( l + 1.0 ), 0.0 );\n}\nvec3 LTC_EdgeVectorFormFactor( const in vec3 v1, const in vec3 v2 ) {\n\tfloat x = dot( v1, v2 );\n\tfloat y = abs( x );\n\tfloat a = 0.8543985 + ( 0.4965155 + 0.0145206 * y ) * y;\n\tfloat b = 3.4175940 + ( 4.1616724 + y ) * y;\n\tfloat v = a / b;\n\tfloat theta_sintheta = ( x > 0.0 ) ? v : 0.5 * inversesqrt( max( 1.0 - x * x, 1e-7 ) ) - v;\n\treturn cross( v1, v2 ) * theta_sintheta;\n}\nvec3 LTC_Evaluate( const in vec3 N, const in vec3 V, const in vec3 P, const in mat3 mInv, const in vec3 rectCoords[ 4 ] ) {\n\tvec3 v1 = rectCoords[ 1 ] - rectCoords[ 0 ];\n\tvec3 v2 = rectCoords[ 3 ] - rectCoords[ 0 ];\n\tvec3 lightNormal = cross( v1, v2 );\n\tif( dot( lightNormal, P - rectCoords[ 0 ] ) < 0.0 ) return vec3( 0.0 );\n\tvec3 T1, T2;\n\tT1 = normalize( V - N * dot( V, N ) );\n\tT2 = - cross( N, T1 );\n\tmat3 mat = mInv * transposeMat3( mat3( T1, T2, N ) );\n\tvec3 coords[ 4 ];\n\tcoords[ 0 ] = mat * ( rectCoords[ 0 ] - P );\n\tcoords[ 1 ] = mat * ( rectCoords[ 1 ] - P );\n\tcoords[ 2 ] = mat * ( rectCoords[ 2 ] - P );\n\tcoords[ 3 ] = mat * ( rectCoords[ 3 ] - P );\n\tcoords[ 0 ] = normalize( coords[ 0 ] );\n\tcoords[ 1 ] = normalize( coords[ 1 ] );\n\tcoords[ 2 ] = normalize( coords[ 2 ] );\n\tcoords[ 3 ] = normalize( coords[ 3 ] );\n\tvec3 vectorFormFactor = vec3( 0.0 );\n\tvectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 0 ], coords[ 1 ] );\n\tvectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 1 ], coords[ 2 ] );\n\tvectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 2 ], coords[ 3 ] );\n\tvectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 3 ], coords[ 0 ] );\n\tfloat result = LTC_ClippedSphereFormFactor( vectorFormFactor );\n\treturn vec3( result );\n}\nvec3 BRDF_Specular_GGX_Environment( const in GeometricContext geometry, const in vec3 specularColor, const in float roughness ) {\n\tfloat dotNV = saturate( dot( geometry.normal, geometry.viewDir ) );\n\tvec2 brdf = integrateSpecularBRDF( dotNV, roughness );\n\treturn specularColor * brdf.x + brdf.y;\n}\nvoid BRDF_Specular_Multiscattering_Environment( const in GeometricContext geometry, const in vec3 specularColor, const in float roughness, inout vec3 singleScatter, inout vec3 multiScatter ) {\n\tfloat dotNV = saturate( dot( geometry.normal, geometry.viewDir ) );\n\tvec3 F = F_Schlick_RoughnessDependent( specularColor, dotNV, roughness );\n\tvec2 brdf = integrateSpecularBRDF( dotNV, roughness );\n\tvec3 FssEss = F * brdf.x + brdf.y;\n\tfloat Ess = brdf.x + brdf.y;\n\tfloat Ems = 1.0 - Ess;\n\tvec3 Favg = specularColor + ( 1.0 - specularColor ) * 0.047619;\tvec3 Fms = FssEss * Favg / ( 1.0 - Ems * Favg );\n\tsingleScatter += FssEss;\n\tmultiScatter += Fms * Ems;\n}\nfloat G_BlinnPhong_Implicit( ) {\n\treturn 0.25;\n}\nfloat D_BlinnPhong( const in float shininess, const in float dotNH ) {\n\treturn RECIPROCAL_PI * ( shininess * 0.5 + 1.0 ) * pow( dotNH, shininess );\n}\nvec3 BRDF_Specular_BlinnPhong( const in IncidentLight incidentLight, const in GeometricContext geometry, const in vec3 specularColor, const in float shininess ) {\n\tvec3 halfDir = normalize( incidentLight.direction + geometry.viewDir );\n\tfloat dotNH = saturate( dot( geometry.normal, halfDir ) );\n\tfloat dotLH = saturate( dot( incidentLight.direction, halfDir ) );\n\tvec3 F = F_Schlick( specularColor, dotLH );\n\tfloat G = G_BlinnPhong_Implicit( );\n\tfloat D = D_BlinnPhong( shininess, dotNH );\n\treturn F * ( G * D );\n}\nfloat GGXRoughnessToBlinnExponent( const in float ggxRoughness ) {\n\treturn ( 2.0 / pow2( ggxRoughness + 0.0001 ) - 2.0 );\n}\nfloat BlinnExponentToGGXRoughness( const in float blinnExponent ) {\n\treturn sqrt( 2.0 / ( blinnExponent + 2.0 ) );\n}",bumpmap_pars_fragment:"#ifdef USE_BUMPMAP\n\tuniform sampler2D bumpMap;\n\tuniform float bumpScale;\n\tvec2 dHdxy_fwd() {\n\t\tvec2 dSTdx = dFdx( vUv );\n\t\tvec2 dSTdy = dFdy( vUv );\n\t\tfloat Hll = bumpScale * texture2D( bumpMap, vUv ).x;\n\t\tfloat dBx = bumpScale * texture2D( bumpMap, vUv + dSTdx ).x - Hll;\n\t\tfloat dBy = bumpScale * texture2D( bumpMap, vUv + dSTdy ).x - Hll;\n\t\treturn vec2( dBx, dBy );\n\t}\n\tvec3 perturbNormalArb( vec3 surf_pos, vec3 surf_norm, vec2 dHdxy ) {\n\t\tvec3 vSigmaX = vec3( dFdx( surf_pos.x ), dFdx( surf_pos.y ), dFdx( surf_pos.z ) );\n\t\tvec3 vSigmaY = vec3( dFdy( surf_pos.x ), dFdy( surf_pos.y ), dFdy( surf_pos.z ) );\n\t\tvec3 vN = surf_norm;\n\t\tvec3 R1 = cross( vSigmaY, vN );\n\t\tvec3 R2 = cross( vN, vSigmaX );\n\t\tfloat fDet = dot( vSigmaX, R1 );\n\t\tfDet *= ( float( gl_FrontFacing ) * 2.0 - 1.0 );\n\t\tvec3 vGrad = sign( fDet ) * ( dHdxy.x * R1 + dHdxy.y * R2 );\n\t\treturn normalize( abs( fDet ) * surf_norm - vGrad );\n\t}\n#endif",clipping_planes_fragment:"#if NUM_CLIPPING_PLANES > 0\n\tvec4 plane;\n\t#pragma unroll_loop\n\tfor ( int i = 0; i < UNION_CLIPPING_PLANES; i ++ ) {\n\t\tplane = clippingPlanes[ i ];\n\t\tif ( dot( vViewPosition, plane.xyz ) > plane.w ) discard;\n\t}\n\t#if UNION_CLIPPING_PLANES < NUM_CLIPPING_PLANES\n\t\tbool clipped = true;\n\t\t#pragma unroll_loop\n\t\tfor ( int i = UNION_CLIPPING_PLANES; i < NUM_CLIPPING_PLANES; i ++ ) {\n\t\t\tplane = clippingPlanes[ i ];\n\t\t\tclipped = ( dot( vViewPosition, plane.xyz ) > plane.w ) && clipped;\n\t\t}\n\t\tif ( clipped ) discard;\n\t#endif\n#endif",clipping_planes_pars_fragment:"#if NUM_CLIPPING_PLANES > 0\n\t#if ! defined( PHYSICAL ) && ! defined( PHONG ) && ! defined( MATCAP )\n\t\tvarying vec3 vViewPosition;\n\t#endif\n\tuniform vec4 clippingPlanes[ NUM_CLIPPING_PLANES ];\n#endif",clipping_planes_pars_vertex:"#if NUM_CLIPPING_PLANES > 0 && ! defined( PHYSICAL ) && ! defined( PHONG ) && ! defined( MATCAP )\n\tvarying vec3 vViewPosition;\n#endif",clipping_planes_vertex:"#if NUM_CLIPPING_PLANES > 0 && ! defined( PHYSICAL ) && ! defined( PHONG ) && ! defined( MATCAP )\n\tvViewPosition = - mvPosition.xyz;\n#endif",color_fragment:"#ifdef USE_COLOR\n\tdiffuseColor.rgb *= vColor;\n#endif",color_pars_fragment:"#ifdef USE_COLOR\n\tvarying vec3 vColor;\n#endif",color_pars_vertex:"#ifdef USE_COLOR\n\tvarying vec3 vColor;\n#endif",color_vertex:"#ifdef USE_COLOR\n\tvColor.xyz = color.xyz;\n#endif",common:"#define PI 3.14159265359\n#define PI2 6.28318530718\n#define PI_HALF 1.5707963267949\n#define RECIPROCAL_PI 0.31830988618\n#define RECIPROCAL_PI2 0.15915494\n#define LOG2 1.442695\n#define EPSILON 1e-6\n#define saturate(a) clamp( a, 0.0, 1.0 )\n#define whiteCompliment(a) ( 1.0 - saturate( a ) )\nfloat pow2( const in float x ) { return x*x; }\nfloat pow3( const in float x ) { return x*x*x; }\nfloat pow4( const in float x ) { float x2 = x*x; return x2*x2; }\nfloat average( const in vec3 color ) { return dot( color, vec3( 0.3333 ) ); }\nhighp float rand( const in vec2 uv ) {\n\tconst highp float a = 12.9898, b = 78.233, c = 43758.5453;\n\thighp float dt = dot( uv.xy, vec2( a,b ) ), sn = mod( dt, PI );\n\treturn fract(sin(sn) * c);\n}\nstruct IncidentLight {\n\tvec3 color;\n\tvec3 direction;\n\tbool visible;\n};\nstruct ReflectedLight {\n\tvec3 directDiffuse;\n\tvec3 directSpecular;\n\tvec3 indirectDiffuse;\n\tvec3 indirectSpecular;\n};\nstruct GeometricContext {\n\tvec3 position;\n\tvec3 normal;\n\tvec3 viewDir;\n};\nvec3 transformDirection( in vec3 dir, in mat4 matrix ) {\n\treturn normalize( ( matrix * vec4( dir, 0.0 ) ).xyz );\n}\nvec3 inverseTransformDirection( in vec3 dir, in mat4 matrix ) {\n\treturn normalize( ( vec4( dir, 0.0 ) * matrix ).xyz );\n}\nvec3 projectOnPlane(in vec3 point, in vec3 pointOnPlane, in vec3 planeNormal ) {\n\tfloat distance = dot( planeNormal, point - pointOnPlane );\n\treturn - distance * planeNormal + point;\n}\nfloat sideOfPlane( in vec3 point, in vec3 pointOnPlane, in vec3 planeNormal ) {\n\treturn sign( dot( point - pointOnPlane, planeNormal ) );\n}\nvec3 linePlaneIntersect( in vec3 pointOnLine, in vec3 lineDirection, in vec3 pointOnPlane, in vec3 planeNormal ) {\n\treturn lineDirection * ( dot( planeNormal, pointOnPlane - pointOnLine ) / dot( planeNormal, lineDirection ) ) + pointOnLine;\n}\nmat3 transposeMat3( const in mat3 m ) {\n\tmat3 tmp;\n\ttmp[ 0 ] = vec3( m[ 0 ].x, m[ 1 ].x, m[ 2 ].x );\n\ttmp[ 1 ] = vec3( m[ 0 ].y, m[ 1 ].y, m[ 2 ].y );\n\ttmp[ 2 ] = vec3( m[ 0 ].z, m[ 1 ].z, m[ 2 ].z );\n\treturn tmp;\n}\nfloat linearToRelativeLuminance( const in vec3 color ) {\n\tvec3 weights = vec3( 0.2126, 0.7152, 0.0722 );\n\treturn dot( weights, color.rgb );\n}",cube_uv_reflection_fragment:"#ifdef ENVMAP_TYPE_CUBE_UV\n#define cubeUV_textureSize (1024.0)\nint getFaceFromDirection(vec3 direction) {\n\tvec3 absDirection = abs(direction);\n\tint face = -1;\n\tif( absDirection.x > absDirection.z ) {\n\t\tif(absDirection.x > absDirection.y )\n\t\t\tface = direction.x > 0.0 ? 0 : 3;\n\t\telse\n\t\t\tface = direction.y > 0.0 ? 1 : 4;\n\t}\n\telse {\n\t\tif(absDirection.z > absDirection.y )\n\t\t\tface = direction.z > 0.0 ? 2 : 5;\n\t\telse\n\t\t\tface = direction.y > 0.0 ? 1 : 4;\n\t}\n\treturn face;\n}\n#define cubeUV_maxLods1  (log2(cubeUV_textureSize*0.25) - 1.0)\n#define cubeUV_rangeClamp (exp2((6.0 - 1.0) * 2.0))\nvec2 MipLevelInfo( vec3 vec, float roughnessLevel, float roughness ) {\n\tfloat scale = exp2(cubeUV_maxLods1 - roughnessLevel);\n\tfloat dxRoughness = dFdx(roughness);\n\tfloat dyRoughness = dFdy(roughness);\n\tvec3 dx = dFdx( vec * scale * dxRoughness );\n\tvec3 dy = dFdy( vec * scale * dyRoughness );\n\tfloat d = max( dot( dx, dx ), dot( dy, dy ) );\n\td = clamp(d, 1.0, cubeUV_rangeClamp);\n\tfloat mipLevel = 0.5 * log2(d);\n\treturn vec2(floor(mipLevel), fract(mipLevel));\n}\n#define cubeUV_maxLods2 (log2(cubeUV_textureSize*0.25) - 2.0)\n#define cubeUV_rcpTextureSize (1.0 / cubeUV_textureSize)\nvec2 getCubeUV(vec3 direction, float roughnessLevel, float mipLevel) {\n\tmipLevel = roughnessLevel > cubeUV_maxLods2 - 3.0 ? 0.0 : mipLevel;\n\tfloat a = 16.0 * cubeUV_rcpTextureSize;\n\tvec2 exp2_packed = exp2( vec2( roughnessLevel, mipLevel ) );\n\tvec2 rcp_exp2_packed = vec2( 1.0 ) / exp2_packed;\n\tfloat powScale = exp2_packed.x * exp2_packed.y;\n\tfloat scale = rcp_exp2_packed.x * rcp_exp2_packed.y * 0.25;\n\tfloat mipOffset = 0.75*(1.0 - rcp_exp2_packed.y) * rcp_exp2_packed.x;\n\tbool bRes = mipLevel == 0.0;\n\tscale =  bRes && (scale < a) ? a : scale;\n\tvec3 r;\n\tvec2 offset;\n\tint face = getFaceFromDirection(direction);\n\tfloat rcpPowScale = 1.0 / powScale;\n\tif( face == 0) {\n\t\tr = vec3(direction.x, -direction.z, direction.y);\n\t\toffset = vec2(0.0+mipOffset,0.75 * rcpPowScale);\n\t\toffset.y = bRes && (offset.y < 2.0*a) ? a : offset.y;\n\t}\n\telse if( face == 1) {\n\t\tr = vec3(direction.y, direction.x, direction.z);\n\t\toffset = vec2(scale+mipOffset, 0.75 * rcpPowScale);\n\t\toffset.y = bRes && (offset.y < 2.0*a) ? a : offset.y;\n\t}\n\telse if( face == 2) {\n\t\tr = vec3(direction.z, direction.x, direction.y);\n\t\toffset = vec2(2.0*scale+mipOffset, 0.75 * rcpPowScale);\n\t\toffset.y = bRes && (offset.y < 2.0*a) ? a : offset.y;\n\t}\n\telse if( face == 3) {\n\t\tr = vec3(direction.x, direction.z, direction.y);\n\t\toffset = vec2(0.0+mipOffset,0.5 * rcpPowScale);\n\t\toffset.y = bRes && (offset.y < 2.0*a) ? 0.0 : offset.y;\n\t}\n\telse if( face == 4) {\n\t\tr = vec3(direction.y, direction.x, -direction.z);\n\t\toffset = vec2(scale+mipOffset, 0.5 * rcpPowScale);\n\t\toffset.y = bRes && (offset.y < 2.0*a) ? 0.0 : offset.y;\n\t}\n\telse {\n\t\tr = vec3(direction.z, -direction.x, direction.y);\n\t\toffset = vec2(2.0*scale+mipOffset, 0.5 * rcpPowScale);\n\t\toffset.y = bRes && (offset.y < 2.0*a) ? 0.0 : offset.y;\n\t}\n\tr = normalize(r);\n\tfloat texelOffset = 0.5 * cubeUV_rcpTextureSize;\n\tvec2 s = ( r.yz / abs( r.x ) + vec2( 1.0 ) ) * 0.5;\n\tvec2 base = offset + vec2( texelOffset );\n\treturn base + s * ( scale - 2.0 * texelOffset );\n}\n#define cubeUV_maxLods3 (log2(cubeUV_textureSize*0.25) - 3.0)\nvec4 textureCubeUV( sampler2D envMap, vec3 reflectedDirection, float roughness ) {\n\tfloat roughnessVal = roughness* cubeUV_maxLods3;\n\tfloat r1 = floor(roughnessVal);\n\tfloat r2 = r1 + 1.0;\n\tfloat t = fract(roughnessVal);\n\tvec2 mipInfo = MipLevelInfo(reflectedDirection, r1, roughness);\n\tfloat s = mipInfo.y;\n\tfloat level0 = mipInfo.x;\n\tfloat level1 = level0 + 1.0;\n\tlevel1 = level1 > 5.0 ? 5.0 : level1;\n\tlevel0 += min( floor( s + 0.5 ), 5.0 );\n\tvec2 uv_10 = getCubeUV(reflectedDirection, r1, level0);\n\tvec4 color10 = envMapTexelToLinear(texture2D(envMap, uv_10));\n\tvec2 uv_20 = getCubeUV(reflectedDirection, r2, level0);\n\tvec4 color20 = envMapTexelToLinear(texture2D(envMap, uv_20));\n\tvec4 result = mix(color10, color20, t);\n\treturn vec4(result.rgb, 1.0);\n}\n#endif",defaultnormal_vertex:"vec3 transformedNormal = normalMatrix * objectNormal;\n#ifdef FLIP_SIDED\n\ttransformedNormal = - transformedNormal;\n#endif\n#ifdef USE_TANGENT\n\tvec3 transformedTangent = normalMatrix * objectTangent;\n\t#ifdef FLIP_SIDED\n\t\ttransformedTangent = - transformedTangent;\n\t#endif\n#endif",displacementmap_pars_vertex:"#ifdef USE_DISPLACEMENTMAP\n\tuniform sampler2D displacementMap;\n\tuniform float displacementScale;\n\tuniform float displacementBias;\n#endif",displacementmap_vertex:"#ifdef USE_DISPLACEMENTMAP\n\ttransformed += normalize( objectNormal ) * ( texture2D( displacementMap, uv ).x * displacementScale + displacementBias );\n#endif",emissivemap_fragment:"#ifdef USE_EMISSIVEMAP\n\tvec4 emissiveColor = texture2D( emissiveMap, vUv );\n\temissiveColor.rgb = emissiveMapTexelToLinear( emissiveColor ).rgb;\n\ttotalEmissiveRadiance *= emissiveColor.rgb;\n#endif",emissivemap_pars_fragment:"#ifdef USE_EMISSIVEMAP\n\tuniform sampler2D emissiveMap;\n#endif",encodings_fragment:"gl_FragColor = linearToOutputTexel( gl_FragColor );",encodings_pars_fragment:"\nvec4 LinearToLinear( in vec4 value ) {\n\treturn value;\n}\nvec4 GammaToLinear( in vec4 value, in float gammaFactor ) {\n\treturn vec4( pow( value.rgb, vec3( gammaFactor ) ), value.a );\n}\nvec4 LinearToGamma( in vec4 value, in float gammaFactor ) {\n\treturn vec4( pow( value.rgb, vec3( 1.0 / gammaFactor ) ), value.a );\n}\nvec4 sRGBToLinear( in vec4 value ) {\n\treturn vec4( mix( pow( value.rgb * 0.9478672986 + vec3( 0.0521327014 ), vec3( 2.4 ) ), value.rgb * 0.0773993808, vec3( lessThanEqual( value.rgb, vec3( 0.04045 ) ) ) ), value.a );\n}\nvec4 LinearTosRGB( in vec4 value ) {\n\treturn vec4( mix( pow( value.rgb, vec3( 0.41666 ) ) * 1.055 - vec3( 0.055 ), value.rgb * 12.92, vec3( lessThanEqual( value.rgb, vec3( 0.0031308 ) ) ) ), value.a );\n}\nvec4 RGBEToLinear( in vec4 value ) {\n\treturn vec4( value.rgb * exp2( value.a * 255.0 - 128.0 ), 1.0 );\n}\nvec4 LinearToRGBE( in vec4 value ) {\n\tfloat maxComponent = max( max( value.r, value.g ), value.b );\n\tfloat fExp = clamp( ceil( log2( maxComponent ) ), -128.0, 127.0 );\n\treturn vec4( value.rgb / exp2( fExp ), ( fExp + 128.0 ) / 255.0 );\n}\nvec4 RGBMToLinear( in vec4 value, in float maxRange ) {\n\treturn vec4( value.rgb * value.a * maxRange, 1.0 );\n}\nvec4 LinearToRGBM( in vec4 value, in float maxRange ) {\n\tfloat maxRGB = max( value.r, max( value.g, value.b ) );\n\tfloat M = clamp( maxRGB / maxRange, 0.0, 1.0 );\n\tM = ceil( M * 255.0 ) / 255.0;\n\treturn vec4( value.rgb / ( M * maxRange ), M );\n}\nvec4 RGBDToLinear( in vec4 value, in float maxRange ) {\n\treturn vec4( value.rgb * ( ( maxRange / 255.0 ) / value.a ), 1.0 );\n}\nvec4 LinearToRGBD( in vec4 value, in float maxRange ) {\n\tfloat maxRGB = max( value.r, max( value.g, value.b ) );\n\tfloat D = max( maxRange / maxRGB, 1.0 );\n\tD = min( floor( D ) / 255.0, 1.0 );\n\treturn vec4( value.rgb * ( D * ( 255.0 / maxRange ) ), D );\n}\nconst mat3 cLogLuvM = mat3( 0.2209, 0.3390, 0.4184, 0.1138, 0.6780, 0.7319, 0.0102, 0.1130, 0.2969 );\nvec4 LinearToLogLuv( in vec4 value )  {\n\tvec3 Xp_Y_XYZp = cLogLuvM * value.rgb;\n\tXp_Y_XYZp = max( Xp_Y_XYZp, vec3( 1e-6, 1e-6, 1e-6 ) );\n\tvec4 vResult;\n\tvResult.xy = Xp_Y_XYZp.xy / Xp_Y_XYZp.z;\n\tfloat Le = 2.0 * log2(Xp_Y_XYZp.y) + 127.0;\n\tvResult.w = fract( Le );\n\tvResult.z = ( Le - ( floor( vResult.w * 255.0 ) ) / 255.0 ) / 255.0;\n\treturn vResult;\n}\nconst mat3 cLogLuvInverseM = mat3( 6.0014, -2.7008, -1.7996, -1.3320, 3.1029, -5.7721, 0.3008, -1.0882, 5.6268 );\nvec4 LogLuvToLinear( in vec4 value ) {\n\tfloat Le = value.z * 255.0 + value.w;\n\tvec3 Xp_Y_XYZp;\n\tXp_Y_XYZp.y = exp2( ( Le - 127.0 ) / 2.0 );\n\tXp_Y_XYZp.z = Xp_Y_XYZp.y / value.y;\n\tXp_Y_XYZp.x = value.x * Xp_Y_XYZp.z;\n\tvec3 vRGB = cLogLuvInverseM * Xp_Y_XYZp.rgb;\n\treturn vec4( max( vRGB, 0.0 ), 1.0 );\n}",envmap_fragment:"#ifdef USE_ENVMAP\n\t#if defined( USE_BUMPMAP ) || defined( USE_NORMALMAP ) || defined( PHONG )\n\t\tvec3 cameraToVertex = normalize( vWorldPosition - cameraPosition );\n\t\tvec3 worldNormal = inverseTransformDirection( normal, viewMatrix );\n\t\t#ifdef ENVMAP_MODE_REFLECTION\n\t\t\tvec3 reflectVec = reflect( cameraToVertex, worldNormal );\n\t\t#else\n\t\t\tvec3 reflectVec = refract( cameraToVertex, worldNormal, refractionRatio );\n\t\t#endif\n\t#else\n\t\tvec3 reflectVec = vReflect;\n\t#endif\n\t#ifdef ENVMAP_TYPE_CUBE\n\t\tvec4 envColor = textureCube( envMap, vec3( flipEnvMap * reflectVec.x, reflectVec.yz ) );\n\t#elif defined( ENVMAP_TYPE_EQUIREC )\n\t\tvec2 sampleUV;\n\t\treflectVec = normalize( reflectVec );\n\t\tsampleUV.y = asin( clamp( reflectVec.y, - 1.0, 1.0 ) ) * RECIPROCAL_PI + 0.5;\n\t\tsampleUV.x = atan( reflectVec.z, reflectVec.x ) * RECIPROCAL_PI2 + 0.5;\n\t\tvec4 envColor = texture2D( envMap, sampleUV );\n\t#elif defined( ENVMAP_TYPE_SPHERE )\n\t\treflectVec = normalize( reflectVec );\n\t\tvec3 reflectView = normalize( ( viewMatrix * vec4( reflectVec, 0.0 ) ).xyz + vec3( 0.0, 0.0, 1.0 ) );\n\t\tvec4 envColor = texture2D( envMap, reflectView.xy * 0.5 + 0.5 );\n\t#else\n\t\tvec4 envColor = vec4( 0.0 );\n\t#endif\n\tenvColor = envMapTexelToLinear( envColor );\n\t#ifdef ENVMAP_BLENDING_MULTIPLY\n\t\toutgoingLight = mix( outgoingLight, outgoingLight * envColor.xyz, specularStrength * reflectivity );\n\t#elif defined( ENVMAP_BLENDING_MIX )\n\t\toutgoingLight = mix( outgoingLight, envColor.xyz, specularStrength * reflectivity );\n\t#elif defined( ENVMAP_BLENDING_ADD )\n\t\toutgoingLight += envColor.xyz * specularStrength * reflectivity;\n\t#endif\n#endif",envmap_pars_fragment:"#if defined( USE_ENVMAP ) || defined( PHYSICAL )\n\tuniform float reflectivity;\n\tuniform float envMapIntensity;\n#endif\n#ifdef USE_ENVMAP\n\t#if ! defined( PHYSICAL ) && ( defined( USE_BUMPMAP ) || defined( USE_NORMALMAP ) || defined( PHONG ) )\n\t\tvarying vec3 vWorldPosition;\n\t#endif\n\t#ifdef ENVMAP_TYPE_CUBE\n\t\tuniform samplerCube envMap;\n\t#else\n\t\tuniform sampler2D envMap;\n\t#endif\n\tuniform float flipEnvMap;\n\tuniform int maxMipLevel;\n\t#if defined( USE_BUMPMAP ) || defined( USE_NORMALMAP ) || defined( PHONG ) || defined( PHYSICAL )\n\t\tuniform float refractionRatio;\n\t#else\n\t\tvarying vec3 vReflect;\n\t#endif\n#endif",envmap_pars_vertex:"#ifdef USE_ENVMAP\n\t#if defined( USE_BUMPMAP ) || defined( USE_NORMALMAP ) || defined( PHONG )\n\t\tvarying vec3 vWorldPosition;\n\t#else\n\t\tvarying vec3 vReflect;\n\t\tuniform float refractionRatio;\n\t#endif\n#endif",envmap_physical_pars_fragment:"#if defined( USE_ENVMAP ) && defined( PHYSICAL )\n\tvec3 getLightProbeIndirectIrradiance( const in GeometricContext geometry, const in int maxMIPLevel ) {\n\t\tvec3 worldNormal = inverseTransformDirection( geometry.normal, viewMatrix );\n\t\t#ifdef ENVMAP_TYPE_CUBE\n\t\t\tvec3 queryVec = vec3( flipEnvMap * worldNormal.x, worldNormal.yz );\n\t\t\t#ifdef TEXTURE_LOD_EXT\n\t\t\t\tvec4 envMapColor = textureCubeLodEXT( envMap, queryVec, float( maxMIPLevel ) );\n\t\t\t#else\n\t\t\t\tvec4 envMapColor = textureCube( envMap, queryVec, float( maxMIPLevel ) );\n\t\t\t#endif\n\t\t\tenvMapColor.rgb = envMapTexelToLinear( envMapColor ).rgb;\n\t\t#elif defined( ENVMAP_TYPE_CUBE_UV )\n\t\t\tvec3 queryVec = vec3( flipEnvMap * worldNormal.x, worldNormal.yz );\n\t\t\tvec4 envMapColor = textureCubeUV( envMap, queryVec, 1.0 );\n\t\t#else\n\t\t\tvec4 envMapColor = vec4( 0.0 );\n\t\t#endif\n\t\treturn PI * envMapColor.rgb * envMapIntensity;\n\t}\n\tfloat getSpecularMIPLevel( const in float blinnShininessExponent, const in int maxMIPLevel ) {\n\t\tfloat maxMIPLevelScalar = float( maxMIPLevel );\n\t\tfloat desiredMIPLevel = maxMIPLevelScalar + 0.79248 - 0.5 * log2( pow2( blinnShininessExponent ) + 1.0 );\n\t\treturn clamp( desiredMIPLevel, 0.0, maxMIPLevelScalar );\n\t}\n\tvec3 getLightProbeIndirectRadiance( const in GeometricContext geometry, const in float blinnShininessExponent, const in int maxMIPLevel ) {\n\t\t#ifdef ENVMAP_MODE_REFLECTION\n\t\t\tvec3 reflectVec = reflect( -geometry.viewDir, geometry.normal );\n\t\t#else\n\t\t\tvec3 reflectVec = refract( -geometry.viewDir, geometry.normal, refractionRatio );\n\t\t#endif\n\t\treflectVec = inverseTransformDirection( reflectVec, viewMatrix );\n\t\tfloat specularMIPLevel = getSpecularMIPLevel( blinnShininessExponent, maxMIPLevel );\n\t\t#ifdef ENVMAP_TYPE_CUBE\n\t\t\tvec3 queryReflectVec = vec3( flipEnvMap * reflectVec.x, reflectVec.yz );\n\t\t\t#ifdef TEXTURE_LOD_EXT\n\t\t\t\tvec4 envMapColor = textureCubeLodEXT( envMap, queryReflectVec, specularMIPLevel );\n\t\t\t#else\n\t\t\t\tvec4 envMapColor = textureCube( envMap, queryReflectVec, specularMIPLevel );\n\t\t\t#endif\n\t\t\tenvMapColor.rgb = envMapTexelToLinear( envMapColor ).rgb;\n\t\t#elif defined( ENVMAP_TYPE_CUBE_UV )\n\t\t\tvec3 queryReflectVec = vec3( flipEnvMap * reflectVec.x, reflectVec.yz );\n\t\t\tvec4 envMapColor = textureCubeUV( envMap, queryReflectVec, BlinnExponentToGGXRoughness(blinnShininessExponent ));\n\t\t#elif defined( ENVMAP_TYPE_EQUIREC )\n\t\t\tvec2 sampleUV;\n\t\t\tsampleUV.y = asin( clamp( reflectVec.y, - 1.0, 1.0 ) ) * RECIPROCAL_PI + 0.5;\n\t\t\tsampleUV.x = atan( reflectVec.z, reflectVec.x ) * RECIPROCAL_PI2 + 0.5;\n\t\t\t#ifdef TEXTURE_LOD_EXT\n\t\t\t\tvec4 envMapColor = texture2DLodEXT( envMap, sampleUV, specularMIPLevel );\n\t\t\t#else\n\t\t\t\tvec4 envMapColor = texture2D( envMap, sampleUV, specularMIPLevel );\n\t\t\t#endif\n\t\t\tenvMapColor.rgb = envMapTexelToLinear( envMapColor ).rgb;\n\t\t#elif defined( ENVMAP_TYPE_SPHERE )\n\t\t\tvec3 reflectView = normalize( ( viewMatrix * vec4( reflectVec, 0.0 ) ).xyz + vec3( 0.0,0.0,1.0 ) );\n\t\t\t#ifdef TEXTURE_LOD_EXT\n\t\t\t\tvec4 envMapColor = texture2DLodEXT( envMap, reflectView.xy * 0.5 + 0.5, specularMIPLevel );\n\t\t\t#else\n\t\t\t\tvec4 envMapColor = texture2D( envMap, reflectView.xy * 0.5 + 0.5, specularMIPLevel );\n\t\t\t#endif\n\t\t\tenvMapColor.rgb = envMapTexelToLinear( envMapColor ).rgb;\n\t\t#endif\n\t\treturn envMapColor.rgb * envMapIntensity;\n\t}\n#endif",envmap_vertex:"#ifdef USE_ENVMAP\n\t#if defined( USE_BUMPMAP ) || defined( USE_NORMALMAP ) || defined( PHONG )\n\t\tvWorldPosition = worldPosition.xyz;\n\t#else\n\t\tvec3 cameraToVertex = normalize( worldPosition.xyz - cameraPosition );\n\t\tvec3 worldNormal = inverseTransformDirection( transformedNormal, viewMatrix );\n\t\t#ifdef ENVMAP_MODE_REFLECTION\n\t\t\tvReflect = reflect( cameraToVertex, worldNormal );\n\t\t#else\n\t\t\tvReflect = refract( cameraToVertex, worldNormal, refractionRatio );\n\t\t#endif\n\t#endif\n#endif",fog_vertex:"#ifdef USE_FOG\n\tfogDepth = -mvPosition.z;\n#endif",fog_pars_vertex:"#ifdef USE_FOG\n\tvarying float fogDepth;\n#endif",fog_fragment:"#ifdef USE_FOG\n\t#ifdef FOG_EXP2\n\t\tfloat fogFactor = whiteCompliment( exp2( - fogDensity * fogDensity * fogDepth * fogDepth * LOG2 ) );\n\t#else\n\t\tfloat fogFactor = smoothstep( fogNear, fogFar, fogDepth );\n\t#endif\n\tgl_FragColor.rgb = mix( gl_FragColor.rgb, fogColor, fogFactor );\n#endif",fog_pars_fragment:"#ifdef USE_FOG\n\tuniform vec3 fogColor;\n\tvarying float fogDepth;\n\t#ifdef FOG_EXP2\n\t\tuniform float fogDensity;\n\t#else\n\t\tuniform float fogNear;\n\t\tuniform float fogFar;\n\t#endif\n#endif",gradientmap_pars_fragment:"#ifdef TOON\n\tuniform sampler2D gradientMap;\n\tvec3 getGradientIrradiance( vec3 normal, vec3 lightDirection ) {\n\t\tfloat dotNL = dot( normal, lightDirection );\n\t\tvec2 coord = vec2( dotNL * 0.5 + 0.5, 0.0 );\n\t\t#ifdef USE_GRADIENTMAP\n\t\t\treturn texture2D( gradientMap, coord ).rgb;\n\t\t#else\n\t\t\treturn ( coord.x < 0.7 ) ? vec3( 0.7 ) : vec3( 1.0 );\n\t\t#endif\n\t}\n#endif",lightmap_fragment:"#ifdef USE_LIGHTMAP\n\treflectedLight.indirectDiffuse += PI * texture2D( lightMap, vUv2 ).xyz * lightMapIntensity;\n#endif",lightmap_pars_fragment:"#ifdef USE_LIGHTMAP\n\tuniform sampler2D lightMap;\n\tuniform float lightMapIntensity;\n#endif",lights_lambert_vertex:"vec3 diffuse = vec3( 1.0 );\nGeometricContext geometry;\ngeometry.position = mvPosition.xyz;\ngeometry.normal = normalize( transformedNormal );\ngeometry.viewDir = normalize( -mvPosition.xyz );\nGeometricContext backGeometry;\nbackGeometry.position = geometry.position;\nbackGeometry.normal = -geometry.normal;\nbackGeometry.viewDir = geometry.viewDir;\nvLightFront = vec3( 0.0 );\nvIndirectFront = vec3( 0.0 );\n#ifdef DOUBLE_SIDED\n\tvLightBack = vec3( 0.0 );\n\tvIndirectBack = vec3( 0.0 );\n#endif\nIncidentLight directLight;\nfloat dotNL;\nvec3 directLightColor_Diffuse;\n#if NUM_POINT_LIGHTS > 0\n\t#pragma unroll_loop\n\tfor ( int i = 0; i < NUM_POINT_LIGHTS; i ++ ) {\n\t\tgetPointDirectLightIrradiance( pointLights[ i ], geometry, directLight );\n\t\tdotNL = dot( geometry.normal, directLight.direction );\n\t\tdirectLightColor_Diffuse = PI * directLight.color;\n\t\tvLightFront += saturate( dotNL ) * directLightColor_Diffuse;\n\t\t#ifdef DOUBLE_SIDED\n\t\t\tvLightBack += saturate( -dotNL ) * directLightColor_Diffuse;\n\t\t#endif\n\t}\n#endif\n#if NUM_SPOT_LIGHTS > 0\n\t#pragma unroll_loop\n\tfor ( int i = 0; i < NUM_SPOT_LIGHTS; i ++ ) {\n\t\tgetSpotDirectLightIrradiance( spotLights[ i ], geometry, directLight );\n\t\tdotNL = dot( geometry.normal, directLight.direction );\n\t\tdirectLightColor_Diffuse = PI * directLight.color;\n\t\tvLightFront += saturate( dotNL ) * directLightColor_Diffuse;\n\t\t#ifdef DOUBLE_SIDED\n\t\t\tvLightBack += saturate( -dotNL ) * directLightColor_Diffuse;\n\t\t#endif\n\t}\n#endif\n#if NUM_DIR_LIGHTS > 0\n\t#pragma unroll_loop\n\tfor ( int i = 0; i < NUM_DIR_LIGHTS; i ++ ) {\n\t\tgetDirectionalDirectLightIrradiance( directionalLights[ i ], geometry, directLight );\n\t\tdotNL = dot( geometry.normal, directLight.direction );\n\t\tdirectLightColor_Diffuse = PI * directLight.color;\n\t\tvLightFront += saturate( dotNL ) * directLightColor_Diffuse;\n\t\t#ifdef DOUBLE_SIDED\n\t\t\tvLightBack += saturate( -dotNL ) * directLightColor_Diffuse;\n\t\t#endif\n\t}\n#endif\n#if NUM_HEMI_LIGHTS > 0\n\t#pragma unroll_loop\n\tfor ( int i = 0; i < NUM_HEMI_LIGHTS; i ++ ) {\n\t\tvIndirectFront += getHemisphereLightIrradiance( hemisphereLights[ i ], geometry );\n\t\t#ifdef DOUBLE_SIDED\n\t\t\tvIndirectBack += getHemisphereLightIrradiance( hemisphereLights[ i ], backGeometry );\n\t\t#endif\n\t}\n#endif",lights_pars_begin:"uniform vec3 ambientLightColor;\nuniform vec3 lightProbe[ 9 ];\nvec3 shGetIrradianceAt( in vec3 normal, in vec3 shCoefficients[ 9 ] ) {\n\tfloat x = normal.x, y = normal.y, z = normal.z;\n\tvec3 result = shCoefficients[ 0 ] * 0.886227;\n\tresult += shCoefficients[ 1 ] * 2.0 * 0.511664 * y;\n\tresult += shCoefficients[ 2 ] * 2.0 * 0.511664 * z;\n\tresult += shCoefficients[ 3 ] * 2.0 * 0.511664 * x;\n\tresult += shCoefficients[ 4 ] * 2.0 * 0.429043 * x * y;\n\tresult += shCoefficients[ 5 ] * 2.0 * 0.429043 * y * z;\n\tresult += shCoefficients[ 6 ] * ( 0.743125 * z * z - 0.247708 );\n\tresult += shCoefficients[ 7 ] * 2.0 * 0.429043 * x * z;\n\tresult += shCoefficients[ 8 ] * 0.429043 * ( x * x - y * y );\n\treturn result;\n}\nvec3 getLightProbeIrradiance( const in vec3 lightProbe[ 9 ], const in GeometricContext geometry ) {\n\tvec3 worldNormal = inverseTransformDirection( geometry.normal, viewMatrix );\n\tvec3 irradiance = shGetIrradianceAt( worldNormal, lightProbe );\n\treturn irradiance;\n}\nvec3 getAmbientLightIrradiance( const in vec3 ambientLightColor ) {\n\tvec3 irradiance = ambientLightColor;\n\t#ifndef PHYSICALLY_CORRECT_LIGHTS\n\t\tirradiance *= PI;\n\t#endif\n\treturn irradiance;\n}\n#if NUM_DIR_LIGHTS > 0\n\tstruct DirectionalLight {\n\t\tvec3 direction;\n\t\tvec3 color;\n\t\tint shadow;\n\t\tfloat shadowBias;\n\t\tfloat shadowRadius;\n\t\tvec2 shadowMapSize;\n\t};\n\tuniform DirectionalLight directionalLights[ NUM_DIR_LIGHTS ];\n\tvoid getDirectionalDirectLightIrradiance( const in DirectionalLight directionalLight, const in GeometricContext geometry, out IncidentLight directLight ) {\n\t\tdirectLight.color = directionalLight.color;\n\t\tdirectLight.direction = directionalLight.direction;\n\t\tdirectLight.visible = true;\n\t}\n#endif\n#if NUM_POINT_LIGHTS > 0\n\tstruct PointLight {\n\t\tvec3 position;\n\t\tvec3 color;\n\t\tfloat distance;\n\t\tfloat decay;\n\t\tint shadow;\n\t\tfloat shadowBias;\n\t\tfloat shadowRadius;\n\t\tvec2 shadowMapSize;\n\t\tfloat shadowCameraNear;\n\t\tfloat shadowCameraFar;\n\t};\n\tuniform PointLight pointLights[ NUM_POINT_LIGHTS ];\n\tvoid getPointDirectLightIrradiance( const in PointLight pointLight, const in GeometricContext geometry, out IncidentLight directLight ) {\n\t\tvec3 lVector = pointLight.position - geometry.position;\n\t\tdirectLight.direction = normalize( lVector );\n\t\tfloat lightDistance = length( lVector );\n\t\tdirectLight.color = pointLight.color;\n\t\tdirectLight.color *= punctualLightIntensityToIrradianceFactor( lightDistance, pointLight.distance, pointLight.decay );\n\t\tdirectLight.visible = ( directLight.color != vec3( 0.0 ) );\n\t}\n#endif\n#if NUM_SPOT_LIGHTS > 0\n\tstruct SpotLight {\n\t\tvec3 position;\n\t\tvec3 direction;\n\t\tvec3 color;\n\t\tfloat distance;\n\t\tfloat decay;\n\t\tfloat coneCos;\n\t\tfloat penumbraCos;\n\t\tint shadow;\n\t\tfloat shadowBias;\n\t\tfloat shadowRadius;\n\t\tvec2 shadowMapSize;\n\t};\n\tuniform SpotLight spotLights[ NUM_SPOT_LIGHTS ];\n\tvoid getSpotDirectLightIrradiance( const in SpotLight spotLight, const in GeometricContext geometry, out IncidentLight directLight  ) {\n\t\tvec3 lVector = spotLight.position - geometry.position;\n\t\tdirectLight.direction = normalize( lVector );\n\t\tfloat lightDistance = length( lVector );\n\t\tfloat angleCos = dot( directLight.direction, spotLight.direction );\n\t\tif ( angleCos > spotLight.coneCos ) {\n\t\t\tfloat spotEffect = smoothstep( spotLight.coneCos, spotLight.penumbraCos, angleCos );\n\t\t\tdirectLight.color = spotLight.color;\n\t\t\tdirectLight.color *= spotEffect * punctualLightIntensityToIrradianceFactor( lightDistance, spotLight.distance, spotLight.decay );\n\t\t\tdirectLight.visible = true;\n\t\t} else {\n\t\t\tdirectLight.color = vec3( 0.0 );\n\t\t\tdirectLight.visible = false;\n\t\t}\n\t}\n#endif\n#if NUM_RECT_AREA_LIGHTS > 0\n\tstruct RectAreaLight {\n\t\tvec3 color;\n\t\tvec3 position;\n\t\tvec3 halfWidth;\n\t\tvec3 halfHeight;\n\t};\n\tuniform sampler2D ltc_1;\tuniform sampler2D ltc_2;\n\tuniform RectAreaLight rectAreaLights[ NUM_RECT_AREA_LIGHTS ];\n#endif\n#if NUM_HEMI_LIGHTS > 0\n\tstruct HemisphereLight {\n\t\tvec3 direction;\n\t\tvec3 skyColor;\n\t\tvec3 groundColor;\n\t};\n\tuniform HemisphereLight hemisphereLights[ NUM_HEMI_LIGHTS ];\n\tvec3 getHemisphereLightIrradiance( const in HemisphereLight hemiLight, const in GeometricContext geometry ) {\n\t\tfloat dotNL = dot( geometry.normal, hemiLight.direction );\n\t\tfloat hemiDiffuseWeight = 0.5 * dotNL + 0.5;\n\t\tvec3 irradiance = mix( hemiLight.groundColor, hemiLight.skyColor, hemiDiffuseWeight );\n\t\t#ifndef PHYSICALLY_CORRECT_LIGHTS\n\t\t\tirradiance *= PI;\n\t\t#endif\n\t\treturn irradiance;\n\t}\n#endif",lights_phong_fragment:"BlinnPhongMaterial material;\nmaterial.diffuseColor = diffuseColor.rgb;\nmaterial.specularColor = specular;\nmaterial.specularShininess = shininess;\nmaterial.specularStrength = specularStrength;",lights_phong_pars_fragment:"varying vec3 vViewPosition;\n#ifndef FLAT_SHADED\n\tvarying vec3 vNormal;\n#endif\nstruct BlinnPhongMaterial {\n\tvec3\tdiffuseColor;\n\tvec3\tspecularColor;\n\tfloat\tspecularShininess;\n\tfloat\tspecularStrength;\n};\nvoid RE_Direct_BlinnPhong( const in IncidentLight directLight, const in GeometricContext geometry, const in BlinnPhongMaterial material, inout ReflectedLight reflectedLight ) {\n\t#ifdef TOON\n\t\tvec3 irradiance = getGradientIrradiance( geometry.normal, directLight.direction ) * directLight.color;\n\t#else\n\t\tfloat dotNL = saturate( dot( geometry.normal, directLight.direction ) );\n\t\tvec3 irradiance = dotNL * directLight.color;\n\t#endif\n\t#ifndef PHYSICALLY_CORRECT_LIGHTS\n\t\tirradiance *= PI;\n\t#endif\n\treflectedLight.directDiffuse += irradiance * BRDF_Diffuse_Lambert( material.diffuseColor );\n\treflectedLight.directSpecular += irradiance * BRDF_Specular_BlinnPhong( directLight, geometry, material.specularColor, material.specularShininess ) * material.specularStrength;\n}\nvoid RE_IndirectDiffuse_BlinnPhong( const in vec3 irradiance, const in GeometricContext geometry, const in BlinnPhongMaterial material, inout ReflectedLight reflectedLight ) {\n\treflectedLight.indirectDiffuse += irradiance * BRDF_Diffuse_Lambert( material.diffuseColor );\n}\n#define RE_Direct\t\t\t\tRE_Direct_BlinnPhong\n#define RE_IndirectDiffuse\t\tRE_IndirectDiffuse_BlinnPhong\n#define Material_LightProbeLOD( material )\t(0)",lights_physical_fragment:"PhysicalMaterial material;\nmaterial.diffuseColor = diffuseColor.rgb * ( 1.0 - metalnessFactor );\nmaterial.specularRoughness = clamp( roughnessFactor, 0.04, 1.0 );\n#ifdef STANDARD\n\tmaterial.specularColor = mix( vec3( DEFAULT_SPECULAR_COEFFICIENT ), diffuseColor.rgb, metalnessFactor );\n#else\n\tmaterial.specularColor = mix( vec3( MAXIMUM_SPECULAR_COEFFICIENT * pow2( reflectivity ) ), diffuseColor.rgb, metalnessFactor );\n\tmaterial.clearCoat = saturate( clearCoat );\tmaterial.clearCoatRoughness = clamp( clearCoatRoughness, 0.04, 1.0 );\n#endif",lights_physical_pars_fragment:"struct PhysicalMaterial {\n\tvec3\tdiffuseColor;\n\tfloat\tspecularRoughness;\n\tvec3\tspecularColor;\n\t#ifndef STANDARD\n\t\tfloat clearCoat;\n\t\tfloat clearCoatRoughness;\n\t#endif\n};\n#define MAXIMUM_SPECULAR_COEFFICIENT 0.16\n#define DEFAULT_SPECULAR_COEFFICIENT 0.04\nfloat clearCoatDHRApprox( const in float roughness, const in float dotNL ) {\n\treturn DEFAULT_SPECULAR_COEFFICIENT + ( 1.0 - DEFAULT_SPECULAR_COEFFICIENT ) * ( pow( 1.0 - dotNL, 5.0 ) * pow( 1.0 - roughness, 2.0 ) );\n}\n#if NUM_RECT_AREA_LIGHTS > 0\n\tvoid RE_Direct_RectArea_Physical( const in RectAreaLight rectAreaLight, const in GeometricContext geometry, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {\n\t\tvec3 normal = geometry.normal;\n\t\tvec3 viewDir = geometry.viewDir;\n\t\tvec3 position = geometry.position;\n\t\tvec3 lightPos = rectAreaLight.position;\n\t\tvec3 halfWidth = rectAreaLight.halfWidth;\n\t\tvec3 halfHeight = rectAreaLight.halfHeight;\n\t\tvec3 lightColor = rectAreaLight.color;\n\t\tfloat roughness = material.specularRoughness;\n\t\tvec3 rectCoords[ 4 ];\n\t\trectCoords[ 0 ] = lightPos + halfWidth - halfHeight;\t\trectCoords[ 1 ] = lightPos - halfWidth - halfHeight;\n\t\trectCoords[ 2 ] = lightPos - halfWidth + halfHeight;\n\t\trectCoords[ 3 ] = lightPos + halfWidth + halfHeight;\n\t\tvec2 uv = LTC_Uv( normal, viewDir, roughness );\n\t\tvec4 t1 = texture2D( ltc_1, uv );\n\t\tvec4 t2 = texture2D( ltc_2, uv );\n\t\tmat3 mInv = mat3(\n\t\t\tvec3( t1.x, 0, t1.y ),\n\t\t\tvec3(    0, 1,    0 ),\n\t\t\tvec3( t1.z, 0, t1.w )\n\t\t);\n\t\tvec3 fresnel = ( material.specularColor * t2.x + ( vec3( 1.0 ) - material.specularColor ) * t2.y );\n\t\treflectedLight.directSpecular += lightColor * fresnel * LTC_Evaluate( normal, viewDir, position, mInv, rectCoords );\n\t\treflectedLight.directDiffuse += lightColor * material.diffuseColor * LTC_Evaluate( normal, viewDir, position, mat3( 1.0 ), rectCoords );\n\t}\n#endif\nvoid RE_Direct_Physical( const in IncidentLight directLight, const in GeometricContext geometry, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {\n\tfloat dotNL = saturate( dot( geometry.normal, directLight.direction ) );\n\tvec3 irradiance = dotNL * directLight.color;\n\t#ifndef PHYSICALLY_CORRECT_LIGHTS\n\t\tirradiance *= PI;\n\t#endif\n\t#ifndef STANDARD\n\t\tfloat clearCoatDHR = material.clearCoat * clearCoatDHRApprox( material.clearCoatRoughness, dotNL );\n\t#else\n\t\tfloat clearCoatDHR = 0.0;\n\t#endif\n\treflectedLight.directSpecular += ( 1.0 - clearCoatDHR ) * irradiance * BRDF_Specular_GGX( directLight, geometry, material.specularColor, material.specularRoughness );\n\treflectedLight.directDiffuse += ( 1.0 - clearCoatDHR ) * irradiance * BRDF_Diffuse_Lambert( material.diffuseColor );\n\t#ifndef STANDARD\n\t\treflectedLight.directSpecular += irradiance * material.clearCoat * BRDF_Specular_GGX( directLight, geometry, vec3( DEFAULT_SPECULAR_COEFFICIENT ), material.clearCoatRoughness );\n\t#endif\n}\nvoid RE_IndirectDiffuse_Physical( const in vec3 irradiance, const in GeometricContext geometry, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {\n\t#ifndef ENVMAP_TYPE_CUBE_UV\n\t\treflectedLight.indirectDiffuse += irradiance * BRDF_Diffuse_Lambert( material.diffuseColor );\n\t#endif\n}\nvoid RE_IndirectSpecular_Physical( const in vec3 radiance, const in vec3 irradiance, const in vec3 clearCoatRadiance, const in GeometricContext geometry, const in PhysicalMaterial material, inout ReflectedLight reflectedLight) {\n\t#ifndef STANDARD\n\t\tfloat dotNV = saturate( dot( geometry.normal, geometry.viewDir ) );\n\t\tfloat dotNL = dotNV;\n\t\tfloat clearCoatDHR = material.clearCoat * clearCoatDHRApprox( material.clearCoatRoughness, dotNL );\n\t#else\n\t\tfloat clearCoatDHR = 0.0;\n\t#endif\n\tfloat clearCoatInv = 1.0 - clearCoatDHR;\n\t#if defined( ENVMAP_TYPE_CUBE_UV )\n\t\tvec3 singleScattering = vec3( 0.0 );\n\t\tvec3 multiScattering = vec3( 0.0 );\n\t\tvec3 cosineWeightedIrradiance = irradiance * RECIPROCAL_PI;\n\t\tBRDF_Specular_Multiscattering_Environment( geometry, material.specularColor, material.specularRoughness, singleScattering, multiScattering );\n\t\tvec3 diffuse = material.diffuseColor * ( 1.0 - ( singleScattering + multiScattering ) );\n\t\treflectedLight.indirectSpecular += clearCoatInv * radiance * singleScattering;\n\t\treflectedLight.indirectDiffuse += multiScattering * cosineWeightedIrradiance;\n\t\treflectedLight.indirectDiffuse += diffuse * cosineWeightedIrradiance;\n\t#else\n\t\treflectedLight.indirectSpecular += clearCoatInv * radiance * BRDF_Specular_GGX_Environment( geometry, material.specularColor, material.specularRoughness );\n\t#endif\n\t#ifndef STANDARD\n\t\treflectedLight.indirectSpecular += clearCoatRadiance * material.clearCoat * BRDF_Specular_GGX_Environment( geometry, vec3( DEFAULT_SPECULAR_COEFFICIENT ), material.clearCoatRoughness );\n\t#endif\n}\n#define RE_Direct\t\t\t\tRE_Direct_Physical\n#define RE_Direct_RectArea\t\tRE_Direct_RectArea_Physical\n#define RE_IndirectDiffuse\t\tRE_IndirectDiffuse_Physical\n#define RE_IndirectSpecular\t\tRE_IndirectSpecular_Physical\n#define Material_BlinnShininessExponent( material )   GGXRoughnessToBlinnExponent( material.specularRoughness )\n#define Material_ClearCoat_BlinnShininessExponent( material )   GGXRoughnessToBlinnExponent( material.clearCoatRoughness )\nfloat computeSpecularOcclusion( const in float dotNV, const in float ambientOcclusion, const in float roughness ) {\n\treturn saturate( pow( dotNV + ambientOcclusion, exp2( - 16.0 * roughness - 1.0 ) ) - 1.0 + ambientOcclusion );\n}",lights_fragment_begin:"\nGeometricContext geometry;\ngeometry.position = - vViewPosition;\ngeometry.normal = normal;\ngeometry.viewDir = normalize( vViewPosition );\nIncidentLight directLight;\n#if ( NUM_POINT_LIGHTS > 0 ) && defined( RE_Direct )\n\tPointLight pointLight;\n\t#pragma unroll_loop\n\tfor ( int i = 0; i < NUM_POINT_LIGHTS; i ++ ) {\n\t\tpointLight = pointLights[ i ];\n\t\tgetPointDirectLightIrradiance( pointLight, geometry, directLight );\n\t\t#ifdef USE_SHADOWMAP\n\t\tdirectLight.color *= all( bvec2( pointLight.shadow, directLight.visible ) ) ? getPointShadow( pointShadowMap[ i ], pointLight.shadowMapSize, pointLight.shadowBias, pointLight.shadowRadius, vPointShadowCoord[ i ], pointLight.shadowCameraNear, pointLight.shadowCameraFar ) : 1.0;\n\t\t#endif\n\t\tRE_Direct( directLight, geometry, material, reflectedLight );\n\t}\n#endif\n#if ( NUM_SPOT_LIGHTS > 0 ) && defined( RE_Direct )\n\tSpotLight spotLight;\n\t#pragma unroll_loop\n\tfor ( int i = 0; i < NUM_SPOT_LIGHTS; i ++ ) {\n\t\tspotLight = spotLights[ i ];\n\t\tgetSpotDirectLightIrradiance( spotLight, geometry, directLight );\n\t\t#ifdef USE_SHADOWMAP\n\t\tdirectLight.color *= all( bvec2( spotLight.shadow, directLight.visible ) ) ? getShadow( spotShadowMap[ i ], spotLight.shadowMapSize, spotLight.shadowBias, spotLight.shadowRadius, vSpotShadowCoord[ i ] ) : 1.0;\n\t\t#endif\n\t\tRE_Direct( directLight, geometry, material, reflectedLight );\n\t}\n#endif\n#if ( NUM_DIR_LIGHTS > 0 ) && defined( RE_Direct )\n\tDirectionalLight directionalLight;\n\t#pragma unroll_loop\n\tfor ( int i = 0; i < NUM_DIR_LIGHTS; i ++ ) {\n\t\tdirectionalLight = directionalLights[ i ];\n\t\tgetDirectionalDirectLightIrradiance( directionalLight, geometry, directLight );\n\t\t#ifdef USE_SHADOWMAP\n\t\tdirectLight.color *= all( bvec2( directionalLight.shadow, directLight.visible ) ) ? getShadow( directionalShadowMap[ i ], directionalLight.shadowMapSize, directionalLight.shadowBias, directionalLight.shadowRadius, vDirectionalShadowCoord[ i ] ) : 1.0;\n\t\t#endif\n\t\tRE_Direct( directLight, geometry, material, reflectedLight );\n\t}\n#endif\n#if ( NUM_RECT_AREA_LIGHTS > 0 ) && defined( RE_Direct_RectArea )\n\tRectAreaLight rectAreaLight;\n\t#pragma unroll_loop\n\tfor ( int i = 0; i < NUM_RECT_AREA_LIGHTS; i ++ ) {\n\t\trectAreaLight = rectAreaLights[ i ];\n\t\tRE_Direct_RectArea( rectAreaLight, geometry, material, reflectedLight );\n\t}\n#endif\n#if defined( RE_IndirectDiffuse )\n\tvec3 irradiance = getAmbientLightIrradiance( ambientLightColor );\n\tirradiance += getLightProbeIrradiance( lightProbe, geometry );\n\t#if ( NUM_HEMI_LIGHTS > 0 )\n\t\t#pragma unroll_loop\n\t\tfor ( int i = 0; i < NUM_HEMI_LIGHTS; i ++ ) {\n\t\t\tirradiance += getHemisphereLightIrradiance( hemisphereLights[ i ], geometry );\n\t\t}\n\t#endif\n#endif\n#if defined( RE_IndirectSpecular )\n\tvec3 radiance = vec3( 0.0 );\n\tvec3 clearCoatRadiance = vec3( 0.0 );\n#endif",lights_fragment_maps:"#if defined( RE_IndirectDiffuse )\n\t#ifdef USE_LIGHTMAP\n\t\tvec3 lightMapIrradiance = texture2D( lightMap, vUv2 ).xyz * lightMapIntensity;\n\t\t#ifndef PHYSICALLY_CORRECT_LIGHTS\n\t\t\tlightMapIrradiance *= PI;\n\t\t#endif\n\t\tirradiance += lightMapIrradiance;\n\t#endif\n\t#if defined( USE_ENVMAP ) && defined( PHYSICAL ) && defined( ENVMAP_TYPE_CUBE_UV )\n\t\tirradiance += getLightProbeIndirectIrradiance( geometry, maxMipLevel );\n\t#endif\n#endif\n#if defined( USE_ENVMAP ) && defined( RE_IndirectSpecular )\n\tradiance += getLightProbeIndirectRadiance( geometry, Material_BlinnShininessExponent( material ), maxMipLevel );\n\t#ifndef STANDARD\n\t\tclearCoatRadiance += getLightProbeIndirectRadiance( geometry, Material_ClearCoat_BlinnShininessExponent( material ), maxMipLevel );\n\t#endif\n#endif",lights_fragment_end:"#if defined( RE_IndirectDiffuse )\n\tRE_IndirectDiffuse( irradiance, geometry, material, reflectedLight );\n#endif\n#if defined( RE_IndirectSpecular )\n\tRE_IndirectSpecular( radiance, irradiance, clearCoatRadiance, geometry, material, reflectedLight );\n#endif",logdepthbuf_fragment:"#if defined( USE_LOGDEPTHBUF ) && defined( USE_LOGDEPTHBUF_EXT )\n\tgl_FragDepthEXT = log2( vFragDepth ) * logDepthBufFC * 0.5;\n#endif",logdepthbuf_pars_fragment:"#if defined( USE_LOGDEPTHBUF ) && defined( USE_LOGDEPTHBUF_EXT )\n\tuniform float logDepthBufFC;\n\tvarying float vFragDepth;\n#endif",logdepthbuf_pars_vertex:"#ifdef USE_LOGDEPTHBUF\n\t#ifdef USE_LOGDEPTHBUF_EXT\n\t\tvarying float vFragDepth;\n\t#else\n\t\tuniform float logDepthBufFC;\n\t#endif\n#endif",logdepthbuf_vertex:"#ifdef USE_LOGDEPTHBUF\n\t#ifdef USE_LOGDEPTHBUF_EXT\n\t\tvFragDepth = 1.0 + gl_Position.w;\n\t#else\n\t\tgl_Position.z = log2( max( EPSILON, gl_Position.w + 1.0 ) ) * logDepthBufFC - 1.0;\n\t\tgl_Position.z *= gl_Position.w;\n\t#endif\n#endif",map_fragment:"#ifdef USE_MAP\n\tvec4 texelColor = texture2D( map, vUv );\n\ttexelColor = mapTexelToLinear( texelColor );\n\tdiffuseColor *= texelColor;\n#endif",map_pars_fragment:"#ifdef USE_MAP\n\tuniform sampler2D map;\n#endif",map_particle_fragment:"#ifdef USE_MAP\n\tvec2 uv = ( uvTransform * vec3( gl_PointCoord.x, 1.0 - gl_PointCoord.y, 1 ) ).xy;\n\tvec4 mapTexel = texture2D( map, uv );\n\tdiffuseColor *= mapTexelToLinear( mapTexel );\n#endif",map_particle_pars_fragment:"#ifdef USE_MAP\n\tuniform mat3 uvTransform;\n\tuniform sampler2D map;\n#endif",metalnessmap_fragment:"float metalnessFactor = metalness;\n#ifdef USE_METALNESSMAP\n\tvec4 texelMetalness = texture2D( metalnessMap, vUv );\n\tmetalnessFactor *= texelMetalness.b;\n#endif",metalnessmap_pars_fragment:"#ifdef USE_METALNESSMAP\n\tuniform sampler2D metalnessMap;\n#endif",morphnormal_vertex:"#ifdef USE_MORPHNORMALS\n\tobjectNormal += ( morphNormal0 - normal ) * morphTargetInfluences[ 0 ];\n\tobjectNormal += ( morphNormal1 - normal ) * morphTargetInfluences[ 1 ];\n\tobjectNormal += ( morphNormal2 - normal ) * morphTargetInfluences[ 2 ];\n\tobjectNormal += ( morphNormal3 - normal ) * morphTargetInfluences[ 3 ];\n#endif",morphtarget_pars_vertex:"#ifdef USE_MORPHTARGETS\n\t#ifndef USE_MORPHNORMALS\n\tuniform float morphTargetInfluences[ 8 ];\n\t#else\n\tuniform float morphTargetInfluences[ 4 ];\n\t#endif\n#endif",morphtarget_vertex:"#ifdef USE_MORPHTARGETS\n\ttransformed += ( morphTarget0 - position ) * morphTargetInfluences[ 0 ];\n\ttransformed += ( morphTarget1 - position ) * morphTargetInfluences[ 1 ];\n\ttransformed += ( morphTarget2 - position ) * morphTargetInfluences[ 2 ];\n\ttransformed += ( morphTarget3 - position ) * morphTargetInfluences[ 3 ];\n\t#ifndef USE_MORPHNORMALS\n\ttransformed += ( morphTarget4 - position ) * morphTargetInfluences[ 4 ];\n\ttransformed += ( morphTarget5 - position ) * morphTargetInfluences[ 5 ];\n\ttransformed += ( morphTarget6 - position ) * morphTargetInfluences[ 6 ];\n\ttransformed += ( morphTarget7 - position ) * morphTargetInfluences[ 7 ];\n\t#endif\n#endif",normal_fragment_begin:"#ifdef FLAT_SHADED\n\tvec3 fdx = vec3( dFdx( vViewPosition.x ), dFdx( vViewPosition.y ), dFdx( vViewPosition.z ) );\n\tvec3 fdy = vec3( dFdy( vViewPosition.x ), dFdy( vViewPosition.y ), dFdy( vViewPosition.z ) );\n\tvec3 normal = normalize( cross( fdx, fdy ) );\n#else\n\tvec3 normal = normalize( vNormal );\n\t#ifdef DOUBLE_SIDED\n\t\tnormal = normal * ( float( gl_FrontFacing ) * 2.0 - 1.0 );\n\t#endif\n\t#ifdef USE_TANGENT\n\t\tvec3 tangent = normalize( vTangent );\n\t\tvec3 bitangent = normalize( vBitangent );\n\t\t#ifdef DOUBLE_SIDED\n\t\t\ttangent = tangent * ( float( gl_FrontFacing ) * 2.0 - 1.0 );\n\t\t\tbitangent = bitangent * ( float( gl_FrontFacing ) * 2.0 - 1.0 );\n\t\t#endif\n\t#endif\n#endif",normal_fragment_maps:"#ifdef USE_NORMALMAP\n\t#ifdef OBJECTSPACE_NORMALMAP\n\t\tnormal = texture2D( normalMap, vUv ).xyz * 2.0 - 1.0;\n\t\t#ifdef FLIP_SIDED\n\t\t\tnormal = - normal;\n\t\t#endif\n\t\t#ifdef DOUBLE_SIDED\n\t\t\tnormal = normal * ( float( gl_FrontFacing ) * 2.0 - 1.0 );\n\t\t#endif\n\t\tnormal = normalize( normalMatrix * normal );\n\t#else\n\t\t#ifdef USE_TANGENT\n\t\t\tmat3 vTBN = mat3( tangent, bitangent, normal );\n\t\t\tvec3 mapN = texture2D( normalMap, vUv ).xyz * 2.0 - 1.0;\n\t\t\tmapN.xy = normalScale * mapN.xy;\n\t\t\tnormal = normalize( vTBN * mapN );\n\t\t#else\n\t\t\tnormal = perturbNormal2Arb( -vViewPosition, normal );\n\t\t#endif\n\t#endif\n#elif defined( USE_BUMPMAP )\n\tnormal = perturbNormalArb( -vViewPosition, normal, dHdxy_fwd() );\n#endif",normalmap_pars_fragment:"#ifdef USE_NORMALMAP\n\tuniform sampler2D normalMap;\n\tuniform vec2 normalScale;\n\t#ifdef OBJECTSPACE_NORMALMAP\n\t\tuniform mat3 normalMatrix;\n\t#else\n\t\tvec3 perturbNormal2Arb( vec3 eye_pos, vec3 surf_norm ) {\n\t\t\tvec3 q0 = vec3( dFdx( eye_pos.x ), dFdx( eye_pos.y ), dFdx( eye_pos.z ) );\n\t\t\tvec3 q1 = vec3( dFdy( eye_pos.x ), dFdy( eye_pos.y ), dFdy( eye_pos.z ) );\n\t\t\tvec2 st0 = dFdx( vUv.st );\n\t\t\tvec2 st1 = dFdy( vUv.st );\n\t\t\tfloat scale = sign( st1.t * st0.s - st0.t * st1.s );\n\t\t\tvec3 S = normalize( ( q0 * st1.t - q1 * st0.t ) * scale );\n\t\t\tvec3 T = normalize( ( - q0 * st1.s + q1 * st0.s ) * scale );\n\t\t\tvec3 N = normalize( surf_norm );\n\t\t\tmat3 tsn = mat3( S, T, N );\n\t\t\tvec3 mapN = texture2D( normalMap, vUv ).xyz * 2.0 - 1.0;\n\t\t\tmapN.xy *= normalScale;\n\t\t\tmapN.xy *= ( float( gl_FrontFacing ) * 2.0 - 1.0 );\n\t\t\treturn normalize( tsn * mapN );\n\t\t}\n\t#endif\n#endif",packing:"vec3 packNormalToRGB( const in vec3 normal ) {\n\treturn normalize( normal ) * 0.5 + 0.5;\n}\nvec3 unpackRGBToNormal( const in vec3 rgb ) {\n\treturn 2.0 * rgb.xyz - 1.0;\n}\nconst float PackUpscale = 256. / 255.;const float UnpackDownscale = 255. / 256.;\nconst vec3 PackFactors = vec3( 256. * 256. * 256., 256. * 256.,  256. );\nconst vec4 UnpackFactors = UnpackDownscale / vec4( PackFactors, 1. );\nconst float ShiftRight8 = 1. / 256.;\nvec4 packDepthToRGBA( const in float v ) {\n\tvec4 r = vec4( fract( v * PackFactors ), v );\n\tr.yzw -= r.xyz * ShiftRight8;\treturn r * PackUpscale;\n}\nfloat unpackRGBAToDepth( const in vec4 v ) {\n\treturn dot( v, UnpackFactors );\n}\nfloat viewZToOrthographicDepth( const in float viewZ, const in float near, const in float far ) {\n\treturn ( viewZ + near ) / ( near - far );\n}\nfloat orthographicDepthToViewZ( const in float linearClipZ, const in float near, const in float far ) {\n\treturn linearClipZ * ( near - far ) - near;\n}\nfloat viewZToPerspectiveDepth( const in float viewZ, const in float near, const in float far ) {\n\treturn (( near + viewZ ) * far ) / (( far - near ) * viewZ );\n}\nfloat perspectiveDepthToViewZ( const in float invClipZ, const in float near, const in float far ) {\n\treturn ( near * far ) / ( ( far - near ) * invClipZ - far );\n}",premultiplied_alpha_fragment:"#ifdef PREMULTIPLIED_ALPHA\n\tgl_FragColor.rgb *= gl_FragColor.a;\n#endif",project_vertex:"vec4 mvPosition = modelViewMatrix * vec4( transformed, 1.0 );\ngl_Position = projectionMatrix * mvPosition;",dithering_fragment:"#if defined( DITHERING )\n\tgl_FragColor.rgb = dithering( gl_FragColor.rgb );\n#endif",dithering_pars_fragment:"#if defined( DITHERING )\n\tvec3 dithering( vec3 color ) {\n\t\tfloat grid_position = rand( gl_FragCoord.xy );\n\t\tvec3 dither_shift_RGB = vec3( 0.25 / 255.0, -0.25 / 255.0, 0.25 / 255.0 );\n\t\tdither_shift_RGB = mix( 2.0 * dither_shift_RGB, -2.0 * dither_shift_RGB, grid_position );\n\t\treturn color + dither_shift_RGB;\n\t}\n#endif",roughnessmap_fragment:"float roughnessFactor = roughness;\n#ifdef USE_ROUGHNESSMAP\n\tvec4 texelRoughness = texture2D( roughnessMap, vUv );\n\troughnessFactor *= texelRoughness.g;\n#endif",roughnessmap_pars_fragment:"#ifdef USE_ROUGHNESSMAP\n\tuniform sampler2D roughnessMap;\n#endif",shadowmap_pars_fragment:"#ifdef USE_SHADOWMAP\n\t#if NUM_DIR_LIGHTS > 0\n\t\tuniform sampler2D directionalShadowMap[ NUM_DIR_LIGHTS ];\n\t\tvarying vec4 vDirectionalShadowCoord[ NUM_DIR_LIGHTS ];\n\t#endif\n\t#if NUM_SPOT_LIGHTS > 0\n\t\tuniform sampler2D spotShadowMap[ NUM_SPOT_LIGHTS ];\n\t\tvarying vec4 vSpotShadowCoord[ NUM_SPOT_LIGHTS ];\n\t#endif\n\t#if NUM_POINT_LIGHTS > 0\n\t\tuniform sampler2D pointShadowMap[ NUM_POINT_LIGHTS ];\n\t\tvarying vec4 vPointShadowCoord[ NUM_POINT_LIGHTS ];\n\t#endif\n\tfloat texture2DCompare( sampler2D depths, vec2 uv, float compare ) {\n\t\treturn step( compare, unpackRGBAToDepth( texture2D( depths, uv ) ) );\n\t}\n\tfloat texture2DShadowLerp( sampler2D depths, vec2 size, vec2 uv, float compare ) {\n\t\tconst vec2 offset = vec2( 0.0, 1.0 );\n\t\tvec2 texelSize = vec2( 1.0 ) / size;\n\t\tvec2 centroidUV = floor( uv * size + 0.5 ) / size;\n\t\tfloat lb = texture2DCompare( depths, centroidUV + texelSize * offset.xx, compare );\n\t\tfloat lt = texture2DCompare( depths, centroidUV + texelSize * offset.xy, compare );\n\t\tfloat rb = texture2DCompare( depths, centroidUV + texelSize * offset.yx, compare );\n\t\tfloat rt = texture2DCompare( depths, centroidUV + texelSize * offset.yy, compare );\n\t\tvec2 f = fract( uv * size + 0.5 );\n\t\tfloat a = mix( lb, lt, f.y );\n\t\tfloat b = mix( rb, rt, f.y );\n\t\tfloat c = mix( a, b, f.x );\n\t\treturn c;\n\t}\n\tfloat getShadow( sampler2D shadowMap, vec2 shadowMapSize, float shadowBias, float shadowRadius, vec4 shadowCoord ) {\n\t\tfloat shadow = 1.0;\n\t\tshadowCoord.xyz /= shadowCoord.w;\n\t\tshadowCoord.z += shadowBias;\n\t\tbvec4 inFrustumVec = bvec4 ( shadowCoord.x >= 0.0, shadowCoord.x <= 1.0, shadowCoord.y >= 0.0, shadowCoord.y <= 1.0 );\n\t\tbool inFrustum = all( inFrustumVec );\n\t\tbvec2 frustumTestVec = bvec2( inFrustum, shadowCoord.z <= 1.0 );\n\t\tbool frustumTest = all( frustumTestVec );\n\t\tif ( frustumTest ) {\n\t\t#if defined( SHADOWMAP_TYPE_PCF )\n\t\t\tvec2 texelSize = vec2( 1.0 ) / shadowMapSize;\n\t\t\tfloat dx0 = - texelSize.x * shadowRadius;\n\t\t\tfloat dy0 = - texelSize.y * shadowRadius;\n\t\t\tfloat dx1 = + texelSize.x * shadowRadius;\n\t\t\tfloat dy1 = + texelSize.y * shadowRadius;\n\t\t\tfloat dx2 = dx0 / 2.0;\n\t\t\tfloat dy2 = dy0 / 2.0;\n\t\t\tfloat dx3 = dx1 / 2.0;\n\t\t\tfloat dy3 = dy1 / 2.0;\n\t\t\tshadow = (\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx0, dy0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx1, dy0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx2, dy2 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy2 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx3, dy2 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx0, 0.0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx2, 0.0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy, shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx3, 0.0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx1, 0.0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx2, dy3 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy3 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx3, dy3 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx0, dy1 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy1 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx1, dy1 ), shadowCoord.z )\n\t\t\t) * ( 1.0 / 17.0 );\n\t\t#elif defined( SHADOWMAP_TYPE_PCF_SOFT )\n\t\t\tvec2 texelSize = vec2( 1.0 ) / shadowMapSize;\n\t\t\tfloat dx0 = - texelSize.x * shadowRadius;\n\t\t\tfloat dy0 = - texelSize.y * shadowRadius;\n\t\t\tfloat dx1 = + texelSize.x * shadowRadius;\n\t\t\tfloat dy1 = + texelSize.y * shadowRadius;\n\t\t\tshadow = (\n\t\t\t\ttexture2DShadowLerp( shadowMap, shadowMapSize, shadowCoord.xy + vec2( dx0, dy0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DShadowLerp( shadowMap, shadowMapSize, shadowCoord.xy + vec2( 0.0, dy0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DShadowLerp( shadowMap, shadowMapSize, shadowCoord.xy + vec2( dx1, dy0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DShadowLerp( shadowMap, shadowMapSize, shadowCoord.xy + vec2( dx0, 0.0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DShadowLerp( shadowMap, shadowMapSize, shadowCoord.xy, shadowCoord.z ) +\n\t\t\t\ttexture2DShadowLerp( shadowMap, shadowMapSize, shadowCoord.xy + vec2( dx1, 0.0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DShadowLerp( shadowMap, shadowMapSize, shadowCoord.xy + vec2( dx0, dy1 ), shadowCoord.z ) +\n\t\t\t\ttexture2DShadowLerp( shadowMap, shadowMapSize, shadowCoord.xy + vec2( 0.0, dy1 ), shadowCoord.z ) +\n\t\t\t\ttexture2DShadowLerp( shadowMap, shadowMapSize, shadowCoord.xy + vec2( dx1, dy1 ), shadowCoord.z )\n\t\t\t) * ( 1.0 / 9.0 );\n\t\t#else\n\t\t\tshadow = texture2DCompare( shadowMap, shadowCoord.xy, shadowCoord.z );\n\t\t#endif\n\t\t}\n\t\treturn shadow;\n\t}\n\tvec2 cubeToUV( vec3 v, float texelSizeY ) {\n\t\tvec3 absV = abs( v );\n\t\tfloat scaleToCube = 1.0 / max( absV.x, max( absV.y, absV.z ) );\n\t\tabsV *= scaleToCube;\n\t\tv *= scaleToCube * ( 1.0 - 2.0 * texelSizeY );\n\t\tvec2 planar = v.xy;\n\t\tfloat almostATexel = 1.5 * texelSizeY;\n\t\tfloat almostOne = 1.0 - almostATexel;\n\t\tif ( absV.z >= almostOne ) {\n\t\t\tif ( v.z > 0.0 )\n\t\t\t\tplanar.x = 4.0 - v.x;\n\t\t} else if ( absV.x >= almostOne ) {\n\t\t\tfloat signX = sign( v.x );\n\t\t\tplanar.x = v.z * signX + 2.0 * signX;\n\t\t} else if ( absV.y >= almostOne ) {\n\t\t\tfloat signY = sign( v.y );\n\t\t\tplanar.x = v.x + 2.0 * signY + 2.0;\n\t\t\tplanar.y = v.z * signY - 2.0;\n\t\t}\n\t\treturn vec2( 0.125, 0.25 ) * planar + vec2( 0.375, 0.75 );\n\t}\n\tfloat getPointShadow( sampler2D shadowMap, vec2 shadowMapSize, float shadowBias, float shadowRadius, vec4 shadowCoord, float shadowCameraNear, float shadowCameraFar ) {\n\t\tvec2 texelSize = vec2( 1.0 ) / ( shadowMapSize * vec2( 4.0, 2.0 ) );\n\t\tvec3 lightToPosition = shadowCoord.xyz;\n\t\tfloat dp = ( length( lightToPosition ) - shadowCameraNear ) / ( shadowCameraFar - shadowCameraNear );\t\tdp += shadowBias;\n\t\tvec3 bd3D = normalize( lightToPosition );\n\t\t#if defined( SHADOWMAP_TYPE_PCF ) || defined( SHADOWMAP_TYPE_PCF_SOFT )\n\t\t\tvec2 offset = vec2( - 1, 1 ) * shadowRadius * texelSize.y;\n\t\t\treturn (\n\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.xyy, texelSize.y ), dp ) +\n\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.yyy, texelSize.y ), dp ) +\n\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.xyx, texelSize.y ), dp ) +\n\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.yyx, texelSize.y ), dp ) +\n\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D, texelSize.y ), dp ) +\n\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.xxy, texelSize.y ), dp ) +\n\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.yxy, texelSize.y ), dp ) +\n\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.xxx, texelSize.y ), dp ) +\n\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.yxx, texelSize.y ), dp )\n\t\t\t) * ( 1.0 / 9.0 );\n\t\t#else\n\t\t\treturn texture2DCompare( shadowMap, cubeToUV( bd3D, texelSize.y ), dp );\n\t\t#endif\n\t}\n#endif",shadowmap_pars_vertex:"#ifdef USE_SHADOWMAP\n\t#if NUM_DIR_LIGHTS > 0\n\t\tuniform mat4 directionalShadowMatrix[ NUM_DIR_LIGHTS ];\n\t\tvarying vec4 vDirectionalShadowCoord[ NUM_DIR_LIGHTS ];\n\t#endif\n\t#if NUM_SPOT_LIGHTS > 0\n\t\tuniform mat4 spotShadowMatrix[ NUM_SPOT_LIGHTS ];\n\t\tvarying vec4 vSpotShadowCoord[ NUM_SPOT_LIGHTS ];\n\t#endif\n\t#if NUM_POINT_LIGHTS > 0\n\t\tuniform mat4 pointShadowMatrix[ NUM_POINT_LIGHTS ];\n\t\tvarying vec4 vPointShadowCoord[ NUM_POINT_LIGHTS ];\n\t#endif\n#endif",shadowmap_vertex:"#ifdef USE_SHADOWMAP\n\t#if NUM_DIR_LIGHTS > 0\n\t#pragma unroll_loop\n\tfor ( int i = 0; i < NUM_DIR_LIGHTS; i ++ ) {\n\t\tvDirectionalShadowCoord[ i ] = directionalShadowMatrix[ i ] * worldPosition;\n\t}\n\t#endif\n\t#if NUM_SPOT_LIGHTS > 0\n\t#pragma unroll_loop\n\tfor ( int i = 0; i < NUM_SPOT_LIGHTS; i ++ ) {\n\t\tvSpotShadowCoord[ i ] = spotShadowMatrix[ i ] * worldPosition;\n\t}\n\t#endif\n\t#if NUM_POINT_LIGHTS > 0\n\t#pragma unroll_loop\n\tfor ( int i = 0; i < NUM_POINT_LIGHTS; i ++ ) {\n\t\tvPointShadowCoord[ i ] = pointShadowMatrix[ i ] * worldPosition;\n\t}\n\t#endif\n#endif",shadowmask_pars_fragment:"float getShadowMask() {\n\tfloat shadow = 1.0;\n\t#ifdef USE_SHADOWMAP\n\t#if NUM_DIR_LIGHTS > 0\n\tDirectionalLight directionalLight;\n\t#pragma unroll_loop\n\tfor ( int i = 0; i < NUM_DIR_LIGHTS; i ++ ) {\n\t\tdirectionalLight = directionalLights[ i ];\n\t\tshadow *= bool( directionalLight.shadow ) ? getShadow( directionalShadowMap[ i ], directionalLight.shadowMapSize, directionalLight.shadowBias, directionalLight.shadowRadius, vDirectionalShadowCoord[ i ] ) : 1.0;\n\t}\n\t#endif\n\t#if NUM_SPOT_LIGHTS > 0\n\tSpotLight spotLight;\n\t#pragma unroll_loop\n\tfor ( int i = 0; i < NUM_SPOT_LIGHTS; i ++ ) {\n\t\tspotLight = spotLights[ i ];\n\t\tshadow *= bool( spotLight.shadow ) ? getShadow( spotShadowMap[ i ], spotLight.shadowMapSize, spotLight.shadowBias, spotLight.shadowRadius, vSpotShadowCoord[ i ] ) : 1.0;\n\t}\n\t#endif\n\t#if NUM_POINT_LIGHTS > 0\n\tPointLight pointLight;\n\t#pragma unroll_loop\n\tfor ( int i = 0; i < NUM_POINT_LIGHTS; i ++ ) {\n\t\tpointLight = pointLights[ i ];\n\t\tshadow *= bool( pointLight.shadow ) ? getPointShadow( pointShadowMap[ i ], pointLight.shadowMapSize, pointLight.shadowBias, pointLight.shadowRadius, vPointShadowCoord[ i ], pointLight.shadowCameraNear, pointLight.shadowCameraFar ) : 1.0;\n\t}\n\t#endif\n\t#endif\n\treturn shadow;\n}",skinbase_vertex:"#ifdef USE_SKINNING\n\tmat4 boneMatX = getBoneMatrix( skinIndex.x );\n\tmat4 boneMatY = getBoneMatrix( skinIndex.y );\n\tmat4 boneMatZ = getBoneMatrix( skinIndex.z );\n\tmat4 boneMatW = getBoneMatrix( skinIndex.w );\n#endif",skinning_pars_vertex:"#ifdef USE_SKINNING\n\tuniform mat4 bindMatrix;\n\tuniform mat4 bindMatrixInverse;\n\t#ifdef BONE_TEXTURE\n\t\tuniform highp sampler2D boneTexture;\n\t\tuniform int boneTextureSize;\n\t\tmat4 getBoneMatrix( const in float i ) {\n\t\t\tfloat j = i * 4.0;\n\t\t\tfloat x = mod( j, float( boneTextureSize ) );\n\t\t\tfloat y = floor( j / float( boneTextureSize ) );\n\t\t\tfloat dx = 1.0 / float( boneTextureSize );\n\t\t\tfloat dy = 1.0 / float( boneTextureSize );\n\t\t\ty = dy * ( y + 0.5 );\n\t\t\tvec4 v1 = texture2D( boneTexture, vec2( dx * ( x + 0.5 ), y ) );\n\t\t\tvec4 v2 = texture2D( boneTexture, vec2( dx * ( x + 1.5 ), y ) );\n\t\t\tvec4 v3 = texture2D( boneTexture, vec2( dx * ( x + 2.5 ), y ) );\n\t\t\tvec4 v4 = texture2D( boneTexture, vec2( dx * ( x + 3.5 ), y ) );\n\t\t\tmat4 bone = mat4( v1, v2, v3, v4 );\n\t\t\treturn bone;\n\t\t}\n\t#else\n\t\tuniform mat4 boneMatrices[ MAX_BONES ];\n\t\tmat4 getBoneMatrix( const in float i ) {\n\t\t\tmat4 bone = boneMatrices[ int(i) ];\n\t\t\treturn bone;\n\t\t}\n\t#endif\n#endif",skinning_vertex:"#ifdef USE_SKINNING\n\tvec4 skinVertex = bindMatrix * vec4( transformed, 1.0 );\n\tvec4 skinned = vec4( 0.0 );\n\tskinned += boneMatX * skinVertex * skinWeight.x;\n\tskinned += boneMatY * skinVertex * skinWeight.y;\n\tskinned += boneMatZ * skinVertex * skinWeight.z;\n\tskinned += boneMatW * skinVertex * skinWeight.w;\n\ttransformed = ( bindMatrixInverse * skinned ).xyz;\n#endif",skinnormal_vertex:"#ifdef USE_SKINNING\n\tmat4 skinMatrix = mat4( 0.0 );\n\tskinMatrix += skinWeight.x * boneMatX;\n\tskinMatrix += skinWeight.y * boneMatY;\n\tskinMatrix += skinWeight.z * boneMatZ;\n\tskinMatrix += skinWeight.w * boneMatW;\n\tskinMatrix  = bindMatrixInverse * skinMatrix * bindMatrix;\n\tobjectNormal = vec4( skinMatrix * vec4( objectNormal, 0.0 ) ).xyz;\n\t#ifdef USE_TANGENT\n\t\tobjectTangent = vec4( skinMatrix * vec4( objectTangent, 0.0 ) ).xyz;\n\t#endif\n#endif",specularmap_fragment:"float specularStrength;\n#ifdef USE_SPECULARMAP\n\tvec4 texelSpecular = texture2D( specularMap, vUv );\n\tspecularStrength = texelSpecular.r;\n#else\n\tspecularStrength = 1.0;\n#endif",specularmap_pars_fragment:"#ifdef USE_SPECULARMAP\n\tuniform sampler2D specularMap;\n#endif",tonemapping_fragment:"#if defined( TONE_MAPPING )\n\tgl_FragColor.rgb = toneMapping( gl_FragColor.rgb );\n#endif",tonemapping_pars_fragment:"#ifndef saturate\n\t#define saturate(a) clamp( a, 0.0, 1.0 )\n#endif\nuniform float toneMappingExposure;\nuniform float toneMappingWhitePoint;\nvec3 LinearToneMapping( vec3 color ) {\n\treturn toneMappingExposure * color;\n}\nvec3 ReinhardToneMapping( vec3 color ) {\n\tcolor *= toneMappingExposure;\n\treturn saturate( color / ( vec3( 1.0 ) + color ) );\n}\n#define Uncharted2Helper( x ) max( ( ( x * ( 0.15 * x + 0.10 * 0.50 ) + 0.20 * 0.02 ) / ( x * ( 0.15 * x + 0.50 ) + 0.20 * 0.30 ) ) - 0.02 / 0.30, vec3( 0.0 ) )\nvec3 Uncharted2ToneMapping( vec3 color ) {\n\tcolor *= toneMappingExposure;\n\treturn saturate( Uncharted2Helper( color ) / Uncharted2Helper( vec3( toneMappingWhitePoint ) ) );\n}\nvec3 OptimizedCineonToneMapping( vec3 color ) {\n\tcolor *= toneMappingExposure;\n\tcolor = max( vec3( 0.0 ), color - 0.004 );\n\treturn pow( ( color * ( 6.2 * color + 0.5 ) ) / ( color * ( 6.2 * color + 1.7 ) + 0.06 ), vec3( 2.2 ) );\n}\nvec3 ACESFilmicToneMapping( vec3 color ) {\n\tcolor *= toneMappingExposure;\n\treturn saturate( ( color * ( 2.51 * color + 0.03 ) ) / ( color * ( 2.43 * color + 0.59 ) + 0.14 ) );\n}",uv_pars_fragment:"#if defined( USE_MAP ) || defined( USE_BUMPMAP ) || defined( USE_NORMALMAP ) || defined( USE_SPECULARMAP ) || defined( USE_ALPHAMAP ) || defined( USE_EMISSIVEMAP ) || defined( USE_ROUGHNESSMAP ) || defined( USE_METALNESSMAP )\n\tvarying vec2 vUv;\n#endif",uv_pars_vertex:"#if defined( USE_MAP ) || defined( USE_BUMPMAP ) || defined( USE_NORMALMAP ) || defined( USE_SPECULARMAP ) || defined( USE_ALPHAMAP ) || defined( USE_EMISSIVEMAP ) || defined( USE_ROUGHNESSMAP ) || defined( USE_METALNESSMAP )\n\tvarying vec2 vUv;\n\tuniform mat3 uvTransform;\n#endif",uv_vertex:"#if defined( USE_MAP ) || defined( USE_BUMPMAP ) || defined( USE_NORMALMAP ) || defined( USE_SPECULARMAP ) || defined( USE_ALPHAMAP ) || defined( USE_EMISSIVEMAP ) || defined( USE_ROUGHNESSMAP ) || defined( USE_METALNESSMAP )\n\tvUv = ( uvTransform * vec3( uv, 1 ) ).xy;\n#endif",uv2_pars_fragment:"#if defined( USE_LIGHTMAP ) || defined( USE_AOMAP )\n\tvarying vec2 vUv2;\n#endif",uv2_pars_vertex:"#if defined( USE_LIGHTMAP ) || defined( USE_AOMAP )\n\tattribute vec2 uv2;\n\tvarying vec2 vUv2;\n#endif",uv2_vertex:"#if defined( USE_LIGHTMAP ) || defined( USE_AOMAP )\n\tvUv2 = uv2;\n#endif",worldpos_vertex:"#if defined( USE_ENVMAP ) || defined( DISTANCE ) || defined ( USE_SHADOWMAP )\n\tvec4 worldPosition = modelMatrix * vec4( transformed, 1.0 );\n#endif",background_frag:"uniform sampler2D t2D;\nvarying vec2 vUv;\nvoid main() {\n\tvec4 texColor = texture2D( t2D, vUv );\n\tgl_FragColor = mapTexelToLinear( texColor );\n\t#include <tonemapping_fragment>\n\t#include <encodings_fragment>\n}",background_vert:"varying vec2 vUv;\nuniform mat3 uvTransform;\nvoid main() {\n\tvUv = ( uvTransform * vec3( uv, 1 ) ).xy;\n\tgl_Position = vec4( position.xy, 1.0, 1.0 );\n}",cube_frag:"uniform samplerCube tCube;\nuniform float tFlip;\nuniform float opacity;\nvarying vec3 vWorldDirection;\nvoid main() {\n\tvec4 texColor = textureCube( tCube, vec3( tFlip * vWorldDirection.x, vWorldDirection.yz ) );\n\tgl_FragColor = mapTexelToLinear( texColor );\n\tgl_FragColor.a *= opacity;\n\t#include <tonemapping_fragment>\n\t#include <encodings_fragment>\n}",cube_vert:"varying vec3 vWorldDirection;\n#include <common>\nvoid main() {\n\tvWorldDirection = transformDirection( position, modelMatrix );\n\t#include <begin_vertex>\n\t#include <project_vertex>\n\tgl_Position.z = gl_Position.w;\n}",depth_frag:"#if DEPTH_PACKING == 3200\n\tuniform float opacity;\n#endif\n#include <common>\n#include <packing>\n#include <uv_pars_fragment>\n#include <map_pars_fragment>\n#include <alphamap_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\t#include <clipping_planes_fragment>\n\tvec4 diffuseColor = vec4( 1.0 );\n\t#if DEPTH_PACKING == 3200\n\t\tdiffuseColor.a = opacity;\n\t#endif\n\t#include <map_fragment>\n\t#include <alphamap_fragment>\n\t#include <alphatest_fragment>\n\t#include <logdepthbuf_fragment>\n\t#if DEPTH_PACKING == 3200\n\t\tgl_FragColor = vec4( vec3( 1.0 - gl_FragCoord.z ), opacity );\n\t#elif DEPTH_PACKING == 3201\n\t\tgl_FragColor = packDepthToRGBA( gl_FragCoord.z );\n\t#endif\n}",depth_vert:"#include <common>\n#include <uv_pars_vertex>\n#include <displacementmap_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <uv_vertex>\n\t#include <skinbase_vertex>\n\t#ifdef USE_DISPLACEMENTMAP\n\t\t#include <beginnormal_vertex>\n\t\t#include <morphnormal_vertex>\n\t\t#include <skinnormal_vertex>\n\t#endif\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <displacementmap_vertex>\n\t#include <project_vertex>\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n}",distanceRGBA_frag:"#define DISTANCE\nuniform vec3 referencePosition;\nuniform float nearDistance;\nuniform float farDistance;\nvarying vec3 vWorldPosition;\n#include <common>\n#include <packing>\n#include <uv_pars_fragment>\n#include <map_pars_fragment>\n#include <alphamap_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main () {\n\t#include <clipping_planes_fragment>\n\tvec4 diffuseColor = vec4( 1.0 );\n\t#include <map_fragment>\n\t#include <alphamap_fragment>\n\t#include <alphatest_fragment>\n\tfloat dist = length( vWorldPosition - referencePosition );\n\tdist = ( dist - nearDistance ) / ( farDistance - nearDistance );\n\tdist = saturate( dist );\n\tgl_FragColor = packDepthToRGBA( dist );\n}",distanceRGBA_vert:"#define DISTANCE\nvarying vec3 vWorldPosition;\n#include <common>\n#include <uv_pars_vertex>\n#include <displacementmap_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <uv_vertex>\n\t#include <skinbase_vertex>\n\t#ifdef USE_DISPLACEMENTMAP\n\t\t#include <beginnormal_vertex>\n\t\t#include <morphnormal_vertex>\n\t\t#include <skinnormal_vertex>\n\t#endif\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <displacementmap_vertex>\n\t#include <project_vertex>\n\t#include <worldpos_vertex>\n\t#include <clipping_planes_vertex>\n\tvWorldPosition = worldPosition.xyz;\n}",equirect_frag:"uniform sampler2D tEquirect;\nvarying vec3 vWorldDirection;\n#include <common>\nvoid main() {\n\tvec3 direction = normalize( vWorldDirection );\n\tvec2 sampleUV;\n\tsampleUV.y = asin( clamp( direction.y, - 1.0, 1.0 ) ) * RECIPROCAL_PI + 0.5;\n\tsampleUV.x = atan( direction.z, direction.x ) * RECIPROCAL_PI2 + 0.5;\n\tvec4 texColor = texture2D( tEquirect, sampleUV );\n\tgl_FragColor = mapTexelToLinear( texColor );\n\t#include <tonemapping_fragment>\n\t#include <encodings_fragment>\n}",equirect_vert:"varying vec3 vWorldDirection;\n#include <common>\nvoid main() {\n\tvWorldDirection = transformDirection( position, modelMatrix );\n\t#include <begin_vertex>\n\t#include <project_vertex>\n}",linedashed_frag:"uniform vec3 diffuse;\nuniform float opacity;\nuniform float dashSize;\nuniform float totalSize;\nvarying float vLineDistance;\n#include <common>\n#include <color_pars_fragment>\n#include <fog_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\t#include <clipping_planes_fragment>\n\tif ( mod( vLineDistance, totalSize ) > dashSize ) {\n\t\tdiscard;\n\t}\n\tvec3 outgoingLight = vec3( 0.0 );\n\tvec4 diffuseColor = vec4( diffuse, opacity );\n\t#include <logdepthbuf_fragment>\n\t#include <color_fragment>\n\toutgoingLight = diffuseColor.rgb;\n\tgl_FragColor = vec4( outgoingLight, diffuseColor.a );\n\t#include <premultiplied_alpha_fragment>\n\t#include <tonemapping_fragment>\n\t#include <encodings_fragment>\n\t#include <fog_fragment>\n}",linedashed_vert:"uniform float scale;\nattribute float lineDistance;\nvarying float vLineDistance;\n#include <common>\n#include <color_pars_vertex>\n#include <fog_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <color_vertex>\n\tvLineDistance = scale * lineDistance;\n\tvec4 mvPosition = modelViewMatrix * vec4( position, 1.0 );\n\tgl_Position = projectionMatrix * mvPosition;\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n\t#include <fog_vertex>\n}",meshbasic_frag:"uniform vec3 diffuse;\nuniform float opacity;\n#ifndef FLAT_SHADED\n\tvarying vec3 vNormal;\n#endif\n#include <common>\n#include <color_pars_fragment>\n#include <uv_pars_fragment>\n#include <uv2_pars_fragment>\n#include <map_pars_fragment>\n#include <alphamap_pars_fragment>\n#include <aomap_pars_fragment>\n#include <lightmap_pars_fragment>\n#include <envmap_pars_fragment>\n#include <fog_pars_fragment>\n#include <specularmap_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\t#include <clipping_planes_fragment>\n\tvec4 diffuseColor = vec4( diffuse, opacity );\n\t#include <logdepthbuf_fragment>\n\t#include <map_fragment>\n\t#include <color_fragment>\n\t#include <alphamap_fragment>\n\t#include <alphatest_fragment>\n\t#include <specularmap_fragment>\n\tReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );\n\t#ifdef USE_LIGHTMAP\n\t\treflectedLight.indirectDiffuse += texture2D( lightMap, vUv2 ).xyz * lightMapIntensity;\n\t#else\n\t\treflectedLight.indirectDiffuse += vec3( 1.0 );\n\t#endif\n\t#include <aomap_fragment>\n\treflectedLight.indirectDiffuse *= diffuseColor.rgb;\n\tvec3 outgoingLight = reflectedLight.indirectDiffuse;\n\t#include <envmap_fragment>\n\tgl_FragColor = vec4( outgoingLight, diffuseColor.a );\n\t#include <premultiplied_alpha_fragment>\n\t#include <tonemapping_fragment>\n\t#include <encodings_fragment>\n\t#include <fog_fragment>\n}",meshbasic_vert:"#include <common>\n#include <uv_pars_vertex>\n#include <uv2_pars_vertex>\n#include <envmap_pars_vertex>\n#include <color_pars_vertex>\n#include <fog_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <uv_vertex>\n\t#include <uv2_vertex>\n\t#include <color_vertex>\n\t#include <skinbase_vertex>\n\t#ifdef USE_ENVMAP\n\t#include <beginnormal_vertex>\n\t#include <morphnormal_vertex>\n\t#include <skinnormal_vertex>\n\t#include <defaultnormal_vertex>\n\t#endif\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <project_vertex>\n\t#include <logdepthbuf_vertex>\n\t#include <worldpos_vertex>\n\t#include <clipping_planes_vertex>\n\t#include <envmap_vertex>\n\t#include <fog_vertex>\n}",meshlambert_frag:"uniform vec3 diffuse;\nuniform vec3 emissive;\nuniform float opacity;\nvarying vec3 vLightFront;\nvarying vec3 vIndirectFront;\n#ifdef DOUBLE_SIDED\n\tvarying vec3 vLightBack;\n\tvarying vec3 vIndirectBack;\n#endif\n#include <common>\n#include <packing>\n#include <dithering_pars_fragment>\n#include <color_pars_fragment>\n#include <uv_pars_fragment>\n#include <uv2_pars_fragment>\n#include <map_pars_fragment>\n#include <alphamap_pars_fragment>\n#include <aomap_pars_fragment>\n#include <lightmap_pars_fragment>\n#include <emissivemap_pars_fragment>\n#include <envmap_pars_fragment>\n#include <bsdfs>\n#include <lights_pars_begin>\n#include <fog_pars_fragment>\n#include <shadowmap_pars_fragment>\n#include <shadowmask_pars_fragment>\n#include <specularmap_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\t#include <clipping_planes_fragment>\n\tvec4 diffuseColor = vec4( diffuse, opacity );\n\tReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );\n\tvec3 totalEmissiveRadiance = emissive;\n\t#include <logdepthbuf_fragment>\n\t#include <map_fragment>\n\t#include <color_fragment>\n\t#include <alphamap_fragment>\n\t#include <alphatest_fragment>\n\t#include <specularmap_fragment>\n\t#include <emissivemap_fragment>\n\treflectedLight.indirectDiffuse = getAmbientLightIrradiance( ambientLightColor );\n\t#ifdef DOUBLE_SIDED\n\t\treflectedLight.indirectDiffuse += ( gl_FrontFacing ) ? vIndirectFront : vIndirectBack;\n\t#else\n\t\treflectedLight.indirectDiffuse += vIndirectFront;\n\t#endif\n\t#include <lightmap_fragment>\n\treflectedLight.indirectDiffuse *= BRDF_Diffuse_Lambert( diffuseColor.rgb );\n\t#ifdef DOUBLE_SIDED\n\t\treflectedLight.directDiffuse = ( gl_FrontFacing ) ? vLightFront : vLightBack;\n\t#else\n\t\treflectedLight.directDiffuse = vLightFront;\n\t#endif\n\treflectedLight.directDiffuse *= BRDF_Diffuse_Lambert( diffuseColor.rgb ) * getShadowMask();\n\t#include <aomap_fragment>\n\tvec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + totalEmissiveRadiance;\n\t#include <envmap_fragment>\n\tgl_FragColor = vec4( outgoingLight, diffuseColor.a );\n\t#include <tonemapping_fragment>\n\t#include <encodings_fragment>\n\t#include <fog_fragment>\n\t#include <premultiplied_alpha_fragment>\n\t#include <dithering_fragment>\n}",meshlambert_vert:"#define LAMBERT\nvarying vec3 vLightFront;\nvarying vec3 vIndirectFront;\n#ifdef DOUBLE_SIDED\n\tvarying vec3 vLightBack;\n\tvarying vec3 vIndirectBack;\n#endif\n#include <common>\n#include <uv_pars_vertex>\n#include <uv2_pars_vertex>\n#include <envmap_pars_vertex>\n#include <bsdfs>\n#include <lights_pars_begin>\n#include <color_pars_vertex>\n#include <fog_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <shadowmap_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <uv_vertex>\n\t#include <uv2_vertex>\n\t#include <color_vertex>\n\t#include <beginnormal_vertex>\n\t#include <morphnormal_vertex>\n\t#include <skinbase_vertex>\n\t#include <skinnormal_vertex>\n\t#include <defaultnormal_vertex>\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <project_vertex>\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n\t#include <worldpos_vertex>\n\t#include <envmap_vertex>\n\t#include <lights_lambert_vertex>\n\t#include <shadowmap_vertex>\n\t#include <fog_vertex>\n}",meshmatcap_frag:"#define MATCAP\nuniform vec3 diffuse;\nuniform float opacity;\nuniform sampler2D matcap;\nvarying vec3 vViewPosition;\n#ifndef FLAT_SHADED\n\tvarying vec3 vNormal;\n#endif\n#include <common>\n#include <uv_pars_fragment>\n#include <map_pars_fragment>\n#include <alphamap_pars_fragment>\n#include <fog_pars_fragment>\n#include <bumpmap_pars_fragment>\n#include <normalmap_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\t#include <clipping_planes_fragment>\n\tvec4 diffuseColor = vec4( diffuse, opacity );\n\t#include <logdepthbuf_fragment>\n\t#include <map_fragment>\n\t#include <alphamap_fragment>\n\t#include <alphatest_fragment>\n\t#include <normal_fragment_begin>\n\t#include <normal_fragment_maps>\n\tvec3 viewDir = normalize( vViewPosition );\n\tvec3 x = normalize( vec3( viewDir.z, 0.0, - viewDir.x ) );\n\tvec3 y = cross( viewDir, x );\n\tvec2 uv = vec2( dot( x, normal ), dot( y, normal ) ) * 0.495 + 0.5;\n\t#ifdef USE_MATCAP\n\t\tvec4 matcapColor = texture2D( matcap, uv );\n\t\tmatcapColor = matcapTexelToLinear( matcapColor );\n\t#else\n\t\tvec4 matcapColor = vec4( 1.0 );\n\t#endif\n\tvec3 outgoingLight = diffuseColor.rgb * matcapColor.rgb;\n\tgl_FragColor = vec4( outgoingLight, diffuseColor.a );\n\t#include <premultiplied_alpha_fragment>\n\t#include <tonemapping_fragment>\n\t#include <encodings_fragment>\n\t#include <fog_fragment>\n}",meshmatcap_vert:"#define MATCAP\nvarying vec3 vViewPosition;\n#ifndef FLAT_SHADED\n\tvarying vec3 vNormal;\n#endif\n#include <common>\n#include <uv_pars_vertex>\n#include <displacementmap_pars_vertex>\n#include <fog_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <uv_vertex>\n\t#include <beginnormal_vertex>\n\t#include <morphnormal_vertex>\n\t#include <skinbase_vertex>\n\t#include <skinnormal_vertex>\n\t#include <defaultnormal_vertex>\n\t#ifndef FLAT_SHADED\n\t\tvNormal = normalize( transformedNormal );\n\t#endif\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <displacementmap_vertex>\n\t#include <project_vertex>\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n\t#include <fog_vertex>\n\tvViewPosition = - mvPosition.xyz;\n}",meshphong_frag:"#define PHONG\nuniform vec3 diffuse;\nuniform vec3 emissive;\nuniform vec3 specular;\nuniform float shininess;\nuniform float opacity;\n#include <common>\n#include <packing>\n#include <dithering_pars_fragment>\n#include <color_pars_fragment>\n#include <uv_pars_fragment>\n#include <uv2_pars_fragment>\n#include <map_pars_fragment>\n#include <alphamap_pars_fragment>\n#include <aomap_pars_fragment>\n#include <lightmap_pars_fragment>\n#include <emissivemap_pars_fragment>\n#include <envmap_pars_fragment>\n#include <gradientmap_pars_fragment>\n#include <fog_pars_fragment>\n#include <bsdfs>\n#include <lights_pars_begin>\n#include <lights_phong_pars_fragment>\n#include <shadowmap_pars_fragment>\n#include <bumpmap_pars_fragment>\n#include <normalmap_pars_fragment>\n#include <specularmap_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\t#include <clipping_planes_fragment>\n\tvec4 diffuseColor = vec4( diffuse, opacity );\n\tReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );\n\tvec3 totalEmissiveRadiance = emissive;\n\t#include <logdepthbuf_fragment>\n\t#include <map_fragment>\n\t#include <color_fragment>\n\t#include <alphamap_fragment>\n\t#include <alphatest_fragment>\n\t#include <specularmap_fragment>\n\t#include <normal_fragment_begin>\n\t#include <normal_fragment_maps>\n\t#include <emissivemap_fragment>\n\t#include <lights_phong_fragment>\n\t#include <lights_fragment_begin>\n\t#include <lights_fragment_maps>\n\t#include <lights_fragment_end>\n\t#include <aomap_fragment>\n\tvec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + reflectedLight.directSpecular + reflectedLight.indirectSpecular + totalEmissiveRadiance;\n\t#include <envmap_fragment>\n\tgl_FragColor = vec4( outgoingLight, diffuseColor.a );\n\t#include <tonemapping_fragment>\n\t#include <encodings_fragment>\n\t#include <fog_fragment>\n\t#include <premultiplied_alpha_fragment>\n\t#include <dithering_fragment>\n}",meshphong_vert:"#define PHONG\nvarying vec3 vViewPosition;\n#ifndef FLAT_SHADED\n\tvarying vec3 vNormal;\n#endif\n#include <common>\n#include <uv_pars_vertex>\n#include <uv2_pars_vertex>\n#include <displacementmap_pars_vertex>\n#include <envmap_pars_vertex>\n#include <color_pars_vertex>\n#include <fog_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <shadowmap_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <uv_vertex>\n\t#include <uv2_vertex>\n\t#include <color_vertex>\n\t#include <beginnormal_vertex>\n\t#include <morphnormal_vertex>\n\t#include <skinbase_vertex>\n\t#include <skinnormal_vertex>\n\t#include <defaultnormal_vertex>\n#ifndef FLAT_SHADED\n\tvNormal = normalize( transformedNormal );\n#endif\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <displacementmap_vertex>\n\t#include <project_vertex>\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n\tvViewPosition = - mvPosition.xyz;\n\t#include <worldpos_vertex>\n\t#include <envmap_vertex>\n\t#include <shadowmap_vertex>\n\t#include <fog_vertex>\n}",meshphysical_frag:"#define PHYSICAL\nuniform vec3 diffuse;\nuniform vec3 emissive;\nuniform float roughness;\nuniform float metalness;\nuniform float opacity;\n#ifndef STANDARD\n\tuniform float clearCoat;\n\tuniform float clearCoatRoughness;\n#endif\nvarying vec3 vViewPosition;\n#ifndef FLAT_SHADED\n\tvarying vec3 vNormal;\n\t#ifdef USE_TANGENT\n\t\tvarying vec3 vTangent;\n\t\tvarying vec3 vBitangent;\n\t#endif\n#endif\n#include <common>\n#include <packing>\n#include <dithering_pars_fragment>\n#include <color_pars_fragment>\n#include <uv_pars_fragment>\n#include <uv2_pars_fragment>\n#include <map_pars_fragment>\n#include <alphamap_pars_fragment>\n#include <aomap_pars_fragment>\n#include <lightmap_pars_fragment>\n#include <emissivemap_pars_fragment>\n#include <bsdfs>\n#include <cube_uv_reflection_fragment>\n#include <envmap_pars_fragment>\n#include <envmap_physical_pars_fragment>\n#include <fog_pars_fragment>\n#include <lights_pars_begin>\n#include <lights_physical_pars_fragment>\n#include <shadowmap_pars_fragment>\n#include <bumpmap_pars_fragment>\n#include <normalmap_pars_fragment>\n#include <roughnessmap_pars_fragment>\n#include <metalnessmap_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\t#include <clipping_planes_fragment>\n\tvec4 diffuseColor = vec4( diffuse, opacity );\n\tReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );\n\tvec3 totalEmissiveRadiance = emissive;\n\t#include <logdepthbuf_fragment>\n\t#include <map_fragment>\n\t#include <color_fragment>\n\t#include <alphamap_fragment>\n\t#include <alphatest_fragment>\n\t#include <roughnessmap_fragment>\n\t#include <metalnessmap_fragment>\n\t#include <normal_fragment_begin>\n\t#include <normal_fragment_maps>\n\t#include <emissivemap_fragment>\n\t#include <lights_physical_fragment>\n\t#include <lights_fragment_begin>\n\t#include <lights_fragment_maps>\n\t#include <lights_fragment_end>\n\t#include <aomap_fragment>\n\tvec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + reflectedLight.directSpecular + reflectedLight.indirectSpecular + totalEmissiveRadiance;\n\tgl_FragColor = vec4( outgoingLight, diffuseColor.a );\n\t#include <tonemapping_fragment>\n\t#include <encodings_fragment>\n\t#include <fog_fragment>\n\t#include <premultiplied_alpha_fragment>\n\t#include <dithering_fragment>\n}",meshphysical_vert:"#define PHYSICAL\nvarying vec3 vViewPosition;\n#ifndef FLAT_SHADED\n\tvarying vec3 vNormal;\n\t#ifdef USE_TANGENT\n\t\tvarying vec3 vTangent;\n\t\tvarying vec3 vBitangent;\n\t#endif\n#endif\n#include <common>\n#include <uv_pars_vertex>\n#include <uv2_pars_vertex>\n#include <displacementmap_pars_vertex>\n#include <color_pars_vertex>\n#include <fog_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <shadowmap_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <uv_vertex>\n\t#include <uv2_vertex>\n\t#include <color_vertex>\n\t#include <beginnormal_vertex>\n\t#include <morphnormal_vertex>\n\t#include <skinbase_vertex>\n\t#include <skinnormal_vertex>\n\t#include <defaultnormal_vertex>\n#ifndef FLAT_SHADED\n\tvNormal = normalize( transformedNormal );\n\t#ifdef USE_TANGENT\n\t\tvTangent = normalize( transformedTangent );\n\t\tvBitangent = normalize( cross( vNormal, vTangent ) * tangent.w );\n\t#endif\n#endif\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <displacementmap_vertex>\n\t#include <project_vertex>\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n\tvViewPosition = - mvPosition.xyz;\n\t#include <worldpos_vertex>\n\t#include <shadowmap_vertex>\n\t#include <fog_vertex>\n}",normal_frag:"#define NORMAL\nuniform float opacity;\n#if defined( FLAT_SHADED ) || defined( USE_BUMPMAP ) || ( defined( USE_NORMALMAP ) && ! defined( OBJECTSPACE_NORMALMAP ) )\n\tvarying vec3 vViewPosition;\n#endif\n#ifndef FLAT_SHADED\n\tvarying vec3 vNormal;\n\t#ifdef USE_TANGENT\n\t\tvarying vec3 vTangent;\n\t\tvarying vec3 vBitangent;\n\t#endif\n#endif\n#include <packing>\n#include <uv_pars_fragment>\n#include <bumpmap_pars_fragment>\n#include <normalmap_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\t#include <clipping_planes_fragment>\n\t#include <logdepthbuf_fragment>\n\t#include <normal_fragment_begin>\n\t#include <normal_fragment_maps>\n\tgl_FragColor = vec4( packNormalToRGB( normal ), opacity );\n}",normal_vert:"#define NORMAL\n#if defined( FLAT_SHADED ) || defined( USE_BUMPMAP ) || ( defined( USE_NORMALMAP ) && ! defined( OBJECTSPACE_NORMALMAP ) )\n\tvarying vec3 vViewPosition;\n#endif\n#ifndef FLAT_SHADED\n\tvarying vec3 vNormal;\n\t#ifdef USE_TANGENT\n\t\tvarying vec3 vTangent;\n\t\tvarying vec3 vBitangent;\n\t#endif\n#endif\n#include <uv_pars_vertex>\n#include <displacementmap_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <uv_vertex>\n\t#include <beginnormal_vertex>\n\t#include <morphnormal_vertex>\n\t#include <skinbase_vertex>\n\t#include <skinnormal_vertex>\n\t#include <defaultnormal_vertex>\n#ifndef FLAT_SHADED\n\tvNormal = normalize( transformedNormal );\n\t#ifdef USE_TANGENT\n\t\tvTangent = normalize( transformedTangent );\n\t\tvBitangent = normalize( cross( vNormal, vTangent ) * tangent.w );\n\t#endif\n#endif\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <displacementmap_vertex>\n\t#include <project_vertex>\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n#if defined( FLAT_SHADED ) || defined( USE_BUMPMAP ) || ( defined( USE_NORMALMAP ) && ! defined( OBJECTSPACE_NORMALMAP ) )\n\tvViewPosition = - mvPosition.xyz;\n#endif\n}",points_frag:"uniform vec3 diffuse;\nuniform float opacity;\n#include <common>\n#include <color_pars_fragment>\n#include <map_particle_pars_fragment>\n#include <fog_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\t#include <clipping_planes_fragment>\n\tvec3 outgoingLight = vec3( 0.0 );\n\tvec4 diffuseColor = vec4( diffuse, opacity );\n\t#include <logdepthbuf_fragment>\n\t#include <map_particle_fragment>\n\t#include <color_fragment>\n\t#include <alphatest_fragment>\n\toutgoingLight = diffuseColor.rgb;\n\tgl_FragColor = vec4( outgoingLight, diffuseColor.a );\n\t#include <premultiplied_alpha_fragment>\n\t#include <tonemapping_fragment>\n\t#include <encodings_fragment>\n\t#include <fog_fragment>\n}",points_vert:"uniform float size;\nuniform float scale;\n#include <common>\n#include <color_pars_vertex>\n#include <fog_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <color_vertex>\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <project_vertex>\n\tgl_PointSize = size;\n\t#ifdef USE_SIZEATTENUATION\n\t\tbool isPerspective = ( projectionMatrix[ 2 ][ 3 ] == - 1.0 );\n\t\tif ( isPerspective ) gl_PointSize *= ( scale / - mvPosition.z );\n\t#endif\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n\t#include <worldpos_vertex>\n\t#include <fog_vertex>\n}",shadow_frag:"uniform vec3 color;\nuniform float opacity;\n#include <common>\n#include <packing>\n#include <fog_pars_fragment>\n#include <bsdfs>\n#include <lights_pars_begin>\n#include <shadowmap_pars_fragment>\n#include <shadowmask_pars_fragment>\nvoid main() {\n\tgl_FragColor = vec4( color, opacity * ( 1.0 - getShadowMask() ) );\n\t#include <fog_fragment>\n}",shadow_vert:"#include <fog_pars_vertex>\n#include <shadowmap_pars_vertex>\nvoid main() {\n\t#include <begin_vertex>\n\t#include <project_vertex>\n\t#include <worldpos_vertex>\n\t#include <shadowmap_vertex>\n\t#include <fog_vertex>\n}",sprite_frag:"uniform vec3 diffuse;\nuniform float opacity;\n#include <common>\n#include <uv_pars_fragment>\n#include <map_pars_fragment>\n#include <fog_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\t#include <clipping_planes_fragment>\n\tvec3 outgoingLight = vec3( 0.0 );\n\tvec4 diffuseColor = vec4( diffuse, opacity );\n\t#include <logdepthbuf_fragment>\n\t#include <map_fragment>\n\t#include <alphatest_fragment>\n\toutgoingLight = diffuseColor.rgb;\n\tgl_FragColor = vec4( outgoingLight, diffuseColor.a );\n\t#include <tonemapping_fragment>\n\t#include <encodings_fragment>\n\t#include <fog_fragment>\n}",sprite_vert:"uniform float rotation;\nuniform vec2 center;\n#include <common>\n#include <uv_pars_vertex>\n#include <fog_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <uv_vertex>\n\tvec4 mvPosition = modelViewMatrix * vec4( 0.0, 0.0, 0.0, 1.0 );\n\tvec2 scale;\n\tscale.x = length( vec3( modelMatrix[ 0 ].x, modelMatrix[ 0 ].y, modelMatrix[ 0 ].z ) );\n\tscale.y = length( vec3( modelMatrix[ 1 ].x, modelMatrix[ 1 ].y, modelMatrix[ 1 ].z ) );\n\t#ifndef USE_SIZEATTENUATION\n\t\tbool isPerspective = ( projectionMatrix[ 2 ][ 3 ] == - 1.0 );\n\t\tif ( isPerspective ) scale *= - mvPosition.z;\n\t#endif\n\tvec2 alignedPosition = ( position.xy - ( center - vec2( 0.5 ) ) ) * scale;\n\tvec2 rotatedPosition;\n\trotatedPosition.x = cos( rotation ) * alignedPosition.x - sin( rotation ) * alignedPosition.y;\n\trotatedPosition.y = sin( rotation ) * alignedPosition.x + cos( rotation ) * alignedPosition.y;\n\tmvPosition.xy += rotatedPosition;\n\tgl_Position = projectionMatrix * mvPosition;\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n\t#include <fog_vertex>\n}"},Bn={common:{diffuse:{value:new hi(15658734)},opacity:{value:1},map:{value:null},uvTransform:{value:new Ne},alphaMap:{value:null}},specularmap:{specularMap:{value:null}},envmap:{envMap:{value:null},flipEnvMap:{value:-1},reflectivity:{value:1},refractionRatio:{value:.98},maxMipLevel:{value:0}},aomap:{aoMap:{value:null},aoMapIntensity:{value:1}},lightmap:{lightMap:{value:null},lightMapIntensity:{value:1}},emissivemap:{emissiveMap:{value:null}},bumpmap:{bumpMap:{value:null},bumpScale:{value:1}},normalmap:{normalMap:{value:null},normalScale:{value:new Le(1,1)}},displacementmap:{displacementMap:{value:null},displacementScale:{value:1},displacementBias:{value:0}},roughnessmap:{roughnessMap:{value:null}},metalnessmap:{metalnessMap:{value:null}},gradientmap:{gradientMap:{value:null}},fog:{fogDensity:{value:25e-5},fogNear:{value:1},fogFar:{value:2e3},fogColor:{value:new hi(16777215)}},lights:{ambientLightColor:{value:[]},lightProbe:{value:[]},directionalLights:{value:[],properties:{direction:{},color:{},shadow:{},shadowBias:{},shadowRadius:{},shadowMapSize:{}}},directionalShadowMap:{value:[]},directionalShadowMatrix:{value:[]},spotLights:{value:[],properties:{color:{},position:{},direction:{},distance:{},coneCos:{},penumbraCos:{},decay:{},shadow:{},shadowBias:{},shadowRadius:{},shadowMapSize:{}}},spotShadowMap:{value:[]},spotShadowMatrix:{value:[]},pointLights:{value:[],properties:{color:{},position:{},decay:{},distance:{},shadow:{},shadowBias:{},shadowRadius:{},shadowMapSize:{},shadowCameraNear:{},shadowCameraFar:{}}},pointShadowMap:{value:[]},pointShadowMatrix:{value:[]},hemisphereLights:{value:[],properties:{direction:{},skyColor:{},groundColor:{}}},rectAreaLights:{value:[],properties:{color:{},position:{},width:{},height:{}}}},points:{diffuse:{value:new hi(15658734)},opacity:{value:1},size:{value:1},scale:{value:1},map:{value:null},uvTransform:{value:new Ne}},sprite:{diffuse:{value:new hi(15658734)},opacity:{value:1},center:{value:new Le(.5,.5)},rotation:{value:0},map:{value:null},uvTransform:{value:new Ne}}},_n={basic:{uniforms:rn([Bn.common,Bn.specularmap,Bn.envmap,Bn.aomap,Bn.lightmap,Bn.fog]),vertexShader:Mn.meshbasic_vert,fragmentShader:Mn.meshbasic_frag},lambert:{uniforms:rn([Bn.common,Bn.specularmap,Bn.envmap,Bn.aomap,Bn.lightmap,Bn.emissivemap,Bn.fog,Bn.lights,{emissive:{value:new hi(0)}}]),vertexShader:Mn.meshlambert_vert,fragmentShader:Mn.meshlambert_frag},phong:{uniforms:rn([Bn.common,Bn.specularmap,Bn.envmap,Bn.aomap,Bn.lightmap,Bn.emissivemap,Bn.bumpmap,Bn.normalmap,Bn.displacementmap,Bn.gradientmap,Bn.fog,Bn.lights,{emissive:{value:new hi(0)},specular:{value:new hi(1118481)},shininess:{value:30}}]),vertexShader:Mn.meshphong_vert,fragmentShader:Mn.meshphong_frag},standard:{uniforms:rn([Bn.common,Bn.envmap,Bn.aomap,Bn.lightmap,Bn.emissivemap,Bn.bumpmap,Bn.normalmap,Bn.displacementmap,Bn.roughnessmap,Bn.metalnessmap,Bn.fog,Bn.lights,{emissive:{value:new hi(0)},roughness:{value:.5},metalness:{value:.5},envMapIntensity:{value:1}}]),vertexShader:Mn.meshphysical_vert,fragmentShader:Mn.meshphysical_frag},matcap:{uniforms:rn([Bn.common,Bn.bumpmap,Bn.normalmap,Bn.displacementmap,Bn.fog,{matcap:{value:null}}]),vertexShader:Mn.meshmatcap_vert,fragmentShader:Mn.meshmatcap_frag},points:{uniforms:rn([Bn.points,Bn.fog]),vertexShader:Mn.points_vert,fragmentShader:Mn.points_frag},dashed:{uniforms:rn([Bn.common,Bn.fog,{scale:{value:1},dashSize:{value:1},totalSize:{value:2}}]),vertexShader:Mn.linedashed_vert,fragmentShader:Mn.linedashed_frag},depth:{uniforms:rn([Bn.common,Bn.displacementmap]),vertexShader:Mn.depth_vert,fragmentShader:Mn.depth_frag},normal:{uniforms:rn([Bn.common,Bn.bumpmap,Bn.normalmap,Bn.displacementmap,{opacity:{value:1}}]),vertexShader:Mn.normal_vert,fragmentShader:Mn.normal_frag},sprite:{uniforms:rn([Bn.sprite,Bn.fog]),vertexShader:Mn.sprite_vert,fragmentShader:Mn.sprite_frag},background:{uniforms:{uvTransform:{value:new Ne},t2D:{value:null}},vertexShader:Mn.background_vert,fragmentShader:Mn.background_frag},cube:{uniforms:{tCube:{value:null},tFlip:{value:-1},opacity:{value:1}},vertexShader:Mn.cube_vert,fragmentShader:Mn.cube_frag},equirect:{uniforms:{tEquirect:{value:null}},vertexShader:Mn.equirect_vert,fragmentShader:Mn.equirect_frag},distanceRGBA:{uniforms:rn([Bn.common,Bn.displacementmap,{referencePosition:{value:new Ue},nearDistance:{value:1},farDistance:{value:1e3}}]),vertexShader:Mn.distanceRGBA_vert,fragmentShader:Mn.distanceRGBA_frag},shadow:{uniforms:rn([Bn.lights,Bn.fog,{color:{value:new hi(0)},opacity:{value:1}}]),vertexShader:Mn.shadow_vert,fragmentShader:Mn.shadow_frag}};function Sn(){var t=null,i=!1,n=null;function o(A,e){!1!==i&&(n(A,e),t.requestAnimationFrame(o))}return{start:function(){!0!==i&&null!==n&&(t.requestAnimationFrame(o),i=!0)},stop:function(){i=!1},setAnimationLoop:function(A){n=A},setContext:function(A){t=A}}}function Tn(a){var s=new WeakMap;return{get:function(A){return A.isInterleavedBufferAttribute&&(A=A.data),s.get(A)},remove:function(A){A.isInterleavedBufferAttribute&&(A=A.data);var e=s.get(A);e&&(a.deleteBuffer(e.buffer),s.delete(A))},update:function(A,e){A.isInterleavedBufferAttribute&&(A=A.data);var t,i,n,o,r=s.get(A);void 0===r?s.set(A,function(A,e){var t=A.array,i=A.dynamic?35048:35044,n=a.createBuffer();a.bindBuffer(e,n),a.bufferData(e,t,i),A.onUploadCallback();var o=5126;return t instanceof Float32Array?o=5126:t instanceof Float64Array?console.warn("THREE.WebGLAttributes: Unsupported data buffer format: Float64Array."):t instanceof Uint16Array?o=5123:t instanceof Int16Array?o=5122:t instanceof Uint32Array?o=5125:t instanceof Int32Array?o=5124:t instanceof Int8Array?o=5120:t instanceof Uint8Array&&(o=5121),{buffer:n,type:o,bytesPerElement:t.BYTES_PER_ELEMENT,version:A.version}}(A,e)):r.version<A.version&&(n=(t=A).array,o=t.updateRange,a.bindBuffer(i=e,r.buffer),!1===t.dynamic?a.bufferData(i,n,35044):-1===o.count?a.bufferSubData(i,0,n):0===o.count?console.error("THREE.WebGLObjects.updateBuffer: dynamic THREE.BufferAttribute marked as needsUpdate but updateRange.count is 0, ensure you are using set methods or updating manually."):(a.bufferSubData(i,o.offset*n.BYTES_PER_ELEMENT,n.subarray(o.offset,o.offset+o.count)),o.count=-1),r.version=A.version)}}}function Kn(A,e,t,i){en.call(this),this.type="PlaneGeometry",this.parameters={width:A,height:e,widthSegments:t,heightSegments:i},this.fromBufferGeometry(new Fn(A,e,t,i)),this.mergeVertices()}function Fn(A,e,t,i){Gi.call(this),this.type="PlaneBufferGeometry",this.parameters={width:A,height:e,widthSegments:t,heightSegments:i};var n,o,r=(A=A||1)/2,a=(e=e||1)/2,s=Math.floor(t)||1,l=Math.floor(i)||1,c=s+1,d=l+1,h=A/s,u=e/l,p=[],g=[],f=[],m=[];for(o=0;o<d;o++){var v=o*u-a;for(n=0;n<c;n++){g.push(n*h-r,-v,0),f.push(0,0,1),m.push(n/s),m.push(1-o/l)}}for(o=0;o<l;o++)for(n=0;n<s;n++){var y=n+c*(o+1),C=n+1+c*(o+1),I=n+1+c*o;p.push(n+c*o,y,I),p.push(y,C,I)}this.setIndex(p),this.addAttribute("position",new _i(g,3)),this.addAttribute("normal",new _i(f,3)),this.addAttribute("uv",new _i(m,2))}function Ln(s,t,l,i){var c,d,h=new hi(0),u=0,p=null,g=0;function f(A,e){t.buffers.color.setClear(A.r,A.g,A.b,e,i)}return{getClearColor:function(){return h},setClearColor:function(A,e){h.set(A),f(h,u=void 0!==e?e:1)},getClearAlpha:function(){return u},setClearAlpha:function(A){f(h,u=A)},render:function(A,e,t,i){var n=e.background,o=s.vr,r=o.getSession&&o.getSession();if(r&&"additive"===r.environmentBlendMode&&(n=null),null===n?(f(h,u),p=null,g=0):n&&n.isColor&&(f(n,1),i=!0,p=null,g=0),(s.autoClear||i)&&s.clear(s.autoClearColor,s.autoClearDepth,s.autoClearStencil),n&&(n.isCubeTexture||n.isWebGLRenderTargetCube)){void 0===d&&((d=new ji(new nn(1,1,1),new cn({type:"BackgroundCubeMaterial",uniforms:on(_n.cube.uniforms),vertexShader:_n.cube.vertexShader,fragmentShader:_n.cube.fragmentShader,side:IA,depthTest:!1,depthWrite:!1,fog:!1}))).geometry.removeAttribute("normal"),d.geometry.removeAttribute("uv"),d.onBeforeRender=function(A,e,t){this.matrixWorld.copyPosition(t.matrixWorld)},Object.defineProperty(d.material,"map",{get:function(){return this.uniforms.tCube.value}}),l.update(d));var a=n.isWebGLRenderTargetCube?n.texture:n;d.material.uniforms.tCube.value=a,d.material.uniforms.tFlip.value=n.isWebGLRenderTargetCube?1:-1,p===n&&g===a.version||(d.material.needsUpdate=!0,p=n,g=a.version),A.unshift(d,d.geometry,d.material,0,0,null)}else n&&n.isTexture&&(void 0===c&&((c=new ji(new Fn(2,2),new cn({type:"BackgroundMaterial",uniforms:on(_n.background.uniforms),vertexShader:_n.background.vertexShader,fragmentShader:_n.background.fragmentShader,side:U,depthTest:!1,depthWrite:!1,fog:!1}))).geometry.removeAttribute("normal"),Object.defineProperty(c.material,"map",{get:function(){return this.uniforms.t2D.value}}),l.update(c)),!0===(c.material.uniforms.t2D.value=n).matrixAutoUpdate&&n.updateMatrix(),c.material.uniforms.uvTransform.value.copy(n.matrix),p===n&&g===n.version||(c.material.needsUpdate=!0,g=(p=n).version),A.unshift(c,c.geometry,c.material,0,0,null))}}}function On(n,o,r,a){var s;this.setMode=function(A){s=A},this.render=function(A,e){n.drawArrays(s,A,e),r.update(e,s)},this.renderInstances=function(A,e,t){var i;if(a.isWebGL2)i=n;else if(null===(i=o.get("ANGLE_instanced_arrays")))return void console.error("THREE.WebGLBufferRenderer: using THREE.InstancedBufferGeometry but hardware does not support extension ANGLE_instanced_arrays.");i[a.isWebGL2?"drawArraysInstanced":"drawArraysInstancedANGLE"](s,e,t,A.maxInstancedCount),r.update(t,s,A.maxInstancedCount)}}function Un(e,t,A){var i;function n(A){if("highp"===A){if(0<e.getShaderPrecisionFormat(35633,36338).precision&&0<e.getShaderPrecisionFormat(35632,36338).precision)return"highp";A="mediump"}return"mediump"===A&&0<e.getShaderPrecisionFormat(35633,36337).precision&&0<e.getShaderPrecisionFormat(35632,36337).precision?"mediump":"lowp"}var o="undefined"!=typeof WebGL2RenderingContext&&e instanceof WebGL2RenderingContext,r=void 0!==A.precision?A.precision:"highp",a=n(r);a!==r&&(console.warn("THREE.WebGLRenderer:",r,"not supported, using",a,"instead."),r=a);var s=!0===A.logarithmicDepthBuffer,l=e.getParameter(34930),c=e.getParameter(35660),d=e.getParameter(3379),h=e.getParameter(34076),u=e.getParameter(34921),p=e.getParameter(36347),g=e.getParameter(36348),f=e.getParameter(36349),m=0<c,v=o||!!t.get("OES_texture_float");return{isWebGL2:o,getMaxAnisotropy:function(){if(void 0!==i)return i;var A=t.get("EXT_texture_filter_anisotropic");return i=null!==A?e.getParameter(A.MAX_TEXTURE_MAX_ANISOTROPY_EXT):0},getMaxPrecision:n,precision:r,logarithmicDepthBuffer:s,maxTextures:l,maxVertexTextures:c,maxTextureSize:d,maxCubemapSize:h,maxAttributes:u,maxVertexUniforms:p,maxVaryings:g,maxFragmentUniforms:f,vertexTextures:m,floatFragmentTextures:v,floatVertexTextures:m&&v,maxSamples:o?e.getParameter(36183):0}}function Nn(){var c=this,d=null,h=0,u=!1,p=!1,g=new En,f=new Ne,m={value:null,needsUpdate:!1};function v(){m.value!==d&&(m.value=d,m.needsUpdate=0<h),c.numPlanes=h,c.numIntersection=0}function y(A,e,t,i){var n=null!==A?A.length:0,o=null;if(0!==n){if(o=m.value,!0!==i||null===o){var r=t+4*n,a=e.matrixWorldInverse;f.getNormalMatrix(a),(null===o||o.length<r)&&(o=new Float32Array(r));for(var s=0,l=t;s!==n;++s,l+=4)g.copy(A[s]).applyMatrix4(a,f),g.normal.toArray(o,l),o[l+3]=g.constant}m.value=o,m.needsUpdate=!0}return c.numPlanes=n,o}this.uniform=m,this.numPlanes=0,this.numIntersection=0,this.init=function(A,e,t){var i=0!==A.length||e||0!==h||u;return u=e,d=y(A,t,0),h=A.length,i},this.beginShadows=function(){p=!0,y(null)},this.endShadows=function(){p=!1,v()},this.setState=function(A,e,t,i,n,o){if(!u||null===A||0===A.length||p&&!t)p?y(null):v();else{var r=p?0:h,a=4*r,s=n.clippingState||null;m.value=s,s=y(A,i,a,o);for(var l=0;l!==a;++l)s[l]=d[l];n.clippingState=s,this.numIntersection=e?this.numPlanes:0,this.numPlanes+=r}}}function Rn(t){var i={};return{get:function(A){if(void 0!==i[A])return i[A];var e;switch(A){case"WEBGL_depth_texture":e=t.getExtension("WEBGL_depth_texture")||t.getExtension("MOZ_WEBGL_depth_texture")||t.getExtension("WEBKIT_WEBGL_depth_texture");break;case"EXT_texture_filter_anisotropic":e=t.getExtension("EXT_texture_filter_anisotropic")||t.getExtension("MOZ_EXT_texture_filter_anisotropic")||t.getExtension("WEBKIT_EXT_texture_filter_anisotropic");break;case"WEBGL_compressed_texture_s3tc":e=t.getExtension("WEBGL_compressed_texture_s3tc")||t.getExtension("MOZ_WEBGL_compressed_texture_s3tc")||t.getExtension("WEBKIT_WEBGL_compressed_texture_s3tc");break;case"WEBGL_compressed_texture_pvrtc":e=t.getExtension("WEBGL_compressed_texture_pvrtc")||t.getExtension("WEBKIT_WEBGL_compressed_texture_pvrtc");break;default:e=t.getExtension(A)}return null===e&&console.warn("THREE.WebGLRenderer: "+A+" extension not supported."),i[A]=e}}}function Pn(A,u,o){var r={},p={};function a(A){var e=A.target,t=r[e.id];for(var i in null!==t.index&&u.remove(t.index),t.attributes)u.remove(t.attributes[i]);e.removeEventListener("dispose",a),delete r[e.id];var n=p[t.id];n&&(u.remove(n),delete p[t.id]),o.memory.geometries--}function i(A){var e=[],t=A.index,i=A.attributes.position,n=0;if(null!==t){n=t.version;for(var o=0,r=(a=t.array).length;o<r;o+=3){e.push(s=a[o+0],l=a[o+1],l,c=a[o+2],c,s)}}else{var a;n=i.version;for(o=0,r=(a=i.array).length/3-1;o<r;o+=3){var s,l,c;e.push(s=o+0,l=o+1,l,c=o+2,c,s)}}var d=new(65535<Ki(e)?Bi:wi)(e,1);d.version=n,u.update(d,34963);var h=p[A.id];h&&u.remove(h),p[A.id]=d}return{get:function(A,e){var t=r[e.id];return t||(e.addEventListener("dispose",a),e.isBufferGeometry?t=e:e.isGeometry&&(void 0===e._bufferGeometry&&(e._bufferGeometry=(new Gi).setFromObject(A)),t=e._bufferGeometry),r[e.id]=t,o.memory.geometries++,t)},update:function(A){var e=A.index,t=A.attributes;for(var i in null!==e&&u.update(e,34963),t)u.update(t[i],34962);var n=A.morphAttributes;for(var i in n)for(var o=n[i],r=0,a=o.length;r<a;r++)u.update(o[r],34962)},getWireframeAttribute:function(A){var e=p[A.id];if(e){var t=A.index;null!==t&&e.version<t.version&&i(A)}else i(A);return p[A.id]}}}function Dn(n,o,r,a){var s,l,c;this.setMode=function(A){s=A},this.setIndex=function(A){l=A.type,c=A.bytesPerElement},this.render=function(A,e){n.drawElements(s,e,l,A*c),r.update(e,s)},this.renderInstances=function(A,e,t){var i;if(a.isWebGL2)i=n;else if(null===(i=o.get("ANGLE_instanced_arrays")))return void console.error("THREE.WebGLIndexedBufferRenderer: using THREE.InstancedBufferGeometry but hardware does not support extension ANGLE_instanced_arrays.");i[a.isWebGL2?"drawElementsInstanced":"drawElementsInstancedANGLE"](s,t,l,e*c,A.maxInstancedCount),r.update(t,s,A.maxInstancedCount)}}function Qn(A){var i={frame:0,calls:0,triangles:0,points:0,lines:0};return{memory:{geometries:0,textures:0},render:i,programs:null,autoReset:!0,reset:function(){i.frame++,i.calls=0,i.triangles=0,i.points=0,i.lines=0},update:function(A,e,t){switch(t=t||1,i.calls++,e){case 4:i.triangles+=t*(A/3);break;case 5:case 6:i.triangles+=t*(A-2);break;case 1:i.lines+=t*(A/2);break;case 3:i.lines+=t*(A-1);break;case 2:i.lines+=t*A;break;case 0:i.points+=t*A;break;default:console.error("THREE.WebGLInfo: Unknown draw mode:",e)}}}}function kn(A,e){return Math.abs(e[1])-Math.abs(A[1])}function zn(u){var p={},g=new Float32Array(8);return{update:function(A,e,t,i){var n=A.morphTargetInfluences,o=n.length,r=p[e.id];if(void 0===r){r=[];for(var a=0;a<o;a++)r[a]=[a,0];p[e.id]=r}var s=t.morphTargets&&e.morphAttributes.position,l=t.morphNormals&&e.morphAttributes.normal;for(a=0;a<o;a++)0!==(c=r[a])[1]&&(s&&e.removeAttribute("morphTarget"+a),l&&e.removeAttribute("morphNormal"+a));for(a=0;a<o;a++)(c=r[a])[0]=a,c[1]=n[a];for(r.sort(kn),a=0;a<8;a++){var c;if(c=r[a]){var d=c[0],h=c[1];if(h){s&&e.addAttribute("morphTarget"+a,s[d]),l&&e.addAttribute("morphNormal"+a,l[d]),g[a]=h;continue}}g[a]=0}i.getUniforms().setValue(u,"morphTargetInfluences",g)}}}function Vn(n,o){var r={};return{update:function(A){var e=o.render.frame,t=A.geometry,i=n.get(A,t);return r[i.id]!==e&&(t.isGeometry&&i.updateFromObject(A),n.update(i),r[i.id]=e),i},dispose:function(){r={}}}}function Hn(A,e,t,i,n,o,r,a,s,l){Ye.call(this,A=void 0!==A?A:[],e=void 0!==e?e:vA,t,i,n,o,r=void 0!==r?r:NA,a,s,l),this.flipY=!1}function Gn(A,e,t,i){Ye.call(this,null),this.image={data:A,width:e,height:t,depth:i},this.magFilter=N,this.minFilter=N,this.wrapR=L,this.generateMipmaps=!1,this.flipY=!1}function jn(A,e,t,i){Ye.call(this,null),this.image={data:A,width:e,height:t,depth:i},this.magFilter=N,this.minFilter=N,this.wrapR=L,this.generateMipmaps=!1,this.flipY=!1}_n.physical={uniforms:rn([_n.standard.uniforms,{clearCoat:{value:0},clearCoatRoughness:{value:0}}]),vertexShader:Mn.meshphysical_vert,fragmentShader:Mn.meshphysical_frag},(Kn.prototype=Object.create(en.prototype)).constructor=Kn,(Fn.prototype=Object.create(Gi.prototype)).constructor=Fn,((Hn.prototype=Object.create(Ye.prototype)).constructor=Hn).prototype.isCubeTexture=!0,Object.defineProperty(Hn.prototype,"images",{get:function(){return this.image},set:function(A){this.image=A}}),((Gn.prototype=Object.create(Ye.prototype)).constructor=Gn).prototype.isDataTexture2DArray=!0,((jn.prototype=Object.create(Ye.prototype)).constructor=jn).prototype.isDataTexture3D=!0;var Wn=new Ye,qn=new Gn,Xn=new jn,Yn=new Hn,Jn=[],Zn=[],$n=new Float32Array(16),Ao=new Float32Array(9),eo=new Float32Array(4);function to(A,e,t){var i=A[0];if(i<=0||0<i)return A;var n=e*t,o=Jn[n];if(void 0===o&&(o=new Float32Array(n),Jn[n]=o),0!==e){i.toArray(o,0);for(var r=1,a=0;r!==e;++r)A[r].toArray(o,a+=t)}return o}function io(A,e){if(A.length!==e.length)return!1;for(var t=0,i=A.length;t<i;t++)if(A[t]!==e[t])return!1;return!0}function no(A,e){for(var t=0,i=e.length;t<i;t++)A[t]=e[t]}function oo(A,e){var t=Zn[e];void 0===t&&(t=new Int32Array(e),Zn[e]=t);for(var i=0;i!==e;++i)t[i]=A.allocateTextureUnit();return t}function ro(A,e){var t=this.cache;t[0]!==e&&(A.uniform1f(this.addr,e),t[0]=e)}function ao(A,e){var t=this.cache;if(void 0!==e.x)t[0]===e.x&&t[1]===e.y||(A.uniform2f(this.addr,e.x,e.y),t[0]=e.x,t[1]=e.y);else{if(io(t,e))return;A.uniform2fv(this.addr,e),no(t,e)}}function so(A,e){var t=this.cache;if(void 0!==e.x)t[0]===e.x&&t[1]===e.y&&t[2]===e.z||(A.uniform3f(this.addr,e.x,e.y,e.z),t[0]=e.x,t[1]=e.y,t[2]=e.z);else if(void 0!==e.r)t[0]===e.r&&t[1]===e.g&&t[2]===e.b||(A.uniform3f(this.addr,e.r,e.g,e.b),t[0]=e.r,t[1]=e.g,t[2]=e.b);else{if(io(t,e))return;A.uniform3fv(this.addr,e),no(t,e)}}function lo(A,e){var t=this.cache;if(void 0!==e.x)t[0]===e.x&&t[1]===e.y&&t[2]===e.z&&t[3]===e.w||(A.uniform4f(this.addr,e.x,e.y,e.z,e.w),t[0]=e.x,t[1]=e.y,t[2]=e.z,t[3]=e.w);else{if(io(t,e))return;A.uniform4fv(this.addr,e),no(t,e)}}function co(A,e){var t=this.cache,i=e.elements;if(void 0===i){if(io(t,e))return;A.uniformMatrix2fv(this.addr,!1,e),no(t,e)}else{if(io(t,i))return;eo.set(i),A.uniformMatrix2fv(this.addr,!1,eo),no(t,i)}}function ho(A,e){var t=this.cache,i=e.elements;if(void 0===i){if(io(t,e))return;A.uniformMatrix3fv(this.addr,!1,e),no(t,e)}else{if(io(t,i))return;Ao.set(i),A.uniformMatrix3fv(this.addr,!1,Ao),no(t,i)}}function uo(A,e){var t=this.cache,i=e.elements;if(void 0===i){if(io(t,e))return;A.uniformMatrix4fv(this.addr,!1,e),no(t,e)}else{if(io(t,i))return;$n.set(i),A.uniformMatrix4fv(this.addr,!1,$n),no(t,i)}}function po(A,e,t){var i=this.cache,n=t.allocateTextureUnit();i[0]!==n&&(A.uniform1i(this.addr,n),i[0]=n),t.safeSetTexture2D(e||Wn,n)}function go(A,e,t){var i=this.cache,n=t.allocateTextureUnit();i[0]!==n&&(A.uniform1i(this.addr,n),i[0]=n),t.setTexture2DArray(e||qn,n)}function fo(A,e,t){var i=this.cache,n=t.allocateTextureUnit();i[0]!==n&&(A.uniform1i(this.addr,n),i[0]=n),t.setTexture3D(e||Xn,n)}function mo(A,e,t){var i=this.cache,n=t.allocateTextureUnit();i[0]!==n&&(A.uniform1i(this.addr,n),i[0]=n),t.safeSetTextureCube(e||Yn,n)}function vo(A,e){var t=this.cache;t[0]!==e&&(A.uniform1i(this.addr,e),t[0]=e)}function yo(A,e){var t=this.cache;io(t,e)||(A.uniform2iv(this.addr,e),no(t,e))}function Co(A,e){var t=this.cache;io(t,e)||(A.uniform3iv(this.addr,e),no(t,e))}function Io(A,e){var t=this.cache;io(t,e)||(A.uniform4iv(this.addr,e),no(t,e))}function xo(A,e){A.uniform1fv(this.addr,e)}function bo(A,e){A.uniform1iv(this.addr,e)}function Eo(A,e){A.uniform2iv(this.addr,e)}function wo(A,e){A.uniform3iv(this.addr,e)}function Mo(A,e){A.uniform4iv(this.addr,e)}function Bo(A,e){var t=to(e,this.size,2);A.uniform2fv(this.addr,t)}function _o(A,e){var t=to(e,this.size,3);A.uniform3fv(this.addr,t)}function So(A,e){var t=to(e,this.size,4);A.uniform4fv(this.addr,t)}function To(A,e){var t=to(e,this.size,4);A.uniformMatrix2fv(this.addr,!1,t)}function Ko(A,e){var t=to(e,this.size,9);A.uniformMatrix3fv(this.addr,!1,t)}function Fo(A,e){var t=to(e,this.size,16);A.uniformMatrix4fv(this.addr,!1,t)}function Lo(A,e,t){var i=e.length,n=oo(t,i);A.uniform1iv(this.addr,n);for(var o=0;o!==i;++o)t.safeSetTexture2D(e[o]||Wn,n[o])}function Oo(A,e,t){var i=e.length,n=oo(t,i);A.uniform1iv(this.addr,n);for(var o=0;o!==i;++o)t.safeSetTextureCube(e[o]||Yn,n[o])}function Uo(A,e,t){this.id=A,this.addr=t,this.cache=[],this.setValue=function(A){switch(A){case 5126:return ro;case 35664:return ao;case 35665:return so;case 35666:return lo;case 35674:return co;case 35675:return ho;case 35676:return uo;case 35678:case 36198:return po;case 35679:return fo;case 35680:return mo;case 36289:return go;case 5124:case 35670:return vo;case 35667:case 35671:return yo;case 35668:case 35672:return Co;case 35669:case 35673:return Io}}(e.type)}function No(A,e,t){this.id=A,this.addr=t,this.cache=[],this.size=e.size,this.setValue=function(A){switch(A){case 5126:return xo;case 35664:return Bo;case 35665:return _o;case 35666:return So;case 35674:return To;case 35675:return Ko;case 35676:return Fo;case 35678:return Lo;case 35680:return Oo;case 5124:case 35670:return bo;case 35667:case 35671:return Eo;case 35668:case 35672:return wo;case 35669:case 35673:return Mo}}(e.type)}function Ro(A){this.id=A,this.seq=[],this.map={}}No.prototype.updateCache=function(A){var e=this.cache;A instanceof Float32Array&&e.length!==A.length&&(this.cache=new Float32Array(A.length)),no(e,A)},Ro.prototype.setValue=function(A,e,t){for(var i=this.seq,n=0,o=i.length;n!==o;++n){var r=i[n];r.setValue(A,e[r.id],t)}};var Po=/([\w\d_]+)(\])?(\[|\.)?/g;function Do(A,e){A.seq.push(e),A.map[e.id]=e}function Qo(A,e,t){var i=A.name,n=i.length;for(Po.lastIndex=0;;){var o=Po.exec(i),r=o[1],a=o[3];if("]"===o[2]&&(r|=0),void 0===a||"["===a&&Po.lastIndex+2===n){Do(t,void 0===a?new Uo(r,A,e):new No(r,A,e));break}var s=t.map[r];void 0===s&&Do(t,s=new Ro(r)),t=s}}function ko(A,e){this.seq=[],this.map={};for(var t=A.getProgramParameter(e,35718),i=0;i<t;++i){var n=A.getActiveUniform(e,i);Qo(n,A.getUniformLocation(e,n.name),this)}}function zo(A,e,t){var i=A.createShader(e);return A.shaderSource(i,t),A.compileShader(i),i}ko.prototype.setValue=function(A,e,t,i){var n=this.map[e];void 0!==n&&n.setValue(A,t,i)},ko.prototype.setOptional=function(A,e,t){var i=e[t];void 0!==i&&this.setValue(A,t,i)},ko.upload=function(A,e,t,i){for(var n=0,o=e.length;n!==o;++n){var r=e[n],a=t[r.id];!1!==a.needsUpdate&&r.setValue(A,a.value,i)}},ko.seqWithValue=function(A,e){for(var t=[],i=0,n=A.length;i!==n;++i){var o=A[i];o.id in e&&t.push(o)}return t};var Vo=0;function Ho(A){switch(A){case ye:return["Linear","( value )"];case Ce:return["sRGB","( value )"];case xe:return["RGBE","( value )"];case be:return["RGBM","( value, 7.0 )"];case Ee:return["RGBM","( value, 16.0 )"];case we:return["RGBD","( value, 256.0 )"];case Ie:return["Gamma","( value, float( GAMMA_FACTOR ) )"];default:throw new Error("unsupported encoding: "+A)}}function Go(A,e,t){var i=A.getShaderParameter(e,35713),n=A.getShaderInfoLog(e).trim();return i&&""===n?"":"THREE.WebGLShader: gl.getShaderInfoLog() "+t+"\n"+n+function(A){for(var e=A.split("\n"),t=0;t<e.length;t++)e[t]=t+1+": "+e[t];return e.join("\n")}(A.getShaderSource(e))}function jo(A,e){var t=Ho(e);return"vec4 "+A+"( vec4 value ) { return "+t[0]+"ToLinear"+t[1]+"; }"}function Wo(A){return""!==A}function qo(A,e){return A.replace(/NUM_DIR_LIGHTS/g,e.numDirLights).replace(/NUM_SPOT_LIGHTS/g,e.numSpotLights).replace(/NUM_RECT_AREA_LIGHTS/g,e.numRectAreaLights).replace(/NUM_POINT_LIGHTS/g,e.numPointLights).replace(/NUM_HEMI_LIGHTS/g,e.numHemiLights)}function Xo(A,e){return A.replace(/NUM_CLIPPING_PLANES/g,e.numClippingPlanes).replace(/UNION_CLIPPING_PLANES/g,e.numClippingPlanes-e.numClipIntersection)}function Yo(A){return A.replace(/^[ \t]*#include +<([\w\d./]+)>/gm,function(A,e){var t=Mn[e];if(void 0===t)throw new Error("Can not resolve #include <"+e+">");return Yo(t)})}function Jo(A){return A.replace(/#pragma unroll_loop[\s]+?for \( int i \= (\d+)\; i < (\d+)\; i \+\+ \) \{([\s\S]+?)(?=\})\}/g,function(A,e,t,i){for(var n="",o=parseInt(e);o<parseInt(t);o++)n+=i.replace(/\[ i \]/g,"[ "+o+" ]");return n})}function Zo(A,e,t,i,n,o,r){var a=A.getContext(),s=i.defines,l=n.vertexShader,c=n.fragmentShader,d="SHADOWMAP_TYPE_BASIC";o.shadowMapType===k?d="SHADOWMAP_TYPE_PCF":o.shadowMapType===z&&(d="SHADOWMAP_TYPE_PCF_SOFT");var h="ENVMAP_TYPE_CUBE",u="ENVMAP_MODE_REFLECTION",p="ENVMAP_BLENDING_MULTIPLY";if(o.envMap){switch(i.envMap.mapping){case vA:case yA:h="ENVMAP_TYPE_CUBE";break;case wA:case MA:h="ENVMAP_TYPE_CUBE_UV";break;case CA:case bA:h="ENVMAP_TYPE_EQUIREC";break;case EA:h="ENVMAP_TYPE_SPHERE"}switch(i.envMap.mapping){case yA:case bA:u="ENVMAP_MODE_REFRACTION"}switch(i.combine){case V:p="ENVMAP_BLENDING_MULTIPLY";break;case H:p="ENVMAP_BLENDING_MIX";break;case G:p="ENVMAP_BLENDING_ADD"}}var g,f,m,v,y,C,I,x,b=0<A.gammaFactor?A.gammaFactor:1,E=r.isWebGL2?"":(f=o,m=e,[(g=(g=i.extensions)||{}).derivatives||f.envMapCubeUV||f.bumpMap||f.normalMap&&!f.objectSpaceNormalMap||f.flatShading?"#extension GL_OES_standard_derivatives : enable":"",(g.fragDepth||f.logarithmicDepthBuffer)&&m.get("EXT_frag_depth")?"#extension GL_EXT_frag_depth : enable":"",g.drawBuffers&&m.get("WEBGL_draw_buffers")?"#extension GL_EXT_draw_buffers : require":"",(g.shaderTextureLOD||f.envMap)&&m.get("EXT_shader_texture_lod")?"#extension GL_EXT_shader_texture_lod : enable":""].filter(Wo).join("\n")),w=function(A){var e=[];for(var t in A){var i=A[t];!1!==i&&e.push("#define "+t+" "+i)}return e.join("\n")}(s),M=a.createProgram();if(i.isRawShaderMaterial?(0<(v=[w].filter(Wo).join("\n")).length&&(v+="\n"),0<(y=[E,w].filter(Wo).join("\n")).length&&(y+="\n")):(v=["precision "+o.precision+" float;","precision "+o.precision+" int;","#define SHADER_NAME "+n.name,w,o.supportsVertexTextures?"#define VERTEX_TEXTURES":"","#define GAMMA_FACTOR "+b,"#define MAX_BONES "+o.maxBones,o.useFog&&o.fog?"#define USE_FOG":"",o.useFog&&o.fogExp?"#define FOG_EXP2":"",o.map?"#define USE_MAP":"",o.envMap?"#define USE_ENVMAP":"",o.envMap?"#define "+u:"",o.lightMap?"#define USE_LIGHTMAP":"",o.aoMap?"#define USE_AOMAP":"",o.emissiveMap?"#define USE_EMISSIVEMAP":"",o.bumpMap?"#define USE_BUMPMAP":"",o.normalMap?"#define USE_NORMALMAP":"",o.normalMap&&o.objectSpaceNormalMap?"#define OBJECTSPACE_NORMALMAP":"",o.displacementMap&&o.supportsVertexTextures?"#define USE_DISPLACEMENTMAP":"",o.specularMap?"#define USE_SPECULARMAP":"",o.roughnessMap?"#define USE_ROUGHNESSMAP":"",o.metalnessMap?"#define USE_METALNESSMAP":"",o.alphaMap?"#define USE_ALPHAMAP":"",o.vertexTangents?"#define USE_TANGENT":"",o.vertexColors?"#define USE_COLOR":"",o.flatShading?"#define FLAT_SHADED":"",o.skinning?"#define USE_SKINNING":"",o.useVertexTexture?"#define BONE_TEXTURE":"",o.morphTargets?"#define USE_MORPHTARGETS":"",o.morphNormals&&!1===o.flatShading?"#define USE_MORPHNORMALS":"",o.doubleSided?"#define DOUBLE_SIDED":"",o.flipSided?"#define FLIP_SIDED":"",o.shadowMapEnabled?"#define USE_SHADOWMAP":"",o.shadowMapEnabled?"#define "+d:"",o.sizeAttenuation?"#define USE_SIZEATTENUATION":"",o.logarithmicDepthBuffer?"#define USE_LOGDEPTHBUF":"",o.logarithmicDepthBuffer&&(r.isWebGL2||e.get("EXT_frag_depth"))?"#define USE_LOGDEPTHBUF_EXT":"","uniform mat4 modelMatrix;","uniform mat4 modelViewMatrix;","uniform mat4 projectionMatrix;","uniform mat4 viewMatrix;","uniform mat3 normalMatrix;","uniform vec3 cameraPosition;","attribute vec3 position;","attribute vec3 normal;","attribute vec2 uv;","#ifdef USE_TANGENT","\tattribute vec4 tangent;","#endif","#ifdef USE_COLOR","\tattribute vec3 color;","#endif","#ifdef USE_MORPHTARGETS","\tattribute vec3 morphTarget0;","\tattribute vec3 morphTarget1;","\tattribute vec3 morphTarget2;","\tattribute vec3 morphTarget3;","\t#ifdef USE_MORPHNORMALS","\t\tattribute vec3 morphNormal0;","\t\tattribute vec3 morphNormal1;","\t\tattribute vec3 morphNormal2;","\t\tattribute vec3 morphNormal3;","\t#else","\t\tattribute vec3 morphTarget4;","\t\tattribute vec3 morphTarget5;","\t\tattribute vec3 morphTarget6;","\t\tattribute vec3 morphTarget7;","\t#endif","#endif","#ifdef USE_SKINNING","\tattribute vec4 skinIndex;","\tattribute vec4 skinWeight;","#endif","\n"].filter(Wo).join("\n"),y=[E,"precision "+o.precision+" float;","precision "+o.precision+" int;","#define SHADER_NAME "+n.name,w,o.alphaTest?"#define ALPHATEST "+o.alphaTest+(o.alphaTest%1?"":".0"):"","#define GAMMA_FACTOR "+b,o.useFog&&o.fog?"#define USE_FOG":"",o.useFog&&o.fogExp?"#define FOG_EXP2":"",o.map?"#define USE_MAP":"",o.matcap?"#define USE_MATCAP":"",o.envMap?"#define USE_ENVMAP":"",o.envMap?"#define "+h:"",o.envMap?"#define "+u:"",o.envMap?"#define "+p:"",o.lightMap?"#define USE_LIGHTMAP":"",o.aoMap?"#define USE_AOMAP":"",o.emissiveMap?"#define USE_EMISSIVEMAP":"",o.bumpMap?"#define USE_BUMPMAP":"",o.normalMap?"#define USE_NORMALMAP":"",o.normalMap&&o.objectSpaceNormalMap?"#define OBJECTSPACE_NORMALMAP":"",o.specularMap?"#define USE_SPECULARMAP":"",o.roughnessMap?"#define USE_ROUGHNESSMAP":"",o.metalnessMap?"#define USE_METALNESSMAP":"",o.alphaMap?"#define USE_ALPHAMAP":"",o.vertexTangents?"#define USE_TANGENT":"",o.vertexColors?"#define USE_COLOR":"",o.gradientMap?"#define USE_GRADIENTMAP":"",o.flatShading?"#define FLAT_SHADED":"",o.doubleSided?"#define DOUBLE_SIDED":"",o.flipSided?"#define FLIP_SIDED":"",o.shadowMapEnabled?"#define USE_SHADOWMAP":"",o.shadowMapEnabled?"#define "+d:"",o.premultipliedAlpha?"#define PREMULTIPLIED_ALPHA":"",o.physicallyCorrectLights?"#define PHYSICALLY_CORRECT_LIGHTS":"",o.logarithmicDepthBuffer?"#define USE_LOGDEPTHBUF":"",o.logarithmicDepthBuffer&&(r.isWebGL2||e.get("EXT_frag_depth"))?"#define USE_LOGDEPTHBUF_EXT":"",o.envMap&&(r.isWebGL2||e.get("EXT_shader_texture_lod"))?"#define TEXTURE_LOD_EXT":"","uniform mat4 viewMatrix;","uniform vec3 cameraPosition;",o.toneMapping!==dA?"#define TONE_MAPPING":"",o.toneMapping!==dA?Mn.tonemapping_pars_fragment:"",o.toneMapping!==dA?function(A,e){var t;switch(e){case xA:t="Linear";break;case hA:t="Reinhard";break;case uA:t="Uncharted2";break;case fA:t="OptimizedCineon";break;case mA:t="ACESFilmic";break;default:throw new Error("unsupported toneMapping: "+e)}return"vec3 "+A+"( vec3 color ) { return "+t+"ToneMapping( color ); }"}("toneMapping",o.toneMapping):"",o.dithering?"#define DITHERING":"",o.outputEncoding||o.mapEncoding||o.matcapEncoding||o.envMapEncoding||o.emissiveMapEncoding?Mn.encodings_pars_fragment:"",o.mapEncoding?jo("mapTexelToLinear",o.mapEncoding):"",o.matcapEncoding?jo("matcapTexelToLinear",o.matcapEncoding):"",o.envMapEncoding?jo("envMapTexelToLinear",o.envMapEncoding):"",o.emissiveMapEncoding?jo("emissiveMapTexelToLinear",o.emissiveMapEncoding):"",o.outputEncoding?(C="linearToOutputTexel",I=o.outputEncoding,x=Ho(I),"vec4 "+C+"( vec4 value ) { return LinearTo"+x[0]+x[1]+"; }"):"",o.depthPacking?"#define DEPTH_PACKING "+i.depthPacking:"","\n"].filter(Wo).join("\n")),l=Xo(l=qo(l=Yo(l),o),o),c=Xo(c=qo(c=Yo(c),o),o),l=Jo(l),c=Jo(c),r.isWebGL2&&!i.isRawShaderMaterial){var B=!1,_=/^\s*#version\s+300\s+es\s*\n/;i.isShaderMaterial&&null!==l.match(_)&&null!==c.match(_)&&(B=!0,l=l.replace(_,""),c=c.replace(_,"")),v=["#version 300 es\n","#define attribute in","#define varying out","#define texture2D texture"].join("\n")+"\n"+v,y=["#version 300 es\n","#define varying in",B?"":"out highp vec4 pc_fragColor;",B?"":"#define gl_FragColor pc_fragColor","#define gl_FragDepthEXT gl_FragDepth","#define texture2D texture","#define textureCube texture","#define texture2DProj textureProj","#define texture2DLodEXT textureLod","#define texture2DProjLodEXT textureProjLod","#define textureCubeLodEXT textureLod","#define texture2DGradEXT textureGrad","#define texture2DProjGradEXT textureProjGrad","#define textureCubeGradEXT textureGrad"].join("\n")+"\n"+y}var S,T,K=y+c,F=zo(a,35633,v+l),L=zo(a,35632,K);if(a.attachShader(M,F),a.attachShader(M,L),void 0!==i.index0AttributeName?a.bindAttribLocation(M,0,i.index0AttributeName):!0===o.morphTargets&&a.bindAttribLocation(M,0,"position"),a.linkProgram(M),A.debug.checkShaderErrors){var O=a.getProgramInfoLog(M).trim(),U=a.getShaderInfoLog(F).trim(),N=a.getShaderInfoLog(L).trim(),R=!0,P=!0;if(!1===a.getProgramParameter(M,35714)){R=!1;var D=Go(a,F,"vertex"),Q=Go(a,L,"fragment");console.error("THREE.WebGLProgram: shader error: ",a.getError(),"35715",a.getProgramParameter(M,35715),"gl.getProgramInfoLog",O,D,Q)}else""!==O?console.warn("THREE.WebGLProgram: gl.getProgramInfoLog()",O):""!==U&&""!==N||(P=!1);P&&(this.diagnostics={runnable:R,material:i,programLog:O,vertexShader:{log:U,prefix:v},fragmentShader:{log:N,prefix:y}})}return a.deleteShader(F),a.deleteShader(L),this.getUniforms=function(){return void 0===S&&(S=new ko(a,M)),S},this.getAttributes=function(){return void 0===T&&(T=function(A,e){for(var t={},i=A.getProgramParameter(e,35721),n=0;n<i;n++){var o=A.getActiveAttrib(e,n).name;t[o]=A.getAttribLocation(e,o)}return t}(a,M)),T},this.destroy=function(){a.deleteProgram(M),this.program=void 0},this.name=n.name,this.id=Vo++,this.code=t,this.usedTimes=1,this.program=M,this.vertexShader=F,this.fragmentShader=L,this}function $o(d,s,h){var l=[],u={MeshDepthMaterial:"depth",MeshDistanceMaterial:"distanceRGBA",MeshNormalMaterial:"normal",MeshBasicMaterial:"basic",MeshLambertMaterial:"lambert",MeshPhongMaterial:"phong",MeshToonMaterial:"phong",MeshStandardMaterial:"physical",MeshPhysicalMaterial:"physical",MeshMatcapMaterial:"matcap",LineBasicMaterial:"basic",LineDashedMaterial:"dashed",PointsMaterial:"points",ShadowMaterial:"shadow",SpriteMaterial:"sprite"},o=["precision","supportsVertexTextures","map","mapEncoding","matcap","matcapEncoding","envMap","envMapMode","envMapEncoding","lightMap","aoMap","emissiveMap","emissiveMapEncoding","bumpMap","normalMap","objectSpaceNormalMap","displacementMap","specularMap","roughnessMap","metalnessMap","gradientMap","alphaMap","combine","vertexColors","vertexTangents","fog","useFog","fogExp","flatShading","sizeAttenuation","logarithmicDepthBuffer","skinning","maxBones","useVertexTexture","morphTargets","morphNormals","maxMorphTargets","maxMorphNormals","premultipliedAlpha","numDirLights","numPointLights","numSpotLights","numHemiLights","numRectAreaLights","shadowMapEnabled","shadowMapType","toneMapping","physicallyCorrectLights","alphaTest","doubleSided","flipSided","numClippingPlanes","numClipIntersection","depthPacking","dithering"];function p(A,e){var t;return A?A.isTexture?t=A.encoding:A.isWebGLRenderTarget&&(console.warn("THREE.WebGLPrograms.getTextureEncodingFromMap: don't use render targets as textures. Use their .texture property instead."),t=A.texture.encoding):t=ye,t===ye&&e&&(t=Ie),t}this.getParameters=function(A,e,t,i,n,o,r){var a=u[A.type],s=r.isSkinnedMesh?function(A){var e=A.skeleton.bones;if(h.floatVertexTextures)return 1024;var t=Math.floor((h.maxVertexUniforms-20)/4),i=Math.min(t,e.length);return i<e.length?(console.warn("THREE.WebGLRenderer: Skeleton has "+e.length+" bones. This GPU supports "+i+"."),0):i}(r):0,l=h.precision;null!==A.precision&&(l=h.getMaxPrecision(A.precision))!==A.precision&&console.warn("THREE.WebGLProgram.getParameters:",A.precision,"not supported, using",l,"instead.");var c=d.getRenderTarget();return{shaderID:a,precision:l,supportsVertexTextures:h.vertexTextures,outputEncoding:p(c?c.texture:null,d.gammaOutput),map:!!A.map,mapEncoding:p(A.map,d.gammaInput),matcap:!!A.matcap,matcapEncoding:p(A.matcap,d.gammaInput),envMap:!!A.envMap,envMapMode:A.envMap&&A.envMap.mapping,envMapEncoding:p(A.envMap,d.gammaInput),envMapCubeUV:!!A.envMap&&(A.envMap.mapping===wA||A.envMap.mapping===MA),lightMap:!!A.lightMap,aoMap:!!A.aoMap,emissiveMap:!!A.emissiveMap,emissiveMapEncoding:p(A.emissiveMap,d.gammaInput),bumpMap:!!A.bumpMap,normalMap:!!A.normalMap,objectSpaceNormalMap:A.normalMapType===Se,displacementMap:!!A.displacementMap,roughnessMap:!!A.roughnessMap,metalnessMap:!!A.metalnessMap,specularMap:!!A.specularMap,alphaMap:!!A.alphaMap,gradientMap:!!A.gradientMap,combine:A.combine,vertexTangents:A.normalMap&&A.vertexTangents,vertexColors:A.vertexColors,fog:!!i,useFog:A.fog,fogExp:i&&i.isFogExp2,flatShading:A.flatShading,sizeAttenuation:A.sizeAttenuation,logarithmicDepthBuffer:h.logarithmicDepthBuffer,skinning:A.skinning&&0<s,maxBones:s,useVertexTexture:h.floatVertexTextures,morphTargets:A.morphTargets,morphNormals:A.morphNormals,maxMorphTargets:d.maxMorphTargets,maxMorphNormals:d.maxMorphNormals,numDirLights:e.directional.length,numPointLights:e.point.length,numSpotLights:e.spot.length,numRectAreaLights:e.rectArea.length,numHemiLights:e.hemi.length,numClippingPlanes:n,numClipIntersection:o,dithering:A.dithering,shadowMapEnabled:d.shadowMap.enabled&&r.receiveShadow&&0<t.length,shadowMapType:d.shadowMap.type,toneMapping:d.toneMapping,physicallyCorrectLights:d.physicallyCorrectLights,premultipliedAlpha:A.premultipliedAlpha,alphaTest:A.alphaTest,doubleSided:A.side===gA,flipSided:A.side===IA,depthPacking:void 0!==A.depthPacking&&A.depthPacking}},this.getProgramCode=function(A,e){var t=[];if(e.shaderID?t.push(e.shaderID):(t.push(A.fragmentShader),t.push(A.vertexShader)),void 0!==A.defines)for(var i in A.defines)t.push(i),t.push(A.defines[i]);for(var n=0;n<o.length;n++)t.push(e[o[n]]);return t.push(A.onBeforeCompile.toString()),t.push(d.gammaOutput),t.push(d.gammaFactor),t.join()},this.acquireProgram=function(A,e,t,i){for(var n,o=0,r=l.length;o<r;o++){var a=l[o];if(a.code===i){++(n=a).usedTimes;break}}return void 0===n&&(n=new Zo(d,s,i,A,e,t,h),l.push(n)),n},this.releaseProgram=function(A){if(0==--A.usedTimes){var e=l.indexOf(A);l[e]=l[l.length-1],l.pop(),A.destroy()}},this.programs=l}function Ar(){var i=new WeakMap;return{get:function(A){var e=i.get(A);return void 0===e&&i.set(A,e={}),e},remove:function(A){i.delete(A)},update:function(A,e,t){i.get(A)[e]=t},dispose:function(){i=new WeakMap}}}function er(A,e){return A.groupOrder!==e.groupOrder?A.groupOrder-e.groupOrder:A.renderOrder!==e.renderOrder?A.renderOrder-e.renderOrder:A.program!==e.program?A.program.id-e.program.id:A.material.id!==e.material.id?A.material.id-e.material.id:A.z!==e.z?A.z-e.z:A.id-e.id}function tr(A,e){return A.groupOrder!==e.groupOrder?A.groupOrder-e.groupOrder:A.renderOrder!==e.renderOrder?A.renderOrder-e.renderOrder:A.z!==e.z?e.z-A.z:A.id-e.id}function ir(){var a=[],s=0,l=[],c=[],d={id:-1};function h(A,e,t,i,n,o){var r=a[s];return void 0===r?a[s]=r={id:A.id,object:A,geometry:e,material:t,program:t.program||d,groupOrder:i,renderOrder:A.renderOrder,z:n,group:o}:(r.id=A.id,r.object=A,r.geometry=e,r.material=t,r.program=t.program||d,r.groupOrder=i,r.renderOrder=A.renderOrder,r.z=n,r.group=o),s++,r}return{opaque:l,transparent:c,init:function(){c.length=l.length=s=0},push:function(A,e,t,i,n,o){var r=h(A,e,t,i,n,o);(!0===t.transparent?c:l).push(r)},unshift:function(A,e,t,i,n,o){var r=h(A,e,t,i,n,o);(!0===t.transparent?c:l).unshift(r)},sort:function(){1<l.length&&l.sort(er),1<c.length&&c.sort(tr)}}}function nr(){var n={};function o(A){var e=A.target;e.removeEventListener("dispose",o),delete n[e.id]}return{get:function(A,e){var t,i=n[A.id];return void 0===i?(t=new ir,n[A.id]={},n[A.id][e.id]=t,A.addEventListener("dispose",o)):void 0===(t=i[e.id])&&(t=new ir,i[e.id]=t),t},dispose:function(){n={}}}}function or(){var t={};return{get:function(A){if(void 0!==t[A.id])return t[A.id];var e;switch(A.type){case"DirectionalLight":e={direction:new Ue,color:new hi,shadow:!1,shadowBias:0,shadowRadius:1,shadowMapSize:new Le};break;case"SpotLight":e={position:new Ue,direction:new Ue,color:new hi,distance:0,coneCos:0,penumbraCos:0,decay:0,shadow:!1,shadowBias:0,shadowRadius:1,shadowMapSize:new Le};break;case"PointLight":e={position:new Ue,color:new hi,distance:0,decay:0,shadow:!1,shadowBias:0,shadowRadius:1,shadowMapSize:new Le,shadowCameraNear:1,shadowCameraFar:1e3};break;case"HemisphereLight":e={direction:new Ue,skyColor:new hi,groundColor:new hi};break;case"RectAreaLight":e={color:new hi,position:new Ue,halfWidth:new Ue,halfHeight:new Ue}}return t[A.id]=e}}}var rr=0;function ar(){for(var b=new or,E={version:0,hash:{directionalLength:-1,pointLength:-1,spotLength:-1,rectAreaLength:-1,hemiLength:-1,shadowsLength:-1},ambient:[0,0,0],probe:[],directional:[],directionalShadowMap:[],directionalShadowMatrix:[],spot:[],spotShadowMap:[],spotShadowMatrix:[],rectArea:[],point:[],pointShadowMap:[],pointShadowMatrix:[],hemi:[]},A=0;A<9;A++)E.probe.push(new Ue);var w=new Ue,M=new At,B=new At;return{setup:function(A,e,t){for(var i=0,n=0,o=0,r=0;r<9;r++)E.probe[r].set(0,0,0);for(var a=0,s=0,l=0,c=0,d=0,h=t.matrixWorldInverse,u=(r=0,A.length);r<u;r++){var p=A[r],g=p.color,f=p.intensity,m=p.distance,v=p.shadow&&p.shadow.map?p.shadow.map.texture:null;if(p.isAmbientLight)i+=g.r*f,n+=g.g*f,o+=g.b*f;else if(p.isLightProbe)for(var y=0;y<9;y++)E.probe[y].addScaledVector(p.sh.coefficients[y],f);else if(p.isDirectionalLight)(I=b.get(p)).color.copy(p.color).multiplyScalar(p.intensity),I.direction.setFromMatrixPosition(p.matrixWorld),w.setFromMatrixPosition(p.target.matrixWorld),I.direction.sub(w),I.direction.transformDirection(h),I.shadow=p.castShadow,p.castShadow&&(I.shadowBias=(C=p.shadow).bias,I.shadowRadius=C.radius,I.shadowMapSize=C.mapSize),E.directionalShadowMap[a]=v,E.directionalShadowMatrix[a]=p.shadow.matrix,E.directional[a]=I,a++;else if(p.isSpotLight)(I=b.get(p)).position.setFromMatrixPosition(p.matrixWorld),I.position.applyMatrix4(h),I.color.copy(g).multiplyScalar(f),I.distance=m,I.direction.setFromMatrixPosition(p.matrixWorld),w.setFromMatrixPosition(p.target.matrixWorld),I.direction.sub(w),I.direction.transformDirection(h),I.coneCos=Math.cos(p.angle),I.penumbraCos=Math.cos(p.angle*(1-p.penumbra)),I.decay=p.decay,I.shadow=p.castShadow,p.castShadow&&(I.shadowBias=(C=p.shadow).bias,I.shadowRadius=C.radius,I.shadowMapSize=C.mapSize),E.spotShadowMap[l]=v,E.spotShadowMatrix[l]=p.shadow.matrix,E.spot[l]=I,l++;else if(p.isRectAreaLight)(I=b.get(p)).color.copy(g).multiplyScalar(f),I.position.setFromMatrixPosition(p.matrixWorld),I.position.applyMatrix4(h),B.identity(),M.copy(p.matrixWorld),M.premultiply(h),B.extractRotation(M),I.halfWidth.set(.5*p.width,0,0),I.halfHeight.set(0,.5*p.height,0),I.halfWidth.applyMatrix4(B),I.halfHeight.applyMatrix4(B),E.rectArea[c]=I,c++;else if(p.isPointLight){var C;(I=b.get(p)).position.setFromMatrixPosition(p.matrixWorld),I.position.applyMatrix4(h),I.color.copy(p.color).multiplyScalar(p.intensity),I.distance=p.distance,I.decay=p.decay,I.shadow=p.castShadow,p.castShadow&&(I.shadowBias=(C=p.shadow).bias,I.shadowRadius=C.radius,I.shadowMapSize=C.mapSize,I.shadowCameraNear=C.camera.near,I.shadowCameraFar=C.camera.far),E.pointShadowMap[s]=v,E.pointShadowMatrix[s]=p.shadow.matrix,E.point[s]=I,s++}else if(p.isHemisphereLight){var I;(I=b.get(p)).direction.setFromMatrixPosition(p.matrixWorld),I.direction.transformDirection(h),I.direction.normalize(),I.skyColor.copy(p.color).multiplyScalar(f),I.groundColor.copy(p.groundColor).multiplyScalar(f),E.hemi[d]=I,d++}}E.ambient[0]=i,E.ambient[1]=n,E.ambient[2]=o;var x=E.hash;x.directionalLength===a&&x.pointLength===s&&x.spotLength===l&&x.rectAreaLength===c&&x.hemiLength===d&&x.shadowsLength===e.length||(E.directional.length=a,E.spot.length=l,E.rectArea.length=c,E.point.length=s,E.hemi.length=d,x.directionalLength=a,x.pointLength=s,x.spotLength=l,x.rectAreaLength=c,x.hemiLength=d,x.shadowsLength=e.length,E.version=rr++)},state:E}}function sr(){var e=new ar,t=[],i=[];return{init:function(){i.length=t.length=0},state:{lightsArray:t,shadowsArray:i,lights:e},setupLights:function(A){e.setup(t,i,A)},pushLight:function(A){t.push(A)},pushShadow:function(A){i.push(A)}}}function lr(){var i={};function n(A){var e=A.target;e.removeEventListener("dispose",n),delete i[e.id]}return{get:function(A,e){var t;return void 0===i[A.id]?(t=new sr,i[A.id]={},i[A.id][e.id]=t,A.addEventListener("dispose",n)):void 0===i[A.id][e.id]?(t=new sr,i[A.id][e.id]=t):t=i[A.id][e.id],t},dispose:function(){i={}}}}function cr(A){vi.call(this),this.type="MeshDepthMaterial",this.depthPacking=Me,this.skinning=!1,this.morphTargets=!1,this.map=null,this.alphaMap=null,this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.wireframe=!1,this.wireframeLinewidth=1,this.fog=!1,this.lights=!1,this.setValues(A)}function dr(A){vi.call(this),this.type="MeshDistanceMaterial",this.referencePosition=new Ue,this.nearDistance=1,this.farDistance=1e3,this.skinning=!1,this.morphTargets=!1,this.map=null,this.alphaMap=null,this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.fog=!1,this.lights=!1,this.setValues(A)}function hr(y,g,A){for(var C=new wn,I=new At,x=new Le,b=new Le(A,A),E=new Ue,w=new Ue,f=1,m=2,e=1+(f|m),v=new Array(e),M=new Array(e),B={},_={0:IA,1:U,2:gA},S=[new Ue(1,0,0),new Ue(-1,0,0),new Ue(0,0,1),new Ue(0,0,-1),new Ue(0,1,0),new Ue(0,-1,0)],T=[new Ue(0,1,0),new Ue(0,1,0),new Ue(0,1,0),new Ue(0,1,0),new Ue(0,0,1),new Ue(0,0,-1)],K=[new Je,new Je,new Je,new Je,new Je,new Je],t=0;t!==e;++t){var i=0!=(t&f),n=0!=(t&m),o=new cr({depthPacking:Be,morphTargets:i,skinning:n});v[t]=o;var r=new dr({morphTargets:i,skinning:n});M[t]=r}var F=this;function L(A,e,t,i,n,o){var r=A.geometry,a=null,s=v,l=A.customDepthMaterial;if(t&&(s=M,l=A.customDistanceMaterial),l)a=l;else{var c=!1;e.morphTargets&&(r&&r.isBufferGeometry?c=r.morphAttributes&&r.morphAttributes.position&&0<r.morphAttributes.position.length:r&&r.isGeometry&&(c=r.morphTargets&&0<r.morphTargets.length)),A.isSkinnedMesh&&!1===e.skinning&&console.warn("THREE.WebGLShadowMap: THREE.SkinnedMesh with material.skinning set to false:",A);var d=0;c&&(d|=f),A.isSkinnedMesh&&e.skinning&&(d|=m),a=s[d]}if(y.localClippingEnabled&&!0===e.clipShadows&&0!==e.clippingPlanes.length){var h=a.uuid,u=e.uuid,p=B[h];void 0===p&&(B[h]=p={});var g=p[u];void 0===g&&(g=a.clone(),p[u]=g),a=g}return a.visible=e.visible,a.wireframe=e.wireframe,a.side=null!=e.shadowSide?e.shadowSide:_[e.side],a.clipShadows=e.clipShadows,a.clippingPlanes=e.clippingPlanes,a.clipIntersection=e.clipIntersection,a.wireframeLinewidth=e.wireframeLinewidth,a.linewidth=e.linewidth,t&&a.isMeshDistanceMaterial&&(a.referencePosition.copy(i),a.nearDistance=n,a.farDistance=o),a}function O(A,e,t,i){if(!1!==A.visible){if(A.layers.test(e.layers)&&(A.isMesh||A.isLine||A.isPoints)&&A.castShadow&&(!A.frustumCulled||C.intersectsObject(A))){A.modelViewMatrix.multiplyMatrices(t.matrixWorldInverse,A.matrixWorld);var n=g.update(A),o=A.material;if(Array.isArray(o))for(var r=n.groups,a=0,s=r.length;a<s;a++){var l=r[a],c=o[l.materialIndex];if(c&&c.visible){var d=L(A,c,i,w,t.near,t.far);y.renderBufferDirect(t,null,n,d,A,l)}}else if(o.visible){d=L(A,o,i,w,t.near,t.far);y.renderBufferDirect(t,null,n,d,A,null)}}for(var h=A.children,u=0,p=h.length;u<p;u++)O(h[u],e,t,i)}}this.enabled=!1,this.autoUpdate=!0,this.needsUpdate=!1,this.type=k,this.render=function(A,e,t){if(!1!==F.enabled&&(!1!==F.autoUpdate||!1!==F.needsUpdate)&&0!==A.length){var i,n=y.getRenderTarget(),o=y.getActiveCubeFace(),r=y.getActiveMipmapLevel(),a=y.state;a.setBlending(X),a.buffers.color.setClear(1,1,1,1),a.buffers.depth.setTest(!0),a.setScissorTest(!1);for(var s=0,l=A.length;s<l;s++){var c=A[s],d=c.shadow,h=c&&c.isPointLight;if(void 0!==d){var u=d.camera;if(x.copy(d.mapSize),x.min(b),h){var p=x.x,g=x.y;K[0].set(2*p,g,p,g),K[1].set(0,g,p,g),K[2].set(3*p,g,p,g),K[3].set(p,g,p,g),K[4].set(3*p,0,p,g),K[5].set(p,0,p,g),x.x*=4,x.y*=2}if(null===d.map)d.map=new Ze(x.x,x.y,{minFilter:N,magFilter:N,format:RA}),d.map.texture.name=c.name+".shadowMap",u.updateProjectionMatrix();d.isSpotLightShadow&&d.update(c);var f=d.map,m=d.matrix;w.setFromMatrixPosition(c.matrixWorld),u.position.copy(w),h?(i=6,m.makeTranslation(-w.x,-w.y,-w.z)):(i=1,E.setFromMatrixPosition(c.target.matrixWorld),u.lookAt(E),u.updateMatrixWorld(),m.set(.5,0,0,.5,0,.5,0,.5,0,0,.5,.5,0,0,0,1),m.multiply(u.projectionMatrix),m.multiply(u.matrixWorldInverse)),y.setRenderTarget(f),y.clear();for(var v=0;v<i;v++){if(h)E.copy(u.position),E.add(S[v]),u.up.copy(T[v]),u.lookAt(E),u.updateMatrixWorld(),a.viewport(K[v]);I.multiplyMatrices(u.projectionMatrix,u.matrixWorldInverse),C.setFromMatrix(I),O(e,t,u,h)}}else console.warn("THREE.WebGLShadowMap:",c,"has no shadow.")}F.needsUpdate=!1,y.setRenderTarget(n,o,r)}}}function ur(c,t,s,i){var n=new function(){var e=!1,o=new Je,t=null,r=new Je(0,0,0,0);return{setMask:function(A){t===A||e||(c.colorMask(A,A,A,A),t=A)},setLocked:function(A){e=A},setClear:function(A,e,t,i,n){!0===n&&(A*=i,e*=i,t*=i),o.set(A,e,t,i),!1===r.equals(o)&&(c.clearColor(A,e,t,i),r.copy(o))},reset:function(){e=!1,t=null,r.set(-1,0,0,0)}}},o=new function(){var e=!1,t=null,i=null,n=null;return{setTest:function(A){A?D(2929):Q(2929)},setMask:function(A){t===A||e||(c.depthMask(A),t=A)},setFunc:function(A){if(i!==A){if(A)switch(A){case iA:c.depthFunc(512);break;case nA:c.depthFunc(519);break;case oA:c.depthFunc(513);break;case rA:c.depthFunc(515);break;case aA:c.depthFunc(514);break;case sA:c.depthFunc(518);break;case lA:c.depthFunc(516);break;case cA:c.depthFunc(517);break;default:c.depthFunc(515)}else c.depthFunc(515);i=A}},setLocked:function(A){e=A},setClear:function(A){n!==A&&(c.clearDepth(A),n=A)},reset:function(){e=!1,n=i=t=null}}},r=new function(){var e=!1,t=null,i=null,n=null,o=null,r=null,a=null,s=null,l=null;return{setTest:function(A){A?D(2960):Q(2960)},setMask:function(A){t===A||e||(c.stencilMask(A),t=A)},setFunc:function(A,e,t){i===A&&n===e&&o===t||(c.stencilFunc(A,e,t),i=A,n=e,o=t)},setOp:function(A,e,t){r===A&&a===e&&s===t||(c.stencilOp(A,e,t),r=A,a=e,s=t)},setLocked:function(A){e=A},setClear:function(A){l!==A&&(c.clearStencil(A),l=A)},reset:function(){e=!1,l=s=a=r=o=n=i=t=null}}},A=c.getParameter(34921),a=new Uint8Array(A),l=new Uint8Array(A),d=new Uint8Array(A),e={},h=null,u=null,p=null,g=null,f=null,m=null,v=null,y=null,C=null,I=null,x=!1,b=null,E=null,w=null,M=null,B=null,_=c.getParameter(35661),S=!1,T=0,K=c.getParameter(7938);-1!==K.indexOf("WebGL")?(T=parseFloat(/^WebGL\ ([0-9])/.exec(K)[1]),S=1<=T):-1!==K.indexOf("OpenGL ES")&&(T=parseFloat(/^OpenGL\ ES\ ([0-9])/.exec(K)[1]),S=2<=T);var F=null,L={},O=new Je,U=new Je;function N(A,e,t){var i=new Uint8Array(4),n=c.createTexture();c.bindTexture(A,n),c.texParameteri(A,10241,9728),c.texParameteri(A,10240,9728);for(var o=0;o<t;o++)c.texImage2D(e+o,0,6408,1,1,0,6408,5121,i);return n}var R={};function P(A,e){(a[A]=1,0===l[A]&&(c.enableVertexAttribArray(A),l[A]=1),d[A]!==e)&&((i.isWebGL2?c:t.get("ANGLE_instanced_arrays"))[i.isWebGL2?"vertexAttribDivisor":"vertexAttribDivisorANGLE"](A,e),d[A]=e)}function D(A){!0!==e[A]&&(c.enable(A),e[A]=!0)}function Q(A){!1!==e[A]&&(c.disable(A),e[A]=!1)}function k(A,e,t,i,n,o,r,a){if(A!==X){if(p||(D(3042),p=!0),A===eA)n=n||e,o=o||t,r=r||i,e===f&&n===y||(c.blendEquationSeparate(s.convert(e),s.convert(n)),f=e,y=n),t===m&&i===v&&o===C&&r===I||(c.blendFuncSeparate(s.convert(t),s.convert(i),s.convert(o),s.convert(r)),m=t,v=i,C=o,I=r),g=A,x=null;else if(A!==g||a!==x){if(f===tA&&y===tA||(c.blendEquation(32774),y=f=tA),a)switch(A){case Y:c.blendFuncSeparate(1,771,1,771);break;case J:c.blendFunc(1,1);break;case Z:c.blendFuncSeparate(0,0,769,771);break;case AA:c.blendFuncSeparate(0,768,0,770);break;default:console.error("THREE.WebGLState: Invalid blending: ",A)}else switch(A){case Y:c.blendFuncSeparate(770,771,1,771);break;case J:c.blendFunc(770,1);break;case Z:c.blendFunc(0,769);break;case AA:c.blendFunc(0,768);break;default:console.error("THREE.WebGLState: Invalid blending: ",A)}I=C=v=m=null,g=A,x=a}}else p&&(Q(3042),p=!1)}function z(A){b!==A&&(c.frontFace(A?2304:2305),b=A)}function V(A){A!==j?(D(2884),A!==E&&c.cullFace(A===W?1029:A===q?1028:1032)):Q(2884),E=A}function H(A,e,t){A?(D(32823),M===e&&B===t||(c.polygonOffset(e,t),M=e,B=t)):Q(32823)}function G(A){void 0===A&&(A=33984+_-1),F!==A&&(c.activeTexture(A),F=A)}return R[3553]=N(3553,3553,1),R[34067]=N(34067,34069,6),n.setClear(0,0,0,1),o.setClear(1),r.setClear(0),D(2929),o.setFunc(rA),z(!1),V(W),D(2884),k(X),{buffers:{color:n,depth:o,stencil:r},initAttributes:function(){for(var A=0,e=a.length;A<e;A++)a[A]=0},enableAttribute:function(A){P(A,0)},enableAttributeAndDivisor:P,disableUnusedAttributes:function(){for(var A=0,e=l.length;A!==e;++A)l[A]!==a[A]&&(c.disableVertexAttribArray(A),l[A]=0)},enable:D,disable:Q,getCompressedTextureFormats:function(){if(null===h&&(h=[],t.get("WEBGL_compressed_texture_pvrtc")||t.get("WEBGL_compressed_texture_s3tc")||t.get("WEBGL_compressed_texture_etc1")||t.get("WEBGL_compressed_texture_astc")))for(var A=c.getParameter(34467),e=0;e<A.length;e++)h.push(A[e]);return h},useProgram:function(A){return u!==A&&(c.useProgram(A),u=A,!0)},setBlending:k,setMaterial:function(A,e){A.side===gA?Q(2884):D(2884);var t=A.side===IA;e&&(t=!t),z(t),A.blending===Y&&!1===A.transparent?k(X):k(A.blending,A.blendEquation,A.blendSrc,A.blendDst,A.blendEquationAlpha,A.blendSrcAlpha,A.blendDstAlpha,A.premultipliedAlpha),o.setFunc(A.depthFunc),o.setTest(A.depthTest),o.setMask(A.depthWrite),n.setMask(A.colorWrite);var i=A.stencilWrite;r.setTest(i),i&&(r.setFunc(A.stencilFunc,A.stencilRef,A.stencilMask),r.setOp(A.stencilFail,A.stencilZFail,A.stencilZPass)),H(A.polygonOffset,A.polygonOffsetFactor,A.polygonOffsetUnits)},setFlipSided:z,setCullFace:V,setLineWidth:function(A){A!==w&&(S&&c.lineWidth(A),w=A)},setPolygonOffset:H,setScissorTest:function(A){A?D(3089):Q(3089)},activeTexture:G,bindTexture:function(A,e){null===F&&G();var t=L[F];void 0===t&&(L[F]=t={type:void 0,texture:void 0}),t.type===A&&t.texture===e||(c.bindTexture(A,e||R[A]),t.type=A,t.texture=e)},compressedTexImage2D:function(){try{c.compressedTexImage2D.apply(c,arguments)}catch(A){console.error("THREE.WebGLState:",A)}},texImage2D:function(){try{c.texImage2D.apply(c,arguments)}catch(A){console.error("THREE.WebGLState:",A)}},texImage3D:function(){try{c.texImage3D.apply(c,arguments)}catch(A){console.error("THREE.WebGLState:",A)}},scissor:function(A){!1===O.equals(A)&&(c.scissor(A.x,A.y,A.z,A.w),O.copy(A))},viewport:function(A){!1===U.equals(A)&&(c.viewport(A.x,A.y,A.z,A.w),U.copy(A))},reset:function(){for(var A=0;A<l.length;A++)1===l[A]&&(c.disableVertexAttribArray(A),l[A]=0);e={},L={},E=b=g=u=F=h=null,n.reset(),o.reset(),r.reset()}}}function pr(f,n,m,v,y,C,l){var c,a={},t="undefined"!=typeof OffscreenCanvas;function d(A,e){return t?new OffscreenCanvas(A,e):document.createElementNS("http://www.w3.org/1999/xhtml","canvas")}function I(A,e,t,i){var n=1;if((i<A.width||i<A.height)&&(n=i/Math.max(A.width,A.height)),n<1||!0===e){if("undefined"!=typeof HTMLImageElement&&A instanceof HTMLImageElement||"undefined"!=typeof HTMLCanvasElement&&A instanceof HTMLCanvasElement||"undefined"!=typeof ImageBitmap&&A instanceof ImageBitmap){var o=e?Fe.floorPowerOfTwo:Math.floor,r=o(n*A.width),a=o(n*A.height);void 0===c&&(c=d(r,a));var s=t?d(r,a):c;return s.width=r,s.height=a,s.getContext("2d").drawImage(A,0,0,r,a),console.warn("THREE.WebGLRenderer: Texture has been resized from ("+A.width+"x"+A.height+") to ("+r+"x"+a+")."),s}return"data"in A&&console.warn("THREE.WebGLRenderer: Image in DataTexture is too big ("+A.width+"x"+A.height+")."),A}return A}function x(A){return Fe.isPowerOfTwo(A.width)&&Fe.isPowerOfTwo(A.height)}function b(A,e){return A.generateMipmaps&&e&&A.minFilter!==N&&A.minFilter!==P}function E(A,e,t,i){f.generateMipmap(A),v.get(e).__maxMipLevel=Math.log(Math.max(t,i))*Math.LOG2E}function w(A,e){if(!y.isWebGL2)return A;var t=A;return 6403===A&&(5126===e&&(t=33326),5131===e&&(t=33325),5121===e&&(t=33321)),6407===A&&(5126===e&&(t=34837),5131===e&&(t=34843),5121===e&&(t=32849)),6408===A&&(5126===e&&(t=34836),5131===e&&(t=34842),5121===e&&(t=32856)),33325===t||33326===t||34842===t||34836===t?n.get("EXT_color_buffer_float"):34843!==t&&34837!==t||console.warn("THREE.WebGLRenderer: Floating point textures with RGB format not supported. Please use RGBA instead."),t}function o(A){return A===N||A===O||A===R?9728:9729}function i(A){var e=A.target;e.removeEventListener("dispose",i),function(A){var e=v.get(A);if(void 0===e.__webglInit)return;f.deleteTexture(e.__webglTexture),v.remove(A)}(e),e.isVideoTexture&&delete a[e.id],l.memory.textures--}function h(A){var e=A.target;e.removeEventListener("dispose",h),function(A){var e=v.get(A),t=v.get(A.texture);if(!A)return;void 0!==t.__webglTexture&&f.deleteTexture(t.__webglTexture);A.depthTexture&&A.depthTexture.dispose();if(A.isWebGLRenderTargetCube)for(var i=0;i<6;i++)f.deleteFramebuffer(e.__webglFramebuffer[i]),e.__webglDepthbuffer&&f.deleteRenderbuffer(e.__webglDepthbuffer[i]);else f.deleteFramebuffer(e.__webglFramebuffer),e.__webglDepthbuffer&&f.deleteRenderbuffer(e.__webglDepthbuffer);v.remove(A.texture),v.remove(A)}(e),l.memory.textures--}var e=0;function r(A,e){var t,i,n,o=v.get(A);if(A.isVideoTexture&&(a[i=(t=A).id]!==(n=l.render.frame)&&(a[i]=n,t.update())),0<A.version&&o.__version!==A.version){var r=A.image;if(void 0===r)console.warn("THREE.WebGLRenderer: Texture marked for update but image is undefined");else{if(!1!==r.complete)return void p(o,A,e);console.warn("THREE.WebGLRenderer: Texture marked for update but image is incomplete")}}m.activeTexture(33984+e),m.bindTexture(3553,o.__webglTexture)}function s(A,e){var t=v.get(A);if(6===A.image.length)if(0<A.version&&t.__version!==A.version){B(t,A),m.activeTexture(33984+e),m.bindTexture(34067,t.__webglTexture),f.pixelStorei(37440,A.flipY);for(var i=A&&A.isCompressedTexture,n=A.image[0]&&A.image[0].isDataTexture,o=[],r=0;r<6;r++)o[r]=i||n?n?A.image[r].image:A.image[r]:I(A.image[r],!1,!0,y.maxCubemapSize);var a=o[0],s=x(a)||y.isWebGL2,l=C.convert(A.format),c=C.convert(A.type),d=w(l,c);M(34067,A,s);for(r=0;r<6;r++)if(i)for(var h,u=o[r].mipmaps,p=0,g=u.length;p<g;p++)h=u[p],A.format!==RA&&A.format!==NA?-1<m.getCompressedTextureFormats().indexOf(l)?m.compressedTexImage2D(34069+r,p,d,h.width,h.height,0,h.data):console.warn("THREE.WebGLRenderer: Attempt to load unsupported compressed texture format in .setTextureCube()"):m.texImage2D(34069+r,p,d,h.width,h.height,0,l,c,h.data);else n?m.texImage2D(34069+r,0,d,o[r].width,o[r].height,0,l,c,o[r].data):m.texImage2D(34069+r,0,d,l,c,o[r]);t.__maxMipLevel=i?u.length-1:0,b(A,s)&&E(34067,A,a.width,a.height),t.__version=A.version,A.onUpdate&&A.onUpdate(A)}else m.activeTexture(33984+e),m.bindTexture(34067,t.__webglTexture)}function u(A,e){m.activeTexture(33984+e),m.bindTexture(34067,v.get(A).__webglTexture)}function M(A,e,t){var i;if(t?(f.texParameteri(A,10242,C.convert(e.wrapS)),f.texParameteri(A,10243,C.convert(e.wrapT)),32879!==A&&35866!==A||f.texParameteri(A,32882,C.convert(e.wrapR)),f.texParameteri(A,10240,C.convert(e.magFilter)),f.texParameteri(A,10241,C.convert(e.minFilter))):(f.texParameteri(A,10242,33071),f.texParameteri(A,10243,33071),32879!==A&&35866!==A||f.texParameteri(A,32882,33071),e.wrapS===L&&e.wrapT===L||console.warn("THREE.WebGLRenderer: Texture is not power of two. Texture.wrapS and Texture.wrapT should be set to THREE.ClampToEdgeWrapping."),f.texParameteri(A,10240,o(e.magFilter)),f.texParameteri(A,10241,o(e.minFilter)),e.minFilter!==N&&e.minFilter!==P&&console.warn("THREE.WebGLRenderer: Texture is not power of two. Texture.minFilter should be set to THREE.NearestFilter or THREE.LinearFilter.")),i=n.get("EXT_texture_filter_anisotropic")){if(e.type===SA&&null===n.get("OES_texture_float_linear"))return;if(e.type===TA&&null===(y.isWebGL2||n.get("OES_texture_half_float_linear")))return;(1<e.anisotropy||v.get(e).__currentAnisotropy)&&(f.texParameterf(A,i.TEXTURE_MAX_ANISOTROPY_EXT,Math.min(e.anisotropy,y.getMaxAnisotropy())),v.get(e).__currentAnisotropy=e.anisotropy)}}function B(A,e){void 0===A.__webglInit&&(A.__webglInit=!0,e.addEventListener("dispose",i),A.__webglTexture=f.createTexture(),l.memory.textures++)}function p(A,e,t){var i=3553;e.isDataTexture2DArray&&(i=35866),e.isDataTexture3D&&(i=32879),B(A,e),m.activeTexture(33984+t),m.bindTexture(i,A.__webglTexture),f.pixelStorei(37440,e.flipY),f.pixelStorei(37441,e.premultiplyAlpha),f.pixelStorei(3317,e.unpackAlignment);var n,o=(n=e,!y.isWebGL2&&(n.wrapS!==L||n.wrapT!==L||n.minFilter!==N&&n.minFilter!==P)&&!1===x(e.image)),r=I(e.image,o,!1,y.maxTextureSize),a=x(r)||y.isWebGL2,s=C.convert(e.format),l=C.convert(e.type),c=w(s,l);M(i,e,a);var d,h=e.mipmaps;if(e.isDepthTexture){if(c=6402,e.type===SA){if(!y.isWebGL2)throw new Error("Float Depth Texture only supported in WebGL2.0");c=36012}else y.isWebGL2&&(c=33189);e.format===kA&&6402===c&&e.type!==D&&e.type!==_A&&(console.warn("THREE.WebGLRenderer: Use UnsignedShortType or UnsignedIntType for DepthFormat DepthTexture."),e.type=D,l=C.convert(e.type)),e.format===zA&&(c=34041,e.type!==OA&&(console.warn("THREE.WebGLRenderer: Use UnsignedInt248Type for DepthStencilFormat DepthTexture."),e.type=OA,l=C.convert(e.type))),m.texImage2D(3553,0,c,r.width,r.height,0,s,l,null)}else if(e.isDataTexture)if(0<h.length&&a){for(var u=0,p=h.length;u<p;u++)m.texImage2D(3553,u,c,(d=h[u]).width,d.height,0,s,l,d.data);e.generateMipmaps=!1,A.__maxMipLevel=h.length-1}else m.texImage2D(3553,0,c,r.width,r.height,0,s,l,r.data),A.__maxMipLevel=0;else if(e.isCompressedTexture){for(u=0,p=h.length;u<p;u++)d=h[u],e.format!==RA&&e.format!==NA?-1<m.getCompressedTextureFormats().indexOf(s)?m.compressedTexImage2D(3553,u,c,d.width,d.height,0,d.data):console.warn("THREE.WebGLRenderer: Attempt to load unsupported compressed texture format in .uploadTexture()"):m.texImage2D(3553,u,c,d.width,d.height,0,s,l,d.data);A.__maxMipLevel=h.length-1}else if(e.isDataTexture2DArray)m.texImage3D(35866,0,c,r.width,r.height,r.depth,0,s,l,r.data),A.__maxMipLevel=0;else if(e.isDataTexture3D)m.texImage3D(32879,0,c,r.width,r.height,r.depth,0,s,l,r.data),A.__maxMipLevel=0;else if(0<h.length&&a){for(u=0,p=h.length;u<p;u++)m.texImage2D(3553,u,c,s,l,d=h[u]);e.generateMipmaps=!1,A.__maxMipLevel=h.length-1}else m.texImage2D(3553,0,c,s,l,r),A.__maxMipLevel=0;b(e,a)&&E(3553,e,r.width,r.height),A.__version=e.version,e.onUpdate&&e.onUpdate(e)}function g(A,e,t,i){var n=C.convert(e.texture.format),o=C.convert(e.texture.type),r=w(n,o);m.texImage2D(i,0,r,e.width,e.height,0,n,o,null),f.bindFramebuffer(36160,A),f.framebufferTexture2D(36160,t,i,v.get(e.texture).__webglTexture,0),f.bindFramebuffer(36160,null)}function _(A,e,t){if(f.bindRenderbuffer(36161,A),e.depthBuffer&&!e.stencilBuffer){if(t){var i=T(e);f.renderbufferStorageMultisample(36161,i,33189,e.width,e.height)}else f.renderbufferStorage(36161,33189,e.width,e.height);f.framebufferRenderbuffer(36160,36096,36161,A)}else if(e.depthBuffer&&e.stencilBuffer){if(t){i=T(e);f.renderbufferStorageMultisample(36161,i,35056,e.width,e.height)}else f.renderbufferStorage(36161,34041,e.width,e.height);f.framebufferRenderbuffer(36160,33306,36161,A)}else{var n=w(C.convert(e.texture.format),C.convert(e.texture.type));if(t){i=T(e);f.renderbufferStorageMultisample(36161,i,n,e.width,e.height)}else f.renderbufferStorage(36161,n,e.width,e.height)}f.bindRenderbuffer(36161,null)}function S(A){var e=v.get(A),t=!0===A.isWebGLRenderTargetCube;if(A.depthTexture){if(t)throw new Error("target.depthTexture not supported in Cube render targets");!function(A,e){if(e&&e.isWebGLRenderTargetCube)throw new Error("Depth Texture with cube render targets is not supported");if(f.bindFramebuffer(36160,A),!e.depthTexture||!e.depthTexture.isDepthTexture)throw new Error("renderTarget.depthTexture must be an instance of THREE.DepthTexture");v.get(e.depthTexture).__webglTexture&&e.depthTexture.image.width===e.width&&e.depthTexture.image.height===e.height||(e.depthTexture.image.width=e.width,e.depthTexture.image.height=e.height,e.depthTexture.needsUpdate=!0),r(e.depthTexture,0);var t=v.get(e.depthTexture).__webglTexture;if(e.depthTexture.format===kA)f.framebufferTexture2D(36160,36096,3553,t,0);else{if(e.depthTexture.format!==zA)throw new Error("Unknown depthTexture format");f.framebufferTexture2D(36160,33306,3553,t,0)}}(e.__webglFramebuffer,A)}else if(t){e.__webglDepthbuffer=[];for(var i=0;i<6;i++)f.bindFramebuffer(36160,e.__webglFramebuffer[i]),e.__webglDepthbuffer[i]=f.createRenderbuffer(),_(e.__webglDepthbuffer[i],A)}else f.bindFramebuffer(36160,e.__webglFramebuffer),e.__webglDepthbuffer=f.createRenderbuffer(),_(e.__webglDepthbuffer,A);f.bindFramebuffer(36160,null)}function T(A){return y.isWebGL2&&A.isWebGLMultisampleRenderTarget?Math.min(y.maxSamples,A.samples):0}var K=!1,F=!1;this.allocateTextureUnit=function(){var A=e;return A<y.maxTextures||console.warn("THREE.WebGLTextures: Trying to use "+A+" texture units while this GPU supports only "+y.maxTextures),e+=1,A},this.resetTextureUnits=function(){e=0},this.setTexture2D=r,this.setTexture2DArray=function(A,e){var t=v.get(A);0<A.version&&t.__version!==A.version?p(t,A,e):(m.activeTexture(33984+e),m.bindTexture(35866,t.__webglTexture))},this.setTexture3D=function(A,e){var t=v.get(A);0<A.version&&t.__version!==A.version?p(t,A,e):(m.activeTexture(33984+e),m.bindTexture(32879,t.__webglTexture))},this.setTextureCube=s,this.setTextureCubeDynamic=u,this.setupRenderTarget=function(A){var e=v.get(A),t=v.get(A.texture);A.addEventListener("dispose",h),t.__webglTexture=f.createTexture(),l.memory.textures++;var i=!0===A.isWebGLRenderTargetCube,n=!0===A.isWebGLMultisampleRenderTarget,o=x(A)||y.isWebGL2;if(i){e.__webglFramebuffer=[];for(var r=0;r<6;r++)e.__webglFramebuffer[r]=f.createFramebuffer()}else if(e.__webglFramebuffer=f.createFramebuffer(),n)if(y.isWebGL2){e.__webglMultisampledFramebuffer=f.createFramebuffer(),e.__webglColorRenderbuffer=f.createRenderbuffer(),f.bindRenderbuffer(36161,e.__webglColorRenderbuffer);var a=w(C.convert(A.texture.format),C.convert(A.texture.type)),s=T(A);f.renderbufferStorageMultisample(36161,s,a,A.width,A.height),f.bindFramebuffer(36160,e.__webglMultisampledFramebuffer),f.framebufferRenderbuffer(36160,36064,36161,e.__webglColorRenderbuffer),f.bindRenderbuffer(36161,null),A.depthBuffer&&(e.__webglDepthRenderbuffer=f.createRenderbuffer(),_(e.__webglDepthRenderbuffer,A,!0)),f.bindFramebuffer(36160,null)}else console.warn("THREE.WebGLRenderer: WebGLMultisampleRenderTarget can only be used with WebGL2.");if(i){for(m.bindTexture(34067,t.__webglTexture),M(34067,A.texture,o),r=0;r<6;r++)g(e.__webglFramebuffer[r],A,36064,34069+r);b(A.texture,o)&&E(34067,A.texture,A.width,A.height),m.bindTexture(34067,null)}else m.bindTexture(3553,t.__webglTexture),M(3553,A.texture,o),g(e.__webglFramebuffer,A,36064,3553),b(A.texture,o)&&E(3553,A.texture,A.width,A.height),m.bindTexture(3553,null);A.depthBuffer&&S(A)},this.updateRenderTargetMipmap=function(A){var e=A.texture;if(b(e,x(A)||y.isWebGL2)){var t=A.isWebGLRenderTargetCube?34067:3553,i=v.get(e).__webglTexture;m.bindTexture(t,i),E(t,e,A.width,A.height),m.bindTexture(t,null)}},this.updateMultisampleRenderTarget=function(A){if(A.isWebGLMultisampleRenderTarget)if(y.isWebGL2){var e=v.get(A);f.bindFramebuffer(36008,e.__webglMultisampledFramebuffer),f.bindFramebuffer(36009,e.__webglFramebuffer);var t=A.width,i=A.height,n=16384;A.depthBuffer&&(n|=256),A.stencilBuffer&&(n|=1024),f.blitFramebuffer(0,0,t,i,0,0,t,i,n,9728)}else console.warn("THREE.WebGLRenderer: WebGLMultisampleRenderTarget can only be used with WebGL2.")},this.safeSetTexture2D=function(A,e){A&&A.isWebGLRenderTarget&&(!1===K&&(console.warn("THREE.WebGLTextures.safeSetTexture2D: don't use render targets as textures. Use their .texture property instead."),K=!0),A=A.texture),r(A,e)},this.safeSetTextureCube=function(A,e){A&&A.isWebGLRenderTargetCube&&(!1===F&&(console.warn("THREE.WebGLTextures.safeSetTextureCube: don't use cube render targets as textures. Use their .texture property instead."),F=!0),A=A.texture),A&&A.isCubeTexture||Array.isArray(A.image)&&6===A.image.length?s(A,e):u(A,e)}}function gr(A,t,i){return{convert:function(A){var e;if(A===B)return 10497;if(A===L)return 33071;if(A===_)return 33648;if(A===N)return 9728;if(A===O)return 9984;if(A===R)return 9986;if(A===P)return 9729;if(A===S)return 9985;if(A===T)return 9987;if(A===BA)return 5121;if(A===KA)return 32819;if(A===FA)return 32820;if(A===LA)return 33635;if(A===K)return 5120;if(A===F)return 5122;if(A===D)return 5123;if(A===Q)return 5124;if(A===_A)return 5125;if(A===SA)return 5126;if(A===TA){if(i.isWebGL2)return 5131;if(null!==(e=t.get("OES_texture_half_float")))return e.HALF_FLOAT_OES}if(A===UA)return 6406;if(A===NA)return 6407;if(A===RA)return 6408;if(A===PA)return 6409;if(A===DA)return 6410;if(A===kA)return 6402;if(A===zA)return 34041;if(A===VA)return 6403;if(A===tA)return 32774;if(A===d)return 32778;if(A===h)return 32779;if(A===g)return 0;if(A===f)return 1;if(A===v)return 768;if(A===y)return 769;if(A===C)return 770;if(A===I)return 771;if(A===x)return 772;if(A===b)return 773;if(A===E)return 774;if(A===w)return 775;if(A===M)return 776;if((A===HA||A===GA||A===jA||A===WA)&&null!==(e=t.get("WEBGL_compressed_texture_s3tc"))){if(A===HA)return e.COMPRESSED_RGB_S3TC_DXT1_EXT;if(A===GA)return e.COMPRESSED_RGBA_S3TC_DXT1_EXT;if(A===jA)return e.COMPRESSED_RGBA_S3TC_DXT3_EXT;if(A===WA)return e.COMPRESSED_RGBA_S3TC_DXT5_EXT}if((A===qA||A===XA||A===YA||A===JA)&&null!==(e=t.get("WEBGL_compressed_texture_pvrtc"))){if(A===qA)return e.COMPRESSED_RGB_PVRTC_4BPPV1_IMG;if(A===XA)return e.COMPRESSED_RGB_PVRTC_2BPPV1_IMG;if(A===YA)return e.COMPRESSED_RGBA_PVRTC_4BPPV1_IMG;if(A===JA)return e.COMPRESSED_RGBA_PVRTC_2BPPV1_IMG}if(A===ZA&&null!==(e=t.get("WEBGL_compressed_texture_etc1")))return e.COMPRESSED_RGB_ETC1_WEBGL;if((A===$A||A===Ae||A===ee||A===te||A===ie||A===ne||A===oe||A===re||A===ae||A===se||A===le||A===ce||A===de||A===he)&&null!==(e=t.get("WEBGL_compressed_texture_astc")))return A;if(A===u||A===p){if(i.isWebGL2){if(A===u)return 32775;if(A===p)return 32776}if(null!==(e=t.get("EXT_blend_minmax"))){if(A===u)return e.MIN_EXT;if(A===p)return e.MAX_EXT}}if(A===OA){if(i.isWebGL2)return 34042;if(null!==(e=t.get("WEBGL_depth_texture")))return e.UNSIGNED_INT_24_8_WEBGL}return 0}}}function fr(){ti.call(this),this.type="Group"}function mr(A){hn.call(this),this.cameras=A||[]}((cr.prototype=Object.create(vi.prototype)).constructor=cr).prototype.isMeshDepthMaterial=!0,cr.prototype.copy=function(A){return vi.prototype.copy.call(this,A),this.depthPacking=A.depthPacking,this.skinning=A.skinning,this.morphTargets=A.morphTargets,this.map=A.map,this.alphaMap=A.alphaMap,this.displacementMap=A.displacementMap,this.displacementScale=A.displacementScale,this.displacementBias=A.displacementBias,this.wireframe=A.wireframe,this.wireframeLinewidth=A.wireframeLinewidth,this},((dr.prototype=Object.create(vi.prototype)).constructor=dr).prototype.isMeshDistanceMaterial=!0,dr.prototype.copy=function(A){return vi.prototype.copy.call(this,A),this.referencePosition.copy(A.referencePosition),this.nearDistance=A.nearDistance,this.farDistance=A.farDistance,this.skinning=A.skinning,this.morphTargets=A.morphTargets,this.map=A.map,this.alphaMap=A.alphaMap,this.displacementMap=A.displacementMap,this.displacementScale=A.displacementScale,this.displacementBias=A.displacementBias,this},fr.prototype=Object.assign(Object.create(ti.prototype),{constructor:fr,isGroup:!0}),mr.prototype=Object.assign(Object.create(hn.prototype),{constructor:mr,isArrayCamera:!0});var vr,yr,Cr,Ir,xr,br,Er,wr,Mr,Br,_r,Sr,Tr,Kr,Fr,Lr,Or=new Ue,Ur=new Ue;function Nr(A,e,t){Or.setFromMatrixPosition(e.matrixWorld),Ur.setFromMatrixPosition(t.matrixWorld);var i=Or.distanceTo(Ur),n=e.projectionMatrix.elements,o=t.projectionMatrix.elements,r=n[14]/(n[10]-1),a=n[14]/(n[10]+1),s=(n[9]+1)/n[5],l=(n[9]-1)/n[5],c=(n[8]-1)/n[0],d=(o[8]+1)/o[0],h=r*c,u=r*d,p=i/(-c+d),g=p*-c;e.matrixWorld.decompose(A.position,A.quaternion,A.scale),A.translateX(g),A.translateZ(p),A.matrixWorld.compose(A.position,A.quaternion,A.scale),A.matrixWorldInverse.getInverse(A.matrixWorld);var f=r+p,m=a+p;A.projectionMatrix.makePerspective(h-g,u+(i-g),s*a/m*f,l*a/m*f,f,m)}function Rr(e){var t,i,n=this,s=null,l=null,c=null,d=[],h=new At,u=new At,o=1,p="local-floor";"undefined"!=typeof window&&"VRFrameData"in window&&(l=new window.VRFrameData,window.addEventListener("vrdisplaypresentchange",A,!1));var g=new At,f=new Oe,m=new Ue,v=new hn;v.viewport=new Je,v.layers.enable(1);var y=new hn;y.viewport=new Je,y.layers.enable(2);var C=new mr([v,y]);function I(){return null!==s&&!0===s.isPresenting}C.layers.enable(1),C.layers.enable(2);var r,a=new Le;function A(){if(I()){var A=s.getEyeParameters("left");t=2*A.renderWidth*o,i=A.renderHeight*o,r=e.getPixelRatio(),e.getSize(a),e.setDrawingBufferSize(t,i,1),v.viewport.set(0,0,t/2,i),y.viewport.set(t/2,0,t/2,i),w.start(),n.dispatchEvent({type:"sessionstart"})}else n.enabled&&e.setDrawingBufferSize(a.width,a.height,r),w.stop(),n.dispatchEvent({type:"sessionend"})}var x=[];function b(A){for(var e=navigator.getGamepads&&navigator.getGamepads(),t=0,i=0,n=e.length;t<n;t++){var o=e[t];if(o&&("Daydream Controller"===o.id||"Gear VR Controller"===o.id||"Oculus Go Controller"===o.id||"OpenVR Gamepad"===o.id||o.id.startsWith("Oculus Touch")||o.id.startsWith("HTC Vive Focus")||o.id.startsWith("Spatial Controller"))){if(i===A)return o;i++}}}function E(A,e){null!==e&&4===e.length&&A.set(e[0]*t,e[1]*i,e[2]*t,e[3]*i)}this.enabled=!1,this.getController=function(A){var e=d[A];return void 0===e&&((e=new fr).matrixAutoUpdate=!1,e.visible=!1,d[A]=e),e},this.getDevice=function(){return s},this.setDevice=function(A){void 0!==A&&(s=A),w.setContext(A)},this.setFramebufferScaleFactor=function(A){o=A},this.setReferenceSpaceType=function(A){p=A},this.setPoseTarget=function(A){void 0!==A&&(c=A)},this.getCamera=function(A){var e="local-floor"===p?1.6:0;if(!1===I())return A.position.set(0,e,0),A.rotation.set(0,0,0),A;if(s.depthNear=A.near,s.depthFar=A.far,s.getFrameData(l),"local-floor"===p){var t=s.stageParameters;t?h.fromArray(t.sittingToStandingTransform):h.makeTranslation(0,e,0)}var i=l.pose,n=null!==c?c:A;n.matrix.copy(h),n.matrix.decompose(n.position,n.quaternion,n.scale),null!==i.orientation&&(f.fromArray(i.orientation),n.quaternion.multiply(f)),null!==i.position&&(f.setFromRotationMatrix(h),m.fromArray(i.position),m.applyQuaternion(f),n.position.add(m)),n.updateMatrixWorld(),v.near=A.near,y.near=A.near,v.far=A.far,y.far=A.far,v.matrixWorldInverse.fromArray(l.leftViewMatrix),y.matrixWorldInverse.fromArray(l.rightViewMatrix),u.getInverse(h),"local-floor"===p&&(v.matrixWorldInverse.multiply(u),y.matrixWorldInverse.multiply(u));var o=n.parent;null!==o&&(g.getInverse(o.matrixWorld),v.matrixWorldInverse.multiply(g),y.matrixWorldInverse.multiply(g)),v.matrixWorld.getInverse(v.matrixWorldInverse),y.matrixWorld.getInverse(y.matrixWorldInverse),v.projectionMatrix.fromArray(l.leftProjectionMatrix),y.projectionMatrix.fromArray(l.rightProjectionMatrix),Nr(C,v,y);var r=s.getLayers();if(r.length){var a=r[0];E(v.viewport,a.leftBounds),E(y.viewport,a.rightBounds)}return function(){for(var A=0;A<d.length;A++){var e=d[A],t=b(A);if(void 0!==t&&void 0!==t.pose){if(null===t.pose)return;var i=t.pose;!1===i.hasPosition&&e.position.set(.2,-.6,-.05),null!==i.position&&e.position.fromArray(i.position),null!==i.orientation&&e.quaternion.fromArray(i.orientation),e.matrix.compose(e.position,e.quaternion,e.scale),e.matrix.premultiply(h),e.matrix.decompose(e.position,e.quaternion,e.scale),e.matrixWorldNeedsUpdate=!0,e.visible=!0;var n="Daydream Controller"===t.id?0:1;void 0===x[A]&&(x[A]=!1),x[A]!==t.buttons[n].pressed&&(x[A]=t.buttons[n].pressed,!0===x[A]?e.dispatchEvent({type:"selectstart"}):(e.dispatchEvent({type:"selectend"}),e.dispatchEvent({type:"select"})))}else e.visible=!1}}(),C},this.getStandingMatrix=function(){return h},this.isPresenting=I;var w=new Sn;this.setAnimationLoop=function(A){w.setAnimationLoop(A),I()&&w.start()},this.submitFrame=function(){I()&&s.submitFrame()},this.dispose=function(){"undefined"!=typeof window&&window.removeEventListener("vrdisplaypresentchange",A)},this.setFrameOfReferenceType=function(){console.warn("THREE.WebVRManager: setFrameOfReferenceType() has been deprecated.")}}function Pr(d,e){var t=this,h=null,u=null,i="local-floor",p=null,g=[],f=[];function r(){return null!==h&&null!==u}var a=new hn;a.layers.enable(1),a.viewport=new Je;var s=new hn;s.layers.enable(2),s.viewport=new Je;var m=new mr([a,s]);function n(A){for(var e=0;e<g.length;e++)f[e]===A.inputSource&&g[e].dispatchEvent({type:A.type})}function o(){d.setFramebuffer(null),d.setRenderTarget(d.getRenderTarget()),y.stop(),t.dispatchEvent({type:"sessionend"})}function l(A){u=A,y.setContext(h),y.start(),t.dispatchEvent({type:"sessionstart"})}function c(A,e){null===e?A.matrixWorld.copy(A.matrix):A.matrixWorld.multiplyMatrices(e.matrixWorld,A.matrix),A.matrixWorldInverse.getInverse(A.matrixWorld)}m.layers.enable(1),m.layers.enable(2),this.enabled=!1,this.getController=function(A){var e=g[A];return void 0===e&&((e=new fr).matrixAutoUpdate=!1,e.visible=!1,g[A]=e),e},this.setFramebufferScaleFactor=function(A){},this.setReferenceSpaceType=function(A){i=A},this.getSession=function(){return h},this.setSession=function(A){null!==(h=A)&&(h.addEventListener("select",n),h.addEventListener("selectstart",n),h.addEventListener("selectend",n),h.addEventListener("end",o),h.updateRenderState({baseLayer:new XRWebGLLayer(h,e)}),h.requestReferenceSpace(i).then(l),f=h.inputSources,h.addEventListener("inputsourceschange",function(){f=h.inputSources,console.log(f);for(var A=0;A<g.length;A++){g[A].userData.inputSource=f[A]}}))},this.getCamera=function(A){if(r()){var e=A.parent,t=m.cameras;c(m,e);for(var i=0;i<t.length;i++)c(t[i],e);A.matrixWorld.copy(m.matrixWorld);for(var n=A.children,o=(i=0,n.length);i<o;i++)n[i].updateMatrixWorld(!0);return Nr(m,a,s),m}return A},this.isPresenting=r;var v=null;var y=new Sn;y.setAnimationLoop(function(A,e){if(null!==(p=e.getViewerPose(u))){var t=p.views,i=h.renderState.baseLayer;d.setFramebuffer(i.framebuffer);for(var n=0;n<t.length;n++){var o=t[n],r=i.getViewport(o),a=m.cameras[n];a.matrix.fromArray(o.transform.inverse.matrix).getInverse(a.matrix),a.projectionMatrix.fromArray(o.projectionMatrix),a.viewport.set(r.x,r.y,r.width,r.height),0===n&&m.matrix.copy(a.matrix)}}for(n=0;n<g.length;n++){var s=g[n],l=f[n];if(l){var c=e.getPose(l.targetRaySpace,u);if(null!==c){s.matrix.fromArray(c.transform.matrix),s.matrix.decompose(s.position,s.rotation,s.scale),s.visible=!0;continue}}s.visible=!1}v&&v(A)}),this.setAnimationLoop=function(A){v=A},this.dispose=function(){},this.getStandingMatrix=function(){return console.warn("THREE.WebXRManager: getStandingMatrix() is no longer needed."),new At},this.getDevice=function(){console.warn("THREE.WebXRManager: getDevice() has been deprecated.")},this.setDevice=function(){console.warn("THREE.WebXRManager: setDevice() has been deprecated.")},this.setFrameOfReferenceType=function(){console.warn("THREE.WebXRManager: setFrameOfReferenceType() has been deprecated.")},this.submitFrame=function(){}}function Dr(A){console.log("THREE.WebGLRenderer","107");var i=void 0!==(A=A||{}).canvas?A.canvas:document.createElementNS("http://www.w3.org/1999/xhtml","canvas"),e=void 0!==A.context?A.context:null,t=void 0!==A.alpha&&A.alpha,n=void 0===A.depth||A.depth,o=void 0===A.stencil||A.stencil,r=void 0!==A.antialias&&A.antialias,a=void 0===A.premultipliedAlpha||A.premultipliedAlpha,s=void 0!==A.preserveDrawingBuffer&&A.preserveDrawingBuffer,l=void 0!==A.powerPreference?A.powerPreference:"default",c=void 0!==A.failIfMajorPerformanceCaveat&&A.failIfMajorPerformanceCaveat,p=null,R=null;this.domElement=i,this.debug={checkShaderErrors:!0},this.autoClear=!0,this.autoClearColor=!0,this.autoClearDepth=!0,this.autoClearStencil=!0,this.sortObjects=!0,this.clippingPlanes=[],this.localClippingEnabled=!1,this.gammaFactor=2,this.gammaInput=!1,this.gammaOutput=!1,this.physicallyCorrectLights=!1,this.toneMapping=xA,this.toneMappingExposure=1,this.toneMappingWhitePoint=1,this.maxMorphTargets=8,this.maxMorphNormals=4;var P,b,D,Q,d,k,z,E,w,g,f,h,u,m,M,B,_,v,V=this,y=!1,C=null,I=0,x=0,S=null,T=null,H=-1,K={geometry:null,program:null,wireframe:!1},G=null,F=null,L=new Je,O=new Je,U=null,N=i.width,j=i.height,W=1,q=new Je(0,0,N,j),X=new Je(0,0,N,j),Y=!1,J=new wn,Z=new Nn,$=!1,AA=!1,eA=new At,tA=new Ue;function iA(){return null===S?W:1}try{var nA={alpha:t,depth:n,stencil:o,antialias:r,premultipliedAlpha:a,preserveDrawingBuffer:s,powerPreference:l,failIfMajorPerformanceCaveat:c,xrCompatible:!0};if(i.addEventListener("webglcontextlost",sA,!1),i.addEventListener("webglcontextrestored",lA,!1),null===(P=e||i.getContext("webgl",nA)||i.getContext("experimental-webgl",nA)))throw null!==i.getContext("webgl")?new Error("Error creating WebGL context with your selected attributes."):new Error("Error creating WebGL context.");void 0===P.getShaderPrecisionFormat&&(P.getShaderPrecisionFormat=function(){return{rangeMin:1,rangeMax:1,precision:1}})}catch(A){throw console.error("THREE.WebGLRenderer: "+A.message),A}function oA(){b=new Rn(P),(D=new Un(P,b,A)).isWebGL2||(b.get("WEBGL_depth_texture"),b.get("OES_texture_float"),b.get("OES_texture_half_float"),b.get("OES_texture_half_float_linear"),b.get("OES_standard_derivatives"),b.get("OES_element_index_uint"),b.get("ANGLE_instanced_arrays")),b.get("OES_texture_float_linear"),v=new gr(P,b,D),(Q=new ur(P,b,v,D)).scissor(O.copy(X).multiplyScalar(W).floor()),Q.viewport(L.copy(q).multiplyScalar(W).floor()),d=new Qn(P),k=new Ar,z=new pr(P,b,Q,k,D,v,d),E=new Tn(P),w=new Pn(P,E,d),g=new Vn(w,d),M=new zn(P),f=new $o(V,b,D),h=new nr,u=new lr,m=new Ln(V,Q,g,a),B=new On(P,b,d,D),_=new Dn(P,b,d,D),d.programs=f.programs,V.capabilities=D,V.extensions=b,V.properties=k,V.renderLists=h,V.state=Q,V.info=d}oA();var rA="undefined"!=typeof navigator&&"xr"in navigator&&"supportsSession"in navigator.xr?new Pr(V,P):new Rr(V);this.vr=rA;var aA=new hr(V,g,D.maxTextureSize);function sA(A){A.preventDefault(),console.log("THREE.WebGLRenderer: Context Lost."),y=!0}function lA(){console.log("THREE.WebGLRenderer: Context Restored."),y=!1,oA()}function cA(A){var e,t=A.target;t.removeEventListener("dispose",cA),dA(e=t),k.remove(e)}function dA(A){var e=k.get(A).program;(A.program=void 0)!==e&&f.releaseProgram(e)}this.shadowMap=aA,this.getContext=function(){return P},this.getContextAttributes=function(){return P.getContextAttributes()},this.forceContextLoss=function(){var A=b.get("WEBGL_lose_context");A&&A.loseContext()},this.forceContextRestore=function(){var A=b.get("WEBGL_lose_context");A&&A.restoreContext()},this.getPixelRatio=function(){return W},this.setPixelRatio=function(A){void 0!==A&&(W=A,this.setSize(N,j,!1))},this.getSize=function(A){return void 0===A&&(console.warn("WebGLRenderer: .getsize() now requires a Vector2 as an argument"),A=new Le),A.set(N,j)},this.setSize=function(A,e,t){rA.isPresenting()?console.warn("THREE.WebGLRenderer: Can't change size while VR device is presenting."):(N=A,j=e,i.width=Math.floor(A*W),i.height=Math.floor(e*W),!1!==t&&(i.style.width=A+"px",i.style.height=e+"px"),this.setViewport(0,0,A,e))},this.getDrawingBufferSize=function(A){return void 0===A&&(console.warn("WebGLRenderer: .getdrawingBufferSize() now requires a Vector2 as an argument"),A=new Le),A.set(N*W,j*W).floor()},this.setDrawingBufferSize=function(A,e,t){N=A,j=e,W=t,i.width=Math.floor(A*t),i.height=Math.floor(e*t),this.setViewport(0,0,A,e)},this.getCurrentViewport=function(A){return void 0===A&&(console.warn("WebGLRenderer: .getCurrentViewport() now requires a Vector4 as an argument"),A=new Je),A.copy(L)},this.getViewport=function(A){return A.copy(q)},this.setViewport=function(A,e,t,i){A.isVector4?q.set(A.x,A.y,A.z,A.w):q.set(A,e,t,i),Q.viewport(L.copy(q).multiplyScalar(W).floor())},this.getScissor=function(A){return A.copy(X)},this.setScissor=function(A,e,t,i){A.isVector4?X.set(A.x,A.y,A.z,A.w):X.set(A,e,t,i),Q.scissor(O.copy(X).multiplyScalar(W).floor())},this.getScissorTest=function(){return Y},this.setScissorTest=function(A){Q.setScissorTest(Y=A)},this.getClearColor=function(){return m.getClearColor()},this.setClearColor=function(){m.setClearColor.apply(m,arguments)},this.getClearAlpha=function(){return m.getClearAlpha()},this.setClearAlpha=function(){m.setClearAlpha.apply(m,arguments)},this.clear=function(A,e,t){var i=0;(void 0===A||A)&&(i|=16384),(void 0===e||e)&&(i|=256),(void 0===t||t)&&(i|=1024),P.clear(i)},this.clearColor=function(){this.clear(!0,!1,!1)},this.clearDepth=function(){this.clear(!1,!0,!1)},this.clearStencil=function(){this.clear(!1,!1,!0)},this.dispose=function(){i.removeEventListener("webglcontextlost",sA,!1),i.removeEventListener("webglcontextrestored",lA,!1),h.dispose(),u.dispose(),k.dispose(),g.dispose(),rA.dispose(),uA.stop()},this.renderBufferImmediate=function(A,e){Q.initAttributes();var t=k.get(A);A.hasPositions&&!t.position&&(t.position=P.createBuffer()),A.hasNormals&&!t.normal&&(t.normal=P.createBuffer()),A.hasUvs&&!t.uv&&(t.uv=P.createBuffer()),A.hasColors&&!t.color&&(t.color=P.createBuffer());var i=e.getAttributes();A.hasPositions&&(P.bindBuffer(34962,t.position),P.bufferData(34962,A.positionArray,35048),Q.enableAttribute(i.position),P.vertexAttribPointer(i.position,3,5126,!1,0,0)),A.hasNormals&&(P.bindBuffer(34962,t.normal),P.bufferData(34962,A.normalArray,35048),Q.enableAttribute(i.normal),P.vertexAttribPointer(i.normal,3,5126,!1,0,0)),A.hasUvs&&(P.bindBuffer(34962,t.uv),P.bufferData(34962,A.uvArray,35048),Q.enableAttribute(i.uv),P.vertexAttribPointer(i.uv,2,5126,!1,0,0)),A.hasColors&&(P.bindBuffer(34962,t.color),P.bufferData(34962,A.colorArray,35048),Q.enableAttribute(i.color),P.vertexAttribPointer(i.color,3,5126,!1,0,0)),Q.disableUnusedAttributes(),P.drawArrays(4,0,A.count),A.count=0},this.renderBufferDirect=function(A,e,t,i,n,o){var r=n.isMesh&&n.matrixWorld.determinant()<0;Q.setMaterial(i,r);var a=mA(A,e,i,n),s=!1;K.geometry===t.id&&K.program===a.id&&K.wireframe===(!0===i.wireframe)||(K.geometry=t.id,K.program=a.id,K.wireframe=!0===i.wireframe,s=!0),n.morphTargetInfluences&&(M.update(n,t,i,a),s=!0);var l,c=t.index,d=t.attributes.position,h=1;!0===i.wireframe&&(c=w.getWireframeAttribute(t),h=2);var u=B;null!==c&&(l=E.get(c),(u=_).setIndex(l)),s&&(!function(A,e,t){if(t&&t.isInstancedBufferGeometry&&!D.isWebGL2&&null===b.get("ANGLE_instanced_arrays"))return console.error("THREE.WebGLRenderer.setupVertexAttributes: using THREE.InstancedBufferGeometry but hardware does not support extension ANGLE_instanced_arrays.");Q.initAttributes();var i=t.attributes,n=e.getAttributes(),o=A.defaultAttributeValues;for(var r in n){var a=n[r];if(0<=a){var s=i[r];if(void 0!==s){var l=s.normalized,c=s.itemSize,d=E.get(s);if(void 0===d)continue;var h=d.buffer,u=d.type,p=d.bytesPerElement;if(s.isInterleavedBufferAttribute){var g=s.data,f=g.stride,m=s.offset;g&&g.isInstancedInterleavedBuffer?(Q.enableAttributeAndDivisor(a,g.meshPerAttribute),void 0===t.maxInstancedCount&&(t.maxInstancedCount=g.meshPerAttribute*g.count)):Q.enableAttribute(a),P.bindBuffer(34962,h),P.vertexAttribPointer(a,c,u,l,f*p,m*p)}else s.isInstancedBufferAttribute?(Q.enableAttributeAndDivisor(a,s.meshPerAttribute),void 0===t.maxInstancedCount&&(t.maxInstancedCount=s.meshPerAttribute*s.count)):Q.enableAttribute(a),P.bindBuffer(34962,h),P.vertexAttribPointer(a,c,u,l,0,0)}else if(void 0!==o){var v=o[r];if(void 0!==v)switch(v.length){case 2:P.vertexAttrib2fv(a,v);break;case 3:P.vertexAttrib3fv(a,v);break;case 4:P.vertexAttrib4fv(a,v);break;default:P.vertexAttrib1fv(a,v)}}}}Q.disableUnusedAttributes()}(i,a,t),null!==c&&P.bindBuffer(34963,l.buffer));var p=1/0;null!==c?p=c.count:void 0!==d&&(p=d.count);var g=t.drawRange.start*h,f=t.drawRange.count*h,m=null!==o?o.start*h:0,v=null!==o?o.count*h:1/0,y=Math.max(g,m),C=Math.min(p,g+f,m+v)-1,I=Math.max(0,C-y+1);if(0!==I){if(n.isMesh)if(!0===i.wireframe)Q.setLineWidth(i.wireframeLinewidth*iA()),u.setMode(1);else switch(n.drawMode){case ve:u.setMode(4);break;case 1:u.setMode(5);break;case 2:u.setMode(6)}else if(n.isLine){var x=i.linewidth;void 0===x&&(x=1),Q.setLineWidth(x*iA()),u.setMode(n.isLineSegments?1:n.isLineLoop?2:3)}else n.isPoints?u.setMode(0):n.isSprite&&u.setMode(4);t&&t.isInstancedBufferGeometry?0<t.maxInstancedCount&&u.renderInstances(t,y,I):u.render(y,I)}},this.compile=function(t,A){(R=u.get(t,A)).init(),t.traverse(function(A){A.isLight&&(R.pushLight(A),A.castShadow&&R.pushShadow(A))}),R.setupLights(A),t.traverse(function(A){if(A.material)if(Array.isArray(A.material))for(var e=0;e<A.material.length;e++)fA(A.material[e],t.fog,A);else fA(A.material,t.fog,A)})};var hA=null;var uA=new Sn;function pA(A,e,t,i){for(var n=0,o=A.length;n<o;n++){var r=A[n],a=r.object,s=r.geometry,l=void 0===i?r.material:i,c=r.group;if(t.isArrayCamera)for(var d=(F=t).cameras,h=0,u=d.length;h<u;h++){var p=d[h];a.layers.test(p.layers)&&(Q.viewport(L.copy(p.viewport)),R.setupLights(p),gA(a,e,p,s,l,c))}else F=null,gA(a,e,t,s,l,c)}}function gA(A,e,t,i,n,o){if(A.onBeforeRender(V,e,t,i,n,o),R=u.get(e,F||t),A.modelViewMatrix.multiplyMatrices(t.matrixWorldInverse,A.matrixWorld),A.normalMatrix.getNormalMatrix(A.modelViewMatrix),A.isImmediateRenderObject){Q.setMaterial(n);var r=mA(t,e.fog,n,A);K.geometry=null,K.program=null,K.wireframe=!1,a=r,A.render(function(A){V.renderBufferImmediate(A,a)})}else V.renderBufferDirect(t,e.fog,i,n,A,o);var a;A.onAfterRender(V,e,t,i,n,o),R=u.get(e,F||t)}function fA(A,e,t){var i=k.get(A),n=R.state.lights,o=n.state.version,r=f.getParameters(A,n.state,R.state.shadowsArray,e,Z.numPlanes,Z.numIntersection,t),a=f.getProgramCode(A,r),s=i.program,l=!0;if(void 0===s)A.addEventListener("dispose",cA);else if(s.code!==a)dA(A);else if(i.lightsStateVersion!==o)i.lightsStateVersion=o,l=!1;else{if(void 0!==r.shaderID)return;l=!1}if(l){if(r.shaderID){var c=_n[r.shaderID];i.shader={name:A.type,uniforms:on(c.uniforms),vertexShader:c.vertexShader,fragmentShader:c.fragmentShader}}else i.shader={name:A.type,uniforms:A.uniforms,vertexShader:A.vertexShader,fragmentShader:A.fragmentShader};A.onBeforeCompile(i.shader,V),a=f.getProgramCode(A,r),s=f.acquireProgram(A,i.shader,r,a),A.program=i.program=s}var d=s.getAttributes();if(A.morphTargets)for(var h=A.numSupportedMorphTargets=0;h<V.maxMorphTargets;h++)d["morphTarget"+h]<0||A.numSupportedMorphTargets++;if(A.morphNormals)for(h=A.numSupportedMorphNormals=0;h<V.maxMorphNormals;h++)d["morphNormal"+h]<0||A.numSupportedMorphNormals++;var u=i.shader.uniforms;(A.isShaderMaterial||A.isRawShaderMaterial)&&!0!==A.clipping||(i.numClippingPlanes=Z.numPlanes,i.numIntersection=Z.numIntersection,u.clippingPlanes=Z.uniform),i.fog=e,i.lightsStateVersion=o,A.lights&&(u.ambientLightColor.value=n.state.ambient,u.lightProbe.value=n.state.probe,u.directionalLights.value=n.state.directional,u.spotLights.value=n.state.spot,u.rectAreaLights.value=n.state.rectArea,u.pointLights.value=n.state.point,u.hemisphereLights.value=n.state.hemi,u.directionalShadowMap.value=n.state.directionalShadowMap,u.directionalShadowMatrix.value=n.state.directionalShadowMatrix,u.spotShadowMap.value=n.state.spotShadowMap,u.spotShadowMatrix.value=n.state.spotShadowMatrix,u.pointShadowMap.value=n.state.pointShadowMap,u.pointShadowMatrix.value=n.state.pointShadowMatrix);var p=i.program.getUniforms(),g=ko.seqWithValue(p.seq,u);i.uniformsList=g}function mA(A,e,t,i){z.resetTextureUnits();var n=k.get(t),o=R.state.lights;$&&((AA||A!==G)&&Z.setState(t.clippingPlanes,t.clipIntersection,t.clipShadows,A,n,A===G&&t.id===H));!1===t.needsUpdate&&(void 0===n.program?t.needsUpdate=!0:t.fog&&n.fog!==e?t.needsUpdate=!0:t.lights&&n.lightsStateVersion!==o.state.version?t.needsUpdate=!0:void 0===n.numClippingPlanes||n.numClippingPlanes===Z.numPlanes&&n.numIntersection===Z.numIntersection||(t.needsUpdate=!0)),t.needsUpdate&&(fA(t,e,i),t.needsUpdate=!1);var r,a,s,l,c,d,h,u,p,g,f,m,v,y,C,I,x,b,E,w,M=!1,B=!1,_=!1,S=n.program,T=S.getUniforms(),K=n.shader.uniforms;if(Q.useProgram(S.program)&&(_=B=M=!0),t.id!==H&&(H=t.id,B=!0),M||G!==A){if(T.setValue(P,"projectionMatrix",A.projectionMatrix),D.logarithmicDepthBuffer&&T.setValue(P,"logDepthBufFC",2/(Math.log(A.far+1)/Math.LN2)),G!==A&&(G=A,_=B=!0),t.isShaderMaterial||t.isMeshPhongMaterial||t.isMeshStandardMaterial||t.envMap){var F=T.map.cameraPosition;void 0!==F&&F.setValue(P,tA.setFromMatrixPosition(A.matrixWorld))}(t.isMeshPhongMaterial||t.isMeshLambertMaterial||t.isMeshBasicMaterial||t.isMeshStandardMaterial||t.isShaderMaterial||t.skinning)&&T.setValue(P,"viewMatrix",A.matrixWorldInverse)}if(t.skinning){T.setOptional(P,i,"bindMatrix"),T.setOptional(P,i,"bindMatrixInverse");var L=i.skeleton;if(L)if(D.floatVertexTextures){if(void 0===L.boneTexture){var O=Math.sqrt(4*L.bones.length);O=Fe.ceilPowerOfTwo(O),O=Math.max(O,4);var U=new Float32Array(O*O*4);U.set(L.boneMatrices);var N=new bn(U,O,O,RA,SA);N.needsUpdate=!0,L.boneMatrices=U,L.boneTexture=N,L.boneTextureSize=O}T.setValue(P,"boneTexture",L.boneTexture,z),T.setValue(P,"boneTextureSize",L.boneTextureSize)}else T.setOptional(P,L,"boneMatrices")}return B&&(T.setValue(P,"toneMappingExposure",V.toneMappingExposure),T.setValue(P,"toneMappingWhitePoint",V.toneMappingWhitePoint),t.lights&&((E=K).ambientLightColor.needsUpdate=w=_,E.lightProbe.needsUpdate=w,E.directionalLights.needsUpdate=w,E.pointLights.needsUpdate=w,E.spotLights.needsUpdate=w,E.rectAreaLights.needsUpdate=w,E.hemisphereLights.needsUpdate=w),e&&t.fog&&((x=K).fogColor.value.copy((b=e).color),b.isFog?(x.fogNear.value=b.near,x.fogFar.value=b.far):b.isFogExp2&&(x.fogDensity.value=b.density)),t.isMeshBasicMaterial?vA(K,t):t.isMeshLambertMaterial?(vA(K,t),C=K,(I=t).emissiveMap&&(C.emissiveMap.value=I.emissiveMap)):t.isMeshPhongMaterial?(vA(K,t),t.isMeshToonMaterial?(yA(v=K,y=t),y.gradientMap&&(v.gradientMap.value=y.gradientMap)):yA(K,t)):t.isMeshStandardMaterial?(vA(K,t),t.isMeshPhysicalMaterial?(CA(f=K,m=t),f.reflectivity.value=m.reflectivity,f.clearCoat.value=m.clearCoat,f.clearCoatRoughness.value=m.clearCoatRoughness):CA(K,t)):t.isMeshMatcapMaterial?(vA(K,t),function(A,e){e.matcap&&(A.matcap.value=e.matcap);e.bumpMap&&(A.bumpMap.value=e.bumpMap,A.bumpScale.value=e.bumpScale,e.side===IA&&(A.bumpScale.value*=-1));e.normalMap&&(A.normalMap.value=e.normalMap,A.normalScale.value.copy(e.normalScale),e.side===IA&&A.normalScale.value.negate());e.displacementMap&&(A.displacementMap.value=e.displacementMap,A.displacementScale.value=e.displacementScale,A.displacementBias.value=e.displacementBias)}(K,t)):t.isMeshDepthMaterial?(vA(K,t),p=K,(g=t).displacementMap&&(p.displacementMap.value=g.displacementMap,p.displacementScale.value=g.displacementScale,p.displacementBias.value=g.displacementBias)):t.isMeshDistanceMaterial?(vA(K,t),function(A,e){e.displacementMap&&(A.displacementMap.value=e.displacementMap,A.displacementScale.value=e.displacementScale,A.displacementBias.value=e.displacementBias);A.referencePosition.value.copy(e.referencePosition),A.nearDistance.value=e.nearDistance,A.farDistance.value=e.farDistance}(K,t)):t.isMeshNormalMaterial?(vA(K,t),function(A,e){e.bumpMap&&(A.bumpMap.value=e.bumpMap,A.bumpScale.value=e.bumpScale,e.side===IA&&(A.bumpScale.value*=-1));e.normalMap&&(A.normalMap.value=e.normalMap,A.normalScale.value.copy(e.normalScale),e.side===IA&&A.normalScale.value.negate());e.displacementMap&&(A.displacementMap.value=e.displacementMap,A.displacementScale.value=e.displacementScale,A.displacementBias.value=e.displacementBias)}(K,t)):t.isLineBasicMaterial?((h=K).diffuse.value.copy((u=t).color),h.opacity.value=u.opacity,t.isLineDashedMaterial&&((c=K).dashSize.value=(d=t).dashSize,c.totalSize.value=d.dashSize+d.gapSize,c.scale.value=d.scale)):t.isPointsMaterial?((s=K).diffuse.value.copy((l=t).color),s.opacity.value=l.opacity,s.size.value=l.size*W,s.scale.value=.5*j,s.map.value=l.map,null!==l.map&&(!0===l.map.matrixAutoUpdate&&l.map.updateMatrix(),s.uvTransform.value.copy(l.map.matrix))):t.isSpriteMaterial?((r=K).diffuse.value.copy((a=t).color),r.opacity.value=a.opacity,r.rotation.value=a.rotation,r.map.value=a.map,null!==a.map&&(!0===a.map.matrixAutoUpdate&&a.map.updateMatrix(),r.uvTransform.value.copy(a.map.matrix))):t.isShadowMaterial&&(K.color.value.copy(t.color),K.opacity.value=t.opacity),void 0!==K.ltc_1&&(K.ltc_1.value=Bn.LTC_1),void 0!==K.ltc_2&&(K.ltc_2.value=Bn.LTC_2),ko.upload(P,n.uniformsList,K,z)),t.isShaderMaterial&&!0===t.uniformsNeedUpdate&&(ko.upload(P,n.uniformsList,K,z),t.uniformsNeedUpdate=!1),t.isSpriteMaterial&&T.setValue(P,"center",i.center),T.setValue(P,"modelViewMatrix",i.modelViewMatrix),T.setValue(P,"normalMatrix",i.normalMatrix),T.setValue(P,"modelMatrix",i.matrixWorld),S}function vA(A,e){var t;A.opacity.value=e.opacity,e.color&&A.diffuse.value.copy(e.color),e.emissive&&A.emissive.value.copy(e.emissive).multiplyScalar(e.emissiveIntensity),e.map&&(A.map.value=e.map),e.alphaMap&&(A.alphaMap.value=e.alphaMap),e.specularMap&&(A.specularMap.value=e.specularMap),e.envMap&&(A.envMap.value=e.envMap,A.flipEnvMap.value=e.envMap.isCubeTexture?-1:1,A.reflectivity.value=e.reflectivity,A.refractionRatio.value=e.refractionRatio,A.maxMipLevel.value=k.get(e.envMap).__maxMipLevel),e.lightMap&&(A.lightMap.value=e.lightMap,A.lightMapIntensity.value=e.lightMapIntensity),e.aoMap&&(A.aoMap.value=e.aoMap,A.aoMapIntensity.value=e.aoMapIntensity),e.map?t=e.map:e.specularMap?t=e.specularMap:e.displacementMap?t=e.displacementMap:e.normalMap?t=e.normalMap:e.bumpMap?t=e.bumpMap:e.roughnessMap?t=e.roughnessMap:e.metalnessMap?t=e.metalnessMap:e.alphaMap?t=e.alphaMap:e.emissiveMap&&(t=e.emissiveMap),void 0!==t&&(t.isWebGLRenderTarget&&(t=t.texture),!0===t.matrixAutoUpdate&&t.updateMatrix(),A.uvTransform.value.copy(t.matrix))}function yA(A,e){A.specular.value.copy(e.specular),A.shininess.value=Math.max(e.shininess,1e-4),e.emissiveMap&&(A.emissiveMap.value=e.emissiveMap),e.bumpMap&&(A.bumpMap.value=e.bumpMap,A.bumpScale.value=e.bumpScale,e.side===IA&&(A.bumpScale.value*=-1)),e.normalMap&&(A.normalMap.value=e.normalMap,A.normalScale.value.copy(e.normalScale),e.side===IA&&A.normalScale.value.negate()),e.displacementMap&&(A.displacementMap.value=e.displacementMap,A.displacementScale.value=e.displacementScale,A.displacementBias.value=e.displacementBias)}function CA(A,e){A.roughness.value=e.roughness,A.metalness.value=e.metalness,e.roughnessMap&&(A.roughnessMap.value=e.roughnessMap),e.metalnessMap&&(A.metalnessMap.value=e.metalnessMap),e.emissiveMap&&(A.emissiveMap.value=e.emissiveMap),e.bumpMap&&(A.bumpMap.value=e.bumpMap,A.bumpScale.value=e.bumpScale,e.side===IA&&(A.bumpScale.value*=-1)),e.normalMap&&(A.normalMap.value=e.normalMap,A.normalScale.value.copy(e.normalScale),e.side===IA&&A.normalScale.value.negate()),e.displacementMap&&(A.displacementMap.value=e.displacementMap,A.displacementScale.value=e.displacementScale,A.displacementBias.value=e.displacementBias),e.envMap&&(A.envMapIntensity.value=e.envMapIntensity)}uA.setAnimationLoop(function(A){rA.isPresenting()||hA&&hA(A)}),"undefined"!=typeof window&&uA.setContext(window),this.setAnimationLoop=function(A){rA.setAnimationLoop(hA=A),uA.start()},this.render=function(A,e){var t,i;if(void 0!==arguments[2]&&(console.warn("THREE.WebGLRenderer.render(): the renderTarget argument has been removed. Use .setRenderTarget() instead."),t=arguments[2]),void 0!==arguments[3]&&(console.warn("THREE.WebGLRenderer.render(): the forceClear argument has been removed. Use .clear() instead."),i=arguments[3]),e&&e.isCamera){if(!y){K.geometry=null,K.program=null,K.wireframe=!1,H=-1,!(G=null)===A.autoUpdate&&A.updateMatrixWorld(),null===e.parent&&e.updateMatrixWorld(),rA.enabled&&(e=rA.getCamera(e)),(R=u.get(A,e)).init(),A.onBeforeRender(V,A,e,t||S),eA.multiplyMatrices(e.projectionMatrix,e.matrixWorldInverse),J.setFromMatrix(eA),$=Z.init(this.clippingPlanes,AA=this.localClippingEnabled,e),(p=h.get(A,e)).init(),function A(e,t,i,n){if(!1===e.visible)return;var o=e.layers.test(t.layers);if(o)if(e.isGroup)i=e.renderOrder;else if(e.isLOD)!0===e.autoUpdate&&e.update(t);else if(e.isLight)R.pushLight(e),e.castShadow&&R.pushShadow(e);else if(e.isSprite){if(!e.frustumCulled||J.intersectsSprite(e)){n&&tA.setFromMatrixPosition(e.matrixWorld).applyMatrix4(eA);var r=g.update(e),a=e.material;a.visible&&p.push(e,r,a,i,tA.z,null)}}else if(e.isImmediateRenderObject)n&&tA.setFromMatrixPosition(e.matrixWorld).applyMatrix4(eA),p.push(e,null,e.material,i,tA.z,null);else if((e.isMesh||e.isLine||e.isPoints)&&(e.isSkinnedMesh&&e.skeleton.update(),!e.frustumCulled||J.intersectsObject(e))){n&&tA.setFromMatrixPosition(e.matrixWorld).applyMatrix4(eA);var r=g.update(e),a=e.material;if(Array.isArray(a))for(var s=r.groups,l=0,c=s.length;l<c;l++){var d=s[l],h=a[d.materialIndex];h&&h.visible&&p.push(e,r,h,i,tA.z,d)}else a.visible&&p.push(e,r,a,i,tA.z,null)}var u=e.children;for(var l=0,c=u.length;l<c;l++)A(u[l],t,i,n)}(A,e,0,V.sortObjects),!0===V.sortObjects&&p.sort(),$&&Z.beginShadows(),aA.render(R.state.shadowsArray,A,e),R.setupLights(e),$&&Z.endShadows(),this.info.autoReset&&this.info.reset(),void 0!==t&&this.setRenderTarget(t),m.render(p,A,e,i);var n=p.opaque,o=p.transparent;if(A.overrideMaterial){var r=A.overrideMaterial;n.length&&pA(n,A,e,r),o.length&&pA(o,A,e,r)}else n.length&&pA(n,A,e),o.length&&pA(o,A,e);A.onAfterRender(V,A,e),null!==S&&(z.updateRenderTargetMipmap(S),z.updateMultisampleRenderTarget(S)),Q.buffers.depth.setTest(!0),Q.buffers.depth.setMask(!0),Q.buffers.color.setMask(!0),Q.setPolygonOffset(!1),rA.enabled&&rA.submitFrame(),R=p=null}}else console.error("THREE.WebGLRenderer.render: camera is not an instance of THREE.Camera.")},this.setFramebuffer=function(A){C!==A&&P.bindFramebuffer(36160,A),C=A},this.getActiveCubeFace=function(){return I},this.getActiveMipmapLevel=function(){return x},this.getRenderTarget=function(){return S},this.setRenderTarget=function(A,e,t){I=e,x=t,(S=A)&&void 0===k.get(A).__webglFramebuffer&&z.setupRenderTarget(A);var i=C,n=!1;if(A){var o=k.get(A).__webglFramebuffer;A.isWebGLRenderTargetCube?(i=o[e||0],n=!0):i=A.isWebGLMultisampleRenderTarget?k.get(A).__webglMultisampledFramebuffer:o,L.copy(A.viewport),O.copy(A.scissor),U=A.scissorTest}else L.copy(q).multiplyScalar(W).floor(),O.copy(X).multiplyScalar(W).floor(),U=Y;if(T!==i&&(P.bindFramebuffer(36160,i),T=i),Q.viewport(L),Q.scissor(O),Q.setScissorTest(U),n){var r=k.get(A.texture);P.framebufferTexture2D(36160,36064,34069+(e||0),r.__webglTexture,t||0)}},this.readRenderTargetPixels=function(A,e,t,i,n,o,r){if(A&&A.isWebGLRenderTarget){var a=k.get(A).__webglFramebuffer;if(A.isWebGLRenderTargetCube&&void 0!==r&&(a=a[r]),a){var s=!1;a!==T&&(P.bindFramebuffer(36160,a),s=!0);try{var l=A.texture,c=l.format,d=l.type;if(c!==RA&&v.convert(c)!==P.getParameter(35739))return void console.error("THREE.WebGLRenderer.readRenderTargetPixels: renderTarget is not in RGBA or implementation defined format.");if(!(d===BA||v.convert(d)===P.getParameter(35738)||d===SA&&(D.isWebGL2||b.get("OES_texture_float")||b.get("WEBGL_color_buffer_float"))||d===TA&&b.get(D.isWebGL2?"EXT_color_buffer_float":"EXT_color_buffer_half_float")))return void console.error("THREE.WebGLRenderer.readRenderTargetPixels: renderTarget is not in UnsignedByteType or implementation defined type.");36053===P.checkFramebufferStatus(36160)?e<0||A.width-i<e||t<0||A.height-n<t||P.readPixels(e,t,i,n,v.convert(c),v.convert(d),o):console.error("THREE.WebGLRenderer.readRenderTargetPixels: readPixels from renderTarget failed. Framebuffer not complete.")}finally{s&&P.bindFramebuffer(36160,T)}}}else console.error("THREE.WebGLRenderer.readRenderTargetPixels: renderTarget is not THREE.WebGLRenderTarget.")},this.copyFramebufferToTexture=function(A,e,t){var i=e.image.width,n=e.image.height,o=v.convert(e.format);z.setTexture2D(e,0),P.copyTexImage2D(3553,t||0,o,A.x,A.y,i,n,0)},this.copyTextureToTexture=function(A,e,t,i){var n=e.image.width,o=e.image.height,r=v.convert(t.format),a=v.convert(t.type);z.setTexture2D(t,0),e.isDataTexture?P.texSubImage2D(3553,i||0,A.x,A.y,n,o,r,a,e.image.data):P.texSubImage2D(3553,i||0,A.x,A.y,r,a,e.image)},"undefined"!=typeof __THREE_DEVTOOLS__&&__THREE_DEVTOOLS__.dispatchEvent(new CustomEvent("observe",{detail:this}))}function Qr(A,e){this.name="",this.color=new hi(A),this.density=void 0!==e?e:25e-5}function kr(A,e,t){this.name="",this.color=new hi(A),this.near=void 0!==e?e:1,this.far=void 0!==t?t:1e3}function zr(A,e){this.array=A,this.stride=e,this.count=void 0!==A?A.length/e:0,this.dynamic=!1,this.updateRange={offset:0,count:-1},this.version=0}function Vr(A,e,t,i){this.data=A,this.itemSize=e,this.offset=t,this.normalized=!0===i}function Hr(A){vi.call(this),this.type="SpriteMaterial",this.color=new hi(16777215),this.map=null,this.rotation=0,this.sizeAttenuation=!0,this.lights=!1,this.transparent=!0,this.setValues(A)}function Gr(A){if(ti.call(this),this.type="Sprite",void 0===vr){vr=new Gi;var e=new zr(new Float32Array([-.5,-.5,0,0,0,.5,-.5,0,1,0,.5,.5,0,1,1,-.5,.5,0,0,1]),5);vr.setIndex([0,1,2,0,2,3]),vr.addAttribute("position",new Vr(e,3,0,!1)),vr.addAttribute("uv",new Vr(e,2,3,!1))}this.geometry=vr,this.material=void 0!==A?A:new Hr,this.center=new Le(.5,.5)}function jr(){ti.call(this),this.type="LOD",Object.defineProperties(this,{levels:{enumerable:!0,value:[]}}),this.autoUpdate=!0}function Wr(A,e){A&&A.isGeometry&&console.error("THREE.SkinnedMesh no longer supports THREE.Geometry. Use THREE.BufferGeometry instead."),ji.call(this,A,e),this.type="SkinnedMesh",this.bindMode="attached",this.bindMatrix=new At,this.bindMatrixInverse=new At}function qr(A,e){if(this.bones=(A=A||[]).slice(0),this.boneMatrices=new Float32Array(16*this.bones.length),void 0===e)this.calculateInverses();else if(this.bones.length===e.length)this.boneInverses=e.slice(0);else{console.warn("THREE.Skeleton boneInverses is the wrong length."),this.boneInverses=[];for(var t=0,i=this.bones.length;t<i;t++)this.boneInverses.push(new At)}}function Xr(){ti.call(this),this.type="Bone"}function Yr(A){vi.call(this),this.type="LineBasicMaterial",this.color=new hi(16777215),this.linewidth=1,this.linecap="round",this.linejoin="round",this.lights=!1,this.setValues(A)}function Jr(A,e,t){1===t&&console.error("THREE.Line: parameter THREE.LinePieces no longer supported. Use THREE.LineSegments instead."),ti.call(this),this.type="Line",this.geometry=void 0!==A?A:new Gi,this.material=void 0!==e?e:new Yr({color:16777215*Math.random()})}function Zr(A,e){Jr.call(this,A,e),this.type="LineSegments"}function $r(A,e){Jr.call(this,A,e),this.type="LineLoop"}function Aa(A){vi.call(this),this.type="PointsMaterial",this.color=new hi(16777215),this.map=null,this.size=1,this.sizeAttenuation=!0,this.morphTargets=!1,this.lights=!1,this.setValues(A)}function ea(A,e){ti.call(this),this.type="Points",this.geometry=void 0!==A?A:new Gi,this.material=void 0!==e?e:new Aa({color:16777215*Math.random()}),this.updateMorphTargets()}function ta(A,e,t,i,n,o,r,a,s){Ye.call(this,A,e,t,i,n,o,r,a,s),this.format=void 0!==r?r:NA,this.minFilter=void 0!==o?o:P,this.magFilter=void 0!==n?n:P,this.generateMipmaps=!1}function ia(A,e,t,i,n,o,r,a,s,l,c,d){Ye.call(this,null,o,r,a,s,l,i,n,c,d),this.image={width:e,height:t},this.mipmaps=A,this.flipY=!1,this.generateMipmaps=!1}function na(A,e,t,i,n,o,r,a,s){Ye.call(this,A,e,t,i,n,o,r,a,s),this.needsUpdate=!0}function oa(A,e,t,i,n,o,r,a,s,l){if((l=void 0!==l?l:kA)!==kA&&l!==zA)throw new Error("DepthTexture format must be either THREE.DepthFormat or THREE.DepthStencilFormat");void 0===t&&l===kA&&(t=D),void 0===t&&l===zA&&(t=OA),Ye.call(this,null,i,n,o,r,a,l,t,s),this.image={width:A,height:e},this.magFilter=void 0!==r?r:N,this.minFilter=void 0!==a?a:N,this.flipY=!1,this.generateMipmaps=!1}function ra(A){Gi.call(this),this.type="WireframeGeometry";var e,t,i,n,o,r,a,s,l,c,d=[],h=[0,0],u={},p=["a","b","c"];if(A&&A.isGeometry){var g=A.faces;for(e=0,i=g.length;e<i;e++){var f=g[e];for(t=0;t<3;t++)a=f[p[t]],s=f[p[(t+1)%3]],h[0]=Math.min(a,s),h[1]=Math.max(a,s),void 0===u[l=h[0]+","+h[1]]&&(u[l]={index1:h[0],index2:h[1]})}for(l in u)d.push((c=A.vertices[(r=u[l]).index1]).x,c.y,c.z),d.push((c=A.vertices[r.index2]).x,c.y,c.z)}else if(A&&A.isBufferGeometry){var m,v,y,C;if(c=new Ue,null!==A.index){for(m=A.attributes.position,v=A.index,0===(y=A.groups).length&&(y=[{start:0,count:v.count,materialIndex:0}]),n=0,o=y.length;n<o;++n)for(i=(e=(C=y[n]).start)+C.count;e<i;e+=3)for(t=0;t<3;t++)a=v.getX(e+t),s=v.getX(e+(t+1)%3),h[0]=Math.min(a,s),h[1]=Math.max(a,s),void 0===u[l=h[0]+","+h[1]]&&(u[l]={index1:h[0],index2:h[1]});for(l in u)c.fromBufferAttribute(m,(r=u[l]).index1),d.push(c.x,c.y,c.z),c.fromBufferAttribute(m,r.index2),d.push(c.x,c.y,c.z)}else for(e=0,i=(m=A.attributes.position).count/3;e<i;e++)for(t=0;t<3;t++)c.fromBufferAttribute(m,3*e+t),d.push(c.x,c.y,c.z),c.fromBufferAttribute(m,3*e+(t+1)%3),d.push(c.x,c.y,c.z)}this.addAttribute("position",new _i(d,3))}function aa(A,e,t){en.call(this),this.type="ParametricGeometry",this.parameters={func:A,slices:e,stacks:t},this.fromBufferGeometry(new sa(A,e,t)),this.mergeVertices()}function sa(A,e,t){Gi.call(this),this.type="ParametricBufferGeometry",this.parameters={func:A,slices:e,stacks:t};var i,n,o=[],r=[],a=[],s=[],l=new Ue,c=new Ue,d=new Ue,h=new Ue,u=new Ue;A.length<3&&console.error("THREE.ParametricGeometry: Function must now modify a Vector3 as third parameter.");var p=e+1;for(i=0;i<=t;i++){var g=i/t;for(n=0;n<=e;n++){var f=n/e;A(f,g,c),r.push(c.x,c.y,c.z),f-1e-5<0?(A(f+1e-5,g,d),h.subVectors(d,c)):(A(f-1e-5,g,d),h.subVectors(c,d)),g-1e-5<0?(A(f,g+1e-5,d),u.subVectors(d,c)):(A(f,g-1e-5,d),u.subVectors(c,d)),l.crossVectors(h,u).normalize(),a.push(l.x,l.y,l.z),s.push(f,g)}}for(i=0;i<t;i++)for(n=0;n<e;n++){var m=i*p+n+1,v=(i+1)*p+n+1,y=(i+1)*p+n;o.push(i*p+n,m,y),o.push(m,v,y)}this.setIndex(o),this.addAttribute("position",new _i(r,3)),this.addAttribute("normal",new _i(a,3)),this.addAttribute("uv",new _i(s,2))}function la(A,e,t,i){en.call(this),this.type="PolyhedronGeometry",this.parameters={vertices:A,indices:e,radius:t,detail:i},this.fromBufferGeometry(new ca(A,e,t,i)),this.mergeVertices()}function ca(i,o,A,e){Gi.call(this),this.type="PolyhedronBufferGeometry",this.parameters={vertices:i,indices:o,radius:A,detail:e},A=A||1;var c=[],d=[];function r(A,e,t,i){var n,o,r=Math.pow(2,i),a=[];for(n=0;n<=r;n++){a[n]=[];var s=A.clone().lerp(t,n/r),l=e.clone().lerp(t,n/r),c=r-n;for(o=0;o<=c;o++)a[n][o]=0===o&&n===r?s:s.clone().lerp(l,o/c)}for(n=0;n<r;n++)for(o=0;o<2*(r-n)-1;o++){var d=Math.floor(o/2);o%2==0?(h(a[n][d+1]),h(a[n+1][d]),h(a[n][d])):(h(a[n][d+1]),h(a[n+1][d+1]),h(a[n+1][d]))}}function h(A){c.push(A.x,A.y,A.z)}function a(A,e){var t=3*A;e.x=i[t+0],e.y=i[t+1],e.z=i[t+2]}function u(A,e,t,i){i<0&&1===A.x&&(d[e]=A.x-1),0===t.x&&0===t.z&&(d[e]=i/2/Math.PI+.5)}function p(A){return Math.atan2(A.z,-A.x)}!function(A){for(var e=new Ue,t=new Ue,i=new Ue,n=0;n<o.length;n+=3)a(o[n+0],e),a(o[n+1],t),a(o[n+2],i),r(e,t,i,A)}(e=e||0),function(A){for(var e=new Ue,t=0;t<c.length;t+=3)e.x=c[t+0],e.y=c[t+1],e.z=c[t+2],e.normalize().multiplyScalar(A),c[t+0]=e.x,c[t+1]=e.y,c[t+2]=e.z}(A),function(){for(var A=new Ue,e=0;e<c.length;e+=3){A.x=c[e+0],A.y=c[e+1],A.z=c[e+2];var t=p(A)/2/Math.PI+.5,i=(n=A,Math.atan2(-n.y,Math.sqrt(n.x*n.x+n.z*n.z))/Math.PI+.5);d.push(t,1-i)}var n;(function(){for(var A=new Ue,e=new Ue,t=new Ue,i=new Ue,n=new Le,o=new Le,r=new Le,a=0,s=0;a<c.length;a+=9,s+=6){A.set(c[a+0],c[a+1],c[a+2]),e.set(c[a+3],c[a+4],c[a+5]),t.set(c[a+6],c[a+7],c[a+8]),n.set(d[s+0],d[s+1]),o.set(d[s+2],d[s+3]),r.set(d[s+4],d[s+5]),i.copy(A).add(e).add(t).divideScalar(3);var l=p(i);u(n,s+0,A,l),u(o,s+2,e,l),u(r,s+4,t,l)}})(),function(){for(var A=0;A<d.length;A+=6){var e=d[A+0],t=d[A+2],i=d[A+4],n=Math.max(e,t,i),o=Math.min(e,t,i);.9<n&&o<.1&&(e<.2&&(d[A+0]+=1),t<.2&&(d[A+2]+=1),i<.2&&(d[A+4]+=1))}}()}(),this.addAttribute("position",new _i(c,3)),this.addAttribute("normal",new _i(c.slice(),3)),this.addAttribute("uv",new _i(d,2)),0===e?this.computeVertexNormals():this.normalizeNormals()}function da(A,e){en.call(this),this.type="TetrahedronGeometry",this.parameters={radius:A,detail:e},this.fromBufferGeometry(new ha(A,e)),this.mergeVertices()}function ha(A,e){ca.call(this,[1,1,1,-1,-1,1,-1,1,-1,1,-1,-1],[2,1,0,0,3,2,1,3,0,2,3,1],A,e),this.type="TetrahedronBufferGeometry",this.parameters={radius:A,detail:e}}function ua(A,e){en.call(this),this.type="OctahedronGeometry",this.parameters={radius:A,detail:e},this.fromBufferGeometry(new pa(A,e)),this.mergeVertices()}function pa(A,e){ca.call(this,[1,0,0,-1,0,0,0,1,0,0,-1,0,0,0,1,0,0,-1],[0,2,4,0,4,3,0,3,5,0,5,2,1,2,5,1,5,3,1,3,4,1,4,2],A,e),this.type="OctahedronBufferGeometry",this.parameters={radius:A,detail:e}}function ga(A,e){en.call(this),this.type="IcosahedronGeometry",this.parameters={radius:A,detail:e},this.fromBufferGeometry(new fa(A,e)),this.mergeVertices()}function fa(A,e){var t=(1+Math.sqrt(5))/2;ca.call(this,[-1,t,0,1,t,0,-1,-t,0,1,-t,0,0,-1,t,0,1,t,0,-1,-t,0,1,-t,t,0,-1,t,0,1,-t,0,-1,-t,0,1],[0,11,5,0,5,1,0,1,7,0,7,10,0,10,11,1,5,9,5,11,4,11,10,2,10,7,6,7,1,8,3,9,4,3,4,2,3,2,6,3,6,8,3,8,9,4,9,5,2,4,11,6,2,10,8,6,7,9,8,1],A,e),this.type="IcosahedronBufferGeometry",this.parameters={radius:A,detail:e}}function ma(A,e){en.call(this),this.type="DodecahedronGeometry",this.parameters={radius:A,detail:e},this.fromBufferGeometry(new va(A,e)),this.mergeVertices()}function va(A,e){var t=(1+Math.sqrt(5))/2,i=1/t;ca.call(this,[-1,-1,-1,-1,-1,1,-1,1,-1,-1,1,1,1,-1,-1,1,-1,1,1,1,-1,1,1,1,0,-i,-t,0,-i,t,0,i,-t,0,i,t,-i,-t,0,-i,t,0,i,-t,0,i,t,0,-t,0,-i,t,0,-i,-t,0,i,t,0,i],[3,11,7,3,7,15,3,15,13,7,19,17,7,17,6,7,6,15,17,4,8,17,8,10,17,10,6,8,0,16,8,16,2,8,2,10,0,12,1,0,1,18,0,18,16,6,10,2,6,2,13,6,13,15,2,16,18,2,18,3,2,3,13,18,1,9,18,9,11,18,11,3,4,14,12,4,12,0,4,0,8,11,9,5,11,5,19,11,19,7,19,5,14,19,14,4,19,4,17,1,12,14,1,14,5,1,5,9],A,e),this.type="DodecahedronBufferGeometry",this.parameters={radius:A,detail:e}}function ya(A,e,t,i,n,o){en.call(this),this.type="TubeGeometry",this.parameters={path:A,tubularSegments:e,radius:t,radialSegments:i,closed:n},void 0!==o&&console.warn("THREE.TubeGeometry: taper has been removed.");var r=new Ca(A,e,t,i,n);this.tangents=r.tangents,this.normals=r.normals,this.binormals=r.binormals,this.fromBufferGeometry(r),this.mergeVertices()}function Ca(r,a,s,l,A){Gi.call(this),this.type="TubeBufferGeometry",this.parameters={path:r,tubularSegments:a,radius:s,radialSegments:l,closed:A},s=s||1,l=l||8;var c=r.computeFrenetFrames(a=a||64,A=A||!1);this.tangents=c.tangents,this.normals=c.normals,this.binormals=c.binormals;var n,d,h=new Ue,u=new Ue,e=new Le,p=new Ue,g=[],f=[],t=[],o=[];function i(A){p=r.getPointAt(A/a,p);var e=c.normals[A],t=c.binormals[A];for(d=0;d<=l;d++){var i=d/l*Math.PI*2,n=Math.sin(i),o=-Math.cos(i);u.x=o*e.x+n*t.x,u.y=o*e.y+n*t.y,u.z=o*e.z+n*t.z,u.normalize(),f.push(u.x,u.y,u.z),h.x=p.x+s*u.x,h.y=p.y+s*u.y,h.z=p.z+s*u.z,g.push(h.x,h.y,h.z)}}!function(){for(n=0;n<a;n++)i(n);i(!1===A?a:0),function(){for(n=0;n<=a;n++)for(d=0;d<=l;d++)e.x=n/a,e.y=d/l,t.push(e.x,e.y)}(),function(){for(d=1;d<=a;d++)for(n=1;n<=l;n++){var A=(l+1)*(d-1)+(n-1),e=(l+1)*d+(n-1),t=(l+1)*d+n,i=(l+1)*(d-1)+n;o.push(A,e,i),o.push(e,t,i)}}()}(),this.setIndex(o),this.addAttribute("position",new _i(g,3)),this.addAttribute("normal",new _i(f,3)),this.addAttribute("uv",new _i(t,2))}function Ia(A,e,t,i,n,o,r){en.call(this),this.type="TorusKnotGeometry",this.parameters={radius:A,tube:e,tubularSegments:t,radialSegments:i,p:n,q:o},void 0!==r&&console.warn("THREE.TorusKnotGeometry: heightScale has been deprecated. Use .scale( x, y, z ) instead."),this.fromBufferGeometry(new xa(A,e,t,i,n,o)),this.mergeVertices()}function xa(A,e,t,i,n,o){Gi.call(this),this.type="TorusKnotBufferGeometry",this.parameters={radius:A,tube:e,tubularSegments:t,radialSegments:i,p:n,q:o},A=A||1,e=e||.4,t=Math.floor(t)||64,i=Math.floor(i)||8,n=n||2,o=o||3;var r,a,s=[],l=[],c=[],d=[],h=new Ue,u=new Ue,p=new Ue,g=new Ue,f=new Ue,m=new Ue,v=new Ue;for(r=0;r<=t;++r){var y=r/t*n*Math.PI*2;for(M(y,n,o,A,p),M(y+.01,n,o,A,g),m.subVectors(g,p),v.addVectors(g,p),f.crossVectors(m,v),v.crossVectors(f,m),f.normalize(),v.normalize(),a=0;a<=i;++a){var C=a/i*Math.PI*2,I=-e*Math.cos(C),x=e*Math.sin(C);h.x=p.x+(I*v.x+x*f.x),h.y=p.y+(I*v.y+x*f.y),h.z=p.z+(I*v.z+x*f.z),l.push(h.x,h.y,h.z),u.subVectors(h,p).normalize(),c.push(u.x,u.y,u.z),d.push(r/t),d.push(a/i)}}for(a=1;a<=t;a++)for(r=1;r<=i;r++){var b=(i+1)*a+(r-1),E=(i+1)*a+r,w=(i+1)*(a-1)+r;s.push((i+1)*(a-1)+(r-1),b,w),s.push(b,E,w)}function M(A,e,t,i,n){var o=Math.cos(A),r=Math.sin(A),a=t/e*A,s=Math.cos(a);n.x=i*(2+s)*.5*o,n.y=i*(2+s)*r*.5,n.z=i*Math.sin(a)*.5}this.setIndex(s),this.addAttribute("position",new _i(l,3)),this.addAttribute("normal",new _i(c,3)),this.addAttribute("uv",new _i(d,2))}function ba(A,e,t,i,n){en.call(this),this.type="TorusGeometry",this.parameters={radius:A,tube:e,radialSegments:t,tubularSegments:i,arc:n},this.fromBufferGeometry(new Ea(A,e,t,i,n)),this.mergeVertices()}function Ea(A,e,t,i,n){Gi.call(this),this.type="TorusBufferGeometry",this.parameters={radius:A,tube:e,radialSegments:t,tubularSegments:i,arc:n},A=A||1,e=e||.4,t=Math.floor(t)||8,i=Math.floor(i)||6,n=n||2*Math.PI;var o,r,a=[],s=[],l=[],c=[],d=new Ue,h=new Ue,u=new Ue;for(o=0;o<=t;o++)for(r=0;r<=i;r++){var p=r/i*n,g=o/t*Math.PI*2;h.x=(A+e*Math.cos(g))*Math.cos(p),h.y=(A+e*Math.cos(g))*Math.sin(p),h.z=e*Math.sin(g),s.push(h.x,h.y,h.z),d.x=A*Math.cos(p),d.y=A*Math.sin(p),u.subVectors(h,d).normalize(),l.push(u.x,u.y,u.z),c.push(r/i),c.push(o/t)}for(o=1;o<=t;o++)for(r=1;r<=i;r++){var f=(i+1)*(o-1)+r-1,m=(i+1)*(o-1)+r,v=(i+1)*o+r;a.push((i+1)*o+r-1,f,v),a.push(f,m,v)}this.setIndex(a),this.addAttribute("position",new _i(s,3)),this.addAttribute("normal",new _i(l,3)),this.addAttribute("uv",new _i(c,2))}Object.assign(Rr.prototype,t.prototype),Object.assign(Pr.prototype,t.prototype),Object.assign(Qr.prototype,{isFogExp2:!0,clone:function(){return new Qr(this.color,this.density)},toJSON:function(){return{type:"FogExp2",color:this.color.getHex(),density:this.density}}}),Object.assign(kr.prototype,{isFog:!0,clone:function(){return new kr(this.color,this.near,this.far)},toJSON:function(){return{type:"Fog",color:this.color.getHex(),near:this.near,far:this.far}}}),Object.defineProperty(zr.prototype,"needsUpdate",{set:function(A){!0===A&&this.version++}}),Object.assign(zr.prototype,{isInterleavedBuffer:!0,onUploadCallback:function(){},setArray:function(A){if(Array.isArray(A))throw new TypeError("THREE.BufferAttribute: array should be a Typed Array.");return this.count=void 0!==A?A.length/this.stride:0,this.array=A,this},setDynamic:function(A){return this.dynamic=A,this},copy:function(A){return this.array=new A.array.constructor(A.array),this.count=A.count,this.stride=A.stride,this.dynamic=A.dynamic,this},copyAt:function(A,e,t){A*=this.stride,t*=e.stride;for(var i=0,n=this.stride;i<n;i++)this.array[A+i]=e.array[t+i];return this},set:function(A,e){return void 0===e&&(e=0),this.array.set(A,e),this},clone:function(){return(new this.constructor).copy(this)},onUpload:function(A){return this.onUploadCallback=A,this}}),Object.defineProperties(Vr.prototype,{count:{get:function(){return this.data.count}},array:{get:function(){return this.data.array}}}),Object.assign(Vr.prototype,{isInterleavedBufferAttribute:!0,setX:function(A,e){return this.data.array[A*this.data.stride+this.offset]=e,this},setY:function(A,e){return this.data.array[A*this.data.stride+this.offset+1]=e,this},setZ:function(A,e){return this.data.array[A*this.data.stride+this.offset+2]=e,this},setW:function(A,e){return this.data.array[A*this.data.stride+this.offset+3]=e,this},getX:function(A){return this.data.array[A*this.data.stride+this.offset]},getY:function(A){return this.data.array[A*this.data.stride+this.offset+1]},getZ:function(A){return this.data.array[A*this.data.stride+this.offset+2]},getW:function(A){return this.data.array[A*this.data.stride+this.offset+3]},setXY:function(A,e,t){return this.data.array[(A=A*this.data.stride+this.offset)+0]=e,this.data.array[A+1]=t,this},setXYZ:function(A,e,t,i){return this.data.array[(A=A*this.data.stride+this.offset)+0]=e,this.data.array[A+1]=t,this.data.array[A+2]=i,this},setXYZW:function(A,e,t,i,n){return this.data.array[(A=A*this.data.stride+this.offset)+0]=e,this.data.array[A+1]=t,this.data.array[A+2]=i,this.data.array[A+3]=n,this}}),((Hr.prototype=Object.create(vi.prototype)).constructor=Hr).prototype.isSpriteMaterial=!0,Hr.prototype.copy=function(A){return vi.prototype.copy.call(this,A),this.color.copy(A.color),this.map=A.map,this.rotation=A.rotation,this.sizeAttenuation=A.sizeAttenuation,this},Gr.prototype=Object.assign(Object.create(ti.prototype),{constructor:Gr,isSprite:!0,raycast:function(){var s=new Ue,l=new Ue,c=new Ue,r=new Le,a=new Le,d=new At,h=new Ue,u=new Ue,p=new Ue,g=new Le,f=new Le,m=new Le;function v(A,e,t,i,n,o){r.subVectors(A,t).addScalar(.5).multiply(i),void 0!==n?(a.x=o*r.x-n*r.y,a.y=n*r.x+o*r.y):a.copy(r),A.copy(e),A.x+=a.x,A.y+=a.y,A.applyMatrix4(d)}return function(A,e){l.setFromMatrixScale(this.matrixWorld),d.copy(A._camera.matrixWorld),this.modelViewMatrix.multiplyMatrices(A._camera.matrixWorldInverse,this.matrixWorld),c.setFromMatrixPosition(this.modelViewMatrix),A._camera.isPerspectiveCamera&&!1===this.material.sizeAttenuation&&l.multiplyScalar(-c.z);var t,i,n=this.material.rotation;0!==n&&(i=Math.cos(n),t=Math.sin(n));var o=this.center;v(h.set(-.5,-.5,0),c,o,l,t,i),v(u.set(.5,-.5,0),c,o,l,t,i),v(p.set(.5,.5,0),c,o,l,t,i),g.set(0,0),f.set(1,0),m.set(1,1);var r=A.ray.intersectTriangle(h,u,p,!1,s);if(null!==r||(v(u.set(-.5,.5,0),c,o,l,t,i),f.set(0,1),null!==(r=A.ray.intersectTriangle(h,p,u,!1,s)))){var a=A.ray.origin.distanceTo(s);a<A.near||A.far<a||e.push({distance:a,point:s.clone(),uv:ai.getUV(s,h,u,p,g,f,m,new Le),face:null,object:this})}}}(),clone:function(){return new this.constructor(this.material).copy(this)},copy:function(A){return ti.prototype.copy.call(this,A),void 0!==A.center&&this.center.copy(A.center),this}}),jr.prototype=Object.assign(Object.create(ti.prototype),{constructor:jr,isLOD:!0,copy:function(A){ti.prototype.copy.call(this,A,!1);for(var e=A.levels,t=0,i=e.length;t<i;t++){var n=e[t];this.addLevel(n.object.clone(),n.distance)}return this},addLevel:function(A,e){void 0===e&&(e=0),e=Math.abs(e);for(var t=this.levels,i=0;i<t.length&&e>=t[i].distance;i++);return t.splice(i,0,{distance:e,object:A}),this.add(A),this},getObjectForDistance:function(A){for(var e=this.levels,t=1,i=e.length;t<i&&A>=e[t].distance;t++);return e[t-1].object},raycast:(Ir=new Ue,function(A,e){Ir.setFromMatrixPosition(this.matrixWorld);var t=A.ray.origin.distanceTo(Ir);this.getObjectForDistance(t).raycast(A,e)}),update:(yr=new Ue,Cr=new Ue,function(A){var e=this.levels;if(1<e.length){yr.setFromMatrixPosition(A.matrixWorld),Cr.setFromMatrixPosition(this.matrixWorld);var t=yr.distanceTo(Cr);e[0].object.visible=!0;for(var i=1,n=e.length;i<n&&e[i].distance<=t;i++)e[i-1].object.visible=!1,e[i].object.visible=!0;for(;i<n;i++)e[i].object.visible=!1}}),toJSON:function(A){var e=ti.prototype.toJSON.call(this,A);e.object.levels=[];for(var t=this.levels,i=0,n=t.length;i<n;i++){var o=t[i];e.object.levels.push({object:o.object.uuid,distance:o.distance})}return e}}),Wr.prototype=Object.assign(Object.create(ji.prototype),{constructor:Wr,isSkinnedMesh:!0,bind:function(A,e){this.skeleton=A,void 0===e&&(this.updateMatrixWorld(!0),this.skeleton.calculateInverses(),e=this.matrixWorld),this.bindMatrix.copy(e),this.bindMatrixInverse.getInverse(e)},pose:function(){this.skeleton.pose()},normalizeSkinWeights:function(){for(var A=new Je,e=this.geometry.attributes.skinWeight,t=0,i=e.count;t<i;t++){A.x=e.getX(t),A.y=e.getY(t),A.z=e.getZ(t),A.w=e.getW(t);var n=1/A.manhattanLength();n!==1/0?A.multiplyScalar(n):A.set(1,0,0,0),e.setXYZW(t,A.x,A.y,A.z,A.w)}},updateMatrixWorld:function(A){ji.prototype.updateMatrixWorld.call(this,A),"attached"===this.bindMode?this.bindMatrixInverse.getInverse(this.matrixWorld):"detached"===this.bindMode?this.bindMatrixInverse.getInverse(this.bindMatrix):console.warn("THREE.SkinnedMesh: Unrecognized bindMode: "+this.bindMode)},clone:function(){return new this.constructor(this.geometry,this.material).copy(this)}}),Object.assign(qr.prototype,{calculateInverses:function(){this.boneInverses=[];for(var A=0,e=this.bones.length;A<e;A++){var t=new At;this.bones[A]&&t.getInverse(this.bones[A].matrixWorld),this.boneInverses.push(t)}},pose:function(){var A,e,t;for(e=0,t=this.bones.length;e<t;e++)(A=this.bones[e])&&A.matrixWorld.getInverse(this.boneInverses[e]);for(e=0,t=this.bones.length;e<t;e++)(A=this.bones[e])&&(A.parent&&A.parent.isBone?(A.matrix.getInverse(A.parent.matrixWorld),A.matrix.multiply(A.matrixWorld)):A.matrix.copy(A.matrixWorld),A.matrix.decompose(A.position,A.quaternion,A.scale))},update:(xr=new At,br=new At,function(){for(var A=this.bones,e=this.boneInverses,t=this.boneMatrices,i=this.boneTexture,n=0,o=A.length;n<o;n++)xr.multiplyMatrices(A[n]?A[n].matrixWorld:br,e[n]),xr.toArray(t,16*n);void 0!==i&&(i.needsUpdate=!0)}),clone:function(){return new qr(this.bones,this.boneInverses)},getBoneByName:function(A){for(var e=0,t=this.bones.length;e<t;e++){var i=this.bones[e];if(i.name===A)return i}}}),Xr.prototype=Object.assign(Object.create(ti.prototype),{constructor:Xr,isBone:!0}),((Yr.prototype=Object.create(vi.prototype)).constructor=Yr).prototype.isLineBasicMaterial=!0,Yr.prototype.copy=function(A){return vi.prototype.copy.call(this,A),this.color.copy(A.color),this.linewidth=A.linewidth,this.linecap=A.linecap,this.linejoin=A.linejoin,this},Jr.prototype=Object.assign(Object.create(ti.prototype),{constructor:Jr,isLine:!0,computeLineDistances:(Br=new Ue,_r=new Ue,function(){var A=this.geometry;if(A.isBufferGeometry)if(null===A.index){for(var e=A.attributes.position,t=[0],i=1,n=e.count;i<n;i++)Br.fromBufferAttribute(e,i-1),_r.fromBufferAttribute(e,i),t[i]=t[i-1],t[i]+=Br.distanceTo(_r);A.addAttribute("lineDistance",new _i(t,1))}else console.warn("THREE.Line.computeLineDistances(): Computation only possible with non-indexed BufferGeometry.");else if(A.isGeometry){var o=A.vertices;for((t=A.lineDistances)[0]=0,i=1,n=o.length;i<n;i++)t[i]=t[i-1],t[i]+=o[i-1].distanceTo(o[i])}return this}),raycast:(Er=new At,wr=new ri,Mr=new oi,function(A,e){var t=A.linePrecision,i=this.geometry,n=this.matrixWorld;if(null===i.boundingSphere&&i.computeBoundingSphere(),Mr.copy(i.boundingSphere),Mr.applyMatrix4(n),Mr.radius+=t,!1!==A.ray.intersectsSphere(Mr)){Er.getInverse(n),wr.copy(A.ray).applyMatrix4(Er);var o=t/((this.scale.x+this.scale.y+this.scale.z)/3),r=o*o,a=new Ue,s=new Ue,l=new Ue,c=new Ue,d=this&&this.isLineSegments?2:1;if(i.isBufferGeometry){var h=i.index,u=i.attributes.position.array;if(null!==h)for(var p=h.array,g=0,f=p.length-1;g<f;g+=d){var m=p[g+1];a.fromArray(u,3*p[g]),s.fromArray(u,3*m),wr.distanceSqToSegment(a,s,c,l)>r||(c.applyMatrix4(this.matrixWorld),(C=A.ray.origin.distanceTo(c))<A.near||A.far<C||e.push({distance:C,point:l.clone().applyMatrix4(this.matrixWorld),index:g,face:null,faceIndex:null,object:this}))}else for(g=0,f=u.length/3-1;g<f;g+=d)a.fromArray(u,3*g),s.fromArray(u,3*g+3),wr.distanceSqToSegment(a,s,c,l)>r||(c.applyMatrix4(this.matrixWorld),(C=A.ray.origin.distanceTo(c))<A.near||A.far<C||e.push({distance:C,point:l.clone().applyMatrix4(this.matrixWorld),index:g,face:null,faceIndex:null,object:this}))}else if(i.isGeometry){var v=i.vertices,y=v.length;for(g=0;g<y-1;g+=d){var C;wr.distanceSqToSegment(v[g],v[g+1],c,l)>r||(c.applyMatrix4(this.matrixWorld),(C=A.ray.origin.distanceTo(c))<A.near||A.far<C||e.push({distance:C,point:l.clone().applyMatrix4(this.matrixWorld),index:g,face:null,faceIndex:null,object:this}))}}}}),clone:function(){return new this.constructor(this.geometry,this.material).copy(this)}}),Zr.prototype=Object.assign(Object.create(Jr.prototype),{constructor:Zr,isLineSegments:!0,computeLineDistances:(Sr=new Ue,Tr=new Ue,function(){var A=this.geometry;if(A.isBufferGeometry)if(null===A.index){for(var e=A.attributes.position,t=[],i=0,n=e.count;i<n;i+=2)Sr.fromBufferAttribute(e,i),Tr.fromBufferAttribute(e,i+1),t[i]=0===i?0:t[i-1],t[i+1]=t[i]+Sr.distanceTo(Tr);A.addAttribute("lineDistance",new _i(t,1))}else console.warn("THREE.LineSegments.computeLineDistances(): Computation only possible with non-indexed BufferGeometry.");else if(A.isGeometry){var o=A.vertices;for(t=A.lineDistances,i=0,n=o.length;i<n;i+=2)Sr.copy(o[i]),Tr.copy(o[i+1]),t[i]=0===i?0:t[i-1],t[i+1]=t[i]+Sr.distanceTo(Tr)}return this})}),$r.prototype=Object.assign(Object.create(Jr.prototype),{constructor:$r,isLineLoop:!0}),((Aa.prototype=Object.create(vi.prototype)).constructor=Aa).prototype.isPointsMaterial=!0,Aa.prototype.copy=function(A){return vi.prototype.copy.call(this,A),this.color.copy(A.color),this.map=A.map,this.size=A.size,this.sizeAttenuation=A.sizeAttenuation,this.morphTargets=A.morphTargets,this},ea.prototype=Object.assign(Object.create(ti.prototype),{constructor:ea,isPoints:!0,raycast:(Kr=new At,Fr=new ri,Lr=new oi,function(n,o){var r=this,A=this.geometry,a=this.matrixWorld,e=n.params.Points.threshold;if(null===A.boundingSphere&&A.computeBoundingSphere(),Lr.copy(A.boundingSphere),Lr.applyMatrix4(a),Lr.radius+=e,!1!==n.ray.intersectsSphere(Lr)){Kr.getInverse(a),Fr.copy(n.ray).applyMatrix4(Kr);var t=e/((this.scale.x+this.scale.y+this.scale.z)/3),s=t*t,i=new Ue,l=new Ue;if(A.isBufferGeometry){var c=A.index,d=A.attributes.position.array;if(null!==c)for(var h=c.array,u=0,p=h.length;u<p;u++){var g=h[u];i.fromArray(d,3*g),v(i,g)}else{u=0;for(var f=d.length/3;u<f;u++)i.fromArray(d,3*u),v(i,u)}}else{var m=A.vertices;for(u=0,f=m.length;u<f;u++)v(m[u],u)}}function v(A,e){var t=Fr.distanceSqToPoint(A);if(t<s){Fr.closestPointToPoint(A,l),l.applyMatrix4(a);var i=n.ray.origin.distanceTo(l);if(i<n.near||n.far<i)return;o.push({distance:i,distanceToRay:Math.sqrt(t),point:l.clone(),index:e,face:null,object:r})}}}),updateMorphTargets:function(){var A,e,t,i=this.geometry;if(i.isBufferGeometry){var n=i.morphAttributes,o=Object.keys(n);if(0<o.length){var r=n[o[0]];if(void 0!==r)for(this.morphTargetInfluences=[],this.morphTargetDictionary={},A=0,e=r.length;A<e;A++)t=r[A].name||String(A),this.morphTargetInfluences.push(0),this.morphTargetDictionary[t]=A}}else{var a=i.morphTargets;void 0!==a&&0<a.length&&console.error("THREE.Points.updateMorphTargets() does not support THREE.Geometry. Use THREE.BufferGeometry instead.")}},clone:function(){return new this.constructor(this.geometry,this.material).copy(this)}}),ta.prototype=Object.assign(Object.create(Ye.prototype),{constructor:ta,isVideoTexture:!0,update:function(){var A=this.image;A.readyState<A.HAVE_CURRENT_DATA||(this.needsUpdate=!0)}}),((ia.prototype=Object.create(Ye.prototype)).constructor=ia).prototype.isCompressedTexture=!0,((na.prototype=Object.create(Ye.prototype)).constructor=na).prototype.isCanvasTexture=!0,((oa.prototype=Object.create(Ye.prototype)).constructor=oa).prototype.isDepthTexture=!0,(ra.prototype=Object.create(Gi.prototype)).constructor=ra,(aa.prototype=Object.create(en.prototype)).constructor=aa,(sa.prototype=Object.create(Gi.prototype)).constructor=sa,(la.prototype=Object.create(en.prototype)).constructor=la,(ca.prototype=Object.create(Gi.prototype)).constructor=ca,(da.prototype=Object.create(en.prototype)).constructor=da,(ha.prototype=Object.create(ca.prototype)).constructor=ha,(ua.prototype=Object.create(en.prototype)).constructor=ua,(pa.prototype=Object.create(ca.prototype)).constructor=pa,(ga.prototype=Object.create(en.prototype)).constructor=ga,(fa.prototype=Object.create(ca.prototype)).constructor=fa,(ma.prototype=Object.create(en.prototype)).constructor=ma,(va.prototype=Object.create(ca.prototype)).constructor=va,(ya.prototype=Object.create(en.prototype)).constructor=ya,((Ca.prototype=Object.create(Gi.prototype)).constructor=Ca).prototype.toJSON=function(){var A=Gi.prototype.toJSON.call(this);return A.path=this.parameters.path.toJSON(),A},(Ia.prototype=Object.create(en.prototype)).constructor=Ia,(xa.prototype=Object.create(Gi.prototype)).constructor=xa,(ba.prototype=Object.create(en.prototype)).constructor=ba,(Ea.prototype=Object.create(Gi.prototype)).constructor=Ea;var wa=function(A,e,t){t=t||2;var i,n,o,r,a,s,l,c=e&&e.length,d=c?e[0]*t:A.length,h=Ma(A,0,d,t,!0),u=[];if(!h||h.next===h.prev)return u;if(c&&(h=function(A,e,t,i){var n,o,r,a=[];for(n=0,o=e.length;n<o;n++)(r=Ma(A,e[n]*i,n<o-1?e[n+1]*i:A.length,i,!1))===r.next&&(r.steiner=!0),a.push(Na(r));for(a.sort(La),n=0;n<a.length;n++)Oa(a[n],t),t=Ba(t,t.next);return t}(A,e,h,t)),80*t<A.length){i=o=A[0],n=r=A[1];for(var p=t;p<d;p+=t)(a=A[p])<i&&(i=a),(s=A[p+1])<n&&(n=s),o<a&&(o=a),r<s&&(r=s);l=0!==(l=Math.max(o-i,r-n))?1/l:0}return _a(h,u,t,i,n,l),u};function Ma(A,e,t,i,n){var o,r;if(n===0<function(A,e,t,i){for(var n=0,o=e,r=t-i;o<t;o+=i)n+=(A[r]-A[o])*(A[o+1]+A[r+1]),r=o;return n}(A,e,t,i))for(o=e;o<t;o+=i)r=Va(o,A[o],A[o+1],r);else for(o=t-i;e<=o;o-=i)r=Va(o,A[o],A[o+1],r);return r&&Da(r,r.next)&&(Ha(r),r=r.next),r}function Ba(A,e){if(!A)return A;e||(e=A);var t,i=A;do{if(t=!1,i.steiner||!Da(i,i.next)&&0!==Pa(i.prev,i,i.next))i=i.next;else{if(Ha(i),(i=e=i.prev)===i.next)break;t=!0}}while(t||i!==e);return e}function _a(A,e,t,i,n,o,r){if(A){!r&&o&&function(A,e,t,i){var n=A;for(;null===n.z&&(n.z=Ua(n.x,n.y,e,t,i)),n.prevZ=n.prev,n.nextZ=n.next,n=n.next,n!==A;);n.prevZ.nextZ=null,n.prevZ=null,function(A){var e,t,i,n,o,r,a,s,l=1;do{for(t=A,o=A=null,r=0;t;){for(r++,i=t,e=a=0;e<l&&(a++,i=i.nextZ);e++);for(s=l;0<a||0<s&&i;)0===a||0!==s&&i&&i.z<t.z?(i=(n=i).nextZ,s--):(t=(n=t).nextZ,a--),o?o.nextZ=n:A=n,n.prevZ=o,o=n;t=i}o.nextZ=null,l*=2}while(1<r)}(n)}(A,i,n,o);for(var a,s,l=A;A.prev!==A.next;)if(a=A.prev,s=A.next,o?Ta(A,i,n,o):Sa(A))e.push(a.i/t),e.push(A.i/t),e.push(s.i/t),Ha(A),l=A=s.next;else if((A=s)===l){r?1===r?_a(A=Ka(A,e,t),e,t,i,n,o,2):2===r&&Fa(A,e,t,i,n,o):_a(Ba(A),e,t,i,n,o,1);break}}}function Sa(A){var e=A.prev,t=A,i=A.next;if(0<=Pa(e,t,i))return!1;for(var n=A.next.next;n!==A.prev;){if(Ra(e.x,e.y,t.x,t.y,i.x,i.y,n.x,n.y)&&0<=Pa(n.prev,n,n.next))return!1;n=n.next}return!0}function Ta(A,e,t,i){var n=A.prev,o=A,r=A.next;if(0<=Pa(n,o,r))return!1;for(var a=o.x<n.x?r.x<n.x?n.x:r.x:r.x<o.x?o.x:r.x,s=o.y<n.y?r.y<n.y?n.y:r.y:r.y<o.y?o.y:r.y,l=Ua(n.x<o.x?n.x<r.x?n.x:r.x:o.x<r.x?o.x:r.x,n.y<o.y?n.y<r.y?n.y:r.y:o.y<r.y?o.y:r.y,e,t,i),c=Ua(a,s,e,t,i),d=A.prevZ,h=A.nextZ;d&&l<=d.z&&h&&h.z<=c;){if(d!==A.prev&&d!==A.next&&Ra(n.x,n.y,o.x,o.y,r.x,r.y,d.x,d.y)&&0<=Pa(d.prev,d,d.next))return!1;if(d=d.prevZ,h!==A.prev&&h!==A.next&&Ra(n.x,n.y,o.x,o.y,r.x,r.y,h.x,h.y)&&0<=Pa(h.prev,h,h.next))return!1;h=h.nextZ}for(;d&&l<=d.z;){if(d!==A.prev&&d!==A.next&&Ra(n.x,n.y,o.x,o.y,r.x,r.y,d.x,d.y)&&0<=Pa(d.prev,d,d.next))return!1;d=d.prevZ}for(;h&&h.z<=c;){if(h!==A.prev&&h!==A.next&&Ra(n.x,n.y,o.x,o.y,r.x,r.y,h.x,h.y)&&0<=Pa(h.prev,h,h.next))return!1;h=h.nextZ}return!0}function Ka(A,e,t){var i=A;do{var n=i.prev,o=i.next.next;!Da(n,o)&&Qa(n,i,i.next,o)&&ka(n,o)&&ka(o,n)&&(e.push(n.i/t),e.push(i.i/t),e.push(o.i/t),Ha(i),Ha(i.next),i=A=o),i=i.next}while(i!==A);return i}function Fa(A,e,t,i,n,o){var r,a,s=A;do{for(var l=s.next.next;l!==s.prev;){if(s.i!==l.i&&((r=s).next.i!==(a=l).i&&r.prev.i!==a.i&&!function(A,e){var t=A;do{if(t.i!==A.i&&t.next.i!==A.i&&t.i!==e.i&&t.next.i!==e.i&&Qa(t,t.next,A,e))return!0;t=t.next}while(t!==A);return!1}(r,a)&&ka(r,a)&&ka(a,r)&&function(A,e){var t=A,i=!1,n=(A.x+e.x)/2,o=(A.y+e.y)/2;for(;o<t.y!=o<t.next.y&&t.next.y!==t.y&&n<(t.next.x-t.x)*(o-t.y)/(t.next.y-t.y)+t.x&&(i=!i),t=t.next,t!==A;);return i}(r,a))){var c=za(s,l);return s=Ba(s,s.next),c=Ba(c,c.next),_a(s,e,t,i,n,o),void _a(c,e,t,i,n,o)}l=l.next}s=s.next}while(s!==A)}function La(A,e){return A.x-e.x}function Oa(A,e){if(e=function(A,e){var t,i=e,n=A.x,o=A.y,r=-1/0;do{if(o<=i.y&&i.next.y<=o&&i.next.y!==i.y){var a=i.x+(o-i.y)*(i.next.x-i.x)/(i.next.y-i.y);if(a<=n&&r<a){if((r=a)===n){if(o===i.y)return i;if(o===i.next.y)return i.next}t=i.x<i.next.x?i:i.next}}i=i.next}while(i!==e);if(!t)return null;if(n===r)return t.prev;var s,l=t,c=t.x,d=t.y,h=1/0;i=t.next;for(;i!==l;)n<i.x||i.x<c||n===i.x||!Ra(o<d?n:r,o,c,d,o<d?r:n,o,i.x,i.y)||((s=Math.abs(o-i.y)/(n-i.x))<h||s===h&&t.x<i.x)&&ka(i,A)&&(t=i,h=s),i=i.next;return t}(A,e)){var t=za(e,A);Ba(t,t.next)}}function Ua(A,e,t,i,n){return(A=1431655765&((A=858993459&((A=252645135&((A=16711935&((A=32767*(A-t)*n)|A<<8))|A<<4))|A<<2))|A<<1))|(e=1431655765&((e=858993459&((e=252645135&((e=16711935&((e=32767*(e-i)*n)|e<<8))|e<<4))|e<<2))|e<<1))<<1}function Na(A){for(var e=A,t=A;(e.x<t.x||e.x===t.x&&e.y<t.y)&&(t=e),(e=e.next)!==A;);return t}function Ra(A,e,t,i,n,o,r,a){return 0<=(n-r)*(e-a)-(A-r)*(o-a)&&0<=(A-r)*(i-a)-(t-r)*(e-a)&&0<=(t-r)*(o-a)-(n-r)*(i-a)}function Pa(A,e,t){return(e.y-A.y)*(t.x-e.x)-(e.x-A.x)*(t.y-e.y)}function Da(A,e){return A.x===e.x&&A.y===e.y}function Qa(A,e,t,i){return!!(Da(A,t)&&Da(e,i)||Da(A,i)&&Da(t,e))||0<Pa(A,e,t)!=0<Pa(A,e,i)&&0<Pa(t,i,A)!=0<Pa(t,i,e)}function ka(A,e){return Pa(A.prev,A,A.next)<0?0<=Pa(A,e,A.next)&&0<=Pa(A,A.prev,e):Pa(A,e,A.prev)<0||Pa(A,A.next,e)<0}function za(A,e){var t=new Ga(A.i,A.x,A.y),i=new Ga(e.i,e.x,e.y),n=A.next,o=e.prev;return(A.next=e).prev=A,(o.next=(i.next=(t.next=n).prev=t).prev=i).prev=o,i}function Va(A,e,t,i){var n=new Ga(A,e,t);return i?(n.next=i.next,(n.prev=i).next.prev=n,i.next=n):(n.prev=n).next=n,n}function Ha(A){A.next.prev=A.prev,A.prev.next=A.next,A.prevZ&&(A.prevZ.nextZ=A.nextZ),A.nextZ&&(A.nextZ.prevZ=A.prevZ)}function Ga(A,e,t){this.i=A,this.x=e,this.y=t,this.prev=null,this.next=null,this.z=null,this.prevZ=null,this.nextZ=null,this.steiner=!1}var ja={area:function(A){for(var e=A.length,t=0,i=e-1,n=0;n<e;i=n++)t+=A[i].x*A[n].y-A[n].x*A[i].y;return.5*t},isClockWise:function(A){return ja.area(A)<0},triangulateShape:function(A,e){var t=[],i=[],n=[];Wa(A),qa(t,A);var o=A.length;e.forEach(Wa);for(var r=0;r<e.length;r++)i.push(o),o+=e[r].length,qa(t,e[r]);var a=wa(t,i);for(r=0;r<a.length;r+=3)n.push(a.slice(r,r+3));return n}};function Wa(A){var e=A.length;2<e&&A[e-1].equals(A[0])&&A.pop()}function qa(A,e){for(var t=0;t<e.length;t++)A.push(e[t].x),A.push(e[t].y)}function Xa(A,e){en.call(this),this.type="ExtrudeGeometry",this.parameters={shapes:A,options:e},this.fromBufferGeometry(new Ya(A,e)),this.mergeVertices()}function Ya(A,J){Gi.call(this),this.type="ExtrudeBufferGeometry",this.parameters={shapes:A,options:J},A=Array.isArray(A)?A:[A];for(var Z=this,$=[],AA=[],e=0,t=A.length;e<t;e++){i(A[e])}function i(A){var i=[],e=void 0!==J.curveSegments?J.curveSegments:12,s=void 0!==J.steps?J.steps:1,t=void 0!==J.depth?J.depth:100,n=void 0===J.bevelEnabled||J.bevelEnabled,o=void 0!==J.bevelThickness?J.bevelThickness:6,r=void 0!==J.bevelSize?J.bevelSize:o-2,a=void 0!==J.bevelOffset?J.bevelOffset:0,l=void 0!==J.bevelSegments?J.bevelSegments:3,c=J.extrudePath,d=void 0!==J.UVGenerator?J.UVGenerator:Ja;void 0!==J.amount&&(console.warn("THREE.ExtrudeBufferGeometry: amount has been renamed to depth."),t=J.amount);var h,u,p,g,f,m,v,y,C=!1;c&&(h=c.getSpacedPoints(s),u=c.computeFrenetFrames(s,n=!(C=!0)),p=new Ue,g=new Ue,f=new Ue),n||(a=r=o=l=0);var I=A.extractPoints(e),x=I.shape,b=I.holes;if(!ja.isClockWise(x))for(x=x.reverse(),v=0,y=b.length;v<y;v++)ja.isClockWise(m=b[v])&&(b[v]=m.reverse());var E=ja.triangulateShape(x,b),w=x;for(v=0,y=b.length;v<y;v++)x=x.concat(m=b[v]);function M(A,e,t){return e||console.error("THREE.ExtrudeGeometry: vec does not exist"),e.clone().multiplyScalar(t).add(A)}var B,_,S,T,K,F,L=x.length,O=E.length;function U(A,e,t){var i,n,o,r=A.x-e.x,a=A.y-e.y,s=t.x-A.x,l=t.y-A.y,c=r*r+a*a;if(Math.abs(r*l-a*s)>Number.EPSILON){var d=Math.sqrt(c),h=Math.sqrt(s*s+l*l),u=e.x-a/d,p=e.y+r/d,g=((t.x-l/h-u)*l-(t.y+s/h-p)*s)/(r*l-a*s),f=(i=u+r*g-A.x)*i+(n=p+a*g-A.y)*n;if(f<=2)return new Le(i,n);o=Math.sqrt(f/2)}else{var m=!1;r>Number.EPSILON?s>Number.EPSILON&&(m=!0):r<-Number.EPSILON?s<-Number.EPSILON&&(m=!0):Math.sign(a)===Math.sign(l)&&(m=!0),o=m?(i=-a,n=r,Math.sqrt(c)):(i=r,n=a,Math.sqrt(c/2))}return new Le(i/o,n/o)}for(var N=[],R=0,P=w.length,D=P-1,Q=R+1;R<P;R++,D++,Q++)D===P&&(D=0),Q===P&&(Q=0),N[R]=U(w[R],w[D],w[Q]);var k,z,V=[],H=N.concat();for(v=0,y=b.length;v<y;v++){for(k=[],D=(P=(m=b[v]).length)-1,Q=(R=0)+1;R<P;R++,D++,Q++)D===P&&(D=0),Q===P&&(Q=0),k[R]=U(m[R],m[D],m[Q]);V.push(k),H=H.concat(k)}for(B=0;B<l;B++){for(S=B/l,T=o*Math.cos(S*Math.PI/2),_=r*Math.sin(S*Math.PI/2)+a,R=0,P=w.length;R<P;R++)j((K=M(w[R],N[R],_)).x,K.y,-T);for(v=0,y=b.length;v<y;v++)for(k=V[v],R=0,P=(m=b[v]).length;R<P;R++)j((K=M(m[R],k[R],_)).x,K.y,-T)}for(_=r+a,R=0;R<L;R++)K=n?M(x[R],H[R],_):x[R],C?(g.copy(u.normals[0]).multiplyScalar(K.x),p.copy(u.binormals[0]).multiplyScalar(K.y),f.copy(h[0]).add(g).add(p),j(f.x,f.y,f.z)):j(K.x,K.y,0);for(z=1;z<=s;z++)for(R=0;R<L;R++)K=n?M(x[R],H[R],_):x[R],C?(g.copy(u.normals[z]).multiplyScalar(K.x),p.copy(u.binormals[z]).multiplyScalar(K.y),f.copy(h[z]).add(g).add(p),j(f.x,f.y,f.z)):j(K.x,K.y,t/s*z);for(B=l-1;0<=B;B--){for(S=B/l,T=o*Math.cos(S*Math.PI/2),_=r*Math.sin(S*Math.PI/2)+a,R=0,P=w.length;R<P;R++)j((K=M(w[R],N[R],_)).x,K.y,t+T);for(v=0,y=b.length;v<y;v++)for(k=V[v],R=0,P=(m=b[v]).length;R<P;R++)K=M(m[R],k[R],_),C?j(K.x,K.y+h[s-1].y,h[s-1].x+T):j(K.x,K.y,t+T)}function G(A,e){var t,i;for(R=A.length;0<=--R;){(i=(t=R)-1)<0&&(i=A.length-1);var n=0,o=s+2*l;for(n=0;n<o;n++){var r=L*n,a=L*(n+1);q(e+t+r,e+i+r,e+i+a,e+t+a)}}}function j(A,e,t){i.push(A),i.push(e),i.push(t)}function W(A,e,t){X(A),X(e),X(t);var i=$.length/3,n=d.generateTopUV(Z,$,i-3,i-2,i-1);Y(n[0]),Y(n[1]),Y(n[2])}function q(A,e,t,i){X(A),X(e),X(i),X(e),X(t),X(i);var n=$.length/3,o=d.generateSideWallUV(Z,$,n-6,n-3,n-2,n-1);Y(o[0]),Y(o[1]),Y(o[3]),Y(o[1]),Y(o[2]),Y(o[3])}function X(A){$.push(i[3*A+0]),$.push(i[3*A+1]),$.push(i[3*A+2])}function Y(A){AA.push(A.x),AA.push(A.y)}!function(){var A=$.length/3;if(n){var e=0,t=L*e;for(R=0;R<O;R++)W((F=E[R])[2]+t,F[1]+t,F[0]+t);for(t=L*(e=s+2*l),R=0;R<O;R++)W((F=E[R])[0]+t,F[1]+t,F[2]+t)}else{for(R=0;R<O;R++)W((F=E[R])[2],F[1],F[0]);for(R=0;R<O;R++)W((F=E[R])[0]+L*s,F[1]+L*s,F[2]+L*s)}Z.addGroup(A,$.length/3-A,0)}(),function(){var A=$.length/3,e=0;for(G(w,e),e+=w.length,v=0,y=b.length;v<y;v++)G(m=b[v],e),e+=m.length;Z.addGroup(A,$.length/3-A,1)}()}this.addAttribute("position",new _i($,3)),this.addAttribute("uv",new _i(AA,2)),this.computeVertexNormals()}((Xa.prototype=Object.create(en.prototype)).constructor=Xa).prototype.toJSON=function(){var A=en.prototype.toJSON.call(this);return Za(this.parameters.shapes,this.parameters.options,A)},((Ya.prototype=Object.create(Gi.prototype)).constructor=Ya).prototype.toJSON=function(){var A=Gi.prototype.toJSON.call(this);return Za(this.parameters.shapes,this.parameters.options,A)};var Ja={generateTopUV:function(A,e,t,i,n){var o=e[3*i],r=e[3*i+1],a=e[3*n],s=e[3*n+1];return[new Le(e[3*t],e[3*t+1]),new Le(o,r),new Le(a,s)]},generateSideWallUV:function(A,e,t,i,n,o){var r=e[3*t],a=e[3*t+1],s=e[3*t+2],l=e[3*i],c=e[3*i+1],d=e[3*i+2],h=e[3*n],u=e[3*n+1],p=e[3*n+2],g=e[3*o],f=e[3*o+1],m=e[3*o+2];return Math.abs(a-c)<.01?[new Le(r,1-s),new Le(l,1-d),new Le(h,1-p),new Le(g,1-m)]:[new Le(a,1-s),new Le(c,1-d),new Le(u,1-p),new Le(f,1-m)]}};function Za(A,e,t){if(t.shapes=[],Array.isArray(A))for(var i=0,n=A.length;i<n;i++){t.shapes.push(A[i].uuid)}else t.shapes.push(A.uuid);return void 0!==e.extrudePath&&(t.options.extrudePath=e.extrudePath.toJSON()),t}function $a(A,e){en.call(this),this.type="TextGeometry",this.parameters={text:A,parameters:e},this.fromBufferGeometry(new As(A,e)),this.mergeVertices()}function As(A,e){var t=(e=e||{}).font;if(!t||!t.isFont)return console.error("THREE.TextGeometry: font parameter is not an instance of THREE.Font."),new en;var i=t.generateShapes(A,e.size);e.depth=void 0!==e.height?e.height:50,void 0===e.bevelThickness&&(e.bevelThickness=10),void 0===e.bevelSize&&(e.bevelSize=8),void 0===e.bevelEnabled&&(e.bevelEnabled=!1),Ya.call(this,i,e),this.type="TextBufferGeometry"}function es(A,e,t,i,n,o,r){en.call(this),this.type="SphereGeometry",this.parameters={radius:A,widthSegments:e,heightSegments:t,phiStart:i,phiLength:n,thetaStart:o,thetaLength:r},this.fromBufferGeometry(new ts(A,e,t,i,n,o,r)),this.mergeVertices()}function ts(A,e,t,i,n,o,r){Gi.call(this),this.type="SphereBufferGeometry",this.parameters={radius:A,widthSegments:e,heightSegments:t,phiStart:i,phiLength:n,thetaStart:o,thetaLength:r},A=A||1,e=Math.max(3,Math.floor(e)||8),t=Math.max(2,Math.floor(t)||6),i=void 0!==i?i:0,n=void 0!==n?n:2*Math.PI,o=void 0!==o?o:0,r=void 0!==r?r:Math.PI;var a,s,l=Math.min(o+r,Math.PI),c=0,d=[],h=new Ue,u=new Ue,p=[],g=[],f=[],m=[];for(s=0;s<=t;s++){var v=[],y=s/t,C=0;for(0==s&&0==o?C=.5/e:s==t&&l==Math.PI&&(C=-.5/e),a=0;a<=e;a++){var I=a/e;h.x=-A*Math.cos(i+I*n)*Math.sin(o+y*r),h.y=A*Math.cos(o+y*r),h.z=A*Math.sin(i+I*n)*Math.sin(o+y*r),g.push(h.x,h.y,h.z),u.copy(h).normalize(),f.push(u.x,u.y,u.z),m.push(I+C,1-y),v.push(c++)}d.push(v)}for(s=0;s<t;s++)for(a=0;a<e;a++){var x=d[s][a],b=d[s+1][a],E=d[s+1][a+1];(0!==s||0<o)&&p.push(d[s][a+1],x,E),(s!==t-1||l<Math.PI)&&p.push(x,b,E)}this.setIndex(p),this.addAttribute("position",new _i(g,3)),this.addAttribute("normal",new _i(f,3)),this.addAttribute("uv",new _i(m,2))}function is(A,e,t,i,n,o){en.call(this),this.type="RingGeometry",this.parameters={innerRadius:A,outerRadius:e,thetaSegments:t,phiSegments:i,thetaStart:n,thetaLength:o},this.fromBufferGeometry(new ns(A,e,t,i,n,o)),this.mergeVertices()}function ns(A,e,t,i,n,o){Gi.call(this),this.type="RingBufferGeometry",this.parameters={innerRadius:A,outerRadius:e,thetaSegments:t,phiSegments:i,thetaStart:n,thetaLength:o},A=A||.5,e=e||1,n=void 0!==n?n:0,o=void 0!==o?o:2*Math.PI,t=void 0!==t?Math.max(3,t):8;var r,a,s,l=[],c=[],d=[],h=[],u=A,p=(e-A)/(i=void 0!==i?Math.max(1,i):1),g=new Ue,f=new Le;for(a=0;a<=i;a++){for(s=0;s<=t;s++)r=n+s/t*o,g.x=u*Math.cos(r),g.y=u*Math.sin(r),c.push(g.x,g.y,g.z),d.push(0,0,1),f.x=(g.x/e+1)/2,f.y=(g.y/e+1)/2,h.push(f.x,f.y);u+=p}for(a=0;a<i;a++){var m=a*(t+1);for(s=0;s<t;s++){var v=(r=s+m)+t+1,y=r+t+2,C=r+1;l.push(r,v,C),l.push(v,y,C)}}this.setIndex(l),this.addAttribute("position",new _i(c,3)),this.addAttribute("normal",new _i(d,3)),this.addAttribute("uv",new _i(h,2))}function os(A,e,t,i){en.call(this),this.type="LatheGeometry",this.parameters={points:A,segments:e,phiStart:t,phiLength:i},this.fromBufferGeometry(new rs(A,e,t,i)),this.mergeVertices()}function rs(A,e,t,i){Gi.call(this),this.type="LatheBufferGeometry",this.parameters={points:A,segments:e,phiStart:t,phiLength:i},e=Math.floor(e)||12,t=t||0,i=i||2*Math.PI,i=Fe.clamp(i,0,2*Math.PI);var n,o,r,a=[],s=[],l=[],c=1/e,d=new Ue,h=new Le;for(o=0;o<=e;o++){var u=t+o*c*i,p=Math.sin(u),g=Math.cos(u);for(r=0;r<=A.length-1;r++)d.x=A[r].x*p,d.y=A[r].y,d.z=A[r].x*g,s.push(d.x,d.y,d.z),h.x=o/e,h.y=r/(A.length-1),l.push(h.x,h.y)}for(o=0;o<e;o++)for(r=0;r<A.length-1;r++){var f=(n=r+o*A.length)+A.length,m=n+A.length+1,v=n+1;a.push(n,f,v),a.push(f,m,v)}if(this.setIndex(a),this.addAttribute("position",new _i(s,3)),this.addAttribute("uv",new _i(l,2)),this.computeVertexNormals(),i===2*Math.PI){var y=this.attributes.normal.array,C=new Ue,I=new Ue,x=new Ue;for(n=e*A.length*3,r=o=0;o<A.length;o++,r+=3)C.x=y[r+0],C.y=y[r+1],C.z=y[r+2],I.x=y[n+r+0],I.y=y[n+r+1],I.z=y[n+r+2],x.addVectors(C,I).normalize(),y[r+0]=y[n+r+0]=x.x,y[r+1]=y[n+r+1]=x.y,y[r+2]=y[n+r+2]=x.z}}function as(A,e){en.call(this),this.type="ShapeGeometry","object"==typeof e&&(console.warn("THREE.ShapeGeometry: Options parameter has been removed."),e=e.curveSegments),this.parameters={shapes:A,curveSegments:e},this.fromBufferGeometry(new ss(A,e)),this.mergeVertices()}function ss(A,d){Gi.call(this),this.type="ShapeBufferGeometry",this.parameters={shapes:A,curveSegments:d},d=d||12;var h=[],u=[],p=[],g=[],e=0,f=0;if(!1===Array.isArray(A))i(A);else for(var t=0;t<A.length;t++)i(A[t]),this.addGroup(e,f,t),e+=f,f=0;function i(A){var e,t,i,n=u.length/3,o=A.extractPoints(d),r=o.shape,a=o.holes;for(!1===ja.isClockWise(r)&&(r=r.reverse()),e=0,t=a.length;e<t;e++)!0===ja.isClockWise(i=a[e])&&(a[e]=i.reverse());var s=ja.triangulateShape(r,a);for(e=0,t=a.length;e<t;e++)r=r.concat(i=a[e]);for(e=0,t=r.length;e<t;e++){var l=r[e];u.push(l.x,l.y,0),p.push(0,0,1),g.push(l.x,l.y)}for(e=0,t=s.length;e<t;e++){var c=s[e];h.push(c[0]+n,c[1]+n,c[2]+n),f+=3}}this.setIndex(h),this.addAttribute("position",new _i(u,3)),this.addAttribute("normal",new _i(p,3)),this.addAttribute("uv",new _i(g,2))}function ls(A,e){if(e.shapes=[],Array.isArray(A))for(var t=0,i=A.length;t<i;t++){e.shapes.push(A[t].uuid)}else e.shapes.push(A.uuid);return e}function cs(A,e){Gi.call(this),this.type="EdgesGeometry",this.parameters={thresholdAngle:e},e=void 0!==e?e:1;var t,i,n,o,r=[],a=Math.cos(Fe.DEG2RAD*e),s=[0,0],l={},c=["a","b","c"];A.isBufferGeometry?(o=new en).fromBufferGeometry(A):o=A.clone(),o.mergeVertices(),o.computeFaceNormals();for(var d=o.vertices,h=o.faces,u=0,p=h.length;u<p;u++)for(var g=h[u],f=0;f<3;f++)t=g[c[f]],i=g[c[(f+1)%3]],s[0]=Math.min(t,i),s[1]=Math.max(t,i),void 0===l[n=s[0]+","+s[1]]?l[n]={index1:s[0],index2:s[1],face1:u,face2:void 0}:l[n].face2=u;for(n in l){var m=l[n];if(void 0===m.face2||h[m.face1].normal.dot(h[m.face2].normal)<=a){var v=d[m.index1];r.push(v.x,v.y,v.z),r.push((v=d[m.index2]).x,v.y,v.z)}}this.addAttribute("position",new _i(r,3))}function ds(A,e,t,i,n,o,r,a){en.call(this),this.type="CylinderGeometry",this.parameters={radiusTop:A,radiusBottom:e,height:t,radialSegments:i,heightSegments:n,openEnded:o,thetaStart:r,thetaLength:a},this.fromBufferGeometry(new hs(A,e,t,i,n,o,r,a)),this.mergeVertices()}function hs(m,v,y,C,I,A,x,b){Gi.call(this),this.type="CylinderBufferGeometry",this.parameters={radiusTop:m,radiusBottom:v,height:y,radialSegments:C,heightSegments:I,openEnded:A,thetaStart:x,thetaLength:b};var E=this;m=void 0!==m?m:1,v=void 0!==v?v:1,y=y||1,C=Math.floor(C)||8,I=Math.floor(I)||1,A=void 0!==A&&A,x=void 0!==x?x:0,b=void 0!==b?b:2*Math.PI;var w=[],M=[],B=[],_=[],S=0,T=[],K=y/2,F=0;function e(A){var e,t,i,n=new Le,o=new Ue,r=0,a=!0===A?m:v,s=!0===A?1:-1;for(t=S,e=1;e<=C;e++)M.push(0,K*s,0),B.push(0,s,0),_.push(.5,.5),S++;for(i=S,e=0;e<=C;e++){var l=e/C*b+x,c=Math.cos(l),d=Math.sin(l);o.x=a*d,o.y=K*s,o.z=a*c,M.push(o.x,o.y,o.z),B.push(0,s,0),n.x=.5*c+.5,n.y=.5*d*s+.5,_.push(n.x,n.y),S++}for(e=0;e<C;e++){var h=t+e,u=i+e;!0===A?w.push(u,u+1,h):w.push(u+1,u,h),r+=3}E.addGroup(F,r,!0===A?1:2),F+=r}!function(){var A,e,t=new Ue,i=new Ue,n=0,o=(v-m)/y;for(e=0;e<=I;e++){var r=[],a=e/I,s=a*(v-m)+m;for(A=0;A<=C;A++){var l=A/C,c=l*b+x,d=Math.sin(c),h=Math.cos(c);i.x=s*d,i.y=-a*y+K,i.z=s*h,M.push(i.x,i.y,i.z),t.set(d,o,h).normalize(),B.push(t.x,t.y,t.z),_.push(l,1-a),r.push(S++)}T.push(r)}for(A=0;A<C;A++)for(e=0;e<I;e++){var u=T[e][A],p=T[e+1][A],g=T[e+1][A+1],f=T[e][A+1];w.push(u,p,f),w.push(p,g,f),n+=6}E.addGroup(F,n,0),F+=n}(),!1===A&&(0<m&&e(!0),0<v&&e(!1)),this.setIndex(w),this.addAttribute("position",new _i(M,3)),this.addAttribute("normal",new _i(B,3)),this.addAttribute("uv",new _i(_,2))}function us(A,e,t,i,n,o,r){ds.call(this,0,A,e,t,i,n,o,r),this.type="ConeGeometry",this.parameters={radius:A,height:e,radialSegments:t,heightSegments:i,openEnded:n,thetaStart:o,thetaLength:r}}function ps(A,e,t,i,n,o,r){hs.call(this,0,A,e,t,i,n,o,r),this.type="ConeBufferGeometry",this.parameters={radius:A,height:e,radialSegments:t,heightSegments:i,openEnded:n,thetaStart:o,thetaLength:r}}function gs(A,e,t,i){en.call(this),this.type="CircleGeometry",this.parameters={radius:A,segments:e,thetaStart:t,thetaLength:i},this.fromBufferGeometry(new fs(A,e,t,i)),this.mergeVertices()}function fs(A,e,t,i){Gi.call(this),this.type="CircleBufferGeometry",this.parameters={radius:A,segments:e,thetaStart:t,thetaLength:i},A=A||1,e=void 0!==e?Math.max(3,e):8,t=void 0!==t?t:0,i=void 0!==i?i:2*Math.PI;var n,o,r=[],a=[],s=[],l=[],c=new Ue,d=new Le;for(a.push(0,0,0),s.push(0,0,1),l.push(.5,.5),o=0,n=3;o<=e;o++,n+=3){var h=t+o/e*i;c.x=A*Math.cos(h),c.y=A*Math.sin(h),a.push(c.x,c.y,c.z),s.push(0,0,1),d.x=(a[n]/A+1)/2,d.y=(a[n+1]/A+1)/2,l.push(d.x,d.y)}for(n=1;n<=e;n++)r.push(n,n+1,0);this.setIndex(r),this.addAttribute("position",new _i(a,3)),this.addAttribute("normal",new _i(s,3)),this.addAttribute("uv",new _i(l,2))}($a.prototype=Object.create(en.prototype)).constructor=$a,(As.prototype=Object.create(Ya.prototype)).constructor=As,(es.prototype=Object.create(en.prototype)).constructor=es,(ts.prototype=Object.create(Gi.prototype)).constructor=ts,(is.prototype=Object.create(en.prototype)).constructor=is,(ns.prototype=Object.create(Gi.prototype)).constructor=ns,(os.prototype=Object.create(en.prototype)).constructor=os,(rs.prototype=Object.create(Gi.prototype)).constructor=rs,((as.prototype=Object.create(en.prototype)).constructor=as).prototype.toJSON=function(){var A=en.prototype.toJSON.call(this);return ls(this.parameters.shapes,A)},((ss.prototype=Object.create(Gi.prototype)).constructor=ss).prototype.toJSON=function(){var A=Gi.prototype.toJSON.call(this);return ls(this.parameters.shapes,A)},(cs.prototype=Object.create(Gi.prototype)).constructor=cs,(ds.prototype=Object.create(en.prototype)).constructor=ds,(hs.prototype=Object.create(Gi.prototype)).constructor=hs,(us.prototype=Object.create(ds.prototype)).constructor=us,(ps.prototype=Object.create(hs.prototype)).constructor=ps,(gs.prototype=Object.create(en.prototype)).constructor=gs,(fs.prototype=Object.create(Gi.prototype)).constructor=fs;var ms=Object.freeze({WireframeGeometry:ra,ParametricGeometry:aa,ParametricBufferGeometry:sa,TetrahedronGeometry:da,TetrahedronBufferGeometry:ha,OctahedronGeometry:ua,OctahedronBufferGeometry:pa,IcosahedronGeometry:ga,IcosahedronBufferGeometry:fa,DodecahedronGeometry:ma,DodecahedronBufferGeometry:va,PolyhedronGeometry:la,PolyhedronBufferGeometry:ca,TubeGeometry:ya,TubeBufferGeometry:Ca,TorusKnotGeometry:Ia,TorusKnotBufferGeometry:xa,TorusGeometry:ba,TorusBufferGeometry:Ea,TextGeometry:$a,TextBufferGeometry:As,SphereGeometry:es,SphereBufferGeometry:ts,RingGeometry:is,RingBufferGeometry:ns,PlaneGeometry:Kn,PlaneBufferGeometry:Fn,LatheGeometry:os,LatheBufferGeometry:rs,ShapeGeometry:as,ShapeBufferGeometry:ss,ExtrudeGeometry:Xa,ExtrudeBufferGeometry:Ya,EdgesGeometry:cs,ConeGeometry:us,ConeBufferGeometry:ps,CylinderGeometry:ds,CylinderBufferGeometry:hs,CircleGeometry:gs,CircleBufferGeometry:fs,BoxGeometry:tn,BoxBufferGeometry:nn});function vs(A){vi.call(this),this.type="ShadowMaterial",this.color=new hi(0),this.transparent=!0,this.setValues(A)}function ys(A){cn.call(this,A),this.type="RawShaderMaterial"}function Cs(A){vi.call(this),this.defines={STANDARD:""},this.type="MeshStandardMaterial",this.color=new hi(16777215),this.roughness=.5,this.metalness=.5,this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.emissive=new hi(0),this.emissiveIntensity=1,this.emissiveMap=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=_e,this.normalScale=new Le(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.roughnessMap=null,this.metalnessMap=null,this.alphaMap=null,this.envMap=null,this.envMapIntensity=1,this.refractionRatio=.98,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.skinning=!1,this.morphTargets=!1,this.morphNormals=!1,this.setValues(A)}function Is(A){Cs.call(this),this.defines={PHYSICAL:""},this.type="MeshPhysicalMaterial",this.reflectivity=.5,this.clearCoat=0,this.clearCoatRoughness=0,this.setValues(A)}function xs(A){vi.call(this),this.type="MeshPhongMaterial",this.color=new hi(16777215),this.specular=new hi(1118481),this.shininess=30,this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.emissive=new hi(0),this.emissiveIntensity=1,this.emissiveMap=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=_e,this.normalScale=new Le(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.specularMap=null,this.alphaMap=null,this.envMap=null,this.combine=V,this.reflectivity=1,this.refractionRatio=.98,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.skinning=!1,this.morphTargets=!1,this.morphNormals=!1,this.setValues(A)}function bs(A){xs.call(this),this.defines={TOON:""},this.type="MeshToonMaterial",this.gradientMap=null,this.setValues(A)}function Es(A){vi.call(this),this.type="MeshNormalMaterial",this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=_e,this.normalScale=new Le(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.wireframe=!1,this.wireframeLinewidth=1,this.fog=!1,this.lights=!1,this.skinning=!1,this.morphTargets=!1,this.morphNormals=!1,this.setValues(A)}function ws(A){vi.call(this),this.type="MeshLambertMaterial",this.color=new hi(16777215),this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.emissive=new hi(0),this.emissiveIntensity=1,this.emissiveMap=null,this.specularMap=null,this.alphaMap=null,this.envMap=null,this.combine=V,this.reflectivity=1,this.refractionRatio=.98,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.skinning=!1,this.morphTargets=!1,this.morphNormals=!1,this.setValues(A)}function Ms(A){vi.call(this),this.defines={MATCAP:""},this.type="MeshMatcapMaterial",this.color=new hi(16777215),this.matcap=null,this.map=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=_e,this.normalScale=new Le(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.alphaMap=null,this.skinning=!1,this.morphTargets=!1,this.morphNormals=!1,this.lights=!1,this.setValues(A)}function Bs(A){Yr.call(this),this.type="LineDashedMaterial",this.scale=1,this.dashSize=3,this.gapSize=1,this.setValues(A)}((vs.prototype=Object.create(vi.prototype)).constructor=vs).prototype.isShadowMaterial=!0,vs.prototype.copy=function(A){return vi.prototype.copy.call(this,A),this.color.copy(A.color),this},((ys.prototype=Object.create(cn.prototype)).constructor=ys).prototype.isRawShaderMaterial=!0,((Cs.prototype=Object.create(vi.prototype)).constructor=Cs).prototype.isMeshStandardMaterial=!0,Cs.prototype.copy=function(A){return vi.prototype.copy.call(this,A),this.defines={STANDARD:""},this.color.copy(A.color),this.roughness=A.roughness,this.metalness=A.metalness,this.map=A.map,this.lightMap=A.lightMap,this.lightMapIntensity=A.lightMapIntensity,this.aoMap=A.aoMap,this.aoMapIntensity=A.aoMapIntensity,this.emissive.copy(A.emissive),this.emissiveMap=A.emissiveMap,this.emissiveIntensity=A.emissiveIntensity,this.bumpMap=A.bumpMap,this.bumpScale=A.bumpScale,this.normalMap=A.normalMap,this.normalMapType=A.normalMapType,this.normalScale.copy(A.normalScale),this.displacementMap=A.displacementMap,this.displacementScale=A.displacementScale,this.displacementBias=A.displacementBias,this.roughnessMap=A.roughnessMap,this.metalnessMap=A.metalnessMap,this.alphaMap=A.alphaMap,this.envMap=A.envMap,this.envMapIntensity=A.envMapIntensity,this.refractionRatio=A.refractionRatio,this.wireframe=A.wireframe,this.wireframeLinewidth=A.wireframeLinewidth,this.wireframeLinecap=A.wireframeLinecap,this.wireframeLinejoin=A.wireframeLinejoin,this.skinning=A.skinning,this.morphTargets=A.morphTargets,this.morphNormals=A.morphNormals,this},((Is.prototype=Object.create(Cs.prototype)).constructor=Is).prototype.isMeshPhysicalMaterial=!0,Is.prototype.copy=function(A){return Cs.prototype.copy.call(this,A),this.defines={PHYSICAL:""},this.reflectivity=A.reflectivity,this.clearCoat=A.clearCoat,this.clearCoatRoughness=A.clearCoatRoughness,this},((xs.prototype=Object.create(vi.prototype)).constructor=xs).prototype.isMeshPhongMaterial=!0,xs.prototype.copy=function(A){return vi.prototype.copy.call(this,A),this.color.copy(A.color),this.specular.copy(A.specular),this.shininess=A.shininess,this.map=A.map,this.lightMap=A.lightMap,this.lightMapIntensity=A.lightMapIntensity,this.aoMap=A.aoMap,this.aoMapIntensity=A.aoMapIntensity,this.emissive.copy(A.emissive),this.emissiveMap=A.emissiveMap,this.emissiveIntensity=A.emissiveIntensity,this.bumpMap=A.bumpMap,this.bumpScale=A.bumpScale,this.normalMap=A.normalMap,this.normalMapType=A.normalMapType,this.normalScale.copy(A.normalScale),this.displacementMap=A.displacementMap,this.displacementScale=A.displacementScale,this.displacementBias=A.displacementBias,this.specularMap=A.specularMap,this.alphaMap=A.alphaMap,this.envMap=A.envMap,this.combine=A.combine,this.reflectivity=A.reflectivity,this.refractionRatio=A.refractionRatio,this.wireframe=A.wireframe,this.wireframeLinewidth=A.wireframeLinewidth,this.wireframeLinecap=A.wireframeLinecap,this.wireframeLinejoin=A.wireframeLinejoin,this.skinning=A.skinning,this.morphTargets=A.morphTargets,this.morphNormals=A.morphNormals,this},((bs.prototype=Object.create(xs.prototype)).constructor=bs).prototype.isMeshToonMaterial=!0,bs.prototype.copy=function(A){return xs.prototype.copy.call(this,A),this.gradientMap=A.gradientMap,this},((Es.prototype=Object.create(vi.prototype)).constructor=Es).prototype.isMeshNormalMaterial=!0,Es.prototype.copy=function(A){return vi.prototype.copy.call(this,A),this.bumpMap=A.bumpMap,this.bumpScale=A.bumpScale,this.normalMap=A.normalMap,this.normalMapType=A.normalMapType,this.normalScale.copy(A.normalScale),this.displacementMap=A.displacementMap,this.displacementScale=A.displacementScale,this.displacementBias=A.displacementBias,this.wireframe=A.wireframe,this.wireframeLinewidth=A.wireframeLinewidth,this.skinning=A.skinning,this.morphTargets=A.morphTargets,this.morphNormals=A.morphNormals,this},((ws.prototype=Object.create(vi.prototype)).constructor=ws).prototype.isMeshLambertMaterial=!0,ws.prototype.copy=function(A){return vi.prototype.copy.call(this,A),this.color.copy(A.color),this.map=A.map,this.lightMap=A.lightMap,this.lightMapIntensity=A.lightMapIntensity,this.aoMap=A.aoMap,this.aoMapIntensity=A.aoMapIntensity,this.emissive.copy(A.emissive),this.emissiveMap=A.emissiveMap,this.emissiveIntensity=A.emissiveIntensity,this.specularMap=A.specularMap,this.alphaMap=A.alphaMap,this.envMap=A.envMap,this.combine=A.combine,this.reflectivity=A.reflectivity,this.refractionRatio=A.refractionRatio,this.wireframe=A.wireframe,this.wireframeLinewidth=A.wireframeLinewidth,this.wireframeLinecap=A.wireframeLinecap,this.wireframeLinejoin=A.wireframeLinejoin,this.skinning=A.skinning,this.morphTargets=A.morphTargets,this.morphNormals=A.morphNormals,this},((Ms.prototype=Object.create(vi.prototype)).constructor=Ms).prototype.isMeshMatcapMaterial=!0,Ms.prototype.copy=function(A){return vi.prototype.copy.call(this,A),this.defines={MATCAP:""},this.color.copy(A.color),this.matcap=A.matcap,this.map=A.map,this.bumpMap=A.bumpMap,this.bumpScale=A.bumpScale,this.normalMap=A.normalMap,this.normalMapType=A.normalMapType,this.normalScale.copy(A.normalScale),this.displacementMap=A.displacementMap,this.displacementScale=A.displacementScale,this.displacementBias=A.displacementBias,this.alphaMap=A.alphaMap,this.skinning=A.skinning,this.morphTargets=A.morphTargets,this.morphNormals=A.morphNormals,this},((Bs.prototype=Object.create(Yr.prototype)).constructor=Bs).prototype.isLineDashedMaterial=!0,Bs.prototype.copy=function(A){return Yr.prototype.copy.call(this,A),this.scale=A.scale,this.dashSize=A.dashSize,this.gapSize=A.gapSize,this};var _s=Object.freeze({ShadowMaterial:vs,SpriteMaterial:Hr,RawShaderMaterial:ys,ShaderMaterial:cn,PointsMaterial:Aa,MeshPhysicalMaterial:Is,MeshStandardMaterial:Cs,MeshPhongMaterial:xs,MeshToonMaterial:bs,MeshNormalMaterial:Es,MeshLambertMaterial:ws,MeshDepthMaterial:cr,MeshDistanceMaterial:dr,MeshBasicMaterial:yi,MeshMatcapMaterial:Ms,LineDashedMaterial:Bs,LineBasicMaterial:Yr,Material:vi}),Ss={arraySlice:function(A,e,t){return Ss.isTypedArray(A)?new A.constructor(A.subarray(e,void 0!==t?t:A.length)):A.slice(e,t)},convertArray:function(A,e,t){return!A||!t&&A.constructor===e?A:"number"==typeof e.BYTES_PER_ELEMENT?new e(A):Array.prototype.slice.call(A)},isTypedArray:function(A){return ArrayBuffer.isView(A)&&!(A instanceof DataView)},getKeyframeOrder:function(t){for(var A=t.length,e=new Array(A),i=0;i!==A;++i)e[i]=i;return e.sort(function(A,e){return t[A]-t[e]}),e},sortedArray:function(A,e,t){for(var i=A.length,n=new A.constructor(i),o=0,r=0;r!==i;++o)for(var a=t[o]*e,s=0;s!==e;++s)n[r++]=A[a+s];return n},flattenJSON:function(A,e,t,i){for(var n=1,o=A[0];void 0!==o&&void 0===o[i];)o=A[n++];if(void 0!==o){var r=o[i];if(void 0!==r)if(Array.isArray(r))for(;void 0!==(r=o[i])&&(e.push(o.time),t.push.apply(t,r)),void 0!==(o=A[n++]););else if(void 0!==r.toArray)for(;void 0!==(r=o[i])&&(e.push(o.time),r.toArray(t,t.length)),void 0!==(o=A[n++]););else for(;void 0!==(r=o[i])&&(e.push(o.time),t.push(r)),void 0!==(o=A[n++]););}}};function Ts(A,e,t,i){this.parameterPositions=A,this._cachedIndex=0,this.resultBuffer=void 0!==i?i:new e.constructor(t),this.sampleValues=e,this.valueSize=t}function Ks(A,e,t,i){Ts.call(this,A,e,t,i),this._weightPrev=-0,this._offsetPrev=-0,this._weightNext=-0,this._offsetNext=-0}function Fs(A,e,t,i){Ts.call(this,A,e,t,i)}function Ls(A,e,t,i){Ts.call(this,A,e,t,i)}function Os(A,e,t,i){if(void 0===A)throw new Error("THREE.KeyframeTrack: track name is undefined");if(void 0===e||0===e.length)throw new Error("THREE.KeyframeTrack: no keyframes in track named "+A);this.name=A,this.times=Ss.convertArray(e,this.TimeBufferType),this.values=Ss.convertArray(t,this.ValueBufferType),this.setInterpolation(i||this.DefaultInterpolation)}function Us(A,e,t){Os.call(this,A,e,t)}function Ns(A,e,t,i){Os.call(this,A,e,t,i)}function Rs(A,e,t,i){Os.call(this,A,e,t,i)}function Ps(A,e,t,i){Ts.call(this,A,e,t,i)}function Ds(A,e,t,i){Os.call(this,A,e,t,i)}function Qs(A,e,t,i){Os.call(this,A,e,t,i)}function ks(A,e,t,i){Os.call(this,A,e,t,i)}function zs(A,e,t){this.name=A,this.tracks=t,this.duration=void 0!==e?e:-1,this.uuid=Fe.generateUUID(),this.duration<0&&this.resetDuration()}function Vs(A){if(void 0===A.type)throw new Error("THREE.KeyframeTrack: track type undefined, can not parse");var e=function(A){switch(A.toLowerCase()){case"scalar":case"double":case"float":case"number":case"integer":return Rs;case"vector":case"vector2":case"vector3":case"vector4":return ks;case"color":return Ns;case"quaternion":return Ds;case"bool":case"boolean":return Us;case"string":return Qs}throw new Error("THREE.KeyframeTrack: Unsupported typeName: "+A)}(A.type);if(void 0===A.times){var t=[],i=[];Ss.flattenJSON(A.keys,t,i,"value"),A.times=t,A.values=i}return void 0!==e.parse?e.parse(A):new e(A.name,A.times,A.values,A.interpolation)}Object.assign(Ts.prototype,{evaluate:function(A){var e=this.parameterPositions,t=this._cachedIndex,i=e[t],n=e[t-1];A:{e:{var o;t:{i:if(A>=i){for(var r=t+2;;){if(void 0===i){if(A<n)break i;return this._cachedIndex=t=e.length,this.afterEnd_(t-1,A,n)}if(t===r)break;if(n=i,A<(i=e[++t]))break e}o=e.length;break t}if(n<=A)break A;var a=e[1];A<a&&(t=2,n=a);for(r=t-2;;){if(void 0===n)return this._cachedIndex=0,this.beforeStart_(0,A,i);if(t===r)break;if(i=n,(n=e[--t-1])<=A)break e}o=t,t=0}for(;t<o;){var s=t+o>>>1;A<e[s]?o=s:t=s+1}if(i=e[t],void 0===(n=e[t-1]))return this._cachedIndex=0,this.beforeStart_(0,A,i);if(void 0===i)return this._cachedIndex=t=e.length,this.afterEnd_(t-1,n,A)}this._cachedIndex=t,this.intervalChanged_(t,n,i)}return this.interpolate_(t,n,A,i)},settings:null,DefaultSettings_:{},getSettings_:function(){return this.settings||this.DefaultSettings_},copySampleValue_:function(A){for(var e=this.resultBuffer,t=this.sampleValues,i=this.valueSize,n=A*i,o=0;o!==i;++o)e[o]=t[n+o];return e},interpolate_:function(){throw new Error("call to abstract method")},intervalChanged_:function(){}}),Object.assign(Ts.prototype,{beforeStart_:Ts.prototype.copySampleValue_,afterEnd_:Ts.prototype.copySampleValue_}),Ks.prototype=Object.assign(Object.create(Ts.prototype),{constructor:Ks,DefaultSettings_:{endingStart:ge,endingEnd:ge},intervalChanged_:function(A,e,t){var i=this.parameterPositions,n=A-2,o=A+1,r=i[n],a=i[o];if(void 0===r)switch(this.getSettings_().endingStart){case fe:n=A,r=2*e-t;break;case me:r=e+i[n=i.length-2]-i[n+1];break;default:n=A,r=t}if(void 0===a)switch(this.getSettings_().endingEnd){case fe:o=A,a=2*t-e;break;case me:a=t+i[o=1]-i[0];break;default:o=A-1,a=e}var s=.5*(t-e),l=this.valueSize;this._weightPrev=s/(e-r),this._weightNext=s/(a-t),this._offsetPrev=n*l,this._offsetNext=o*l},interpolate_:function(A,e,t,i){for(var n=this.resultBuffer,o=this.sampleValues,r=this.valueSize,a=A*r,s=a-r,l=this._offsetPrev,c=this._offsetNext,d=this._weightPrev,h=this._weightNext,u=(t-e)/(i-e),p=u*u,g=p*u,f=-d*g+2*d*p-d*u,m=(1+d)*g+(-1.5-2*d)*p+(-.5+d)*u+1,v=(-1-h)*g+(1.5+h)*p+.5*u,y=h*g-h*p,C=0;C!==r;++C)n[C]=f*o[l+C]+m*o[s+C]+v*o[a+C]+y*o[c+C];return n}}),Fs.prototype=Object.assign(Object.create(Ts.prototype),{constructor:Fs,interpolate_:function(A,e,t,i){for(var n=this.resultBuffer,o=this.sampleValues,r=this.valueSize,a=A*r,s=a-r,l=(t-e)/(i-e),c=1-l,d=0;d!==r;++d)n[d]=o[s+d]*c+o[a+d]*l;return n}}),Ls.prototype=Object.assign(Object.create(Ts.prototype),{constructor:Ls,interpolate_:function(A){return this.copySampleValue_(A-1)}}),Object.assign(Os,{toJSON:function(A){var e,t=A.constructor;if(void 0!==t.toJSON)e=t.toJSON(A);else{e={name:A.name,times:Ss.convertArray(A.times,Array),values:Ss.convertArray(A.values,Array)};var i=A.getInterpolation();i!==A.DefaultInterpolation&&(e.interpolation=i)}return e.type=A.ValueTypeName,e}}),Object.assign(Os.prototype,{constructor:Os,TimeBufferType:Float32Array,ValueBufferType:Float32Array,DefaultInterpolation:pe,InterpolantFactoryMethodDiscrete:function(A){return new Ls(this.times,this.values,this.getValueSize(),A)},InterpolantFactoryMethodLinear:function(A){return new Fs(this.times,this.values,this.getValueSize(),A)},InterpolantFactoryMethodSmooth:function(A){return new Ks(this.times,this.values,this.getValueSize(),A)},setInterpolation:function(A){var e;switch(A){case ue:e=this.InterpolantFactoryMethodDiscrete;break;case pe:e=this.InterpolantFactoryMethodLinear;break;case 2302:e=this.InterpolantFactoryMethodSmooth}if(void 0!==e)return this.createInterpolant=e,this;var t="unsupported interpolation for "+this.ValueTypeName+" keyframe track named "+this.name;if(void 0===this.createInterpolant){if(A===this.DefaultInterpolation)throw new Error(t);this.setInterpolation(this.DefaultInterpolation)}return console.warn("THREE.KeyframeTrack:",t),this},getInterpolation:function(){switch(this.createInterpolant){case this.InterpolantFactoryMethodDiscrete:return ue;case this.InterpolantFactoryMethodLinear:return pe;case this.InterpolantFactoryMethodSmooth:return 2302}},getValueSize:function(){return this.values.length/this.times.length},shift:function(A){if(0!==A)for(var e=this.times,t=0,i=e.length;t!==i;++t)e[t]+=A;return this},scale:function(A){if(1!==A)for(var e=this.times,t=0,i=e.length;t!==i;++t)e[t]*=A;return this},trim:function(A,e){for(var t=this.times,i=t.length,n=0,o=i-1;n!==i&&t[n]<A;)++n;for(;-1!==o&&e<t[o];)--o;if(++o,0!==n||o!==i){n<o||(n=(o=Math.max(o,1))-1);var r=this.getValueSize();this.times=Ss.arraySlice(t,n,o),this.values=Ss.arraySlice(this.values,n*r,o*r)}return this},validate:function(){var A=!0,e=this.getValueSize();e-Math.floor(e)!=0&&(console.error("THREE.KeyframeTrack: Invalid value size in track.",this),A=!1);var t=this.times,i=this.values,n=t.length;0===n&&(console.error("THREE.KeyframeTrack: Track is empty.",this),A=!1);for(var o=null,r=0;r!==n;r++){var a=t[r];if("number"==typeof a&&isNaN(a)){console.error("THREE.KeyframeTrack: Time is not a valid number.",this,r,a),A=!1;break}if(null!==o&&a<o){console.error("THREE.KeyframeTrack: Out of order keys.",this,r,a,o),A=!1;break}o=a}if(void 0!==i&&Ss.isTypedArray(i)){r=0;for(var s=i.length;r!==s;++r){var l=i[r];if(isNaN(l)){console.error("THREE.KeyframeTrack: Value is not a valid number.",this,r,l),A=!1;break}}}return A},optimize:function(){for(var A=this.times,e=this.values,t=this.getValueSize(),i=2302===this.getInterpolation(),n=1,o=A.length-1,r=1;r<o;++r){var a=!1,s=A[r];if(s!==A[r+1]&&(1!==r||s!==s[0]))if(i)a=!0;else for(var l=r*t,c=l-t,d=l+t,h=0;h!==t;++h){var u=e[l+h];if(u!==e[c+h]||u!==e[d+h]){a=!0;break}}if(a){if(r!==n){A[n]=A[r];var p=r*t,g=n*t;for(h=0;h!==t;++h)e[g+h]=e[p+h]}++n}}if(0<o){A[n]=A[o];for(p=o*t,g=n*t,h=0;h!==t;++h)e[g+h]=e[p+h];++n}return n!==A.length&&(this.times=Ss.arraySlice(A,0,n),this.values=Ss.arraySlice(e,0,n*t)),this},clone:function(){var A=Ss.arraySlice(this.times,0),e=Ss.arraySlice(this.values,0),t=new this.constructor(this.name,A,e);return t.createInterpolant=this.createInterpolant,t}}),Us.prototype=Object.assign(Object.create(Os.prototype),{constructor:Us,ValueTypeName:"bool",ValueBufferType:Array,DefaultInterpolation:ue,InterpolantFactoryMethodLinear:void 0,InterpolantFactoryMethodSmooth:void 0}),Ns.prototype=Object.assign(Object.create(Os.prototype),{constructor:Ns,ValueTypeName:"color"}),Rs.prototype=Object.assign(Object.create(Os.prototype),{constructor:Rs,ValueTypeName:"number"}),Ps.prototype=Object.assign(Object.create(Ts.prototype),{constructor:Ps,interpolate_:function(A,e,t,i){for(var n=this.resultBuffer,o=this.sampleValues,r=this.valueSize,a=A*r,s=(t-e)/(i-e),l=a+r;a!==l;a+=4)Oe.slerpFlat(n,0,o,a-r,o,a,s);return n}}),Ds.prototype=Object.assign(Object.create(Os.prototype),{constructor:Ds,ValueTypeName:"quaternion",DefaultInterpolation:pe,InterpolantFactoryMethodLinear:function(A){return new Ps(this.times,this.values,this.getValueSize(),A)},InterpolantFactoryMethodSmooth:void 0}),Qs.prototype=Object.assign(Object.create(Os.prototype),{constructor:Qs,ValueTypeName:"string",ValueBufferType:Array,DefaultInterpolation:ue,InterpolantFactoryMethodLinear:void 0,InterpolantFactoryMethodSmooth:void 0}),ks.prototype=Object.assign(Object.create(Os.prototype),{constructor:ks,ValueTypeName:"vector"}),Object.assign(zs,{parse:function(A){for(var e=[],t=A.tracks,i=1/(A.fps||1),n=0,o=t.length;n!==o;++n)e.push(Vs(t[n]).scale(i));return new zs(A.name,A.duration,e)},toJSON:function(A){for(var e=[],t=A.tracks,i={name:A.name,duration:A.duration,tracks:e,uuid:A.uuid},n=0,o=t.length;n!==o;++n)e.push(Os.toJSON(t[n]));return i},CreateFromMorphTargetSequence:function(A,e,t,i){for(var n=e.length,o=[],r=0;r<n;r++){var a=[],s=[];a.push((r+n-1)%n,r,(r+1)%n),s.push(0,1,0);var l=Ss.getKeyframeOrder(a);a=Ss.sortedArray(a,1,l),s=Ss.sortedArray(s,1,l),i||0!==a[0]||(a.push(n),s.push(s[0])),o.push(new Rs(".morphTargetInfluences["+e[r].name+"]",a,s).scale(1/t))}return new zs(A,-1,o)},findByName:function(A,e){var t=A;if(!Array.isArray(A)){t=A.geometry&&A.geometry.animations||A.animations}for(var i=0;i<t.length;i++)if(t[i].name===e)return t[i];return null},CreateClipsFromMorphTargetSequences:function(A,e,t){for(var i={},n=/^([\w-]*?)([\d]+)$/,o=0,r=A.length;o<r;o++){var a=A[o],s=a.name.match(n);if(s&&1<s.length){var l=i[d=s[1]];l||(i[d]=l=[]),l.push(a)}}var c=[];for(var d in i)c.push(zs.CreateFromMorphTargetSequence(d,i[d],e,t));return c},parseAnimation:function(A,e){if(!A)return console.error("THREE.AnimationClip: No animation in JSONLoader data."),null;for(var t=function(A,e,t,i,n){if(0!==t.length){var o=[],r=[];Ss.flattenJSON(t,o,r,i),0!==o.length&&n.push(new A(e,o,r))}},i=[],n=A.name||"default",o=A.length||-1,r=A.fps||30,a=A.hierarchy||[],s=0;s<a.length;s++){var l=a[s].keys;if(l&&0!==l.length)if(l[0].morphTargets){for(var c={},d=0;d<l.length;d++)if(l[d].morphTargets)for(var h=0;h<l[d].morphTargets.length;h++)c[l[d].morphTargets[h]]=-1;for(var u in c){var p=[],g=[];for(h=0;h!==l[d].morphTargets.length;++h){var f=l[d];p.push(f.time),g.push(f.morphTarget===u?1:0)}i.push(new Rs(".morphTargetInfluence["+u+"]",p,g))}o=c.length*(r||1)}else{var m=".bones["+e[s].name+"]";t(ks,m+".position",l,"pos",i),t(Ds,m+".quaternion",l,"rot",i),t(ks,m+".scale",l,"scl",i)}}return 0===i.length?null:new zs(n,o,i)}}),Object.assign(zs.prototype,{resetDuration:function(){for(var A=0,e=0,t=this.tracks.length;e!==t;++e){var i=this.tracks[e];A=Math.max(A,i.times[i.times.length-1])}return this.duration=A,this},trim:function(){for(var A=0;A<this.tracks.length;A++)this.tracks[A].trim(0,this.duration);return this},validate:function(){for(var A=!0,e=0;e<this.tracks.length;e++)A=A&&this.tracks[e].validate();return A},optimize:function(){for(var A=0;A<this.tracks.length;A++)this.tracks[A].optimize();return this},clone:function(){for(var A=[],e=0;e<this.tracks.length;e++)A.push(this.tracks[e].clone());return new zs(this.name,this.duration,A)}});var Hs={enabled:!1,files:{},add:function(A,e){!1!==this.enabled&&(this.files[A]=e)},get:function(A){if(!1!==this.enabled)return this.files[A]},remove:function(A){delete this.files[A]},clear:function(){this.files={}}};function Gs(A,e,t){var i=this,n=!1,o=0,r=0,a=void 0;this.onStart=void 0,this.onLoad=A,this.onProgress=e,this.onError=t,this.itemStart=function(A){r++,!1===n&&void 0!==i.onStart&&i.onStart(A,o,r),n=!0},this.itemEnd=function(A){o++,void 0!==i.onProgress&&i.onProgress(A,o,r),o===r&&(n=!1,void 0!==i.onLoad&&i.onLoad())},this.itemError=function(A){void 0!==i.onError&&i.onError(A)},this.resolveURL=function(A){return a?a(A):A},this.setURLModifier=function(A){return a=A,this}}var js=new Gs,Ws={};function qs(A){this.manager=void 0!==A?A:js}function Xs(A){this.manager=void 0!==A?A:js}function Ys(A){this.manager=void 0!==A?A:js,this._parser=null}function Js(A){this.manager=void 0!==A?A:js,this._parser=null}function Zs(A){this.manager=void 0!==A?A:js}function $s(A){this.manager=void 0!==A?A:js}function Al(A){this.manager=void 0!==A?A:js}function el(){this.type="Curve",this.arcLengthDivisions=200}function tl(A,e,t,i,n,o,r,a){el.call(this),this.type="EllipseCurve",this.aX=A||0,this.aY=e||0,this.xRadius=t||1,this.yRadius=i||1,this.aStartAngle=n||0,this.aEndAngle=o||2*Math.PI,this.aClockwise=r||!1,this.aRotation=a||0}function il(A,e,t,i,n,o){tl.call(this,A,e,t,t,i,n,o),this.type="ArcCurve"}function nl(){var n=0,o=0,r=0,a=0;function l(A,e,t,i){r=-3*(n=A)+3*e-2*(o=t)-i,a=2*A-2*e+t+i}return{initCatmullRom:function(A,e,t,i,n){l(e,t,n*(t-A),n*(i-e))},initNonuniformCatmullRom:function(A,e,t,i,n,o,r){var a=(e-A)/n-(t-A)/(n+o)+(t-e)/o,s=(t-e)/o-(i-e)/(o+r)+(i-t)/r;l(e,t,a*=o,s*=o)},calc:function(A){var e=A*A;return n+o*A+r*e+a*(e*A)}}}Object.assign(qs.prototype,{load:function(r,A,e,t){void 0===r&&(r=""),void 0!==this.path&&(r=this.path+r),r=this.manager.resolveURL(r);var a=this,i=Hs.get(r);if(void 0!==i)return a.manager.itemStart(r),setTimeout(function(){A&&A(i),a.manager.itemEnd(r)},0),i;if(void 0===Ws[r]){var n=r.match(/^data:(.*?)(;base64)?,(.*)$/);if(n){var o=n[1],s=!!n[2],l=n[3];l=decodeURIComponent(l),s&&(l=atob(l));try{var c,d=(this.responseType||"").toLowerCase();switch(d){case"arraybuffer":case"blob":for(var h=new Uint8Array(l.length),u=0;u<l.length;u++)h[u]=l.charCodeAt(u);c="blob"===d?new Blob([h.buffer],{type:o}):h.buffer;break;case"document":var p=new DOMParser;c=p.parseFromString(l,o);break;case"json":c=JSON.parse(l);break;default:c=l}setTimeout(function(){A&&A(c),a.manager.itemEnd(r)},0)}catch(A){setTimeout(function(){t&&t(A),a.manager.itemError(r),a.manager.itemEnd(r)},0)}}else{Ws[r]=[],Ws[r].push({onLoad:A,onProgress:e,onError:t});var g=new XMLHttpRequest;for(var f in g.open("GET",r,!0),g.addEventListener("load",function(A){var e=this.response;Hs.add(r,e);var t=Ws[r];if(delete Ws[r],200===this.status||0===this.status){0===this.status&&console.warn("THREE.FileLoader: HTTP Status 0 received.");for(var i=0,n=t.length;i<n;i++){(o=t[i]).onLoad&&o.onLoad(e)}a.manager.itemEnd(r)}else{for(i=0,n=t.length;i<n;i++){var o;(o=t[i]).onError&&o.onError(A)}a.manager.itemError(r),a.manager.itemEnd(r)}},!1),g.addEventListener("progress",function(A){for(var e=Ws[r],t=0,i=e.length;t<i;t++){var n=e[t];n.onProgress&&n.onProgress(A)}},!1),g.addEventListener("error",function(A){var e=Ws[r];delete Ws[r];for(var t=0,i=e.length;t<i;t++){var n=e[t];n.onError&&n.onError(A)}a.manager.itemError(r),a.manager.itemEnd(r)},!1),g.addEventListener("abort",function(A){var e=Ws[r];delete Ws[r];for(var t=0,i=e.length;t<i;t++){var n=e[t];n.onError&&n.onError(A)}a.manager.itemError(r),a.manager.itemEnd(r)},!1),void 0!==this.responseType&&(g.responseType=this.responseType),void 0!==this.withCredentials&&(g.withCredentials=this.withCredentials),g.overrideMimeType&&g.overrideMimeType(void 0!==this.mimeType?this.mimeType:"text/plain"),this.requestHeader)g.setRequestHeader(f,this.requestHeader[f]);g.send(null)}return a.manager.itemStart(r),g}Ws[r].push({onLoad:A,onProgress:e,onError:t})},setPath:function(A){return this.path=A,this},setResponseType:function(A){return this.responseType=A,this},setWithCredentials:function(A){return this.withCredentials=A,this},setMimeType:function(A){return this.mimeType=A,this},setRequestHeader:function(A){return this.requestHeader=A,this}}),Object.assign(Xs.prototype,{load:function(A,e,t,i){var n=this,o=new qs(n.manager);o.setPath(n.path),o.load(A,function(A){e(n.parse(JSON.parse(A)))},t,i)},parse:function(A){for(var e=[],t=0;t<A.length;t++){var i=zs.parse(A[t]);e.push(i)}return e},setPath:function(A){return this.path=A,this}}),Object.assign(Ys.prototype,{load:function(A,o,e,i){var r=this,a=[],s=new ia;s.image=a;var n=new qs(this.manager);function t(t){n.load(A[t],function(A){var e=r._parser(A,!0);a[t]={width:e.width,height:e.height,format:e.format,mipmaps:e.mipmaps},6===(l+=1)&&(1===e.mipmapCount&&(s.minFilter=P),s.format=e.format,s.needsUpdate=!0,o&&o(s))},e,i)}if(n.setPath(this.path),n.setResponseType("arraybuffer"),Array.isArray(A))for(var l=0,c=0,d=A.length;c<d;++c)t(c);else n.load(A,function(A){var e=r._parser(A,!0);if(e.isCubemap)for(var t=e.mipmaps.length/e.mipmapCount,i=0;i<t;i++){a[i]={mipmaps:[]};for(var n=0;n<e.mipmapCount;n++)a[i].mipmaps.push(e.mipmaps[i*e.mipmapCount+n]),a[i].format=e.format,a[i].width=e.width,a[i].height=e.height}else s.image.width=e.width,s.image.height=e.height,s.mipmaps=e.mipmaps;1===e.mipmapCount&&(s.minFilter=P),s.format=e.format,s.needsUpdate=!0,o&&o(s)},e,i);return s},setPath:function(A){return this.path=A,this}}),Object.assign(Js.prototype,{load:function(A,t,e,i){var n=this,o=new bn,r=new qs(this.manager);return r.setResponseType("arraybuffer"),r.setPath(this.path),r.load(A,function(A){var e=n._parser(A);e&&(void 0!==e.image?o.image=e.image:void 0!==e.data&&(o.image.width=e.width,o.image.height=e.height,o.image.data=e.data),o.wrapS=void 0!==e.wrapS?e.wrapS:L,o.wrapT=void 0!==e.wrapT?e.wrapT:L,o.magFilter=void 0!==e.magFilter?e.magFilter:P,o.minFilter=void 0!==e.minFilter?e.minFilter:T,o.anisotropy=void 0!==e.anisotropy?e.anisotropy:1,void 0!==e.format&&(o.format=e.format),void 0!==e.type&&(o.type=e.type),void 0!==e.mipmaps&&(o.mipmaps=e.mipmaps),1===e.mipmapCount&&(o.minFilter=P),o.needsUpdate=!0,t&&t(o,e))},e,i),o},setPath:function(A){return this.path=A,this}}),Object.assign(Zs.prototype,{crossOrigin:"anonymous",load:function(e,A,t,i){void 0===e&&(e=""),void 0!==this.path&&(e=this.path+e),e=this.manager.resolveURL(e);var n=this,o=Hs.get(e);if(void 0!==o)return n.manager.itemStart(e),setTimeout(function(){A&&A(o),n.manager.itemEnd(e)},0),o;var r=document.createElementNS("http://www.w3.org/1999/xhtml","img");function a(){r.removeEventListener("load",a,!1),r.removeEventListener("error",s,!1),Hs.add(e,this),A&&A(this),n.manager.itemEnd(e)}function s(A){r.removeEventListener("load",a,!1),r.removeEventListener("error",s,!1),i&&i(A),n.manager.itemError(e),n.manager.itemEnd(e)}return r.addEventListener("load",a,!1),r.addEventListener("error",s,!1),"data:"!==e.substr(0,5)&&void 0!==this.crossOrigin&&(r.crossOrigin=this.crossOrigin),n.manager.itemStart(e),r.src=e,r},setCrossOrigin:function(A){return this.crossOrigin=A,this},setPath:function(A){return this.path=A,this}}),Object.assign($s.prototype,{crossOrigin:"anonymous",load:function(A,t,e,i){var n=new Hn,o=new Zs(this.manager);o.setCrossOrigin(this.crossOrigin),o.setPath(this.path);var r=0;function a(e){o.load(A[e],function(A){n.images[e]=A,6===++r&&(n.needsUpdate=!0,t&&t(n))},void 0,i)}for(var s=0;s<A.length;++s)a(s);return n},setCrossOrigin:function(A){return this.crossOrigin=A,this},setPath:function(A){return this.path=A,this}}),Object.assign(Al.prototype,{crossOrigin:"anonymous",load:function(t,i,A,e){var n=new Ye,o=new Zs(this.manager);return o.setCrossOrigin(this.crossOrigin),o.setPath(this.path),o.load(t,function(A){n.image=A;var e=0<t.search(/\.jpe?g($|\?)/i)||0===t.search(/^data\:image\/jpeg/);n.format=e?NA:RA,n.needsUpdate=!0,void 0!==i&&i(n)},A,e),n},setCrossOrigin:function(A){return this.crossOrigin=A,this},setPath:function(A){return this.path=A,this}}),Object.assign(el.prototype,{getPoint:function(){return console.warn("THREE.Curve: .getPoint() not implemented."),null},getPointAt:function(A,e){var t=this.getUtoTmapping(A);return this.getPoint(t,e)},getPoints:function(A){void 0===A&&(A=5);for(var e=[],t=0;t<=A;t++)e.push(this.getPoint(t/A));return e},getSpacedPoints:function(A){void 0===A&&(A=5);for(var e=[],t=0;t<=A;t++)e.push(this.getPointAt(t/A));return e},getLength:function(){var A=this.getLengths();return A[A.length-1]},getLengths:function(A){if(void 0===A&&(A=this.arcLengthDivisions),this.cacheArcLengths&&this.cacheArcLengths.length===A+1&&!this.needsUpdate)return this.cacheArcLengths;this.needsUpdate=!1;var e,t,i=[],n=this.getPoint(0),o=0;for(i.push(0),t=1;t<=A;t++)o+=(e=this.getPoint(t/A)).distanceTo(n),i.push(o),n=e;return this.cacheArcLengths=i},updateArcLengths:function(){this.needsUpdate=!0,this.getLengths()},getUtoTmapping:function(A,e){var t,i=this.getLengths(),n=0,o=i.length;t=e||A*i[o-1];for(var r,a=0,s=o-1;a<=s;)if((r=i[n=Math.floor(a+(s-a)/2)]-t)<0)a=n+1;else{if(r<=0){s=n;break}s=n-1}if(i[n=s]===t)return n/(o-1);var l=i[n];return(n+(t-l)/(i[n+1]-l))/(o-1)},getTangent:function(A){var e=A-1e-4,t=A+1e-4;e<0&&(e=0),1<t&&(t=1);var i=this.getPoint(e);return this.getPoint(t).clone().sub(i).normalize()},getTangentAt:function(A){var e=this.getUtoTmapping(A);return this.getTangent(e)},computeFrenetFrames:function(A,e){var t,i,n=new Ue,o=[],r=[],a=[],s=new Ue,l=new At;for(t=0;t<=A;t++)o[t]=this.getTangentAt(t/A),o[t].normalize();r[0]=new Ue,a[0]=new Ue;var c=Number.MAX_VALUE,d=Math.abs(o[0].x),h=Math.abs(o[0].y),u=Math.abs(o[0].z);for(c<d||(c=d,n.set(1,0,0)),c<h||(c=h,n.set(0,1,0)),c<u||n.set(0,0,1),s.crossVectors(o[0],n).normalize(),r[0].crossVectors(o[0],s),a[0].crossVectors(o[0],r[0]),t=1;t<=A;t++)r[t]=r[t-1].clone(),a[t]=a[t-1].clone(),s.crossVectors(o[t-1],o[t]),s.length()>Number.EPSILON&&(s.normalize(),i=Math.acos(Fe.clamp(o[t-1].dot(o[t]),-1,1)),r[t].applyMatrix4(l.makeRotationAxis(s,i))),a[t].crossVectors(o[t],r[t]);if(!0===e)for(i=Math.acos(Fe.clamp(r[0].dot(r[A]),-1,1)),i/=A,0<o[0].dot(s.crossVectors(r[0],r[A]))&&(i=-i),t=1;t<=A;t++)r[t].applyMatrix4(l.makeRotationAxis(o[t],i*t)),a[t].crossVectors(o[t],r[t]);return{tangents:o,normals:r,binormals:a}},clone:function(){return(new this.constructor).copy(this)},copy:function(A){return this.arcLengthDivisions=A.arcLengthDivisions,this},toJSON:function(){var A={metadata:{version:4.5,type:"Curve",generator:"Curve.toJSON"}};return A.arcLengthDivisions=this.arcLengthDivisions,A.type=this.type,A},fromJSON:function(A){return this.arcLengthDivisions=A.arcLengthDivisions,this}}),((tl.prototype=Object.create(el.prototype)).constructor=tl).prototype.isEllipseCurve=!0,tl.prototype.getPoint=function(A,e){for(var t=e||new Le,i=2*Math.PI,n=this.aEndAngle-this.aStartAngle,o=Math.abs(n)<Number.EPSILON;n<0;)n+=i;for(;i<n;)n-=i;n<Number.EPSILON&&(n=o?0:i),!0!==this.aClockwise||o||(n===i?n=-i:n-=i);var r=this.aStartAngle+A*n,a=this.aX+this.xRadius*Math.cos(r),s=this.aY+this.yRadius*Math.sin(r);if(0!==this.aRotation){var l=Math.cos(this.aRotation),c=Math.sin(this.aRotation),d=a-this.aX,h=s-this.aY;a=d*l-h*c+this.aX,s=d*c+h*l+this.aY}return t.set(a,s)},tl.prototype.copy=function(A){return el.prototype.copy.call(this,A),this.aX=A.aX,this.aY=A.aY,this.xRadius=A.xRadius,this.yRadius=A.yRadius,this.aStartAngle=A.aStartAngle,this.aEndAngle=A.aEndAngle,this.aClockwise=A.aClockwise,this.aRotation=A.aRotation,this},tl.prototype.toJSON=function(){var A=el.prototype.toJSON.call(this);return A.aX=this.aX,A.aY=this.aY,A.xRadius=this.xRadius,A.yRadius=this.yRadius,A.aStartAngle=this.aStartAngle,A.aEndAngle=this.aEndAngle,A.aClockwise=this.aClockwise,A.aRotation=this.aRotation,A},tl.prototype.fromJSON=function(A){return el.prototype.fromJSON.call(this,A),this.aX=A.aX,this.aY=A.aY,this.xRadius=A.xRadius,this.yRadius=A.yRadius,this.aStartAngle=A.aStartAngle,this.aEndAngle=A.aEndAngle,this.aClockwise=A.aClockwise,this.aRotation=A.aRotation,this},((il.prototype=Object.create(tl.prototype)).constructor=il).prototype.isArcCurve=!0;var ol=new Ue,rl=new nl,al=new nl,sl=new nl;function ll(A,e,t,i){el.call(this),this.type="CatmullRomCurve3",this.points=A||[],this.closed=e||!1,this.curveType=t||"centripetal",this.tension=i||.5}function cl(A,e,t,i,n){var o=.5*(i-e),r=.5*(n-t),a=A*A;return(2*t-2*i+o+r)*(A*a)+(-3*t+3*i-2*o-r)*a+o*A+t}function dl(A,e,t,i){return(r=1-A)*r*e+2*(1-(o=A))*o*t+(n=A)*n*i;var n,o,r}function hl(A,e,t,i,n){return(l=1-A)*l*l*e+3*(s=1-(a=A))*s*a*t+3*(1-(r=A))*r*r*i+(o=A)*o*o*n;var o,r,a,s,l}function ul(A,e,t,i){el.call(this),this.type="CubicBezierCurve",this.v0=A||new Le,this.v1=e||new Le,this.v2=t||new Le,this.v3=i||new Le}function pl(A,e,t,i){el.call(this),this.type="CubicBezierCurve3",this.v0=A||new Ue,this.v1=e||new Ue,this.v2=t||new Ue,this.v3=i||new Ue}function gl(A,e){el.call(this),this.type="LineCurve",this.v1=A||new Le,this.v2=e||new Le}function fl(A,e){el.call(this),this.type="LineCurve3",this.v1=A||new Ue,this.v2=e||new Ue}function ml(A,e,t){el.call(this),this.type="QuadraticBezierCurve",this.v0=A||new Le,this.v1=e||new Le,this.v2=t||new Le}function vl(A,e,t){el.call(this),this.type="QuadraticBezierCurve3",this.v0=A||new Ue,this.v1=e||new Ue,this.v2=t||new Ue}function yl(A){el.call(this),this.type="SplineCurve",this.points=A||[]}((ll.prototype=Object.create(el.prototype)).constructor=ll).prototype.isCatmullRomCurve3=!0,ll.prototype.getPoint=function(A,e){var t,i,n,o,r=e||new Ue,a=this.points,s=a.length,l=(s-(this.closed?0:1))*A,c=Math.floor(l),d=l-c;if(this.closed?c+=0<c?0:(Math.floor(Math.abs(c)/s)+1)*s:0===d&&c===s-1&&(c=s-2,d=1),t=this.closed||0<c?a[(c-1)%s]:(ol.subVectors(a[0],a[1]).add(a[0]),ol),i=a[c%s],n=a[(c+1)%s],o=this.closed||c+2<s?a[(c+2)%s]:(ol.subVectors(a[s-1],a[s-2]).add(a[s-1]),ol),"centripetal"===this.curveType||"chordal"===this.curveType){var h="chordal"===this.curveType?.5:.25,u=Math.pow(t.distanceToSquared(i),h),p=Math.pow(i.distanceToSquared(n),h),g=Math.pow(n.distanceToSquared(o),h);p<1e-4&&(p=1),u<1e-4&&(u=p),g<1e-4&&(g=p),rl.initNonuniformCatmullRom(t.x,i.x,n.x,o.x,u,p,g),al.initNonuniformCatmullRom(t.y,i.y,n.y,o.y,u,p,g),sl.initNonuniformCatmullRom(t.z,i.z,n.z,o.z,u,p,g)}else"catmullrom"===this.curveType&&(rl.initCatmullRom(t.x,i.x,n.x,o.x,this.tension),al.initCatmullRom(t.y,i.y,n.y,o.y,this.tension),sl.initCatmullRom(t.z,i.z,n.z,o.z,this.tension));return r.set(rl.calc(d),al.calc(d),sl.calc(d)),r},ll.prototype.copy=function(A){el.prototype.copy.call(this,A),this.points=[];for(var e=0,t=A.points.length;e<t;e++){this.points.push(A.points[e].clone())}return this.closed=A.closed,this.curveType=A.curveType,this.tension=A.tension,this},ll.prototype.toJSON=function(){var A=el.prototype.toJSON.call(this);A.points=[];for(var e=0,t=this.points.length;e<t;e++){A.points.push(this.points[e].toArray())}return A.closed=this.closed,A.curveType=this.curveType,A.tension=this.tension,A},ll.prototype.fromJSON=function(A){el.prototype.fromJSON.call(this,A),this.points=[];for(var e=0,t=A.points.length;e<t;e++){var i=A.points[e];this.points.push((new Ue).fromArray(i))}return this.closed=A.closed,this.curveType=A.curveType,this.tension=A.tension,this},((ul.prototype=Object.create(el.prototype)).constructor=ul).prototype.isCubicBezierCurve=!0,ul.prototype.getPoint=function(A,e){var t=e||new Le,i=this.v0,n=this.v1,o=this.v2,r=this.v3;return t.set(hl(A,i.x,n.x,o.x,r.x),hl(A,i.y,n.y,o.y,r.y)),t},ul.prototype.copy=function(A){return el.prototype.copy.call(this,A),this.v0.copy(A.v0),this.v1.copy(A.v1),this.v2.copy(A.v2),this.v3.copy(A.v3),this},ul.prototype.toJSON=function(){var A=el.prototype.toJSON.call(this);return A.v0=this.v0.toArray(),A.v1=this.v1.toArray(),A.v2=this.v2.toArray(),A.v3=this.v3.toArray(),A},ul.prototype.fromJSON=function(A){return el.prototype.fromJSON.call(this,A),this.v0.fromArray(A.v0),this.v1.fromArray(A.v1),this.v2.fromArray(A.v2),this.v3.fromArray(A.v3),this},((pl.prototype=Object.create(el.prototype)).constructor=pl).prototype.isCubicBezierCurve3=!0,pl.prototype.getPoint=function(A,e){var t=e||new Ue,i=this.v0,n=this.v1,o=this.v2,r=this.v3;return t.set(hl(A,i.x,n.x,o.x,r.x),hl(A,i.y,n.y,o.y,r.y),hl(A,i.z,n.z,o.z,r.z)),t},pl.prototype.copy=function(A){return el.prototype.copy.call(this,A),this.v0.copy(A.v0),this.v1.copy(A.v1),this.v2.copy(A.v2),this.v3.copy(A.v3),this},pl.prototype.toJSON=function(){var A=el.prototype.toJSON.call(this);return A.v0=this.v0.toArray(),A.v1=this.v1.toArray(),A.v2=this.v2.toArray(),A.v3=this.v3.toArray(),A},pl.prototype.fromJSON=function(A){return el.prototype.fromJSON.call(this,A),this.v0.fromArray(A.v0),this.v1.fromArray(A.v1),this.v2.fromArray(A.v2),this.v3.fromArray(A.v3),this},((gl.prototype=Object.create(el.prototype)).constructor=gl).prototype.isLineCurve=!0,gl.prototype.getPoint=function(A,e){var t=e||new Le;return 1===A?t.copy(this.v2):(t.copy(this.v2).sub(this.v1),t.multiplyScalar(A).add(this.v1)),t},gl.prototype.getPointAt=function(A,e){return this.getPoint(A,e)},gl.prototype.getTangent=function(){return this.v2.clone().sub(this.v1).normalize()},gl.prototype.copy=function(A){return el.prototype.copy.call(this,A),this.v1.copy(A.v1),this.v2.copy(A.v2),this},gl.prototype.toJSON=function(){var A=el.prototype.toJSON.call(this);return A.v1=this.v1.toArray(),A.v2=this.v2.toArray(),A},gl.prototype.fromJSON=function(A){return el.prototype.fromJSON.call(this,A),this.v1.fromArray(A.v1),this.v2.fromArray(A.v2),this},((fl.prototype=Object.create(el.prototype)).constructor=fl).prototype.isLineCurve3=!0,fl.prototype.getPoint=function(A,e){var t=e||new Ue;return 1===A?t.copy(this.v2):(t.copy(this.v2).sub(this.v1),t.multiplyScalar(A).add(this.v1)),t},fl.prototype.getPointAt=function(A,e){return this.getPoint(A,e)},fl.prototype.copy=function(A){return el.prototype.copy.call(this,A),this.v1.copy(A.v1),this.v2.copy(A.v2),this},fl.prototype.toJSON=function(){var A=el.prototype.toJSON.call(this);return A.v1=this.v1.toArray(),A.v2=this.v2.toArray(),A},fl.prototype.fromJSON=function(A){return el.prototype.fromJSON.call(this,A),this.v1.fromArray(A.v1),this.v2.fromArray(A.v2),this},((ml.prototype=Object.create(el.prototype)).constructor=ml).prototype.isQuadraticBezierCurve=!0,ml.prototype.getPoint=function(A,e){var t=e||new Le,i=this.v0,n=this.v1,o=this.v2;return t.set(dl(A,i.x,n.x,o.x),dl(A,i.y,n.y,o.y)),t},ml.prototype.copy=function(A){return el.prototype.copy.call(this,A),this.v0.copy(A.v0),this.v1.copy(A.v1),this.v2.copy(A.v2),this},ml.prototype.toJSON=function(){var A=el.prototype.toJSON.call(this);return A.v0=this.v0.toArray(),A.v1=this.v1.toArray(),A.v2=this.v2.toArray(),A},ml.prototype.fromJSON=function(A){return el.prototype.fromJSON.call(this,A),this.v0.fromArray(A.v0),this.v1.fromArray(A.v1),this.v2.fromArray(A.v2),this},((vl.prototype=Object.create(el.prototype)).constructor=vl).prototype.isQuadraticBezierCurve3=!0,vl.prototype.getPoint=function(A,e){var t=e||new Ue,i=this.v0,n=this.v1,o=this.v2;return t.set(dl(A,i.x,n.x,o.x),dl(A,i.y,n.y,o.y),dl(A,i.z,n.z,o.z)),t},vl.prototype.copy=function(A){return el.prototype.copy.call(this,A),this.v0.copy(A.v0),this.v1.copy(A.v1),this.v2.copy(A.v2),this},vl.prototype.toJSON=function(){var A=el.prototype.toJSON.call(this);return A.v0=this.v0.toArray(),A.v1=this.v1.toArray(),A.v2=this.v2.toArray(),A},vl.prototype.fromJSON=function(A){return el.prototype.fromJSON.call(this,A),this.v0.fromArray(A.v0),this.v1.fromArray(A.v1),this.v2.fromArray(A.v2),this},((yl.prototype=Object.create(el.prototype)).constructor=yl).prototype.isSplineCurve=!0,yl.prototype.getPoint=function(A,e){var t=e||new Le,i=this.points,n=(i.length-1)*A,o=Math.floor(n),r=n-o,a=i[0===o?o:o-1],s=i[o],l=i[i.length-2<o?i.length-1:o+1],c=i[i.length-3<o?i.length-1:o+2];return t.set(cl(r,a.x,s.x,l.x,c.x),cl(r,a.y,s.y,l.y,c.y)),t},yl.prototype.copy=function(A){el.prototype.copy.call(this,A),this.points=[];for(var e=0,t=A.points.length;e<t;e++){this.points.push(A.points[e].clone())}return this},yl.prototype.toJSON=function(){var A=el.prototype.toJSON.call(this);A.points=[];for(var e=0,t=this.points.length;e<t;e++){A.points.push(this.points[e].toArray())}return A},yl.prototype.fromJSON=function(A){el.prototype.fromJSON.call(this,A),this.points=[];for(var e=0,t=A.points.length;e<t;e++){var i=A.points[e];this.points.push((new Le).fromArray(i))}return this};var Cl=Object.freeze({ArcCurve:il,CatmullRomCurve3:ll,CubicBezierCurve:ul,CubicBezierCurve3:pl,EllipseCurve:tl,LineCurve:gl,LineCurve3:fl,QuadraticBezierCurve:ml,QuadraticBezierCurve3:vl,SplineCurve:yl});function Il(){el.call(this),this.type="CurvePath",this.curves=[],this.autoClose=!1}function xl(A){Il.call(this),this.type="Path",this.currentPoint=new Le,A&&this.setFromPoints(A)}function bl(A){xl.call(this,A),this.uuid=Fe.generateUUID(),this.type="Shape",this.holes=[]}function El(A,e){ti.call(this),this.type="Light",this.color=new hi(A),this.intensity=void 0!==e?e:1,this.receiveShadow=void 0}function wl(A,e,t){El.call(this,A,t),this.type="HemisphereLight",this.castShadow=void 0,this.position.copy(ti.DefaultUp),this.updateMatrix(),this.groundColor=new hi(e)}function Ml(A){this.camera=A,this.bias=0,this.radius=1,this.mapSize=new Le(512,512),this.map=null,this.matrix=new At}function Bl(){Ml.call(this,new hn(50,1,.5,500))}function _l(A,e,t,i,n,o){El.call(this,A,e),this.type="SpotLight",this.position.copy(ti.DefaultUp),this.updateMatrix(),this.target=new ti,Object.defineProperty(this,"power",{get:function(){return this.intensity*Math.PI},set:function(A){this.intensity=A/Math.PI}}),this.distance=void 0!==t?t:0,this.angle=void 0!==i?i:Math.PI/3,this.penumbra=void 0!==n?n:0,this.decay=void 0!==o?o:1,this.shadow=new Bl}function Sl(A,e,t,i){El.call(this,A,e),this.type="PointLight",Object.defineProperty(this,"power",{get:function(){return 4*this.intensity*Math.PI},set:function(A){this.intensity=A/(4*Math.PI)}}),this.distance=void 0!==t?t:0,this.decay=void 0!==i?i:1,this.shadow=new Ml(new hn(90,1,.5,500))}function Tl(A,e,t,i,n,o){dn.call(this),this.type="OrthographicCamera",this.zoom=1,this.view=null,this.left=void 0!==A?A:-1,this.right=void 0!==e?e:1,this.top=void 0!==t?t:1,this.bottom=void 0!==i?i:-1,this.near=void 0!==n?n:.1,this.far=void 0!==o?o:2e3,this.updateProjectionMatrix()}function Kl(){Ml.call(this,new Tl(-5,5,5,-5,.5,500))}function Fl(A,e){El.call(this,A,e),this.type="DirectionalLight",this.position.copy(ti.DefaultUp),this.updateMatrix(),this.target=new ti,this.shadow=new Kl}function Ll(A,e){El.call(this,A,e),this.type="AmbientLight",this.castShadow=void 0}function Ol(A,e,t,i){El.call(this,A,e),this.type="RectAreaLight",this.width=void 0!==t?t:10,this.height=void 0!==i?i:10}function Ul(A){this.manager=void 0!==A?A:js,this.textures={}}Il.prototype=Object.assign(Object.create(el.prototype),{constructor:Il,add:function(A){this.curves.push(A)},closePath:function(){var A=this.curves[0].getPoint(0),e=this.curves[this.curves.length-1].getPoint(1);A.equals(e)||this.curves.push(new gl(e,A))},getPoint:function(A){for(var e=A*this.getLength(),t=this.getCurveLengths(),i=0;i<t.length;){if(e<=t[i]){var n=t[i]-e,o=this.curves[i],r=o.getLength();return o.getPointAt(0===r?0:1-n/r)}i++}return null},getLength:function(){var A=this.getCurveLengths();return A[A.length-1]},updateArcLengths:function(){this.needsUpdate=!0,this.cacheLengths=null,this.getCurveLengths()},getCurveLengths:function(){if(this.cacheLengths&&this.cacheLengths.length===this.curves.length)return this.cacheLengths;for(var A=[],e=0,t=0,i=this.curves.length;t<i;t++)e+=this.curves[t].getLength(),A.push(e);return this.cacheLengths=A},getSpacedPoints:function(A){void 0===A&&(A=40);for(var e=[],t=0;t<=A;t++)e.push(this.getPoint(t/A));return this.autoClose&&e.push(e[0]),e},getPoints:function(A){A=A||12;for(var e,t=[],i=0,n=this.curves;i<n.length;i++)for(var o=n[i],r=o.getPoints(o&&o.isEllipseCurve?2*A:o&&(o.isLineCurve||o.isLineCurve3)?1:o&&o.isSplineCurve?A*o.points.length:A),a=0;a<r.length;a++){var s=r[a];e&&e.equals(s)||(t.push(s),e=s)}return this.autoClose&&1<t.length&&!t[t.length-1].equals(t[0])&&t.push(t[0]),t},copy:function(A){el.prototype.copy.call(this,A),this.curves=[];for(var e=0,t=A.curves.length;e<t;e++){this.curves.push(A.curves[e].clone())}return this.autoClose=A.autoClose,this},toJSON:function(){var A=el.prototype.toJSON.call(this);A.autoClose=this.autoClose,A.curves=[];for(var e=0,t=this.curves.length;e<t;e++){A.curves.push(this.curves[e].toJSON())}return A},fromJSON:function(A){el.prototype.fromJSON.call(this,A),this.autoClose=A.autoClose,this.curves=[];for(var e=0,t=A.curves.length;e<t;e++){var i=A.curves[e];this.curves.push((new Cl[i.type]).fromJSON(i))}return this}}),xl.prototype=Object.assign(Object.create(Il.prototype),{constructor:xl,setFromPoints:function(A){this.moveTo(A[0].x,A[0].y);for(var e=1,t=A.length;e<t;e++)this.lineTo(A[e].x,A[e].y)},moveTo:function(A,e){this.currentPoint.set(A,e)},lineTo:function(A,e){var t=new gl(this.currentPoint.clone(),new Le(A,e));this.curves.push(t),this.currentPoint.set(A,e)},quadraticCurveTo:function(A,e,t,i){var n=new ml(this.currentPoint.clone(),new Le(A,e),new Le(t,i));this.curves.push(n),this.currentPoint.set(t,i)},bezierCurveTo:function(A,e,t,i,n,o){var r=new ul(this.currentPoint.clone(),new Le(A,e),new Le(t,i),new Le(n,o));this.curves.push(r),this.currentPoint.set(n,o)},splineThru:function(A){var e=new yl([this.currentPoint.clone()].concat(A));this.curves.push(e),this.currentPoint.copy(A[A.length-1])},arc:function(A,e,t,i,n,o){this.absarc(A+this.currentPoint.x,e+this.currentPoint.y,t,i,n,o)},absarc:function(A,e,t,i,n,o){this.absellipse(A,e,t,t,i,n,o)},ellipse:function(A,e,t,i,n,o,r,a){this.absellipse(A+this.currentPoint.x,e+this.currentPoint.y,t,i,n,o,r,a)},absellipse:function(A,e,t,i,n,o,r,a){var s=new tl(A,e,t,i,n,o,r,a);if(0<this.curves.length){var l=s.getPoint(0);l.equals(this.currentPoint)||this.lineTo(l.x,l.y)}this.curves.push(s);var c=s.getPoint(1);this.currentPoint.copy(c)},copy:function(A){return Il.prototype.copy.call(this,A),this.currentPoint.copy(A.currentPoint),this},toJSON:function(){var A=Il.prototype.toJSON.call(this);return A.currentPoint=this.currentPoint.toArray(),A},fromJSON:function(A){return Il.prototype.fromJSON.call(this,A),this.currentPoint.fromArray(A.currentPoint),this}}),bl.prototype=Object.assign(Object.create(xl.prototype),{constructor:bl,getPointsHoles:function(A){for(var e=[],t=0,i=this.holes.length;t<i;t++)e[t]=this.holes[t].getPoints(A);return e},extractPoints:function(A){return{shape:this.getPoints(A),holes:this.getPointsHoles(A)}},copy:function(A){xl.prototype.copy.call(this,A),this.holes=[];for(var e=0,t=A.holes.length;e<t;e++){this.holes.push(A.holes[e].clone())}return this},toJSON:function(){var A=xl.prototype.toJSON.call(this);A.uuid=this.uuid,A.holes=[];for(var e=0,t=this.holes.length;e<t;e++){A.holes.push(this.holes[e].toJSON())}return A},fromJSON:function(A){xl.prototype.fromJSON.call(this,A),this.uuid=A.uuid,this.holes=[];for(var e=0,t=A.holes.length;e<t;e++){var i=A.holes[e];this.holes.push((new xl).fromJSON(i))}return this}}),El.prototype=Object.assign(Object.create(ti.prototype),{constructor:El,isLight:!0,copy:function(A){return ti.prototype.copy.call(this,A),this.color.copy(A.color),this.intensity=A.intensity,this},toJSON:function(A){var e=ti.prototype.toJSON.call(this,A);return e.object.color=this.color.getHex(),e.object.intensity=this.intensity,void 0!==this.groundColor&&(e.object.groundColor=this.groundColor.getHex()),void 0!==this.distance&&(e.object.distance=this.distance),void 0!==this.angle&&(e.object.angle=this.angle),void 0!==this.decay&&(e.object.decay=this.decay),void 0!==this.penumbra&&(e.object.penumbra=this.penumbra),void 0!==this.shadow&&(e.object.shadow=this.shadow.toJSON()),e}}),wl.prototype=Object.assign(Object.create(El.prototype),{constructor:wl,isHemisphereLight:!0,copy:function(A){return El.prototype.copy.call(this,A),this.groundColor.copy(A.groundColor),this}}),Object.assign(Ml.prototype,{copy:function(A){return this.camera=A.camera.clone(),this.bias=A.bias,this.radius=A.radius,this.mapSize.copy(A.mapSize),this},clone:function(){return(new this.constructor).copy(this)},toJSON:function(){var A={};return 0!==this.bias&&(A.bias=this.bias),1!==this.radius&&(A.radius=this.radius),512===this.mapSize.x&&512===this.mapSize.y||(A.mapSize=this.mapSize.toArray()),A.camera=this.camera.toJSON(!1).object,delete A.camera.matrix,A}}),Bl.prototype=Object.assign(Object.create(Ml.prototype),{constructor:Bl,isSpotLightShadow:!0,update:function(A){var e=this.camera,t=2*Fe.RAD2DEG*A.angle,i=this.mapSize.width/this.mapSize.height,n=A.distance||e.far;t===e.fov&&i===e.aspect&&n===e.far||(e.fov=t,e.aspect=i,e.far=n,e.updateProjectionMatrix())}}),_l.prototype=Object.assign(Object.create(El.prototype),{constructor:_l,isSpotLight:!0,copy:function(A){return El.prototype.copy.call(this,A),this.distance=A.distance,this.angle=A.angle,this.penumbra=A.penumbra,this.decay=A.decay,this.target=A.target.clone(),this.shadow=A.shadow.clone(),this}}),Sl.prototype=Object.assign(Object.create(El.prototype),{constructor:Sl,isPointLight:!0,copy:function(A){return El.prototype.copy.call(this,A),this.distance=A.distance,this.decay=A.decay,this.shadow=A.shadow.clone(),this}}),Tl.prototype=Object.assign(Object.create(dn.prototype),{constructor:Tl,isOrthographicCamera:!0,copy:function(A,e){return dn.prototype.copy.call(this,A,e),this.left=A.left,this.right=A.right,this.top=A.top,this.bottom=A.bottom,this.near=A.near,this.far=A.far,this.zoom=A.zoom,this.view=null===A.view?null:Object.assign({},A.view),this},setViewOffset:function(A,e,t,i,n,o){null===this.view&&(this.view={enabled:!0,fullWidth:1,fullHeight:1,offsetX:0,offsetY:0,width:1,height:1}),this.view.enabled=!0,this.view.fullWidth=A,this.view.fullHeight=e,this.view.offsetX=t,this.view.offsetY=i,this.view.width=n,this.view.height=o,this.updateProjectionMatrix()},clearViewOffset:function(){null!==this.view&&(this.view.enabled=!1),this.updateProjectionMatrix()},updateProjectionMatrix:function(){var A=(this.right-this.left)/(2*this.zoom),e=(this.top-this.bottom)/(2*this.zoom),t=(this.right+this.left)/2,i=(this.top+this.bottom)/2,n=t-A,o=t+A,r=i+e,a=i-e;if(null!==this.view&&this.view.enabled){var s=this.zoom/(this.view.width/this.view.fullWidth),l=this.zoom/(this.view.height/this.view.fullHeight),c=(this.right-this.left)/this.view.width,d=(this.top-this.bottom)/this.view.height;o=(n+=c*(this.view.offsetX/s))+c*(this.view.width/s),a=(r-=d*(this.view.offsetY/l))-d*(this.view.height/l)}this.projectionMatrix.makeOrthographic(n,o,r,a,this.near,this.far),this.projectionMatrixInverse.getInverse(this.projectionMatrix)},toJSON:function(A){var e=ti.prototype.toJSON.call(this,A);return e.object.zoom=this.zoom,e.object.left=this.left,e.object.right=this.right,e.object.top=this.top,e.object.bottom=this.bottom,e.object.near=this.near,e.object.far=this.far,null!==this.view&&(e.object.view=Object.assign({},this.view)),e}}),Kl.prototype=Object.assign(Object.create(Ml.prototype),{constructor:Kl}),Fl.prototype=Object.assign(Object.create(El.prototype),{constructor:Fl,isDirectionalLight:!0,copy:function(A){return El.prototype.copy.call(this,A),this.target=A.target.clone(),this.shadow=A.shadow.clone(),this}}),Ll.prototype=Object.assign(Object.create(El.prototype),{constructor:Ll,isAmbientLight:!0}),Ol.prototype=Object.assign(Object.create(El.prototype),{constructor:Ol,isRectAreaLight:!0,copy:function(A){return El.prototype.copy.call(this,A),this.width=A.width,this.height=A.height,this},toJSON:function(A){var e=El.prototype.toJSON.call(this,A);return e.object.width=this.width,e.object.height=this.height,e}}),Object.assign(Ul.prototype,{load:function(A,e,t,i){var n=this,o=new qs(n.manager);o.setPath(n.path),o.load(A,function(A){e(n.parse(JSON.parse(A)))},t,i)},parse:function(A){var e=this.textures;function t(A){return void 0===e[A]&&console.warn("THREE.MaterialLoader: Undefined texture",A),e[A]}var i=new _s[A.type];if(void 0!==A.uuid&&(i.uuid=A.uuid),void 0!==A.name&&(i.name=A.name),void 0!==A.color&&i.color.setHex(A.color),void 0!==A.roughness&&(i.roughness=A.roughness),void 0!==A.metalness&&(i.metalness=A.metalness),void 0!==A.emissive&&i.emissive.setHex(A.emissive),void 0!==A.specular&&i.specular.setHex(A.specular),void 0!==A.shininess&&(i.shininess=A.shininess),void 0!==A.clearCoat&&(i.clearCoat=A.clearCoat),void 0!==A.clearCoatRoughness&&(i.clearCoatRoughness=A.clearCoatRoughness),void 0!==A.vertexColors&&(i.vertexColors=A.vertexColors),void 0!==A.fog&&(i.fog=A.fog),void 0!==A.flatShading&&(i.flatShading=A.flatShading),void 0!==A.blending&&(i.blending=A.blending),void 0!==A.combine&&(i.combine=A.combine),void 0!==A.side&&(i.side=A.side),void 0!==A.opacity&&(i.opacity=A.opacity),void 0!==A.transparent&&(i.transparent=A.transparent),void 0!==A.alphaTest&&(i.alphaTest=A.alphaTest),void 0!==A.depthTest&&(i.depthTest=A.depthTest),void 0!==A.depthWrite&&(i.depthWrite=A.depthWrite),void 0!==A.colorWrite&&(i.colorWrite=A.colorWrite),void 0!==A.wireframe&&(i.wireframe=A.wireframe),void 0!==A.wireframeLinewidth&&(i.wireframeLinewidth=A.wireframeLinewidth),void 0!==A.wireframeLinecap&&(i.wireframeLinecap=A.wireframeLinecap),void 0!==A.wireframeLinejoin&&(i.wireframeLinejoin=A.wireframeLinejoin),void 0!==A.rotation&&(i.rotation=A.rotation),1!==A.linewidth&&(i.linewidth=A.linewidth),void 0!==A.dashSize&&(i.dashSize=A.dashSize),void 0!==A.gapSize&&(i.gapSize=A.gapSize),void 0!==A.scale&&(i.scale=A.scale),void 0!==A.polygonOffset&&(i.polygonOffset=A.polygonOffset),void 0!==A.polygonOffsetFactor&&(i.polygonOffsetFactor=A.polygonOffsetFactor),void 0!==A.polygonOffsetUnits&&(i.polygonOffsetUnits=A.polygonOffsetUnits),void 0!==A.skinning&&(i.skinning=A.skinning),void 0!==A.morphTargets&&(i.morphTargets=A.morphTargets),void 0!==A.morphNormals&&(i.morphNormals=A.morphNormals),void 0!==A.dithering&&(i.dithering=A.dithering),void 0!==A.visible&&(i.visible=A.visible),void 0!==A.userData&&(i.userData=A.userData),void 0!==A.uniforms)for(var n in A.uniforms){var o=A.uniforms[n];switch(i.uniforms[n]={},o.type){case"t":i.uniforms[n].value=t(o.value);break;case"c":i.uniforms[n].value=(new hi).setHex(o.value);break;case"v2":i.uniforms[n].value=(new Le).fromArray(o.value);break;case"v3":i.uniforms[n].value=(new Ue).fromArray(o.value);break;case"v4":i.uniforms[n].value=(new Je).fromArray(o.value);break;case"m3":i.uniforms[n].value=(new Ne).fromArray(o.value);case"m4":i.uniforms[n].value=(new At).fromArray(o.value);break;default:i.uniforms[n].value=o.value}}if(void 0!==A.defines&&(i.defines=A.defines),void 0!==A.vertexShader&&(i.vertexShader=A.vertexShader),void 0!==A.fragmentShader&&(i.fragmentShader=A.fragmentShader),void 0!==A.extensions)for(var r in A.extensions)i.extensions[r]=A.extensions[r];if(void 0!==A.shading&&(i.flatShading=1===A.shading),void 0!==A.size&&(i.size=A.size),void 0!==A.sizeAttenuation&&(i.sizeAttenuation=A.sizeAttenuation),void 0!==A.map&&(i.map=t(A.map)),void 0!==A.matcap&&(i.matcap=t(A.matcap)),void 0!==A.alphaMap&&(i.alphaMap=t(A.alphaMap),i.transparent=!0),void 0!==A.bumpMap&&(i.bumpMap=t(A.bumpMap)),void 0!==A.bumpScale&&(i.bumpScale=A.bumpScale),void 0!==A.normalMap&&(i.normalMap=t(A.normalMap)),void 0!==A.normalMapType&&(i.normalMapType=A.normalMapType),void 0!==A.normalScale){var a=A.normalScale;!1===Array.isArray(a)&&(a=[a,a]),i.normalScale=(new Le).fromArray(a)}return void 0!==A.displacementMap&&(i.displacementMap=t(A.displacementMap)),void 0!==A.displacementScale&&(i.displacementScale=A.displacementScale),void 0!==A.displacementBias&&(i.displacementBias=A.displacementBias),void 0!==A.roughnessMap&&(i.roughnessMap=t(A.roughnessMap)),void 0!==A.metalnessMap&&(i.metalnessMap=t(A.metalnessMap)),void 0!==A.emissiveMap&&(i.emissiveMap=t(A.emissiveMap)),void 0!==A.emissiveIntensity&&(i.emissiveIntensity=A.emissiveIntensity),void 0!==A.specularMap&&(i.specularMap=t(A.specularMap)),void 0!==A.envMap&&(i.envMap=t(A.envMap)),void 0!==A.envMapIntensity&&(i.envMapIntensity=A.envMapIntensity),void 0!==A.reflectivity&&(i.reflectivity=A.reflectivity),void 0!==A.refractionRatio&&(i.refractionRatio=A.refractionRatio),void 0!==A.lightMap&&(i.lightMap=t(A.lightMap)),void 0!==A.lightMapIntensity&&(i.lightMapIntensity=A.lightMapIntensity),void 0!==A.aoMap&&(i.aoMap=t(A.aoMap)),void 0!==A.aoMapIntensity&&(i.aoMapIntensity=A.aoMapIntensity),void 0!==A.gradientMap&&(i.gradientMap=t(A.gradientMap)),i},setPath:function(A){return this.path=A,this},setTextures:function(A){return this.textures=A,this}});var Nl={decodeText:function(A){if("undefined"!=typeof TextDecoder)return(new TextDecoder).decode(A);for(var e="",t=0,i=A.length;t<i;t++)e+=String.fromCharCode(A[t]);try{return decodeURIComponent(escape(e))}catch(A){return e}},extractUrlBase:function(A){var e=A.lastIndexOf("/");return-1===e?"./":A.substr(0,e+1)}};function Rl(){Gi.call(this),this.type="InstancedBufferGeometry",this.maxInstancedCount=void 0}function Pl(A,e,t,i){"number"==typeof t&&(i=t,t=!1,console.error("THREE.InstancedBufferAttribute: The constructor now expects normalized as the third argument.")),Ci.call(this,A,e,t),this.meshPerAttribute=i||1}function Dl(A){this.manager=void 0!==A?A:js}Rl.prototype=Object.assign(Object.create(Gi.prototype),{constructor:Rl,isInstancedBufferGeometry:!0,copy:function(A){return Gi.prototype.copy.call(this,A),this.maxInstancedCount=A.maxInstancedCount,this},clone:function(){return(new this.constructor).copy(this)},toJSON:function(){var A=Gi.prototype.toJSON.call(this);return A.maxInstancedCount=this.maxInstancedCount,A.isInstancedBufferGeometry=!0,A}}),Pl.prototype=Object.assign(Object.create(Ci.prototype),{constructor:Pl,isInstancedBufferAttribute:!0,copy:function(A){return Ci.prototype.copy.call(this,A),this.meshPerAttribute=A.meshPerAttribute,this},toJSON:function(){var A=Ci.prototype.toJSON.call(this);return A.meshPerAttribute=this.meshPerAttribute,A.isInstancedBufferAttribute=!0,A}}),Object.assign(Dl.prototype,{load:function(A,e,t,i){var n=this,o=new qs(n.manager);o.setPath(n.path),o.load(A,function(A){e(n.parse(JSON.parse(A)))},t,i)},parse:function(A){var e=A.isInstancedBufferGeometry?new Rl:new Gi,t=A.data.index;if(void 0!==t){var i=new Ql[t.type](t.array);e.setIndex(new Ci(i,1))}var n=A.data.attributes;for(var o in n){i=new Ql[(h=n[o]).type](h.array);var r=new(h.isInstancedBufferAttribute?Pl:Ci)(i,h.itemSize,h.normalized);void 0!==h.name&&(r.name=h.name),e.addAttribute(o,r)}var a=A.data.morphAttributes;if(a)for(var o in a){for(var s=a[o],l=[],c=0,d=s.length;c<d;c++){var h;r=new Ci(i=new Ql[(h=s[c]).type](h.array),h.itemSize,h.normalized);void 0!==h.name&&(r.name=h.name),l.push(r)}e.morphAttributes[o]=l}var u=A.data.groups||A.data.drawcalls||A.data.offsets;if(void 0!==u){c=0;for(var p=u.length;c!==p;++c){var g=u[c];e.addGroup(g.start,g.count,g.materialIndex)}}var f=A.data.boundingSphere;if(void 0!==f){var m=new Ue;void 0!==f.center&&m.fromArray(f.center),e.boundingSphere=new oi(m,f.radius)}return A.name&&(e.name=A.name),A.userData&&(e.userData=A.userData),e},setPath:function(A){return this.path=A,this}});var Ql={Int8Array:Int8Array,Uint8Array:Uint8Array,Uint8ClampedArray:"undefined"!=typeof Uint8ClampedArray?Uint8ClampedArray:Uint8Array,Int16Array:Int16Array,Uint16Array:Uint16Array,Int32Array:Int32Array,Uint32Array:Uint32Array,Float32Array:Float32Array,Float64Array:Float64Array};function kl(A){this.manager=void 0!==A?A:js,this.resourcePath=""}Object.assign(kl.prototype,{crossOrigin:"anonymous",load:function(i,n,A,o){var r=this,e=void 0===this.path?Nl.extractUrlBase(i):this.path;this.resourcePath=this.resourcePath||e;var t=new qs(r.manager);t.setPath(this.path),t.load(i,function(A){var e=null;try{e=JSON.parse(A)}catch(A){return void 0!==o&&o(A),void console.error("THREE:ObjectLoader: Can't parse "+i+".",A.message)}var t=e.metadata;void 0!==t&&void 0!==t.type&&"geometry"!==t.type.toLowerCase()?r.parse(e,n):console.error("THREE.ObjectLoader: Can't load "+i)},A,o)},setPath:function(A){return this.path=A,this},setResourcePath:function(A){return this.resourcePath=A,this},setCrossOrigin:function(A){return this.crossOrigin=A,this},parse:function(A,e){var t=this.parseShape(A.shapes),i=this.parseGeometries(A.geometries,t),n=this.parseImages(A.images,function(){void 0!==e&&e(a)}),o=this.parseTextures(A.textures,n),r=this.parseMaterials(A.materials,o),a=this.parseObject(A.object,i,r);return A.animations&&(a.animations=this.parseAnimations(A.animations)),void 0!==A.images&&0!==A.images.length||void 0!==e&&e(a),a},parseShape:function(A){var e={};if(void 0!==A)for(var t=0,i=A.length;t<i;t++){var n=(new bl).fromJSON(A[t]);e[n.uuid]=n}return e},parseGeometries:function(A,e){var t={};if(void 0!==A)for(var i=new Dl,n=0,o=A.length;n<o;n++){var r,a=A[n];switch(a.type){case"PlaneGeometry":case"PlaneBufferGeometry":r=new ms[a.type](a.width,a.height,a.widthSegments,a.heightSegments);break;case"BoxGeometry":case"BoxBufferGeometry":case"CubeGeometry":r=new ms[a.type](a.width,a.height,a.depth,a.widthSegments,a.heightSegments,a.depthSegments);break;case"CircleGeometry":case"CircleBufferGeometry":r=new ms[a.type](a.radius,a.segments,a.thetaStart,a.thetaLength);break;case"CylinderGeometry":case"CylinderBufferGeometry":r=new ms[a.type](a.radiusTop,a.radiusBottom,a.height,a.radialSegments,a.heightSegments,a.openEnded,a.thetaStart,a.thetaLength);break;case"ConeGeometry":case"ConeBufferGeometry":r=new ms[a.type](a.radius,a.height,a.radialSegments,a.heightSegments,a.openEnded,a.thetaStart,a.thetaLength);break;case"SphereGeometry":case"SphereBufferGeometry":r=new ms[a.type](a.radius,a.widthSegments,a.heightSegments,a.phiStart,a.phiLength,a.thetaStart,a.thetaLength);break;case"DodecahedronGeometry":case"DodecahedronBufferGeometry":case"IcosahedronGeometry":case"IcosahedronBufferGeometry":case"OctahedronGeometry":case"OctahedronBufferGeometry":case"TetrahedronGeometry":case"TetrahedronBufferGeometry":r=new ms[a.type](a.radius,a.detail);break;case"RingGeometry":case"RingBufferGeometry":r=new ms[a.type](a.innerRadius,a.outerRadius,a.thetaSegments,a.phiSegments,a.thetaStart,a.thetaLength);break;case"TorusGeometry":case"TorusBufferGeometry":r=new ms[a.type](a.radius,a.tube,a.radialSegments,a.tubularSegments,a.arc);break;case"TorusKnotGeometry":case"TorusKnotBufferGeometry":r=new ms[a.type](a.radius,a.tube,a.tubularSegments,a.radialSegments,a.p,a.q);break;case"TubeGeometry":case"TubeBufferGeometry":r=new ms[a.type]((new Cl[a.path.type]).fromJSON(a.path),a.tubularSegments,a.radius,a.radialSegments,a.closed);break;case"LatheGeometry":case"LatheBufferGeometry":r=new ms[a.type](a.points,a.segments,a.phiStart,a.phiLength);break;case"PolyhedronGeometry":case"PolyhedronBufferGeometry":r=new ms[a.type](a.vertices,a.indices,a.radius,a.details);break;case"ShapeGeometry":case"ShapeBufferGeometry":for(var s=[],l=0,c=a.shapes.length;l<c;l++){s.push(e[a.shapes[l]])}r=new ms[a.type](s,a.curveSegments);break;case"ExtrudeGeometry":case"ExtrudeBufferGeometry":for(s=[],l=0,c=a.shapes.length;l<c;l++){s.push(e[a.shapes[l]])}var d=a.options.extrudePath;void 0!==d&&(a.options.extrudePath=(new Cl[d.type]).fromJSON(d)),r=new ms[a.type](s,a.options);break;case"BufferGeometry":case"InstancedBufferGeometry":r=i.parse(a);break;case"Geometry":if("THREE"in window&&"LegacyJSONLoader"in THREE)r=(new THREE.LegacyJSONLoader).parse(a,this.resourcePath).geometry;else console.error('THREE.ObjectLoader: You have to import LegacyJSONLoader in order load geometry data of type "Geometry".');break;default:console.warn('THREE.ObjectLoader: Unsupported geometry type "'+a.type+'"');continue}r.uuid=a.uuid,void 0!==a.name&&(r.name=a.name),!0===r.isBufferGeometry&&void 0!==a.userData&&(r.userData=a.userData),t[a.uuid]=r}return t},parseMaterials:function(A,e){var t={},i={};if(void 0!==A){var n=new Ul;n.setTextures(e);for(var o=0,r=A.length;o<r;o++){var a=A[o];if("MultiMaterial"===a.type){for(var s=[],l=0;l<a.materials.length;l++){var c=a.materials[l];void 0===t[c.uuid]&&(t[c.uuid]=n.parse(c)),s.push(t[c.uuid])}i[a.uuid]=s}else void 0===t[a.uuid]&&(t[a.uuid]=n.parse(a)),i[a.uuid]=t[a.uuid]}}return i},parseAnimations:function(A){for(var e=[],t=0;t<A.length;t++){var i=A[t],n=zs.parse(i);void 0!==i.uuid&&(n.uuid=i.uuid),e.push(n)}return e},parseImages:function(A,e){var t=this,i={};function n(A){return t.manager.itemStart(A),o.load(A,function(){t.manager.itemEnd(A)},void 0,function(){t.manager.itemError(A),t.manager.itemEnd(A)})}if(void 0!==A&&0<A.length){var o=new Zs(new Gs(e));o.setCrossOrigin(this.crossOrigin);for(var r=0,a=A.length;r<a;r++){var s=A[r],l=s.url;if(Array.isArray(l)){i[s.uuid]=[];for(var c=0,d=l.length;c<d;c++){var h=l[c],u=/^(\/\/)|([a-z]+:(\/\/)?)/i.test(h)?h:t.resourcePath+h;i[s.uuid].push(n(u))}}else{u=/^(\/\/)|([a-z]+:(\/\/)?)/i.test(s.url)?s.url:t.resourcePath+s.url;i[s.uuid]=n(u)}}}return i},parseTextures:function(A,e){function t(A,e){return"number"==typeof A?A:(console.warn("THREE.ObjectLoader.parseTexture: Constant should be in numeric form.",A),e[A])}var i={};if(void 0!==A)for(var n=0,o=A.length;n<o;n++){var r,a=A[n];void 0===a.image&&console.warn('THREE.ObjectLoader: No "image" specified for',a.uuid),void 0===e[a.image]&&console.warn("THREE.ObjectLoader: Undefined image",a.image),(r=Array.isArray(e[a.image])?new Hn(e[a.image]):new Ye(e[a.image])).needsUpdate=!0,r.uuid=a.uuid,void 0!==a.name&&(r.name=a.name),void 0!==a.mapping&&(r.mapping=t(a.mapping,Wl)),void 0!==a.offset&&r.offset.fromArray(a.offset),void 0!==a.repeat&&r.repeat.fromArray(a.repeat),void 0!==a.center&&r.center.fromArray(a.center),void 0!==a.rotation&&(r.rotation=a.rotation),void 0!==a.wrap&&(r.wrapS=t(a.wrap[0],ql),r.wrapT=t(a.wrap[1],ql)),void 0!==a.format&&(r.format=a.format),void 0!==a.type&&(r.type=a.type),void 0!==a.encoding&&(r.encoding=a.encoding),void 0!==a.minFilter&&(r.minFilter=t(a.minFilter,Xl)),void 0!==a.magFilter&&(r.magFilter=t(a.magFilter,Xl)),void 0!==a.anisotropy&&(r.anisotropy=a.anisotropy),void 0!==a.flipY&&(r.flipY=a.flipY),void 0!==a.premultiplyAlpha&&(r.premultiplyAlpha=a.premultiplyAlpha),void 0!==a.unpackAlignment&&(r.unpackAlignment=a.unpackAlignment),i[a.uuid]=r}return i},parseObject:function(A,e,o){var t;function i(A){return void 0===e[A]&&console.warn("THREE.ObjectLoader: Undefined geometry",A),e[A]}function n(A){if(void 0!==A){if(Array.isArray(A)){for(var e=[],t=0,i=A.length;t<i;t++){var n=A[t];void 0===o[n]&&console.warn("THREE.ObjectLoader: Undefined material",n),e.push(o[n])}return e}return void 0===o[A]&&console.warn("THREE.ObjectLoader: Undefined material",A),o[A]}}switch(A.type){case"Scene":t=new ii,void 0!==A.background&&Number.isInteger(A.background)&&(t.background=new hi(A.background)),void 0!==A.fog&&("Fog"===A.fog.type?t.fog=new kr(A.fog.color,A.fog.near,A.fog.far):"FogExp2"===A.fog.type&&(t.fog=new Qr(A.fog.color,A.fog.density)));break;case"PerspectiveCamera":t=new hn(A.fov,A.aspect,A.near,A.far),void 0!==A.focus&&(t.focus=A.focus),void 0!==A.zoom&&(t.zoom=A.zoom),void 0!==A.filmGauge&&(t.filmGauge=A.filmGauge),void 0!==A.filmOffset&&(t.filmOffset=A.filmOffset),void 0!==A.view&&(t.view=Object.assign({},A.view));break;case"OrthographicCamera":t=new Tl(A.left,A.right,A.top,A.bottom,A.near,A.far),void 0!==A.zoom&&(t.zoom=A.zoom),void 0!==A.view&&(t.view=Object.assign({},A.view));break;case"AmbientLight":t=new Ll(A.color,A.intensity);break;case"DirectionalLight":t=new Fl(A.color,A.intensity);break;case"PointLight":t=new Sl(A.color,A.intensity,A.distance,A.decay);break;case"RectAreaLight":t=new Ol(A.color,A.intensity,A.width,A.height);break;case"SpotLight":t=new _l(A.color,A.intensity,A.distance,A.angle,A.penumbra,A.decay);break;case"HemisphereLight":t=new wl(A.color,A.groundColor,A.intensity);break;case"SkinnedMesh":console.warn("THREE.ObjectLoader.parseObject() does not support SkinnedMesh yet.");case"Mesh":var r=i(A.geometry),a=n(A.material);t=r.bones&&0<r.bones.length?new Wr(r,a):new ji(r,a),void 0!==A.drawMode&&t.setDrawMode(A.drawMode);break;case"LOD":t=new jr;break;case"Line":t=new Jr(i(A.geometry),n(A.material),A.mode);break;case"LineLoop":t=new $r(i(A.geometry),n(A.material));break;case"LineSegments":t=new Zr(i(A.geometry),n(A.material));break;case"PointCloud":case"Points":t=new ea(i(A.geometry),n(A.material));break;case"Sprite":t=new Gr(n(A.material));break;case"Group":t=new fr;break;default:t=new ti}if(t.uuid=A.uuid,void 0!==A.name&&(t.name=A.name),void 0!==A.matrix?(t.matrix.fromArray(A.matrix),void 0!==A.matrixAutoUpdate&&(t.matrixAutoUpdate=A.matrixAutoUpdate),t.matrixAutoUpdate&&t.matrix.decompose(t.position,t.quaternion,t.scale)):(void 0!==A.position&&t.position.fromArray(A.position),void 0!==A.rotation&&t.rotation.fromArray(A.rotation),void 0!==A.quaternion&&t.quaternion.fromArray(A.quaternion),void 0!==A.scale&&t.scale.fromArray(A.scale)),void 0!==A.castShadow&&(t.castShadow=A.castShadow),void 0!==A.receiveShadow&&(t.receiveShadow=A.receiveShadow),A.shadow&&(void 0!==A.shadow.bias&&(t.shadow.bias=A.shadow.bias),void 0!==A.shadow.radius&&(t.shadow.radius=A.shadow.radius),void 0!==A.shadow.mapSize&&t.shadow.mapSize.fromArray(A.shadow.mapSize),void 0!==A.shadow.camera&&(t.shadow.camera=this.parseObject(A.shadow.camera))),void 0!==A.visible&&(t.visible=A.visible),void 0!==A.frustumCulled&&(t.frustumCulled=A.frustumCulled),void 0!==A.renderOrder&&(t.renderOrder=A.renderOrder),void 0!==A.userData&&(t.userData=A.userData),void 0!==A.layers&&(t.layers.mask=A.layers),void 0!==A.children)for(var s=A.children,l=0;l<s.length;l++)t.add(this.parseObject(s[l],e,o));if("LOD"===A.type)for(var c=A.levels,d=0;d<c.length;d++){var h=c[d],u=t.getObjectByProperty("uuid",h.object);void 0!==u&&t.addLevel(u,h.distance)}return t}});var zl,Vl,Hl,Gl,jl,Wl={UVMapping:300,CubeReflectionMapping:vA,CubeRefractionMapping:yA,EquirectangularReflectionMapping:CA,EquirectangularRefractionMapping:bA,SphericalReflectionMapping:EA,CubeUVReflectionMapping:wA,CubeUVRefractionMapping:MA},ql={RepeatWrapping:B,ClampToEdgeWrapping:L,MirroredRepeatWrapping:_},Xl={NearestFilter:N,NearestMipmapNearestFilter:O,NearestMipmapLinearFilter:R,LinearFilter:P,LinearMipmapNearestFilter:S,LinearMipmapLinearFilter:T};function Yl(A){"undefined"==typeof createImageBitmap&&console.warn("THREE.ImageBitmapLoader: createImageBitmap() not supported."),"undefined"==typeof fetch&&console.warn("THREE.ImageBitmapLoader: fetch() not supported."),this.manager=void 0!==A?A:js,this.options=void 0}function Jl(){this.type="ShapePath",this.color=new hi,this.subPaths=[],this.currentPath=null}function Zl(A){this.type="Font",this.data=A}function $l(A,e,t,i,n){var o=n.glyphs[A]||n.glyphs["?"];if(o){var r,a,s,l,c,d,h,u,p=new Jl;if(o.o)for(var g=o._cachedOutline||(o._cachedOutline=o.o.split(" ")),f=0,m=g.length;f<m;){switch(g[f++]){case"m":r=g[f++]*e+t,a=g[f++]*e+i,p.moveTo(r,a);break;case"l":r=g[f++]*e+t,a=g[f++]*e+i,p.lineTo(r,a);break;case"q":s=g[f++]*e+t,l=g[f++]*e+i,c=g[f++]*e+t,d=g[f++]*e+i,p.quadraticCurveTo(c,d,s,l);break;case"b":s=g[f++]*e+t,l=g[f++]*e+i,c=g[f++]*e+t,d=g[f++]*e+i,h=g[f++]*e+t,u=g[f++]*e+i,p.bezierCurveTo(c,d,h,u,s,l)}}return{offsetX:o.ha*e,path:p}}console.error('THREE.Font: character "'+A+'" does not exists in font family '+n.familyName+".")}function Ac(A){this.manager=void 0!==A?A:js}function ec(){}Yl.prototype={constructor:Yl,setOptions:function(A){return this.options=A,this},load:function(e,t,A,i){void 0===e&&(e=""),void 0!==this.path&&(e=this.path+e),e=this.manager.resolveURL(e);var n=this,o=Hs.get(e);if(void 0!==o)return n.manager.itemStart(e),setTimeout(function(){t&&t(o),n.manager.itemEnd(e)},0),o;fetch(e).then(function(A){return A.blob()}).then(function(A){return void 0===n.options?createImageBitmap(A):createImageBitmap(A,n.options)}).then(function(A){Hs.add(e,A),t&&t(A),n.manager.itemEnd(e)}).catch(function(A){i&&i(A),n.manager.itemError(e),n.manager.itemEnd(e)}),n.manager.itemStart(e)},setCrossOrigin:function(){return this},setPath:function(A){return this.path=A,this}},Object.assign(Jl.prototype,{moveTo:function(A,e){this.currentPath=new xl,this.subPaths.push(this.currentPath),this.currentPath.moveTo(A,e)},lineTo:function(A,e){this.currentPath.lineTo(A,e)},quadraticCurveTo:function(A,e,t,i){this.currentPath.quadraticCurveTo(A,e,t,i)},bezierCurveTo:function(A,e,t,i,n,o){this.currentPath.bezierCurveTo(A,e,t,i,n,o)},splineThru:function(A){this.currentPath.splineThru(A)},toShapes:function(A,e){function t(A){for(var e=[],t=0,i=A.length;t<i;t++){var n=A[t],o=new bl;o.curves=n.curves,e.push(o)}return e}function i(A,e){for(var t=e.length,i=!1,n=t-1,o=0;o<t;n=o++){var r=e[n],a=e[o],s=a.x-r.x,l=a.y-r.y;if(Math.abs(l)>Number.EPSILON){if(l<0&&(r=e[o],s=-s,a=e[n],l=-l),A.y<r.y||a.y<A.y)continue;if(A.y===r.y){if(A.x===r.x)return!0}else{var c=l*(A.x-r.x)-s*(A.y-r.y);if(0===c)return!0;if(c<0)continue;i=!i}}else{if(A.y!==r.y)continue;if(a.x<=A.x&&A.x<=r.x||r.x<=A.x&&A.x<=a.x)return!0}}return i}var n=ja.isClockWise,o=this.subPaths;if(0===o.length)return[];if(!0===e)return t(o);var r,a,s,l=[];if(1===o.length)return a=o[0],(s=new bl).curves=a.curves,l.push(s),l;var c=!n(o[0].getPoints());c=A?!c:c;var d,h,u=[],p=[],g=[],f=0;p[f]=void 0,g[f]=[];for(var m=0,v=o.length;m<v;m++)r=n(d=(a=o[m]).getPoints()),(r=A?!r:r)?(!c&&p[f]&&f++,p[f]={s:new bl,p:d},p[f].s.curves=a.curves,c&&f++,g[f]=[]):g[f].push({h:a,p:d[0]});if(!p[0])return t(o);if(1<p.length){for(var y=!1,C=[],I=0,x=p.length;I<x;I++)u[I]=[];for(I=0,x=p.length;I<x;I++)for(var b=g[I],E=0;E<b.length;E++){for(var w=b[E],M=!0,B=0;B<p.length;B++)i(w.p,p[B].p)&&(I!==B&&C.push({froms:I,tos:B,hole:E}),M?(M=!1,u[B].push(w)):y=!0);M&&u[I].push(w)}0<C.length&&(y||(g=u))}m=0;for(var _=p.length;m<_;m++){l.push(s=p[m].s);for(var S=0,T=(h=g[m]).length;S<T;S++)s.holes.push(h[S].h)}return l}}),Object.assign(Zl.prototype,{isFont:!0,generateShapes:function(A,e){void 0===e&&(e=100);for(var t=[],i=function(A,e,t){for(var i=Array.from?Array.from(A):String(A).split(""),n=e/t.resolution,o=(t.boundingBox.yMax-t.boundingBox.yMin+t.underlineThickness)*n,r=[],a=0,s=0,l=0;l<i.length;l++){var c=i[l];if("\n"===c)a=0,s-=o;else{var d=$l(c,n,a,s,t);a+=d.offsetX,r.push(d.path)}}return r}(A,e,this.data),n=0,o=i.length;n<o;n++)Array.prototype.push.apply(t,i[n].toShapes());return t}}),Object.assign(Ac.prototype,{load:function(A,i,e,t){var n=this,o=new qs(this.manager);o.setPath(this.path),o.load(A,function(e){var t;try{t=JSON.parse(e)}catch(A){console.warn("THREE.FontLoader: typeface.js support is being deprecated. Use typeface.json instead."),t=JSON.parse(e.substring(65,e.length-2))}var A=n.parse(t);i&&i(A)},e,t)},parse:function(A){return new Zl(A)},setPath:function(A){return this.path=A,this}}),ec.Handlers={handlers:[],add:function(A,e){this.handlers.push(A,e)},get:function(A){for(var e=this.handlers,t=0,i=e.length;t<i;t+=2){var n=e[t+1];if(e[t].test(A))return n}return null}},Object.assign(ec.prototype,{crossOrigin:"anonymous",onLoadStart:function(){},onLoadProgress:function(){},onLoadComplete:function(){},initMaterials:function(A,e,t){for(var i=[],n=0;n<A.length;++n)i[n]=this.createMaterial(A[n],e,t);return i},createMaterial:(zl={NoBlending:X,NormalBlending:Y,AdditiveBlending:J,SubtractiveBlending:Z,MultiplyBlending:AA,CustomBlending:eA},Vl=new hi,Hl=new Al,Gl=new Ul,function(A,l,c){var d={};function e(A,e,t,i,n){var o,r=l+A,a=ec.Handlers.get(r);o=null!==a?a.load(r):(Hl.setCrossOrigin(c),Hl.load(r)),void 0!==e&&(o.repeat.fromArray(e),1!==e[0]&&(o.wrapS=B),1!==e[1]&&(o.wrapT=B)),void 0!==t&&o.offset.fromArray(t),void 0!==i&&("repeat"===i[0]&&(o.wrapS=B),"mirror"===i[0]&&(o.wrapS=_),"repeat"===i[1]&&(o.wrapT=B),"mirror"===i[1]&&(o.wrapT=_)),void 0!==n&&(o.anisotropy=n);var s=Fe.generateUUID();return d[s]=o,s}var t={uuid:Fe.generateUUID(),type:"MeshLambertMaterial"};for(var i in A){var n=A[i];switch(i){case"DbgColor":case"DbgIndex":case"opticalDensity":case"illumination":break;case"DbgName":t.name=n;break;case"blending":t.blending=zl[n];break;case"colorAmbient":case"mapAmbient":console.warn("THREE.Loader.createMaterial:",i,"is no longer supported.");break;case"colorDiffuse":t.color=Vl.fromArray(n).getHex();break;case"colorSpecular":t.specular=Vl.fromArray(n).getHex();break;case"colorEmissive":t.emissive=Vl.fromArray(n).getHex();break;case"specularCoef":t.shininess=n;break;case"shading":"basic"===n.toLowerCase()&&(t.type="MeshBasicMaterial"),"phong"===n.toLowerCase()&&(t.type="MeshPhongMaterial"),"standard"===n.toLowerCase()&&(t.type="MeshStandardMaterial");break;case"mapDiffuse":t.map=e(n,A.mapDiffuseRepeat,A.mapDiffuseOffset,A.mapDiffuseWrap,A.mapDiffuseAnisotropy);break;case"mapDiffuseRepeat":case"mapDiffuseOffset":case"mapDiffuseWrap":case"mapDiffuseAnisotropy":break;case"mapEmissive":t.emissiveMap=e(n,A.mapEmissiveRepeat,A.mapEmissiveOffset,A.mapEmissiveWrap,A.mapEmissiveAnisotropy);break;case"mapEmissiveRepeat":case"mapEmissiveOffset":case"mapEmissiveWrap":case"mapEmissiveAnisotropy":break;case"mapLight":t.lightMap=e(n,A.mapLightRepeat,A.mapLightOffset,A.mapLightWrap,A.mapLightAnisotropy);break;case"mapLightRepeat":case"mapLightOffset":case"mapLightWrap":case"mapLightAnisotropy":break;case"mapAO":t.aoMap=e(n,A.mapAORepeat,A.mapAOOffset,A.mapAOWrap,A.mapAOAnisotropy);break;case"mapAORepeat":case"mapAOOffset":case"mapAOWrap":case"mapAOAnisotropy":break;case"mapBump":t.bumpMap=e(n,A.mapBumpRepeat,A.mapBumpOffset,A.mapBumpWrap,A.mapBumpAnisotropy);break;case"mapBumpScale":t.bumpScale=n;break;case"mapBumpRepeat":case"mapBumpOffset":case"mapBumpWrap":case"mapBumpAnisotropy":break;case"mapNormal":t.normalMap=e(n,A.mapNormalRepeat,A.mapNormalOffset,A.mapNormalWrap,A.mapNormalAnisotropy);break;case"mapNormalFactor":t.normalScale=n;break;case"mapNormalRepeat":case"mapNormalOffset":case"mapNormalWrap":case"mapNormalAnisotropy":break;case"mapSpecular":t.specularMap=e(n,A.mapSpecularRepeat,A.mapSpecularOffset,A.mapSpecularWrap,A.mapSpecularAnisotropy);break;case"mapSpecularRepeat":case"mapSpecularOffset":case"mapSpecularWrap":case"mapSpecularAnisotropy":break;case"mapMetalness":t.metalnessMap=e(n,A.mapMetalnessRepeat,A.mapMetalnessOffset,A.mapMetalnessWrap,A.mapMetalnessAnisotropy);break;case"mapMetalnessRepeat":case"mapMetalnessOffset":case"mapMetalnessWrap":case"mapMetalnessAnisotropy":break;case"mapRoughness":t.roughnessMap=e(n,A.mapRoughnessRepeat,A.mapRoughnessOffset,A.mapRoughnessWrap,A.mapRoughnessAnisotropy);break;case"mapRoughnessRepeat":case"mapRoughnessOffset":case"mapRoughnessWrap":case"mapRoughnessAnisotropy":break;case"mapAlpha":t.alphaMap=e(n,A.mapAlphaRepeat,A.mapAlphaOffset,A.mapAlphaWrap,A.mapAlphaAnisotropy);break;case"mapAlphaRepeat":case"mapAlphaOffset":case"mapAlphaWrap":case"mapAlphaAnisotropy":break;case"flipSided":t.side=IA;break;case"doubleSided":t.side=gA;break;case"transparency":console.warn("THREE.Loader.createMaterial: transparency has been renamed to opacity"),t.opacity=n;break;case"depthTest":case"depthWrite":case"colorWrite":case"opacity":case"reflectivity":case"transparent":case"visible":case"wireframe":t[i]=n;break;case"vertexColors":!0===n&&(t.vertexColors=m),"face"===n&&(t.vertexColors=1);break;default:console.error("THREE.Loader.createMaterial: Unsupported",i,n)}}return"MeshBasicMaterial"===t.type&&delete t.emissive,"MeshPhongMaterial"!==t.type&&delete t.specular,t.opacity<1&&(t.transparent=!0),Gl.setTextures(d),Gl.parse(t)})});var tc,ic,nc,oc,rc,ac,sc,lc,cc,dc,hc,uc,pc,gc,fc,mc,vc,yc,Cc,Ic={getContext:function(){return void 0===jl&&(jl=new(window.AudioContext||window.webkitAudioContext)),jl},setContext:function(A){jl=A}};function xc(A){this.manager=void 0!==A?A:js}function bc(){this.coefficients=[];for(var A=0;A<9;A++)this.coefficients.push(new Ue)}function Ec(A,e){El.call(this,void 0,e),this.sh=void 0!==A?A:new bc}function wc(A,e,t){Ec.call(this,void 0,t);var i=(new hi).set(A),n=(new hi).set(e),o=new Ue(i.r,i.g,i.b),r=new Ue(n.r,n.g,n.b),a=Math.sqrt(Math.PI),s=a*Math.sqrt(.75);this.sh.coefficients[0].copy(o).add(r).multiplyScalar(a),this.sh.coefficients[1].copy(o).sub(r).multiplyScalar(s)}function Mc(A,e){Ec.call(this,void 0,e);var t=(new hi).set(A);this.sh.coefficients[0].set(t.r,t.g,t.b).multiplyScalar(2*Math.sqrt(Math.PI))}function Bc(){this.type="StereoCamera",this.aspect=1,this.eyeSep=.064,this.cameraL=new hn,this.cameraL.layers.enable(1),this.cameraL.matrixAutoUpdate=!1,this.cameraR=new hn,this.cameraR.layers.enable(2),this.cameraR.matrixAutoUpdate=!1}function _c(A){this.autoStart=void 0===A||A,this.startTime=0,this.oldTime=0,this.elapsedTime=0,this.running=!1}function Sc(){ti.call(this),this.type="AudioListener",this.context=Ic.getContext(),this.gain=this.context.createGain(),this.gain.connect(this.context.destination),this.filter=null,this.timeDelta=0}function Tc(A){ti.call(this),this.type="Audio",this.listener=A,this.context=A.context,this.gain=this.context.createGain(),this.gain.connect(A.getInput()),this.autoplay=!1,this.buffer=null,this.detune=0,this.loop=!1,this.startTime=0,this.offset=0,this.playbackRate=1,this.isPlaying=!1,this.hasPlaybackControl=!0,this.sourceType="empty",this.filters=[]}function Kc(A){Tc.call(this,A),this.panner=this.context.createPanner(),this.panner.panningModel="HRTF",this.panner.connect(this.gain)}function Fc(A,e){this.analyser=A.context.createAnalyser(),this.analyser.fftSize=void 0!==e?e:2048,this.data=new Uint8Array(this.analyser.frequencyBinCount),A.getOutput().connect(this.analyser)}function Lc(A,e,t){this.binding=A,this.valueSize=t;var i,n=Float64Array;switch(e){case"quaternion":i=this._slerp;break;case"string":case"bool":n=Array,i=this._select;break;default:i=this._lerp}this.buffer=new n(4*t),this._mixBufferRegion=i,this.cumulativeWeight=0,this.useCount=0,this.referenceCount=0}Object.assign(xc.prototype,{load:function(A,t,e,i){var n=new qs(this.manager);n.setResponseType("arraybuffer"),n.setPath(this.path),n.load(A,function(A){var e=A.slice(0);Ic.getContext().decodeAudioData(e,function(A){t(A)})},e,i)},setPath:function(A){return this.path=A,this}}),Object.assign(bc.prototype,{isSphericalHarmonics3:!0,set:function(A){for(var e=0;e<9;e++)this.coefficients[e].copy(A[e]);return this},zero:function(){for(var A=0;A<9;A++)this.coefficients[A].set(0,0,0);return this},getAt:function(A,e){var t=A.x,i=A.y,n=A.z,o=this.coefficients;return e.copy(o[0]).multiplyScalar(.282095),e.addScale(o[1],.488603*i),e.addScale(o[2],.488603*n),e.addScale(o[3],.488603*t),e.addScale(o[4],t*i*1.092548),e.addScale(o[5],i*n*1.092548),e.addScale(o[6],.315392*(3*n*n-1)),e.addScale(o[7],t*n*1.092548),e.addScale(o[8],.546274*(t*t-i*i)),e},getIrradianceAt:function(A,e){var t=A.x,i=A.y,n=A.z,o=this.coefficients;return e.copy(o[0]).multiplyScalar(.886227),e.addScale(o[1],1.023328*i),e.addScale(o[2],1.023328*n),e.addScale(o[3],1.023328*t),e.addScale(o[4],.858086*t*i),e.addScale(o[5],.858086*i*n),e.addScale(o[6],.743125*n*n-.247708),e.addScale(o[7],.858086*t*n),e.addScale(o[8],.429043*(t*t-i*i)),e},add:function(A){for(var e=0;e<9;e++)this.coefficients[e].add(A.coefficients[e]);return this},scale:function(A){for(var e=0;e<9;e++)this.coefficients[e].multiplyScalar(A);return this},lerp:function(A,e){for(var t=0;t<9;t++)this.coefficients[t].lerp(A.coefficients[t],e);return this},equals:function(A){for(var e=0;e<9;e++)if(!this.coefficients[e].equals(A.coefficients[e]))return!1;return!0},copy:function(A){return this.set(A.coefficients)},clone:function(){return(new this.constructor).copy(this)},fromArray:function(A){for(var e=this.coefficients,t=0;t<9;t++)e[t].fromArray(A,3*t);return this},toArray:function(){for(var A=[],e=this.coefficients,t=0;t<9;t++)e[t].toArray(A,3*t);return A}}),Object.assign(bc,{getBasisAt:function(A,e){var t=A.x,i=A.y,n=A.z;e[0]=.282095,e[1]=.488603*i,e[2]=.488603*n,e[3]=.488603*t,e[4]=1.092548*t*i,e[5]=1.092548*i*n,e[6]=.315392*(3*n*n-1),e[7]=1.092548*t*n,e[8]=.546274*(t*t-i*i)}}),Ec.prototype=Object.assign(Object.create(El.prototype),{constructor:Ec,isLightProbe:!0,copy:function(A){return El.prototype.copy.call(this,A),this.sh.copy(A.sh),this.intensity=A.intensity,this},toJSON:function(A){return El.prototype.toJSON.call(this,A)}}),wc.prototype=Object.assign(Object.create(Ec.prototype),{constructor:wc,isHemisphereLightProbe:!0,copy:function(A){return Ec.prototype.copy.call(this,A),this},toJSON:function(A){return Ec.prototype.toJSON.call(this,A)}}),Mc.prototype=Object.assign(Object.create(Ec.prototype),{constructor:Mc,isAmbientLightProbe:!0,copy:function(A){return Ec.prototype.copy.call(this,A),this},toJSON:function(A){return Ec.prototype.toJSON.call(this,A)}}),Object.assign(Bc.prototype,{update:(cc=new At,dc=new At,function(A){if(tc!==this||ic!==A.focus||nc!==A.fov||oc!==A.aspect*this.aspect||rc!==A.near||ac!==A.far||sc!==A.zoom||lc!==this.eyeSep){ic=A.focus,nc=A.fov,oc=A.aspect*(tc=this).aspect,rc=A.near,ac=A.far,sc=A.zoom;var e,t,i=A.projectionMatrix.clone(),n=(lc=this.eyeSep/2)*rc/ic,o=rc*Math.tan(Fe.DEG2RAD*nc*.5)/sc;dc.elements[12]=-lc,cc.elements[12]=lc,i.elements[0]=2*rc/((t=o*oc+n)-(e=-o*oc+n)),i.elements[8]=(t+e)/(t-e),this.cameraL.projectionMatrix.copy(i),i.elements[0]=2*rc/((t=o*oc-n)-(e=-o*oc-n)),i.elements[8]=(t+e)/(t-e),this.cameraR.projectionMatrix.copy(i)}this.cameraL.matrixWorld.copy(A.matrixWorld).multiply(dc),this.cameraR.matrixWorld.copy(A.matrixWorld).multiply(cc)})}),Object.assign(_c.prototype,{start:function(){this.startTime=("undefined"==typeof performance?Date:performance).now(),this.oldTime=this.startTime,this.elapsedTime=0,this.running=!0},stop:function(){this.getElapsedTime(),this.running=!1,this.autoStart=!1},getElapsedTime:function(){return this.getDelta(),this.elapsedTime},getDelta:function(){var A=0;if(this.autoStart&&!this.running)return this.start(),0;if(this.running){var e=("undefined"==typeof performance?Date:performance).now();A=(e-this.oldTime)/1e3,this.oldTime=e,this.elapsedTime+=A}return A}}),Sc.prototype=Object.assign(Object.create(ti.prototype),{constructor:Sc,getInput:function(){return this.gain},removeFilter:function(){return null!==this.filter&&(this.gain.disconnect(this.filter),this.filter.disconnect(this.context.destination),this.gain.connect(this.context.destination),this.filter=null),this},getFilter:function(){return this.filter},setFilter:function(A){return null!==this.filter?(this.gain.disconnect(this.filter),this.filter.disconnect(this.context.destination)):this.gain.disconnect(this.context.destination),this.filter=A,this.gain.connect(this.filter),this.filter.connect(this.context.destination),this},getMasterVolume:function(){return this.gain.gain.value},setMasterVolume:function(A){return this.gain.gain.setTargetAtTime(A,this.context.currentTime,.01),this},updateMatrixWorld:(hc=new Ue,uc=new Oe,pc=new Ue,gc=new Ue,fc=new _c,function(A){ti.prototype.updateMatrixWorld.call(this,A);var e=this.context.listener,t=this.up;if(this.timeDelta=fc.getDelta(),this.matrixWorld.decompose(hc,uc,pc),gc.set(0,0,-1).applyQuaternion(uc),e.positionX){var i=this.context.currentTime+this.timeDelta;e.positionX.linearRampToValueAtTime(hc.x,i),e.positionY.linearRampToValueAtTime(hc.y,i),e.positionZ.linearRampToValueAtTime(hc.z,i),e.forwardX.linearRampToValueAtTime(gc.x,i),e.forwardY.linearRampToValueAtTime(gc.y,i),e.forwardZ.linearRampToValueAtTime(gc.z,i),e.upX.linearRampToValueAtTime(t.x,i),e.upY.linearRampToValueAtTime(t.y,i),e.upZ.linearRampToValueAtTime(t.z,i)}else e.setPosition(hc.x,hc.y,hc.z),e.setOrientation(gc.x,gc.y,gc.z,t.x,t.y,t.z)})}),Tc.prototype=Object.assign(Object.create(ti.prototype),{constructor:Tc,getOutput:function(){return this.gain},setNodeSource:function(A){return this.hasPlaybackControl=!1,this.sourceType="audioNode",this.source=A,this.connect(),this},setMediaElementSource:function(A){return this.hasPlaybackControl=!1,this.sourceType="mediaNode",this.source=this.context.createMediaElementSource(A),this.connect(),this},setBuffer:function(A){return this.buffer=A,this.sourceType="buffer",this.autoplay&&this.play(),this},play:function(){if(!0!==this.isPlaying){if(!1!==this.hasPlaybackControl){var A=this.context.createBufferSource();return A.buffer=this.buffer,A.loop=this.loop,A.onended=this.onEnded.bind(this),this.startTime=this.context.currentTime,A.start(this.startTime,this.offset),this.isPlaying=!0,this.source=A,this.setDetune(this.detune),this.setPlaybackRate(this.playbackRate),this.connect()}console.warn("THREE.Audio: this Audio has no playback control.")}else console.warn("THREE.Audio: Audio is already playing.")},pause:function(){if(!1!==this.hasPlaybackControl)return!0===this.isPlaying&&(this.source.stop(),this.source.onended=null,this.offset+=(this.context.currentTime-this.startTime)*this.playbackRate,this.isPlaying=!1),this;console.warn("THREE.Audio: this Audio has no playback control.")},stop:function(){if(!1!==this.hasPlaybackControl)return this.source.stop(),this.source.onended=null,this.offset=0,this.isPlaying=!1,this;console.warn("THREE.Audio: this Audio has no playback control.")},connect:function(){if(0<this.filters.length){this.source.connect(this.filters[0]);for(var A=1,e=this.filters.length;A<e;A++)this.filters[A-1].connect(this.filters[A]);this.filters[this.filters.length-1].connect(this.getOutput())}else this.source.connect(this.getOutput());return this},disconnect:function(){if(0<this.filters.length){this.source.disconnect(this.filters[0]);for(var A=1,e=this.filters.length;A<e;A++)this.filters[A-1].disconnect(this.filters[A]);this.filters[this.filters.length-1].disconnect(this.getOutput())}else this.source.disconnect(this.getOutput());return this},getFilters:function(){return this.filters},setFilters:function(A){return A||(A=[]),!0===this.isPlaying?(this.disconnect(),this.filters=A,this.connect()):this.filters=A,this},setDetune:function(A){if(this.detune=A,void 0!==this.source.detune)return!0===this.isPlaying&&this.source.detune.setTargetAtTime(this.detune,this.context.currentTime,.01),this},getDetune:function(){return this.detune},getFilter:function(){return this.getFilters()[0]},setFilter:function(A){return this.setFilters(A?[A]:[])},setPlaybackRate:function(A){if(!1!==this.hasPlaybackControl)return this.playbackRate=A,!0===this.isPlaying&&this.source.playbackRate.setTargetAtTime(this.playbackRate,this.context.currentTime,.01),this;console.warn("THREE.Audio: this Audio has no playback control.")},getPlaybackRate:function(){return this.playbackRate},onEnded:function(){this.isPlaying=!1},getLoop:function(){return!1===this.hasPlaybackControl?(console.warn("THREE.Audio: this Audio has no playback control."),!1):this.loop},setLoop:function(A){if(!1!==this.hasPlaybackControl)return this.loop=A,!0===this.isPlaying&&(this.source.loop=this.loop),this;console.warn("THREE.Audio: this Audio has no playback control.")},getVolume:function(){return this.gain.gain.value},setVolume:function(A){return this.gain.gain.setTargetAtTime(A,this.context.currentTime,.01),this}}),Kc.prototype=Object.assign(Object.create(Tc.prototype),{constructor:Kc,getOutput:function(){return this.panner},getRefDistance:function(){return this.panner.refDistance},setRefDistance:function(A){return this.panner.refDistance=A,this},getRolloffFactor:function(){return this.panner.rolloffFactor},setRolloffFactor:function(A){return this.panner.rolloffFactor=A,this},getDistanceModel:function(){return this.panner.distanceModel},setDistanceModel:function(A){return this.panner.distanceModel=A,this},getMaxDistance:function(){return this.panner.maxDistance},setMaxDistance:function(A){return this.panner.maxDistance=A,this},setDirectionalCone:function(A,e,t){return this.panner.coneInnerAngle=A,this.panner.coneOuterAngle=e,this.panner.coneOuterGain=t,this},updateMatrixWorld:(mc=new Ue,vc=new Oe,yc=new Ue,Cc=new Ue,function(A){if(ti.prototype.updateMatrixWorld.call(this,A),!0!==this.hasPlaybackControl||!1!==this.isPlaying){this.matrixWorld.decompose(mc,vc,yc),Cc.set(0,0,1).applyQuaternion(vc);var e=this.panner;if(e.positionX){var t=this.context.currentTime+this.listener.timeDelta;e.positionX.linearRampToValueAtTime(mc.x,t),e.positionY.linearRampToValueAtTime(mc.y,t),e.positionZ.linearRampToValueAtTime(mc.z,t),e.orientationX.linearRampToValueAtTime(Cc.x,t),e.orientationY.linearRampToValueAtTime(Cc.y,t),e.orientationZ.linearRampToValueAtTime(Cc.z,t)}else e.setPosition(mc.x,mc.y,mc.z),e.setOrientation(Cc.x,Cc.y,Cc.z)}})}),Object.assign(Fc.prototype,{getFrequencyData:function(){return this.analyser.getByteFrequencyData(this.data),this.data},getAverageFrequency:function(){for(var A=0,e=this.getFrequencyData(),t=0;t<e.length;t++)A+=e[t];return A/e.length}}),Object.assign(Lc.prototype,{accumulate:function(A,e){var t=this.buffer,i=this.valueSize,n=A*i+i,o=this.cumulativeWeight;if(0===o){for(var r=0;r!==i;++r)t[n+r]=t[r];o=e}else{this._mixBufferRegion(t,n,0,e/(o+=e),i)}this.cumulativeWeight=o},apply:function(A){var e=this.valueSize,t=this.buffer,i=A*e+e,n=this.cumulativeWeight,o=this.binding;(this.cumulativeWeight=0,n<1)&&this._mixBufferRegion(t,i,3*e,1-n,e);for(var r=e,a=e+e;r!==a;++r)if(t[r]!==t[r+e]){o.setValue(t,i);break}},saveOriginalState:function(){var A=this.buffer,e=this.valueSize,t=3*e;this.binding.getValue(A,t);for(var i=e,n=t;i!==n;++i)A[i]=A[t+i%e];this.cumulativeWeight=0},restoreOriginalState:function(){this.binding.setValue(this.buffer,3*this.valueSize)},_select:function(A,e,t,i,n){if(.5<=i)for(var o=0;o!==n;++o)A[e+o]=A[t+o]},_slerp:function(A,e,t,i){Oe.slerpFlat(A,e,A,e,A,t,i)},_lerp:function(A,e,t,i,n){for(var o=1-i,r=0;r!==n;++r){var a=e+r;A[a]=A[a]*o+A[t+r]*i}}});var Oc,Uc,Nc,Rc,Pc,Dc,Qc,kc,zc,Vc,Hc,Gc,jc,Wc,qc,Xc,Yc,Jc,Zc,$c,Ad,ed,td,id,nd,od,rd,ad,sd,ld,cd,dd,hd,ud,pd="\\[\\]\\.:\\/";function gd(A,e,t){var i=t||fd.parseTrackName(e);this._targetGroup=A,this._bindings=A.subscribe_(e,i)}function fd(A,e,t){this.path=e,this.parsedPath=t||fd.parseTrackName(e),this.node=fd.findNode(A,this.parsedPath.nodeName)||A,this.rootNode=A}function md(){this.uuid=Fe.generateUUID(),this._objects=Array.prototype.slice.call(arguments),this.nCachedObjects_=0;var A={};this._indicesByUUID=A;for(var e=0,t=arguments.length;e!==t;++e)A[arguments[e].uuid]=e;this._paths=[],this._parsedPaths=[],this._bindings=[],this._bindingsIndicesByPath={};var i=this;this.stats={objects:{get total(){return i._objects.length},get inUse(){return this.total-i.nCachedObjects_}},get bindingsPerObject(){return i._bindings.length}}}function vd(A,e,t){this._mixer=A,this._clip=e,this._localRoot=t||null;for(var i=e.tracks,n=i.length,o=new Array(n),r={endingStart:ge,endingEnd:ge},a=0;a!==n;++a){var s=i[a].createInterpolant(null);(o[a]=s).settings=r}this._interpolantSettings=r,this._interpolants=o,this._propertyBindings=new Array(n),this._cacheIndex=null,this._byClipCacheIndex=null,this._timeScaleInterpolant=null,this._weightInterpolant=null,this.loop=2201,this._loopCount=-1,this._startTime=null,this.time=0,this.timeScale=1,this._effectiveTimeScale=1,this.weight=1,this._effectiveWeight=1,this.repetitions=1/0,this.paused=!1,this.enabled=!0,this.clampWhenFinished=!1,this.zeroSlopeAtStart=!0,this.zeroSlopeAtEnd=!0}function yd(A){this._root=A,this._initMemoryManager(),this._accuIndex=0,this.time=0,this.timeScale=1}function Cd(A){"string"==typeof A&&(console.warn("THREE.Uniform: Type parameter is no longer needed."),A=arguments[1]),this.value=A}function Id(A,e,t){zr.call(this,A,e),this.meshPerAttribute=t||1}function xd(A,e,t,i){this.ray=new ri(A,e),this.near=t||0,this.far=i||1/0,this.params={Mesh:{},Line:{},LOD:{},Points:{threshold:1},Sprite:{}},Object.defineProperties(this.params,{PointCloud:{get:function(){return console.warn("THREE.Raycaster: params.PointCloud has been renamed to params.Points."),this.Points}}})}function bd(A,e){return A.distance-e.distance}function Ed(A,e,t,i){if(!1!==A.visible&&(A.raycast(e,t),!0===i))for(var n=A.children,o=0,r=n.length;o<r;o++)Ed(n[o],e,t,!0)}function wd(A,e,t){return this.radius=void 0!==A?A:1,this.phi=void 0!==e?e:0,this.theta=void 0!==t?t:0,this}function Md(A,e,t){return this.radius=void 0!==A?A:1,this.theta=void 0!==e?e:0,this.y=void 0!==t?t:0,this}function Bd(A,e){this.min=void 0!==A?A:new Le(1/0,1/0),this.max=void 0!==e?e:new Le(-1/0,-1/0)}function _d(A,e){this.start=void 0!==A?A:new Ue,this.end=void 0!==e?e:new Ue}function Sd(A){ti.call(this),this.material=A,this.render=function(){}}function Td(A,e,t,i){this.object=A,this.size=void 0!==e?e:1;var n=void 0!==t?t:16711680,o=void 0!==i?i:1,r=0,a=this.object.geometry;a&&a.isGeometry?r=3*a.faces.length:a&&a.isBufferGeometry&&(r=a.attributes.normal.count);var s=new Gi,l=new _i(2*r*3,3);s.addAttribute("position",l),Zr.call(this,s,new Yr({color:n,linewidth:o})),this.matrixAutoUpdate=!1,this.update()}function Kd(A,e){ti.call(this),this.light=A,this.light.updateMatrixWorld(),this.matrix=A.matrixWorld,this.matrixAutoUpdate=!1,this.color=e;for(var t=new Gi,i=[0,0,0,0,0,1,0,0,0,1,0,1,0,0,0,-1,0,1,0,0,0,0,1,1,0,0,0,0,-1,1],n=0,o=1;n<32;n++,o++){var r=n/32*Math.PI*2,a=o/32*Math.PI*2;i.push(Math.cos(r),Math.sin(r),1,Math.cos(a),Math.sin(a),1)}t.addAttribute("position",new _i(i,3));var s=new Yr({fog:!1});this.cone=new Zr(t,s),this.add(this.cone),this.update()}function Fd(A){for(var e=function A(e){var t=[];e&&e.isBone&&t.push(e);for(var i=0;i<e.children.length;i++)t.push.apply(t,A(e.children[i]));return t}(A),t=new Gi,i=[],n=[],o=new hi(0,0,1),r=new hi(0,1,0),a=0;a<e.length;a++){var s=e[a];s.parent&&s.parent.isBone&&(i.push(0,0,0),i.push(0,0,0),n.push(o.r,o.g,o.b),n.push(r.r,r.g,r.b))}t.addAttribute("position",new _i(i,3)),t.addAttribute("color",new _i(n,3));var l=new Yr({vertexColors:m,depthTest:!1,depthWrite:!1,transparent:!0});Zr.call(this,t,l),this.root=A,this.bones=e,this.matrix=A.matrixWorld,this.matrixAutoUpdate=!1}function Ld(A,e,t){this.light=A,this.light.updateMatrixWorld(),this.color=t;var i=new ts(e,4,2),n=new yi({wireframe:!0,fog:!1});ji.call(this,i,n),this.matrix=this.light.matrixWorld,this.matrixAutoUpdate=!1,this.update()}function Od(A,e){this.type="RectAreaLightHelper",this.light=A,this.color=e;var t=new Gi;t.addAttribute("position",new _i([1,1,0,-1,1,0,-1,-1,0,1,-1,0,1,1,0],3)),t.computeBoundingSphere();var i=new Yr({fog:!1});Jr.call(this,t,i);var n=new Gi;n.addAttribute("position",new _i([1,1,0,-1,1,0,-1,-1,0,1,1,0,-1,-1,0,1,-1,0],3)),n.computeBoundingSphere(),this.add(new ji(n,new yi({side:IA,fog:!1}))),this.update()}function Ud(A,e,t){ti.call(this),this.light=A,this.light.updateMatrixWorld(),this.matrix=A.matrixWorld,this.matrixAutoUpdate=!1,this.color=t;var i=new pa(e);i.rotateY(.5*Math.PI),this.material=new yi({wireframe:!0,fog:!1}),void 0===this.color&&(this.material.vertexColors=m);var n=i.getAttribute("position"),o=new Float32Array(3*n.count);i.addAttribute("color",new Ci(o,3)),this.add(new ji(i,this.material)),this.update()}function Nd(A,e){this.lightProbe=A,this.size=e;var t={GAMMA_OUTPUT:""},i=new cn({defines:t,uniforms:{sh:{value:this.lightProbe.sh.coefficients},intensity:{value:this.lightProbe.intensity}},vertexShader:["varying vec3 vNormal;","void main() {","\tvNormal = normalize( normalMatrix * normal );","\tgl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );","}"].join("\n"),fragmentShader:["#define RECIPROCAL_PI 0.318309886","vec3 inverseTransformDirection( in vec3 normal, in mat4 matrix ) {","\t// matrix is assumed to be orthogonal","\treturn normalize( ( vec4( normal, 0.0 ) * matrix ).xyz );","}","vec3 linearToOutput( in vec3 a ) {","\t#ifdef GAMMA_OUTPUT","\t\treturn pow( a, vec3( 1.0 / float( GAMMA_FACTOR ) ) );","\t#else","\t\treturn a;","\t#endif","}","// source: https://graphics.stanford.edu/papers/envmap/envmap.pdf","vec3 shGetIrradianceAt( in vec3 normal, in vec3 shCoefficients[ 9 ] ) {","\t// normal is assumed to have unit length","\tfloat x = normal.x, y = normal.y, z = normal.z;","\t// band 0","\tvec3 result = shCoefficients[ 0 ] * 0.886227;","\t// band 1","\tresult += shCoefficients[ 1 ] * 2.0 * 0.511664 * y;","\tresult += shCoefficients[ 2 ] * 2.0 * 0.511664 * z;","\tresult += shCoefficients[ 3 ] * 2.0 * 0.511664 * x;","\t// band 2","\tresult += shCoefficients[ 4 ] * 2.0 * 0.429043 * x * y;","\tresult += shCoefficients[ 5 ] * 2.0 * 0.429043 * y * z;","\tresult += shCoefficients[ 6 ] * ( 0.743125 * z * z - 0.247708 );","\tresult += shCoefficients[ 7 ] * 2.0 * 0.429043 * x * z;","\tresult += shCoefficients[ 8 ] * 0.429043 * ( x * x - y * y );","\treturn result;","}","uniform vec3 sh[ 9 ]; // sh coefficients","uniform float intensity; // light probe intensity","varying vec3 vNormal;","void main() {","\tvec3 normal = normalize( vNormal );","\tvec3 worldNormal = inverseTransformDirection( normal, viewMatrix );","\tvec3 irradiance = shGetIrradianceAt( worldNormal, sh );","\tvec3 outgoingLight = RECIPROCAL_PI * irradiance * intensity;","\toutgoingLight = linearToOutput( outgoingLight );","\tgl_FragColor = vec4( outgoingLight, 1.0 );","}"].join("\n")}),n=new ts(1,32,16);ji.call(this,n,i),this.onBeforeRender()}function Rd(A,e,t,i){A=A||10,e=e||10,t=new hi(void 0!==t?t:4473924),i=new hi(void 0!==i?i:8947848);for(var n=e/2,o=A/e,r=A/2,a=[],s=[],l=0,c=0,d=-r;l<=e;l++,d+=o){a.push(-r,0,d,r,0,d),a.push(d,0,-r,d,0,r);var h=l===n?t:i;h.toArray(s,c),h.toArray(s,c+=3),h.toArray(s,c+=3),h.toArray(s,c+=3),c+=3}var u=new Gi;u.addAttribute("position",new _i(a,3)),u.addAttribute("color",new _i(s,3));var p=new Yr({vertexColors:m});Zr.call(this,u,p)}function Pd(A,e,t,i,n,o){A=A||10,e=e||16,t=t||8,i=i||64,n=new hi(void 0!==n?n:4473924),o=new hi(void 0!==o?o:8947848);var r,a,s,l,c,d,h,u=[],p=[];for(l=0;l<=e;l++)s=l/e*(2*Math.PI),r=Math.sin(s)*A,a=Math.cos(s)*A,u.push(0,0,0),u.push(r,0,a),p.push((h=1&l?n:o).r,h.g,h.b),p.push(h.r,h.g,h.b);for(l=0;l<=t;l++)for(h=1&l?n:o,d=A-A/t*l,c=0;c<i;c++)s=c/i*(2*Math.PI),r=Math.sin(s)*d,a=Math.cos(s)*d,u.push(r,0,a),p.push(h.r,h.g,h.b),s=(c+1)/i*(2*Math.PI),r=Math.sin(s)*d,a=Math.cos(s)*d,u.push(r,0,a),p.push(h.r,h.g,h.b);var g=new Gi;g.addAttribute("position",new _i(u,3)),g.addAttribute("color",new _i(p,3));var f=new Yr({vertexColors:m});Zr.call(this,g,f)}function Dd(A,e,t,i){this.audio=A,this.range=e||1,this.divisionsInnerAngle=t||16,this.divisionsOuterAngle=i||2;var n=new Gi,o=new Float32Array(3*(3*(this.divisionsInnerAngle+2*this.divisionsOuterAngle)+3));n.addAttribute("position",new Ci(o,3));var r=new Yr({color:65280}),a=new Yr({color:16776960});Jr.call(this,n,[a,r]),this.update()}function Qd(A,e,t,i){this.object=A,this.size=void 0!==e?e:1;var n=void 0!==t?t:16776960,o=void 0!==i?i:1,r=0,a=this.object.geometry;a&&a.isGeometry?r=a.faces.length:console.warn("THREE.FaceNormalsHelper: only THREE.Geometry is supported. Use THREE.VertexNormalsHelper, instead.");var s=new Gi,l=new _i(2*r*3,3);s.addAttribute("position",l),Zr.call(this,s,new Yr({color:n,linewidth:o})),this.matrixAutoUpdate=!1,this.update()}function kd(A,e,t){ti.call(this),this.light=A,this.light.updateMatrixWorld(),this.matrix=A.matrixWorld,this.matrixAutoUpdate=!1,this.color=t,void 0===e&&(e=1);var i=new Gi;i.addAttribute("position",new _i([-e,e,0,e,e,0,e,-e,0,-e,-e,0,-e,e,0],3));var n=new Yr({fog:!1});this.lightPlane=new Jr(i,n),this.add(this.lightPlane),(i=new Gi).addAttribute("position",new _i([0,0,0,0,0,1],3)),this.targetLine=new Jr(i,n),this.add(this.targetLine),this.update()}function zd(A){var e=new Gi,t=new Yr({color:16777215,vertexColors:1}),i=[],n=[],o={},r=new hi(16755200),a=new hi(16711680),s=new hi(43775),l=new hi(16777215),c=new hi(3355443);function d(A,e,t){h(A,t),h(e,t)}function h(A,e){i.push(0,0,0),n.push(e.r,e.g,e.b),void 0===o[A]&&(o[A]=[]),o[A].push(i.length/3-1)}d("n1","n2",r),d("n2","n4",r),d("n4","n3",r),d("n3","n1",r),d("f1","f2",r),d("f2","f4",r),d("f4","f3",r),d("f3","f1",r),d("n1","f1",r),d("n2","f2",r),d("n3","f3",r),d("n4","f4",r),d("p","n1",a),d("p","n2",a),d("p","n3",a),d("p","n4",a),d("u1","u2",s),d("u2","u3",s),d("u3","u1",s),d("c","t",l),d("p","c",c),d("cn1","cn2",c),d("cn3","cn4",c),d("cf1","cf2",c),d("cf3","cf4",c),e.addAttribute("position",new _i(i,3)),e.addAttribute("color",new _i(n,3)),Zr.call(this,e,t),this.camera=A,this.camera.updateProjectionMatrix&&this.camera.updateProjectionMatrix(),this.matrix=A.matrixWorld,this.matrixAutoUpdate=!1,this.pointMap=o,this.update()}function Vd(A,e){this.object=A,void 0===e&&(e=16776960);var t=new Uint16Array([0,1,1,2,2,3,3,0,4,5,5,6,6,7,7,4,0,4,1,5,2,6,3,7]),i=new Float32Array(24),n=new Gi;n.setIndex(new Ci(t,1)),n.addAttribute("position",new Ci(i,3)),Zr.call(this,n,new Yr({color:e})),this.matrixAutoUpdate=!1,this.update()}function Hd(A,e){this.type="Box3Helper",this.box=A,e=e||16776960;var t=new Uint16Array([0,1,1,2,2,3,3,0,4,5,5,6,6,7,7,4,0,4,1,5,2,6,3,7]),i=new Gi;i.setIndex(new Ci(t,1)),i.addAttribute("position",new _i([1,1,1,-1,1,1,-1,-1,1,1,-1,1,1,1,-1,-1,1,-1,-1,-1,-1,1,-1,-1],3)),Zr.call(this,i,new Yr({color:e})),this.geometry.computeBoundingSphere()}function Gd(A,e,t){this.type="PlaneHelper",this.plane=A,this.size=void 0===e?1:e;var i=void 0!==t?t:16776960,n=new Gi;n.addAttribute("position",new _i([1,-1,1,-1,1,1,-1,-1,1,1,1,1,-1,1,1,-1,-1,1,1,-1,1,1,1,1,0,0,1,0,0,0],3)),n.computeBoundingSphere(),Jr.call(this,n,new Yr({color:i}));var o=new Gi;o.addAttribute("position",new _i([1,1,1,-1,1,1,-1,-1,1,1,1,1,-1,-1,1,1,-1,1],3)),o.computeBoundingSphere(),this.add(new ji(o,new yi({color:i,opacity:.2,transparent:!0,depthWrite:!1})))}function jd(A,e,t,i,n,o){ti.call(this),void 0===A&&(A=new Ue(0,0,1)),void 0===e&&(e=new Ue(0,0,0)),void 0===t&&(t=1),void 0===i&&(i=16776960),void 0===n&&(n=.2*t),void 0===o&&(o=.2*n),void 0===cd&&((cd=new Gi).addAttribute("position",new _i([0,0,0,0,1,0],3)),(dd=new hs(0,.5,1,5,1)).translate(0,-.5,0)),this.position.copy(e),this.line=new Jr(cd,new Yr({color:i})),this.line.matrixAutoUpdate=!1,this.add(this.line),this.cone=new ji(dd,new yi({color:i})),this.cone.matrixAutoUpdate=!1,this.add(this.cone),this.setDirection(A),this.setLength(t,n,o)}function Wd(A){var e=[0,0,0,A=A||1,0,0,0,0,0,0,A,0,0,0,0,0,0,A],t=new Gi;t.addAttribute("position",new _i(e,3)),t.addAttribute("color",new _i([1,0,0,1,.6,0,0,1,0,.6,1,0,0,0,1,0,.6,1],3));var i=new Yr({vertexColors:m});Zr.call(this,t,i)}Object.assign(gd.prototype,{getValue:function(A,e){this.bind();var t=this._bindings[this._targetGroup.nCachedObjects_];void 0!==t&&t.getValue(A,e)},setValue:function(A,e){for(var t=this._bindings,i=this._targetGroup.nCachedObjects_,n=t.length;i!==n;++i)t[i].setValue(A,e)},bind:function(){for(var A=this._bindings,e=this._targetGroup.nCachedObjects_,t=A.length;e!==t;++e)A[e].bind()},unbind:function(){for(var A=this._bindings,e=this._targetGroup.nCachedObjects_,t=A.length;e!==t;++e)A[e].unbind()}}),Object.assign(fd,{Composite:gd,create:function(A,e,t){return A&&A.isAnimationObjectGroup?new fd.Composite(A,e,t):new fd(A,e,t)},sanitizeNodeName:(zc=new RegExp("["+pd+"]","g"),function(A){return A.replace(/\s/g,"_").replace(zc,"")}),parseTrackName:(Oc="[^"+pd+"]",Uc="[^"+pd.replace("\\.","")+"]",Nc=/((?:WC+[\/:])*)/.source.replace("WC",Oc),Rc=/(WCOD+)?/.source.replace("WCOD",Uc),Pc=/(?:\.(WC+)(?:\[(.+)\])?)?/.source.replace("WC",Oc),Dc=/\.(WC+)(?:\[(.+)\])?/.source.replace("WC",Oc),Qc=new RegExp("^"+Nc+Rc+Pc+Dc+"$"),kc=["material","materials","bones"],function(A){var e=Qc.exec(A);if(!e)throw new Error("PropertyBinding: Cannot parse trackName: "+A);var t={nodeName:e[2],objectName:e[3],objectIndex:e[4],propertyName:e[5],propertyIndex:e[6]},i=t.nodeName&&t.nodeName.lastIndexOf(".");if(void 0!==i&&-1!==i){var n=t.nodeName.substring(i+1);-1!==kc.indexOf(n)&&(t.nodeName=t.nodeName.substring(0,i),t.objectName=n)}if(null===t.propertyName||0===t.propertyName.length)throw new Error("PropertyBinding: can not parse propertyName from trackName: "+A);return t}),findNode:function(A,n){if(!n||""===n||"root"===n||"."===n||-1===n||n===A.name||n===A.uuid)return A;if(A.skeleton){var e=A.skeleton.getBoneByName(n);if(void 0!==e)return e}if(A.children){var o=function(A){for(var e=0;e<A.length;e++){var t=A[e];if(t.name===n||t.uuid===n)return t;var i=o(t.children);if(i)return i}return null},t=o(A.children);if(t)return t}return null}}),Object.assign(fd.prototype,{_getValue_unavailable:function(){},_setValue_unavailable:function(){},BindingType:{Direct:0,EntireArray:1,ArrayElement:2,HasFromToArray:3},Versioning:{None:0,NeedsUpdate:1,MatrixWorldNeedsUpdate:2},GetterByBindingType:[function(A,e){A[e]=this.node[this.propertyName]},function(A,e){for(var t=this.resolvedProperty,i=0,n=t.length;i!==n;++i)A[e++]=t[i]},function(A,e){A[e]=this.resolvedProperty[this.propertyIndex]},function(A,e){this.resolvedProperty.toArray(A,e)}],SetterByBindingTypeAndVersioning:[[function(A,e){this.targetObject[this.propertyName]=A[e]},function(A,e){this.targetObject[this.propertyName]=A[e],this.targetObject.needsUpdate=!0},function(A,e){this.targetObject[this.propertyName]=A[e],this.targetObject.matrixWorldNeedsUpdate=!0}],[function(A,e){for(var t=this.resolvedProperty,i=0,n=t.length;i!==n;++i)t[i]=A[e++]},function(A,e){for(var t=this.resolvedProperty,i=0,n=t.length;i!==n;++i)t[i]=A[e++];this.targetObject.needsUpdate=!0},function(A,e){for(var t=this.resolvedProperty,i=0,n=t.length;i!==n;++i)t[i]=A[e++];this.targetObject.matrixWorldNeedsUpdate=!0}],[function(A,e){this.resolvedProperty[this.propertyIndex]=A[e]},function(A,e){this.resolvedProperty[this.propertyIndex]=A[e],this.targetObject.needsUpdate=!0},function(A,e){this.resolvedProperty[this.propertyIndex]=A[e],this.targetObject.matrixWorldNeedsUpdate=!0}],[function(A,e){this.resolvedProperty.fromArray(A,e)},function(A,e){this.resolvedProperty.fromArray(A,e),this.targetObject.needsUpdate=!0},function(A,e){this.resolvedProperty.fromArray(A,e),this.targetObject.matrixWorldNeedsUpdate=!0}]],getValue:function(A,e){this.bind(),this.getValue(A,e)},setValue:function(A,e){this.bind(),this.setValue(A,e)},bind:function(){var A=this.node,e=this.parsedPath,t=e.objectName,i=e.propertyName,n=e.propertyIndex;if(A||(A=fd.findNode(this.rootNode,e.nodeName)||this.rootNode,this.node=A),this.getValue=this._getValue_unavailable,this.setValue=this._setValue_unavailable,A){if(t){var o=e.objectIndex;switch(t){case"materials":if(!A.material)return void console.error("THREE.PropertyBinding: Can not bind to material as node does not have a material.",this);if(!A.material.materials)return void console.error("THREE.PropertyBinding: Can not bind to material.materials as node.material does not have a materials array.",this);A=A.material.materials;break;case"bones":if(!A.skeleton)return void console.error("THREE.PropertyBinding: Can not bind to bones as node does not have a skeleton.",this);A=A.skeleton.bones;for(var r=0;r<A.length;r++)if(A[r].name===o){o=r;break}break;default:if(void 0===A[t])return void console.error("THREE.PropertyBinding: Can not bind to objectName of node undefined.",this);A=A[t]}if(void 0!==o){if(void 0===A[o])return void console.error("THREE.PropertyBinding: Trying to bind to objectIndex of objectName, but is undefined.",this,A);A=A[o]}}var a=A[i];if(void 0!==a){var s=this.Versioning.None;void 0!==(this.targetObject=A).needsUpdate?s=this.Versioning.NeedsUpdate:void 0!==A.matrixWorldNeedsUpdate&&(s=this.Versioning.MatrixWorldNeedsUpdate);var l=this.BindingType.Direct;if(void 0!==n){if("morphTargetInfluences"===i){if(!A.geometry)return void console.error("THREE.PropertyBinding: Can not bind to morphTargetInfluences because node does not have a geometry.",this);if(A.geometry.isBufferGeometry){if(!A.geometry.morphAttributes)return void console.error("THREE.PropertyBinding: Can not bind to morphTargetInfluences because node does not have a geometry.morphAttributes.",this);for(r=0;r<this.node.geometry.morphAttributes.position.length;r++)if(A.geometry.morphAttributes.position[r].name===n){n=r;break}}else{if(!A.geometry.morphTargets)return void console.error("THREE.PropertyBinding: Can not bind to morphTargetInfluences because node does not have a geometry.morphTargets.",this);for(r=0;r<this.node.geometry.morphTargets.length;r++)if(A.geometry.morphTargets[r].name===n){n=r;break}}}l=this.BindingType.ArrayElement,this.resolvedProperty=a,this.propertyIndex=n}else void 0!==a.fromArray&&void 0!==a.toArray?(l=this.BindingType.HasFromToArray,this.resolvedProperty=a):Array.isArray(a)?(l=this.BindingType.EntireArray,this.resolvedProperty=a):this.propertyName=i;this.getValue=this.GetterByBindingType[l],this.setValue=this.SetterByBindingTypeAndVersioning[l][s]}else{console.error("THREE.PropertyBinding: Trying to update property for track: "+e.nodeName+"."+i+" but it wasn't found.",A)}}else console.error("THREE.PropertyBinding: Trying to update node for track: "+this.path+" but it wasn't found.")},unbind:function(){this.node=null,this.getValue=this._getValue_unbound,this.setValue=this._setValue_unbound}}),Object.assign(fd.prototype,{_getValue_unbound:fd.prototype.getValue,_setValue_unbound:fd.prototype.setValue}),Object.assign(md.prototype,{isAnimationObjectGroup:!0,add:function(){for(var A=this._objects,e=A.length,t=this.nCachedObjects_,i=this._indicesByUUID,n=this._paths,o=this._parsedPaths,r=this._bindings,a=r.length,s=void 0,l=0,c=arguments.length;l!==c;++l){var d=arguments[l],h=d.uuid,u=i[h];if(void 0===u){u=e++,i[h]=u,A.push(d);for(var p=0,g=a;p!==g;++p)r[p].push(new fd(d,n[p],o[p]))}else if(u<t){s=A[u];var f=--t,m=A[f];A[i[m.uuid]=u]=m,A[i[h]=f]=d;for(p=0,g=a;p!==g;++p){var v=r[p],y=v[u];v[u]=v[f],void 0===y&&(y=new fd(d,n[p],o[p])),v[f]=y}}else A[u]!==s&&console.error("THREE.AnimationObjectGroup: Different objects with the same UUID detected. Clean the caches or recreate your infrastructure when reloading scenes.")}this.nCachedObjects_=t},remove:function(){for(var A=this._objects,e=this.nCachedObjects_,t=this._indicesByUUID,i=this._bindings,n=i.length,o=0,r=arguments.length;o!==r;++o){var a=arguments[o],s=a.uuid,l=t[s];if(void 0!==l&&e<=l){var c=e++,d=A[c];A[t[d.uuid]=l]=d,A[t[s]=c]=a;for(var h=0,u=n;h!==u;++h){var p=i[h],g=p[l];p[l]=p[c],p[c]=g}}}this.nCachedObjects_=e},uncache:function(){for(var A=this._objects,e=A.length,t=this.nCachedObjects_,i=this._indicesByUUID,n=this._bindings,o=n.length,r=0,a=arguments.length;r!==a;++r){var s=arguments[r].uuid,l=i[s];if(void 0!==l)if(delete i[s],l<t){var c=--t,d=A[c],h=A[f=--e];A[i[d.uuid]=l]=d,A[i[h.uuid]=c]=h,A.pop();for(var u=0,p=o;u!==p;++u){var g=(m=n[u])[f];m[l]=m[c],m[c]=g,m.pop()}}else{var f;A[i[(h=A[f=--e]).uuid]=l]=h,A.pop();for(u=0,p=o;u!==p;++u){var m;(m=n[u])[l]=m[f],m.pop()}}}this.nCachedObjects_=t},subscribe_:function(A,e){var t=this._bindingsIndicesByPath,i=t[A],n=this._bindings;if(void 0!==i)return n[i];var o=this._paths,r=this._parsedPaths,a=this._objects,s=this.nCachedObjects_,l=new Array(a.length);t[A]=i=n.length,o.push(A),r.push(e),n.push(l);for(var c=s,d=a.length;c!==d;++c){l[c]=new fd(a[c],A,e)}return l},unsubscribe_:function(A){var e=this._bindingsIndicesByPath,t=e[A];if(void 0!==t){var i=this._paths,n=this._parsedPaths,o=this._bindings,r=o.length-1,a=o[r];o[e[A[r]]=t]=a,o.pop(),n[t]=n[r],n.pop(),i[t]=i[r],i.pop()}}}),Object.assign(vd.prototype,{play:function(){return this._mixer._activateAction(this),this},stop:function(){return this._mixer._deactivateAction(this),this.reset()},reset:function(){return this.paused=!1,this.enabled=!0,this.time=0,this._loopCount=-1,this._startTime=null,this.stopFading().stopWarping()},isRunning:function(){return this.enabled&&!this.paused&&0!==this.timeScale&&null===this._startTime&&this._mixer._isActiveAction(this)},isScheduled:function(){return this._mixer._isActiveAction(this)},startAt:function(A){return this._startTime=A,this},setLoop:function(A,e){return this.loop=A,this.repetitions=e,this},setEffectiveWeight:function(A){return this.weight=A,this._effectiveWeight=this.enabled?A:0,this.stopFading()},getEffectiveWeight:function(){return this._effectiveWeight},fadeIn:function(A){return this._scheduleFading(A,0,1)},fadeOut:function(A){return this._scheduleFading(A,1,0)},crossFadeFrom:function(A,e,t){if(A.fadeOut(e),this.fadeIn(e),t){var i=this._clip.duration,n=A._clip.duration,o=i/n;A.warp(1,n/i,e),this.warp(o,1,e)}return this},crossFadeTo:function(A,e,t){return A.crossFadeFrom(this,e,t)},stopFading:function(){var A=this._weightInterpolant;return null!==A&&(this._weightInterpolant=null,this._mixer._takeBackControlInterpolant(A)),this},setEffectiveTimeScale:function(A){return this.timeScale=A,this._effectiveTimeScale=this.paused?0:A,this.stopWarping()},getEffectiveTimeScale:function(){return this._effectiveTimeScale},setDuration:function(A){return this.timeScale=this._clip.duration/A,this.stopWarping()},syncWith:function(A){return this.time=A.time,this.timeScale=A.timeScale,this.stopWarping()},halt:function(A){return this.warp(this._effectiveTimeScale,0,A)},warp:function(A,e,t){var i=this._mixer,n=i.time,o=this._timeScaleInterpolant,r=this.timeScale;null===o&&(o=i._lendControlInterpolant(),this._timeScaleInterpolant=o);var a=o.parameterPositions,s=o.sampleValues;return a[0]=n,a[1]=n+t,s[0]=A/r,s[1]=e/r,this},stopWarping:function(){var A=this._timeScaleInterpolant;return null!==A&&(this._timeScaleInterpolant=null,this._mixer._takeBackControlInterpolant(A)),this},getMixer:function(){return this._mixer},getClip:function(){return this._clip},getRoot:function(){return this._localRoot||this._mixer._root},_update:function(A,e,t,i){if(this.enabled){var n=this._startTime;if(null!==n){var o=(A-n)*t;if(o<0||0===t)return;this._startTime=null,e=t*o}e*=this._updateTimeScale(A);var r=this._updateTime(e),a=this._updateWeight(A);if(0<a)for(var s=this._interpolants,l=this._propertyBindings,c=0,d=s.length;c!==d;++c)s[c].evaluate(r),l[c].accumulate(i,a)}else this._updateWeight(A)},_updateWeight:function(A){var e=0;if(this.enabled){e=this.weight;var t=this._weightInterpolant;if(null!==t){var i=t.evaluate(A)[0];e*=i,t.parameterPositions[1]<A&&(this.stopFading(),0===i&&(this.enabled=!1))}}return this._effectiveWeight=e},_updateTimeScale:function(A){var e=0;if(!this.paused){e=this.timeScale;var t=this._timeScaleInterpolant;if(null!==t)e*=t.evaluate(A)[0],t.parameterPositions[1]<A&&(this.stopWarping(),0===e?this.paused=!0:this.timeScale=e)}return this._effectiveTimeScale=e},_updateTime:function(A){var e=this.time+A,t=this._clip.duration,i=this.loop,n=this._loopCount,o=2202===i;if(0===A)return-1===n?e:o&&1==(1&n)?t-e:e;if(2200===i){-1===n&&(this._loopCount=0,this._setEndings(!0,!0,!1));A:{if(t>e){if(0<=e){this.time=e;break A}e=0}else e=t;this.clampWhenFinished?this.paused=!0:this.enabled=!1,this.time=e,this._mixer.dispatchEvent({type:"finished",action:this,direction:A<0?-1:1})}}else{if(-1===n&&(A<0?this._setEndings(0===this.repetitions,!0,o):this._setEndings(!(n=0),0===this.repetitions,o)),t<=e||e<0){var r=Math.floor(e/t);e-=t*r,n+=Math.abs(r);var a=this.repetitions-n;if(a>0){if(1===a){var s=A<0;this._setEndings(s,!s,o)}else this._setEndings(!1,!1,o);this._loopCount=n,this.time=e,this._mixer.dispatchEvent({type:"loop",action:this,loopDelta:r})}else this.clampWhenFinished?this.paused=!0:this.enabled=!1,this.time=e=0<A?t:0,this._mixer.dispatchEvent({type:"finished",action:this,direction:0<A?1:-1})}else this.time=e;if(o&&1==(1&n))return t-e}return e},_setEndings:function(A,e,t){var i=this._interpolantSettings;i.endingEnd=t?i.endingStart=fe:(i.endingStart=A?this.zeroSlopeAtStart?fe:ge:me,e?this.zeroSlopeAtEnd?fe:ge:me)},_scheduleFading:function(A,e,t){var i=this._mixer,n=i.time,o=this._weightInterpolant;null===o&&(o=i._lendControlInterpolant(),this._weightInterpolant=o);var r=o.parameterPositions,a=o.sampleValues;return r[0]=n,a[0]=e,r[1]=n+A,a[1]=t,this}}),yd.prototype=Object.assign(Object.create(t.prototype),{constructor:yd,_bindAction:function(A,e){var t=A._localRoot||this._root,i=A._clip.tracks,n=i.length,o=A._propertyBindings,r=A._interpolants,a=t.uuid,s=this._bindingsByRootAndName,l=s[a];void 0===l&&(s[a]=l={});for(var c=0;c!==n;++c){var d=i[c],h=d.name,u=l[h];if(void 0!==u)o[c]=u;else{if(void 0!==(u=o[c])){null===u._cacheIndex&&(++u.referenceCount,this._addInactiveBinding(u,a,h));continue}++(u=new Lc(fd.create(t,h,e&&e._propertyBindings[c].binding.parsedPath),d.ValueTypeName,d.getValueSize())).referenceCount,this._addInactiveBinding(u,a,h),o[c]=u}r[c].resultBuffer=u.buffer}},_activateAction:function(A){if(!this._isActiveAction(A)){if(null===A._cacheIndex){var e=(A._localRoot||this._root).uuid,t=A._clip.uuid,i=this._actionsByClip[t];this._bindAction(A,i&&i.knownActions[0]),this._addInactiveAction(A,t,e)}for(var n=A._propertyBindings,o=0,r=n.length;o!==r;++o){var a=n[o];0==a.useCount++&&(this._lendBinding(a),a.saveOriginalState())}this._lendAction(A)}},_deactivateAction:function(A){if(this._isActiveAction(A)){for(var e=A._propertyBindings,t=0,i=e.length;t!==i;++t){var n=e[t];0==--n.useCount&&(n.restoreOriginalState(),this._takeBackBinding(n))}this._takeBackAction(A)}},_initMemoryManager:function(){this._actions=[],this._nActiveActions=0,this._actionsByClip={},this._bindings=[],this._nActiveBindings=0,this._bindingsByRootAndName={},this._controlInterpolants=[],this._nActiveControlInterpolants=0;var A=this;this.stats={actions:{get total(){return A._actions.length},get inUse(){return A._nActiveActions}},bindings:{get total(){return A._bindings.length},get inUse(){return A._nActiveBindings}},controlInterpolants:{get total(){return A._controlInterpolants.length},get inUse(){return A._nActiveControlInterpolants}}}},_isActiveAction:function(A){var e=A._cacheIndex;return null!==e&&e<this._nActiveActions},_addInactiveAction:function(A,e,t){var i=this._actions,n=this._actionsByClip,o=n[e];if(void 0===o)o={knownActions:[A],actionByRoot:{}},A._byClipCacheIndex=0,n[e]=o;else{var r=o.knownActions;A._byClipCacheIndex=r.length,r.push(A)}A._cacheIndex=i.length,i.push(A),o.actionByRoot[t]=A},_removeInactiveAction:function(A){var e=this._actions,t=e[e.length-1],i=A._cacheIndex;e[t._cacheIndex=i]=t,e.pop(),A._cacheIndex=null;var n=A._clip.uuid,o=this._actionsByClip,r=o[n],a=r.knownActions,s=a[a.length-1],l=A._byClipCacheIndex;a[s._byClipCacheIndex=l]=s,a.pop(),A._byClipCacheIndex=null,delete r.actionByRoot[(A._localRoot||this._root).uuid],0===a.length&&delete o[n],this._removeInactiveBindingsForAction(A)},_removeInactiveBindingsForAction:function(A){for(var e=A._propertyBindings,t=0,i=e.length;t!==i;++t){var n=e[t];0==--n.referenceCount&&this._removeInactiveBinding(n)}},_lendAction:function(A){var e=this._actions,t=A._cacheIndex,i=this._nActiveActions++,n=e[i];e[A._cacheIndex=i]=A,e[n._cacheIndex=t]=n},_takeBackAction:function(A){var e=this._actions,t=A._cacheIndex,i=--this._nActiveActions,n=e[i];e[A._cacheIndex=i]=A,e[n._cacheIndex=t]=n},_addInactiveBinding:function(A,e,t){var i=this._bindingsByRootAndName,n=i[e],o=this._bindings;void 0===n&&(i[e]=n={}),(n[t]=A)._cacheIndex=o.length,o.push(A)},_removeInactiveBinding:function(A){var e=this._bindings,t=A.binding,i=t.rootNode.uuid,n=t.path,o=this._bindingsByRootAndName,r=o[i],a=e[e.length-1],s=A._cacheIndex;e[a._cacheIndex=s]=a,e.pop(),delete r[n],0===Object.keys(r).length&&delete o[i]},_lendBinding:function(A){var e=this._bindings,t=A._cacheIndex,i=this._nActiveBindings++,n=e[i];e[A._cacheIndex=i]=A,e[n._cacheIndex=t]=n},_takeBackBinding:function(A){var e=this._bindings,t=A._cacheIndex,i=--this._nActiveBindings,n=e[i];e[A._cacheIndex=i]=A,e[n._cacheIndex=t]=n},_lendControlInterpolant:function(){var A=this._controlInterpolants,e=this._nActiveControlInterpolants++,t=A[e];return void 0===t&&(A[(t=new Fs(new Float32Array(2),new Float32Array(2),1,this._controlInterpolantsResultBuffer)).__cacheIndex=e]=t),t},_takeBackControlInterpolant:function(A){var e=this._controlInterpolants,t=A.__cacheIndex,i=--this._nActiveControlInterpolants,n=e[i];e[A.__cacheIndex=i]=A,e[n.__cacheIndex=t]=n},_controlInterpolantsResultBuffer:new Float32Array(1),clipAction:function(A,e){var t=e||this._root,i=t.uuid,n="string"==typeof A?zs.findByName(t,A):A,o=null!==n?n.uuid:A,r=this._actionsByClip[o],a=null;if(void 0!==r){var s=r.actionByRoot[i];if(void 0!==s)return s;a=r.knownActions[0],null===n&&(n=a._clip)}if(null===n)return null;var l=new vd(this,n,e);return this._bindAction(l,a),this._addInactiveAction(l,o,i),l},existingAction:function(A,e){var t=e||this._root,i=t.uuid,n="string"==typeof A?zs.findByName(t,A):A,o=this._actionsByClip[n?n.uuid:A];return void 0!==o&&o.actionByRoot[i]||null},stopAllAction:function(){var A=this._actions,e=this._nActiveActions,t=this._bindings,i=this._nActiveBindings;this._nActiveActions=0;for(var n=this._nActiveBindings=0;n!==e;++n)A[n].reset();for(n=0;n!==i;++n)t[n].useCount=0;return this},update:function(A){for(var e=this._actions,t=this._nActiveActions,i=this.time+=A*=this.timeScale,n=Math.sign(A),o=this._accuIndex^=1,r=0;r!==t;++r){e[r]._update(i,A,n,o)}var a=this._bindings,s=this._nActiveBindings;for(r=0;r!==s;++r)a[r].apply(o);return this},getRoot:function(){return this._root},uncacheClip:function(A){var e=this._actions,t=A.uuid,i=this._actionsByClip,n=i[t];if(void 0!==n){for(var o=n.knownActions,r=0,a=o.length;r!==a;++r){var s=o[r];this._deactivateAction(s);var l=s._cacheIndex,c=e[e.length-1];s._cacheIndex=null,s._byClipCacheIndex=null,e[c._cacheIndex=l]=c,e.pop(),this._removeInactiveBindingsForAction(s)}delete i[t]}},uncacheRoot:function(A){var e=A.uuid,t=this._actionsByClip;for(var i in t){var n=t[i].actionByRoot[e];void 0!==n&&(this._deactivateAction(n),this._removeInactiveAction(n))}var o=this._bindingsByRootAndName[e];if(void 0!==o)for(var r in o){var a=o[r];a.restoreOriginalState(),this._removeInactiveBinding(a)}},uncacheAction:function(A,e){var t=this.existingAction(A,e);null!==t&&(this._deactivateAction(t),this._removeInactiveAction(t))}}),Cd.prototype.clone=function(){return new Cd(void 0===this.value.clone?this.value:this.value.clone())},Id.prototype=Object.assign(Object.create(zr.prototype),{constructor:Id,isInstancedInterleavedBuffer:!0,copy:function(A){return zr.prototype.copy.call(this,A),this.meshPerAttribute=A.meshPerAttribute,this}}),Object.assign(xd.prototype,{linePrecision:1,set:function(A,e){this.ray.set(A,e)},setFromCamera:function(A,e){e&&e.isPerspectiveCamera?(this.ray.origin.setFromMatrixPosition(e.matrixWorld),this.ray.direction.set(A.x,A.y,.5).unproject(e).sub(this.ray.origin).normalize(),this._camera=e):e&&e.isOrthographicCamera?(this.ray.origin.set(A.x,A.y,(e.near+e.far)/(e.near-e.far)).unproject(e),this.ray.direction.set(0,0,-1).transformDirection(e.matrixWorld),this._camera=e):console.error("THREE.Raycaster: Unsupported camera type.")},intersectObject:function(A,e,t){var i=t||[];return Ed(A,this,i,e),i.sort(bd),i},intersectObjects:function(A,e,t){var i=t||[];if(!1===Array.isArray(A))return console.warn("THREE.Raycaster.intersectObjects: objects is not an Array."),i;for(var n=0,o=A.length;n<o;n++)Ed(A[n],this,i,e);return i.sort(bd),i}}),Object.assign(wd.prototype,{set:function(A,e,t){return this.radius=A,this.phi=e,this.theta=t,this},clone:function(){return(new this.constructor).copy(this)},copy:function(A){return this.radius=A.radius,this.phi=A.phi,this.theta=A.theta,this},makeSafe:function(){return this.phi=Math.max(1e-6,Math.min(Math.PI-1e-6,this.phi)),this},setFromVector3:function(A){return this.setFromCartesianCoords(A.x,A.y,A.z)},setFromCartesianCoords:function(A,e,t){return this.radius=Math.sqrt(A*A+e*e+t*t),this.phi=0===this.radius?this.theta=0:(this.theta=Math.atan2(A,t),Math.acos(Fe.clamp(e/this.radius,-1,1))),this}}),Object.assign(Md.prototype,{set:function(A,e,t){return this.radius=A,this.theta=e,this.y=t,this},clone:function(){return(new this.constructor).copy(this)},copy:function(A){return this.radius=A.radius,this.theta=A.theta,this.y=A.y,this},setFromVector3:function(A){return this.setFromCartesianCoords(A.x,A.y,A.z)},setFromCartesianCoords:function(A,e,t){return this.radius=Math.sqrt(A*A+t*t),this.theta=Math.atan2(A,t),this.y=e,this}}),Object.assign(Bd.prototype,{set:function(A,e){return this.min.copy(A),this.max.copy(e),this},setFromPoints:function(A){this.makeEmpty();for(var e=0,t=A.length;e<t;e++)this.expandByPoint(A[e]);return this},setFromCenterAndSize:(Hc=new Le,function(A,e){var t=Hc.copy(e).multiplyScalar(.5);return this.min.copy(A).sub(t),this.max.copy(A).add(t),this}),clone:function(){return(new this.constructor).copy(this)},copy:function(A){return this.min.copy(A.min),this.max.copy(A.max),this},makeEmpty:function(){return this.min.x=this.min.y=1/0,this.max.x=this.max.y=-1/0,this},isEmpty:function(){return this.max.x<this.min.x||this.max.y<this.min.y},getCenter:function(A){return void 0===A&&(console.warn("THREE.Box2: .getCenter() target is now required"),A=new Le),this.isEmpty()?A.set(0,0):A.addVectors(this.min,this.max).multiplyScalar(.5)},getSize:function(A){return void 0===A&&(console.warn("THREE.Box2: .getSize() target is now required"),A=new Le),this.isEmpty()?A.set(0,0):A.subVectors(this.max,this.min)},expandByPoint:function(A){return this.min.min(A),this.max.max(A),this},expandByVector:function(A){return this.min.sub(A),this.max.add(A),this},expandByScalar:function(A){return this.min.addScalar(-A),this.max.addScalar(A),this},containsPoint:function(A){return!(A.x<this.min.x||this.max.x<A.x||A.y<this.min.y||this.max.y<A.y)},containsBox:function(A){return!(A.min.x<this.min.x||this.max.x<A.max.x||A.min.y<this.min.y||this.max.y<A.max.y)},getParameter:function(A,e){return void 0===e&&(console.warn("THREE.Box2: .getParameter() target is now required"),e=new Le),e.set((A.x-this.min.x)/(this.max.x-this.min.x),(A.y-this.min.y)/(this.max.y-this.min.y))},intersectsBox:function(A){return!(A.max.x<this.min.x||this.max.x<A.min.x||A.max.y<this.min.y||this.max.y<A.min.y)},clampPoint:function(A,e){return void 0===e&&(console.warn("THREE.Box2: .clampPoint() target is now required"),e=new Le),e.copy(A).clamp(this.min,this.max)},distanceToPoint:(Vc=new Le,function(A){return Vc.copy(A).clamp(this.min,this.max).sub(A).length()}),intersect:function(A){return this.min.max(A.min),this.max.min(A.max),this},union:function(A){return this.min.min(A.min),this.max.max(A.max),this},translate:function(A){return this.min.add(A),this.max.add(A),this},equals:function(A){return A.min.equals(this.min)&&A.max.equals(this.max)}}),Object.assign(_d.prototype,{set:function(A,e){return this.start.copy(A),this.end.copy(e),this},clone:function(){return(new this.constructor).copy(this)},copy:function(A){return this.start.copy(A.start),this.end.copy(A.end),this},getCenter:function(A){return void 0===A&&(console.warn("THREE.Line3: .getCenter() target is now required"),A=new Ue),A.addVectors(this.start,this.end).multiplyScalar(.5)},delta:function(A){return void 0===A&&(console.warn("THREE.Line3: .delta() target is now required"),A=new Ue),A.subVectors(this.end,this.start)},distanceSq:function(){return this.start.distanceToSquared(this.end)},distance:function(){return this.start.distanceTo(this.end)},at:function(A,e){return void 0===e&&(console.warn("THREE.Line3: .at() target is now required"),e=new Ue),this.delta(e).multiplyScalar(A).add(this.start)},closestPointToPointParameter:function(A,e){void 0===Gc&&(Gc=new Ue,jc=new Ue),Gc.subVectors(A,this.start),jc.subVectors(this.end,this.start);var t=jc.dot(jc),i=jc.dot(Gc)/t;return e&&(i=Fe.clamp(i,0,1)),i},closestPointToPoint:function(A,e,t){var i=this.closestPointToPointParameter(A,e);return void 0===t&&(console.warn("THREE.Line3: .closestPointToPoint() target is now required"),t=new Ue),this.delta(t).multiplyScalar(i).add(this.start)},applyMatrix4:function(A){return this.start.applyMatrix4(A),this.end.applyMatrix4(A),this},equals:function(A){return A.start.equals(this.start)&&A.end.equals(this.end)}}),((Sd.prototype=Object.create(ti.prototype)).constructor=Sd).prototype.isImmediateRenderObject=!0,((Td.prototype=Object.create(Zr.prototype)).constructor=Td).prototype.update=(Wc=new Ue,qc=new Ue,Xc=new Ne,function(){var A=["a","b","c"];this.object.updateMatrixWorld(!0),Xc.getNormalMatrix(this.object.matrixWorld);var e=this.object.matrixWorld,t=this.geometry.attributes.position,i=this.object.geometry;if(i&&i.isGeometry)for(var n=i.vertices,o=i.faces,r=0,a=0,s=o.length;a<s;a++)for(var l=o[a],c=0,d=l.vertexNormals.length;c<d;c++){var h=l.vertexNormals[c];Wc.copy(n[l[A[c]]]).applyMatrix4(e),qc.copy(h).applyMatrix3(Xc).normalize().multiplyScalar(this.size).add(Wc),t.setXYZ(r,Wc.x,Wc.y,Wc.z),t.setXYZ(r+=1,qc.x,qc.y,qc.z),r+=1}else if(i&&i.isBufferGeometry){var u=i.attributes.position,p=i.attributes.normal;for(c=r=0,d=u.count;c<d;c++)Wc.set(u.getX(c),u.getY(c),u.getZ(c)).applyMatrix4(e),qc.set(p.getX(c),p.getY(c),p.getZ(c)),qc.applyMatrix3(Xc).normalize().multiplyScalar(this.size).add(Wc),t.setXYZ(r,Wc.x,Wc.y,Wc.z),t.setXYZ(r+=1,qc.x,qc.y,qc.z),r+=1}t.needsUpdate=!0}),((Kd.prototype=Object.create(ti.prototype)).constructor=Kd).prototype.dispose=function(){this.cone.geometry.dispose(),this.cone.material.dispose()},Kd.prototype.update=(Yc=new Ue,function(){this.light.updateMatrixWorld();var A=this.light.distance?this.light.distance:1e3,e=A*Math.tan(this.light.angle);this.cone.scale.set(e,e,A),Yc.setFromMatrixPosition(this.light.target.matrixWorld),this.cone.lookAt(Yc),void 0!==this.color?this.cone.material.color.set(this.color):this.cone.material.color.copy(this.light.color)}),((Fd.prototype=Object.create(Zr.prototype)).constructor=Fd).prototype.updateMatrixWorld=(Jc=new Ue,Zc=new At,$c=new At,function(A){var e=this.bones,t=this.geometry,i=t.getAttribute("position");$c.getInverse(this.root.matrixWorld);for(var n=0,o=0;n<e.length;n++){var r=e[n];r.parent&&r.parent.isBone&&(Zc.multiplyMatrices($c,r.matrixWorld),Jc.setFromMatrixPosition(Zc),i.setXYZ(o,Jc.x,Jc.y,Jc.z),Zc.multiplyMatrices($c,r.parent.matrixWorld),Jc.setFromMatrixPosition(Zc),i.setXYZ(o+1,Jc.x,Jc.y,Jc.z),o+=2)}t.getAttribute("position").needsUpdate=!0,ti.prototype.updateMatrixWorld.call(this,A)}),((Ld.prototype=Object.create(ji.prototype)).constructor=Ld).prototype.dispose=function(){this.geometry.dispose(),this.material.dispose()},Ld.prototype.update=function(){void 0!==this.color?this.material.color.set(this.color):this.material.color.copy(this.light.color)},((Od.prototype=Object.create(Jr.prototype)).constructor=Od).prototype.update=function(){if(this.scale.set(.5*this.light.width,.5*this.light.height,1),void 0!==this.color)this.material.color.set(this.color),this.children[0].material.color.set(this.color);else{this.material.color.copy(this.light.color).multiplyScalar(this.light.intensity);var A=this.material.color,e=Math.max(A.r,A.g,A.b);1<e&&A.multiplyScalar(1/e),this.children[0].material.color.copy(this.material.color)}},Od.prototype.dispose=function(){this.geometry.dispose(),this.material.dispose(),this.children[0].geometry.dispose(),this.children[0].material.dispose()},((Ud.prototype=Object.create(ti.prototype)).constructor=Ud).prototype.dispose=function(){this.children[0].geometry.dispose(),this.children[0].material.dispose()},Ud.prototype.update=(Ad=new Ue,ed=new hi,td=new hi,function(){var A=this.children[0];if(void 0!==this.color)this.material.color.set(this.color);else{var e=A.geometry.getAttribute("color");ed.copy(this.light.color),td.copy(this.light.groundColor);for(var t=0,i=e.count;t<i;t++){var n=t<i/2?ed:td;e.setXYZ(t,n.r,n.g,n.b)}e.needsUpdate=!0}A.lookAt(Ad.setFromMatrixPosition(this.light.matrixWorld).negate())}),((Nd.prototype=Object.create(ji.prototype)).constructor=Nd).prototype.dispose=function(){this.geometry.dispose(),this.material.dispose()},Nd.prototype.onBeforeRender=function(){this.position.copy(this.lightProbe.position),this.scale.set(1,1,1).multiplyScalar(this.size),this.material.uniforms.intensity.value=this.lightProbe.intensity},Rd.prototype=Object.assign(Object.create(Zr.prototype),{constructor:Rd,copy:function(A){return Zr.prototype.copy.call(this,A),this.geometry.copy(A.geometry),this.material.copy(A.material),this},clone:function(){return(new this.constructor).copy(this)}}),(Pd.prototype=Object.create(Zr.prototype)).constructor=Pd,((Dd.prototype=Object.create(Jr.prototype)).constructor=Dd).prototype.update=function(){var o,r,A=this.audio,a=this.range,e=this.divisionsInnerAngle,t=this.divisionsOuterAngle,i=Fe.degToRad(A.panner.coneInnerAngle),n=Fe.degToRad(A.panner.coneOuterAngle),s=i/2,l=n/2,c=0,d=0,h=this.geometry,u=h.attributes.position;function p(A,e,t,i){var n=(e-A)/t;for(u.setXYZ(c,0,0,0),d++,o=A;o<e;o+=n)u.setXYZ(r=c+d,Math.sin(o)*a,0,Math.cos(o)*a),u.setXYZ(r+1,Math.sin(Math.min(o+n,e))*a,0,Math.cos(Math.min(o+n,e))*a),u.setXYZ(r+2,0,0,0),d+=3;h.addGroup(c,d,i),c+=d,d=0}h.clearGroups(),p(-l,-s,t,0),p(-s,s,e,1),p(s,l,t,0),u.needsUpdate=!0,i===n&&(this.material[0].visible=!1)},Dd.prototype.dispose=function(){this.geometry.dispose(),this.material[0].dispose(),this.material[1].dispose()},((Qd.prototype=Object.create(Zr.prototype)).constructor=Qd).prototype.update=(id=new Ue,nd=new Ue,od=new Ne,function(){this.object.updateMatrixWorld(!0),od.getNormalMatrix(this.object.matrixWorld);for(var A=this.object.matrixWorld,e=this.geometry.attributes.position,t=this.object.geometry,i=t.vertices,n=t.faces,o=0,r=0,a=n.length;r<a;r++){var s=n[r],l=s.normal;id.copy(i[s.a]).add(i[s.b]).add(i[s.c]).divideScalar(3).applyMatrix4(A),nd.copy(l).applyMatrix3(od).normalize().multiplyScalar(this.size).add(id),e.setXYZ(o,id.x,id.y,id.z),e.setXYZ(o+=1,nd.x,nd.y,nd.z),o+=1}e.needsUpdate=!0}),((kd.prototype=Object.create(ti.prototype)).constructor=kd).prototype.dispose=function(){this.lightPlane.geometry.dispose(),this.lightPlane.material.dispose(),this.targetLine.geometry.dispose(),this.targetLine.material.dispose()},kd.prototype.update=(rd=new Ue,ad=new Ue,sd=new Ue,function(){rd.setFromMatrixPosition(this.light.matrixWorld),ad.setFromMatrixPosition(this.light.target.matrixWorld),sd.subVectors(ad,rd),this.lightPlane.lookAt(ad),void 0!==this.color?(this.lightPlane.material.color.set(this.color),this.targetLine.material.color.set(this.color)):(this.lightPlane.material.color.copy(this.light.color),this.targetLine.material.color.copy(this.light.color)),this.targetLine.lookAt(ad),this.targetLine.scale.z=sd.length()}),((zd.prototype=Object.create(Zr.prototype)).constructor=zd).prototype.update=function(){var s,l,c=new Ue,d=new dn;function A(A,e,t,i){c.set(e,t,i).unproject(d);var n=l[A];if(void 0!==n)for(var o=s.getAttribute("position"),r=0,a=n.length;r<a;r++)o.setXYZ(n[r],c.x,c.y,c.z)}return function(){s=this.geometry,l=this.pointMap;d.projectionMatrixInverse.copy(this.camera.projectionMatrixInverse),A("c",0,0,-1),A("t",0,0,1),A("n1",-1,-1,-1),A("n2",1,-1,-1),A("n3",-1,1,-1),A("n4",1,1,-1),A("f1",-1,-1,1),A("f2",1,-1,1),A("f3",-1,1,1),A("f4",1,1,1),A("u1",.7,1.1,-1),A("u2",-.7,1.1,-1),A("u3",0,2,-1),A("cf1",-1,0,1),A("cf2",1,0,1),A("cf3",0,-1,1),A("cf4",0,1,1),A("cn1",-1,0,-1),A("cn2",1,0,-1),A("cn3",0,-1,-1),A("cn4",0,1,-1),s.getAttribute("position").needsUpdate=!0}}(),((Vd.prototype=Object.create(Zr.prototype)).constructor=Vd).prototype.update=(ld=new ni,function(A){if(void 0!==A&&console.warn("THREE.BoxHelper: .update() has no longer arguments."),void 0!==this.object&&ld.setFromObject(this.object),!ld.isEmpty()){var e=ld.min,t=ld.max,i=this.geometry.attributes.position,n=i.array;n[0]=t.x,n[1]=t.y,n[2]=t.z,n[3]=e.x,n[4]=t.y,n[5]=t.z,n[6]=e.x,n[7]=e.y,n[8]=t.z,n[9]=t.x,n[10]=e.y,n[11]=t.z,n[12]=t.x,n[13]=t.y,n[14]=e.z,n[15]=e.x,n[16]=t.y,n[17]=e.z,n[18]=e.x,n[19]=e.y,n[20]=e.z,n[21]=t.x,n[22]=e.y,n[23]=e.z,i.needsUpdate=!0,this.geometry.computeBoundingSphere()}}),Vd.prototype.setFromObject=function(A){return this.object=A,this.update(),this},Vd.prototype.copy=function(A){return Zr.prototype.copy.call(this,A),this.object=A.object,this},Vd.prototype.clone=function(){return(new this.constructor).copy(this)},((Hd.prototype=Object.create(Zr.prototype)).constructor=Hd).prototype.updateMatrixWorld=function(A){var e=this.box;e.isEmpty()||(e.getCenter(this.position),e.getSize(this.scale),this.scale.multiplyScalar(.5),ti.prototype.updateMatrixWorld.call(this,A))},((Gd.prototype=Object.create(Jr.prototype)).constructor=Gd).prototype.updateMatrixWorld=function(A){var e=-this.plane.constant;Math.abs(e)<1e-8&&(e=1e-8),this.scale.set(.5*this.size,.5*this.size,e),this.children[0].material.side=e<0?IA:U,this.lookAt(this.plane.normal),ti.prototype.updateMatrixWorld.call(this,A)},((jd.prototype=Object.create(ti.prototype)).constructor=jd).prototype.setDirection=(ud=new Ue,function(A){.99999<A.y?this.quaternion.set(0,0,0,1):A.y<-.99999?this.quaternion.set(1,0,0,0):(ud.set(A.z,0,-A.x).normalize(),hd=Math.acos(A.y),this.quaternion.setFromAxisAngle(ud,hd))}),jd.prototype.setLength=function(A,e,t){void 0===e&&(e=.2*A),void 0===t&&(t=.2*e),this.line.scale.set(1,Math.max(0,A-e),1),this.line.updateMatrix(),this.cone.scale.set(t,e,t),this.cone.position.y=A,this.cone.updateMatrix()},jd.prototype.setColor=function(A){this.line.material.color.set(A),this.cone.material.color.set(A)},jd.prototype.copy=function(A){return ti.prototype.copy.call(this,A,!1),this.line.copy(A.line),this.cone.copy(A.cone),this},jd.prototype.clone=function(){return(new this.constructor).copy(this)},(Wd.prototype=Object.create(Zr.prototype)).constructor=Wd;var qd;function Xd(A){console.warn("THREE.ClosedSplineCurve3 has been deprecated. Use THREE.CatmullRomCurve3 instead."),ll.call(this,A),this.type="catmullrom",this.closed=!0}function Yd(A){console.warn("THREE.SplineCurve3 has been deprecated. Use THREE.CatmullRomCurve3 instead."),ll.call(this,A),this.type="catmullrom"}function Jd(A){console.warn("THREE.Spline has been removed. Use THREE.CatmullRomCurve3 instead."),ll.call(this,A),this.type="catmullrom"}el.create=function(A,e){return console.log("THREE.Curve.create() has been deprecated"),A.prototype=Object.create(el.prototype),(A.prototype.constructor=A).prototype.getPoint=e,A},Object.assign(Il.prototype,{createPointsGeometry:function(A){console.warn("THREE.CurvePath: .createPointsGeometry() has been removed. Use new THREE.Geometry().setFromPoints( points ) instead.");var e=this.getPoints(A);return this.createGeometry(e)},createSpacedPointsGeometry:function(A){console.warn("THREE.CurvePath: .createSpacedPointsGeometry() has been removed. Use new THREE.Geometry().setFromPoints( points ) instead.");var e=this.getSpacedPoints(A);return this.createGeometry(e)},createGeometry:function(A){console.warn("THREE.CurvePath: .createGeometry() has been removed. Use new THREE.Geometry().setFromPoints( points ) instead.");for(var e=new en,t=0,i=A.length;t<i;t++){var n=A[t];e.vertices.push(new Ue(n.x,n.y,n.z||0))}return e}}),Object.assign(xl.prototype,{fromPoints:function(A){console.warn("THREE.Path: .fromPoints() has been renamed to .setFromPoints()."),this.setFromPoints(A)}}),Xd.prototype=Object.create(ll.prototype),Yd.prototype=Object.create(ll.prototype),Jd.prototype=Object.create(ll.prototype),Object.assign(Jd.prototype,{initFromArray:function(){console.error("THREE.Spline: .initFromArray() has been removed.")},getControlPointsArray:function(){console.error("THREE.Spline: .getControlPointsArray() has been removed.")},reparametrizeByArcLength:function(){console.error("THREE.Spline: .reparametrizeByArcLength() has been removed.")}}),Rd.prototype.setColors=function(){console.error("THREE.GridHelper: setColors() has been deprecated, pass them in the constructor instead.")},Fd.prototype.update=function(){console.error("THREE.SkeletonHelper: update() no longer needs to be called.")},Object.assign(ec.prototype,{extractUrlBase:function(A){return console.warn("THREE.Loader: .extractUrlBase() has been deprecated. Use THREE.LoaderUtils.extractUrlBase() instead."),Nl.extractUrlBase(A)}}),Object.assign(kl.prototype,{setTexturePath:function(A){return console.warn("THREE.ObjectLoader: .setTexturePath() has been renamed to .setResourcePath()."),this.setResourcePath(A)}}),Object.assign(Bd.prototype,{center:function(A){return console.warn("THREE.Box2: .center() has been renamed to .getCenter()."),this.getCenter(A)},empty:function(){return console.warn("THREE.Box2: .empty() has been renamed to .isEmpty()."),this.isEmpty()},isIntersectionBox:function(A){return console.warn("THREE.Box2: .isIntersectionBox() has been renamed to .intersectsBox()."),this.intersectsBox(A)},size:function(A){return console.warn("THREE.Box2: .size() has been renamed to .getSize()."),this.getSize(A)}}),Object.assign(ni.prototype,{center:function(A){return console.warn("THREE.Box3: .center() has been renamed to .getCenter()."),this.getCenter(A)},empty:function(){return console.warn("THREE.Box3: .empty() has been renamed to .isEmpty()."),this.isEmpty()},isIntersectionBox:function(A){return console.warn("THREE.Box3: .isIntersectionBox() has been renamed to .intersectsBox()."),this.intersectsBox(A)},isIntersectionSphere:function(A){return console.warn("THREE.Box3: .isIntersectionSphere() has been renamed to .intersectsSphere()."),this.intersectsSphere(A)},size:function(A){return console.warn("THREE.Box3: .size() has been renamed to .getSize()."),this.getSize(A)}}),_d.prototype.center=function(A){return console.warn("THREE.Line3: .center() has been renamed to .getCenter()."),this.getCenter(A)},Object.assign(Fe,{random16:function(){return console.warn("THREE.Math: .random16() has been deprecated. Use Math.random() instead."),Math.random()},nearestPowerOfTwo:function(A){return console.warn("THREE.Math: .nearestPowerOfTwo() has been renamed to .floorPowerOfTwo()."),Fe.floorPowerOfTwo(A)},nextPowerOfTwo:function(A){return console.warn("THREE.Math: .nextPowerOfTwo() has been renamed to .ceilPowerOfTwo()."),Fe.ceilPowerOfTwo(A)}}),Object.assign(Ne.prototype,{flattenToArrayOffset:function(A,e){return console.warn("THREE.Matrix3: .flattenToArrayOffset() has been deprecated. Use .toArray() instead."),this.toArray(A,e)},multiplyVector3:function(A){return console.warn("THREE.Matrix3: .multiplyVector3() has been removed. Use vector.applyMatrix3( matrix ) instead."),A.applyMatrix3(this)},multiplyVector3Array:function(){console.error("THREE.Matrix3: .multiplyVector3Array() has been removed.")},applyToBuffer:function(A){return console.warn("THREE.Matrix3: .applyToBuffer() has been removed. Use matrix.applyToBufferAttribute( attribute ) instead."),this.applyToBufferAttribute(A)},applyToVector3Array:function(){console.error("THREE.Matrix3: .applyToVector3Array() has been removed.")}}),Object.assign(At.prototype,{extractPosition:function(A){return console.warn("THREE.Matrix4: .extractPosition() has been renamed to .copyPosition()."),this.copyPosition(A)},flattenToArrayOffset:function(A,e){return console.warn("THREE.Matrix4: .flattenToArrayOffset() has been deprecated. Use .toArray() instead."),this.toArray(A,e)},getPosition:function(){return void 0===qd&&(qd=new Ue),console.warn("THREE.Matrix4: .getPosition() has been removed. Use Vector3.setFromMatrixPosition( matrix ) instead."),qd.setFromMatrixColumn(this,3)},setRotationFromQuaternion:function(A){return console.warn("THREE.Matrix4: .setRotationFromQuaternion() has been renamed to .makeRotationFromQuaternion()."),this.makeRotationFromQuaternion(A)},multiplyToArray:function(){console.warn("THREE.Matrix4: .multiplyToArray() has been removed.")},multiplyVector3:function(A){return console.warn("THREE.Matrix4: .multiplyVector3() has been removed. Use vector.applyMatrix4( matrix ) instead."),A.applyMatrix4(this)},multiplyVector4:function(A){return console.warn("THREE.Matrix4: .multiplyVector4() has been removed. Use vector.applyMatrix4( matrix ) instead."),A.applyMatrix4(this)},multiplyVector3Array:function(){console.error("THREE.Matrix4: .multiplyVector3Array() has been removed.")},rotateAxis:function(A){console.warn("THREE.Matrix4: .rotateAxis() has been removed. Use Vector3.transformDirection( matrix ) instead."),A.transformDirection(this)},crossVector:function(A){return console.warn("THREE.Matrix4: .crossVector() has been removed. Use vector.applyMatrix4( matrix ) instead."),A.applyMatrix4(this)},translate:function(){console.error("THREE.Matrix4: .translate() has been removed.")},rotateX:function(){console.error("THREE.Matrix4: .rotateX() has been removed.")},rotateY:function(){console.error("THREE.Matrix4: .rotateY() has been removed.")},rotateZ:function(){console.error("THREE.Matrix4: .rotateZ() has been removed.")},rotateByAxis:function(){console.error("THREE.Matrix4: .rotateByAxis() has been removed.")},applyToBuffer:function(A){return console.warn("THREE.Matrix4: .applyToBuffer() has been removed. Use matrix.applyToBufferAttribute( attribute ) instead."),this.applyToBufferAttribute(A)},applyToVector3Array:function(){console.error("THREE.Matrix4: .applyToVector3Array() has been removed.")},makeFrustum:function(A,e,t,i,n,o){return console.warn("THREE.Matrix4: .makeFrustum() has been removed. Use .makePerspective( left, right, top, bottom, near, far ) instead."),this.makePerspective(A,e,i,t,n,o)}}),En.prototype.isIntersectionLine=function(A){return console.warn("THREE.Plane: .isIntersectionLine() has been renamed to .intersectsLine()."),this.intersectsLine(A)},Oe.prototype.multiplyVector3=function(A){return console.warn("THREE.Quaternion: .multiplyVector3() has been removed. Use is now vector.applyQuaternion( quaternion ) instead."),A.applyQuaternion(this)},Object.assign(ri.prototype,{isIntersectionBox:function(A){return console.warn("THREE.Ray: .isIntersectionBox() has been renamed to .intersectsBox()."),this.intersectsBox(A)},isIntersectionPlane:function(A){return console.warn("THREE.Ray: .isIntersectionPlane() has been renamed to .intersectsPlane()."),this.intersectsPlane(A)},isIntersectionSphere:function(A){return console.warn("THREE.Ray: .isIntersectionSphere() has been renamed to .intersectsSphere()."),this.intersectsSphere(A)}}),Object.assign(ai.prototype,{area:function(){return console.warn("THREE.Triangle: .area() has been renamed to .getArea()."),this.getArea()},barycoordFromPoint:function(A,e){return console.warn("THREE.Triangle: .barycoordFromPoint() has been renamed to .getBarycoord()."),this.getBarycoord(A,e)},midpoint:function(A){return console.warn("THREE.Triangle: .midpoint() has been renamed to .getMidpoint()."),this.getMidpoint(A)},normal:function(A){return console.warn("THREE.Triangle: .normal() has been renamed to .getNormal()."),this.getNormal(A)},plane:function(A){return console.warn("THREE.Triangle: .plane() has been renamed to .getPlane()."),this.getPlane(A)}}),Object.assign(ai,{barycoordFromPoint:function(A,e,t,i,n){return console.warn("THREE.Triangle: .barycoordFromPoint() has been renamed to .getBarycoord()."),ai.getBarycoord(A,e,t,i,n)},normal:function(A,e,t,i){return console.warn("THREE.Triangle: .normal() has been renamed to .getNormal()."),ai.getNormal(A,e,t,i)}}),Object.assign(bl.prototype,{extractAllPoints:function(A){return console.warn("THREE.Shape: .extractAllPoints() has been removed. Use .extractPoints() instead."),this.extractPoints(A)},extrude:function(A){return console.warn("THREE.Shape: .extrude() has been removed. Use ExtrudeGeometry() instead."),new Xa(this,A)},makeGeometry:function(A){return console.warn("THREE.Shape: .makeGeometry() has been removed. Use ShapeGeometry() instead."),new as(this,A)}}),Object.assign(Le.prototype,{fromAttribute:function(A,e,t){return console.warn("THREE.Vector2: .fromAttribute() has been renamed to .fromBufferAttribute()."),this.fromBufferAttribute(A,e,t)},distanceToManhattan:function(A){return console.warn("THREE.Vector2: .distanceToManhattan() has been renamed to .manhattanDistanceTo()."),this.manhattanDistanceTo(A)},lengthManhattan:function(){return console.warn("THREE.Vector2: .lengthManhattan() has been renamed to .manhattanLength()."),this.manhattanLength()}}),Object.assign(Ue.prototype,{setEulerFromRotationMatrix:function(){console.error("THREE.Vector3: .setEulerFromRotationMatrix() has been removed. Use Euler.setFromRotationMatrix() instead.")},setEulerFromQuaternion:function(){console.error("THREE.Vector3: .setEulerFromQuaternion() has been removed. Use Euler.setFromQuaternion() instead.")},getPositionFromMatrix:function(A){return console.warn("THREE.Vector3: .getPositionFromMatrix() has been renamed to .setFromMatrixPosition()."),this.setFromMatrixPosition(A)},getScaleFromMatrix:function(A){return console.warn("THREE.Vector3: .getScaleFromMatrix() has been renamed to .setFromMatrixScale()."),this.setFromMatrixScale(A)},getColumnFromMatrix:function(A,e){return console.warn("THREE.Vector3: .getColumnFromMatrix() has been renamed to .setFromMatrixColumn()."),this.setFromMatrixColumn(e,A)},applyProjection:function(A){return console.warn("THREE.Vector3: .applyProjection() has been removed. Use .applyMatrix4( m ) instead."),this.applyMatrix4(A)},fromAttribute:function(A,e,t){return console.warn("THREE.Vector3: .fromAttribute() has been renamed to .fromBufferAttribute()."),this.fromBufferAttribute(A,e,t)},distanceToManhattan:function(A){return console.warn("THREE.Vector3: .distanceToManhattan() has been renamed to .manhattanDistanceTo()."),this.manhattanDistanceTo(A)},lengthManhattan:function(){return console.warn("THREE.Vector3: .lengthManhattan() has been renamed to .manhattanLength()."),this.manhattanLength()}}),Object.assign(Je.prototype,{fromAttribute:function(A,e,t){return console.warn("THREE.Vector4: .fromAttribute() has been renamed to .fromBufferAttribute()."),this.fromBufferAttribute(A,e,t)},lengthManhattan:function(){return console.warn("THREE.Vector4: .lengthManhattan() has been renamed to .manhattanLength()."),this.manhattanLength()}}),Object.assign(en.prototype,{computeTangents:function(){console.error("THREE.Geometry: .computeTangents() has been removed.")},computeLineDistances:function(){console.error("THREE.Geometry: .computeLineDistances() has been removed. Use THREE.Line.computeLineDistances() instead.")}}),Object.assign(ti.prototype,{getChildByName:function(A){return console.warn("THREE.Object3D: .getChildByName() has been renamed to .getObjectByName()."),this.getObjectByName(A)},renderDepth:function(){console.warn("THREE.Object3D: .renderDepth has been removed. Use .renderOrder, instead.")},translate:function(A,e){return console.warn("THREE.Object3D: .translate() has been removed. Use .translateOnAxis( axis, distance ) instead."),this.translateOnAxis(e,A)},getWorldRotation:function(){console.error("THREE.Object3D: .getWorldRotation() has been removed. Use THREE.Object3D.getWorldQuaternion( target ) instead.")}}),Object.defineProperties(ti.prototype,{eulerOrder:{get:function(){return console.warn("THREE.Object3D: .eulerOrder is now .rotation.order."),this.rotation.order},set:function(A){console.warn("THREE.Object3D: .eulerOrder is now .rotation.order."),this.rotation.order=A}},useQuaternion:{get:function(){console.warn("THREE.Object3D: .useQuaternion has been removed. The library now uses quaternions by default.")},set:function(){console.warn("THREE.Object3D: .useQuaternion has been removed. The library now uses quaternions by default.")}}}),Object.defineProperties(jr.prototype,{objects:{get:function(){return console.warn("THREE.LOD: .objects has been renamed to .levels."),this.levels}}}),Object.defineProperty(qr.prototype,"useVertexTexture",{get:function(){console.warn("THREE.Skeleton: useVertexTexture has been removed.")},set:function(){console.warn("THREE.Skeleton: useVertexTexture has been removed.")}}),Wr.prototype.initBones=function(){console.error("THREE.SkinnedMesh: initBones() has been removed.")},Object.defineProperty(el.prototype,"__arcLengthDivisions",{get:function(){return console.warn("THREE.Curve: .__arcLengthDivisions is now .arcLengthDivisions."),this.arcLengthDivisions},set:function(A){console.warn("THREE.Curve: .__arcLengthDivisions is now .arcLengthDivisions."),this.arcLengthDivisions=A}}),hn.prototype.setLens=function(A,e){console.warn("THREE.PerspectiveCamera.setLens is deprecated. Use .setFocalLength and .filmGauge for a photographic setup."),void 0!==e&&(this.filmGauge=e),this.setFocalLength(A)},Object.defineProperties(El.prototype,{onlyShadow:{set:function(){console.warn("THREE.Light: .onlyShadow has been removed.")}},shadowCameraFov:{set:function(A){console.warn("THREE.Light: .shadowCameraFov is now .shadow.camera.fov."),this.shadow.camera.fov=A}},shadowCameraLeft:{set:function(A){console.warn("THREE.Light: .shadowCameraLeft is now .shadow.camera.left."),this.shadow.camera.left=A}},shadowCameraRight:{set:function(A){console.warn("THREE.Light: .shadowCameraRight is now .shadow.camera.right."),this.shadow.camera.right=A}},shadowCameraTop:{set:function(A){console.warn("THREE.Light: .shadowCameraTop is now .shadow.camera.top."),this.shadow.camera.top=A}},shadowCameraBottom:{set:function(A){console.warn("THREE.Light: .shadowCameraBottom is now .shadow.camera.bottom."),this.shadow.camera.bottom=A}},shadowCameraNear:{set:function(A){console.warn("THREE.Light: .shadowCameraNear is now .shadow.camera.near."),this.shadow.camera.near=A}},shadowCameraFar:{set:function(A){console.warn("THREE.Light: .shadowCameraFar is now .shadow.camera.far."),this.shadow.camera.far=A}},shadowCameraVisible:{set:function(){console.warn("THREE.Light: .shadowCameraVisible has been removed. Use new THREE.CameraHelper( light.shadow.camera ) instead.")}},shadowBias:{set:function(A){console.warn("THREE.Light: .shadowBias is now .shadow.bias."),this.shadow.bias=A}},shadowDarkness:{set:function(){console.warn("THREE.Light: .shadowDarkness has been removed.")}},shadowMapWidth:{set:function(A){console.warn("THREE.Light: .shadowMapWidth is now .shadow.mapSize.width."),this.shadow.mapSize.width=A}},shadowMapHeight:{set:function(A){console.warn("THREE.Light: .shadowMapHeight is now .shadow.mapSize.height."),this.shadow.mapSize.height=A}}}),Object.defineProperties(Ci.prototype,{length:{get:function(){return console.warn("THREE.BufferAttribute: .length has been deprecated. Use .count instead."),this.array.length}},copyIndicesArray:function(){console.error("THREE.BufferAttribute: .copyIndicesArray() has been removed.")}}),Object.assign(Gi.prototype,{addIndex:function(A){console.warn("THREE.BufferGeometry: .addIndex() has been renamed to .setIndex()."),this.setIndex(A)},addDrawCall:function(A,e,t){void 0!==t&&console.warn("THREE.BufferGeometry: .addDrawCall() no longer supports indexOffset."),console.warn("THREE.BufferGeometry: .addDrawCall() is now .addGroup()."),this.addGroup(A,e)},clearDrawCalls:function(){console.warn("THREE.BufferGeometry: .clearDrawCalls() is now .clearGroups()."),this.clearGroups()},computeTangents:function(){console.warn("THREE.BufferGeometry: .computeTangents() has been removed.")},computeOffsets:function(){console.warn("THREE.BufferGeometry: .computeOffsets() has been removed.")}}),Object.defineProperties(Gi.prototype,{drawcalls:{get:function(){return console.error("THREE.BufferGeometry: .drawcalls has been renamed to .groups."),this.groups}},offsets:{get:function(){return console.warn("THREE.BufferGeometry: .offsets has been renamed to .groups."),this.groups}}}),Object.assign(Ya.prototype,{getArrays:function(){console.error("THREE.ExtrudeBufferGeometry: .getArrays() has been removed.")},addShapeList:function(){console.error("THREE.ExtrudeBufferGeometry: .addShapeList() has been removed.")},addShape:function(){console.error("THREE.ExtrudeBufferGeometry: .addShape() has been removed.")}}),Object.defineProperties(Cd.prototype,{dynamic:{set:function(){console.warn("THREE.Uniform: .dynamic has been removed. Use object.onBeforeRender() instead.")}},onUpdate:{value:function(){return console.warn("THREE.Uniform: .onUpdate() has been removed. Use object.onBeforeRender() instead."),this}}}),Object.defineProperties(vi.prototype,{wrapAround:{get:function(){console.warn("THREE.Material: .wrapAround has been removed.")},set:function(){console.warn("THREE.Material: .wrapAround has been removed.")}},overdraw:{get:function(){console.warn("THREE.Material: .overdraw has been removed.")},set:function(){console.warn("THREE.Material: .overdraw has been removed.")}},wrapRGB:{get:function(){return console.warn("THREE.Material: .wrapRGB has been removed."),new hi}},shading:{get:function(){console.error("THREE."+this.type+": .shading has been removed. Use the boolean .flatShading instead.")},set:function(A){console.warn("THREE."+this.type+": .shading has been removed. Use the boolean .flatShading instead."),this.flatShading=1===A}}}),Object.defineProperties(xs.prototype,{metal:{get:function(){return console.warn("THREE.MeshPhongMaterial: .metal has been removed. Use THREE.MeshStandardMaterial instead."),!1},set:function(){console.warn("THREE.MeshPhongMaterial: .metal has been removed. Use THREE.MeshStandardMaterial instead")}}}),Object.defineProperties(cn.prototype,{derivatives:{get:function(){return console.warn("THREE.ShaderMaterial: .derivatives has been moved to .extensions.derivatives."),this.extensions.derivatives},set:function(A){console.warn("THREE. ShaderMaterial: .derivatives has been moved to .extensions.derivatives."),this.extensions.derivatives=A}}}),Object.assign(Dr.prototype,{clearTarget:function(A,e,t,i){console.warn("THREE.WebGLRenderer: .clearTarget() has been deprecated. Use .setRenderTarget() and .clear() instead."),this.setRenderTarget(A),this.clear(e,t,i)},animate:function(A){console.warn("THREE.WebGLRenderer: .animate() is now .setAnimationLoop()."),this.setAnimationLoop(A)},getCurrentRenderTarget:function(){return console.warn("THREE.WebGLRenderer: .getCurrentRenderTarget() is now .getRenderTarget()."),this.getRenderTarget()},getMaxAnisotropy:function(){return console.warn("THREE.WebGLRenderer: .getMaxAnisotropy() is now .capabilities.getMaxAnisotropy()."),this.capabilities.getMaxAnisotropy()},getPrecision:function(){return console.warn("THREE.WebGLRenderer: .getPrecision() is now .capabilities.precision."),this.capabilities.precision},resetGLState:function(){return console.warn("THREE.WebGLRenderer: .resetGLState() is now .state.reset()."),this.state.reset()},supportsFloatTextures:function(){return console.warn("THREE.WebGLRenderer: .supportsFloatTextures() is now .extensions.get( 'OES_texture_float' )."),this.extensions.get("OES_texture_float")},supportsHalfFloatTextures:function(){return console.warn("THREE.WebGLRenderer: .supportsHalfFloatTextures() is now .extensions.get( 'OES_texture_half_float' )."),this.extensions.get("OES_texture_half_float")},supportsStandardDerivatives:function(){return console.warn("THREE.WebGLRenderer: .supportsStandardDerivatives() is now .extensions.get( 'OES_standard_derivatives' )."),this.extensions.get("OES_standard_derivatives")},supportsCompressedTextureS3TC:function(){return console.warn("THREE.WebGLRenderer: .supportsCompressedTextureS3TC() is now .extensions.get( 'WEBGL_compressed_texture_s3tc' )."),this.extensions.get("WEBGL_compressed_texture_s3tc")},supportsCompressedTexturePVRTC:function(){return console.warn("THREE.WebGLRenderer: .supportsCompressedTexturePVRTC() is now .extensions.get( 'WEBGL_compressed_texture_pvrtc' )."),this.extensions.get("WEBGL_compressed_texture_pvrtc")},supportsBlendMinMax:function(){return console.warn("THREE.WebGLRenderer: .supportsBlendMinMax() is now .extensions.get( 'EXT_blend_minmax' )."),this.extensions.get("EXT_blend_minmax")},supportsVertexTextures:function(){return console.warn("THREE.WebGLRenderer: .supportsVertexTextures() is now .capabilities.vertexTextures."),this.capabilities.vertexTextures},supportsInstancedArrays:function(){return console.warn("THREE.WebGLRenderer: .supportsInstancedArrays() is now .extensions.get( 'ANGLE_instanced_arrays' )."),this.extensions.get("ANGLE_instanced_arrays")},enableScissorTest:function(A){console.warn("THREE.WebGLRenderer: .enableScissorTest() is now .setScissorTest()."),this.setScissorTest(A)},initMaterial:function(){console.warn("THREE.WebGLRenderer: .initMaterial() has been removed.")},addPrePlugin:function(){console.warn("THREE.WebGLRenderer: .addPrePlugin() has been removed.")},addPostPlugin:function(){console.warn("THREE.WebGLRenderer: .addPostPlugin() has been removed.")},updateShadowMap:function(){console.warn("THREE.WebGLRenderer: .updateShadowMap() has been removed.")},setFaceCulling:function(){console.warn("THREE.WebGLRenderer: .setFaceCulling() has been removed.")},allocTextureUnit:function(){console.warn("THREE.WebGLRenderer: .allocTextureUnit() has been removed.")},setTexture:function(){console.warn("THREE.WebGLRenderer: .setTexture() has been removed.")},setTexture2D:function(){console.warn("THREE.WebGLRenderer: .setTexture2D() has been removed.")},setTextureCube:function(){console.warn("THREE.WebGLRenderer: .setTextureCube() has been removed.")},getActiveMipMapLevel:function(){return console.warn("THREE.WebGLRenderer: .getActiveMipMapLevel() is now .getActiveMipmapLevel()."),this.getActiveMipmapLevel()}}),Object.defineProperties(Dr.prototype,{shadowMapEnabled:{get:function(){return this.shadowMap.enabled},set:function(A){console.warn("THREE.WebGLRenderer: .shadowMapEnabled is now .shadowMap.enabled."),this.shadowMap.enabled=A}},shadowMapType:{get:function(){return this.shadowMap.type},set:function(A){console.warn("THREE.WebGLRenderer: .shadowMapType is now .shadowMap.type."),this.shadowMap.type=A}},shadowMapCullFace:{get:function(){console.warn("THREE.WebGLRenderer: .shadowMapCullFace has been removed. Set Material.shadowSide instead.")},set:function(){console.warn("THREE.WebGLRenderer: .shadowMapCullFace has been removed. Set Material.shadowSide instead.")}},context:{get:function(){return console.warn("THREE.WebGLRenderer: .context has been removed. Use .getContext() instead."),this.getContext()}}}),Object.defineProperties(hr.prototype,{cullFace:{get:function(){console.warn("THREE.WebGLRenderer: .shadowMap.cullFace has been removed. Set Material.shadowSide instead.")},set:function(){console.warn("THREE.WebGLRenderer: .shadowMap.cullFace has been removed. Set Material.shadowSide instead.")}},renderReverseSided:{get:function(){console.warn("THREE.WebGLRenderer: .shadowMap.renderReverseSided has been removed. Set Material.shadowSide instead.")},set:function(){console.warn("THREE.WebGLRenderer: .shadowMap.renderReverseSided has been removed. Set Material.shadowSide instead.")}},renderSingleSided:{get:function(){console.warn("THREE.WebGLRenderer: .shadowMap.renderSingleSided has been removed. Set Material.shadowSide instead.")},set:function(){console.warn("THREE.WebGLRenderer: .shadowMap.renderSingleSided has been removed. Set Material.shadowSide instead.")}}}),Object.defineProperties(xn.prototype,{activeCubeFace:{set:function(){console.warn("THREE.WebGLRenderTargetCube: .activeCubeFace has been removed. It is now the second parameter of WebGLRenderer.setRenderTarget().")}},activeMipMapLevel:{set:function(){console.warn("THREE.WebGLRenderTargetCube: .activeMipMapLevel has been removed. It is now the third parameter of WebGLRenderer.setRenderTarget().")}}}),Object.defineProperties(Ze.prototype,{wrapS:{get:function(){return console.warn("THREE.WebGLRenderTarget: .wrapS is now .texture.wrapS."),this.texture.wrapS},set:function(A){console.warn("THREE.WebGLRenderTarget: .wrapS is now .texture.wrapS."),this.texture.wrapS=A}},wrapT:{get:function(){return console.warn("THREE.WebGLRenderTarget: .wrapT is now .texture.wrapT."),this.texture.wrapT},set:function(A){console.warn("THREE.WebGLRenderTarget: .wrapT is now .texture.wrapT."),this.texture.wrapT=A}},magFilter:{get:function(){return console.warn("THREE.WebGLRenderTarget: .magFilter is now .texture.magFilter."),this.texture.magFilter},set:function(A){console.warn("THREE.WebGLRenderTarget: .magFilter is now .texture.magFilter."),this.texture.magFilter=A}},minFilter:{get:function(){return console.warn("THREE.WebGLRenderTarget: .minFilter is now .texture.minFilter."),this.texture.minFilter},set:function(A){console.warn("THREE.WebGLRenderTarget: .minFilter is now .texture.minFilter."),this.texture.minFilter=A}},anisotropy:{get:function(){return console.warn("THREE.WebGLRenderTarget: .anisotropy is now .texture.anisotropy."),this.texture.anisotropy},set:function(A){console.warn("THREE.WebGLRenderTarget: .anisotropy is now .texture.anisotropy."),this.texture.anisotropy=A}},offset:{get:function(){return console.warn("THREE.WebGLRenderTarget: .offset is now .texture.offset."),this.texture.offset},set:function(A){console.warn("THREE.WebGLRenderTarget: .offset is now .texture.offset."),this.texture.offset=A}},repeat:{get:function(){return console.warn("THREE.WebGLRenderTarget: .repeat is now .texture.repeat."),this.texture.repeat},set:function(A){console.warn("THREE.WebGLRenderTarget: .repeat is now .texture.repeat."),this.texture.repeat=A}},format:{get:function(){return console.warn("THREE.WebGLRenderTarget: .format is now .texture.format."),this.texture.format},set:function(A){console.warn("THREE.WebGLRenderTarget: .format is now .texture.format."),this.texture.format=A}},type:{get:function(){return console.warn("THREE.WebGLRenderTarget: .type is now .texture.type."),this.texture.type},set:function(A){console.warn("THREE.WebGLRenderTarget: .type is now .texture.type."),this.texture.type=A}},generateMipmaps:{get:function(){return console.warn("THREE.WebGLRenderTarget: .generateMipmaps is now .texture.generateMipmaps."),this.texture.generateMipmaps},set:function(A){console.warn("THREE.WebGLRenderTarget: .generateMipmaps is now .texture.generateMipmaps."),this.texture.generateMipmaps=A}}}),Object.defineProperties(Rr.prototype,{standing:{set:function(){console.warn("THREE.WebVRManager: .standing has been removed.")}},userHeight:{set:function(){console.warn("THREE.WebVRManager: .userHeight has been removed.")}}}),Tc.prototype.load=function(A){console.warn("THREE.Audio: .load has been deprecated. Use THREE.AudioLoader instead.");var e=this;return(new xc).load(A,function(A){e.setBuffer(A)}),this},Fc.prototype.getData=function(){return console.warn("THREE.AudioAnalyser: .getData() is now .getFrequencyData()."),this.getFrequencyData()},In.prototype.updateCubeMap=function(A,e){return console.warn("THREE.CubeCamera: .updateCubeMap() is now .update()."),this.update(A,e)};var Zd={merge:function(A,e,t){var i;console.warn("THREE.GeometryUtils: .merge() has been moved to Geometry. Use geometry.merge( geometry2, matrix, materialIndexOffset ) instead."),e.isMesh&&(e.matrixAutoUpdate&&e.updateMatrix(),i=e.matrix,e=e.geometry),A.merge(e,i,t)},center:function(A){return console.warn("THREE.GeometryUtils: .center() has been moved to Geometry. Use geometry.center() instead."),A.center()}};qe.crossOrigin=void 0,qe.loadTexture=function(A,e,t,i){console.warn("THREE.ImageUtils.loadTexture has been deprecated. Use THREE.TextureLoader() instead.");var n=new Al;n.setCrossOrigin(this.crossOrigin);var o=n.load(A,t,void 0,i);return e&&(o.mapping=e),o},qe.loadTextureCube=function(A,e,t,i){console.warn("THREE.ImageUtils.loadTextureCube has been deprecated. Use THREE.CubeTextureLoader() instead.");var n=new $s;n.setCrossOrigin(this.crossOrigin);var o=n.load(A,t,void 0,i);return e&&(o.mapping=e),o},qe.loadCompressedTexture=function(){console.error("THREE.ImageUtils.loadCompressedTexture has been removed. Use THREE.DDSLoader instead.")},qe.loadCompressedTextureCube=function(){console.error("THREE.ImageUtils.loadCompressedTextureCube has been removed. Use THREE.DDSLoader instead.")};var $d=Object.freeze({ACESFilmicToneMapping:mA,AddEquation:tA,AddOperation:G,AdditiveBlending:J,AlphaFormat:UA,AlwaysDepth:nA,AlwaysStencilFunc:Ke,AmbientLight:Ll,AmbientLightProbe:Mc,AnimationClip:zs,AnimationLoader:Xs,AnimationMixer:yd,AnimationObjectGroup:md,AnimationUtils:Ss,ArcCurve:il,ArrayCamera:mr,ArrowHelper:jd,Audio:Tc,AudioAnalyser:Fc,AudioContext:Ic,AudioListener:Sc,AudioLoader:xc,AxesHelper:Wd,AxisHelper:function(A){return console.warn("THREE.AxisHelper has been renamed to THREE.AxesHelper."),new Wd(A)},BackSide:IA,BasicDepthPacking:Me,BasicShadowMap:0,BinaryTextureLoader:function(A){return console.warn("THREE.BinaryTextureLoader has been renamed to THREE.DataTextureLoader."),new Js(A)},Bone:Xr,BooleanKeyframeTrack:Us,BoundingBoxHelper:function(A,e){return console.warn("THREE.BoundingBoxHelper has been deprecated. Creating a THREE.BoxHelper instead."),new Vd(A,e)},Box2:Bd,Box3:ni,Box3Helper:Hd,BoxBufferGeometry:nn,BoxGeometry:tn,BoxHelper:Vd,BufferAttribute:Ci,BufferGeometry:Gi,BufferGeometryLoader:Dl,ByteType:K,Cache:Hs,Camera:dn,CameraHelper:zd,CanvasRenderer:function(){console.error("THREE.CanvasRenderer has been removed")},CanvasTexture:na,CatmullRomCurve3:ll,CineonToneMapping:fA,CircleBufferGeometry:fs,CircleGeometry:gs,ClampToEdgeWrapping:L,Clock:_c,ClosedSplineCurve3:Xd,Color:hi,ColorKeyframeTrack:Ns,CompressedTexture:ia,CompressedTextureLoader:Ys,ConeBufferGeometry:ps,ConeGeometry:us,CubeCamera:In,CubeGeometry:tn,CubeReflectionMapping:vA,CubeRefractionMapping:yA,CubeTexture:Hn,CubeTextureLoader:$s,CubeUVReflectionMapping:wA,CubeUVRefractionMapping:MA,CubicBezierCurve:ul,CubicBezierCurve3:pl,CubicInterpolant:Ks,CullFaceBack:W,CullFaceFront:q,CullFaceFrontBack:3,CullFaceNone:j,Curve:el,CurvePath:Il,CustomBlending:eA,CylinderBufferGeometry:hs,CylinderGeometry:ds,Cylindrical:Md,DataTexture:bn,DataTexture2DArray:Gn,DataTexture3D:jn,DataTextureLoader:Js,DecrementStencilOp:7683,DecrementWrapStencilOp:34056,DefaultLoadingManager:js,DepthFormat:kA,DepthStencilFormat:zA,DepthTexture:oa,DirectionalLight:Fl,DirectionalLightHelper:kd,DirectionalLightShadow:Kl,DiscreteInterpolant:Ls,DodecahedronBufferGeometry:va,DodecahedronGeometry:ma,DoubleSide:gA,DstAlphaFactor:x,DstColorFactor:E,DynamicBufferAttribute:function(A,e){return console.warn("THREE.DynamicBufferAttribute has been removed. Use new THREE.BufferAttribute().setDynamic( true ) instead."),new Ci(A,e).setDynamic(!0)},EdgesGeometry:cs,EdgesHelper:function(A,e){return console.warn("THREE.EdgesHelper has been removed. Use THREE.EdgesGeometry instead."),new Zr(new cs(A.geometry),new Yr({color:void 0!==e?e:16777215}))},EllipseCurve:tl,EqualDepth:aA,EqualStencilFunc:514,EquirectangularReflectionMapping:CA,EquirectangularRefractionMapping:bA,Euler:et,EventDispatcher:t,ExtrudeBufferGeometry:Ya,ExtrudeGeometry:Xa,Face3:fi,Face4:function(A,e,t,i,n,o,r){return console.warn("THREE.Face4 has been removed. A THREE.Face3 will be created instead."),new fi(A,e,t,n,o,r)},FaceColors:1,FaceNormalsHelper:Qd,FileLoader:qs,FlatShading:1,Float32Attribute:function(A,e){return console.warn("THREE.Float32Attribute has been removed. Use new THREE.Float32BufferAttribute() instead."),new _i(A,e)},Float32BufferAttribute:_i,Float64Attribute:function(A,e){return console.warn("THREE.Float64Attribute has been removed. Use new THREE.Float64BufferAttribute() instead."),new Si(A,e)},Float64BufferAttribute:Si,FloatType:SA,Fog:kr,FogExp2:Qr,Font:Zl,FontLoader:Ac,FrontFaceDirectionCCW:1,FrontFaceDirectionCW:0,FrontSide:U,Frustum:wn,GammaEncoding:Ie,Geometry:en,GeometryUtils:Zd,GreaterDepth:lA,GreaterEqualDepth:sA,GreaterEqualStencilFunc:518,GreaterStencilFunc:516,GridHelper:Rd,Group:fr,HalfFloatType:TA,HemisphereLight:wl,HemisphereLightHelper:Ud,HemisphereLightProbe:wc,IcosahedronBufferGeometry:fa,IcosahedronGeometry:ga,ImageBitmapLoader:Yl,ImageLoader:Zs,ImageUtils:qe,ImmediateRenderObject:Sd,IncrementStencilOp:7682,IncrementWrapStencilOp:34055,InstancedBufferAttribute:Pl,InstancedBufferGeometry:Rl,InstancedInterleavedBuffer:Id,Int16Attribute:function(A,e){return console.warn("THREE.Int16Attribute has been removed. Use new THREE.Int16BufferAttribute() instead."),new Ei(A,e)},Int16BufferAttribute:Ei,Int32Attribute:function(A,e){return console.warn("THREE.Int32Attribute has been removed. Use new THREE.Int32BufferAttribute() instead."),new Mi(A,e)},Int32BufferAttribute:Mi,Int8Attribute:function(A,e){return console.warn("THREE.Int8Attribute has been removed. Use new THREE.Int8BufferAttribute() instead."),new Ii(A,e)},Int8BufferAttribute:Ii,IntType:Q,InterleavedBuffer:zr,InterleavedBufferAttribute:Vr,Interpolant:Ts,InterpolateDiscrete:ue,InterpolateLinear:pe,InterpolateSmooth:2302,InvertStencilOp:5386,JSONLoader:function(){console.error("THREE.JSONLoader has been removed.")},KeepStencilOp:Te,KeyframeTrack:Os,LOD:jr,LatheBufferGeometry:rs,LatheGeometry:os,Layers:tt,LensFlare:function(){console.error("THREE.LensFlare has been moved to /examples/js/objects/Lensflare.js")},LessDepth:oA,LessEqualDepth:rA,LessEqualStencilFunc:515,LessStencilFunc:513,Light:El,LightProbe:Ec,LightProbeHelper:Nd,LightShadow:Ml,Line:Jr,Line3:_d,LineBasicMaterial:Yr,LineCurve:gl,LineCurve3:fl,LineDashedMaterial:Bs,LineLoop:$r,LinePieces:1,LineSegments:Zr,LineStrip:0,LinearEncoding:ye,LinearFilter:P,LinearInterpolant:Fs,LinearMipMapLinearFilter:1008,LinearMipMapNearestFilter:1007,LinearMipmapLinearFilter:T,LinearMipmapNearestFilter:S,LinearToneMapping:xA,Loader:ec,LoaderUtils:Nl,LoadingManager:Gs,LogLuvEncoding:3003,LoopOnce:2200,LoopPingPong:2202,LoopRepeat:2201,LuminanceAlphaFormat:DA,LuminanceFormat:PA,MOUSE:pA,Material:vi,MaterialLoader:Ul,Math:Fe,Matrix3:Ne,Matrix4:At,MaxEquation:p,Mesh:ji,MeshBasicMaterial:yi,MeshDepthMaterial:cr,MeshDistanceMaterial:dr,MeshFaceMaterial:function(A){return console.warn("THREE.MeshFaceMaterial has been removed. Use an Array instead."),A},MeshLambertMaterial:ws,MeshMatcapMaterial:Ms,MeshNormalMaterial:Es,MeshPhongMaterial:xs,MeshPhysicalMaterial:Is,MeshStandardMaterial:Cs,MeshToonMaterial:bs,MinEquation:u,MirroredRepeatWrapping:_,MixOperation:H,MultiMaterial:function(A){return void 0===A&&(A=[]),console.warn("THREE.MultiMaterial has been removed. Use an Array instead."),A.isMultiMaterial=!0,(A.materials=A).clone=function(){return A.slice()},A},MultiplyBlending:AA,MultiplyOperation:V,NearestFilter:N,NearestMipMapLinearFilter:1005,NearestMipMapNearestFilter:1004,NearestMipmapLinearFilter:R,NearestMipmapNearestFilter:O,NeverDepth:iA,NeverStencilFunc:512,NoBlending:X,NoColors:c,NoToneMapping:dA,NormalBlending:Y,NotEqualDepth:cA,NotEqualStencilFunc:517,NumberKeyframeTrack:Rs,Object3D:ti,ObjectLoader:kl,ObjectSpaceNormalMap:Se,OctahedronBufferGeometry:pa,OctahedronGeometry:ua,OneFactor:f,OneMinusDstAlphaFactor:b,OneMinusDstColorFactor:w,OneMinusSrcAlphaFactor:I,OneMinusSrcColorFactor:y,OrthographicCamera:Tl,PCFShadowMap:k,PCFSoftShadowMap:z,ParametricBufferGeometry:sa,ParametricGeometry:aa,Particle:function(A){return console.warn("THREE.Particle has been renamed to THREE.Sprite."),new Gr(A)},ParticleBasicMaterial:function(A){return console.warn("THREE.ParticleBasicMaterial has been renamed to THREE.PointsMaterial."),new Aa(A)},ParticleSystem:function(A,e){return console.warn("THREE.ParticleSystem has been renamed to THREE.Points."),new ea(A,e)},ParticleSystemMaterial:function(A){return console.warn("THREE.ParticleSystemMaterial has been renamed to THREE.PointsMaterial."),new Aa(A)},Path:xl,PerspectiveCamera:hn,Plane:En,PlaneBufferGeometry:Fn,PlaneGeometry:Kn,PlaneHelper:Gd,PointCloud:function(A,e){return console.warn("THREE.PointCloud has been renamed to THREE.Points."),new ea(A,e)},PointCloudMaterial:function(A){return console.warn("THREE.PointCloudMaterial has been renamed to THREE.PointsMaterial."),new Aa(A)},PointLight:Sl,PointLightHelper:Ld,Points:ea,PointsMaterial:Aa,PolarGridHelper:Pd,PolyhedronBufferGeometry:ca,PolyhedronGeometry:la,PositionalAudio:Kc,PositionalAudioHelper:Dd,PropertyBinding:fd,PropertyMixer:Lc,QuadraticBezierCurve:ml,QuadraticBezierCurve3:vl,Quaternion:Oe,QuaternionKeyframeTrack:Ds,QuaternionLinearInterpolant:Ps,REVISION:"107",RGBADepthPacking:Be,RGBAFormat:RA,RGBA_ASTC_10x10_Format:ce,RGBA_ASTC_10x5_Format:ae,RGBA_ASTC_10x6_Format:se,RGBA_ASTC_10x8_Format:le,RGBA_ASTC_12x10_Format:de,RGBA_ASTC_12x12_Format:he,RGBA_ASTC_4x4_Format:$A,RGBA_ASTC_5x4_Format:Ae,RGBA_ASTC_5x5_Format:ee,RGBA_ASTC_6x5_Format:te,RGBA_ASTC_6x6_Format:ie,RGBA_ASTC_8x5_Format:ne,RGBA_ASTC_8x6_Format:oe,RGBA_ASTC_8x8_Format:re,RGBA_PVRTC_2BPPV1_Format:JA,RGBA_PVRTC_4BPPV1_Format:YA,RGBA_S3TC_DXT1_Format:GA,RGBA_S3TC_DXT3_Format:jA,RGBA_S3TC_DXT5_Format:WA,RGBDEncoding:we,RGBEEncoding:xe,RGBEFormat:QA,RGBFormat:NA,RGBM16Encoding:Ee,RGBM7Encoding:be,RGB_ETC1_Format:ZA,RGB_PVRTC_2BPPV1_Format:XA,RGB_PVRTC_4BPPV1_Format:qA,RGB_S3TC_DXT1_Format:HA,RawShaderMaterial:ys,Ray:ri,Raycaster:xd,RectAreaLight:Ol,RectAreaLightHelper:Od,RedFormat:VA,ReinhardToneMapping:hA,RepeatWrapping:B,ReplaceStencilOp:7681,ReverseSubtractEquation:h,RingBufferGeometry:ns,RingGeometry:is,Scene:ii,SceneUtils:{createMultiMaterialObject:function(){console.error("THREE.SceneUtils has been moved to /examples/js/utils/SceneUtils.js")},detach:function(){console.error("THREE.SceneUtils has been moved to /examples/js/utils/SceneUtils.js")},attach:function(){console.error("THREE.SceneUtils has been moved to /examples/js/utils/SceneUtils.js")}},ShaderChunk:Mn,ShaderLib:_n,ShaderMaterial:cn,ShadowMaterial:vs,Shape:bl,ShapeBufferGeometry:ss,ShapeGeometry:as,ShapePath:Jl,ShapeUtils:ja,ShortType:F,Skeleton:qr,SkeletonHelper:Fd,SkinnedMesh:Wr,SmoothShading:2,Sphere:oi,SphereBufferGeometry:ts,SphereGeometry:es,Spherical:wd,SphericalHarmonics3:bc,SphericalReflectionMapping:EA,Spline:Jd,SplineCurve:yl,SplineCurve3:Yd,SpotLight:_l,SpotLightHelper:Kd,SpotLightShadow:Bl,Sprite:Gr,SpriteMaterial:Hr,SrcAlphaFactor:C,SrcAlphaSaturateFactor:M,SrcColorFactor:v,StereoCamera:Bc,StringKeyframeTrack:Qs,SubtractEquation:d,SubtractiveBlending:Z,TOUCH:{ROTATE:0,PAN:1,DOLLY_PAN:2,DOLLY_ROTATE:3},TangentSpaceNormalMap:_e,TetrahedronBufferGeometry:ha,TetrahedronGeometry:da,TextBufferGeometry:As,TextGeometry:$a,Texture:Ye,TextureLoader:Al,TorusBufferGeometry:Ea,TorusGeometry:ba,TorusKnotBufferGeometry:xa,TorusKnotGeometry:Ia,Triangle:ai,TriangleFanDrawMode:2,TriangleStripDrawMode:1,TrianglesDrawMode:ve,TubeBufferGeometry:Ca,TubeGeometry:ya,UVMapping:300,Uint16Attribute:function(A,e){return console.warn("THREE.Uint16Attribute has been removed. Use new THREE.Uint16BufferAttribute() instead."),new wi(A,e)},Uint16BufferAttribute:wi,Uint32Attribute:function(A,e){return console.warn("THREE.Uint32Attribute has been removed. Use new THREE.Uint32BufferAttribute() instead."),new Bi(A,e)},Uint32BufferAttribute:Bi,Uint8Attribute:function(A,e){return console.warn("THREE.Uint8Attribute has been removed. Use new THREE.Uint8BufferAttribute() instead."),new xi(A,e)},Uint8BufferAttribute:xi,Uint8ClampedAttribute:function(A,e){return console.warn("THREE.Uint8ClampedAttribute has been removed. Use new THREE.Uint8ClampedBufferAttribute() instead."),new bi(A,e)},Uint8ClampedBufferAttribute:bi,Uncharted2ToneMapping:uA,Uniform:Cd,UniformsLib:Bn,UniformsUtils:an,UnsignedByteType:BA,UnsignedInt248Type:OA,UnsignedIntType:_A,UnsignedShort4444Type:KA,UnsignedShort5551Type:FA,UnsignedShort565Type:LA,UnsignedShortType:D,Vector2:Le,Vector3:Ue,Vector4:Je,VectorKeyframeTrack:ks,Vertex:function(A,e,t){return console.warn("THREE.Vertex has been removed. Use THREE.Vector3 instead."),new Ue(A,e,t)},VertexColors:m,VertexNormalsHelper:Td,VideoTexture:ta,WebGLMultisampleRenderTarget:$e,WebGLRenderTarget:Ze,WebGLRenderTargetCube:xn,WebGLRenderer:Dr,WebGLUtils:gr,WireframeGeometry:ra,WireframeHelper:function(A,e){return console.warn("THREE.WireframeHelper has been removed. Use THREE.WireframeGeometry instead."),new Zr(new ra(A.geometry),new Yr({color:void 0!==e?e:16777215}))},WrapAroundEnding:me,XHRLoader:function(A){return console.warn("THREE.XHRLoader has been renamed to THREE.FileLoader."),new qs(A)},ZeroCurvatureEnding:ge,ZeroFactor:g,ZeroSlopeEnding:fe,ZeroStencilOp:0,sRGBEncoding:Ce}),Ah={SceneSize:1e3,getDataFromIndexedDB:!0,TextureResRoot:"images/",UserControlView:!1,EnableTextureMapping:!1,EnableLightmap:!1,LightmapIntensity:1,ClippingCaps:!1,SelectionColor:{color:4173056,side:gA},DisableAntialias:!1,EnableDemolishByDClick:!1,IsMobile:!1,UseWorker:!1,ZipResourcePostfix:"",HasLayerData:!1,Instance:!0,MergeComponent:!1,AutoMergeComponent:!0,AutoMergeComponentCount:1e4,MaxMergeCount:1e3,MergedTriangleNumberThreshold:2e7,MaxMergedTriangleNumber:2e7,IncrementRender:!1,EnableRenderPass:!1,LimitFrameTime:250,maxObjectNumInPool:1e3,maxDrawCacheNum:4e4,OctantDepth:15,MaximumDepth:0,TargetDistance:1e4,ConcurrencyRequestCount:16,ShowOctant:!1,EnableOctant:!1,EnableViewController:!0,DirectionalLight:!0,LightPreset:2,IBL:!1,ToneMapping:4,LightIntensityFactor:1,Hover:!1,OcclusionTranslucentEnabled:!1,OcclusionOpacity:.5,OcclusionDistanceToCamera:1e3,DrawingStyle:0,InitWireframeData:!1,EnableHitDetection:!1,TranslucentDepthDisabled:!1,SharedMeshInstanceEnable:!1,DataProvider:0,EnableSelectionOutline:!1,EnableSelectionByTranslucent:!1,EnableSelectionBoundingBox:!1,EnableShadow:!1,EnableAnimation:!0,UseLods:!1,AutoPrepare:!0,DEBUG:!1,WalkingWithGravity:!1,RendererWhenLoad:!1,language:"zh-cn",LoadComponentOnDemand:!1,logarithmicDepthBuffer:!1},eh=et.RotationOrders,th={ORTHOGRAPHIC:"orth",PERSPECTIVE:"persp"},ih={elements:[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1]},nh={elements:[1,0,0,0,1,0,0,0,1]},oh={IfcOpeningElement:!0,IfcSpace:!0,"房间":!0},rh={Home:135,Top:1,Bottom:2,Front:3,Back:4,Right:5,Left:6,TopFrontRight:135,TopFrontLeft:136,TopBackRight:145,TopBackLeft:146,BottomFrontRight:235,BottomFrontLeft:236,BottomBackRight:245,BottomBackLeft:246,TopFront:13,TopBack:14,TopRight:15,TopLeft:16,BottomFront:23,BottomBack:24,BottomRight:25,BottomLeft:26,FrontRight:35,FrontLeft:36,BackRight:45,BackLeft:46,TopToRight:105,TopToLeft:106,TopToFront:103,TopToBack:104,BottomToRight:205,BottomToLeft:206,BottomToFront:203,BottomToBack:204,FrontToTop:301,FrontToBottom:302,FrontToRight:305,FrontToLeft:306,BackToTop:401,BackToBottom:402,BackToRight:405,BackToLeft:406,RightToTop:501,RightToBottom:502,RightToFront:503,RightToBack:504,LeftToTop:601,LeftTopBottom:602,LeftTopFront:603,LeftTopBack:604},ah={Clear:0,Add:1,Remove:2},sh={Geometry:1,Marker3d:2,UnPickable:0},lh={ON_LOAD_START:"ON_LOAD_START",ON_LOAD_PROGRESS:"ON_LOAD_PROGRESS",ON_LOAD_COMPLETE:"ON_LOAD_COMPLETE",ON_LOAD_EMPTY_SCENE:"ON_LOAD_EMPTY_SCENE",ON_LOAD_CONFIG_FINISH:"ON_LOAD_CONFIG_FINISH",ON_LOAD_INVALID_SCENE:"ON_LOAD_INVALID_SCENE",ON_NETWORK_ERROR:"ON_NETWORK_ERROR",ACCOUNT_NO_EXIST:"ACCOUNT_NO_EXIST",NO_PERMISSION:"NO_PERMISSION",ON_LOAD_ERROR:"ON_LOAD_ERROR",ON_SELECTION_CHANGED:"ON_SELECTION_CHANGED",ON_RECTPICK_ADD:"ON_RECTPICK_ADD",ON_RECTPICK_REMOVE:"ON_RECTPICK_REMOVE",ON_CLICK_PICK:"ON_CLICK_PICK",ON_HOVER_PICK:"ON_HOVER_PICK",ON_MEASURE_PICK:"ON_MEASURE_PICK",ON_SELECTION_FAILED:"ON_SELECTION_FAILED",ON_CLIP_HOVER:"ON_CLIP_HOVER",ON_CLIP_MOUSE_MOVE:"ON_CLIP_MOUSE_MOVE",ON_CLIP_MOUSE_DOWN:"ON_CLIP_MOUSE_DOWN",ON_VERSION_NO_MATCH:"ON_VERSION_NO_MATCH",ON_VIEWER_RESTORED:"ON_VIEWER_RESTORED",ON_CAMERA_HEIGHT_CHANGED:"ON_CAMERA_HEIGHT_CHANGED",ON_DATABASE_OPEN:"ON_DATABASE_OPEN",ON_DATABASE_CLOSE:"ON_DATABASE_CLOSE",ON_DATABASE_ADD:"ON_DATABASE_ADD",ON_DATABASE_DELETE:"ON_DATABASE_DELETE",ON_DATABASE_CLERA:"ON_DATABASE_CLERA",ON_DATABASE_EEEOR:"ON_DATABASE_EEEOR",ON_CAMERA_CHANGE:"ON_CAMERA_CHANGE",ON_CONTROL_ENTER:"ON_CONTROL_ENTER",ON_CONTROL_EXIST:"ON_CONTROL_EXIST",ON_CONTROL_BEGIN:"ON_CONTROL_BEGIN",ON_CONTROL_END:"ON_CONTROL_END",ON_CONTROL_ZOOM:"ON_CONTROL_ZOOM",ON_CONTROL_UPDATEUI:"ON_CONTROL_UPDATEUI",ON_CONTROL_KEYDOWN:"ON_CONTROL_KEYDOWN",ON_CONTROL_KEYUP:"ON_CONTROL_KEYUP"},ch={LOAD_COMPONENT_ERROR:"LOAD_COMPONENT_ERROR",LOAD_MATERIAL_ERROR:"LOAD_MATERIAL_ERROR",LOAD_GEOMETRY_ERROR:"LOAD_GEOMETRY_ERROR",LOAD_TEXTURE_ERROR:"LOAD_TEXTURE_ERROR",PARSEFAILE:"PARSEFAILE",PARSING:"PARSING",LOAD_ERROR:"LOAD_ERROR",SCENE_NOT_CLOSE:"SCENE_NOT_CLOSE",SCENE_NOTHING_TO_LOAD:"SCENE_NOTHING_TO_LOAD",LOAD_SCENE_ERROR:"LOAD_SCENE_ERROR",LOAD_SYMBOL_ERROR:"LOAD_SYMBOL_ERROR",LOAD_OCTREEINNER_ERROR:"LOAD_OCTREEINNER_ERROR",LOAD_OCTREEOUTER_ERROR:"LOAD_OCTREEOUTER_ERROR",LOAD_USERID_ERROR:"LOAD_USERID_ERROR",LOAD_USERDATA_ERROR:"LOAD_USERDATA_ERROR",LOAD_CAMERA_ERROR:"LOAD_CAMERA_ERROR",LOAD_MPK_ERROR:"LOAD_MPK_ERROR",LOAD_IBLCONFIG_ERROR:"LOAD_IBLCONFIG_ERROR"},dh={MOUSEPOINT:0,SELECTION:1,CENTER:2,CAMERA:3},hh={FILE_VISIBLE:0,FILE_HIDDEN:1,SELECTED:2,VISIBLE:3,HIDDEN:4,TRANSLUCENT:5,TRANSLUCENT_OTHERS:6,WIREFRAME:7,COLORFUL:8},uh={Visible:1,HideByIsolate:2,Transparent:4,TransparentByIsolate:8},ph={HIDDEN:0,HIDDEN_OTHERS:1,TRANSLUCENT:2,TRANSLUCENT_OTHERS:3},gh={TRANSLUCENT:"TRANSLUCENT",OPAQUE:"OPAQUE"},fh={DISABLED:0,TRANSLUCENT:1,HIDDEN:2},mh={ORBIT:"orbit",PICK:"pick",PAN:"pan",ZOOM:"zoom",FLY:"fly",WALK:"walk"},vh={PICK_BY_RECT:"pickByRect",ZOOM_BY_RECT:"zoomByRect",CLIP_BY_BOX:"clipByBox",CLIP_FILL:"fillClip",PICK_BY_MEASURE:"pickByMeasure",COMPONENT_TRANSFORM:"componentTransform"},yh={NONE:0,UP:1,DOWN:2,LEFT:4,RIGHT:8,FORWARD:16,BACK:32},Ch={SHADING:0,BOARDLINE:1,SHADINGWITHLINE:2},Ih={HIDDEN:-1,NONE:0,HOVER:1,SELECTED:2,OVERRIDED:3,TRANSPARENT:4,BLINK:5},xh={NONE:0,BLINK:1,SELECT:2},bh={DEFAULT:0,LAYER:1,MERGED:2},Eh={MATCH_RETURN_TRUE:0,MATCH_RETURN_FALSE:1,NOMATCH_RETURN_TRUE:2,NOMATCH_RETURN_FALSE:3},wh={CLIPPING:-2,HIDDEN:-1,NONE:0,SELECTED:1,BLINK:2,HOVER:3,TRANSPARENT:4,OVERRIDED:5},Mh={"zh-cn":{YourGraphicsCardDoesNotSeemToSupportWebGL:"您的显卡似乎不支持WebGL",YourBrowserDoesNotSeemToSupportWebGL:"您的浏览器似乎不支持WebGL",FindOutHowToGetItHere:"您可以在这里查看相关信息",SectionBoxLockHint:"请在使用此方法之前调用enableSectionBox。",APIAxisLockHint:"The API supports AxisOption.Z only for now."},en:{YourGraphicsCardDoesNotSeemToSupportWebGL:"Your graphics card does not seem to support WebGL",YourBrowserDoesNotSeemToSupportWebGL:"Your browser does not seem to support WebGL",FindOutHowToGetItHere:"Find out how to get it here",SectionBoxLockHint:"Please call enableSectionBox before using this method.",APIAxisLockHint:"The API supports AxisOption.Z only for now."}};function Bh(A){return(Bh="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(A){return typeof A}:function(A){return A&&"function"==typeof Symbol&&A.constructor===Symbol&&A!==Symbol.prototype?"symbol":typeof A})(A)}var _h,Sh,Th,Kh,Fh,Lh,Oh,Uh,Nh,Rh={};function Ph(A,e,t,i){this._x=A||0,this._y=e||0,this._z=t||0,this._w=void 0!==i?i:1}function Dh(A,e,t){this.x=A||0,this.y=e||0,this.z=t||0}function Qh(A,e){this.min=void 0!==A?A:new Dh(1/0,1/0,1/0),this.max=void 0!==e?e:new Dh(-1/0,-1/0,-1/0)}Rh.clamp=function(A,e,t){return Math.max(e,Math.min(t,A))},Object.assign(Ph,{slerp:function(A,e,t,i){return t.copy(A).slerp(e,i)},slerpFlat:function(A,e,t,i,n,o,r){var a=t[i+0],s=t[i+1],l=t[i+2],c=t[i+3],d=n[o+0],h=n[o+1],u=n[o+2],p=n[o+3];if(c!==p||a!==d||s!==h||l!==u){var g=1-r,f=a*d+s*h+l*u+c*p,m=f<0?-1:1,v=1-f*f;if(v>Number.EPSILON){var y=Math.sqrt(v),C=Math.atan2(y,f*m);g=Math.sin(g*C)/y,r=Math.sin(r*C)/y}var I=r*m;if(a=a*g+d*I,s=s*g+h*I,l=l*g+u*I,c=c*g+p*I,g===1-r){var x=1/Math.sqrt(a*a+s*s+l*l+c*c);a*=x,s*=x,l*=x,c*=x}}A[e]=a,A[e+1]=s,A[e+2]=l,A[e+3]=c}}),Object.defineProperties(Ph.prototype,{x:{get:function(){return this._x},set:function(A){this._x=A,this._onChangeCallback()}},y:{get:function(){return this._y},set:function(A){this._y=A,this._onChangeCallback()}},z:{get:function(){return this._z},set:function(A){this._z=A,this._onChangeCallback()}},w:{get:function(){return this._w},set:function(A){this._w=A,this._onChangeCallback()}}}),Object.assign(Ph.prototype,{isQuaternion:!0,set:function(A,e,t,i){return this._x=A,this._y=e,this._z=t,this._w=i,this._onChangeCallback(),this},clone:function(){return new this.constructor(this._x,this._y,this._z,this._w)},copy:function(A){return this._x=A.x,this._y=A.y,this._z=A.z,this._w=A.w,this._onChangeCallback(),this},setFromEuler:function(A,e){if(!A||!A.isEuler)throw new Error("THREE.Quaternion: .setFromEuler() now expects an Euler rotation rather than a Vector3 and order.");var t=A._x,i=A._y,n=A._z,o=A.order,r=Math.cos,a=Math.sin,s=r(t/2),l=r(i/2),c=r(n/2),d=a(t/2),h=a(i/2),u=a(n/2);return"XYZ"===o?(this._x=d*l*c+s*h*u,this._y=s*h*c-d*l*u,this._z=s*l*u+d*h*c,this._w=s*l*c-d*h*u):"YXZ"===o?(this._x=d*l*c+s*h*u,this._y=s*h*c-d*l*u,this._z=s*l*u-d*h*c,this._w=s*l*c+d*h*u):"ZXY"===o?(this._x=d*l*c-s*h*u,this._y=s*h*c+d*l*u,this._z=s*l*u+d*h*c,this._w=s*l*c-d*h*u):"ZYX"===o?(this._x=d*l*c-s*h*u,this._y=s*h*c+d*l*u,this._z=s*l*u-d*h*c,this._w=s*l*c+d*h*u):"YZX"===o?(this._x=d*l*c+s*h*u,this._y=s*h*c+d*l*u,this._z=s*l*u-d*h*c,this._w=s*l*c-d*h*u):"XZY"===o&&(this._x=d*l*c-s*h*u,this._y=s*h*c-d*l*u,this._z=s*l*u+d*h*c,this._w=s*l*c+d*h*u),!1!==e&&this._onChangeCallback(),this},setFromAxisAngle:function(A,e){var t=e/2,i=Math.sin(t);return this._x=A.x*i,this._y=A.y*i,this._z=A.z*i,this._w=Math.cos(t),this._onChangeCallback(),this},setFromRotationMatrix:function(A){var e,t=A.elements,i=t[0],n=t[4],o=t[8],r=t[1],a=t[5],s=t[9],l=t[2],c=t[6],d=t[10],h=i+a+d;return this._z=0<h?(e=.5/Math.sqrt(h+1),this._w=.25/e,this._x=(c-s)*e,this._y=(o-l)*e,(r-n)*e):a<i&&d<i?(e=2*Math.sqrt(1+i-a-d),this._w=(c-s)/e,this._x=.25*e,this._y=(n+r)/e,(o+l)/e):d<a?(e=2*Math.sqrt(1+a-i-d),this._w=(o-l)/e,this._x=(n+r)/e,this._y=.25*e,(s+c)/e):(e=2*Math.sqrt(1+d-i-a),this._w=(r-n)/e,this._x=(o+l)/e,this._y=(s+c)/e,.25*e),this._onChangeCallback(),this},setFromUnitVectors:function(A,e){var t=A.dot(e)+1;return this._w=(this._z=t<1e-6?(t=0,Math.abs(A.x)>Math.abs(A.z)?(this._x=-A.y,this._y=A.x,0):(this._x=0,this._y=-A.z,A.y)):(this._x=A.y*e.z-A.z*e.y,this._y=A.z*e.x-A.x*e.z,A.x*e.y-A.y*e.x),t),this.normalize()},angleTo:function(A){return 2*Math.acos(Math.abs(Rh.clamp(this.dot(A),-1,1)))},rotateTowards:function(A,e){var t=this.angleTo(A);if(0===t)return this;var i=Math.min(1,e/t);return this.slerp(A,i),this},inverse:function(){return this.conjugate()},conjugate:function(){return this._x*=-1,this._y*=-1,this._z*=-1,this._onChangeCallback(),this},dot:function(A){return this._x*A._x+this._y*A._y+this._z*A._z+this._w*A._w},lengthSq:function(){return this._x*this._x+this._y*this._y+this._z*this._z+this._w*this._w},length:function(){return Math.sqrt(this._x*this._x+this._y*this._y+this._z*this._z+this._w*this._w)},normalize:function(){var A=this.length();return this._w=0===A?(this._x=0,this._y=0,this._z=0,1):(this._x=this._x*(A=1/A),this._y=this._y*A,this._z=this._z*A,this._w*A),this._onChangeCallback(),this},multiply:function(A,e){return void 0!==e?(console.warn("THREE.Quaternion: .multiply() now only accepts one argument. Use .multiplyQuaternions( a, b ) instead."),this.multiplyQuaternions(A,e)):this.multiplyQuaternions(this,A)},premultiply:function(A){return this.multiplyQuaternions(A,this)},multiplyQuaternions:function(A,e){var t=A._x,i=A._y,n=A._z,o=A._w,r=e._x,a=e._y,s=e._z,l=e._w;return this._x=t*l+o*r+i*s-n*a,this._y=i*l+o*a+n*r-t*s,this._z=n*l+o*s+t*a-i*r,this._w=o*l-t*r-i*a-n*s,this._onChangeCallback(),this},slerp:function(A,e){if(0===e)return this;if(1===e)return this.copy(A);var t=this._x,i=this._y,n=this._z,o=this._w,r=o*A._w+t*A._x+i*A._y+n*A._z;if(r<0?(this._w=-A._w,this._x=-A._x,this._y=-A._y,this._z=-A._z,r=-r):this.copy(A),1<=r)return this._w=o,this._x=t,this._y=i,this._z=n,this;var a=1-r*r;if(a<=Number.EPSILON){var s=1-e;return this._w=s*o+e*this._w,this._x=s*t+e*this._x,this._y=s*i+e*this._y,this._z=s*n+e*this._z,this.normalize(),this._onChangeCallback(),this}var l=Math.sqrt(a),c=Math.atan2(l,r),d=Math.sin((1-e)*c)/l,h=Math.sin(e*c)/l;return this._w=o*d+this._w*h,this._x=t*d+this._x*h,this._y=i*d+this._y*h,this._z=n*d+this._z*h,this._onChangeCallback(),this},equals:function(A){return A._x===this._x&&A._y===this._y&&A._z===this._z&&A._w===this._w},fromArray:function(A,e){return void 0===e&&(e=0),this._x=A[e],this._y=A[e+1],this._z=A[e+2],this._w=A[e+3],this._onChangeCallback(),this},toArray:function(A,e){return void 0===A&&(A=[]),void 0===e&&(e=0),A[e]=this._x,A[e+1]=this._y,A[e+2]=this._z,A[e+3]=this._w,A},_onChange:function(A){return this._onChangeCallback=A,this},_onChangeCallback:function(){}}),Object.assign(Dh.prototype,{isVector3:!0,set:function(A,e,t){return this.x=A,this.y=e,this.z=t,this},setScalar:function(A){return this.x=A,this.y=A,this.z=A,this},setX:function(A){return this.x=A,this},setY:function(A){return this.y=A,this},setZ:function(A){return this.z=A,this},setComponent:function(A,e){switch(A){case 0:this.x=e;break;case 1:this.y=e;break;case 2:this.z=e;break;default:throw new Error("index is out of range: "+A)}return this},getComponent:function(A){switch(A){case 0:return this.x;case 1:return this.y;case 2:return this.z;default:throw new Error("index is out of range: "+A)}},clone:function(){return new this.constructor(this.x,this.y,this.z)},copy:function(A){return this.x=A.x,this.y=A.y,this.z=A.z,this},add:function(A,e){return void 0!==e?(console.warn("THREE.Vector3: .add() now only accepts one argument. Use .addVectors( a, b ) instead."),this.addVectors(A,e)):(this.x+=A.x,this.y+=A.y,this.z+=A.z,this)},addScalar:function(A){return this.x+=A,this.y+=A,this.z+=A,this},addVectors:function(A,e){return this.x=A.x+e.x,this.y=A.y+e.y,this.z=A.z+e.z,this},addScaledVector:function(A,e){return this.x+=A.x*e,this.y+=A.y*e,this.z+=A.z*e,this},sub:function(A,e){return void 0!==e?(console.warn("THREE.Vector3: .sub() now only accepts one argument. Use .subVectors( a, b ) instead."),this.subVectors(A,e)):(this.x-=A.x,this.y-=A.y,this.z-=A.z,this)},subScalar:function(A){return this.x-=A,this.y-=A,this.z-=A,this},subVectors:function(A,e){return this.x=A.x-e.x,this.y=A.y-e.y,this.z=A.z-e.z,this},multiply:function(A,e){return void 0!==e?(console.warn("THREE.Vector3: .multiply() now only accepts one argument. Use .multiplyVectors( a, b ) instead."),this.multiplyVectors(A,e)):(this.x*=A.x,this.y*=A.y,this.z*=A.z,this)},multiplyScalar:function(A){return this.x*=A,this.y*=A,this.z*=A,this},multiplyVectors:function(A,e){return this.x=A.x*e.x,this.y=A.y*e.y,this.z=A.z*e.z,this},applyEuler:(Kh=new Ph,function(A){return A&&A.isEuler||console.error("THREE.Vector3: .applyEuler() now expects an Euler rotation rather than a Vector3 and order."),this.applyQuaternion(Kh.setFromEuler(A))}),applyAxisAngle:(Th=new Ph,function(A,e){return this.applyQuaternion(Th.setFromAxisAngle(A,e))}),applyMatrix3:function(A){var e=this.x,t=this.y,i=this.z,n=A.elements;return this.x=n[0]*e+n[3]*t+n[6]*i,this.y=n[1]*e+n[4]*t+n[7]*i,this.z=n[2]*e+n[5]*t+n[8]*i,this},applyMatrix4:function(A){var e=this.x,t=this.y,i=this.z,n=A.elements,o=1/(n[3]*e+n[7]*t+n[11]*i+n[15]);return this.x=(n[0]*e+n[4]*t+n[8]*i+n[12])*o,this.y=(n[1]*e+n[5]*t+n[9]*i+n[13])*o,this.z=(n[2]*e+n[6]*t+n[10]*i+n[14])*o,this},applyQuaternion:function(A){var e=this.x,t=this.y,i=this.z,n=A.x,o=A.y,r=A.z,a=A.w,s=a*e+o*i-r*t,l=a*t+r*e-n*i,c=a*i+n*t-o*e,d=-n*e-o*t-r*i;return this.x=s*a+d*-n+l*-r-c*-o,this.y=l*a+d*-o+c*-n-s*-r,this.z=c*a+d*-r+s*-o-l*-n,this},project:function(A){return this.applyMatrix4(A.matrixWorldInverse).applyMatrix4(A.projectionMatrix)},unproject:function(A){return this.applyMatrix4(A.projectionMatrixInverse).applyMatrix4(A.matrixWorld)},transformDirection:function(A){var e=this.x,t=this.y,i=this.z,n=A.elements;return this.x=n[0]*e+n[4]*t+n[8]*i,this.y=n[1]*e+n[5]*t+n[9]*i,this.z=n[2]*e+n[6]*t+n[10]*i,this.normalize()},divide:function(A){return this.x/=A.x,this.y/=A.y,this.z/=A.z,this},divideScalar:function(A){return this.multiplyScalar(1/A)},min:function(A){return this.x=Math.min(this.x,A.x),this.y=Math.min(this.y,A.y),this.z=Math.min(this.z,A.z),this},max:function(A){return this.x=Math.max(this.x,A.x),this.y=Math.max(this.y,A.y),this.z=Math.max(this.z,A.z),this},clamp:function(A,e){return this.x=Math.max(A.x,Math.min(e.x,this.x)),this.y=Math.max(A.y,Math.min(e.y,this.y)),this.z=Math.max(A.z,Math.min(e.z,this.z)),this},clampScalar:function(A,e){return this.x=Math.max(A,Math.min(e,this.x)),this.y=Math.max(A,Math.min(e,this.y)),this.z=Math.max(A,Math.min(e,this.z)),this},clampLength:function(A,e){var t=this.length();return this.divideScalar(t||1).multiplyScalar(Math.max(A,Math.min(e,t)))},floor:function(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this.z=Math.floor(this.z),this},ceil:function(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this.z=Math.ceil(this.z),this},round:function(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this.z=Math.round(this.z),this},roundToZero:function(){return this.x=this.x<0?Math.ceil(this.x):Math.floor(this.x),this.y=this.y<0?Math.ceil(this.y):Math.floor(this.y),this.z=this.z<0?Math.ceil(this.z):Math.floor(this.z),this},negate:function(){return this.x=-this.x,this.y=-this.y,this.z=-this.z,this},dot:function(A){return this.x*A.x+this.y*A.y+this.z*A.z},lengthSq:function(){return this.x*this.x+this.y*this.y+this.z*this.z},length:function(){return Math.sqrt(this.x*this.x+this.y*this.y+this.z*this.z)},manhattanLength:function(){return Math.abs(this.x)+Math.abs(this.y)+Math.abs(this.z)},normalize:function(){return this.divideScalar(this.length()||1)},setLength:function(A){return this.normalize().multiplyScalar(A)},lerp:function(A,e){return this.x+=(A.x-this.x)*e,this.y+=(A.y-this.y)*e,this.z+=(A.z-this.z)*e,this},lerpVectors:function(A,e,t){return this.subVectors(e,A).multiplyScalar(t).add(A)},cross:function(A,e){return void 0!==e?(console.warn("THREE.Vector3: .cross() now only accepts one argument. Use .crossVectors( a, b ) instead."),this.crossVectors(A,e)):this.crossVectors(this,A)},crossVectors:function(A,e){var t=A.x,i=A.y,n=A.z,o=e.x,r=e.y,a=e.z;return this.x=i*a-n*r,this.y=n*o-t*a,this.z=t*r-i*o,this},projectOnVector:function(A){var e=A.dot(this)/A.lengthSq();return this.copy(A).multiplyScalar(e)},projectOnPlane:(Sh=new Dh,function(A){return Sh.copy(this).projectOnVector(A),this.sub(Sh)}),reflect:(_h=new Dh,function(A){return this.sub(_h.copy(A).multiplyScalar(2*this.dot(A)))}),angleTo:function(A){var e=this.dot(A)/Math.sqrt(this.lengthSq()*A.lengthSq());return Math.acos(Rh.clamp(e,-1,1))},distanceTo:function(A){return Math.sqrt(this.distanceToSquared(A))},distanceToSquared:function(A){var e=this.x-A.x,t=this.y-A.y,i=this.z-A.z;return e*e+t*t+i*i},manhattanDistanceTo:function(A){return Math.abs(this.x-A.x)+Math.abs(this.y-A.y)+Math.abs(this.z-A.z)},setFromSpherical:function(A){return this.setFromSphericalCoords(A.radius,A.phi,A.theta)},setFromSphericalCoords:function(A,e,t){var i=Math.sin(e)*A;return this.x=i*Math.sin(t),this.y=Math.cos(e)*A,this.z=i*Math.cos(t),this},setFromCylindrical:function(A){return this.setFromCylindricalCoords(A.radius,A.theta,A.y)},setFromCylindricalCoords:function(A,e,t){return this.x=A*Math.sin(e),this.y=t,this.z=A*Math.cos(e),this},setFromMatrixPosition:function(A){var e=A.elements;return this.x=e[12],this.y=e[13],this.z=e[14],this},setFromMatrixScale:function(A){var e=this.setFromMatrixColumn(A,0).length(),t=this.setFromMatrixColumn(A,1).length(),i=this.setFromMatrixColumn(A,2).length();return this.x=e,this.y=t,this.z=i,this},setFromMatrixColumn:function(A,e){return this.fromArray(A.elements,4*e)},equals:function(A){return A.x===this.x&&A.y===this.y&&A.z===this.z},fromArray:function(A,e){return void 0===e&&(e=0),this.x=A[e],this.y=A[e+1],this.z=A[e+2],this},toArray:function(A,e){return void 0===A&&(A=[]),void 0===e&&(e=0),A[e]=this.x,A[e+1]=this.y,A[e+2]=this.z,A},fromBufferAttribute:function(A,e,t){return void 0!==t&&console.warn("THREE.Vector3: offset has been removed from .fromBufferAttribute()."),this.x=A.getX(e),this.y=A.getY(e),this.z=A.getZ(e),this}}),Object.assign(Qh.prototype,{isBox3:!0,set:function(A,e){return this.min.copy(A),this.max.copy(e),this},setFromArray:function(A){for(var e=1/0,t=1/0,i=1/0,n=-1/0,o=-1/0,r=-1/0,a=0,s=A.length;a<s;a+=3){var l=A[a],c=A[a+1],d=A[a+2];l<e&&(e=l),c<t&&(t=c),d<i&&(i=d),n<l&&(n=l),o<c&&(o=c),r<d&&(r=d)}return this.min.set(e,t,i),this.max.set(n,o,r),this},setFromBufferAttribute:function(A){for(var e=1/0,t=1/0,i=1/0,n=-1/0,o=-1/0,r=-1/0,a=0,s=A.count;a<s;a++){var l=A.getX(a),c=A.getY(a),d=A.getZ(a);l<e&&(e=l),c<t&&(t=c),d<i&&(i=d),n<l&&(n=l),o<c&&(o=c),r<d&&(r=d)}return this.min.set(e,t,i),this.max.set(n,o,r),this},setFromPoints:function(A){this.makeEmpty();for(var e=0,t=A.length;e<t;e+=1)this.expandByPoint(A[e]);return this},setFromCenterAndSize:(Nh=new Dh,function(A,e){var t=Nh.copy(e).multiplyScalar(.5);return this.min.copy(A).sub(t),this.max.copy(A).add(t),this}),setFromObject:function(A){return this.makeEmpty(),this.expandByObject(A)},clone:function(){return(new this.constructor).copy(this)},copy:function(A){return this.min.copy(A.min),this.max.copy(A.max),this},makeEmpty:function(){return this.min.x=this.min.y=this.min.z=1/0,this.max.x=this.max.y=this.max.z=-1/0,this},isEmpty:function(){return this.max.x<this.min.x||this.max.y<this.min.y||this.max.z<this.min.z},getCenter:function(A){return void 0===A&&(console.warn("THREE.Box3: .getCenter() target is now required"),A=new Dh),this.isEmpty()?A.set(0,0,0):A.addVectors(this.min,this.max).multiplyScalar(.5)},getSize:function(A){return void 0===A&&(console.warn("THREE.Box3: .getSize() target is now required"),A=new Dh),this.isEmpty()?A.set(0,0,0):A.subVectors(this.max,this.min)},expandByPoint:function(A){return this.min.min(A),this.max.max(A),this},expandByVector:function(A){return this.min.sub(A),this.max.add(A),this},expandByScalar:function(A){return this.min.addScalar(-A),this.max.addScalar(A),this},expandByObject:function(){var n=null,o=null,r=null,a=new Dh;function e(A){var e=A.geometry;if(void 0!==e)if(e.isGeometry){var t=e.vertices;for(o=0,r=t.length;o<r;o+=1)a.copy(t[o]),a.applyMatrix4(A.matrixWorld),n.expandByPoint(a)}else if(e.isBufferGeometry){var i=e.attributes.position;if(void 0!==i)for(o=0,r=i.count;o<r;o+=1)a.fromBufferAttribute(i,o).applyMatrix4(A.matrixWorld),n.expandByPoint(a)}}return function(A){return n=this,A.updateMatrixWorld(!0),A.traverse(e),this}}(),containsPoint:function(A){return!(A.x<this.min.x||this.max.x<A.x||A.y<this.min.y||this.max.y<A.y||A.z<this.min.z||this.max.z<A.z)},containsBox:function(A){return!(A.min.x<this.min.x||this.max.x<A.max.x||A.min.y<this.min.y||this.max.y<A.max.y||A.min.z<this.min.z||this.max.z<A.max.z)},getParameter:function(A,e){return void 0===e&&(console.warn("THREE.Box3: .getParameter() target is now required"),e=new Dh),e.set((A.x-this.min.x)/(this.max.x-this.min.x),(A.y-this.min.y)/(this.max.y-this.min.y),(A.z-this.min.z)/(this.max.z-this.min.z))},intersectsBox:function(A){return!(A.max.x<this.min.x||this.max.x<A.min.x||A.max.y<this.min.y||this.max.y<A.min.y||A.max.z<this.min.z||this.max.z<A.min.z)},intersectsSphere:(Uh=new Dh,function(A){return this.clampPoint(A.center,Uh),Uh.distanceToSquared(A.center)<=A.radius*A.radius}),intersectsPlane:function(A){var e,t;return t=0<A.normal.x?(e=A.normal.x*this.min.x,A.normal.x*this.max.x):(e=A.normal.x*this.max.x,A.normal.x*this.min.x),0<A.normal.y?(e+=A.normal.y*this.min.y,t+=A.normal.y*this.max.y):(e+=A.normal.y*this.max.y,t+=A.normal.y*this.min.y),0<A.normal.z?(e+=A.normal.z*this.min.z,t+=A.normal.z*this.max.z):(e+=A.normal.z*this.max.z,t+=A.normal.z*this.min.z),e<=-A.constant&&-A.constant<=t},intersectsTriangle:function(){var a=new Dh,s=new Dh,l=new Dh,t=new Dh,i=new Dh,n=new Dh,c=new Dh,o=new Dh,d=new Dh,r=new Dh;function h(A){var e,t;for(e=0,t=A.length-3;e<=t;e+=3){c.fromArray(A,e);var i=d.x*Math.abs(c.x)+d.y*Math.abs(c.y)+d.z*Math.abs(c.z),n=a.dot(c),o=s.dot(c),r=l.dot(c);if(Math.max(-Math.max(n,o,r),Math.min(n,o,r))>i)return!1}return!0}return function(A){if(this.isEmpty())return!1;this.getCenter(o),d.subVectors(this.max,o),a.subVectors(A.a,o),s.subVectors(A.b,o),l.subVectors(A.c,o),t.subVectors(s,a),i.subVectors(l,s),n.subVectors(a,l);var e=[0,-t.z,t.y,0,-i.z,i.y,0,-n.z,n.y,t.z,0,-t.x,i.z,0,-i.x,n.z,0,-n.x,-t.y,t.x,0,-i.y,i.x,0,-n.y,n.x,0];return!!h(e)&&(!!h(e=[1,0,0,0,1,0,0,0,1])&&(r.crossVectors(t,i),h(e=[r.x,r.y,r.z])))}}(),clampPoint:function(A,e){return void 0===e&&(console.warn("THREE.Box3: .clampPoint() target is now required"),e=new Dh),e.copy(A).clamp(this.min,this.max)},distanceToPoint:(Oh=new Dh,function(A){return Oh.copy(A).clamp(this.min,this.max).sub(A).length()}),getBoundingSphere:(Lh=new Dh,function(A){return void 0===A&&console.error("THREE.Box3: .getBoundingSphere() target is now required"),this.getCenter(A.center),A.radius=.5*this.getSize(Lh).length(),A}),intersect:function(A){return this.min.max(A.min),this.max.min(A.max),this.isEmpty()&&this.makeEmpty(),this},union:function(A){return this.min.min(A.min),this.max.max(A.max),this},applyMatrix4:(Fh=[new Dh,new Dh,new Dh,new Dh,new Dh,new Dh,new Dh,new Dh],function(A){return this.isEmpty()||(Fh[0].set(this.min.x,this.min.y,this.min.z).applyMatrix4(A),Fh[1].set(this.min.x,this.min.y,this.max.z).applyMatrix4(A),Fh[2].set(this.min.x,this.max.y,this.min.z).applyMatrix4(A),Fh[3].set(this.min.x,this.max.y,this.max.z).applyMatrix4(A),Fh[4].set(this.max.x,this.min.y,this.min.z).applyMatrix4(A),Fh[5].set(this.max.x,this.min.y,this.max.z).applyMatrix4(A),Fh[6].set(this.max.x,this.max.y,this.min.z).applyMatrix4(A),Fh[7].set(this.max.x,this.max.y,this.max.z).applyMatrix4(A),this.setFromPoints(Fh)),this}),translate:function(A){return this.min.add(A),this.max.add(A),this},equals:function(A){return A.min.equals(this.min)&&A.max.equals(this.max)}});var kh={byteArr2Int:function(A){return(255&A[0])<<24|(255&A[1])<<16|(255&A[2])<<8|(255&A[3])<<0},int2ByteArr:function(A){var e=[];return e[0]=A>>24,e[1]=A>>16,e[2]=A>>8,e[3]=A>>0,e},isPlainObject:function(A){var e,t;return!(!A||"[object Object]"!==Object.prototype.toString.call(A))&&(!(e=Object.getPrototypeOf(A))||"function"==typeof(t=Object.hasOwnProperty.call(e,"constructor")&&e.constructor)&&Object.hasOwnProperty.toString.call(t)===Object.hasOwnProperty.toString.call(Object))},extend:function(){var A=null,e=null,t=null,i=null,n=null,o=null,r=arguments[0]||{},a=1,s=arguments.length,l=!1;for("boolean"==typeof r&&(l=r,r=arguments[a]||{},a+=1),"object"!==Bh(r)&&"function"===!Bh(r)&&(r={}),a===s&&(r=this,a-=1);a<s;a+=1)if(null!==(A=arguments[a])&&void 0!==(A=arguments[a]))for(e in A)t=r[e],r!==(i=A[e])&&(l&&i&&(kh.isPlainObject(i)||(n=Array.isArray(i)))?(o=n?(n=!1,t&&Array.isArray(t)?t:[]):t&&kh.isPlainObject(t)?t:{},r[e]=kh.extend(l,o,i)):null!=i&&(r[e]=i));return r},box3FromArray:function(A,e){if(Array.isArray(A)){var t=e||new Qh;return t.min.fromArray(A,0),t.max.fromArray(A,3),t}return null},box3FromArrayRange:function(A,e,t){for(var i=new Qh,n=Number(1/0),o=Number(1/0),r=Number(1/0),a=-1/0,s=-1/0,l=-1/0,c=e,d=t;c<d;c+=3){var h=A[c],u=A[c+1],p=A[c+2];h<n&&(n=h),u<o&&(o=u),p<r&&(r=p),a<h&&(a=h),s<u&&(s=u),l<p&&(l=p)}return i.min.set(n,o,r),i.max.set(a,s,l),i},box3FromObject:function(A,e,t){if(void 0===A||void 0===e||void 0===A.x||void 0===A.y||void 0===A.z||void 0===e.x||void 0===e.y||void 0===e.z)return null;var i=t||new Qh;return i.min.set(A.x,A.y,A.z),i.max.set(e.x,e.y,e.z),i},computeBBox:function(A){for(var e=new Qh,t=new Dh,i=0,n=A.length;i<n;i+=1)t.fromArray(A[i],0),e.expandByPoint(t);return e},mergeBBox:function(A){if(A.length<1)return null;for(var e=new Qh,t=new Dh,i=new Dh,n=new Qh,o=0,r=A.length;o<r;o+=1)t.set(A[o].max.x,A[o].max.y,A[o].max.z),i.set(A[o].min.x,A[o].min.y,A[o].min.z),n.set(i,t),e.union(n);return e},parseTransform:function(A,e,t){var i=!1;if(e.rotation&&(A.rotation.fromArray(e.rotation),i=!0),e.position&&(A.position.fromArray(e.position),i=!0),e.scale&&(A.scale.fromArray(e.scale),i=!0),e.quaternion&&(A.quaternion.fromArray(e.quaternion),i=!0),i&&A.updateMatrix(),e.matrix&&A.matrix.fromArray(e.matrix),t){var n=A.matrix.clone();n.multiplyMatrices(t,A.matrix),A.matrix=n}A.matrixAutoUpdate=!1,void 0!==A.boundingBox&&(A.boundingBox=kh.box3FromArray(e.bbox))},isEmptyObject:function(A){if(!A)return!0;if(0<A.length)return!1;if(0===A.length)return!0;for(var e in A)if(A.hasOwnProperty(e))return!1;return!0},isEmptyObjectSimple:function(A){for(var e in A)return!1;return!0},isOwnEmptyObject:function(A){for(var e in A)if(A.hasOwnProperty(e))return!1;return!0},hexStrToRgb:function(A){var e=A.replace("#",""),t=/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i.exec(e);return t?{r:parseInt(t[1],16)/255,g:parseInt(t[2],16)/255,b:parseInt(t[3],16)/255}:null},hexToRgb:function(A){var e={};return e.r=(A>>16&255)/255,e.g=(A>>8&255)/255,e.b=(255&A)/255,e},getMin:function(A){for(var e=A.length,t=1/0;0<=(e-=1);)t=A[e]<t?A[e]:t;return t},getMax:function(A){for(var e=A.length,t=-1/0;0<=(e-=1);)t=t<A[e]?A[e]:t;return t},findRange:function(A,e){if(e<Math.min.apply(null,A))return 0;if(e>Math.max.apply(null,A))return A.length-1;for(var t=0,i=0,n=A.length;i<n;i+=1)if(e<A[i]){t=i-1;break}return t},stringToByte:function(A){for(var e=[],t=A.length,i=null,n=0;n<t;n+=1)(i=A.charCodeAt(n))<65536||1114111<i?i<2048||65535<i?i<128||2047<i?e.push(255&i):(e.push(i>>6&31|192),e.push(63&i|128)):(e.push(i>>12&15|224),e.push(i>>6&63|128),e.push(63&i|128)):(e.push(i>>18&7|240),e.push(i>>12&63|128),e.push(i>>6&63|128),e.push(63&i|128));return e},byteToString:function(A){if("string"==typeof A)return A;for(var e="",t=A,i=0;i<t.length;i+=1){var n=t[i].toString(2),o=n.match(/^1+?(?=0)/);if(o&&8===n.length){for(var r=o[0].length,a=t[i].toString(2).slice(7-r),s=1;s<r;s+=1)a+=t[s+i].toString(2).slice(2);e+=String.fromCharCode(parseInt(a,2)),i+=r-1}else e+=String.fromCharCode(t[i])}return e},strToBinary:function(A){for(var e=[],t=A.split(""),i=0;i<t.length;i+=1){0!==i&&e.push(" ");var n=t[i].charCodeAt().toString(2);e.push(n)}return e.join("")},binaryToStr:function(A){for(var e=[],t=A.split(" "),i=0;i<t.length;i+=1){var n=parseInt(t[i],2),o=String.fromCharCode(n);e.push(o)}return e.join("")},isMirror:function(A){var e=new Dh(A[0],A[1],A[2]),t=new Dh(A[4],A[5],A[6]),i=new Dh(A[8],A[9],A[10]);return(new Dh).crossVectors(e,t).dot(i)<0},decodeUTF8:function(A){for(var e="",t=0;t<A.length;t+=1)e+=String.fromCharCode(A[t]);return decodeURIComponent(escape(e))},unique:function(A){for(var e,t=[],i={},n=0;null!==(e=A[n])&&void 0!==(e=A[n]);n+=1)i[e]||(t.push(e),i[e]=!0);return i=null,t},getValue:function(A,e){var t=e.split("."),i=A;return t.map(function(A,e){i=i[A]}),i},sortByName:function(A,n,o){o=o||"asc";var r=!1;n?-1<n.indexOf(".")&&(r=!0):n="name",A=A.sort(function(A,e){if(r){var t=kh.getValue(A,n),i=kh.getValue(e,n);return"asc"===o?t.localeCompare(i):i.localeCompare(t)}return"asc"===o?A[n].localeCompare(e[n]):e[n].localeCompare(A[n])});var i=[],a=[],s=[],l=[];return A.map(function(A,e){var t=null;t=r?kh.getValue(A,n):A[n],/^[a-zA-Z]*$/.test(t.slice(0,1))?i.push(A):/^[\u4e00-\u9fa5]*$/.test(t.slice(0,1))?a.push(A):/^\d+(\.\d+)?$/.test(t.slice(0,1))?s.push(A):l.push(A)}),l.concat(s,i,a)},PointToLineDistance:function(A,e,t,i,n,o){var r=void 0,a=void 0,s=void 0,l=void 0,c=Math.sqrt((t-A)*(t-A)+(i-e)*(i-e));if(0===c)return[0,{x:t,y:i}];var d=Math.sqrt((n-A)*(n-A)+(o-e)*(o-e));if(0===d)return[0,{x:n,y:o}];var h=Math.sqrt((t-n)*(t-n)+(i-o)*(i-o));if(0===h)return[c,{x:t,y:i}];if(c<d){if(i===o?r=t<n?0:Math.PI:(1e-5<(l=(n-t)/h)-1&&(l=1),r=Math.acos(l),o<i&&(r=2*Math.PI-r)),1e-5<(l=(A-t)/c)-1&&(l=1),a=Math.acos(l),e<i&&(a=2*Math.PI-a),(s=a-r)<0&&(s=-s),s>Math.PI&&(s=2*Math.PI-s),s>Math.PI/2)return[c,{x:t,y:i}];if(t===n)return[d*Math.sin(s),{x:t,y:e}];if(i===o)return[d*Math.sin(s),{x:A,y:i}];var u,p,g=(o-i)/n-t,f=-1/g,m=e-A*f;return p=f*(u=(o-n*g-m)/(f-g))+m,[c*Math.sin(s),{x:u,y:p}]}if(i===o?r=t<n?Math.PI:0:(1e-5<(l=(t-n)/h)-1&&(l=1),r=Math.acos(l),i<o&&(r=2*Math.PI-r)),1e-5<(l=(A-n)/d)-1&&(l=1),a=Math.acos(l),e<o&&(a=2*Math.PI-a),(s=a-r)<0&&(s=-s),s>Math.PI&&(s=2*Math.PI-s),s>Math.PI/2)return[d,{x:n,y:o}];if(t===n)return[d*Math.sin(s),{x:t,y:e}];if(i===o)return[d*Math.sin(s),{x:A,y:i}];var v,y,C=(o-i)/n-t,I=-1/C,x=e-A*I;return y=I*(v=(o-n*C-x)/(I-C))+x,[d*Math.sin(s),{x:v,y:y}]},freezeObject:function(A){return Object.freeze?Object.freeze(A):A},getEncodedId:function(A){return A},arrayToMap:function(A,e){e=e||{};for(var t=0,i=A.length;t<i;t+=1)e[A[t]]=!0;return e},getDifferentialIdxs:function(A,e){var t=null,i={},n={},o={};if(e)if(this.isEmptyObject(A))n=e;else{for(t in e)A[t]&&(o[t]=!0);if(this.isEmptyObject(o))i=A,n=e;else{for(t in e)o[t]||(n[t]=!0);for(t in A)o[t]||(i[t]=!0)}}else this.isEmptyObject(A)||(i=A);return{objCurrUsedIdxs:A,addIdxs:Object.keys(i),removeIdxs:Object.keys(n)}}};kh.createUUID=function(){for(var A=[],e="0123456789abcdef",t=0;t<36;t+=1)A[t]=e.substr(Math.floor(16*Math.random()),1);return A[14]="4",A[19]=e.substr(3&A[19]|8,1),A[8]=A[13]=A[18]=A[23]="-",A.join("")};var zh={getAndroidVersion:function(A){var e=(A=A||navigator.userAgent).match(/Android\s([0-9.]*)/);return!!e&&e[1]},isTouchDevice:function(){return"undefined"!=typeof window&&"ontouchstart"in window},isBrowser:function(){return"undefined"!=typeof navigator},isIE11:function(){return zh.isBrowser()&&Boolean(navigator.userAgent.match(/Edge|Trident\/7\./))},isIOSDevice:function(){return!!zh.isBrowser()&&/ip(ad|hone|od)/.test(navigator.userAgent.toLowerCase())},isAndroidDevice:function(){return!!zh.isBrowser()&&-1!==navigator.userAgent.toLowerCase().indexOf("android")},isMobileDevice:function(){return!!zh.isBrowser()&&(zh.isIOSDevice()||zh.isAndroidDevice())},isSafari:function(){if(!zh.isBrowser())return!1;var A=navigator.userAgent.toLowerCase();return-1!==A.indexOf("safari")&&-1===A.indexOf("chrome")},isFirefox:function(){return!!zh.isBrowser()&&-1!==navigator.userAgent.toLowerCase().indexOf("firefox")},isChrome:function(){return!!zh.isBrowser()&&-1!==navigator.userAgent.toLowerCase().indexOf("chrome")},isMac:function(){return!!zh.isBrowser()&&-1!==navigator.userAgent.toLowerCase().indexOf("mac os")},isLinux:function(){return!!zh.isBrowser()&&-1!==navigator.userAgent.toLowerCase().indexOf("linux x86_64")},isWindows:function(){if(!zh.isBrowser())return!1;var A=navigator.userAgent.toLowerCase();return-1!==A.indexOf("win32")||-1!==A.indexOf("windows")},isWindowsPhone:function(){var A=navigator.userAgent.toLowerCase();return/(?:Windows Phone)/.test(A)},isSymbian:function(){var A=navigator.userAgent.toLowerCase();return/(?:SymbianOS)/.test(A)||zh.isWindowsPhone()},isTablet:function(){var A=navigator.userAgent.toLowerCase();return/(?:iPad|PlayBook)/.test(A)||zh.isAndroidDevice()&&!/(?:Mobile)/.test(A)||zh.isFirefox()&&/(?:Tablet)/.test(A)},isPc:function(){return!zh.isMobileDevice()&&!zh.isTablet()&&!zh.isSymbian()},isOpera:function(){return-1<navigator.userAgent.indexOf("Opera")}};zh.isSafari();zh.detectWebGL=function(){if(window.WebGLRenderingContext){for(var A=document.createElement("canvas"),e=["webgl","experimental-webgl"],t=!1,i=0;i<e.length;i+=1)try{if((t=A.getContext(e[i]))&&"function"==typeof t.getParameter)return 1}catch(A){}return 0}return-1},zh.detectWebGL2=function(){if(window.WebGL2RenderingContext){for(var A=document.createElement("canvas"),e=["webgl2"],t=!1,i=0;i<e.length;i+=1)try{if((t=A.getContext(e[i]))&&"function"==typeof t.getParameter)return 1}catch(A){}return 0}return-1},zh.showWebGLMessage=function(A,e,t){var i,n=null,o=null;n=void 0!==(t=t||{}).parent?t.parent:document.body,i=void 0!==t.id?t.id:"oldie",(o=zh.getWebGLErrorMessage(A,e)).id=i,n.appendChild(o)},zh.language=function(){return(navigator.browserLanguage||navigator.language).toLowerCase()},zh.getWebGLErrorMessage=function(A,e){var t=document.createElement("div");t.id="webgl-error-message",t.style.fontSize="16px",t.style.fontWeight="normal",t.style.textAlign="center",t.style.background="#f4c8c8",t.style.color="#000",t.style.padding="1.5em",t.style.width="400px",t.style.position="absolute",t.style.left=document.body.clientWidth/2-224+"px";var i=document.body.clientHeight/2-45;return i<0&&(i=0),t.style.top=i+"px",e||(e="zh-cn"),0===A?t.innerHTML=[' <a href="http://khronos.org/webgl/wiki/Getting_a_WebGL_Implementation" style="color:#000">'+Mh[e].YourGraphicsCardDoesNotSeemToSupportWebGL+"</a>.<br />",' <a href="http://get.webgl.org/" style="color:#000">'+Mh[e].FindOutHowToGetItHere+"</a>."].join("\n"):-1===A&&(t.innerHTML=['<a href="http://khronos.org/webgl/wiki/Getting_a_WebGL_Implementation" style="color:#000">'+Mh[e].YourBrowserDoesNotSeemToSupportWebGL+"</a>.<br/>",'<a href="http://get.webgl.org/" style="color:#000">'+Mh[e].FindOutHowToGetItHere+"</a>."].join("\n")),t},zh.isSupportIndexedDB=function(){return window.indexedDB||window.mozIndexedDB||window.webkitIndexedDB||window.msIndexedDB},zh.isSupportWorker=function(){return window.Worker};var Vh={DEBUG:6,PERFORMANCE:5,LOG:4,INFO:3,WARNING:2,ERROR:1,NONE:0};function Hh(){this.level=-1,this.setLevel(Vh.LOG)}Hh.prototype.setLevel=function(A){if(this.level!==A){this.level=A;var e=function(){},t=Vh,i=this;this.debug=A<t.DEBUG?e:console.debug.bind(console),this.trace=A<t.DEBUG?e:console.trace.bind(console),this.assert=A<t.DEBUG?e:console.assert.bind(console),this.count=A<t.DEBUG?e:console.count.bind(console),this.dir=A<t.DEBUG?e:console.dir.bind(console),this.time=A<t.PERFORMANCE?e:console.time.bind(console),this.timeEnd=A<t.PERFORMANCE?e:console.timeEnd.bind(console),this.log=A<t.LOG?e:console.log.bind(console),this.info=A<t.INFO?e:console.info.bind(console),this.warn=A<t.WARNING?e:console.warn.bind(console),this.error=A<t.ERROR?e:function(){if(i.callback){var A=Array.prototype.slice.call(arguments).join(" ");i.callback({category:"error",message:A},{adp:!1})}console.error.apply(console,arguments)}}};var Gh=new Hh,jh={splitStr:function(A){return A.trim().split(/\s+/g)},getClientHeight:function(){return document.body.clientHeight&&document.documentElement.clientHeight?document.body.clientHeight<document.documentElement.clientHeight?document.documentElement.clientHeight:document.body.clientHeight:document.body.clientHeight>document.documentElement.clientHeight?document.body.clientHeight:document.documentElement.clientHeight},getClientWidth:function(){return document.body.clientWidth&&document.documentElement.clientWidth?document.body.clientWidth<document.documentElement.clientWidth?document.body.clientWidth:document.documentElement.clientWidth:document.body.clientWidth>document.documentElement.clientWidth?document.body.clientWidth:document.documentElement.clientWidth},getDomOffsetToClient:function(A){var e,t,i,n,o,r=null;if(A!==document){var a=(e=A).getBoundingClientRect?(t=e.getBoundingClientRect(),i=document.body,n=document.documentElement,o=t.left-(n.clientLeft||i.clientLeft),{top:Math.round(t.top-(n.clientTop||i.clientTop)),left:Math.round(o)}):function(A){for(var e=0,t=0;A;)e+=A.offsetTop,t+=A.offsetLeft,A=A.offsetParent;var i=document.body,n=document.documentElement;return{top:e-=window.pageYOffset||n.scrollTop||i.scrollTop,left:t-=window.pageXOffset||n.scrollLeft||i.scrollLeft}}(e);r={width:A.offsetWidth,height:A.offsetHeight,left:a.left,top:a.top}}else r={width:window.innerWidth,height:window.innerHeight,left:0,top:0};return r},setClassName:function(A,e){var t=document.getElementById(A);t&&(t.className=e)},addClassName:function(A,e){var t=null,i=null,n=null,o=null,r=null,a=document.getElementById(A);if(a&&(i=a,e&&"string"==typeof e&&(t=e.split(/\s+/),1===i.nodeType)))if(i.className||1!==t.length){for(n=" "+i.className+" ",o=0,r=t.length;o<r;o+=1)n.indexOf(" "+t[o]+" ")<0&&(n+=t[0]+" ");i.className=String.trim(n)}else i.className=e},removeClassName:function(A,e){var t=null,i=null,n=null,o=null,r=null,a=document.getElementById(A);if(a&&(n=a,e&&"string"==typeof e&&(t=(e||"").split(/\s+/),1===n.nodeType&&n.className))){for(i=(" "+n.className+" ").replace(0," "),o=0,r=t.length;o<r;o+=1)for(;0<=i.indexOf(" "+t[o]+" ");)i=i.replace(" "+t[o]+" "," ");n.className=e?String.trim(i):""}},showOrHideElement:function(A,e){var t=document.getElementById(A);t&&(t.style.display=e?"":"none")},getStyleString:function(A){var e=[];for(var t in A){var i=A[t];e.push(t),e.push(":"),e.push(i),e.push("; ")}return e.join("")},cloneStyle:function(A){var e={};for(var t in A)e[t]=A[t];return e},removeStyleAttribute:function(e,A){Array.isArray(A)||(A=[A]),A.forEach(function(A){A in e&&delete e[A]})},trimRight:function(A){if(0===A.length)return"";for(var e=A.length-1,t=e;0<=t;t-=1)if(" "!==A.charAt(t)){e=t;break}return A.substr(0,e+1)},trimLeft:function(A){if(0===A.length)return"";for(var e=0,t=0;t<A.length;t+=1)if(" "!==A.charAt(t)){e=t;break}return A.substr(e)},trim:function(A){return A.replace(/(^\s*)|(\s*$)/g,"")},matchesSelector:function(A,e){if(A.matches)return A.matches(e);if(A.matchesSelector)return A.matchesSelector(e);if(A.webkitMatchesSelector)return A.webkitMatchesSelector(e);if(A.msMatchesSelector)return A.msMatchesSelector(e);if(A.mozMatchesSelector)return A.mozMatchesSelector(e);if(A.oMatchesSelector)return A.oMatchesSelector(e);if(A.querySelectorAll){for(var t=(A.document||A.ownerDocument).querySelectorAll(e),i=0;t[i]&&void 0!==t[i];)i+=1;return!!t[i]}return!1},toTranslate3d:function(A,e){return"translate3d("+A+"px,"+e+"px,0)"},setCursorStyle:function(A,e){var t=null;switch(e){case"n":case"s":t="ns-resize";break;case"w":case"e":t="ew-resize";break;case"ne":case"sw":t="nesw-resize";break;case"nw":case"se":t="nwse-resize"}A.style.cursor=t},css:function(A,e){for(var t=A.getAttribute("style")||"",i=Object.keys(e),n=t.split(";"),o=[],r=0,a=n.length;r<a;r+=1){""!==(s=n[r])?o.push(s.replace(/:.+/,"")):n.splice(r,1)}for(r=0,a=i.length;r<a;r+=1){var s=i[r],l=-1;n.map(function(A,e){return-1<A.indexOf(s)&&(l=e),null}),-1<l?n[l]=s+":"+e[s]:n.push(s+":"+e[s])}var c=n.join(";");A.setAttribute("style",c+";")},append:function(A,e){if("string"==typeof e){var t=document.createElement("div");t.innerHTML=e;for(var i=document.createDocumentFragment();t.firstChild;)i.appendChild(t.firstChild);A.appendChild(i)}else A.appendChild(e)},scrollTop:function(t,i){var n=t.scrollTop;if(i<n)var o=setInterval(function(){var A=t.scrollTop,e=Math.floor(-A/6);t.scrollTop=A=e+A,i<t.scrollTop||(t.scrollTop=t.scrollTop=i,clearTimeout(o))},20);else if(0===n)var r=setInterval(function(){var A=t.scrollTop,e=Math.floor(70);t.scrollTop=A=e+A,t.scrollTop<n&&(t.scrollTop=i,clearTimeout(r))},20);else if(n<i)var a=setInterval(function(){var A=t.scrollTop,e=Math.floor(A/6);t.scrollTop=A=e+A,t.scrollTop<n&&(t.scrollTop=i,clearTimeout(a))},20);else if(i===n)return!1},closest:function(A,e){if(!A)return null;for(var t=A.matches||A.webkitMatchesSelector||A.mozMatchesSelector||A.msMatchesSelector;A&&!t.call(A,e);)A=A.parentElement;return A},addEventListener:function(A,e,t){if(A)if(A.length)for(var i=0;i<A.length;i+=1)A[i].addEventListener(e,function(A){t&&"function"==typeof t&&t(A)});else A.addEventListener(e,function(A){t&&"function"==typeof t&&t(A)})},remove:function(A){if(A)if(A.removeNode=[],void 0!==A.length){for(var e=A.length,t=0;t<e;t+=1)A.removeNode.push({parent:A[t].parentNode,inner:A[t].outerHTML,next:A[t].nextSibling});for(t=0;t<e;t+=1)A[0].parentNode.removeChild(A[0])}else A.removeNode.push({parent:A.parentNode,inner:A.outerHTML,next:A.nextSibling}),A.parentNode.removeChild(A)},getStyleValue:function(A,e){var t=A.ownerDocument.defaultView;return t&&t.opener||(t=window),A.currentStyle?A.currentStyle[e]:t.getComputedStyle(A)[e]},isShow:function(A){return"none"!==this.getStyleValue(A,"display")},getHeight:function(A){if(null!=A){if(this.isShow(A)){if(null!=A.style.height&&0<A.style.height.length)return parseFloat(A.style.height);if(0<parseFloat(this.getStyleValue(A,"height")))return parseFloat(this.getStyleValue(A,"height"));if(0<A.offsetHeight){var e=this.getStyleValue(A,"borderTopWidth"),t=this.getStyleValue(A,"borderBottomWidth"),i=this.getStyleValue(A,"paddingTop"),n=this.getStyleValue(A,"paddingBottom"),o=parseFloat(A.offsetHeight)-parseFloat(e)-parseFloat(t)-parseFloat(i)-parseFloat(n);return parseFloat(o)}return 0}var r=A.getAttribute("style")||"";A.setAttribute("style",r+"visibility:hidden;display:block !important;");var a=this.getHeight(A);return A.setAttribute("style",r),Math.ceil(a)}},getWidth:function(A){if(null!=A){if(this.isShow(A)){if(null!=A.style.width&&0<A.style.width.length)return parseFloat(A.style.width);if(0<parseFloat(this.getStyleValue(A,"width")))return parseFloat(this.getStyleValue(A,"width"));if(0<A.offsetWidth){var e=this.getStyleValue(A,"borderLeftWidth"),t=this.getStyleValue(A,"borderRightWidth"),i=this.getStyleValue(A,"paddingLeft"),n=this.getStyleValue(A,"paddingRight"),o=parseFloat(A.offsetWidth)-parseFloat(e)-parseFloat(t)-parseFloat(i)-parseFloat(n);return parseFloat(o)}return 0}var r=A.getAttribute("style")||"";A.setAttribute("style",r+"visibility:hidden;display:inline-block !important;");var a=this.getWidth(A);return A.setAttribute("style",r),Math.ceil(a)}},outerHeight:function(A,e){var t=A.offsetHeight;if(e){var i=A.currentStyle||getComputedStyle(A);t+=parseInt(i.marginTop,0)+parseInt(i.marginBottom,0)}return t},outerWidth:function(A,e){var t=A.offsetWidth;if(e){var i=A.currentStyle||getComputedStyle(A);t+=parseInt(i.marginLeft,0)+parseInt(i.marginRight,0)}return t},isEmptyObject:function(A){var e=null;for(e in A)return!1;return!0},hasClass:function(A,e){if(A){var t=A.className.match&&A.className.match(new RegExp("(\\s|^)"+e+"(\\s|$)"));return Boolean(t)}return!1},addClass:function(A,e){A&&(this.hasClass(A,e)||(A.className+=" "+e))},removeClass:function(A,e){if(this.hasClass(A,e)){var t=new RegExp("(\\s|^)"+e+"(\\s|$)");A.className=A.className.replace(t," ")}},toggleClass:function(A,e){this.hasClass(A,e)?this.removeClass(A,e):this.addClass(A,e)},simulateEvent:function(A,e){var t=document.createEvent("Event");t.initEvent(e,!0,!0);A.dispatchEvent(t)},bind:function(A,e,t){A&&(A.addEventListener?A.addEventListener(e,t,!1):A.attachEvent?A.attachEvent("on"+e,t):A["on"+e]=t)},delegate:function(A,e,t,i){if(A)if(A.length)for(var n=0;n<A.length;n+=1)this.delegateFn(A[n],e,t,i);else this.delegateFn(A,e,t,i)},delegateFn:function(A,t,i,n){var o=this;function e(A){var e=(A=A||window.event).target||A.srcElement;o.matchSelector(e,t)&&n&&("mouseenter"===i||"mouseleave"===i?o.fixedMouse(A,e)&&n.call(e,A):n.call(e,A))}i=i.toLowerCase(),A.addEventListener?A.addEventListener("mouseenter"===i?"mouseover":"mouseleave"===i?"mouseout":i,e):A.attachEvent("mouseenter"===i?"onmouseover":"mouseleave"===i?"onmouseout":"on"+i,e)},matchSelector:function(A,e){return"#"===e.charAt(0)?A.id===e.slice(1):"."===e.charAt(0)?-1!==(" "+A.className+" ").indexOf(" "+e.slice(1)+" "):A.tagName.toLowerCase()===e.toLowerCase()},contains:function(A,e){return A.contains?A!==e&&A.contains(e):Boolean(16&A.compareDocumentPosition(e))},fixedMouse:function(A,e){var t=null,i=A.type.toLowerCase();if("mouseover"===i)t=A.relatedTarget||A.fromElement;else{if("mouseout"!==i)return!0;t=A.relatedTarget||A.toElement}return t&&"xul"!==t.prefix&&!this.contains(e,t)&&t!==e},fireEvent:function(A,e){var t=null;if(A.ownerDocument)t=A.ownerDocument;else{if(9!==A.nodeType)throw new Error("Invalid node passed to fireEvent: "+A.id);t=A}if(A.dispatchEvent){var i="";switch(e){case"click":case"mousedown":case"mouseup":i="MouseEvents";break;case"focus":case"change":case"blur":case"select":i="HTMLEvents";break;default:Gh.error("fireEvent: Couldn't find an event class for event '"+e+"'.")}(n=t.createEvent(i)).initEvent(e,"change"!==e,!0),n.synthetic=!0,A.dispatchEvent(n,!0)}else if(A.fireEvent){var n;(n=t.createEventObject()).synthetic=!0,A.fireEvent("on"+e,n)}}};jh.create=function(A,e){var t=document.createElement(A);return t.setAttribute("class",e),t};jh.createNS=function(A,e){var t=document.createElementNS("http://www.w3.org/2000/svg",A);return t.setAttribute("class",e),t};jh.select=function(A){return A.indexof("#")?document.getElementById(A.replace("#","")):A.indexof(".")?document.getElementsByClassName(A.replace(".","")):document.getElementsByTagName(A)};var Wh=function(A){if(""===A)return 0;if("string"!=typeof A)return 0;if(-1===A.indexOf("px")){var e=Number(A);return isNaN(e)?0:e}var t=A.split("px"),i=Number(t[0]);return isNaN(i)?0:i};jh.drag=function(A){var n=zh.isPc(),a=Object.assign({element:null,handle:null,axis:"all",cursor:"move",distance:0,start:null,move:null,stop:null},A),s=a.element;if(!s)return!1;var o=a.handle||s,r=void 0,l=!1,c=function(A){if(n)var e={x:A.clientX,y:A.clientY};else e={x:A.touches[0].clientX,y:A.touches[0].clientY};var t,i={x:e.x-r.x,y:e.y-r.y};l?(a.move&&a.move(r,e,i),r=e,function(A){var e=s.offsetLeft,t=s.offsetTop,i=Wh(getComputedStyle(s).marginLeft),n=Wh(getComputedStyle(s).marginTop),o=(e-=i)+A.x<0?0:e+A.x,r=(t-=n)+A.y<0?0:t+A.y;switch(a.axis){case"x":s.style.left=o+"px";break;case"y":s.style.top=r+"px";break;case"all":default:s.style.left=o+"px",s.style.top=r+"px"}}(i)):(t=i,l=Math.pow(t.x,2)+Math.pow(t.y,2)>Math.pow(a.distance,2)&&(a.start&&a.start(r),!0))},e=function(A){var e,t,i=A;if(n){if(e=i.button,!(-1<(t=navigator.userAgent).indexOf("compatible")&&-1<t.indexOf("MSIE")&&!zh.isOpera()?1===e:0===e))return;r={x:i.clientX,y:i.clientY},document.addEventListener("mousemove",c)}else r={x:i.touches[0].clientX,y:i.touches[0].clientY},o.addEventListener("touchmove",c);a.start&&a.start(r)},t=function(){l&&a.end&&a.end(r),l=!1,document.removeEventListener("mousemove",c),o.removeEventListener("touchmove",c)};n?(o.style.cursor=a.cursor,o.style.userSelect="none",o.addEventListener("mousedown",e),document.addEventListener("mouseup",t)):(o.addEventListener("touchend",t),o.addEventListener("touchstart",e))};jh.sizable=function(A){var o=Object.assign({element:null,axis:"all",minWidth:100,minHeight:100,distance:0,start:null,sizable:null,stop:null},A),r=o.element;if(!r)return!1;var n=void 0,a=!1,e=jh.create("div","yj-resize"),s=void 0,l=void 0,c=function(A){var e,t={x:A.clientX,y:A.clientY},i={x:t.x-n.x,y:t.y-n.y};a?(o.sizable&&o.sizable(n,t,i),function(A){var e=r.offsetLeft,t=r.offsetTop,i=s+A.x<o.minWidth?o.minWidth:s+A.x,n=l+A.y<o.minHeight?o.minHeight:l+A.y;switch(o.resize&&o.resize(i,n),r.style.left=e+"px",r.style.top=t+"px",o.axis){case"x":r.style.width=i+"px";break;case"y":r.style.height=n+"px";break;case"all":default:r.style.width=i+"px",r.style.height=n+"px"}}(i)):(e=i,a=Math.pow(e.x,2)+Math.pow(e.y,2)>Math.pow(o.distance,2)&&(o.start&&o.start(n),!0))},t=function(A){s=r.clientWidth,l=r.clientHeight;var e,t,i=A;e=i.button,(-1<(t=navigator.userAgent).indexOf("compatible")&&-1<t.indexOf("MSIE")&&!zh.isOpera()?1===e:0===e)&&(n={x:i.clientX,y:i.clientY},document.addEventListener("mousemove",c),document.addEventListener("touchmove",c))},i=function(){a&&o.end&&o.end(n),a=!1,document.removeEventListener("mousemove",c),document.removeEventListener("touchmove",c)};jh.addClass(r,"yj-sizable"),r.appendChild(e),e.addEventListener("mousedown",t),e.addEventListener("touchstart",t),document.addEventListener("mouseup",i),document.addEventListener("touchend",i)};var qh=function(A){var e=this,t=Object.assign({element:null,min:0,max:100,cur:50,step:1,isShowProgress:!0,input:null,change:null,currentColor:"#11dab7",defaultColor:"#999"},A);this._opt=t;var i=jh.create("div","yj-range"),n=jh.create("input","yj-input-range");(e.input=n).setAttribute("type","range"),n.setAttribute("step",t.step),n.setAttribute("min",t.min),n.setAttribute("max",t.max),n.setAttribute("value",t.cur);var o=jh.create("span","yj-range-min");o.innerText=t.min;var r=jh.create("span","yj-range-cur");(e.cur=r).innerText=t.cur;var a=jh.create("span","yj-range-max");a.innerText=t.max;var s=jh.create("span","yj-range-progress");i.appendChild(n),t.isShowProgress&&(i.appendChild(o),i.appendChild(r),i.appendChild(a)),i.appendChild(s),t.element.appendChild(i),e.setProgress(t.cur),n.addEventListener("input",function(){e.setProgress(this.value),t.input&&t.input(this.value)}),n.addEventListener("change",function(){e.setProgress(this.value),t.change&&t.change(this.value)})};qh.prototype.setProgress=function(A){var e=this._opt,t=this.input,i=this.cur,n=(A-e.min)/(e.max-e.min)*100;t.value=A,t.style.background="linear-gradient(to right,"+e.currentColor+" 0%,"+e.currentColor+"  "+n+"%,"+e.defaultColor+" "+n+"%, "+e.defaultColor+" 100%)",i.innerText=A},qh.prototype.reset=function(){this.setProgress(this._opt.cur)},jh.range=qh;var Xh=function(A){this._opt=Object.assign({element:null,min:0,max:100,from:null,to:null,step:1,currentColor:"#11dab7",defaultColor:"#999",change:null},A),this._opt.from=this._opt.from||this._opt.min,this._opt.to=this._opt.to||this._opt.max,this.init()};Xh.prototype={init:function(){var A=jh.create("div","yj-multiple-range"),e=jh.create("div","yj-range-track"),t=jh.create("span","yj-slider yj-slider-min");t.id="minSlider",t.type="minimum";var i=jh.create("span","yj-slider yj-slider-max");i.id="maxSlider",i.type="maximum",this._state={from:this._opt.from,to:this._opt.to},e.style.backgroundColor=this._opt.currentColor,A.style.backgroundColor=this._opt.defaultColor,A.appendChild(e),A.appendChild(t),A.appendChild(i),this._opt.element.appendChild(A),this._track=e,this._sliders={min:t,max:i},this._element=A,this.bindEvent(),this.update(!1)},bindEvent:function(){var t=this,i=!1,n=null,o=null,A=function(A){A=A||event;o=A.screenX,n=this,i=!0};this._sliders.min.addEventListener("mousedown",A),this._sliders.max.addEventListener("mousedown",A),document.addEventListener("mousemove",function(A){if(i){A=A||event;var e=Math.round((A.screenX-o)/t._pix/t._opt.step)*t._opt.step;0!==e&&(o=e*t._pix+o,"minimum"===n.type?t._state.from+=e:t._state.to+=e,t.recalculate(n),t.update(!0))}}),document.addEventListener("mouseup",function(){n=null,i=!1})},update:function(A){var e=this._sliders.min.offsetWidth,t=this._sliders.max.offsetWidth;this._pix||(this._pix=(this._element.offsetWidth-e-t)/(this._opt.max-this._opt.min));var i=(this._state.from-this._opt.min)*this._pix,n=(this._state.to-this._opt.min)*this._pix+e+t;this._track.style.left=i+e/2+"px",this._track.style.width=n-i-e/2-t/2+"px",this._sliders.min.style.left=i+"px",this._sliders.max.style.left=n+"px",this._opt.change&&A&&this._opt.change(this._state)},recalculate:function(A){this._state.to<this._opt.max||(this._state.to=this._opt.max),this._opt.min<this._state.from||(this._state.from=this._opt.min),A&&("maximum"===A.type&&(this._state.from<this._state.to||(this._state.to=this._state.from)),"minimum"===A.type&&(this._state.from<this._state.to||(this._state.from=this._state.to)))},getProgress:function(){return this._state},setProgress:function(A){this._state=A,this.recalculate(),this.update(!1)}},jh.multipleRange=Xh;var Yh,Jh,Zh,$h,Au,eu,tu=function(){var f=this;Math.randomString=function(A){for(var e="",t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",i=0;i<A;i+=1)e+=t.charAt(Math.floor(Math.random()*t.length));return e},f.viewport=document.body,f.counter=0,f.prompt=function(A,e){return new t(A,e)},f.confirm=function(A){return new e(A)},f.progress=function(A){return new n(A)},f.error={},f.success={},f.warning={},f.info={},f.alert=function(A,e){if(-1<["success","error","warning","info"].indexOf(A))return new i(A,e)},f.window=function(A){return new o("window",A)};var a={$type:null,$el:null,$options:null,debug:function(){this.$options.debug&&window.console.debug.apply(window.console,arguments)},_processInput:function(A){if(Array.isArray(A.buttons)){for(var e={},t=0;t<A.buttons.length;t+=1)e[A.buttons[t]]=f.base.OPTIONS.buttons[A.buttons[t]];A.buttons=e}for(var t in A.customBtnClass=A.customBtnClass?A.customBtnClass:f.base.DEFAULTS.customBtnClass,A.buttons)if(A.buttons.hasOwnProperty(t)){var i=A.buttons[t];(i=kh.extend(!0,{},f.base.OPTIONS.buttons[t],i)).class||(i.class=A.customBtnClass),A.buttons[t]=i}return void 0===(A=kh.extend(!0,{},f.base.DEFAULTS,A)).showClass&&(A.showClass=f.base.OPTIONS.showClass),void 0===A.hideClass&&(A.hideClass=f.base.OPTIONS.hideClass),void 0===A.baseClass&&(A.baseClass=f.base.OPTIONS.baseClass),void 0===A.delayToRemove&&(A.delayToRemove=f.base.OPTIONS.delayToRemove),A.iconClass||(A.iconClass=f.base.OPTIONS.icons[A.iconSource][this.$type]),A},_init:function(){var e=this;e._createMarkup(),e.setTitle(e.$options.title),e.$options.draggable&&(e.$el.classList.add("draggable"),e._enableDrag()),e.$options.closeButton&&e._addCloseButton(),e.$options.closeOnEsc&&document.addEventListener("keyup.lobibox",function(A){27===A.which&&e.destroy()}),e.$options.baseClass&&e.$el.classList.add(e.$options.baseClass),e.$options.showClass&&(e.$el.classList.remove(e.$options.hideClass),e.$el.classList.add(e.$options.showClass)),e.$options.id&&e.$el.setAttribute("id",e.$options.id),e.$el.dataset.lobibox=e},_calculatePosition:function(A){var e;return e="top"===A?30:"bottom"===A?window.outerHeight-jh.outerHeight(this.$el)-30:(window.outerHeight-jh.outerHeight(this.$el))/2,"left:"+(window.outerWidth-jh.outerWidth(this.$el))/2+"px;top:"+e+"px;"},_createButton:function(e,A){var t=this,i=document.createElement("button"),n=[];return A&&A.class&&(n=A.class.split(" ")),n.map(function(A,e){i.classList.add(A)}),i.dataset.type=e,i.innerHTML=A.text,t.$options.callback&&"function"==typeof t.$options.callback&&i.addEventListener("click",function(A){t._onButtonClick(t.$options.buttons[e],e),t.$options.callback(t,this.dataset.type,A)}),i},_onButtonClick:function(A,e){("ok"===e&&"prompt"===this.$type&&this.isValid()||"prompt"!==this.$type||"ok"!==e)&&A&&A.closeOnClick&&this.destroy()},_generateButtons:function(){var A=[];for(var e in this.$options.buttons)if(this.$options.buttons.hasOwnProperty(e)){var t=this._createButton(e,this.$options.buttons[e]);A.push(t)}return A},_createMarkup:function(){var A=document.createElement("div");A.className="lobibox",A.dataset.isModal=this.$options.modal,A.dataset.backdrop=!!this.$options.backdrop;var e=document.createElement("div");e.className="lobibox-header",A.appendChild(e);var t=document.createElement("span");t.className="lobibox-title",e.appendChild(t);var i=document.createElement("div");if(i.className="lobibox-body",A.appendChild(i),this.$options.buttons&&!kh.isEmptyObject(this.$options.buttons)){var n=document.createElement("div");n.className="lobibox-footer",this._generateButtons().map(function(A,e){n.appendChild(A)}),A.appendChild(n),-1<f.base.OPTIONS.buttonsAlign.indexOf(this.$options.buttonsAlign)&&n.classList.add("text-"+this.$options.buttonsAlign)}A.classList.add(f.base.OPTIONS.modalClasses[this.$type]),this.$el=A},_setSize:function(){this.setWidth(this.$options.width),this.setHeight("auto"===this.$options.height?jh.outerHeight(this.$el):this.$options.height)},_calculateBodyHeight:function(A){var e=this.$el.querySelector(".lobibox-header").outerHeight,t=this.$el.querySelector(".lobibox-footer").outerHeight;return A-(e||0)-(t||0)},_addBackdrop:function(){if(0===document.querySelectorAll(".lobibox-backdrop").length){var A=document.createElement("div");A.className="lobibox-backdrop",f.viewport.appendChild(A)}},_removeBackdrop:function(){for(var A=document.querySelectorAll(".lobibox-backdrop"),e=0;e<A.length;e+=1)A[e].remove()},_triggerEvent:function(A){this.$options[A]&&"function"==typeof this.$options[A]&&this.$options[A](this)},_calculateWidth:function(A){return(A=Math.min(Math.max(A,this.$options.width),window.outerWidth))===window.outerWidth&&(A-=2*this.$options.horizontalOffset),A},_calculateHeight:function(A){return(A=Math.min(Math.max(A,this.$options.height),window.outerHeight))===window.outerHeight&&(A-=2*this.$options.verticalOffset),A},_addCloseButton:function(){var A=this,e=document.createElement("span");e.className="btn-close",e.innerHTML="&times;",A.$el.querySelector(".lobibox-header").appendChild(e),e.addEventListener("mousedown",function(A){A.stopPropagation()}),e.addEventListener("click",function(){A.destroy()})},_position:function(){this._setSize();var A=this._calculatePosition();this.setPosition(A.left,A.top)},_isMobileScreen:function(){return window.outerHeight<768},_enableDrag:function(){var i=this.$el,A=i.querySelector(".lobibox-header");A.addEventListener("mousedown",function(A){A.preventDefault(),i.setAttribute("offset-left",A.offsetX),i.setAttribute("offset-top",A.offsetY),i.setAttribute("allow-drag","true")}),document.addEventListener("mouseup",function(){i.setAttribute("allow-drag","false")}),document.addEventListener("mousemove",function(A){if("true"===i.getAttribute("allow-drag")){var e=A.clientX,t=A.clientY;t<0&&(t=5),t>document.body.clientHeight&&(t=document.body.clientHeight-10),e<0&&(e=5),e>document.body.clientWidth-i.offsetWidth&&(e=document.body.clientWidth-i.offsetWidth),i.style.cssText+="left:"+e+"px;top:"+t+"px;"}}),A.addEventListener("touchstart",function(A){var e=i.style.top,t=A.originalEvent.targetTouches[0].clientY;i.setAttribute("offset-left",A.originalEvent.targetTouches[0].clientX-i.style.left),i.setAttribute("offset-top",t-e),i.setAttribute("allow-drag","true")}),document.addEventListener("touchend",function(){i.setAttribute("allow-drag","false")}),document.addEventListener("touchmove",function(A){if("true"===i.getAttribute("allow-drag")){var e=A.originalEvent.targetTouches[0].clientX,t=A.originalEvent.targetTouches[0].clientY;t<0&&(t=5),t>document.body.clientHeight&&(t=document.body.clientHeight-10),e<0&&(e=5),e>document.body.clientWidth-i.offsetWidth&&(e=document.body.clientWidth-i.offsetWidth),i.style.cssText+="left:"+e+"px;top:"+t+"px;"}})},_setContent:function(A){return A&&("string"==typeof A&&A.constructor==String?this.$el.querySelector(".lobibox-body").innerHTML=A:this.$el.querySelector(".lobibox-body").appendChild(A)),this},_beforeShow:function(){this._triggerEvent("onShow")},_afterShow:function(){var A=this;f.counter++,A.$el.setAttribute("data-nth",f.counter),A.$options.draggable||window.addEventListener("resize.lobibox-"+A.$el.getAttribute("data-nth"),function(){A.refreshWidth(),A.refreshHeight(),A.$el.style.cssText+="left:50%;top:50%;margin-left:"+-A.$el.width/2+"px;margin-top:"+-A.$el.height/2+"px;"}),A._triggerEvent("shown")},_beforeClose:function(){this._triggerEvent("beforeClose")},_afterClose:function(){this.$options.draggable||window.removeEventListener("resize.lobibox-"+this.$el.getAttribute("data-nth")),this._triggerEvent("closed")},_beforeHide:function(){this._triggerEvent("beforeHide")},_afterHide:function(){this._triggerEvent("afterHide")},hide:function(){var n=this;function A(){n.$el.classList.add("lobibox-hidden");for(var A=document.querySelectorAll(".lobibox"),e=[].slice.call(A),t=0;t<e.length;t+=1)!0!==e[t].dataset.isModal&&e.splice(t,1);for(t=0;t<e.length;t+=1)e[t].classList.contains("lobibox-hidden")&&e.splice(t,1);if(0===e.length){var i=document.querySelectorAll(".lobibox-backdrop");for(t=0;t<i.length;t+=1)f.viewport.removeChild(i[t]);f.viewport.classList.remove(f.base.OPTIONS.bodyClass)}n._afterHide()}return n._beforeHide(),n.$options.hideClass?(n.$el.classList.remove(n.$options.showClass),n.$el.classList.add(n.$options.hideClass),setTimeout(function(){A()},n.$options.delayToRemove)):A(),this},destroy:function(){var o=this;function A(){o.$el.remove();for(var A=document.querySelectorAll(".lobibox"),e=[].slice.call(A),t=0;t<e.length;t+=1)"true"!==e[t].dataset.isModal&&e.splice(t,1);if(0===e.length){var i=document.querySelectorAll(".lobibox-backdrop");for(t=0;t<i.length;t+=1)f.viewport.removeChild(i[t]);f.viewport.classList.remove(f.base.OPTIONS.bodyClass)}var n=!1;for(t=0;t<e.length;t+=1)if("true"===e[t].dataset.backdrop){n=!0;break}n||o._removeBackdrop(),o._afterClose()}return o._beforeClose(),o.$options.hideClass?(jh.removeClass(o.$el,o.$options.showClass),jh.addClass(o.$el,o.$options.hideClass),setTimeout(function(){A()},o.$options.delayToRemove)):A(),this},setWidth:function(A){return this.$el.style.cssText+="width:"+this._calculateWidth(A)+"px;",this},refreshWidth:function(){this.setWidth(this.$el.style.width)},refreshHeight:function(){this.setHeight(this.$el.style.height)},setHeight:function(A){return this.$el.style.cssText+="height:"+this._calculateHeight(A)+"px",this.$el.querySelector(".lobibox-body").style.cssText+="height:"+(this.$options.height-41)+"px",this},setSize:function(A,e){return this.setWidth(A),this.setHeight(e),this},setPosition:function(A,e){var t;return"number"==typeof A&&"number"==typeof e?t="left:"+A+"px;top:"+e+"px;":"string"==typeof A?t=this._calculatePosition(A):"object"===Bh(A)&&(t="left:"+A.left+"px;top:"+A.top+"px;right:"+A.right+"px;bottom:"+A.bottom+"px;"),this.$el.style.cssText+=t,this},setTitle:function(A){return this.$el.querySelector(".lobibox-title").innerHTML=A},getTitle:function(){return this.$el.querySelector(".lobibox-title").innerHTML},show:function(){var A=this,e=f.viewport;(A._beforeShow(),A.$el.classList.remove("lobibox-hidden"),e.appendChild(A.$el),A.$options.buttons)&&A.$el.querySelector(".lobibox-footer").children[0].focus();return(A.$options.modal||A.$options.backdrop)&&(e.classList.add(f.base.OPTIONS.bodyClass),A._addBackdrop()),!1!==A.$options.delay&&setTimeout(function(){A.destroy()},A.$options.delay),A._afterShow(),A}};function t(A,e){this.$input=null,this.$type="prompt","object"==Bh(A)?e=A:this.$promptType=A,e=kh.extend(!0,{},f.prompt.DEFAULT_OPTIONS,e),this.$options=this._processInput(e),this._init(),this.debug(this)}function e(A){this.$type="confirm",this.$options=this._processInput(A),this._init(),this.debug(this)}function i(A,e){this.$type=A,this.$options=this._processInput(e),this._init(),this.debug(this)}function n(A){this.$type="progress",this.$progressBarElement=null,this.$options=this._processInput(A),this.$progress=0,this._init(),this.debug(this)}function o(A,e){this.$type=A,this.$options=this._processInput(e),this._init(),this.debug(this)}f.base={},f.base.OPTIONS={bodyClass:"lobibox-open",modalClasses:{error:"lobibox-error",success:"lobibox-success",info:"lobibox-info",warning:"lobibox-warning",confirm:"lobibox-confirm",progress:"lobibox-progress",prompt:"lobibox-prompt",default:"lobibox-default",window:"lobibox-window"},buttonsAlign:["left","center","right"],buttons:{ok:{class:"lobibox-btn lobibox-btn-default",text:"OK",closeOnClick:!0},cancel:{class:"lobibox-btn lobibox-btn-cancel",text:"Cancel",closeOnClick:!0},yes:{class:"lobibox-btn lobibox-btn-yes",text:"确定",closeOnClick:!0},no:{class:"lobibox-btn lobibox-btn-no",text:"取消",closeOnClick:!0}},icons:{bootstrap:{confirm:"glyphicon glyphicon-question-sign",success:"glyphicon glyphicon-ok-sign",error:"glyphicon glyphicon-remove-sign",warning:"glyphicon glyphicon-exclamation-sign",info:"glyphicon glyphicon-info-sign"},fontAwesome:{confirm:"fa fa-question-circle",success:"fa fa-check-circle",error:"fa fa-times-circle",warning:"fa fa-exclamation-circle",info:"fa fa-info-circle"}}},f.base.DEFAULTS={horizontalOffset:5,verticalOffset:5,width:600,height:"auto",closeButton:!0,draggable:!0,customBtnClass:"lobibox-btn lobibox-btn-default",modal:!1,debug:!1,buttonsAlign:"center",closeOnEsc:!0,delayToRemove:200,delay:!1,baseClass:"animated-super-fast",showClass:"zoomIn",hideClass:"zoomOut",iconSource:"bootstrap",onShow:null,shown:null,beforeClose:null,closed:null},t.prototype=kh.extend(!0,{},a,{constructor:t,_processInput:function(A){var e=a._processInput.call(this,A);return e.buttons={ok:f.base.OPTIONS.buttons.ok,cancel:f.base.OPTIONS.buttons.cancel},A=kh.extend(!0,{},e,t.DEFAULT_OPTIONS,A)},_init:function(){a._init.call(this),this._setContent(this.$options.content),this.show()},_afterShow:function(){this._setContent(this._createInput())._position(),this.$input&&this.$input.focus();var A=(window.innerHeight-jh.outerHeight(this.$el))/2,e=(window.innerWidth-jh.outerWidth(this.$el))/2;this.setPosition(e,A),a._afterShow.call(this)},_createInput:function(){var A,e=this;if(e.$options.multiline)e.$input=document.createElement("textarea"),e.$input.setAttribute("rows",e.$options.lines);else{if(!e.$promptType)return;e.$input=document.createElement("input"),e.$input.setAttribute("type","' + me.$promptType + '")}if(e.$input.classList.add("lobibox-input"),"[object Object]"===Object.prototype.toString.call(e.$options.attrs))for(var t in e.$options.attrs)e.$input.setAttribute(t,e.$options.attrs[t]);e.$options.value&&e.setValue(e.$options.value),e.$options.label&&((A=document.createElement("label")).innerHTML=e.$options.label);var i=document.createElement("div");return e.$options.label&&i.appendChild(A),i.appendChild(e.$input),i},setValue:function(A){return this.$input.value=A,this},getValue:function(){return this.$input.value},isValid:function(){var A=this,e=A.$el.querySelectorAll(".lobibox-input-error-message");if(A.$options.required&&!A.getValue()){if(A.$input.classList.add("invalid"),0===e.length){var t=document.createElement("p");t.className="lobibox-input-error-message",t.innerHTML=A.$options.errorMessage,A.$el.querySelector(".lobibox-body").appendChild(t),A._position(),A.$input.focus()}return!1}A.$input.classList.remove("invalid");for(var i=0;i<e.length;i+=1)e[i].remove();return A._position(),A.$input.focus(),A._removeBackdrop(),!0},_beforePromptShow:function(){this._triggerEvent("beforeWindowShow")},_beforePromptHide:function(){this._triggerEvent("beforeWindowHide")},_afterPromptShow:function(){this._triggerEvent("afterWindowShow")},_afterPromptHide:function(){this._triggerEvent("afterWindowHide")},promptHide:function(){return this._beforePromptHide(),this.$el.classList.add("hide"),this._afterPromptHide(),this},promptShow:function(){return this._beforePromptShow(),this.$el.classList.remove("hide"),this._afterPromptShow(),this.$el.style.zIndex=(new Date).getTime()-f.window.startTime,this}}),t.DEFAULT_OPTIONS={width:400,attrs:{},value:"",multiline:!1,lines:3,type:"text",label:"",required:!0,errorMessage:"The field is required"},e.prototype=kh.extend(!0,{},a,{constructor:e,_processInput:function(A){var e=a._processInput.call(this,A);return e.buttons={yes:f.base.OPTIONS.buttons.yes,no:f.base.OPTIONS.buttons.no},A=kh.extend(!0,{},e,f.confirm.DEFAULTS,A)},_init:function(){a._init.call(this),this.show()},_afterShow:function(){var A=document.createElement("div");if(this.$options.iconClass){var e=document.createElement("div");e.className="lobibox-icon-wrapper",A.appendChild(e);var t=document.createElement("i");t.className="lobibox-icon"+this.$options.iconClass,A.appendChild(t)}var i=document.createElement("div");i.className="lobibox-body-text-wrapper",A.appendChild(i);var n=document.createElement("span");n.className="lobibox-body-text",n.innerHTML=this.$options.msg,i.appendChild(n),this._setContent(A.innerHTML),this._position(),a._afterShow.call(this)},_beforeConfirmShow:function(){this._triggerEvent("beforeWindowShow")},_beforeConfirmHide:function(){this._triggerEvent("beforeWindowHide")},_afterConfirmShow:function(){this._triggerEvent("afterWindowShow")},_afterConfirmHide:function(){this._triggerEvent("afterWindowHide")},confirmHide:function(){return this._beforeConfirmHide(),this.$el.classList.add("hide"),this._afterConfirmHide(),this},confirmShow:function(){return this._beforeConfirmShow(),this.$el.classList.remove("hide"),this._afterConfirmShow(),this.$el.style.zIndex=(new Date).getTime()-f.window.startTime,this}}),f.confirm.DEFAULTS={title:"Question",width:500},i.prototype=kh.extend(!0,{},a,{constructor:i,_processInput:function(A){var e=a._processInput.call(this,A);return e.buttons={},A=kh.extend(!0,{},e,f.alert.OPTIONS[this.$type],f.alert.DEFAULTS,A)},_init:function(){a._init.call(this),this.show()},_afterShow:function(){var A=document.createElement("div");if(this.$options.iconClass){var e=document.createElement("div");e.className="lobibox-icon-wrapper",A.appendChild(e);var t=document.createElement("i");t.className="lobibox-icon"+this.$options.iconClass,A.appendChild(t)}var i=document.createElement("div");i.className="lobibox-body-text-wrapper",A.appendChild(i);var n=document.createElement("span");n.className="lobibox-body-text",n.innerHTML=this.$options.msg,i.appendChild(n),this._setContent(A.innerHTML),this._setSize();var o=(window.innerHeight-jh.outerHeight(this.$el))/2,r=(window.innerWidth-jh.outerWidth(this.$el))/2;this.setPosition(r,o),a._afterShow.call(this)}}),f.alert.OPTIONS={warning:{title:"Warning"},info:{title:"Information"},success:{title:"Success"},error:{title:"Error"}},f.alert.DEFAULTS={},n.prototype=kh.extend(!0,{},a,{constructor:n,_processInput:function(A){var e=a._processInput.call(this,A);return A=kh.extend(!0,{},e,f.progress.DEFAULTS,A)},_init:function(){a._init.call(this),this.show()},_afterShow:function(){var A,e=this;e.$progressBarElement=e.$options.progressTpl?e.$options.progressTpl:e._createProgressbar(),e.$options.label&&((A=document.createElement("label")).innerHTML=e.$options.label);var t=document.createElement("div").appendChild(A);t.appendChild(e.$progressBarElement),e._setContent(t),e._position(),a._afterShow.call(e)},_createProgressbar:function(){var A=document.createElement("div");A.classList.add("lobibox-progress-bar-wrapper"),A.classList.add("lobibox-progress-outer");var e=document.createElement("div");if(e.classList.add("lobibox-progress-bar"),e.classList.add("lobibox-progress-element"),A.appendChild(e),this.$options.showProgressLabel){var t=document.createElement("span");t.className="lobibox-progress-text",t.dataset.role="progress-text",A.appendChild(t)}return A},setProgress:function(A){if(100!==this.$progress)return A=Math.min(100,Math.max(0,A)),this.$progress=A,this._triggerEvent("progressUpdated"),100===this.$progress&&this._triggerEvent("progressCompleted"),this.$el.querySelector(".lobibox-progress-element").style.cssText+="width"+A.toFixed(1)+"%",this.$el.querySelector(".lobibox-progress-text").innerHTML=A.toFixed(1)+"%",this},getProgress:function(){return this.$progress}}),f.progress.DEFAULTS={width:500,showProgressLabel:!0,label:"",progressTpl:!1,progressUpdated:null,progressCompleted:null},o.prototype=kh.extend(!0,{},a,{constructor:o,_processInput:function(A){var e=a._processInput.call(this,A);return A.content&&"function"==typeof A.content&&(A.content=A.content()),A=kh.extend(!0,{},e,f.window.DEFAULTS,A)},_init:function(){var A=this;a._init.call(A),A.setContent(A.$options.content),A.$options.url&&A.$options.autoload?(A.$options.showAfterLoad||A.show(),A.load(function(){A.$options.showAfterLoad&&A.show()})):A.show()},_afterShow:function(){this._position(),a._afterShow.call(this)},_addCloseButton:function(){var A=this,e=document.createElement("span");e.className="btn-close",e.innerHTML="&times;",A.$el.querySelector(".lobibox-header").appendChild(e),e.addEventListener("mousedown",function(A){A.stopPropagation()}),e.addEventListener("click",function(){A.windowHide()})},_beforeWindowShow:function(){this._triggerEvent("beforeWindowShow")},_beforeWindowHide:function(){this._triggerEvent("beforeWindowHide")},_afterWindowShow:function(){this._triggerEvent("afterWindowShow")},_afterWindowHide:function(){this._triggerEvent("afterWindowHide")},windowHide:function(){return this._beforeWindowHide(),this.$el.classList.add("hide"),this._afterWindowHide(),this},windowShow:function(){return this._beforeWindowShow(),this.$el.classList.remove("hide"),this._afterWindowShow(),this.$el.style.zIndex=(new Date).getTime()-f.window.startTime,this},setParams:function(A){return this.$options.params=A,this},getParams:function(){return this.$options.params},setLoadMethod:function(A){return this.$options.loadMethod=A,this},getLoadMethod:function(){return this.$options.loadMethod},setContent:function(A){return this.$options.content=A,this.$el.querySelector(".lobibox-body").innerHTML="",jh.append(this.$el.querySelector(".lobibox-body"),A),this},getContent:function(){return this.$options.content},setUrl:function(A){return this.$options.url=A,this},getUrl:function(){return this.$options.url},load:function(e){var t=this;return t.$options.url&&$.ajax(t.$options.url,{method:t.$options.loadMethod,data:t.$options.params}).done(function(A){t.setContent(A),e&&"function"==typeof e&&e(A)}),t}}),f.window.DEFAULTS={width:480,height:600,content:"",url:"",draggable:!0,autoload:!0,loadMethod:"GET",showAfterLoad:!0,params:{}},f.window.startTime=(new Date).getTime();var r=function(A,e){this.$type=null,this.$options=null,this.$el=null;var t,d=this,s=function(A){for(var e=jh.closest(A,".lb-notify-tabs").childNodes,t=0;t<e.length;t+=1)"li"==e[t].nodeType&&e[t].classList.remove("active");A.classList.add("active");var i=A.querySelector("a").getAttribute("href"),n=jh.closest(i,".lb-notify-wrapper").querySelectorAll(".lb-tab-pane");for(t=0;t<n.length;t+=1)n[t].classList.remove("active");i.addClass("active")},r=function(A){var e=document.createElement("li");e.className=f.notify.OPTIONS[d.$type].class;var t=document.createElement("a");t.setAttribute("href","#"+A),e.appendChild(t);var i=document.createElement("i");return i.className="tab-control-icon"+d.$options.icon,t.appendChild(i),e},a=function(){var A=document.createElement("div");return A.className="lb-tab-pane",A.id=Math.randomString(10),A},h=function(A){if(d.$options.closable){var e=document.createElement("span");e.className="lobibox-close",e.innerHTML="&times;",A.appendChild(e),e.addEventListener("click",function(){d.remove()})}},u=function(A){d.$options.closeOnClick&&A.click(function(){d.remove()})},p=function(A){if(d.$options.delay){if(d.$options.delayIndicator){var i=document.createElement("div");i.className="lobibox-delay-indicator";var e=document.createElement("div");i.appendChild(e),A.appendChild(i)}var n=0,o=1e3/30,r=(new Date).getTime(),a=setInterval(function(){d.$options.continueDelayOnInactiveTab?n=(new Date).getTime()-r:n+=o;var A=100*n/d.$options.delay;if(A<100||(A=100,d.remove(),a=clearInterval(a)),d.$options.delayIndicator)for(var e=i.querySelectorAll("div"),t=0;t<e.length;t+=1)e[t].style.cssText+="width:"+A+"%"},o);d.$options.pauseDelayOnHover&&(A.addEventListener("mouseenter.lobibox",function(){o=0}),A.addEventListener("mouseleave.lobibox",function(){o=1e3/30}))}},g=function(A){return A=Math.min(window.outerWidth,A)};this.remove=function(){d.$el.classList.remove(d.$options.showClass),d.$el.classList.add(d.$options.hideClass);var r=d.$el.parentNode,A=jh.closest(r,".lobibox-notify-wrapper-large")||jh.closest(r,".lobibox-notify-wrapper");if(r){for(var e="#"+r.getAttribute("id"),a=A.querySelectorAll(".lb-notify-tabs li"),t=0;t<a.length;t+=1)a[t].querySelector("a").getAttribute("href")!==e&&a.splice(1,t);if(0<a.length)for(t=0;t<a.length;t+=1)a[t].classList.remove(f.notify.OPTIONS.class),a[t].classList.add(d.$options.hideClass);return setTimeout(function(){if("normal"===d.$options.size||"mini"===d.$options.size)d.$el.parentElement.removeChild(d.$el);else if("large"===d.$options.size){var A=(0===(t=(e=a).prev()).length&&(t=e.next()),0===t.length?null:t);A&&s(A),a.parentElement.removeChild(a),r.parentElement.removeChild(r)}var e,t,i=f.notify.list,n=i.indexOf(d);i.splice(n,1);var o=i[n];o&&o.$options.showAfterPrevious&&o._init()},500),d}},d._init=function(){var A=function(){var A,e,t,i,n,o=f.notify.OPTIONS,r=document.createElement("div");if(r.classList.add("lobibox-notify"),r.classList.add(o[d.$type].class),r.classList.add(o.class),r.classList.add(d.$options.showClass),(t=document.createElement("div")).className="lobibox-notify-icon-wrapper",r.appendChild(t),(A=document.createElement("div")).className="lobibox-notify-icon",t.appendChild(A),e=document.createElement("div"),A.appendChild(e),d.$options.img){var a=document.createElement("img");a.src=d.$options.img,e.appendChild(a)}else if(d.$options.icon){var s=document.createElement("div");s.className="icon-el";var l=document.createElement("i");l.className=d.$options.icon,s.appendChild(l),e.appendChild(s)}else r.classList.add("without-icon");if((n=document.createElement("div")).className="lobibox-notify-msg",n.innerHTML=d.$options.msg,!1!==d.$options.messageHeight&&(n.style.cssText+="max-height:"+d.$options.messageHeight+"px;"),(i=document.createElement("div")).className="lobibox-notify-body",i.appendChild(n),r.appendChild(i),d.$options.title){var c=document.createElement("div");c.className="lobibox-notify-title",c.innerHTML=d.$options.title,i.insertBefore(c,n)}return h(r),"normal"!==d.$options.size&&"mini"!==d.$options.size||(u(r),p(r)),d.$options.width&&(r.style.cssText+="width:"+g(d.$options.width)+"px"),r}();if("mini"===d.$options.size&&A.classList.add("notify-mini"),"string"==typeof d.$options.position){var e=function(){var A,e=("large"===d.$options.size?".lobibox-notify-wrapper-large":".lobibox-notify-wrapper")+"."+d.$options.position.replace(/\s/gi,".");if(0!==(A=document.querySelectorAll(e)).length)return A[0];A=document.createElement("div");for(var t=e.split("."),i=1;i<t.length;i+=1)A.classList.add(t[i]);if(f.viewport.appendChild(A),"large"===d.$options.size){var n=document.createElement("ul");n.className="lb-notify-tabs";var o=document.createElement("div");o.className="lb-notify-wrapper",A.appendChild(n),A.appendChild(o)}return A}();!function(A,e){if("normal"===d.$options.size)e.classList.contains("bottom")?e.insertBefore(A,e.firstChild):e.appendChild(A);else if("mini"===d.$options.size)e.classList.contains("bottom")?e.insertBefore(A,e.firstChild):e.appendChild(A);else if("large"===d.$options.size){var t=a().appendChild(A),i=r(t.getAttribute("id"));e.querySelector(".lb-notify-wrapper").appendChild(t),e.querySelector(".lb-notify-tabs").appendChild(i),s(i);for(var n=i.querySelectorAll("a"),o=0;o<n.length;o+=1)n[o].click(function(){s(i)})}}(A,e),e.classList.contains("center")&&(e.style.cssText+="margin-left:"+-e.offsetWidth/2+"px")}else f.viewport.appendChild(A),A.style.cssText+="position:fixed;left:"+d.$options.position.left+"px;top:"+d.$options.position.top+"px;";(d.$el=A,d.$options.sound)&&new Audio(d.$options.sound).play();d.$options.rounded&&d.$el.classList.add("rounded"),d.$el.addEventListener("click",function(A){d.$options.onClickUrl&&(window.location.href=d.$options.onClickUrl),d.$options.onClick&&"function"==typeof d.$options.onClick&&d.$options.onClick.call(d,A)}),d.$el.dataset.lobibox=d},this.$type=A,this.$options=("mini"!==(t=e).size&&"large"!==t.size||(t=kh.extend(!0,{},f.notify.OPTIONS[t.size],t)),"mini"!==(t=kh.extend(!0,{},f.notify.OPTIONS[d.$type],f.notify.DEFAULTS,t)).size&&!0===t.title?t.title=f.notify.OPTIONS[d.$type].title:"mini"===t.size&&!0===t.title&&(t.title=!1),!0===t.icon&&(t.icon=f.notify.OPTIONS.icons[t.iconSource][d.$type]),!0===t.sound&&(t.sound=f.notify.OPTIONS[d.$type].sound),t.sound&&(t.sound=t.soundPath+t.sound+t.soundExt),t),d.$options.showAfterPrevious&&0!==f.notify.list.length||this._init()};f.notify=function(A,e){if(-1<["default","info","warning","error","success"].indexOf(A)){var t=new r(A,e);return f.notify.list.push(t),t}},f.notify.list=[],f.notify.closeAll=function(){var A=f.notify.list;for(var e in A){A[e].parentNode.removeChild(A[e])}},f.notify.DEFAULTS={title:!0,size:"normal",soundPath:"sounds/",soundExt:".ogg",showClass:"fadeInDown",hideClass:"zoomOut",icon:!0,msg:"",img:null,closable:!0,hideCloseButton:!1,delay:5e3,delayIndicator:!0,closeOnClick:!0,width:400,sound:!0,position:"bottom right",iconSource:"bootstrap",rounded:!1,messageHeight:60,pauseDelayOnHover:!0,onClickUrl:null,showAfterPrevious:!1,continueDelayOnInactiveTab:!0,onClick:null},f.notify.OPTIONS={class:"animated-fast",large:{width:500,messageHeight:96},mini:{class:"notify-mini",messageHeight:32},default:{class:"lobibox-notify-default",title:"Default",sound:!1},success:{class:"lobibox-notify-success",title:"Success",sound:"sound2"},error:{class:"lobibox-notify-error",title:"Error",sound:"sound4"},warning:{class:"lobibox-notify-warning",title:"Warning",sound:"sound5"},info:{class:"lobibox-notify-info",title:"Information",sound:"sound6"},icons:{bootstrap:{success:"glyphicon glyphicon-ok-sign",error:"glyphicon glyphicon-remove-sign",warning:"glyphicon glyphicon-exclamation-sign",info:"glyphicon glyphicon-info-sign"},fontAwesome:{success:"fa fa-check-circle",error:"fa fa-times-circle",warning:"fa fa-exclamation-circle",info:"fa fa-info-circle"}}}},iu=new tu,nu=(Zh=Jh="",$h=!(Yh="Success"),Au=0,eu=null,function(A,e,t){return 5===A?document.querySelector(".loading").classList.add("hide"):Yh=A,"error"===A&&($h=!1),void 0!==e&&(Jh=e,void 0!==t&&($h=t)),(new Date).getTime()-Au<5e3?Jh!==Zh&&(eu=iu.notify(Yh,{size:"mini",rounded:!0,position:"center top",sound:!1,delay:$h,msg:Jh}),Au=(new Date).getTime(),eu.$el.childNodes[1].childNodes[0].title=Jh):(eu=iu.notify(Yh,{size:"mini",rounded:!0,position:"center top",sound:!1,delay:$h,msg:Jh}),Au=(new Date).getTime(),eu.$el.childNodes[1].childNodes[0].title=Jh),Zh=Jh,eu}),ou=function(){};ou.prototype={constructor:ou,apply:function(A){A.addEventListener=ou.prototype.addEventListener,A.hasEventListener=ou.prototype.hasEventListener,A.removeEventListener=ou.prototype.removeEventListener,A.fireEvent=ou.prototype.dispatchEvent,A.dispatchEvent=ou.prototype.dispatchEvent},addEventListener:function(A,e){A&&(void 0===this._listeners&&(this._listeners={}),void 0===this._listeners[A]&&(this._listeners[A]=[]),this._listeners[A].push(e))},hasEventListener:function(A,e){if(!A)return!1;if(void 0===this._listeners)return!1;var t=this._listeners;return void 0!==t[A]&&-1!==t[A].indexOf(e)},removeEventListener:function(A,e){if(A&&(void 0===this._listeners&&(this._listeners={}),Array.isArray(this._listeners[A])))for(var t=this._listeners[A],i=0,n=t.length;i<n;i+=1)if(t[i]===e){t.splice(i,1);break}},removeAllEventListenerByType:function(A){A&&(void 0===this._listeners&&(this._listeners={}),Array.isArray(this._listeners[A])&&this._listeners[A]&&(this._listeners[A]=void 0))},removeAllEventListener:function(){for(var A in void 0===this._listeners&&(this._listeners={}),this._listeners)if(this._listeners.hasOwnProperty(A))for(var e=this._listeners[A],t=0,i=e.length;t<i;t+=1)e.splice(t,1);this._listeners={}},dispatchEvent:function(A){if(void 0===this._listeners&&(this._listeners={}),"string"==typeof A&&(A={type:A}),!A.target)try{A.target=this}catch(A){}if(null==A.type)throw Gh.trace("事件类型未知."),new Error("事件类型未知.");if(Array.isArray(this._listeners[A.type]))for(var e=this._listeners[A.type].slice(),t=0;t<e.length;t+=1)e[t].call(this,A)},fireEvent:function(A){this.dispatchEvent(A)}};var ru,au,su={IfcRoof:{color:[.837255,.203922,.270588,1]},IfcSlab:{color:[.637255,.603922,.670588,1]},IfcWall:{color:[.537255,.337255,.237255,1]},IfcWallStandardCase:{color:[.537255,.337255,.237255,1]},IfcDoor:{color:[.637255,.603922,.670588,1]},IfcWindow:{color:[.137255,.403922,.870588,.4]},IfcOpeningElement:{color:[.137255,.403922,.870588,0]},IfcRailing:{color:[.137255,.403922,.870588,1]},IfcColumn:{color:[.137255,.403922,.870588,1]},IfcBeam:{color:[.137255,.403922,.870588,1]},IfcFurnishingElement:{color:[.137255,.403922,.870588,1]},IfcCurtainWall:{color:[.137255,.403922,.870588,1]},IfcStair:{color:[.637255,.603922,.670588,1]},IfcStairFlight:{color:[.637255,.603922,.670588,1]},IfcBuildingElementProxy:{color:[.5,.5,.5,1]},IfcFlowSegment:{color:[.137255,.403922,.870588,1]},IfcFlowitting:{color:[.137255,.403922,.870588,1]},IfcFlowTerminal:{color:[.137255,.403922,.870588,1]},IfcProxy:{color:[.137255,.403922,.870588,1]},IfcSite:{color:[.137255,.403922,.870588,1]},IfcLightFixture:{color:[.8470588235,.8470588235,.870588,1]},IfcDuctSegment:{color:[.8470588235,.427450980392,0,1]},IfcDistributionFlowElement:{color:[.8470588235,.427450980392,0,1]},IfcDuctFitting:{color:[.8470588235,.427450980392,0,1]},IfcPlate:{color:[.137255,.403922,.870588,.5]},IfcAirTerminal:{color:[.8470588235,.427450980392,0,1]},IfcMember:{color:[.8470588235,.427450980392,0,1]},IfcCovering:{color:[.8470588235,.427450980392,0,1]},IfcTransportElement:{color:[.8470588235,.427450980392,0,1]},IfcFlowController:{color:[.8470588235,.427450980392,0,1]},IfcFlowFitting:{color:[.8470588235,.427450980392,0,1]},IfcRamp:{color:[.8470588235,.427450980392,0,1]},IfcFurniture:{color:[.8470588235,.427450980392,0,1]},IfcFooting:{color:[.8470588235,.427450980392,0,1]},IfcSystemFurnitureElement:{color:[.8470588235,.427450980392,0,1]},IfcSpace:{color:[.137255,.303922,.570588,.5]},DEFAULT:{color:[.8470588235,.427450980392,0,1]}},lu={EmptyGeometry:new Gi,UnitCylinderInstance:new hs(1,1,1,8,1,!1),UnitBoxInstance:new nn(1,1,1),UnitTextureCylinder:null,UnitTextureBox:null,initializeUnitInstances:function(){lu.UnitCylinderInstance.boundingBox||lu.UnitCylinderInstance.computeBoundingBox(),lu.UnitBoxInstance.boundingBox||lu.UnitBoxInstance.computeBoundingBox()},destroyUnitInstances:function(){lu.UnitCylinderInstance.dispose(),lu.UnitBoxInstance.dispose()},getWorldMatrixOfMesh:function(A){for(var e=[],t=A.parent;t;)e.push(t.matrix),t=t.parent;var i=new At;if(0<e.length){i=e[e.length-1];for(var n=e.length-2;0<=n;n-=1)i.multiply(e[n])}var o=new At;return o.multiplyMatrices(i,A.matrix),o},getWorldPositionOfMesh:function(A,e){e||(e=new At);var t=new At;t.getInverse(e);var i=A.clone();return i.applyMatrix4(t),i},getBoundingBoxWorldOfMesh:function(A,e){var t=A.boundingBox;t||(A.geometry.boundingBox||A.geometry.computeBoundingBox(),t=A.geometry.boundingBox);var i=t.clone();i.applyMatrix4(A.matrixWorld);var n=new At;return n.getInverse(e),i.applyMatrix4(n),i},getBoundingBoxByBuffer:function(A){for(var e=1/0,t=1/0,i=1/0,n=-1/0,o=-1/0,r=-1/0,a=new ni,s=0,l=A.length;s<l;s+=3){var c=A[s],d=A[s+1],h=A[s+2];c<e&&(e=c),d<t&&(t=d),h<i&&(i=h),n<c&&(n=c),o<d&&(o=d),r<h&&(r=h)}return a.min.set(e,t,i),a.max.set(n,o,r),a},mergeBufferGeometriesFromMeshs:function(A,e){for(var t=null!==A[0].geometry.index,i=new Set(Object.keys(A[0].geometry.attributes)),n=new Set(Object.keys(A[0].geometry.morphAttributes)),o={},r={},a=new Gi,s=0;s<A.length;s+=1){var l=A[s].geometry;if(t!==(null!==l.index))return null;for(var c in l.attributes){if(!i.has(c))return console.log("attributes not Used: ",c),null;void 0===o[c]&&(o[c]=[]),o[c].push(l.attributes[c])}for(var c in l.morphAttributes){if(!n.has(c))return null;void 0===r[c]&&(r[c]=[]),r[c].push(l.morphAttributes[c])}null!=l.userData&&(a.userData=a.userData||{},a.userData.mergedUserData=a.userData.mergedUserData||[],a.userData.mergedUserData.push(l.userData))}if(t){var d=0,h=[],u=0;for(s=0;s<A.length;s+=1){var p=A[s].geometry.index;if(0<d){p=p.clone();for(var g=0;g<p.count;g+=1)p.setX(g,p.getX(g)+d)}h.push(p),d+=A[s].geometry.attributes.position.count,void 0===e[A[s].name]&&(e[A[s].name]=[]),e[A[s].name].push({nodeId:A[s].nodeId,indexStart:u,indexCount:p.count}),u+=p.count}var f=this.mergeBufferAttributes(h);if(!f)return null;a.index=f}for(var c in o){var m=this.mergeBufferAttributes(o[c]);if(!m)return null;a.addAttribute(c,m)}for(var c in r){var v=r[c][0].length;if(0===v)break;a.morphAttributes=a.morphAttributes||{},a.morphAttributes[c]=[];for(s=0;s<v;s+=1){var y=[];for(g=0;g<r[c].length;g+=1)y.push(r[c][g][s]);var C=this.mergeBufferAttributes(y);if(!C)return null;a.morphAttributes[c].push(C)}}return a},mergeBufferGeometries:function(A,e){for(var t=null!==A[0].index,i=new Set(Object.keys(A[0].attributes)),n={},o=new Gi,r=0;r<A.length;r+=1){var a=A[r];if(t!==(null!==a.index))return null;for(var s in a.attributes){if(!i.has(s))return null;void 0===n[s]&&(n[s]=[]),n[s].push(a.attributes[s])}}if(t){var l=0,c=[];for(r=0;r<A.length;r+=1){var d=A[r].index;if(0<l){d=d.clone();for(var h=0;h<d.count;h+=1)d.setX(h,d.getX(h)+l)}c.push(d),l+=A[r].attributes.position.count}var u=this.mergeBufferAttributes(c);if(!u)return null;o.index=u}for(var s in n){var p=this.mergeBufferAttributes(n[s],e);if(!p)return null;o.addAttribute(s,p)}return o},mergeBufferAttributes:function(A,e){for(var t=null,i=null,n=null,o=0,r=0;r<A.length;r+=1){var a=A[r];if(a.isInterleavedBufferAttribute)return null;if(void 0===t&&(t=a.array.constructor),t!==a.array.constructor)return null;if(void 0===i&&(i=a.itemSize),i!==a.itemSize)return null;if(void 0===n&&(n=a.normalized),n!==a.normalized)return null;o+=a.array.length}for(var s=new t(o),l=0,c=!1,d=0;d<A.length;d+=1){if(e&&!e[d].equals(ih)&&("position"===A[d].name||"normal"===A[d].name)){if("position"===A[d].name&&e[d].applyToBufferAttribute(A[d]),"normal"===A[d].name)(new Ne).getNormalMatrix(e[d]).applyToBufferAttribute(A[d]);c=!0}if(s.set(A[d].array,l),l+=A[d].array.length,c){var h=(new At).getInverse(e[d]);if("position"===A[d].name&&h.applyToBufferAttribute(A[d]),"normal"===A[d].name)(new Ne).getNormalMatrix(h).applyToBufferAttribute(A[d]);c=!1}}return new Ci(s,i,n)},applyMatrix3ToBuffer:(au=new Ue,function(A,e,t,i){if(A.equals(nh))return e;for(var n=t||0,o=i||e.length;n<o;n+=3)au.x=e[n+0],au.y=e[n+1],au.z=e[n+2],au.applyMatrix3(A),e[n+0]=au.x,e[n+1]=au.y,e[n+2]=au.z;return e}),applyMatrix4ToBuffer:(ru=new Ue,function(A,e,t,i){if(A.equals(ih))return e;for(var n=t||0,o=i||e.length;n<o;n+=3)ru.x=e[n+0],ru.y=e[n+1],ru.z=e[n+2],ru.applyMatrix4(A),e[n+0]=ru.x,e[n+1]=ru.y,e[n+2]=ru.z;return e}),normalizeBuffer:function(A){for(var e=null,t=null,i=null,n=null,o=0,r=A.length;o<r;o+=3)e=A[o],t=A[o+1],i=A[o+2],n=1/Math.sqrt(e*e+t*t+i*i),A[o]=e*n,A[o+1]=t*n,A[o+2]=i*n},disposeBufferFromGeometry:function(A,e){for(var t=0,i=e.length;t<i;t+=1){var n=A.getAttribute(e[t]);n&&(n.array=null)}},disposeIndexBufferFromGeometry:function(A){A.index&&(A.index.array=null)}},cu=["uniform vec3 ambientLightColor;","vec3 getAmbientLightIrradiance( const in vec3 ambientLightColor ) {","    vec3 irradiance = ambientLightColor;","    #ifndef PHYSICALLY_CORRECT_LIGHTS","        irradiance *= PI;","    #endif","    return irradiance;","}","#if NUM_DIR_LIGHTS > 0","    struct DirectionalLight {","        vec3 direction;","        vec3 color;","        int shadow;","        float shadowBias;","        float shadowRadius;","        vec2 shadowMapSize;","    };","    uniform DirectionalLight directionalLights[ NUM_DIR_LIGHTS ];","    void getDirectionalDirectLightIrradiance( const in DirectionalLight directionalLight, const in GeometricContext geometry, out IncidentLight directLight ) {","        directLight.color = directionalLight.color;","        directLight.direction = directionalLight.direction;","        directLight.visible = true;","    }","#endif","#if NUM_POINT_LIGHTS > 0","    struct PointLight {","        vec3 position;","        vec3 color;","        float distance;","        float decay;","        int shadow;","        float shadowBias;","        float shadowRadius;","        vec2 shadowMapSize;","        float shadowCameraNear;","        float shadowCameraFar;","    };","    uniform PointLight pointLights[ NUM_POINT_LIGHTS ];","    void getPointDirectLightIrradiance( const in PointLight pointLight, const in GeometricContext geometry, out IncidentLight directLight ) {","        vec3 lVector = pointLight.position - geometry.position;","        directLight.direction = normalize( lVector );","        float lightDistance = length( lVector );","        directLight.color = pointLight.color;","        directLight.color *= punctualLightIntensityToIrradianceFactor( lightDistance, pointLight.distance, pointLight.decay );","        directLight.visible = ( directLight.color != vec3( 0.0 ) );","    }","#endif","#if NUM_SPOT_LIGHTS > 0","    struct SpotLight {","        vec3 position;","        vec3 direction;","        vec3 color;","        float distance;","        float decay;","        float coneCos;","        float penumbraCos;","        int shadow;","        float shadowBias;","        float shadowRadius;","        vec2 shadowMapSize;","    };","    uniform SpotLight spotLights[ NUM_SPOT_LIGHTS ];","    void getSpotDirectLightIrradiance( const in SpotLight spotLight, const in GeometricContext geometry, out IncidentLight directLight  ) {","        vec3 lVector = spotLight.position - geometry.position;","        directLight.direction = normalize( lVector );","        float lightDistance = length( lVector );","        float angleCos = dot( directLight.direction, spotLight.direction );","        if ( angleCos > spotLight.coneCos ) {","            float spotEffect = smoothstep( spotLight.coneCos, spotLight.penumbraCos, angleCos );","            directLight.color = spotLight.color;","            directLight.color *= spotEffect * punctualLightIntensityToIrradianceFactor( lightDistance, spotLight.distance, spotLight.decay );","            directLight.visible = true;","        } else {","            directLight.color = vec3( 0.0 );","            directLight.visible = false;","        }","    }","#endif","#if NUM_RECT_AREA_LIGHTS > 0","    struct RectAreaLight {","        vec3 color;","        vec3 position;","        vec3 halfWidth;","        vec3 halfHeight;","    };","    uniform sampler2D ltcMat;    uniform sampler2D ltcMag;","    uniform RectAreaLight rectAreaLights[ NUM_RECT_AREA_LIGHTS ];","#endif","#if NUM_HEMI_LIGHTS > 0","    struct HemisphereLight {","        vec3 direction;","        vec3 skyColor;","        vec3 groundColor;","    };","    uniform HemisphereLight hemisphereLights[ NUM_HEMI_LIGHTS ];","    vec3 getHemisphereLightIrradiance( const in HemisphereLight hemiLight, const in GeometricContext geometry ) {","        float dotNL = dot( geometry.normal, hemiLight.direction );","        float hemiDiffuseWeight = 0.5 * dotNL + 0.5;","        vec3 irradiance = mix( hemiLight.groundColor, hemiLight.skyColor, hemiDiffuseWeight );","        #ifndef PHYSICALLY_CORRECT_LIGHTS","            irradiance *= PI;","        #endif","        return irradiance;","    }","#endif","#if defined( USE_ENVMAP ) && defined( PHYSICAL )","    vec3 getLightProbeIndirectIrradiance( const in GeometricContext geometry, const in int maxMIPLevel ) {","        vec3 worldNormal = inverseTransformDirection( geometry.normal, viewMatrix );","        #ifdef ENVMAP_TYPE_CUBE","            vec3 queryVec = vec3( flipEnvMap * worldNormal.x, worldNormal.yz );","            #ifdef TEXTURE_LOD_EXT","                vec4 envMapColor = textureCubeLodEXT( envMap, queryVec, float( maxMIPLevel ) );","            #else","                vec4 envMapColor = textureCube( envMap, queryVec, float( maxMIPLevel ) );","            #endif","            envMapColor.rgb = envMapTexelToLinear( envMapColor ).rgb;","        #elif defined( ENVMAP_TYPE_CUBE_UV )","            vec3 queryVec = vec3( flipEnvMap * worldNormal.x, worldNormal.yz );","            vec4 envMapColor = textureCubeUV( queryVec, 1.0 );","        #else","            vec4 envMapColor = vec4( 0.0 );","        #endif","        return PI * envMapColor.rgb * envMapIntensity;","    }","    float getSpecularMIPLevel( const in float blinnShininessExponent, const in int maxMIPLevel ) {","        float maxMIPLevelScalar = float( maxMIPLevel );","        float desiredMIPLevel = maxMIPLevelScalar - 0.79248 - 0.5 * log2( pow2( blinnShininessExponent ) + 1.0 );","        return clamp( desiredMIPLevel, 0.0, maxMIPLevelScalar );","    }","    vec3 getLightProbeIndirectRadiance( const in GeometricContext geometry, const in float blinnShininessExponent, const in int maxMIPLevel ) {","        #ifdef ENVMAP_MODE_REFLECTION","            vec3 reflectVec = reflect( -geometry.viewDir, geometry.normal );","        #else","            vec3 reflectVec = refract( -geometry.viewDir, geometry.normal, refractionRatio );","        #endif","        reflectVec = inverseTransformDirection( reflectVec, viewMatrix );","        float specularMIPLevel = getSpecularMIPLevel( blinnShininessExponent, maxMIPLevel );","        #ifdef ENVMAP_TYPE_CUBE","            vec3 queryReflectVec = vec3( flipEnvMap * reflectVec.x, reflectVec.yz );","            #ifdef TEXTURE_LOD_EXT","                vec4 envMapColor = textureCubeLodEXT( envMap, queryReflectVec, specularMIPLevel );","            #else","                vec4 envMapColor = textureCube( envMap, queryReflectVec, specularMIPLevel );","            #endif","            envMapColor.rgb = envMapTexelToLinear( envMapColor ).rgb;","        #elif defined( ENVMAP_TYPE_CUBE_UV )","            vec3 queryReflectVec = vec3( flipEnvMap * reflectVec.x, reflectVec.yz );","            vec4 envMapColor = textureCubeUV(queryReflectVec, BlinnExponentToGGXRoughness(blinnShininessExponent));","        #elif defined( ENVMAP_TYPE_EQUIREC )","            vec2 sampleUV;","            sampleUV.y = saturate( reflectVec.y * 0.5 + 0.5 );","            sampleUV.x = atan( reflectVec.z, reflectVec.x ) * RECIPROCAL_PI2 + 0.5;","            #ifdef TEXTURE_LOD_EXT","                vec4 envMapColor = texture2DLodEXT( envMap, sampleUV, specularMIPLevel );","            #else","                vec4 envMapColor = texture2D( envMap, sampleUV, specularMIPLevel );","            #endif","            envMapColor.rgb = envMapTexelToLinear( envMapColor ).rgb;","        #elif defined( ENVMAP_TYPE_SPHERE )","            vec3 reflectView = normalize( ( viewMatrix * vec4( reflectVec, 0.0 ) ).xyz + vec3( 0.0,0.0,1.0 ) );","            #ifdef TEXTURE_LOD_EXT","                vec4 envMapColor = texture2DLodEXT( envMap, reflectView.xy * 0.5 + 0.5, specularMIPLevel );","            #else","                vec4 envMapColor = texture2D( envMap, reflectView.xy * 0.5 + 0.5, specularMIPLevel );","            #endif","            envMapColor.rgb = envMapTexelToLinear( envMapColor ).rgb;","        #endif","        return envMapColor.rgb * envMapIntensity;","    }","#endif"].join("\n"),du=["","GeometricContext geometry;","geometry.position = - vViewPosition;","geometry.normal = normal;","geometry.viewDir = normalize( vViewPosition );","IncidentLight directLight;","#if ( NUM_POINT_LIGHTS > 0 ) && defined( RE_Direct )","    PointLight pointLight;","    for ( int i = 0; i < NUM_POINT_LIGHTS; i ++ ) {","        pointLight = pointLights[ i ];","        getPointDirectLightIrradiance( pointLight, geometry, directLight );","        #ifdef USE_SHADOWMAP","        directLight.color *= all( bvec2( pointLight.shadow, directLight.visible ) ) ? getPointShadow( pointShadowMap[ i ], pointLight.shadowMapSize, pointLight.shadowBias, pointLight.shadowRadius, vPointShadowCoord[ i ] ,pointLight.shadowCameraNear, pointLight.shadowCameraFar) : 1.0;","        #endif","        RE_Direct( directLight, geometry, material, reflectedLight );","    }","#endif","#if ( NUM_SPOT_LIGHTS > 0 ) && defined( RE_Direct )","    SpotLight spotLight;","    for ( int i = 0; i < NUM_SPOT_LIGHTS; i ++ ) {","        spotLight = spotLights[ i ];","        getSpotDirectLightIrradiance( spotLight, geometry, directLight );","        #ifdef USE_SHADOWMAP","        directLight.color *= all( bvec2( spotLight.shadow, directLight.visible ) ) ? getShadow( spotShadowMap[ i ], spotLight.shadowMapSize, spotLight.shadowBias, spotLight.shadowRadius, vSpotShadowCoord[ i ] ) : 1.0;","        #endif","        RE_Direct( directLight, geometry, material, reflectedLight );","    }","#endif","#if ( NUM_DIR_LIGHTS > 0 ) && defined( RE_Direct )","    DirectionalLight directionalLight;","    for ( int i = 0; i < NUM_DIR_LIGHTS; i ++ ) {","        directionalLight = directionalLights[ i ];","        getDirectionalDirectLightIrradiance( directionalLight, geometry, directLight );","        #ifdef USE_SHADOWMAP","        directLight.color *= all( bvec2( directionalLight.shadow, directLight.visible ) ) ? getShadow( directionalShadowMap[ i ], directionalLight.shadowMapSize, directionalLight.shadowBias, directionalLight.shadowRadius, vDirectionalShadowCoord[ i ] ) : 1.0;","        #endif","        RE_Direct( directLight, geometry, material, reflectedLight );","    }","#endif","#if ( NUM_RECT_AREA_LIGHTS > 0 ) && defined( RE_Direct_RectArea )","    RectAreaLight rectAreaLight;","    for ( int i = 0; i < NUM_RECT_AREA_LIGHTS; i ++ ) {","        rectAreaLight = rectAreaLights[ i ];","        RE_Direct_RectArea( rectAreaLight, geometry, material, reflectedLight );","    }","#endif","#if defined( RE_IndirectDiffuse )","    vec3 irradiance = getAmbientLightIrradiance( ambientLightColor );","    #ifdef USE_LIGHTMAP","        vec3 lightMapIrradiance = texture2D( lightMap, vUv2 ).xyz * lightMapIntensity;","        #ifndef PHYSICALLY_CORRECT_LIGHTS","            lightMapIrradiance *= PI;","        #endif","        irradiance += lightMapIrradiance;","    #endif","    #if ( NUM_HEMI_LIGHTS > 0 )","        for ( int i = 0; i < NUM_HEMI_LIGHTS; i ++ ) {","            irradiance += getHemisphereLightIrradiance( hemisphereLights[ i ], geometry );","        }","    #endif","    #if defined( USE_ENVMAP ) && defined( PHYSICAL ) && defined( ENVMAP_TYPE_CUBE_UV )","        irradiance += getLightProbeIndirectIrradiance( geometry, 8 );","    #endif","    RE_IndirectDiffuse( irradiance, geometry, material, reflectedLight );","#endif","#if defined( USE_ENVMAP ) && defined( RE_IndirectSpecular )","    vec3 radiance = getLightProbeIndirectRadiance( geometry, Material_BlinnShininessExponent( material ), 8 );","    #ifndef STANDARD","        vec3 clearCoatRadiance = getLightProbeIndirectRadiance( geometry, Material_ClearCoat_BlinnShininessExponent( material ), 8 );","    #else","        vec3 clearCoatRadiance = vec3( 0.0 );","    #endif","    RE_IndirectSpecular( radiance, clearCoatRadiance, geometry, material, reflectedLight );","#endif",""].join("\n"),hu=["#ifdef DOUBLE_SIDED","    float flipNormal = ( float( gl_FrontFacing ) * 2.0 - 1.0 );","#else","    float flipNormal = 1.0;","#endif\n"].join("\n"),uu=["#ifdef FLAT_SHADED","    vec3 fdx = vec3( dFdx( vViewPosition.x ), dFdx( vViewPosition.y ), dFdx( vViewPosition.z ) );","    vec3 fdy = vec3( dFdy( vViewPosition.x ), dFdy( vViewPosition.y ), dFdy( vViewPosition.z ) );","    vec3 normal = normalize( cross( fdx, fdy ) );","#else","    vec3 normal = normalize( vNormal ) * flipNormal;","#endif","#ifdef USE_NORMALMAP","    normal = perturbNormal2Arb( -vViewPosition, normal );","#elif defined( USE_BUMPMAP )","    normal = perturbNormalArb( -vViewPosition, normal, dHdxy_fwd() );","#endif\n"].join("\n"),pu=["GeometricContext geometry;","geometry.position = - vViewPosition;","#if NUM_CLIPPING_PLANES == 1","    if (gl_FrontFacing) geometry.normal = normal;","    else if (fillFaceClipDistance < 0.0) geometry.normal = -clippingPlanes[0].xyz;","    else geometry.normal = -normal;","#else","    geometry.normal = normal;","#endif","geometry.viewDir = normalize( vViewPosition );","IncidentLight directLight;","#if ( NUM_POINT_LIGHTS > 0 ) && defined( RE_Direct )","    PointLight pointLight;","    for ( int i = 0; i < NUM_POINT_LIGHTS; i ++ ) {","        pointLight = pointLights[ i ];","        getPointDirectLightIrradiance( pointLight, geometry, directLight );","        #ifdef USE_SHADOWMAP","        directLight.color *= all( bvec2( pointLight.shadow, directLight.visible ) ) ? getPointShadow( pointShadowMap[ i ], pointLight.shadowMapSize, pointLight.shadowBias, pointLight.shadowRadius, vPointShadowCoord[ i ] ,pointLight.shadowCameraNear, pointLight.shadowCameraFar) : 1.0;","        #endif","        RE_Direct( directLight, geometry, material, reflectedLight );","    }","#endif","#if ( NUM_SPOT_LIGHTS > 0 ) && defined( RE_Direct )","    SpotLight spotLight;","    for ( int i = 0; i < NUM_SPOT_LIGHTS; i ++ ) {","        spotLight = spotLights[ i ];","        getSpotDirectLightIrradiance( spotLight, geometry, directLight );","        #ifdef USE_SHADOWMAP","        directLight.color *= all( bvec2( spotLight.shadow, directLight.visible ) ) ? getShadow( spotShadowMap[ i ], spotLight.shadowMapSize, spotLight.shadowBias, spotLight.shadowRadius, vSpotShadowCoord[ i ] ) : 1.0;","        #endif","    RE_Direct( directLight, geometry, material, reflectedLight );","    }","#endif","#if ( NUM_DIR_LIGHTS > 0 ) && defined( RE_Direct )","    DirectionalLight directionalLight;","    for ( int i = 0; i < NUM_DIR_LIGHTS; i ++ ) {","        directionalLight = directionalLights[ i ];","        getDirectionalDirectLightIrradiance( directionalLight, geometry, directLight );","        #ifdef USE_SHADOWMAP","        directLight.color *= all( bvec2( directionalLight.shadow, directLight.visible ) ) ? getShadow( directionalShadowMap[ i ], directionalLight.shadowMapSize, directionalLight.shadowBias, directionalLight.shadowRadius, vDirectionalShadowCoord[ i ] ) : 1.0;","        #endif","        RE_Direct( directLight, geometry, material, reflectedLight );","    }","#endif","#if ( NUM_RECT_AREA_LIGHTS > 0 ) && defined( RE_Direct_RectArea )","    RectAreaLight rectAreaLight;","    for ( int i = 0; i < NUM_RECT_AREA_LIGHTS; i ++ ) {","        rectAreaLight = rectAreaLights[ i ];","        RE_Direct_RectArea( rectAreaLight, geometry, material, reflectedLight );","    }","#endif","#if defined( RE_IndirectDiffuse )","    vec3 irradiance = getAmbientLightIrradiance( ambientLightColor );","    #ifdef USE_LIGHTMAP","        vec3 lightMapIrradiance = texture2D( lightMap, vUv2 ).xyz * lightMapIntensity;","        #ifndef PHYSICALLY_CORRECT_LIGHTS","            lightMapIrradiance *= PI; // factor of PI should not be present; included here to prevent breakage","        #endif","        irradiance += lightMapIrradiance;","    #endif","    #if ( NUM_HEMI_LIGHTS > 0 )","        for ( int i = 0; i < NUM_HEMI_LIGHTS; i ++ ) {","            irradiance += getHemisphereLightIrradiance( hemisphereLights[ i ], geometry );","        }","    #endif","    #if defined( USE_ENVMAP ) && defined( PHYSICAL ) && defined( ENVMAP_TYPE_CUBE_UV )","        irradiance += getLightProbeIndirectIrradiance( /*lightProbe,*/ geometry, 8 );","    #endif","    RE_IndirectDiffuse( irradiance, geometry, material, reflectedLight );","#endif","#if defined( USE_ENVMAP ) && defined( RE_IndirectSpecular )","    vec3 radiance = getLightProbeIndirectRadiance( /*specularLightProbe,*/ geometry, Material_BlinnShininessExponent( material ), 8 );","    #ifndef STANDARD","        vec3 clearCoatRadiance = getLightProbeIndirectRadiance( /*specularLightProbe,*/ geometry, Material_ClearCoat_BlinnShininessExponent( material ), 8 );","    #else","        vec3 clearCoatRadiance = vec3( 0.0 );","    #endif","    RE_IndirectSpecular( radiance, clearCoatRadiance, geometry, material, reflectedLight );","#endif"].join("\n"),gu=["#define PHONG","uniform vec3 diffuse;","uniform vec3 emissive;","uniform vec3 specular;","uniform float shininess;","uniform float opacity;","#include <common>","#include <packing>","#include <dithering_pars_fragment>","#include <color_pars_fragment>","#include <uv_pars_fragment>","#include <uv2_pars_fragment>","#include <map_pars_fragment>","#include <alphamap_pars_fragment>","#include <aomap_pars_fragment>","#include <lightmap_pars_fragment>","#include <emissivemap_pars_fragment>","#include <envmap_pars_fragment>","#include <gradientmap_pars_fragment>","#include <fog_pars_fragment>","#include <bsdfs>","#include <lights_pars>","#include <lights_phong_pars_fragment>","#include <shadowmap_pars_fragment>","#include <bumpmap_pars_fragment>","#include <normalmap_pars_fragment>","#include <specularmap_pars_fragment>","#include <logdepthbuf_pars_fragment>","#include <clipping_planes_pars_fragment>","void main() {","    #include <clipping_planes_fragment>","    vec4 diffuseColor = vec4( diffuse, opacity );","    ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );","    vec3 totalEmissiveRadiance = emissive;","    #include <logdepthbuf_fragment>","    #include <map_fragment>","    #include <color_fragment>","    #include <alphamap_fragment>","    #include <alphatest_fragment>","    #include <specularmap_fragment>","    #include <normal_flip>","    #include <normal_fragment>","    #include <emissivemap_fragment>","   float fillFaceClipDistance = 0.0;","   #if NUM_CLIPPING_PLANES == 1","       vec4 plane = clippingPlanes[ 0 ];","        fillFaceClipDistance = dot( vViewPosition, plane.xyz ) - plane.w;","   #endif","    #include <lights_phong_fragment>","    #include <lights_fillFace_template>","    #include <aomap_fragment>","    vec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + reflectedLight.directSpecular + reflectedLight.indirectSpecular + totalEmissiveRadiance;","    #include <envmap_fragment>","    gl_FragColor = vec4( outgoingLight, diffuseColor.a );","    #include <tonemapping_fragment>","    #include <encodings_fragment>","    #include <fog_fragment>","    #include <premultiplied_alpha_fragment>","    #include <dithering_fragment>","}"].join("\n"),fu=["#define PHONG","varying vec3 vViewPosition;","#ifndef FLAT_SHADED","varying vec3 vNormal;","#endif","#include <common>","#include <uv_pars_vertex>","#include <uv2_pars_vertex>","#include <displacementmap_pars_vertex>","#include <envmap_pars_vertex>","#include <color_pars_vertex>","#include <fog_pars_vertex>","#include <morphtarget_pars_vertex>","#include <skinning_pars_vertex>","#include <shadowmap_pars_vertex>","#include <logdepthbuf_pars_vertex>","#include <clipping_planes_pars_vertex>","void main() {","#include <uv_vertex>","#include <uv2_vertex>","#include <color_vertex>","#include <beginnormal_vertex>","#include <morphnormal_vertex>","#include <skinbase_vertex>","#include <skinnormal_vertex>","#include <defaultnormal_vertex>","#ifndef FLAT_SHADED","vNormal = normalize( transformedNormal );","#endif","#include <begin_vertex>","#include <displacementmap_vertex>","#include <morphtarget_vertex>","#include <skinning_vertex>","#include <project_vertex>","#include <logdepthbuf_vertex>","#include <clipping_planes_vertex>","vViewPosition = - mvPosition.xyz;","#include <worldpos_vertex>","#include <envmap_vertex>","#include <shadowmap_vertex>","#include <fog_vertex>","}"].join("\n"),mu=["#define PHYSICAL","varying vec3 vViewPosition;","#ifndef FLAT_SHADED","varying vec3 vNormal;","#endif","#include <common>","#include <uv_pars_vertex>","#include <uv2_pars_vertex>","#include <displacementmap_pars_vertex>","#include <color_pars_vertex>","#include <fog_pars_vertex>","#include <morphtarget_pars_vertex>","#include <skinning_pars_vertex>","#include <shadowmap_pars_vertex>","#include <specularmap_pars_fragment>","#include <logdepthbuf_pars_vertex>","#include <clipping_planes_pars_vertex>","void main() {","#include <uv_vertex>","#include <uv2_vertex>","#include <color_vertex>","#include <beginnormal_vertex>","#include <morphnormal_vertex>","#include <skinbase_vertex>","#include <skinnormal_vertex>","#include <defaultnormal_vertex>","#ifndef FLAT_SHADED","vNormal = normalize( transformedNormal );","#endif","#include <begin_vertex>","#include <displacementmap_vertex>","#include <morphtarget_vertex>","#include <skinning_vertex>","#include <project_vertex>","#include <logdepthbuf_vertex>","#include <clipping_planes_vertex>","vViewPosition = - mvPosition.xyz;","#include <worldpos_vertex>","#include <shadowmap_vertex>","#include <fog_vertex>","}"].join("\n"),vu=["#define PHYSICAL","uniform vec3 diffuse;","uniform vec3 emissive;","uniform float roughness;","uniform float metalness;","uniform float opacity;","#ifndef STANDARD","uniform float clearCoat;","uniform float clearCoatRoughness;","#endif","varying vec3 vViewPosition;","#ifndef FLAT_SHADED","varying vec3 vNormal;","#endif","#include <common>","#include <packing>","#include <dithering_pars_fragment>","#include <color_pars_fragment>","#include <uv_pars_fragment>","#include <uv2_pars_fragment>","#include <map_pars_fragment>","#include <alphamap_pars_fragment>","#include <aomap_pars_fragment>","#include <lightmap_pars_fragment>","#include <emissivemap_pars_fragment>","#include <envmap_pars_fragment>","#include <fog_pars_fragment>","#include <bsdfs>","#include <cube_uv_reflection_fragment>","#include <lights_pars>","#include <lights_physical_pars_fragment>","#include <shadowmap_pars_fragment>","#include <bumpmap_pars_fragment>","#include <normalmap_pars_fragment>","#include <roughnessmap_pars_fragment>","#include <metalnessmap_pars_fragment>","#include <logdepthbuf_pars_fragment>","#include <clipping_planes_pars_fragment>","void main() {","#include <clipping_planes_fragment>","vec4 diffuseColor = vec4( diffuse, opacity );","vec3 totalEmissiveRadiance = emissive;","#include <logdepthbuf_fragment>","#include <map_fragment>","#include <color_fragment>","#include <alphamap_fragment>","#include <alphatest_fragment>","#include <specularmap_fragment>","#include <roughnessmap_fragment>","#include <metalnessmap_fragment>","#include <normal_flip>","#include <normal_fragment>","#include <emissivemap_fragment>","const mat4 diffuseMatrix = mat4(-0.07425443828105927, -0.05652861297130585, 0.12247831374406815, 0.2297295778989792,","                               -0.05652860924601555, 0.034799136221408844, -0.08437120914459229, -0.13896968960762024,","                               0.12247832119464874, -0.08437121659517288, 0.021763987839221954, 0.12510454654693604,","                               0.2297295778989792, -0.13896968960762024, 0.12510454654693604, 0.6190560460090637);","const vec3 sunDir = vec3(-0.6632131338119507, 0.5486575961112976, -0.509041428565979);","vec3 viewDir = normalize( vViewPosition );","vec4 diffuseDir = diffuseMatrix * vec4(normal, 1.0);","float diffuseTerm = dot(vec4(normal, 1.0), diffuseDir);","float nv = max(dot(normal, -viewDir), 0.0);","float vl = max(dot(viewDir, sunDir), 0.0);","diffuseTerm = diffuseTerm + (nv * (1.0 - vl)) * 0.8;","vec3 H = -normalize(sunDir + viewDir);","float nh = max(dot(normal, H), 0.0);","float specularTerm = pow(nh, 100.0);","vec3 color = 1.05 * vec3(0.5, 0.497, 0.49) * (diffuse * diffuseTerm + vec3(specularTerm)) + diffuse * 0.5;","vec3 outgoingLight = color + totalEmissiveRadiance;","gl_FragColor = vec4( outgoingLight, diffuseColor.a );","#include <tonemapping_fragment>","#include <encodings_fragment>","#include <fog_fragment>","#include <premultiplied_alpha_fragment>","#include <dithering_fragment>","}"].join("\n"),yu=["#define PHYSICAL","mat3 transpose( const in mat3 v ) {\n    mat3 tmp;\n    tmp[0] = vec3(v[0].x, v[1].x, v[2].x);\n    tmp[1] = vec3(v[0].y, v[1].y, v[2].y);\n    tmp[2] = vec3(v[0].z, v[1].z, v[2].z);\n    return tmp;\n}\n","varying vec3 vViewPosition;","#ifndef FLAT_SHADED","varying vec3 vNormal;","#endif","#ifdef USE_INSTANCE","   attribute float vState;","   varying float fState;","   attribute vec4 aColor;","   varying vec4 vaColor;","   attribute vec3 mcol0;","   attribute vec3 mcol1;","   attribute vec3 mcol2;","   attribute vec3 mcol3;","   #if defined(USE_MAP) ","       attribute vec2 muvCol0;","       attribute vec2 muvCol1;","       attribute vec2 muvCol2;","   #endif","#endif","#include <common>","#include <uv_pars_vertex>","#include <uv2_pars_vertex>","#include <displacementmap_pars_vertex>","#include <color_pars_vertex>","#include <fog_pars_vertex>","#include <morphtarget_pars_vertex>","#include <skinning_pars_vertex>","#include <shadowmap_pars_vertex>","#include <specularmap_pars_fragment>","#include <logdepthbuf_pars_vertex>","#include <clipping_planes_pars_vertex>","mat3 inverse_mat3(in mat3 m)","{","   float determinant =","    m[0][0] * (m[1][1] * m[2][2] - m[2][1] * m[1][2])","    - m[1][0] * (m[0][1] * m[2][2] - m[2][1] * m[0][2])","    + m[2][0] * (m[0][1] * m[1][2] - m[1][1] * m[0][2]);","    mat3 inverse;","    inverse[0][0] = + (m[1][1] * m[2][2] - m[2][1] * m[1][2]);","    inverse[1][0] = - (m[1][0] * m[2][2] - m[2][0] * m[1][2]);","    inverse[2][0] = + (m[1][0] * m[2][1] - m[2][0] * m[1][1]);","    inverse[0][1] = - (m[0][1] * m[2][2] - m[2][1] * m[0][2]);","    inverse[1][1] = + (m[0][0] * m[2][2] - m[2][0] * m[0][2]);","    inverse[2][1] = - (m[0][0] * m[2][1] - m[2][0] * m[0][1]);","    inverse[0][2] = + (m[0][1] * m[1][2] - m[1][1] * m[0][2]);","    inverse[1][2] = - (m[0][0] * m[1][2] - m[1][0] * m[0][2]);","    inverse[2][2] = + (m[0][0] * m[1][1] - m[1][0] * m[0][1]);","    inverse /= determinant;","    return inverse;","}","void main() {","#include <uv_vertex>","#include <uv2_vertex>","#include <color_vertex>","#include <beginnormal_vertex>","#include <morphnormal_vertex>","#include <skinbase_vertex>","#include <skinnormal_vertex>","#include <defaultnormal_vertex>","vec3 transformed = vec3( position );","#ifdef USE_INSTANCE","vaColor = aColor;","fState = vState;","transformed = vec3(mat4(vec4(mcol0, 0.0),","                   vec4(mcol1, 0.0),","                   vec4(mcol2, 0.0),","                   vec4(mcol3, 1.0)) * vec4(transformed, 1.0));","#ifdef USE_INSTANCE_NORMAL","    mat3 normalMat = mat3(mcol0, mcol1, mcol2);","    normalMat = inverse_mat3(normalMat);","    normalMat = transpose(normalMat);","    transformedNormal = normalMat * objectNormal;","    transformedNormal = normalMatrix * transformedNormal;","#ifdef FLIP_SIDED","   transformedNormal = - transformedNormal;","#endif","    transformedNormal = normalize( transformedNormal );","#endif","#endif","#ifndef FLAT_SHADED","vNormal = normalize( transformedNormal );","#endif","#include <displacementmap_vertex>","#include <morphtarget_vertex>","#include <skinning_vertex>","#include <project_vertex>","#include <logdepthbuf_vertex>","#include <clipping_planes_vertex>","vViewPosition = - mvPosition.xyz;","#include <worldpos_vertex>","#include <shadowmap_vertex>","#include <fog_vertex>","}"].join("\n"),Cu=["#define PHYSICAL","uniform vec3 diffuse;","uniform vec3 emissive;","uniform float roughness;","uniform float metalness;","uniform float opacity;","#ifndef STANDARD","uniform float clearCoat;","uniform float clearCoatRoughness;","#endif","varying vec3 vViewPosition;","#ifndef FLAT_SHADED","varying vec3 vNormal;","#endif","#ifdef USE_INSTANCE","   varying vec4 vaColor;","   varying float fState;","#endif","uniform float shift;","uniform float A;","uniform float B;","uniform float C;","uniform float D;","uniform float E;","uniform float F;","uniform float scale;","uniform vec3 blinkColor;","uniform float blinkState;","vec3 toneMapCanonFilmic(vec3 color)","{","    color *= (1.0 / shift);","    return (((color * (A * color + C * B)) / (color * (A * color + B) + D * F))) * (1.0 / scale);","}","#include <common>","#include <packing>","#include <dithering_pars_fragment>","#include <color_pars_fragment>","#include <uv_pars_fragment>","#include <uv2_pars_fragment>","#include <map_pars_fragment>","#include <alphamap_pars_fragment>","#include <aomap_pars_fragment>","#include <lightmap_pars_fragment>","#include <emissivemap_pars_fragment>","#include <envmap_pars_fragment>","#include <fog_pars_fragment>","#include <bsdfs>","#include <cube_uv_reflection_fragment>","#include <lights_pars>","#include <lights_physical_pars_fragment>","#include <shadowmap_pars_fragment>","#include <bumpmap_pars_fragment>","#include <normalmap_pars_fragment>","#include <roughnessmap_pars_fragment>","#include <metalnessmap_pars_fragment>","#include <logdepthbuf_pars_fragment>","#include <clipping_planes_pars_fragment>","vec3 hdrDecode(in vec4 rgbm) {","const float rgbmScale = 2.82842712;","vec3 r = rgbm.rgb * (rgbmScale * (1.0 - rgbm.a));","return r * r;","}","vec3 linearToGammaUnreal(in vec3 rgb) {","    return rgb / (rgb + 0.187) * 1.035;","}","bool floatEqual(in float x, in float y) {","    return (x >= y - 0.01) && (x <= y + 0.01);","}","bool floatNotEqual(in float x, in float y) {","    return (x <= y - 0.01) || (x >= y + 0.01);","}","void main() {","#include <clipping_planes_fragment>","vec4 diffuseColor = vec4( diffuse, opacity );","#ifdef USE_INSTANCE","   if (floatEqual(fState, -1.0)) ","       discard;","   if (floatNotEqual(fState, 0.0)) ","       diffuseColor = vaColor;","#endif","diffuseColor.rgb = pow(diffuseColor.rgb, vec3(GAMMA_FACTOR));","   #ifdef USE_INSTANCE","       vec4 selectedColor  = diffuseColor ;","   #endif","ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );","vec3 totalEmissiveRadiance = emissive;","#include <logdepthbuf_fragment>","#ifdef USE_MAP","   vec4 texelColor = texture2D( map, vUv );","   texelColor = mapTexelToLinear( texelColor );","   diffuseColor = vec4(texelColor.rgb, opacity);","   #ifdef USE_INSTANCE","       if (fState >= 0.01 || fState <= -0.01) ","           diffuseColor.a = vaColor.a;","   #endif","#endif","#include <color_fragment>","#include <alphamap_fragment>","#include <alphatest_fragment>","#include <specularmap_fragment>","#include <roughnessmap_fragment>","#include <metalnessmap_fragment>","float flipNormal = 1.0;","#include <normal_fragment>","#include <emissivemap_fragment>","#include <lights_physical_fragment>"," GeometricContext geometry;","geometry.position = - vViewPosition;","geometry.normal = normal;","geometry.viewDir = normalize( vViewPosition );","IncidentLight directLight;","#if ( NUM_POINT_LIGHTS > 0 ) && defined( RE_Direct )","PointLight pointLight;","for ( int i = 0; i < NUM_POINT_LIGHTS; i ++ ) {"," pointLight = pointLights[ i ];","getPointDirectLightIrradiance( pointLight, geometry, directLight );","#ifdef USE_SHADOWMAP","        directLight.color *= all( bvec2( pointLight.shadow, directLight.visible ) ) ? getPointShadow( pointShadowMap[ i ], pointLight.shadowMapSize, pointLight.shadowBias, pointLight.shadowRadius, vPointShadowCoord[ i ] ,pointLight.shadowCameraNear, pointLight.shadowCameraFar) : 1.0;","        #endif","        RE_Direct( directLight, geometry, material, reflectedLight );","    }","#endif","#if ( NUM_SPOT_LIGHTS > 0 ) && defined( RE_Direct )","    SpotLight spotLight;","    for ( int i = 0; i < NUM_SPOT_LIGHTS; i ++ ) {","        spotLight = spotLights[ i ];","        getSpotDirectLightIrradiance( spotLight, geometry, directLight );","        #ifdef USE_SHADOWMAP","        directLight.color *= all( bvec2( spotLight.shadow, directLight.visible ) ) ? getShadow( spotShadowMap[ i ], spotLight.shadowMapSize, spotLight.shadowBias, spotLight.shadowRadius, vSpotShadowCoord[ i ] ) : 1.0;","        #endif","        RE_Direct( directLight, geometry, material, reflectedLight );","    }","#endif","#if ( NUM_DIR_LIGHTS > 0 ) && defined( RE_Direct )","    DirectionalLight directionalLight;","    for ( int i = 0; i < NUM_DIR_LIGHTS; i ++ ) {","        directionalLight = directionalLights[ i ];","        getDirectionalDirectLightIrradiance( directionalLight, geometry, directLight );","        #ifdef USE_SHADOWMAP","        directLight.color *= all( bvec2( directionalLight.shadow, directLight.visible ) ) ? getShadow( directionalShadowMap[ i ], directionalLight.shadowMapSize, directionalLight.shadowBias, directionalLight.shadowRadius, vDirectionalShadowCoord[ i ] ) : 1.0;","        #endif","       RE_Direct( directLight, geometry, material, reflectedLight );","    }","#endif","#if ( NUM_RECT_AREA_LIGHTS > 0 ) && defined( RE_Direct_RectArea )","   RectAreaLight rectAreaLight;","    for ( int i = 0; i < NUM_RECT_AREA_LIGHTS; i ++ ) {","        rectAreaLight = rectAreaLights[ i ];","        RE_Direct_RectArea( rectAreaLight, geometry, material, reflectedLight );","    }","#endif","#if defined( RE_IndirectDiffuse )","    vec3 irradiance = getAmbientLightIrradiance( ambientLightColor );","    #ifdef USE_LIGHTMAP","       vec3 lightMapIrradiance = hdrDecode(texture2D(lightMap, vUv2)) * lightMapIntensity ;","       #ifndef PHYSICALLY_CORRECT_LIGHTS","           lightMapIrradiance *= PI;","       #endif","       irradiance += lightMapIrradiance;","    #endif","    #if ( NUM_HEMI_LIGHTS > 0 )","       for ( int i = 0; i < NUM_HEMI_LIGHTS; i ++ ) {","           irradiance += getHemisphereLightIrradiance( hemisphereLights[ i ], geometry );","       }","    #endif","    #if defined( USE_ENVMAP ) && defined( PHYSICAL ) && defined( ENVMAP_TYPE_CUBE_UV )","       irradiance += getLightProbeIndirectIrradiance( geometry, 8 );","    #endif","    RE_IndirectDiffuse( irradiance, geometry, material, reflectedLight );","    #endif","    #if defined( USE_ENVMAP ) && defined( RE_IndirectSpecular )","    vec3 radiance = getLightProbeIndirectRadiance( geometry, Material_BlinnShininessExponent( material ), 8 );","    #ifndef STANDARD","    vec3 clearCoatRadiance = getLightProbeIndirectRadiance( geometry, Material_ClearCoat_BlinnShininessExponent( material ), 8 );","    #else","    vec3 clearCoatRadiance = vec3( 0.0 );","    #endif","    RE_IndirectSpecular( radiance, clearCoatRadiance, geometry, material, reflectedLight );","    #endif","#include <aomap_fragment>","vec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + reflectedLight.directSpecular + reflectedLight.indirectSpecular + totalEmissiveRadiance;","gl_FragColor = vec4( outgoingLight, diffuseColor.a );","#ifdef USE_INSTANCE","    #ifdef USE_MAP","         if (fState <= 3.01 && fState >= 2.99)","             gl_FragColor = vaColor;","    #endif","#endif","#if defined( TONE_MAPPING )","   #if defined(USE_LIGHTMAP)","       gl_FragColor.rgb = linearToGammaUnreal(gl_FragColor.rgb );","   #else","       gl_FragColor.rgb = toneMapCanonFilmic( gl_FragColor.rgb );","   #endif","#endif","#ifdef USE_INSTANCE","       if (fState <= 2.01 && fState >= 1.99)","           gl_FragColor = vec4(vaColor.rgb, 1.0);","       if (fState <= 5.01 && fState >= 4.99 && blinkState <= 1.01 && blinkState >= 0.99)","           gl_FragColor = vec4(blinkColor, 1.0);","#else","       if (blinkState <= 1.01 && blinkState >= 0.99)","           gl_FragColor = vec4(blinkColor, 1.0);","#endif","#include <encodings_fragment>","#include <fog_fragment>","#include <premultiplied_alpha_fragment>","#include <dithering_fragment>","}"].join("\n");Mn.lights_pars=cu,Mn.lights_template=du,Mn.normal_flip=hu,Mn.normal_fragment=uu,Mn.meshphong_id_vert=fu,Mn.lights_fillFace_template=pu,Mn.fillFaceFragment=gu,Mn.bos3dStandardVertex=yu,Mn.bos3dStandardFragment=Cu,Mn.newStyleVertex=mu,Mn.newStyleFragment=vu,_n.fillFacePhong={uniforms:an.merge([Bn.common,Bn.aomap,Bn.lightmap,Bn.emissivemap,Bn.bumpmap,Bn.normalmap,Bn.displacementmap,Bn.gradientmap,Bn.fog,Bn.lights,{emissive:{value:new hi(0)},specular:{value:new hi(1118481)},shininess:{value:30}}]),vertexShader:Mn.meshphong_id_vert,fragmentShader:Mn.fillFaceFragment},_n.newStyle={vertexShader:Mn.newStyleVertex,fragmentShader:Mn.newStyleFragment},_n.bos3dStandard={vertexShader:Mn.bos3dStandardVertex,fragmentShader:Mn.bos3dStandardFragment};var Iu=function(A){Cs.call(this),this.type="bos3dStandard",this.roughness=1,this.metalness=0,this.originRoughness=1,this.originMetalness=0,this.pureColor=0,this.textureColor=0,this.shift=.5,this.A=.64,this.B=.03,this.C=.02,this.D=.54,this.E=0,this.F=.81,this.scale=.92,this.shininess=30,this.specular=null;var e=(new hi).setHex(3330982),t=[e.r,e.g,e.b,1];this.blinkState=xh.NONE,this.blinkColor=(new Ue).fromArray(t),this.uniforms=an.merge([_n.standard.uniforms,{shift:{value:.5},A:{value:.64},B:{value:.03},C:{value:.02},D:{value:.54},E:{value:0},F:{value:.81},scale:{value:.92},blinkState:{value:0},blinkColor:{value:(new Ue).fromArray(t)}}]),this.vertexShader=Mn.bos3dStandardVertex,this.fragmentShader=Mn.bos3dStandardFragment,this.defaultAttributeValues={color:[1,1,1],uv:[0,0],uv2:[0,0]},void 0!==A&&(void 0!==A.attributes&&Gh.error("IBLMaterial: attributes should now be defined in THREE.BufferGeometry instead."),this.setValues(A))};((Iu.prototype=Object.create(Cs.prototype)).constructor=Iu).prototype.copy=function(A){return Cs.prototype.copy.call(this,A),this.shift=A.shift,this.A=A.A,this.B=A.B,this.C=A.C,this.D=A.D,this.E=A.E,this.F=A.F,this.scale=A.scale,this.blinkState=A.blinkState,this.blinkColor.copy(A.blinkColor),this},Iu.prototype.refreshUniforms=function(){this.uniforms.shift.value=this.shift,this.uniforms.A.value=this.A,this.uniforms.B.value=this.B,this.uniforms.C.value=this.C,this.uniforms.D.value=this.D,this.uniforms.E.value=this.E,this.uniforms.F.value=this.F,this.uniforms.scale.value=this.scale,this.uniforms.blinkColor.value.copy(this.blinkColor),this.uniforms.blinkState.value=this.blinkState},Iu.prototype.setBlinkColor=function(A){this.blinkColor.fromArray(A.toArray()),this.uniforms.blinkColor.value.copy(this.blinkColor),this.uniforms.blinkState.value=1},Iu.prototype.updateBlinkUniformValue=function(A,e){this.uniforms.blinkState.value=A,this.uniforms.blinkColor.value.copy(e)},Iu.prototype.resetBlinkUniformValue=function(){this.uniforms.blinkState.value=this.blinkState,this.uniforms.blinkColor.value.copy(this.blinkColor)};var xu={DefaultMaterial:new xs({color:255,side:gA}),createInstancePhongMaterial:function(A){return A.clone()},updateBasicMaterial:function(A,e){A.needsUpdate=!0},setMatrixUniform:function(A){},createPhongMaterial:function(A){var e=new xs(A);return e.type="FillFacePhong",e.uniforms=an.merge([_n.fillFacePhong.uniforms]),e.vertexShader=_n.fillFacePhong.vertexShader,e.fragmentShader=_n.fillFacePhong.fragmentShader,e.side=gA,e},createStandardMaterial:function(A){return new Iu(A)},createInstanceMaterial:function(A,e){var t=xu.createStandardMaterial(A);return t.defines.USE_INSTANCE="",e&&(t.defines.USE_INSTANCE_NORMAL=""),t.colorState=xh.BLINK,t.refreshUniforms(),t},createNewStyleMaterial:function(A){var e=new Cs(A);return e.type="NewStyle",e.uniforms=an.merge([_n.standard.uniforms]),e.vertexShader=_n.newStyle.vertexShader,e.fragmentShader=_n.newStyle.fragmentShader,e.metalness=0,e},createHighlightMaterial:function(){return this.createStandardMaterial(Ah.SelectionColor)},getBlinkMaterial:function(A,e){var t=xu.getMaterialParameters(A),i=xu.createStandardMaterial(t);return i.blinkColor.copy(e),i.colorState=xh.BLINK,i.refreshUniforms(),i},getMaterialParameters:function(A){var e={};return A.hasOwnProperty("color")&&(e.color=A.color),e.opacity=1,e.transparent=!1,A.hasOwnProperty("opacity")&&(e.opacity=A.opacity,A.opacity<1&&(e.transparent=!0)),A.hasOwnProperty("side")&&(e.side=A.side),A.hasOwnProperty("emissive")&&(e.emissive=A.emissive),A.hasOwnProperty("specular")&&(e.specular=A.specular),A.hasOwnProperty("shininess")&&(e.shininess=A.shininess),A.hasOwnProperty("map")&&(e.map=A.map),A.hasOwnProperty("bumpMap")&&(e.bumpMap=A.bumpMap),A.hasOwnProperty("alphaMap")&&(e.alphaMap=A.alphaMap),A.hasOwnProperty("emissiveMap")&&(e.emissiveMap=A.emissiveMap),A.hasOwnProperty("envMap")&&(e.envMap=A.envMap),A.hasOwnProperty("envMapIntensity")&&(e.envMapIntensity=A.envMapIntensity),A.hasOwnProperty("roughness")&&(e.roughness=A.roughness),A.hasOwnProperty("metalness")&&(e.metalness=A.metalness),A.hasOwnProperty("originRoughness")&&(e.originRoughness=A.originRoughness),A.hasOwnProperty("originMetalness")&&(e.originMetalness=A.originMetalness),A.hasOwnProperty("iblProbe")&&(e.iblProbe=A.iblProbe),A.hasOwnProperty("shift")&&(e.shift=A.shift),A.hasOwnProperty("wireframe")&&(e.wireframe=A.wireframe),A.hasOwnProperty("pureColor")&&(e.pureColor=A.pureColor),A.hasOwnProperty("textureColor")&&(e.textureColor=A.textureColor),e},nextHighestPowerOfTwo:function(A){A-=1;for(var e=1;e<32;e<<=1)A|=A>>e;return A+1},ensurePowerOfTwo:function(A){if(0===A.width||0===A.height)return A;if(Fe.isPowerOfTwo(A.width)&&Fe.isPowerOfTwo(A.height))return A;var e=document.createElement("canvas");return e.width=xu.nextHighestPowerOfTwo(A.width),e.height=xu.nextHighestPowerOfTwo(A.height),e.getContext("2d").drawImage(A,0,0,A.width,A.height,0,0,e.width,e.height),e},getRGBAFromColorArray:function(A){var e=A[0],t=A[1],i=A[2],n=A[3];return void 0!==n?"rgba("+e+","+t+","+i+","+n+")":"rgb("+e+","+t+","+i+")"},getRGBAFromArray:function(A){var e=255*A[0],t=255*A[1],i=255*A[2],n=255*A[3];return void 0!==n?"rgba("+e+","+t+","+i+","+n+")":"rgb("+e+","+t+","+i+")"},getArrayFromRGBA:function(A){var e=A.split(","),t=parseInt(e[0].split("(")[1],0)/255,i=parseInt(e[1],0)/255,n=parseInt(e[2].split(")")[0],0)/255;return void 0!==e[3]?[t,i,n,parseFloat(e[3].split(")")[0])]:[t,i,n]},getColorArrayFromRGBA:function(A){var e=A.split(","),t=parseInt(e[0].split("(")[1],0),i=parseInt(e[1],0),n=parseInt(e[2].split(")")[0],0);return void 0!==e[3]?[t,i,n,parseFloat(e[3].split(")")[0])]:[t,i,n]},getHexStringFromRGB:function(A){return"#"+("000000"+xu.getHex(xu.getArrayFromRGBA(A)).toString(16)).slice(-6)},getArrayFromColorArray:function(A){return[A[0]/255,A[1]/255,A[2]/255]},getHexStringFromColorArray:function(A){return"#"+("000000"+xu.getHex(xu.getArrayFromColorArray(A)).toString(16)).slice(-6)},getHexStringFromArray:function(A){return"#"+("000000"+xu.getHex(A).toString(16)).slice(-6)},getHex:function(A){return 255*A[0]<<16^255*A[1]<<8^255*A[2]<<0}},bu=function(){arguments.length<4?function(A,e){/^#[0-9a-fA-F]{6}$/.test(A)&&(this.red=parseInt(A.slice(1,3),16),this.green=parseInt(A.slice(3,5),16),this.blue=parseInt(A.slice(5),16)),this.alpha="number"==typeof e?(1<e&&(e=1),e<0&&(e=0),e):1}.apply(this,arguments):function(A,e,t,i){this.red=A,this.green=e,this.blue=t,this.alpha=i}.apply(this,arguments)};(bu.prototype={getRGB:function(){return"rgba("+this.red+","+this.green+","+this.blue+")"},getRGBA:function(){return"rgba("+this.red+","+this.green+","+this.blue+","+this.alpha+")"},getHEX:function(){return this.getHexStringFromArray([this.red,this.green,this.blue])},getAlpha:function(){return this.alpha}}).getHexStringFromArray=function(A){return"#"+("000000"+this.getHex(A).toString(16)).slice(-6)},bu.prototype.getHex=function(A){return 255*A[0]<<16^255*A[1]<<8^255*A[2]<<0};var Eu={pickByRect:function(A,i,e,t,n,s){var o=[],r=t.octantToObjectMap,a=A.getMatrixGlobal(),l=t.sceneState,c=new ni,d=new Ue,h=new Ue;function u(A,e){for(var t=0,i=A.planes,n=0;n<6;n+=1){var o=i[n];d.x=0<o.normal.x?e.min.x:e.max.x,h.x=0<o.normal.x?e.max.x:e.min.x,d.y=0<o.normal.y?e.min.y:e.max.y,h.y=0<o.normal.y?e.max.y:e.min.y,d.z=0<o.normal.z?e.min.z:e.max.z,h.z=0<o.normal.z?e.max.z:e.min.z;var r=o.distanceToPoint(d),a=o.distanceToPoint(h);if(r<0&&a<0)return!1;r*a<0||(t+=1)}return s?2<=t:6===t}function p(A){for(var e=new Ue,t=0;t<8;t+=1)if(e.x=t<4?A.min.x:A.max.x,e.y=t/2<2?A.min.y:A.max.y,e.z=t%2==0?A.min.z:A.max.z,!n.clipPoint(e))return!1;return!0}function g(A,e,t){A&&A.frustumIntersect(i,e,t)}var f=t.filter,m=f._hasVisibleFilter(),v=f._hasSelectableFilter();function y(A){return m&&!f._isVisible(A)||v&&!f._isSelectable(A)}if(e!==ah.Clear){var C=null,I=null;for(var x in r)if(r.hasOwnProperty(x)){var b=[],E=t.getModel(x);if(E.merged){I=r[x];var w=E&&E.kdTreeNode;if(Array.isArray(w))for(var M=0,B=w.length;M<B;M+=1)g(w[M],b,E.getModelMatrix());else g(w,b,E.getModelMatrix());for(var _=0,S=b.length;_<S;_+=1){var T=I.info[b[_]];if(T)for(var K=0,F=T.length;K<F;K+=1){var L=T[K];if(!y(L)){var O=L.materialId,U=L.uv?"1":"0";if(L.instanceOrNot){if(!(I.instance&&I.instance[L.geometryId]&&I.instance[L.geometryId][L.materialId]))continue;for(var N=I.instance[L.geometryId][L.materialId],R=0,P=N.length;R<P;R+=1){(X=N[R].geometry).boundingBox||X.computeBoundingBox(),c.copy(X.boundingBox),(z=new At).multiplyMatrices(a,L.matrix),c.applyMatrix4(z),u(i,c)&&!p(c)&&o.push(L.userId)}}else{if(!(I.mesh&&I.mesh[O]&&I.mesh[O][U]))continue;for(var D=I.mesh[O][U],Q=0,k=D.length;Q<k;Q+=1){var z=(C=D[Q]).matrixWorld,V=C._indicesGroup[L.userId];if(V)for(var H=0,G=V.length;H<G;H+=1){var j=V[H];j.nodeId===L.nodeId&&(c.copy(C.computeBoundingBox(j)),c.applyMatrix4(z),u(i,c)&&!p(c)&&o.push(L.userId))}}}}}}}else for(var x in I=r)if(r.hasOwnProperty(x)){var W=(I=r[x]).mesh;if(W)for(var x in W)if(W.hasOwnProperty(x)){var q=W[x];if(q){if(y(q))continue;var X,Y=q.material;z=q.matrixWorld;if(void 0===(X=q.geometry))continue;if(void 0===Y)continue;null===X.boundingBox&&X.computeBoundingBox(),c.copy(X.boundingBox),c.applyMatrix4(z),u(i,c)&&!p(c)&&o.push(q.key)}}}}0<o.length&&(ah.Remove===e?(l.removeSelection(o),t.dispatchEvent({type:lh.ON_RECTPICK_REMOVE,list:o})):ah.Add===e&&(l.addSelection(o),t.dispatchEvent({type:lh.ON_RECTPICK_ADD,list:o})))}else l.clearSelection()},getObjectsInBox:function(A,e,t,i,n){var o={},r=t.octantToObjectMap,a=A.getMatrixGlobal(),s=new ni;function l(A){for(var e=new Ue,t=0;t<8;t+=1)if(e.x=t<4?A.min.x:A.max.x,e.y=t/2<2?A.min.y:A.max.y,e.z=t%2==0?A.min.z:A.max.z,!i.clipPoint(e))return!1;return!0}function c(A){return n?!(A.min.x<e.min.x||e.max.x<A.max.x||A.min.y<e.min.y||e.max.y<A.max.y||A.min.z<e.min.z||e.max.z<A.max.z):!(A.max.x<e.min.x||e.max.x<A.min.x||A.max.y<e.min.y||e.max.y<A.min.y||A.max.z<e.min.z||e.max.z<A.min.z)}function d(A){return Boolean(!(A.max.x<e.max.x||e.min.x<A.min.x||A.max.y<e.max.y||e.min.y<A.min.y||A.max.z<e.max.z||e.min.z<A.min.z))}var h=t.filter,u=h._hasVisibleFilter(),p=h._hasSelectableFilter();function g(A){return u&&!h._isVisible(A)||p&&!h._isSelectable(A)}var f=null,m=null;for(var v in r){if(r.hasOwnProperty(v))if(t.getModel(v).merged){for(var y in(m=r[v]).info)if(m.info.hasOwnProperty(y)){var C=m.info[y];if(C)for(var I=0,x=C.length;I<x;I+=1){var b=C[I];if(!g(b)){var E=b.materialId,w=b.uv?"1":"0";if(b.instanceOrNot){if(!(m.instance&&m.instance[b.geometryId]&&m.instance[b.geometryId][b.materialId]))continue;for(var M=m.instance[b.geometryId][b.materialId],B=0,_=M.length;B<_;B+=1){(D=M[B].geometry).boundingBox||D.computeBoundingBox(),s.copy(D.boundingBox),(F=new At).multiplyMatrices(a,b.matrix),s.applyMatrix4(F),!c(s)||d(s)||l(s)||(o[b.userId]=!0)}}else{if(!(m.mesh&&m.mesh[E]&&m.mesh[E][w]))continue;for(var S=m.mesh[E][w],T=0,K=S.length;T<K;T+=1){var F=(f=S[T]).matrixWorld,L=f._indicesGroup[b.userId];if(L)for(var O=0,U=L.length;O<U;O+=1){var N=L[O];N.nodeId===b.nodeId&&(s.copy(f.computeBoundingBox(N)),s.applyMatrix4(F),!c(s)||d(s)||l(s)||(o[b.userId]=!0))}}}}}}}else for(var v in m=r)if(r.hasOwnProperty(v)){var R=(m=r[v]).mesh;if(R)for(var v in R)if(R.hasOwnProperty(v)){var P=R[v];if(P){if(g(P))continue;var D,Q=P.material;F=P.matrixWorld;if(void 0===(D=P.geometry))continue;if(void 0===Q)continue;null===D.boundingBox&&D.computeBoundingBox(),s.copy(D.boundingBox),s.applyMatrix4(F),!c(s)||d(s)||l(s)||(o[P.key]=!0)}}}}var k=[];for(var z in o)k.push(z);return k}},wu=function(A,e){this.defaultSetting={colorRects:!0,picker:!0,colorCode:!0,hasOpacity:!0},this.color={hex:void 0,rgb:void 0,rgba:void 0,hsl:void 0},this.colorInputDom=A,this.element=this.create(e)};wu.prototype={constructor:wu,create:function(A){var e=this.defaultSetting;A&&(e=kh.extend(!0,this.defaultSetting,A));var t=document.createElement("div");return t.style.cssText+="width:190px;position:absolute;",e.colorRects&&t.appendChild(this.createRects(!!e.hasOpacity)),e.picker&&t.appendChild(this.createPicker(!!e.hasOpacity)),e.colorCode&&t.appendChild(this.createColorCode()),t.appendChild(this.createBtn()),this.element=t},createBtn:function(){var A=this,e=document.createElement("div"),t=document.createElement("button");t.className="btn-yes",t.innerHTML="确定",t.style.cssText+="display:inline-block;margin:10px;color:#000;background-color: #FFFFFF;border: 2px solid #FFFFFF;border-radius: 4px; width: 73px;height: 32px;",t.addEventListener("click",function(){A.element.style.display="none"});var i=document.createElement("button");return i.className="btn-no",i.innerHTML="取消",i.style.cssText+="display:inline-block;margin:10px;color:#000;background-color: #FFFFFF;border: 2px solid #FFFFFF;border-radius: 4px; width: 73px;height: 32px;",i.addEventListener("click",function(){A.element.style.display="none"}),e.appendChild(t),e.appendChild(i),e},createRects:function(n){var o=this,A=document.createElement("div");A.className="rectFather",A.style.cssText+="width:180px;height:180px;margin-top:10px;margin-left:10px;display:flex;flex-wrap:wrap;align-items:flex-start;";for(var e=[],t=["00","55","AA","FF"],i=0,r=0,a=0,s="",l=0;l<64;)s="#"+t[i]+t[r]+t[a],e[l]=document.createElement("span"),e[l].className="spans"+l,e[l].style.cssText+="width:15px;height:15px;margin:1px 2px;border:1px solid #FFFFFF;background-color:"+s+";",e[l].setAttribute("color",s),A.appendChild(e[l]),(l+=1)%16==0?i+=1:l%4==0?3<(r+=1)&&(r=0):3<(a+=1)&&(a=0);var c=A.querySelectorAll("span");return jh.addEventListener(c,"click",function(A){for(var e=0;e<c.length;e+=1)c[e].style.cssText+="border:1px solid #FFFFFF;";var t=A.target;t.style.cssText+="border:2px solid #000000;";var i=t.getAttribute("color");n?o.setColor(i,1):o.setColor(i),A.stopPropagation?A.stopPropagation():A.cancelBubble=!0}),A},createPicker:function(t){var i=this,A=document.createElement("div");A.style.cssText+="width:180px;margin-left:10px;";var e=document.createElement("span");e.className="colorShow",e.style.cssText+="display:block;width:170px;height:30px;border-radius:5px;margin-top:10px;margin-bottom:10px;background-color:#FFFFFF;",A.appendChild(e);var n=document.createElement("span");n.innerHTML="红 : ",n.style.color="#FF0000";var o=document.createElement("input");o.type="range",o.className="redRange",o.style.cssText+="background:linear-gradient(#FFFFFF, #FFFFFF) no-repeat, #FF0000;",o.setAttribute("step","1"),o.setAttribute("min","0"),o.setAttribute("max","255"),o.setAttribute("value","255");var r=document.createElement("div");r.appendChild(n),r.appendChild(o),A.appendChild(r);var a=document.createElement("span");a.innerHTML="绿 : ",a.style.color="#00FF00";var s=document.createElement("input");s.type="range",s.className="greenRange",s.style.cssText+="background:linear-gradient(#FFFFFF, #FFFFFF) no-repeat, #00FF00;",s.setAttribute("step","1"),s.setAttribute("min","0"),s.setAttribute("max","255"),s.setAttribute("value","255");var l=document.createElement("div");l.appendChild(a),l.appendChild(s),A.appendChild(l);var c=document.createElement("span");c.innerHTML="蓝 : ",c.style.color="#0000FF";var d=document.createElement("input");d.type="range",d.className="blueRange",d.style.cssText+="background:linear-gradient(#FFFFFF, #FFFFFF) no-repeat, #0000FF;",d.setAttribute("step","1"),d.setAttribute("min","0"),d.setAttribute("max","255"),d.setAttribute("value","255");var h=document.createElement("div");h.appendChild(c),h.appendChild(d),A.appendChild(h);var u=A.querySelector(".redRange"),p=A.querySelector(".greenRange"),g=A.querySelector(".blueRange"),f=null;if(u.addEventListener("input",function(){var A="#"+((1<<24)+(Number(u.value)<<16)+(Number(p.value)<<8)+Number(g.value)).toString(16).slice(1);if(t){var e=Number(f.value);i.setColor(A,e)}else i.setColor(A)}),p.addEventListener("input",function(){var A="#"+((1<<24)+(Number(u.value)<<16)+(Number(p.value)<<8)+Number(g.value)).toString(16).slice(1);if(t){var e=Number(f.value);i.setColor(A,e)}else i.setColor(A)}),g.addEventListener("input",function(){var A="#"+((1<<24)+(Number(u.value)<<16)+(Number(p.value)<<8)+Number(g.value)).toString(16).slice(1);if(t){var e=Number(f.value);i.setColor(A,e)}else i.setColor(A)}),t){var m=document.createElement("span");m.innerHTML="透明度 : ",m.style.color="#FFFFFF";var v=document.createElement("input");v.type="range",v.className="opacityRange",v.style.cssText+="width:97px;background:linear-gradient(#FFFFFF, #FFFFFF) no-repeat, #FFFFFF;",v.setAttribute("step","0.01"),v.setAttribute("min","0"),v.setAttribute("max","1"),v.setAttribute("value","1");var y=document.createElement("div");y.appendChild(m),y.appendChild(v),A.appendChild(y),(f=A.querySelector(".opacityRange")).addEventListener("input",function(){var A="#"+((1<<24)+(Number(u.value)<<16)+(Number(p.value)<<8)+Number(g.value)).toString(16).slice(1),e=Number(f.value);i.setColor(A,e)})}return A},createColorCode:function(){var n=this,A=document.createElement("div");A.style.cssText+="width:180px;margin-left:10px;";var e=document.createElement("input");e.className="colorCode",e.type="text",e.style.cssText+="display:block;float:left;width:110px;margin:10px 10px 10px 0;padding-left:3px;",e.value="#ffffff",A.appendChild(e);var t=document.createElement("span");return t.className="colorCodeBtn",t.style.cssText+="display:block;float:left;width:38px;height:21px;border-radius:5px;margin-top:10px;background-color:#FFFFFF;font-size:13px;text-align:center;line-height:21px;cursor:default;",t.innerHTML="HEX",t.addEventListener("click",function(A){var e=A.target.textContent,t=n.element.querySelector(".colorCode").value;if(n.element.querySelector(".opacityRange"))var i=Number(n.element.querySelector(".opacityRange").value);"HEX"===e?A.target.innerHTML="RGB":"RGB"===e&&(A.target.innerHTML="HEX"),n.setColor(t,i)}),A.appendChild(t),A},colorRgbToHex:function(A){if(A){var e=(A=A.toLowerCase()).replace(/rgba?\(/,"").replace(/\)/,"").replace(/[\s+]/g,"").split(","),t=parseFloat(e[3]||1),i=Math.floor(t*parseInt(e[0],0)+255*(1-t)),n=Math.floor(t*parseInt(e[1],0)+255*(1-t)),o=Math.floor(t*parseInt(e[2],0)+255*(1-t));return"#"+("0"+i.toString(16)).slice(-2)+("0"+n.toString(16)).slice(-2)+("0"+o.toString(16)).slice(-2)}return A},colorHexToRgb:function(A,e){var t=A.toLowerCase();if(t&&/^#([0-9a-fA-f]{3}|[0-9a-fA-f]{6})$/.test(t)){if(4===t.length){for(var i="#",n=1;n<4;n+=1)i+=t.slice(n,n+1).concat(t.slice(n,n+1));t=i}for(var o=[],r=1;r<7;r+=2)o.push(parseInt("0x"+t.slice(r,r+2),0));if(isNaN(e))return"rgb("+o.join(",")+")";var a=Number(e);return a<0||1<a?t:"rgba("+o.join(",")+","+a+")"}return t},checkColor:function(A){var e={};if(A){var t=A.toLowerCase();t&&/^#([0-9a-fA-f]{3}|[0-9a-fA-f]{6})$/.test(t)?(e.color=!0,e.hex=!0,e.rgb=!1,e.hsl=!1,e.hexLength=4===t.length?3:6):e.hsl=t&&/^rgb/.test(t)?(e.color=!0,e.hex=!1,!(e.rgb=!0)):t&&/^hsl/.test(t)?(e.color=!0,e.hex=!1,!(e.rgb=!1)):(e.color=!1,e.hex=!1,e.rgb=!1)}else e.color=!1,e.hex=!1,e.rgb=!1,e.hsl=!1;return e},setColor:function(A,e){var t=this,i=t.defaultSetting;if(i.picker||i.colorCode){var n=t.checkColor(A);if(n.color){var o="",r="",a=A.toLowerCase();if(n.hex){if(3===n.hexLength){for(var s="#",l=1;l<4;l+=1)s+=a.slice(l,l+1).concat(a.slice(l,l+1));a=s}r=a,o=t.colorHexToRgb(A,e)}else n.rgb&&(r=t.colorRgbToHex(A),o=a);if(o){if(i.picker){jh.css(t.element.querySelector(".colorShow"),{"background-color":o});var c=t.getRgbNumber(r);3===c.length&&(t.element.querySelector(".redRange").value=c[0],t.element.querySelector(".greenRange").value=c[1],t.element.querySelector(".blueRange").value=c[2],e&&(t.element.querySelector(".opacityRange").value=e))}if(i.colorCode){var d=t.element.querySelector(".colorCode");d.value=r;var h=t.element.querySelector(".colorCodeBtn").textContent;"HEX"===h?d.value=r:"RGB"===h&&(d.value=o)}t.colorInputDom.value=o,jh.simulateEvent(t.colorInputDom,"change")}}}},getRgbNumber:function(A){var e=[],t=this.checkColor(A);if(t.color){var i=A.toLowerCase();if(t.hex){if(3===t.hexLength){for(var n="#",o=1;o<4;o+=1)n+=i.slice(o,o+1).concat(i.slice(o,o+1));i=n}for(var r=1;r<7;r+=2)e.push(parseInt("0x"+i.slice(r,r+2),0))}}return e}};var Mu={left:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAIAAAACACAMAAAD04JH5AAAABGdBTUEAALGPC/xhBQAAAAFzUkdCAK7OHOkAAAAJcEhZcwAAEnQAABJ0Ad5mH3gAAAA8UExURf/////UgCsAAABVqgArgAAAK4DU/wAAAKpVANT//1Wq////1IArAFUAAP//qqr//wAAVdSAK/+qVSuA1JRKhuAAAAEWSURBVHja7ZnbEoIgEEAtK4iu0P//a7dRcYVJZ1jL5pxHd8Y9yAK1VBUAAAAAAAAAAMBUgtnsxz4tzvlknrhcQFcimIbrRcZ8G0vYFcO2SWoRWa2zIYUJeLDd9QKHY5tfdxJ8Jk/3XJiVJhqpS34ZjQKI3j6RYakigAACsFxsfqLl5t+ci2UPpU8CtjuJEUDgzwXc8McRAgiwDBFAgH0AAVYBAgiwD8z75/SXBJrOzdcEQqY/YM08Am3rSgh4oy0Q9au7VpgfLs+y1wbxFxDJXiON7isabmoCIZEo0Ut0agL90b6bkXJeil+cxAL9ZE7UntLFRW8V2ESPLqhWgBDwiV6wqELFm7sRHe26AgAAAAAAAABYFne2vz8kSdzJgQAAAABJRU5ErkJggg==",right:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAIAAAACACAMAAAD04JH5AAAABGdBTUEAALGPC/xhBQAAAAFzUkdCAK7OHOkAAAA/UExURf///1Wq/6pVAAAAVf//qtSAKwBVqgAAACuA1FUAAKr//wAAK4DU/wArgNT///+qVf/UgIArACsAAP//1CtVqjYJRWAAAAEgSURBVHja7ZnpCsIwEAZrNaae8Xr/ZxWRpFGEJrDppzjzr1LouFfJtusAAAAAAAAAAAAAoIb9znsfdM8/HvwLm9XMAoOfIMyQgHLM4/OegNkFBq8VqEyAuUBtAlr1SIVH8ybdLsUCU6GZfUxFFggg0ERgqueatyECCCAgF2ASIvAVAiUHA/dFApfTvwqkI1RQCziRQJracoFeJJDOSOdrI4FP/2ydhX3dekMxJTC0WhlVCziRQJxE5kVQKpDawLoISgXGVUHQCKQL6xwUC6QiMH4fFQuMGz2nmIR5EdiWYbFAdqfTCIw5MA1BuUC2s+slAvmtQSKQcmDaiBUCsS1tJ1GNwDMEvWgUxx9Ur+MYAuH3vQe3UwcAAAAAAADwE9wBUPU3ZdIk2/EAAAAASUVORK5CYII=",back:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAIAAAACACAMAAAD04JH5AAAABGdBTUEAALGPC/xhBQAAAAFzUkdCAK7OHOkAAAA8UExURf//////1IArANT//ysAAKr//wAAVQAAAP/UgABVqgArgNSAK1UAAP//qoDU/wAAK6pVAF6q/yuA1P+qVQ6MhkQAAAEuSURBVHja7ZjJEoIwEAXjCogLwf//Vy1B4sFEQzF5pdV95UDXzCNMxjkAAAAAAAAAAAD4FzaH6k4revv5Ug2sVxqB3X4UOJ5EJWhGgW0tEuhHgeqqDkHnxCFQpbBECJ6vyGQ5IwQQQEAu8PVhKPshTSVSTSW+Eg8Fw1CmLEGvLsEUQ1kJGnUJprlIXwKjsyDk/COdWsBmPM4RMMlhjoBJE7IELJqQJ2DQhDwBgyZkCthfFN9fyPpy01DkRhiGN+ubYkQg/BWtL8uxO7EPMWglAi9NsI1BVODlczEdDeJriTAZmAYxsRfxRUqQWsz0JWKY3Aw1BVKYFBiDaHoWpXdjw9PWyQQen4LoHAgGC3agmbEX8Et2YI6A87VYQLgpRQAB2a4MAAAAAAAAAODnuAFrzi75vcAeswAAAABJRU5ErkJggg==",front:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAIAAAACACAMAAAD04JH5AAAABGdBTUEAALGPC/xhBQAAAAFzUkdCAK7OHOkAAAA/UExURQAAAP//qlUAAAAAVapVAABVqtSAK////wArgNT//6r//4ArAP//1P+qVSuA1FWq/4DU///UgCsAAKpVK1VVAIkZng4AAAE4SURBVHja7dbZEoIwDIXhqEBdwe39n9VlpOiIo6nFo+Pfe8k3zTGpBfExAAAAAAAAAAAAAAAAAAAAAAAAAABSf7gys1oJKOxyGg1gNL7Un8w1gFV7AaWoBbEDaw0gdmA60wCq9gJqzb9gucgUwVcA8bad50UbAAAAfgDwcA29PYXTAN2FNEECKHLt4URAbMDbezgN0DWgDgpA3IKZEugGxGdApgR6AV0AyqAAbLaW7R2SAnCMREdCLCGAGoCn/iCAwrQAV/0BAL76+QHO+rkBrvwNAOipXz4Z1VkBffPno4Dq6pm3VwCuN0AhbcFxA0kAbdXTRzWAqvumBnAOQXkzkD4LOIWgDkLAcRA1QQkIu3XQAu6XEgDJoxQAAABfBWAS/i9ggAMAAAAAAAAAAAAAAAAAAAAAAHAAYMKWUHJ5EqMAAAAASUVORK5CYII=",top:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAIAAAACABAMAAAAxEHz4AAAABGdBTUEAALGPC/xhBQAAAAFzUkdCAK7OHOkAAAAJcEhZcwAAEnQAABJ0Ad5mH3gAAAAYUExURf///wAAANSAKwAAVar///+qVSuA1ABVqmCk4p4AAABFSURBVGje7dOxDQAQFEBBkRjg72IgI9i/olSpJCLuBnjdSwkAgLfkmKqAgIDAqcCiC/wb8IKAgIDAzUCJjSbwSwAA4H0D+R0wJ+LbGcwAAAAASUVORK5CYII=",bottom:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAIAAAACACAMAAAD04JH5AAAABGdBTUEAALGPC/xhBQAAAAFzUkdCAK7OHOkAAAA5UExURf///6pVAAAAVar/////1FWq//+qVQAAAABVqoArADwAAP/UgNT/////qgArgIDU/wAAKyuA1NSAKz7z6MUAAADNSURBVHja7dZZEoIwEEVRWg2JOLP/xTqmtBF/LOs1hfdsgGsnJmkaAAAAAAAAAMDkpfyllgACCJhLwGelfmq9ijmiCCDgnwNOFhqwXORsgQH3o9HCAupnLSbgOv5aEBEwfjPpAkoODXgZ/+26VS9BGv5qcYAff68+B/z4u436JPTj73bqu8CP39SX0XD3y2/D8r782oDtfvzM0e2BZ4EFPUjqLmjDXkSHo19+/ZPsUvD490e9CZPxKiaAAAIIIIAAAgiYXgAAAAAAAPiJM0UCIODiZq/rAAAAAElFTkSuQmCC",add:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAcQAAAG/CAMAAADxZFcvAAAABGdBTUEAALGPC/xhBQAAAAFzUkdCAK7OHOkAAABRUExURf////3Xw/vKtf3i1oqPlGms5f/6+EdQWf/IlOPk5faQa0dTlMbIy4pQWcb8/2lweP//y//27P/o5PixlZmPo+Px/2msy4pweOPIlIqs5fSEXoY3FXkAAAXBSURBVHja7dxdcxM3GIDRaNUK2LZQSYW2+f8/tLuZaYbgOLEdb7yvOM+V4YIJOtGXveO7O0nhKr33SZu2jPBmfq2nXFpKKWvTlhG+Kzn1dHXAqbbUarEWvdOK11rOdboe5DIFF0B+N5BMy4SsV/iXas+pGdBbtexfPb/1l2Fq2Ry87XzMecpvmoXVJNzDdMwXz8ZlIUW4m1X1sr2xTw4zezrkXDAZ62wv3Fc1nzsZS7eS7m9NPWsylp6qMdvhZJzOmFrdUrrTnfHkyVVn03DH55vKcICNsTL8GRQZBlBsrhbhe+0DiZKNUXTFMhmhCL1066/d+ERXLLM7fpTDTbUhDrAtZovpqAtqubeYBur5Zy5qMjKRevbBm9m4BFtQDw83zakm/tnGRIw/FU3EgLtiNRHDV354AMPRdID1tLsjRrwrpids3qwJ2dwca8Y62piIUY82EMc62jibxkecPOEWtO+Op/dGI+olo7glDnA+LYevFHZT9KDiAIie+h5gOVX846lzzQCIHnMLfMf4/4UHvwcIIkRBFERBhCiIgiiIEAVREAURoiAKoiBCFERBFESIgiiIgghREAVRECEKoiAKIkRBFERBhCiIgiiIEAVREAVRECEKoiBqLMS29vvpfV6DCBHizRE/QTQTIUKEeNjHtQ+n9+saRIgQIUKECBEiRIgQIUKECBEiRIgQIUKECBEiRIgQIUKECBEiRIgQIUKECBEiRIgQIUKECBEiRIgQIUKECBEiRIgQIUKECBEiRIgQIUKECBEiRIgQIUKECBEiRIgQIUKECBEiRIgQIUKECBEiRIgQIUKECBEiRIgQIUKECBEiRIgQIUKECBEiRIgQIUKECBEiRIgQIUKECBEiRIgQIUKECBEiRIgQIUKECBEiRIgQ4yHWpb/Wftmmv9fOQPxtbaOf5eH/+XUJIkSIryJ+2Q7xG0QzESLEzfpz6Y+1D+P38AvyeQkiRIgQIUKECBEiRIgQIUKECBEiRIgQIUKECBEiRIgQIUKECBEiRIgQIUKECBEiRIgQIUKECBEiRIgQIUKECBEiRIgQIUKECBEiRIgQIUKECHEoxLW29mmb/lk7Y6C/rW30s3x9568EgwgRIkSIECHeAHHLdvVF7uXu3YcU4gBBhAgRIkSIECFChAgRIkSIECFChAgRIkSIECFChAgRIkSIECFChAgRIkSIECFChAgRIkSIECFChAgRIkSIECFChAgRIkSIECFChAgRIkSIECFChAgRIkSIECFChAgRIkSIECFChAgRIkSIECFChAgRIkSIECFChAgRIkSIECFChAgRIkSIECFChAgRIkSIECFChAgRIkSIECFChAgRIkSIECFChLgLxC+n9+8aRIgQIUKEOCDizx5EiIIoiIIIURAFURAhCqIgCiJEQRREQYQoiIIoiBAFURAFEaIgCqIgQhREQRREiIIoiIIIURAFURAhCqIgCqIgQhREQRREiIIoiIIIURAFURAhCqIgCiJEQRREHas92kEMW2I3EmI2GFGbHhGTwYhar4+vLKxhD6XV8RSibl79Tq4ZjujnmuW14Yh+rlnWU8MxAKJNMWTtiZubYviJaD0dAvHpnxSj/MMu+NGQRJ+ITy8cCnLTP1g/HW3CT8TlbwxKsMohYjIVgzU9cxj1QX/0HfFB1sDE3hGPTU/t9o545D7hbBPoVHNk9yuTBTXOqeboR8DJh8NBSi+8T+qJqRi1l64S2bYY+GT6uNTaFiNsiK/c6RPF/Ru+akRx94YnnFwoxjekOIIhxREM16uk0dplpZ/xWdPkwak9lttZLK36jHiH18Oz1S2pe1tKz39TtORuMu5qGtZL3tiuebYz7qTWL356pjYHnD1U+5seCy559tUatz6TzlN540eEJc2eDr/hcWaac7nC+Jfld8HzjDcSnK73dV/lLt33ZH98z31w6nPa4gvbFsk+JW3c1Pu9W7oUrv8AKiG7XScCG+oAAAAASUVORK5CYII=",plus:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAcQAAAG/BAMAAAA0lLouAAAABGdBTUEAALGPC/xhBQAAAAFzUkdCAK7OHOkAAAAwUExURf///0dQWYqPlP/6+P3Xw/3i1vvKtePk5faQa0ePy/7x6vm2nfelhopQWYqs5dGJeGZxbd4AAAQxSURBVHja7dhBS9t3GAfwPyQGSbzsuOtewMhhytCLoJVhLwF1K7qDYFdGt8NuuxaEHtZXsNsf1G1UD4O2MNoeCp07dLvsjew1TBPTqEmMgwn9f/t5DklIcvDj8/ye5/ekKERuLLy4V7F4sf1ffM2na+vLGxWL5c7s7cXrAv+YX92rYuXNb2x+ey3k0a3VdlWPV219/fnkbx2ul1XuIc3lZ5O+MnfQrnafrG1MMB4+rv4wuNp4tJkw8PavOI+tr9oJxNpWZ+xRPY4QnkC2xrXMhbIIieaY47iwmnP//Gl0qT5r5xBrI9P1S1kExfyIrlr7IWtVOhzO2KdlFrE5lMbmbtrGO5TGhTKNWL8sms374eLWpWaznUdsXZyNR0VgHF9I4m4i8cJiWOskEuvnVYdFEV6pmXV6oVKbi5nExqBSp4vQGFziDlKJg+n/IJXY6l/ipjqpxEaZfhSL2trZi/1Y4tt+8zqXuN/uPb/KJU73DmOzk0s86zczucL+fpFMLN70do5kYq+l3k8mLmVf305jL30snrTU7mB8kkyc6U6N7WRib9co8ws1OuqnxFY7njgdTWwW8cQCERERERERERERERERERERERERERERERERERERERERERERERERERERERERERERERERERERERERERERERERERERERERERERERERERERERERERERERERERERERERERERERERERERERERERERERERERHxfSf+/P2NxnfvAPGLfOLfH9xofPgjIiIiIiIiIiIiIiIiIiIiIiIiIiIiIiIiIiIiIuI7RPzoZuPjfxAR/w9iNQIRERERERERERERERERERERERERERERERERERERERERERERERERERERERERERERERERERERERERERERERERERERERERERERERERERERERERERERERERERERERERERERERERERERERERERERERERERERERERERERERERERERERERERERERERERERERERERERERERERERERERERERERERERHxfSc2u7poYj2/RnvETjKx1SUu5hNfRzfT8vRxN5k4k0/c6z5OJRN3uo+NZOKb3onMJ84EXwCmzmzBg7FV9p4fpM+Mfr1Gxlo/m+ndpn+Pi9wWn/dfxfabfrcpilepxIW3xOVU4v347X9wFItiO3kfvpzQqPj8HHEmUlhbOp/RyEodjIzTWE0k3i7HHcyYfrp0ca/6Nb1Oi+JeHvHupcqsxzWcxpBoJY34zVB7SUtj48nweyvpSUxL46gknkzKpLvb05GDvhH0M9VmOfr9x4sxZTpWspVSpn+OvY/O/h5yr9kb/9lBxHH8cumqTxOMRztXfz57XPkc7kxaDD95WOnVsfb12uS/v31nqbrCuYe1a/0j6o8q+jvH3G+L1y/Bz/66u1yxWHn5qBCx8S/INvmwxH9NtQAAAABJRU5ErkJggg==",E:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAcQAAAG/CAMAAADxZFcvAAAABGdBTUEAALGPC/xhBQAAAAFzUkdCAK7OHOkAAAA8UExURf///2lweP3j2P3XxEdwsf/59+P//0dQWYqPlMaPWfvKtfaQa0yPyIrG/fOtkvm6ofeefUdQeKjk//SEXsSGSdUAAAWOSURBVHja7dzLUtswGIBRV6ooOInkkvd/14bplAaSALnrN+dbsepCp7rZngyDpHCVVtuoq1breDW/1HIqKeecdNU2IzyUPLZ8acA6bvxSKdaiG6146WW4x3oxyDTll3/RyN5ecjPw9RIDX1rKAO/WZnFt6XzCZCTvvbKexVhaQdjDdDydsVSzsJ9VtZ20p7XRYaYnxhMmY5kcZ3rbG4+djKVZSfubjDUdRWgadjkZj5lazW7YqeKXJ1eZEEbfGMuCYden1MLwOygyjH+8cbUIUP4MkWF4xTIaoQh9tF6WanxiNCWHmvhH1GJDnO+2WJqxidP+h+FlbTGNdFvcj5iNTKTGfYqTcQm2oO6unL6nmcHZxkSMPxVNxIC74nvEhTEJeEAtjqbhe/dmsbojRpyKbz+58eQ7ZG+egzvWzOBo434R9WgDcV5XRWfT+OfT0dk0aFvH07XRiLop/kf03f4MzqcNYtib4iudDxVncDx11Z/HdV/Bj6eefs8A0Wduge8Y//7w4fcMgghREAVRECEKoiAKIkRBFERBhCiIgiiIEAVREAURoiAKoiBCFERBFESIgiiIgghREAVRECEKoiAKIkRBFERBFESIgnioWutjR61WK4gQIUKECPE+PT09/eqo5XIJESJEiBAhQoQIESJEiBAhQoQIESJEiBAhQoQIESJEiBAhQoQIESJEiBAhQoQIESJEiBAhQoQIESJEiBAhQoQIESJEiBAhQoQIESJEiB/2c9PDw8PwPYMIESJEiBAhQoQIESJEiBAhQoQIESJEiBAhQoQIESJEiBAhQoQIESJEiBAhQoQIESJEiBAhQoQIESJEiBAhQoQIESJEiBAhQoQIESJEiBAhQoQIESJEiBAhQoQIESJEiBAhQoQIESJEiBAhdor40o8Lt1wuH2L8x4B4GPERYnjERzPx9oiX7u82CxEiRIgQIUKECBEiRIgQIUKECBEiRIgQIUKECBEiRIgQIUKECBEiRIgQIUKECBEiRIgQIUKECBEiRIgQIUKECBEiRIgQIc4f0U+gQPQTKGYixLMR/SwYRIgQIUKECBEiRIgQIUKECBEiRIgQIUKECBEiRIgQIUKECBEiRIgQIUKECBEiRIgQIUKECBEiRIgQIUKECBEiRIgQIUKECBEiRIgQIUKECBEiRIgQIUKECBEiRIgQIUKECBEiRIgQIUKECLFDxN+bHq/a8/MzRIgQIUKEGADx+q1WK4gQIUKECBEiRIgQIUKECBEiRIgQIUKECBEiRIgQIUKECBEiRIgQIUKECBEiRIgQIUKECBEiRIgQIUKECBEiRIgQIUKECBEiRIgQIX4HREGEKIiCKIgQBVEQBRGiIAqiIAoiREEUREGEKIiCKIgQBVEQBRGiIAqiIEIUREEURIiCKIiCCFEQBVEQIQqiIAoiREEUREGEKIiCKIiCCFEQBVEQIQqiIAoiRHVSerWDGLbMbk6I2WBErUGcE2K1sEZtKrt/CaJuXNmSS4YjZuMW4mg4YrZ9mpkMxwwQbYohS2/c3BTDT0Tr6TwQrafhV9NhaIYk+kTcfganMDf9nceljjbh2p14jjbxJ+KQTcVgjXt2QC/6g03EvccYD1CD74iHpqe6vSMe4KqGJk6Hdr9mQY2zmB58BZy9HI4yDz94OOOLqSAb4kdXiWRbDHwyfT2h2hYjXPM/udNniv0bfmpEsXvDL7xxohjfkOIcDCnOwXCj6KbRZ6Ud8a5pdOvv8o6fjmJJxTvigFeLHUZLamdLaT3+Y7aSqsnY0zTM5ZQtrmSfFHezG06nfj1TSsLYxUo6nfVZ8IbRO8a7z8KxnDmXSl74+OaOk3CcUrnA+JchLXzPeB/BRbvcz32VIa8byNsC1kW+xg+25XWtY9aVG2tdu6VL4foDs7Tqd4OIIHAAAAAASUVORK5CYII=",Q:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAcQAAAG/CAMAAADxZFcvAAAABGdBTUEAALGPC/xhBQAAAAFzUkdCAK7OHOkAAACcUExURf////aRbP//5WlweP3Xw/3i1kdReEdQWf/6+PvKtajk/2lQWWms5f//y//ksfWPaqhwWYpQWcaPWUePy4rI/+P//0dwqMb////IlOOseEdQlOPk5f/08OPIsMbk9fm3nopwWf/m44qPlP/ky2mPyOPk/4rI5fzbzPeniP7v57fDxqiPeIOsy7Ssn2lwlMaPeIqPeGmPlGlwWcbI5XC3TxwAAAo6SURBVHja7d1rX9pIFMdxAwQSb9FqqbXBGC4mQcRL3/97W0o/ZRVFM7meM/z+z/bB7vYz3545M5NJODgghKhLGEWRT2rNaoRr88uinuvFvV7iklqzGuIDL+lFvaoBUz/MkjjzmIuaiZfFiZv5aa86wSROYvya711xkiRRWEkXdJOMAW0r2WpeTcoS+plLDbY7s7pu5JaqwixmFNtPXJwxTF0IpTAW7I2Rz2JG0KQaFyjGME1Chk7UWtU1LUYvYkUqb6VqVIxe1KMMJRajb7BIidhWCO2MuYsrdJhKBa9vwnyGTKWSNxt5FDEUv7wJMbRAMWNroT69rxBdxkiBYvz5RoQR0pDPdv1hyvjoSLpT0XPY42tZ3OxsiyENUU9bdHctXRkb7ROqFzCZappQP1yhZgkjoyn+R6XoMC7K9hnvz9YyVjX61zYUov5SjClEfV0xpBDVx9u6gBH2GBP182nKHlHjXrH3ho2Tb5V5cxuKjb4FSxsKUenSJgFRf9JXpcjaVP/61Od2lNK8Wp4GjIbWTYbHLtGC9emGLgJR/8qGi4oWrGxY11gwnRL9y1Naot4k/+y45qY3m5bIxW8LQiVaECoRRMJ0SkAkINITCYiE6ZSACCIBkYBIQASRsE8kVCIBEURCTyRUIqESqUQCIgGRgMjChlCJhEokVCKVSKhEQiUSKpFKJCASplMCItMpAZEwnRIQmU4JiAREQk9cJ47j0ejh4WE8fnp66m5luRyPx4vF79+/Z7MZlQgiiCCCuJ3JZLJye3kZmGW5XC4WlnEGIFKJIFKJxfTu7++Pjgbl0u/3F4vv379TiSBSiaYZjUa3t7eDSjOd3tzcUIkggtgy4rMFiFqm07XfoK5Mp1PN3RFECxAdEKnEBtLpdO7vB3Wn37+7u6MSQaQSQbQWcdULj0qfztjeG0G0ANEBEcR68/PnoOkMh/pOcEAEEUQWNp9uLM7OzgZtpN/vHx6CCCKI6/19S4L/HA81OYIIIogg7hZsk3DTGA9BBHGP94kgqq9ECYJ/c319/eMHlQgiiCBqRfz2bSAnw6GKi/4ggggiq9PtXF1dlRv1brf7/Pw83mT1z+XuBVxcXFCJIFKJIGpDPD0teCeq++eF0d2vcHc6nTKvU11eMp02gNgHUdCJab1XYiZ/XhQvsun/IXzTH4AIIogg/p+fptcT+8VegVlfKTdkPD4+BhHEPVnYgKi9Ek9OTs7Pz5u6qH1yYrjfkP6YH0QLEB0QqcRq8s3sAdRwOCy36De/iyX6DBVEEEEE8W8MD76rOUFZt2FLXpUC0QJEB0QQq+mI7Qym4V8eucc2IIJ40PS0Vu0xptGBrdxHUgGI+hGpRCqxfExuKQ6rvpFt+DfoUuidKRBBBBFEwzPMOgbRpCtKPUAFEUQQQTw1OTSp52VBkzsFUl8AB9ECRAdEEJvbX9T2dpLRsY3ITUYAIogg7v10mv+CVI3tyKgxi3yoGIAIIoh7jmiyuq/xsMTo2EjkmQ2IFiC2ubAxmcbqfQpkMq0LfLwfgAgiiHs+nebf6dc9dPkPHUS+qQiiBYgBiFRimeQ/s6z747Hr/T6VCCKVCKJWxPxvQ9V9TmJy/1Tg5VMQQQRxrxc2Rp/GrPsBkMkfRuCH3kC0ANEBkUpsBrHuNkQlgri3lZh/QdjMJ2RyL5UFvlUDIogggggiiCC2vDoF0YJKNHn60wRi7udiVCKIIILIdAoiiCCCSE8EkUoEEUSmUxCpRBCpxLzJfXbK9QwQQQRRVk80+vx2A5euQQQRRBBBLB+Te6e8UAMiiCAqRpT0Qg2IIFq12QfRAkSjt6LkvO7Nd2xABBFEaYgmhySCPkbEpzJBBBFEgYj5v+1WdyfK/yM1df91UtcTQbSgEs1+KErGN8D5SQUQ7ZtOQbQA0eQnFWq87Xli8ks5/H4iiCCCKBDR5Ie2arx8avJ7Cn15B6cg2oHogAhiU0v7Gh/v5/9DDP+c14AIom09EUQrKvHK5NCmnqdAZr8KLfFnoUEEEUR6ouFhST2DmL8ri7wjBSKILSxQ+1WPo9F0LvKhPogggghioXGsdr9t1pAHQpemrW8xQKQSQRSCaPRiTbWDaXJwe/3nqAFEEEEEUTDigdn908ouoea/uS/62BREEEEE8U1bPDNsi4PB3V2Dgtci30oUtNkHEUQQhSAaH9uss1gsihxIr7Y0j4+G/yvRDRFEOxADT8gfxOj24v8HqTc3Rv+X0Sj/jRr5j6BABBFEED+I0VcXX2e5XN58SdnpjEajl5cX4/+61HdoQAQRRBCrPEN9k+fn5/l8xfnrdebz+cPD7e1t4f+q9N0FiLYgOiCC2P4+o86I/PQQiCCCyMIm1+m08UOp2iL15W4QQQSRnpjT8UyCo/SH+YIrEUQ7ENenqGW259UQ3hg+42I6BZFKBNGT+Kdqe5Uq90MZIIIIIojKthp9TY4gWoDogEgl1huz917qcKQSQaQSQbSiEte/Mdri8Y2SxgiiBYgBiFRiM8c3xq+F7ldjDEDUj0glgthYJpPJ/X1bjpcifzURRBDbShzHj4+Pxu9rVzGninYMQAQRRKbTYhmNRi00yHJfIqMSQQQRRNk9cj5/enrqdrtfAHS74/F4Pp/PZoW/0rFmlOnogAhi24gjEJVPp+9Rf21lNpt9dPpzXthR5Mc0HBBBBBHEljIp4Sjw80QgWoAYgAiibseBHY4ggqg6p6dHhR9riWIEEUQQ2WK0z3hagvGYSgQRRBBBrKQxTqf0RBBBBBHEt43xqCjjFEQQWdiACGIlW42Li4u2PxXOdAoiiBIQmU43jt3CmU7b/cFaKtECRCrRglCJFoRKpBIJlUhAJCCCSFjYECqRUIkgEqZTAiJhOqUSCYgERAIiCxtCJRIQCYggEhY2hEokVCKVSKhEQiUSEEEk9ERCJRIQmU4JiAREQk8EkYBI6ImESqQSCZVIQCRMp4RKpBIJlUhAJEynVCIBkYBIQASRsDolVCIBkemUUIkERMJ0SiUSEAmIZFfijR2IapNgpz+9DWLCYGhNFG44GQz9iCkTq9o9fshuH0TSesJXcjHDoTP+K0Sf4dCZNHw1szIcFiDSFFUmfuPGdl/5LpH51IrZdPufiI64W10wYkgUFmK2hcjSRt9O/938ySG48mXNujQZFGXx3iMmlKKy+B8sRnt0RV0dMfpoR8EBqvKOuKs8idg9ov/xzMnaRtGqZlf3i5hQ9UymOx8B9zJGR0eSaHfv49xGR7LPthIJR6g6JtNPp0yftqhhm//Fnr6HonzDL41QFG8Yfb2hR1G6YZ7VJ4r6DVdrVBTVG7LTEBsvMnjW5HNxSmLizOhILQ55Rixwe2j6bzClSptK0wKHom5KMUoqwyQscrAdJilPNaR0w7TwZzLCGEYJydJSty5CN3UZxHbjOn5Y8hGhlwQ+TxnbW874TuJVMP7e6u8C9xlbEoyq+9yXd5AEUY8DgAYT+pGT1PHBtiRIU79Hao6fpgG7dELU5T/XFZ3CKgMgLgAAAABJRU5ErkJggg==",downArrow:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABgAAAAYCAYAAADgdz34AAAAAXNSR0IArs4c6QAAAh9JREFUSA21lb0uRUEUhffxEzo3cXkJDyAhUdCT0CkkCk+l0yv0KBQSUXsJf6EgRHHsb86ssc09VyjsZO6eWbPW2rPnnJzbtG07aV20nhofyhkuKeJxLoIw5YRP5d0Iqghbf5nDJb5pJhyQOVlDZAnIRB/+o14d1GJEimgAphOSNRdOJoqeAjVJhokZfuAp+jTsCS/ceEV9YhUja8ATPmLoe8ISTx2wiBuax5wE/IRQISBx47xRBxAVEPtCZjWXdY0VvR6yTJutCzvx3cHijO0cLtt9YX6dUFwVtIMrW7h9t2PnPp2s2WbWJB4dKHSSQdva6u2bne1f24I2PcdTFvNdzJ2LxjkDHxgzEj8WSBtzU7btkxvfXXp8tVNO52QFnBJ7lzb/grlz0dC1byZjz3DbJn8qABNARvj8YecSzk3b+tGKPSDwQYxwFmdtw6/0jj0f4lnsQEUMMwSciiIU806GWcydD+sDBHOnpSIUauiAIiwUpbp3MmI0M2lNuvN8LaG7ET1ALCDjWCydNhoioiu6G3Mt3/S9z6DzwKqL9BrmhwmCeT45rzGGHK7ODnUd/Or/wF/H4Uv3rhtvWn7oyST/1EUSXHcgQbyu387j1RQNDzhWZq61ikVh31x8abVOen0qWEQxJIUEwuAJ0xxur15f0z6xCihHg9p4rD5eUTSSQCcla8ATrkLjirfqAJHIcS5MBhjHUCEwceP8//8PPgE7CQFG2pHOlwAAAABJRU5ErkJggg==",upArrow:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABgAAAAYCAYAAADgdz34AAAAAXNSR0IArs4c6QAAAhVJREFUSA2VlTFuFEEQRXswFmQODL4EB0AixEdwTsapyMjhBnYGEgfwJYwdODPC0lCvd15tbc/IQEm9Xf37/1/VPbO70zzPR20Xc0xTDOcFzqniNZcg5tzx58tuBS3C1v/kcIkDzbMANGd2SFbATGzhT+o9wShGZFQDMDtkNhdnJlJPgZGkYWeWD3jGloY98eTWK9oSW4zZAU98ZRh7Yp3nCVjUDfM6dwEfJSwEJLfmkyeAaEDcCs1GLusRS70PWdOxiyR+/NFe3/xqXwDOXrSLT2/bz0irjq2VfoovGqdYbQSWHXfzh3YZwJvF5frsZTuPIreVx16ERbu+Ftht741Zz9U8lNcdjELkJ8ft/ed3vYimy/a+yNh9do35h+/t1c3SuYaYknOa+9/tigbg4hxxoAeggOEm6wkhBhhhyJVEt3d0TG4RGqCR0Bzo8WD4FvVFAASdn9bOx/vmAdci5SRdj4djPEG/87Hz5Y1BbEw84FpkOclpEGw2T0CSx+NV9Fq478W8cuAS8+okj+3rbmt9gjQI9f00tW90x52HgL0ayQ1wf5LQoA2MBuD0wWvKH45gpD1YE5r9Sw7XSH19yICOSv5bjsZGVnp/KqhcjSAa1QBMM2ZzcWYi9f6aCihgHqNi8uBs5cmtV6RhFdTuyW1EXG4aDgVnT4C55JqLaWABOISFyOXWPL/JVagZxBqajVzWI5a6P0EACOseq1UCAAAAAElFTkSuQmCC",mouseLeft:"data:image/jpeg;base64,/9j/4AAQSkZJRgABAQAAAQABAAD//gAPTGF2YzU3LjI0LjEwMv/bAEMACwcICggHCwoJCgwMCw0QGxIQDw8QIRgZFBsnIykpJyMmJSwxPzUsLjsvJSY2Sjc7QUNGR0YqNE1STERSP0VGQ//bAEMBDAwMEA4QIBISIEMtJi1DQ0NDQ0NDQ0NDQ0NDQ0NDQ0NDQ0NDQ0NDQ0NDQ0NDQ0NDQ0NDQ0NDQ0NDQ0NDQ0NDQ//AABEIAgACAAMBEgACEgEDEgH/xAAcAAEAAgMBAQEAAAAAAAAAAAAABgcEBQgDAgH/xABNEAABAwICBAgHDAcJAQEBAAAAAQIDBAUGEQcSITETQVFhcYGRsRQiMjNScqEVIyQ2QlNzdIKywcIlNUNikqLRFjRERVRjZNLwk4OU/8QAFQEBAQAAAAAAAAAAAAAAAAAAAAH/xAAUEQEAAAAAAAAAAAAAAAAAAAAA/9oADAMBAAIRAxEAPwC1gAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFMabbjNFimjjp5pYnRUiLrMerVzVzuNOZENRphmc/HdW35qONqdGqi/iUBgWrGmJoJ4oae8VTnPejU4ZyS71y3PzMHB8TZ8V2iN3kurIs+jXQAOmj9IAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAKB0xM1cc1LvTijX+VE/A3mne3uZcrdcWt8WWJ0Ll52rmmfU5ewqAguEZ202KbTNJ5LKyJV6NZMzVsc6NzXN2OauaLzoUB1garCt5Zf8P0dxjc3WljThET5L02OTtIA2oAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAACPY+sH9o8MVNJG3WqGZSweunF1pmnWSEAOUJGOjcrXNVHIuSouxUXkLX0sYCfJJLfrVHrZ7auFqbfpETv7eUqAjGjbGrsL1q09Vm621Dk4RN6xu3a6J0bFT+hDCgOraWphrKZlRTyMlhlTNj2KioqLxoqHPmCMc12FJ9Txqi3vX3ymVd3O1eJSKDog11jvdDf7e2st0ySxrv9Ji8aKnEv/txAGxAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAVlpC0Ysrte5WCNGVW+SlTJGy87eRebcvMu+zQA5RkjfBI6ORrmSMXJWORUVFTeipyl+49wDSYngdUU+pT3RqeJNuSXLify8me9OdNhUBSmG8Q12G7g2rt8mr6cbvIkbyKnGYdwoam2VktJWQuhqInZPY7iKA6NwniiixRbW1NG7KRuSTQuXxo3ci8qci/ic/4XxDV4bu8VfSO8nZJHxSMXei/wDt5FB02YlpuVPeLbBX0bteGdms3m5UXkVF2ZEAZYAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAACEaUsGtxDbPDaRn6SpGKrf91ibVavPxp2cZNwA5NJVpNsSWHFdTHG3Vp6j4RCnIjlXNO1HdWRQEo0IYhWOrnsczve5UWaDmeieMidKbfsqV9h24utN9oa5q6vATte71c9qdmaEUHUJ+EAfoAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAACodPcbUq7PJ8p0cqL0IrVTvU1emu5srMUx0cbs20UCNd67lzVOzVCgr89qOnfWVcFPF5yaRsbelVREADqGzu4S0UbnfKgYvaiGRDG2KBkbfJYiInUmRAH2AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAB5VE8VNA6aokZFGxM3veqNaic6ruAD1K7xFpetVDnDaIX18ybNd3iRdu9ewALEOc79j7EF8cvDVz4IfmabONnQuW1etVCgvm7YjtNm1vdG401O70HPTX6mptU5g8oig6Nw/juz4juz7dbnTPkZGsuu+PVY5EVEyTPbntz2ohTOjS4Lbsb2yTW8WWTgF59dFantVCKDosEAAAAAAAAAAAAAAAAAAAAAAAAGBiC7wWO01VxqPNwsVcvSduaic6rkhUumfFHuhckstK/4PRrnNl8qXk+ymzpVeQKCvq6rluFXPV1DtaaaR0j15VVc1MfygAm2iKyOumK4ql7c4KBOGcvFr7mJ057fslp6N8Nf2bw7FHM3VrKj32flRVTY3qTZ05hASkAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAKo0jaTXMdJbMOzeNumrGe1GL+bs5QAlGNtIFvwy11PHq1dw+YYuyPnevF0b+jec/vc6Ryuc7Ny7VVd658aqFBuMSYru2JJ9a41TnRoubIGeLGzoTl51Max2K4X+s8FttM6aTjXc1qcqruQANaXdhTRNb7dq1F6c2uqN/A7UiavR8rr7AgKksuHrrfZeDtlFNUcrmpkxOly7EOnIYooImwwxsijbsRjEREROZE3FQFQ2jQxVyarrpcYoeWOBivXozXJEXqUuEAIlZdG2HLS6OZtM+omYqK2SeRXKiouaKiJkm/mJaAA/HOa1us7xWgB+kdu2O8OWnWbUXOF8jfkQe+uz5PF3L05ABIiK4Rx3Q4suFVTUVPNFwLEkRZskVyZ5LkiZ5cXaAEqAAAAAAAAAAAAAAAAaDHWIW4Zw7U1rdXwh3vcDV45F3Lz5JmvUVZpnvzrhiJLdG74Pb25dMjkRVXqTJO0KCBySOmkdJI5XPeqqrl2qqrvVT9p4ZKieOGFqvkkcjWNTerlXJETrACcaIsL+7F790alnwOhVF8bc6Xe1Orf2cpb2E7HFh2xUtujy1mJnM5PlSLtVe38AgNuAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAV7pZxl7j0PuTQP+HVLPfHou2GNe5V3dG3kADR6Vce8O6Wx2ab3lPFqp2L5a8bEXk5V4927fVYUAnOjbAj8SVPhtc1zLXCu3iWdyfJReTlXqTbuAPDAWAarFUvhE+vTW1q7ZsvGkVN6M/rxc6l+U8EVNAyGGNsUbERGMYiIiInEiJuQIDFstmobHQtpLdTshhbyb3LyqvGvOZwAAAArvG+lGmtGvRWbUq6xNjpd8US/mX2c/EAE4ul1orRRuqbjVRU8LflPXfzInGvMc0Xe8116rPCblUvqJOLXXYiciJuROgKCzcQaZWNR0Vhotb/AH6nYnUxP69RUZFBtb1iS7X6TWuddNM30NbJidDU2IZuH8D32/6rqSicynd+3n8SPLlRV39WYAR0uK06GKSPVddbjLM7jZAxGJ2rnmnYEBDtEdf4Djalbrarapj4HdaZp7WtLks+DLDZXNkorZC2Zm1JHosj0VONFdnkvQVAb0AAAAAAAAAAAAAHlVTspaaWok8WOJjpH9CIqr7DS6QJ1gwXeHN/0rmfxJkveAHOtyrJLjcKism85USOkf0qqqpjFATnQ5aPdHFramRucdDGsvNrrsanTtVfskp0CwattutR6czI+xFX8wQFoAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA1mJL1T4es1TcajyYk8RnG9y7EROv+pU2mnEXuheWWiB3wei2yZbllVPwTZ0q4KCCXS4VF1r562rfrzTvV73c68ScxjxsdI5rWtVXKuSIm9V5AA32CMLz4pvMdK3NlPHk+ok9FnNzruTt4i7tH+GWYXw/FTua3wyX3ypf++qbkXkRNnavGEBvKGkht9JFTUkbYoYmIxjE3IiHuAA+XObG1znOa1qJmqrsRETjVQA/JpYqaB800jYo2Iqve9URERONVXchRuk3HTsQ1LrdbpFbbIl2qmzh3Jxr+6nEnX0FB76Q9JM15e+3WaR8Nv3PmTNHz8vQ3m3rx8hXYACxtHmjV95ay43lr4qHfHDufNzryN9q8ybQAjGFcI3TFE+rQw6sKL75UyZpG3mz415kOjaOkhoaZlPSQshhYmTGMRERE5kQICKYU0bWewas0kfh1Y39tMiarV/dbxdJMQAHy5zY2uc5zWtRM1VdiIicaqAH0V3inS1b7c59PZmJXVCbOF3QovMu93V2gBYbnNa3Wc7Va3jOZ8QYqvGIZda41b3x/JhTxY06Gp3hQXletIWHLPrNkr2VEjf2dN74vamxF6znQigt64aaqdv8AcLRK/kdPKjfYmfeVCRQT+q0wYhld7zHQwt4tWNXL2qpAAAllRpLxTOv6z1OZkEae3LMiYASN2P8AEzv85qfYn4EcADfOxxiR3+d1v/0VDQgBtqzE17rqd9PV3WsmhfsfG+ZVavSnGakAAADZW2/XW1RLHbrhU0sbl1lbDIrUVcss1ROPJDa23R/iO52+Cto6BstPM3WY7h2JmnQq5oAGO3HGJW/51W9ciqZrtGWLW/5Qv/8ARF/2ADHbj/FDf85qOvJfwPuTR3imPfaJep7F7lAD3p9J2KoP8y4RvI+Bi+3LM1c2EMQwecslw6qdzk7UACU0emS+xO+EU1DUN9RzXdqKQGop5qd+rNC+J3I9itXsUALet+mihfq+H2yoh54XpInTkuqU4RQdK2XGdhvmq2iuMPCO/YyLqP6ER2/qOaiKDrI51w1j694ec1kNStRTfMT5ublzLvTqIoOiiH4T0j2fETmQOctFXO/YzOTJy8jXcfQuXQQBMAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAa/EV1ZY7JWXGTyaeNXInK7ciduSEE053fgLNR2xjvGqpOEf6jNyL0qqL9kAKdqp5aqplnmdrySvV73crlXNV7TyKAn2hzDyXXES187c6e35PTkWVfJTq2r1IWTots7bTg2j1m5TVSeESfa3fy6oQErAACPY7xKzC9glq9i1T/e6dnK9U3qnIibfYAEI0w4y8rD9uf9ce3tRiL39nKVTNK+eV8sjnPkeque5dqqq7VVQoPMmWjTBzsT3ZJqlv6OpVRZv9x29GJ+PN0oAG80WaP/AA7UvV5h+Ct200D086vpKno8ice/dvuJrWxta1rWtaiZIibkRNyIhAH0AAGJdrlS2i3y1tbJwVPCmbl7kRONc9mQAfF4u9FZbfLW18yRQs4+NV5ETjXmOfsa4tq8V3N00utHSszSCDPYxOVeV3Kv4BQZuN8fV+KJnQx61LbWr4sDV2v53rxrzbu8h4AAAAm2FdGV4vzWz1H6Po13PmYuu5OVGcnOuXWAEJOg7Hoyw7aWtdJS+HTenVZOTqbuy/8AZhAUJSUNVXP1aOlnqHejFGr17EOpoYIqaJscMbIo27mMRGp1IhUBztR6P8UVie92aob9MrYvvKh0aVAUJDomxNJ5UNNF686fhmX2VAUY3Q9iJ37a3p/+zv8AqXmVAUg3Q1iD/V2z/wCj/wDoXeVAcnyR6krmeiqp2H3Wf3uf6R3epQHkAA6Q0c/Ei0/Qfio0c/Ei0/QfipAEiAAAAAAB8TRRTt1Zo2PbyKiKnYp9gBGrto/w3c9Z0lsihkX5dNnEvY3YpJQAqC/6Gp4s5LHWtmb8xU5Nf0I5Nir05FvgBy1dbTXWeqdTXGlkp5m8T03pyovGnOh0veLPQ3qjdTXGmZUQ8j02ovKipuXnKgOWye490cVOHtettmvU27e7jfD08qc5QGfgDSfLQujt1/e6al3MqlzV8XrcrfanOVmRQdXxyMliSSNzXxvRFR7VzRUXjRU3oUlowx66xzttl1kVbbKviPX/AA7l/KvGnFv5SKC8D8a7W8ZpAH6AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAACgNL1xWuxtUx62tHSMbAzqTNfa5SNX6rW4Xuvq3ftqh8na5VKA+8O25bvfaGg/1E7GO5mqu1ezNST6GqLwvGrJXf4WCSXrVEZ+cAL4ja2NrWtbqtamSJyIh9EADQ46vnuBhasrWuym1ODh9d2xF6t/UAFPaV8Re7mJ5IYXZ0tDnDHyK7Pxl612fZQhnlFAZNvo5rhWwUlO3XmnekbE51XJCyNB9gbPV1F6nb4tP71B66p4y9SKifaCAszC9jp8OWSmt1N42omb3/ADj13qvX+CG1AAAAED0u4oWy2RtBSyatZXoqbN7ItyrzKu7t5AAgWlPGLsQ3TwKkf+jaR6o3V3SvTYrudOJObbxkGKAHrDE+edkULXPkeqNYxNqqq7ERAA9KCiqLjVxUtHC+aeV2TGMTaql76OcERYXofCKprX3SZPfH70iT0EXvX8AgMbAmjiksDWVdzaypuW9NmccPMica8/cTsAAAAAAAAAAAAAAAB4V1dS2+B1RW1EVPC3e+R6NTtUAOWaz+9z/SO71FU5HVMrm7Wq5V9pQHkAA6Q0c/Ei0/Qfipi6MbnRVOFLdRw1cL6iCLKSFHprt2rvTiIAlgAAAAAAAAAAAAAAAD88o/QApnSngD3Oc+8WiH4G7bPAxPMr6SJ6PNxdG65HNbI1zXNa5qpkqLtRUXiVAA5PJhpMwkuGbxr07f0fVKr4P3V42L0cXMUBM9D2MnVkXuDXye/RMzpXrvcxN7OlE3c3QVHQ1U1DVxVNNIsU0Tkex6cSptQig6rNRhG/RYjsNNcY9VHPTKZnoyJvTt29CoQBtwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABo5sGYcn8qyUP2IEb3G8ADT2fCtnsdS+otlEynmezVerXuXNuaLlkq8qG4AAAAqTTvdlWS32li+Si1MidObW/n7SGaRrgtxxnc5dbWbHMsLOhni7OtFXrCgjZv8BWxt3xfbaVya0fC8I/naxFcqL06uXWAF84LtDbHhi30WrqyNjR83rrtX2rkbogAAA+JpWQRPmkc1kbEV71XciImaqvUQbTLfPczDPgUbtWa4LwfPwaZK78E+0oAVFjC+PxHiCqr3Z8G92ULV+TGmxqdm3pVTTFADZ4bs8t/vdJbofKmfk5fRYm1V7M1ACxNDWENd39oK+PxW5pSMdxruWTq3J1ryFqUdLDQ0cVNTt1IYWJGxORqJkhAHuAAAAAAAAAAAAAAAA1GLL/DhuyT3GbxnM2Rszy13ruT8ehFUr3T5VO/RNJ8n3yV3TsRPxACucQXuuxBcHVlxmWSR3kt+SxORqcSGsKAEx0cYLixbV1Lqqd8VLTI3X4PLXc52eSIq7k8VdoAQ4vN2h3D2r564t//AGZ/1CApGnnlppmTQSPikYubHsVUVFTjRTbYxsDsM4gntyycK1mTo35ZZtVM0zTl4igLc0YY4fiWCSiuGXuhTsRddNnDM3Z5cSouWfTmVLgSufb8X2maN2rnUsjX1Xrqr7FIoOlQQAAAAAAAAAAAAAAAAAanFVip8SWSegqMvHTON/zb08lU6/ZmhtgA5TrKaWjq5aaobqTQvWN7V4nIuSoWPpsw54JcIr1Tt97qve58uKRE2L1ons5ygMPQ1iH3Mvy2yZ/wev2Nz3JKm7t3dOqQKGV8ErJY3KyRio5jk3oqbUVOsAOrjV4VvDL7h+juLdXWmjTXROJ6bHJ2opAG0AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAB51ErYKaWZ3ksYr16kzPtzdbxXABylNK+eV8snjOe5XKvOu1Tp6bD9pn89aqGX16di96FQFSaDKPhcRVlU7/D02ScyuVNvY1S3bbZ7banSOt1FT0zpctfgY0Znlnlnl0qAGcAAGBiC4ts1krq92r8Hhc9OdyJsTtyQAKM0r3n3WxfUxtdnDRfB2dKeV/NmnUhEpHvmkdJI7Wc9Vcqrxqu1VKA+D0p4H1E8cMLdaSV6NYnKqrkiABbug6xtioqq8zR++TO4GF3IxNrlTpXJPslg4ftjLLZKO3R+TTxoxXcrt6r25qQBsAAAAAAAAAAAAAAAAAABTunr9ZWn6F/eg09frK0/Qv70ACrwUBbmgHzF59eHueNAPmLz68Pc8gC1gAFC6aPjvJ9Xj7lGmj47yfV4+5SgIxhn4xWr65F99Bhn4xWr65F99AA6hBAAAAAAAAAAAAAAAAAAAAabGVmS/wCG66g1ffHx5w/SJtT2pkbkAOT3NVrtV2wlWlGze4+MKtsbcoar4TH9rPNP4kcUBLtBN5/v1mkdyVEKdiOT7q9pAsC3b3FxXb6vWyj4VI5PUdsVexc+oig6VBAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFe6cLn4LhiCia7xq2dM+djNq+3UIjpvuPhOKYqNrvFpKdM0/fcua+zVCgr0ABL9E9s90caUrnN1o6RHVD+rY3+ZWkz0EWzUorjc3N87I2FnQ1M1y5s3J2BAWgAAAAAAAAAAAAAAAAAAAACndPX6ytP0L+9Bp6/WVp+hf3oAFXgoC3NAPmLz68Pc8aAfMXn14e55AFrAAKF00fHeT6vH3KNNHx3k+rx9ylARjDPxitX1yL76DDPxitX1yL76AB1CCAAAAAAAAAAAAAAAAAAAAAAKv072zhKC33NrfMyOhf0OTNM+tq/xEyx9bPdbCVzptXN3BLIz1meMiJ1pl1gBzWCgOmcG3P3Ywtbq3Wzc+BEev76bHe1FIjoLuHD4frKJzvGpZ9dOZr02e1riALHAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAxrlVtobbVVbvJp4Xyr1Iq/gAHOGNK1bjiu6VWtrNdUvRq/uouqnsRDTvc5zlc7eu1SgPk9IInTzsij2ue9Gt6VXJAA6H0Z0Pufgi2R6vjSxrMvPrqqp7FQkNHTMo6SCmj83DG2NOhERCAPYAAAAAAAAAAAAAAAAAAAAFO6ev1lafoX96DT1+srT9C/vQAKvBQFuaAfMXn14e540A+YvPrw9zyALWAAULpo+O8n1ePuUaaPjvJ9Xj7lKAjGGfjFavrkX30GGfjFavrkX30ADqEEAAAAAAAAAAAAAAAAAAAAAAfjm63iuP0AOWr1R+513rKL/AE874+xVQkmluh8DxzWO3NqGMmb1pkq9rVKA2Og+u4DFM9LreLVUrtnK5qoqezWI9o7rPAca2mb0p0iX7aKz8wAdIggAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAi+lCs8BwNc3fKlYkTefWVEX2KpodOlVwWHaOmb+2qs16GtXZ2uQAKTBQG/0f0vhmNLRFv+ENk/h8b8putC9Lw+NY5P8AT08knaiN/OAF8ggAAAAAAAAAAAAAAAAAAAAACndPX6ytP0L+9Bp6/WVp+hf3oAFXgoC3NAPmLz68Pc8aAfMXn14e55AFrAAKF00fHeT6vH3KNNHx3k+rx9ylARjDPxitX1yL76DDPxitX1yL76AB1CCAAAAAAAAAAAAAAAAAAAAAAAACn9PVLq11rq9Xy43xKvqqip99TdadKXXw1R1HzNWidTmrn7UQAKYp5309TFNH5UT0cnSi5nkUB1bTytqaaKaPyZWI9OhUzQ0uj+q8MwVaZnf6dsf8GbfykAb8AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABUWnyfWqbPB6LJZF61aifdU1enCfhcXQQ/M0jE61Vy9yoFBXwAC0tAlNrV12qvQjZH/Eqr+U2egeDVs1xm9Ooazsai/mIAs0AAAAAAAAAAAAAAAAAAAAAABTunr9ZWn6F/eg09frK0/Qv70ACrwUBbmgHzF59eHueNAPmLz68Pc8gC1gAFC6aPjvJ9Xj7lGmj47yfV4+5SgIxhn4xWr65F99Bhn4xWr65F99AA6hBAAAAAAAAAAAAAAAAAAAAAAAABE9LFL4TgS4+lFqSJ1PTP2Zm2xhB4ThS7R+lRy5dKNVU9oAcxgoC/NDNTw+BoI/mZ5I+1db8xqtA9TnYbjT+hVI/+JqJ+QgCywAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHPOlafh8d3H0Y9SNOpjc/bma3GsvC4wvLv+ZKnY5UTuKA0oAC9tCcHBYN1vnap7+xET8pl6JJKf+xNDDDNG+RmuszGPRVaqvcqIqcS5ZEATEAAAAAAAAAAAAAAAAAAAAAABUunymdrWmp+T75G7mXxVT8ewn+NMORYmsU9A7VSby4JF+TIm5ejiXpADmgzrvaqyy10lHcIXQ1DOJeNOJUXjReUoCXaKMXUOGKmthueuynq0YqSoxXarm570Tblk72EDADoZ2kvCjW/rVP8A4S/9TnkigkWPb/FiTEk9fTtVlPqtjj1t6tRMs1Ti41I75QAbnBdK+sxbaYWJn8Ljc71Ucir7EUtDRJgqaz613usOpVSMygjd5UbF3qqcSruy4usICyQAAAAAAAAAAAAAAAAAAAAAAAAB41kXhNJPD87G5naioewAcmmZeIPBrtWQ/NTvZ2KqFAWPoEqNWuu1P6cccnYqp+Y1mg+XUxhO306N6djmL+BFBeQIAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA5bvz+Fvdwk9OpkXtcqmJNJws0j/Tcq9q5lAfAADIoa2pt9Q2oo6iWCZu58b1a5OtDHACycO6YLhR6sN5gbWx/PMyZInSm5fZ0lbAB0hYsc2G+6raWvYyZ37Gf3t+fIiLsVejM5vIoOsjmqy4zv1l1W0Vxm4NP2ci8IzqR27qIoOlSo7Ppoe3Jt3tiP5ZKV+X8rv6kAW4RS16ScM3HVb4f4NI75FUix5dK+T7QAlZ5088VTFwlPMyWN257FRyL1oAHoAAAAAAAAAAAMK6We33iDgbjSQ1MfFwjEVU6F4l5zNADlKoa2Opla3yWvVE6lFZ/e5/pHd6lAeQAC+dGeF7PFh+3XXwKJ9dLHrrM/Nyoua7URd3UbfRz8SLT9B+KkASIAAAAAAAAAAAAAAAAAAAAA1V4xLZ7G13ujX08LvQ1839TU2qAG1KrvumWJmtHZKBZHfPVOxOpqbV7eoALSc5sbXOc5qNbtVV3JznNV+xbeb+v6RrpXx/Mt8WNPsps61CguPEWlCxWfWjp5HXCob8iBU1M+d+7szKBIoMy71vujdayt4NIvCZ3y6iLmjdZVXJF6zDACaaHZNTHNM304ZE/lVfwMTRdJwWPrU7996dsbk/EAOiQQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAGPcpOCt9TJ6ET17EVTExRJwWGLtJ6NHMvYxVADmAFAAAAAAAAAAAAAAAAAHvTVdRRy8JSzywu9KN6tXtQ8AAk9v0iYmt/m7rLK3knRJc+tyZkYACyaPTPdo8vC6Cjm52a0ar3lbEUFw0umuid/erRURfRSo/vyKeIoL4p9LuGpfOOq4fpIM/u5lDkUHQ0ek3Cj/APNdXpglT26pzyRQdIx47wzL5N5pPtKre85uIoPWqVFqZXN26z3d55AAAAdIaOfiRafoPxUi2D9ImHrRha30VXUy+EQxar2NgcuS5rx7lIAssgkml7DTfJ8Nf6sCfioATsrao0z2dv8Ad7dXP9fUZ3KoAWSVJUabH/4eyNbzyVGfsRoAW2UXWaYMQz+Yjoqb1I1cv8yqFBehzdXY7xLXeevNS36FUi+5kRQdF1VXT0cXCVdRFDHyyPRqdqnK808s8nCTSPkevynuVV7SKDoS6aSMM27W1ri2od6FMiyZ9abPac7kUFs3TTV5TbVauh9U/va3+pUxFBJrzpBxHedZs1xfDGv7Om96TozTaqdKkZAD6c5XO1nbT5AAAAAAAAAAA32AZOBxpZ3f8pje1cvxMTC7+CxNaZPRrIV7HoAHT4IAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADT4ydq4RvX1Gb2sU+MdO1cG3j6nJ7UUAOaAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAZ1hXVvdA7/kx/eQ+LSurdaN3++zvQAOpwQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAGg0gO1cF3j6q/2ofGkZ2rgi7fQd6oAHN4KAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAPe3u1a6nd/uN70PinXVnY795O8AOrgQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAEb0lfEa7/RJ95D3x8zXwXeG/8V69iZ/gAHNQKAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAPpvlJq8p7W1nC3Cmj9OVidqogAdVAgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAANVixnC4Wu0fpUMyfyKbKaJs8D4XeS9isXoVMgA5QPSohdDO+F3lMerV6UXIoDzAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAbLDLOFxJao/TrIk7XohtdGdL4Zjm1R+hIsv8CK5PaiAB0WCAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOaseUvgeMrtDu+FPenQ5dZPY4k+m+2eCYlgrWt8Wtg2872bF9isKArsAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABYWg6l4XFNTUO8mnpHfxKqIns1iT6DLZwFkrLi5vjVUyRt9Vib063OTqCAskAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABA9NVs8Mwk2sa3xqKZr/sO8VU7VavUTS5UcVyt9RSVDc4aiN0b+hUy2c4AcqmXdKGW13KooqjzlPI6N3UuWac3GUBiAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAASjRtY/d7FtJC5utTwLw83JqtXYi9K6qdYAXlg22e4+FrdRauq6KBqvT99drvaqm4IAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAACmdN9hWmusF5hZ7zVIkcy8kiJsz6W/dUtPE1lhv8AZKm3VHkzM8R/ovTa1U6/6FQHMBkXCjmoK6ekqGak0D1Y9vIqLkUBjgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAG+wVh5+Jb/BReNwPnJ3p8mNN/XxdYAWnoWsLrdYJLjMzKavcisz3pEm7tXNewn0MTIImRxtayNiI1jU3IiJkiJzZEAfYAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAACq9MuEHSt/tBRR6zmIiVbE42psR/4LzZLxKWjJGyWJ0cjWvjeiorV2oqLsVFTjQAOUCW6RcISYXuzlharrbUKqwP36vGrFXlTu6ygIkAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA+mtc5yNbtVdycpZ2iDBa1M7b9cYveYl+CMd8t6fLy5E4ufbxBATPRlhL+zNm4Sob8Pq8nTfuJxM/rzkvAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADCvVppL5bZaCvj14ZU60XiVF4lRduZmgBzVi/DNXha6upKhNeN3jQS5bJGcvMvKh0FiCxUOIba+iuEOvG7ajk8pjuVF4l/8AbioDmAkOMcJV2E67gqlvCU71XgKhE8V6ci8i83eUBHgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAACdaPNHs2I5G1te18NravQ6dU4k5E5V6k27gD40bYIfiWr8LrWObbIHbeLhneinNyr+Je1LSw0dMynpIWRQxJkxjEyRETiRAgPqONkMTY42oyNiIiMRMkRETJEROJD7AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADEulupLvRyUdfAyanfvY/vReJedDLACisdaNKuwa9bbNertu9eOSJOdONOdPYXqVAcml74w0X269a9TbNS31y7die9PXnRNy86dilQFEG1v2Hbnh6p4G50r4vRfvY7nReMoDVAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAElwrge74mla6nh4Gl+VUyoqM6vSXo9gAR2ON0r2sjarnOVERGpmqqvEicZ0RhHAlpwy1skMfhFZx1MyJrfZT5Kf+zUICGYE0Va2pX4jbzsovxev5e3kLaAD5jYyKNscbWsa1MkRERERE4kRNyH0AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAeVVSw1kDoKuGKaF+9kjEc1elFPUAK2xLofoazOayT+BSfMyZvjXoXent6ELJADmy/YLvlgzdW0D+Bb+3j8ePpVU3dZ0mVAcmnSF4wNh68azqi2QskX9pD707PlVW716cyoDm8t66aFoXOc62XV7P3KmPW/mbl3FQFQk2uGijE1H5qnp6tvLBMnc7IoCEm5qsJYgpPPWauTnSBXJ2oAGmPeShqovOU0zPWjVAA8D64N7nauqut0AB8mVDbq2d2rDSVD/UiVQAxTfUuCcR1Xm7NWN+kjWP72QAaEn1v0Q4hqcnVTqSkbx68ms7sbmntACAlz2nQ1boNV1zr6iq/cjRIm9C71UICmmtVztVu06as+GbLZdX3Ot1PC5v7TLWf/Eu0qApGw6N8QXrVk8G8Cp1/a1WbNnM3evYdCFQEHwxots1n1ZqxvujVJxzN97ReZnH159ROAA/Gta1rWt8Vrdych+gAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAB//2Q==",sxzy:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAABcQAAAT7BAMAAABCvK5xAAAABGdBTUEAALGPC/xhBQAAAAFzUkdCAK7OHOkAAAAVUExURUxpcffGsfiqi////0dQWX6Ah6ytsSPgpgkAAAADdFJOUwD+uLXzM1MAABsTSURBVHja7N1BchPJFobRxGwAW6bHYG+AQshzokvagCqYEwj2v4Q2GBx2gy3JzszKvJwTb/riDfTFH3mr3fFSAgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAjt4rRDF343DvR2sezScPbGj8cBC95p4D8it+Tsn/Bl1ww5jzu5XHbuvcZ5rPDFsnuDxnnY5TIAO07Ud/jte9wvSejCNU7gh7jnONEf4hon/jPFU4XgzxQzTvwRN+MEH3EzTvQRN+MEH3Ezzv+8WC7NOJFdxkt88Kty552yDMhLhcDH5o+/OPS7cmsRMXEHJ7HfKcvlK78skd8pXioEf6f4pkL0d4pvKvzyImriHuPcuIyauMc4oZ/iHuNEf4p7jBP8Ke4xzo2XcRP3GCf0tSlxgl+b7k1uLANzbxL6g4rECf5BxScVwif+zu9L5G+GPqkQ/JuhxAmfuK+GhP4sLnEkjsQ75/dF4kQXunD/eBOJI3GJI3GJI3GJI3GJI3GJI3GJI3EkLnEkLnEkLnEkLnEkLnEkLnEkjsQljsQljsQljsQljsQljsQljsQljsSRuMSRuMSRuMSRuMSRuMSRuMSROBKXOBKXOBKXOBKXOBKXOBKXOBJH4hJH4hJH4hJH4hJH4hJH4hJH4hJH4khc4khc4khc4vxliX+SOKETX60XEidy4rtxK3ECJ341jhuJEzjx1+M4fpE4cROfrhP/KHHCJr66LnxcS5ywie++J171pSJxaiZ+9aPwqgenxEm13ynXFhInZuLTz8S3Eidk4j/fKVVfKhKnYuK7X4lXPDglTr3Eh+k28Y8SJ2Diq9vCK34alzhphndKxYNT4lRL/OpO4fUOTolTLfHzu4lX+zQucaolPt1LfCtxgiW+uld4tYNT4qQZjs2Kn8YlTprh2Kx4cEqcNMs75ZrECZX49FviW4kTKPHf3im1XioSJ81ybFY7OCVOlcSHPxRe52+xJE6a59is9Wlc4qR5js1aLxWJk+Y5NmsdnBKnRuLnf068xt9iSZw02zulyqdxiZNmOjYrHZwSp0Liu4cSr3BwSpw017FZ59O4xCmf+IeHE19LnACJTw8nXv7glDhptmOzyqdxiZPmOzZrHJwSp3Tiw6OFF3+pSJw05zul/MEpcdKMx2aFl4rEKZz41Z7CSx+cEifNeWyWf6lInMKJj3ttJU7Hia/2J76WOB0nPu1PvOzBKXHSrMfmd/9KnG4T/3BI4muJ023i40G2EqfTxFeHJb6ROJ0mvjss8ZL/mrLESTMfm4VfKhInzXxsFj44JU7BxKdDEy/4aVzipPnfKSUPTomTZj82i75UJE6xxIfxCFuJ013iq2MS30ic7hKfjkm82MEpcdL8x2bJv8WSOGn+Y7PkwSlxSiU+HumLxOkq8dWxiW8kTleJ745NvNDfYkmc1MKxWe7TuMQpk/j58YmvJU5HiU/HJ17m4JQ4qYljs9j/ZYTESW0cm6VeKhKnROLD+CRbidNJ4h+elvhG4nSS+PS0xEscnBKnQOJXTyy8xEtF4qRGjs1CB6fEyZ/48NR3SomXisTJn/jqyYUXODglTmrm2Pz+UllInOYTvxqfYStxmk9895zENxKn+cSn5ySe/eCUOKmdY7PEv6YscVJL75T8n8YlTmro2CzwUpE4mRN//dzENxKn6cSn5yae+V9TljiprXdK7k/jEie1dGzmPzglTmpsxDMfnBIna+KrHIlvJE6ziU85El9LnFYTz/JOyXtwSpzU1rGZ+6UicTImPkx5Es95cEqc1NixmflvsSROau6dkvXglDiptWMz70tF4uRL/Dxf4huJ02DiU77E8/0tlsRJzR2bWT+NS5zU3LGZ9aUicVJ7x2bOg1Pi5Er8dd7EP0qcxhKf8ia+ljhtJZ75nZLt4JQ4qcFjM+PBKXHyJD5MuRMfJU5TK/7tcV9/T/jTnv/KQuI0dW4e/VTfVvkfljh1El9JHCsucay4xLHiEseKI3ErjsStOBK34lhxiWPFJY4VlzhWHIlbcSRuxZG4FceKSxwrLnGsuMSx4hLHiiNxK47ErTgSt+JYcYljxSWOFZc4VhyJW3EkbsWRuBXHikscKy5xrLjEseJI3IojcSuOxK04VlziWHGJY8UljhWXOFYciVtxJG7FkbgVx4pLHCsucay4xLHiSNyKI3ErjsStOFZc4lhxiWPFJY4VlzhWHIlbcSRuxbHiEseKSxwrLnGsuMSx4kjciiNxK47ErThWXOJYcYljxSWOFUfiVhyJW3EkbsWx4hLHikscKy5xrLjEseJI3IojcSuOxK04VlziWHGJY8UljhVH4lYciVtxJG7FseISx4pLHCsucaw4ErfiSNyKI3ErjhWXOFZc4lhxiWPFJY4VR+JWHIlbcSRuxbHiEseKSxwrLnGsOBK34kjciiNxK44VlzhWXOJYcYljxSWOFUfiVhyJW3GsuMSx4hLHikscKy5xrDgSt+JI3IojcSuOFZc4VlziWHGJY8WRuBVH4lYciVtxrLjEseISx4pLHCsucaw4ErfiSNyKI3ErjhWXOFZc4khc4nioIPEiPn/7595/Pn9bSJxIic9F4kgciUsciUsciUsciUsciUsciUsciSNxiSNxiSNxiSNxiSNxiSNxiSNxJC5xJC5xJC5xJC5xJC5xJC5xJC5xJI7EJY7EJY7EJY7EJY7EJY7EJY7EkbjEkbjEkbjEkbjEkbjEkbjEkTgSlzgSlzgSlzgSlzgSlzgSlzgSlzgSR+ISR+ISp30LiSPxfvl9kTgS79jg90XiRHcZOfH3fl/SS4kT24vIib/z+xI78Vd+X9KJxAnOP9zEV0PfDPHVUOJI3DdDfFJxbeLedG3i3vR3hvwlj3FPcYI/xj3FuXHiKY7HuK/i9Oylpzge457ieKn4ZIiXincKXireKXip+J6CGTfihJ/xN35U7gr3dyqOTe47MeKYcSOOGTfi+KhSxZnfk9AfVQYjTuynisL5o7eeKfiq4plC10+VhcLRuMLRuMJpuPHTvgs/VTj7Gn/b8ZAPZwpnf+MXvUY+nF34+Tgs8ovT/9i7l+S4jRgAwxX5ApKp2dvyBUJ12HtVSO5VM/YFOLn/FRL5FcuaR7OJfgE/9qoi0V+jAWpmeNfd9U3F3d0DwIlVylsLWhSCIAiCIAiCIAiCIAiCIAiCIAiCIAiCIAiCIAiCIAiCIAiCIAiCIAiCIAiCIAiCIAiCIAiCIAiCIAiidNw83DUW0j/I+tBcBh4+CGfgo94MtPrr2ndiyhvNQP9eTPlDm28RuAt7T13DPx8v83qEm4ZfTCiDvOHXZPTvNd+d0NsmH5p+1U8vcJS1/e7Ra3Wu+Vc5vbe9vgIZuGk9A5df5vXQunDnHj/YFr7V+E3779a9ZFzFa1UfjQvfZlyB8EvGdbw4eMsKqxBOBs4aVyJ8wwpryUD8q2WV7PFzGdBye9ErrGaPx2dASwJOlzk9txfbjn90ulfY0B537oPu24tbYUV7PLKMf9SdAU23F7fCnzRl4NF4ET9R5nTdXkwZV7XHTx7UtjLwpswpW+D1K6xsj0eUcW0ZeK/79taXcW17fP0m15aB38q4ugVe3Y1r2+Ory7i6Kve6zOm7vbVl/EZdAtaWcXVV7nWZ+8Ppvj9jj1NiyrjCKududS/wq/uzWMRXbvKPTvUm17jA64qYxgVet8k1VrlfejWVC7yqiHXWN7nKKvfLQNYpvz+jC7xm4FRZ5VyvfIEfrS/wmk7lk+5N/ofTfX9G+5Q1m1xplfu5yT8pvz+zCxw+jmitco+6Fzi8iGld4PBNrrXK9coXuLe+wOGbvNOagQ+6Fzi4Ge+sb3K1B/n3c6xTfn+GFzh0k6s9yL+fY075/Rle4FDieg/yXnkNCyT+Tm8Gbo13at82ueIa1luvYaGb3One5IoXOPCc7qxvcsUHuftTOfFb6zWstz6MfD3HOuvENdewsHPsnfJNrnmB/7Rew8I2+SfdxFXXsEeIGx9GXs4x1QvcWz+mw84xiCsnrvmYDjvHVBO/1U3cmV/gR+OPlF6Iv4O49XNM9Tj2X6um+pgOemYGcYgrJ+6sE9fdqz4qJ34LcYh3ELc+jUBcOfEbiCs/xyAOcYhDHOIQhzjEIQ5xiEMc4hCHOMQhDnGIQxziEIc4xCEOcYhDHOIQhzjEIQ5xiEMc4hCHOMQhDnGIQxziEIc4xCEOcYhDHOIQhzjEIQ5xiEMc4hCHOMQhDnGIQxziEIc4xCEOcYhDHOIQhzjEIQ5xiEMc4hCHOMQhDnGIQxziEIc4xCEOcYhDHOIQhzjEIQ5xiEMc4hCHOMQhDnGIQxziEIc4xCEOcYhDHOIQhzjEIQ5xiEMc4hCHOMRfwk+ff4vDAnGIKyI+jG8C4hCHOMQhDnGIQxziEIc4xCEOcYhDHOIQhzjEIQ5xiEMc4hCHOMQhDnGIQxziEIc4xCEOcYhDHOIQhzjEIQ5xiEMc4hCHOMQhDnGIQxziEIc4xCEOcYhDHOIQhzjEIQ5xiEMc4hCHOMQhDnGIQxziEIc4xCEOcYhDHOIQhzjEIQ5xiEMc4hCHOMQhDnGIQxziEIc4xCEOcYhDHOIQhzjEIQ5xiEMc4hCHOMSNEl8gDvG34fUQv99DHOInkvKkhbgfIQ7xk0lZlBA/QBzip5My6SB+HCEO8TNJedZA3I8Qh/jZpCwKiB8gDvHzSZnbJ34/QhziF5Kyb524HyEO8YtJWRonfoA4xC8nZW6b+G6EOMSvJGXfMnE/Qhzi15IydQ0TP0Ac4teTMrdLfDdCHOIBSVlaJe5HiEM8JCkpW5WkxI8Qh3hYUuY2ie9GiEM8MClLi8T9CHGIhyYlXauSkPgB4hAPT8pTe8R3I8QhviIpS2vE/QhxiK9JSqpWJRnxI8Qhvi4pX9oivhshDvGVSVlaIu5HiEN8bVKmlogfIQ7x9Ul5bof4boQ4xCOSsrRC3I8Qh3hMUuZWiB8hDvG4pDy3QXw3Qhzi1SQlAXF/gDjEY5Myt0D8bZsCcYiHJkW+VZEnfqJNgTjEg4lPS+3ET7UpEId4MHHxVkWc+Kk2BeIQDycujUWa+Mk2BeIQX0FcuFURJn66TYE4xFcQF25VhImfblMgDvE1xGW5yBI/d8kQh/gaL6LfjhAl7keIQ1yiJM61Ej9CHOIixCXBSBI/f8EQh/g6MYKtiiDx820KxCG+tijONRI/QhziYsTlsiNH/NLlQhzia81M1RHvDxCHuGRZnGsjfqlNgTjE1xOXyo8U8csXC3GIr1czVUW8HyEOcenC+FwT8SPEIS5OXCZDMsSvXSrEIR7jZqqG+OWnKRCHeGxpfK6F+LU2BeIQjyMukSMJ4tcvFOIQj5MzV0H8epsCcYiXK44CxK+3KRCHeCzxsStPPOQyIQ7xWDtzceIhbQrEIV6uPG4mHtKmQBzi8cS3tipbifsR4hBPS3wuS/wAcYgnJr5Rz0biYW0KxCG+hfi2L3JuIx7YpkAc4luIb2tVthE/QBziGYhvStUm4qFtyjg+30kFxMsTF1vMXaifLa3KFuLBbYpkLBAvTbzEuj8VId4fIA7xStddhvhxhDjEc0V8qxJPvMiNQtwq8fFLduJl2hSImyUena5o4v+MEId41lYlM/FCtwlxu8Rjv8gZSbxUmwJxw8QjExZJvFSbAnHLxOeMxIvdJMQtE49rVaKIl2tTIG6aeFTKooiXa1Mgbpv4nIl4wVuEuG3iMa1KDPEDxCFeKCJeHh5BvGSbAnHjxCNalfXEi94gxK0TX//tmvXEDxCHeEutymriuxHiEG+pVVlNfIA4xMeWWpX1jcoR4hDXTbzkvzYhDvH0jUrpVgXi1okv6YmXbVUgzkPD9MT5Bz7EVf/rp3CrAnHbxLs8xEu2KhA3TXzvMhHnKxEQV/1h2qL/44S4YeLTko94uU+qQNww8b3LSJwfmYB4E23Khp8KGiAO8cr/6bOReKlWBeJmie9dZuL8bCfEG2hTNv348j3EIV7505SNxMu0KhA3SnzvChDnRSgQz1fEXQniRf6PD3GbxJcyxHkpoUniSZMiD2gb8QHiP0vb58txohpc+YvPHcS3Pk3ZTpwXhCccviequMiBt5F46Bc5DRAXf4b6N8R/xLMrRzz0Ig0QFx/COoiLnGdbiQe2KhbGTeHnS7ODuMhcvpl4WKtigfhQy1MybcSfXVniYZdpgXhf47CpgPjWTGwnHnRAm3guLtqpPEFc6DgTIO4PEJcfOBeIi7QpIsRDLtQEcclH47ODuFDDJkE84IS2QfyvCj5Xp434UgdxD3HpgdNB/Gt8cXUQv/6bEzaIyw2cTxAXe64kQ/xqF2qE+FDdsNk48aUe4h7ikgPn5CAu1KaIEb/Wqlghfqxt2GyauMxOlyJ+pX5ZIS70aLyDuFy7JkbcQ1ysU5kdxKXaFEHil1+qbIb4UNmw2TBxqYFEjvjFAmaGeF/ZsNkw8aU+4h7iMgPnE8QluzVB4pdaFTvEfWV9SqvEp65G4he+HWGH+PaBc3YQl9znksQvVDBDxHc1PRRvlvgXVyfx842oIeK+qmGzUeJTVyvxs62KIeJbB84niMuOI7LEz16zJeJDTcNmm8RFxxFh4udKmCXi/aGiYbNJ4lNXM/Ez62uJ+LZOZQ9x4YNMmviZqzZFfNPA2UFc+CATJ366hpkivuXRuHif0h7xqaud+MnfnLBFfFfPsNkgcekUyBM/ed22iPtqHoo3SFz8HEtA/FSrYot4/MC5N0986log7s0TH+rpU1ojLi8lBfETvagx4rED5+ysE0+QgSTE366wNeL31fQpbRGfulaIe+vEfS3DZmPEUzhJQ/zNtVsjHtepPFknnqJRS0X89yU2R3yoZNhsivjUtUTcGyce81msJDWsJeJplKQi/ttTFXPEYx6N740TT7PF0xF/3arYI+7rGDYbIj51rRH3tomvHzhn48RTGUlH/NVvThgk/lcVw2Y7xGfXHvFf65hB4r6OPqUV4lPXInFvmvjagXNvm3g6ISmJ/7LIFomvfDTemSY+uzaJ/9+qWCS+buBMtsZNEJ+WVokPpokfKxg2GyGe0kda4j9X2SRxX8Gw2Qbx2bVL/Mf/sU0SX9Op7C0TT9mmJCf+4yZsEh8q6FNaIJ5WR2ri31sVm8T78sNmC8Rn1zbxb785YZN4+MC5N0w8bZuSgfi32zBKfCg+bDZAPLWN9MS/ljKjxEMHzifDxGfXPvGXVsUq8fvSw2b1xFO3KVmIv3w7wipxX3rYrJ74s9NA/L/j2irxsIFzb5f47HQQ93aJBw2czizx9G1KJuJuZ5a4K92n1E382Wkh7hazxI9lh826iXunh7gzS9wXfSheOXEHcQXErz8a30Mc4k0TH0p93QfiEM9DvC86bEIc4smJXxs4F4hDvHHiQ8lhE+IQT0/88sD5BHGIN0/8vuCwCXGIZyDuCw6bEId4BuKXBs49xCGugPhQ6BNYEId4JuJ9uWET4hDPQfx8p7JAHOIqiPtiwybEIZ6F+LlH43uIQ1wJ8ftCD8UhDvFMxH2xPgXiEM9C/PTAuUAc4mqIDyU+gQVxiOcjfupryn9DHOKKiN+XGTYhDvFcxH2ZYRPiEM9F/O2j8QXiEFdFfCgybEIc4tmI9/k/gQVxiOck/vuj8QXiEFdG3JcYNiEO8XzEXw+ce4hDXB3x+7xf94E4xHMT9yX6FIhDPB/xXwfOBeIQV0h8yP5QHOIQz0rc5R82IQ7xrMSPeT+BBXGI5ybusw+bEId4VuI/Ho0vEIe4UuJD7mET4hDPS9xn/LoPxCFegPi3gXOBOMTVEh8yD5sQh3hm4i8D5x7iEFdM/Jh32IQ4xHMT99m+7gNxiBch7g4LxCGumrh3EIe4auIO4hCHOMQhDnGIQxziEIc4xCEOcYhDHOIQhzjEIQ5xiEMc4hCHOMQhDnGIQxziEIc4xCEOcYhDHOIQhzjEIQ5xiEMc4hCHOMQhDnGIQxziEP+3HTs6bhUGwjAq4wbAboCQBgz9F3ed18zcGYn4hX/P6QDtt5ITiUtc4hKXuMQlLnGJS1ziEpe4xCUucYlLXOISl7jEJS5xiUtc4hKXuMQlLnGJS1ziEpe4xCUucYlLXOISl7jEJS5xiUtc4hKXuMQlLnGJS1ziEpe4xCUucYlLXOISl7jEJS5xiUtc4hKXuMQl/ovEow/gaN8Sz77DJJ6d+CpxiUv8WT3x7L9GXu0ucYlnJ579SrXqiR+t+k+1OTvxnjss+6faUX7J5+xXSuKv8omv2Yl33WHR79gs8ewfYhJfq79je/gKd91hU/nEb+GJf1cfcAsfcO3Efx7ye/D3dQ04+R3rSzz5HZuzV7hvwMnv2Kv8ks/ZK3z0DfiePeDaiYd/X+cdFvyOrdWXfA9/pzvvsBY+4MpLfoSvcOeAc9+x3sRzf6zO2SvcO+DcJX+VX/I1+53uHnDskvf+Uov9sbqHr3D3gFv4gOsu+ZH9ff0DTl3yo1Vf8jn7j42BAd+yB1x3ydfs7xsYcOiSt+pLvod/38CAM5d84BkLXfI5+/tGBpy55HP5JV+z/2c0NODEP7f2Vn3Jj+zvGxtw4pIfYycQeI3P2d83dokn/lZbx07gHn7L3bI/r+IlNniJBy75nP19owPOW/J19ATSfqvt4d83POC0a3x4x+Ouud8/Vadn8QGnXePjOx52ze3ZE95bKz7hEzsedo3P2Q/13IpPeF/PnMAtfMen2lfY21fOCTzOnUDQQ7ZGT/jcFZY04ZM7HvQX2SN7wnMrPuHTOx5zzR3ZE36006bihac0/v8TmJIXuMyE90f5E1ijX+o/zfc94Wftwtv0FV34+wOX0vN92y7e+L798QCmq2/5siYv8fOv8/1p/NJbvnzgBC7d+P5Yg0fc83Vd19hlT2D5zAls1428b8WnbVmu94nL8tg+Mt+fEb9P4HoLvr9P4EMHMG1fVzyBZelPYLui9kGbE6h+AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHX8A8E9RspnxDVhAAAAAElFTkSuQmCC",wasd:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAABcQAAAT7BAMAAABCvK5xAAAABGdBTUEAALGPC/xhBQAAAAFzUkdCAK7OHOkAAAAkUExURUxpcf7y3//49f///0ZPWPWviGBRb1KIw63e9vvZuZaBeceOW6MjsukAAAADdFJOUwD8fvXCNlQAACAASURBVHja7N1PaxvpHcDxbPMGdmpiiE7t7hvodBBE+CokX7e2DsHHisHkaoooPS2ioB63xgb12kDBvrXuofabq+U/iTXPoz+WY2fmyedz2MMms5ug7zx+NJr56dUrAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAJ7br4pG+7VXkLQT/94ryCpbjU78N15A0k7cKs6aG5WDwbRxBv+TOOsl3hkcN3MNf3vwd68gK/y2KE6Om7tR6fzbS8hyP3beN/uainWcpX54+1PRcC6Ns2QjnkDh1427ckhsD55dKzoJFF4Ub365/kc++wuJnc978Fkb+bRIwsn9xf3fe2G536LcRDEoEvGTxKn47uaK23EqiXcyiRPuU/KsSMab27M198ryYJ9yUiTkvcSp7lPaxyklfrvpkjh3tj6te8mYSpzPfkhuEb9bxiXO5514Yov47TIucT4V3jlOLfHZ30jizAr/8dPWNbllXOLcXU0p8r30Er9+dyFxrr2++am+lV7ixZ7EuU88f59g4cVbifMp8eMUE79+w+nl5TbxTpGkPXNVuEv8lzQTfytx7hLfSzPxjsS5TfzNVpqJF8cS5ybxt4kWXkwlzizxfC/VxNsSJ+3EO997fblOPNmteFH8wevLLPFC4qS9UUk3cZtxrhNPdysucZJP3PtNZhuVdN9t2owzSzzhd5sSJ/nEj73AvO6knPiW95u8Trlwl1R49eq7vaQT/51XWOJpJ27+Mq+TTrwjcV4fJ524h/BJO/HCQ/hInNQT30q68P94hSWe9iK+5xWWuMSRuMSRuMSRuMSRuMSRuMSRuMSROBKXOBKXOBKXOBKXOBKXOBKXOBJH4hJH4hJH4hJH4hJH4hJH4hJH4hJH4khc4khc4khc4khc4khc4khc4kgciUsciUsciUsciUsciUsciUsciSNxiSNxiSNxiSNxiSNxiSNxiSNxiSNxJC5xJC5xJC5xJC5xJC5xJC5xJI7EV8hbZxH/Gq088B+x4yaT5Qd1Isf8U+LUMvGWxGlI4ufnH7tVvXK86sD9bsRoxanRjhzzR4nzvIlfXkqcb24V70ocq7jEafJevCdx0lnFz2xUSDjxoj0YxGpdmfjFBonnrcgxRxLnmRP/r8RJOvEDqzhpJ/4+mviK8PJsGEt8uHwPn29LnK+wUTmROEknfvIFV/GexKld4nmWbRBeZxpNfMUevnO6ya5f4jxL4u8kThqJX9uJhHc4GS/fwccLX776t8MtUVlKHIlLHIkjcYnz7SbefnTieetsk8R3Lh5945bE+UqJXy5K/J3EsYpLnJdNvFOGqfZHR0s/piwXJL7s1MhaHyWOxCWOxJG4xJH4w2AfnXh7f0Hh3d1liW8Pg6viq+ZnSZxGJ97rSRyruMR5auLF1WMT37lYlPiy48JnLySOxCWOxJH4KoPYU5iHj7v6t1Hij75kKHEkjsRD0zLyJObu4sSnp8NFifd6h4v3Q8H25tHbFIkjcST+rIl3S4mT9io+lDhWcYnzwolnsSn6/cdcGnl4aiz8vwQnUk/ivFDi5xLHKi5xmpt4ZJe8NPGriyWJ99ff8fc3+KNKnEYlPpY4VnGJYxVH4qvuw4q8f+wtfNI4L4ebJD5Y/7dKnFonPpY4dUs8iwyNWJx4u7tMb7LguMH61xcljsSR+FMT70ocq7jEkbjEqUXisZH4u5sl3o0nnmVn4UkkcV4s8TOJI3GJ09jEo9/AtmBeRJ615qdRlMHkiKNo4uUjbhGQOLVJvDuUOFZxidOgxDvT0/nEP6yV+HQqcSQucSQucSSOxGPvIYex4bTxs2F//kT4y1pjDQeDxwwjkjg1TrwsJY5VXOK8bOJFcbHu1J+d+YeTw8Tjx11dhdMPJY7EJc6XSnx/3YfpW/PT4fqjP61zXHYW3IU12uSCisR5/sTPN0v8UuIkvYqfW8Wxiksce3GJs2nip+WaiZ/Oz8Lqj/4c3E4bSzz4TRKnyYmPJU7dEo8NC+rFnsLcrz7h+XNQb+TbH8LPNsvJWOJIXOI0NvGexLGKSxyJI/E17VytmfhFdX7tz2dXq78VWeI0OfEziZN24pcSxyoucaziEscqLnE2Tjw2SaUbVJhn1eeYj2LPrI1GwXNtwX97tNmfU+JIHInHh1xFvi82uBmwHcyKOIrNjwgSD+fndycSp46Jn5xInGYmnmcfN1rFx7PR4cNgIFZlhxMONCwlTi0TP5A4VnGJU8fEo/OwqgOr8lblGvhNy1nk7Bivuiy+4QUVifPMiV9eSpykEz+3itPYxPdXJ945rTz+cHd1MDz0SOI0IfGhxEk78Z7ESSjx7XCaT7c/n2p7P/4x5orEsy/34abEqUviY4lTu8Q/WMVJOvHW5dWqxHcu4tMkwh8Ah5O5xIMxFKXEefnEwyn3ayf+QeI0YRW/tIqTdOJn51ZxUk68Hfn21/nEs+1hPPFwG7/7MOFpcKNhf9PL4hLnCYkfbJ54sI2XODVM/H1kQvLhwyeUp6fD+NdIhD8A5hoOfzxInK+R+MnmiR9InGau4l2rOGm/3bSKk1DieXhtb/a28UHig+oH9bsLfwDMNRzOEtqdSJxGJX4icdJOfHAicaziEsdeXOLUdaMiceqfeBEbkdx/MBArP/tYuZfq8PPZMVx8n1UezNjvHUqcWiZ+UX1Af83ELyWOVVzivEDig+WJl8OFvxbO0nqQePDARP+okDgSlzhfPPFpOQwezzn8fBPLkvzDh/BHC4+TOBKXOBJH4hJH4hLnG0s8W5r4zrIP90/LtRMvy8OxxKlL4r0vn/j1f1PifJ3Ei6vw21D6nz7BbC176G27DL6Sbbzg1LCKI3GJI3EkvtEn+PsLE+9MT5ddFtkJbuG6T7x6anRHo80vqEicl0z8ncSxikucWiUeDAN6OPFqf1ni7eAuxfuQq6dGdzIZSxyJSxyJI3GJI/HKJ/itj8Hkzsn9+8nKNfPduVA7wZj8+8Srp0ZP4qSS+DuJYxWXOC+aePCdbJ+eM8635+9C7FU+hc+Db0gu7yZJBHv4J/0BJU4DEn8ncdJOfCxxrOIS53kSb4c3qYyiv9APbjRZMH42q4yJsxcntcTPJY5VXOJYxSWOVRyJr1a9cPKIxBd8f2wwuGJX4khc4jxb4q3zi9ij9Hn15pXD4EaTYFrcbeLVf/1gvJbE+RqJV7fOEiepxMMnH+4S3x6uSjx4X9m7OXKw4AZEidO8xC8kThMT71nFsYpbxbEXlzh1TfxmrFXwqWck1HDm5+zIK4kjcYnzconn2XZsIErwqMR4nYGIo6MseFLiKc8mSxyJI3GJI3GJk3Di4feWzBKv3qLSKyOhxk6OLCsXfT+KxKlx4l2J09zEgy87Lg8nf6tMrO2PotPiwiOn1Tlwoyf+6SSOxJG4xJG4xJG4xJG4xKlj4p0yTPyv+93VicdOjsGgK3Hqnnhv48R7EqeGiedlONaqmvjuZK3Eu7uVxMty8n/27ue1bTQB43hss4dlL1FMyiZz8Q9y6K2KMET0apywp0ldD3jnajRhr4Fx6Rx9cZnLZIxD1b2GLXiPm1nY5J9byUmaX5YsyU7i99H3gR4Lkd6PHr+vfkKcKBPvQZyIt3gL4uTFic96/+av5w9n57MPjodHx/7lJRMVAnGIE4hDnECcQDxpZrxF+eP928X3Zz9Fb08eHh37k/sP/fQXPS0OcfI0xH9JSHzyiPgFxImRLT6YTfyCFie0OMTJSxOf8S78n3tJiDuP7kh52OLDIcSJGPELiJOVI/74M4IPiR9EPEXv+72HL6f17r+qHOJkJYifQ5zkqsVbmYk3IU5ocYgT5uIQJ0slPuNd+A8fyYwgblm92P+4v/jfBnGy2sQHECcrQPzxW5QTf8vknBYnEIc4gTjECcQJxBc4a/jKy0o8/uA4gDiBOMQJxAnEFyW+fREHtTWMPrt96sWcGW8dQZysCPEJxAktDnFCi0OcQBzi5AWIO41O1gs4r+KI7x9DnEAc4mSlib+NuxEX4gTiECcQJxBfPHbs0zsHsQdHzCX8gwHECcQhTiBOIL54omfULS/uAo7rn6Z/qhniZKWItyBOBIhHTzf2+8exU5ztLLeZQ5xAHOIE4gTiECcQhzjJB/Ho+77350h9C3ECcYgTiEOcQJxAfIFEP71zMIy/RtmIvLg5HECcQBzi5HmIRz/acDRHqutFHB0QJxCHODGCeAvihBaHOIE4xMlTEo9+QG3eyW17cjH76Ogv5Q+DOHly4ntziZ9BnKw8cdc/7WVrcacTcXQMIU5EiP8BcUKLQ5zQ4hAntDiBeObY1vbZzPcEeYNsxD0P4sQA4s1eAuLj9zMPDogTWhzi5NmIr2wgTiBOIA5xAnGIE4hDnEAc4gTiECcQhziBOIE4xAnEIU4gDnECcYgTiEOcQBziBOIE4hAnEIc4gTjECcQhTiAOcQJxiBOIQ5xAnEAc4gTiECcQhziBOMQJxCFOIA5xAnECcYgTiEOcQBziBOIQJxCHOIE4xAnECcQhTiAOcQJxiBOIQ5xAHOIE4hAnEIc4gTiBOMQJxCFOIA5xAnGIE4hDnGQmXpYm/h9GGOIjWpxA3OAwwhCXJm5DnJTaysRdiJMCxAkTFXPTgDgp2crE30KclFxl4lsQJ6VNZeIjiBNt4m2IE+25OMTJWskRPqVilyFOSrbwifEGF/BJ0OInECfaxIXXmycQJwFx4fVm29lghCHu2LLrTbu8UWGEIe7orjcbNsJJQNzZUiVu7TK+JCQuu95sMxMna2sFR3Yy7paZp5C1tWL4g656Jy3ESZBaWXWmcghxcm1cc6ZiOxAn13OVsuRMpQFx8s245EzlcKPG0JLrVAWv/uwCnNypcb2rP1zYJPdiyS04uepD7tf4oVqJM6bkfnbKWsTXGVIiXePMxIl4jXOLIRE/qfI7A0oepSp0UsX9nvEkj1LalJmq2G1Wm+RxCvahivExN4qTWZNxxxY5q7LV5v4rMpO4synx1iDrkFsMSQRxZ1PgrlorvKUM4uRWdu2GQ9WyLN904/bvtdpGlZsMSST4Hd/oNSc3X5G52fHNnJDbtVrVpr1JgtS61omBTR7qZgZOkk1WXndHrm+ZFa7Yk1RFXnY7vln5jVEjKZEbNk9hjkIIIYQQQgghhBBCCCGEEEIIIYQQQgghhBBCCCGEEEIIIYQQQgghhBBCCCGEEPNTN/rN2hUGcDkpCn83+oq4+0fHtPxvacSnw/ujcTugc7jEt4sH++Cfxu2AH0eJiJdD30a+Xdsed5czvkXH7Rr5/U13PFrSZ8FrO10zP+LVKc/9cHSx7IzN/bzquLuE8S1udY39SIQdDN7iu6C4Y+5n69zuPOJVsz/KZ79bvMAMPsSnQ7yxqPHi2OjvwIRfB7ajN666afT4Oot/+L1q+veT7e6Cs7Vi13ACbswHGYvVseHju/Byq7pp/A6wuwt97ado/rd1A+MRM5Vi3ezf6BvjtUqehU97vJZxHxRrNYWvRwfGH0zXCtMd4ziWgnDHObHWs+gOfsAsgV+xqfH5Z84iiLsa30dvWI4dfv3oG/TC7RxGIt3djCfDRY5xx7UyEi+MRQjcrCnvE7e3RDYvGOH0P9P18P+1HaURzkD8T2WVPXBSvvdLdkV8LLN5zmYlS4nrHOOO4wf/3qQnLnOMP5ysTYnrVFiQd1lKXOgYn05V0hOvCRFojB4R94U2z3EzlLjUMR5OVVITL46U9kD3LvFSOMBSm+f8lvJ0SljiUjsgGOHUi+7XUjvAvbseqauVeOoaL6uVePhDvZvrEr8ifYe4WImnvK22qFfiGU6d/llsB4Sm7xD31QbYTUlcrcSDGk97z2FdbQ/4d4nLlXi6+7GKIQi5lNfTX/xSq/Fb4r7eALspOqwQeNDbA1u7+S7xcMl9S7ytt3nOYSVFgbmCxN1RiqO8tiNIoHFLXHGAHXs9RYt3BXeA4+8mN15VbDl79I24rzjA9vcpiCsOcFBiyW8sfq3Ycs74hnhZcoBTXP4puZI7wA5PImzk8bLPt4N8/eYmYcnNS3EBu9TV3APTX+fcLjbDXJ9XK/qam5f8hEJd82fs6kxoBeKyA2wnJr5VFt0D7cTERfdA42rrd0Q3L/HVvWJDdAc4iYkXRXfA9YuTZAc46VnDQlt1D2wmJV5Q3QPvRN4qsOBkvC5LvJGUeF11D2xod1hS4qa/HSjmd3qUd+LTyXhddoATTsZ1p+LTyXglx1Px61uVdpy8E7d198Ao78Sd8Br3pu7mJVtvltq6e6CRjHhBdw8E683iie7m7eZ8tZmYeF13D1gB8XbeiZd1FyPha/xyTjxYbxZGwgOciLjwajNcb1bye21zSnxD+YRKwqUWxIVXm8HvmPJqMyFxV3kPjPJO3Glr/0yv5/tsghM+kwpx6Q57k/NzhglfNVGAOMS1iZekp2pr0j/TuxBPQrwuPVVba+ee+Eh5D7i5J+5AvFSGuPTvmDbxJNd+pCeiEIe4OvFEb5koQ1ya+F8gDnGTlxoJvlImTjzBesSBOMS1WxziEDc5FYhDHOIQhzjEIW7uGRWIQxziLDchDvHVDScN2zkfXnnidgXiEBefqVQgDvGcG4c4xA3PG4jrBuIQhzjEIQ5xiEMc4hCHOMQhDnGIQxziEIc4xCEOcYhDHOIQhzjEIQ5xiEMc4hCHOMQhLkfcsjp/nzTnpOX99GE4hDjE1YkPIA5xUeJNWhziRhK3Oj94zRQJyvx4D+IQ1yUelPnxAOIQF27xHi0OcfkWN28u3uhMkuRr//Pnz0OrDHEZ4tblZTN99vuyxL9++jSEOMT3+3umEX+bdjtbXn84GBhJ3Pru8iLyIB5CXLTFMxD/OhzsQdxo4rbV6XjNJi0+M3/zPpra4p33MdvVhzgtfqfFHYjT4rLEb0R8GELcVOL+l0kzY/LQ4hDPOXFaHOK0uAbx6bWuo6FRxC/P4zZmOIQ4Lf4gP0PcROKNTvYhp8UNJt6COC0+u/sGtDgtDnGIrxDx2L1Ai5tMfF559fsQp8VnX+0cqhDfgzgtrk08Dy3e6Sw23LQ4xOWJ56/Fm6YQn7elrdZS1xW0uA7xJZ6MeFHingdxWjzqKqcE8Vy0eGfRsc5pi4cFSIvnhXguW3xpS86nJO6ezn0GoH8McVo8ogBbEDeBuO97tLhuizfeNyG+DOL5bPFlPVHw4sQHEKfFo4kPaPHVJm5Zk0mTFqfFpYlfNGnxnBOnxWnxp73F4wmJ29tn81fNR0NanBZXJu5pE0907d776c5L8P7Vo8WXPFehxV+ceOsfH+cQ34M4LU6LQ/wFiLunvWdZS60w8TkvW+73PwxnnFGyfH9Ci5tAPMEJleU+3iFLPM8tvrhxiNPiEIc4LQ5xiM9cjPiel/mUr+t/OaPFr3bUMcQliW9tn9HiK03ctl71Em0BxGfvvxNaHOLiLf5FrMXvS7Uta2vcmXUd4PHjj0cDiK8m8ZjXyCSanwUKLv/r9VRaPCvx3qoSb3TeP9OK2UTizVTENVv8r0lbvAVxWtwQ4oP7G/cpGfEWLb6yxGMWXQdJp2eu/+WrZIvfUu/8MI/5/jHEdYnbJwFxxRYXIP728vzxRn6czHx33QDiMafHaXGjiF/kiLi1PVnK83y2pUJ8ED0bmzyd8ecl/sskV8T/DfFEG+1u6RCnxTMQ35Nv8WDBYSBx+5XXSzYXb9LieW/xMP7kLPb5x4EpxC/yRPxV5OX7p9xiA1tcivgE4jkm7kAc4vltccf67jLuEd/jlSM+82bx4a+XT3Cz5KoS96PePf0MXw4wr8UhrkS8l1fitHhuWryVU+L/Z+9+ettG7jCOa5M3EEbwYu29uGv00NsyhAAJuQqU0VNSr4KmZ4E2fDVgub4FxAJqT2sYG1Q5B/GCvvRg9GC9uUpK7Dj2jDQUh9bMb76DnAIEETkfPpwZzh9SPBTiKSmuLv1aZhvWQzyOFDthTWv2V9VFpOlBHhRxUlwA8c74vXLjMs0M6t5RUMRJcYiT4qQ4xElxgSme9N9oPyXsQpwU9z/FIU6KS0/xBctdVzdSD3HlqrYp8TjKBhB/hCOOPE1xycRziJPipDjESXFS3BfitZ//4muK6wcO05VHDUlxiDuU4hCHeLAp3nWL+LRyB5qHWL2BUH2HWkHcsxSPdKt/Vs5BiK9j1U/tB9X5m+IQhzgp7jDxHOKk+MrtO7eIK3YJunmIlfqFEt+6Xttupf6muGDiuUDiBcRJcdkpDvFVPulqNvRdeS+VGogrB79vNlaIti6V3YnRSBzxJeeWDYfBEc9FEx/cEi8gHipxMSmunEpzW6Ga0yPqqnCIk+IQh7hbKd4ZZ54SbwdHfNGhhPXvrO5tivtLPIF46MSNR+Q05yOR4hAXkeIeEFdf3/D2NfRes1urOOJxlGXLj00dhUM8gXh4xHv7IREnxUNM8eMTUvxB6VvdndY68Vg5wS67/bQTR1uakxPEEZ/W1ZLW+Jf1EXkgxHOIh0l8PxjiQlJcPWKS3flA33rMeUkQJ8Uhvm7ix6T4vaJZxA5xB4lHyzucVbcWlpjiEJdH/PgkCOLGt0054RriHhPv1d0c9y3FC4j7QtywNT5vq2Qj8cSNk6G4cph4rF7ycNdvR51s9VSxL8S7IRCXkeId5drMbwa94+L68WLcmxQfkOJfy+TKd+JFOMSjqOialmz/Zjpm4CkugPg1xDXEa9prgxQnxZ0gnu7XtdbNtxRXDlms+vWAFHcrxWmLO0+8pf5xI4MumEjis091Wde89E7q2G6DFHeFeA5x0cRJcVKcFCfFPSSejMfK7smi7Q5zUtxZ4tHWx+W7aWvqPKsjvyDuY4ord6eFuCTiobfF1cRT74mnQolP37tvslLGs2xIiltb5GqZ+Pj9QLk9wP2x4o+PtV2Ql8QHmeW2iowUH/hE/BLii2fWkuKkuOyGSiqTeEgpHhjx2War5Xqcs8Nnc1LcxRRXThF7uG/f423d6SvxY4nERaQ4xC0R3yfFSXGfiE8r7UPRLVl6R6Q4Ke4P8TOIy0hx9R4vDx9f9SWk6Ugs8U2Iy0jxasTrWITuCvEkjiaTssatvdZIcVLcWeI5Ke5WiqtnyT4cG9CdnT2EOCnudoqbE7+E+HLix8KIk+IQJ8UXESfF3SY+r7mi7LCKpe/4MlI8I8UFEj8WRdz7FI+jKFu+HuJz0RwC3bVSoYKI75PiEPeJ+Ow9V3Kyip0DJFiBD3GIO5XiEIc4Kb4W4i31/ii7I+XjoOlvHgknnkQb/VJ7B3V7R6S4KzvTQrwm4jkpDnFSnBSHOMRJ8cq9zS3VqG/6cD3El6vQfM3LhRP/PO5bZvZ4byiFuO8p3nmvSift7xqrs2wX4nKJ5xCHOCnuNvEBxEsoN/6Yn2ajXAZx48tQLgEmxT0jfhYg8QTiIRHfNJ+SRYo7Qlx5PkR3V1c9kfrcNhtDZF4Qn92CyeR/Rt/zKw+lepbi6iXAHhIvIG5MvC2CeB4Y8ctLiJPipDjEJRE3TXH1DpC7K3ZJbBGP1EegLFh7qP7cnx7YPQ7FZeLJbCLDhsn02lVr19MUhzjESfE1EO9rduLUP7lj9aqInt3NOyHuYYrrwm/NxH+3RfwkJOLzF+DGm2XKV+1peZribhJ/S4pDvNYU75LiECfFaYu7SXzWIv/xqtZFyl6luGa5zMrDybaIT5TTChatqI80VwJxscTzasTbEIe4iBRv9bukOMQlp7ijxKNM3WM6PS30Rb1Kd2D1OBQviCezvZPGCxct75Liayf+SUf89ELzR008TSEulbjIFJ9J1hpXEyfFA0/xlxO7d6D+FL/QNFNI8Qf3cFDXbipepbizxHUpPhWuzHBdWzzQFA+CuNcp3u9aLEOIk+IQF0g8ib7PSHHNgYTd9ADiEJeR4q4Sn0Ac4lZSPCo+Wr4BbhLPIR5qiodCPMwU1330CCzFr0jxQIm3SfF1Eu9kNomnFlcok+KepXjf+jw0F4lnoRKPdREWUIpriKcQl0L8ihQPIcVTUjzUFNc11XrD1R9xO8RbXavF4qoIr4hrjkeotDjXrxSHOMRJcYhD3OMU13y8r7YdmBXi0ZZd4ln1cxEg7mOKQxzipPiaiI/fdy0XiIeY4mPdjPlKQ6YQh7gzKb6IOCkunXilHBOQ4jkpLp+4gE8/pDjEg07xVj/TttKqcLBCXFsxq4+MH/lPPNoqSs9ECDnFHSYeRcu2x15h2PBgBPGgUjyaXNU0kxjipLgTKQ5xiJPiEHeO+PdZVnbq+yTY+eJOE+/3u/bLLsRDSnF9V3M2Ka/a2APE6yQ+gLhZikPcV+Ill+l1tN8+SHGIQ5wUr4/4ZFID8d5QCvFjiC9O8SXnjk4jIoe408TNv9Uu2vBtNxeb4s4Tj6Msq4F419JG+o4QzyHub4rXRDyVRZwUV9+Fs9//USybkVf1x5DiEF8j8c2NcImLSvFZ/Z4svR59X1Pu6cljUjwk4pvCiaeHdw/s+5SZTfuoPuxQmbh+c5eT/xiU8bio7dpIcaeIZ/eIf/Kf+D//ZVICIT7fOkN/SfGPC4deexW/friY4p8OJaT43w3K26CI5wETX9e+aHUSNwnxX8NJ8TTwFJdInLa4okFa/DEajaLmbWc9isYfPi3ree1W/PoB8QpFt0WX+dY2Y03XuvJXLTeJX/zx79HoXTO/If7DDxCHuCjipyekuLlwGz/GBeKpsoJTkcTTCxoqARIPKcXXs6sMxCHuOvF2kMTtjDi4SzyFeOgp7gZx3cYfPeNaiS4vP9ayoIkUh7gjxItriC+ZbJcHmOLWTl8lxSHuJvFUEPFCc2QwxEnx9RPXH/e7a14rfc1jAnFrK7UhvnLR7YpQan7zePx+UMdqLoj7TDyzdkg8xCHuJPFjiENcMvGevfOzIe488dTCn+yybwAAB85JREFUPtQQhzjEIV7uUnplBkOiaOtj1ZFHiEMc4n4Sr7r23kvi+6M8gXgwxNMAiR9DnBSXTTxzh7i2EnfL/caXV7U1Qz0nnh1YqW2IQ9xV4ml4xK0d1gdxUhziEIf4YxNPs5H1eqhEXDeTtmzFtH7RrjwPmXhvaGt02J8UhzjESXGIiyLehvh6iU+u7KwYj3UYqn/H9ZZ4mu0fWfspXhBPs6HVwcKaibchXpV4GhrxroPEo2xgad8P3S2p/t7yOsXbbVIc4g4Tn516vTLy4YnN6naeeF28IQ5xiEMc4iET72td5qUxaLcQgbhc4mmWHV7UZ7s+4l2Ify36g14WjSwMLf8KR4n/9fDwsDgdjbwjTorfKWcQX57iuZvE4ygqrA1m649gHnpOfHNzJeJtv4k7VdwnnntN/HNr5UOh65nf171/Usd7G+K2ibdtEk9CIp5CnIYKKQ7xRyLeGY9tTizRHR5cdRmfE8Q/P8Xjcb8oMl16Z8cX9Y2eQRziayfe2z88rW9oAeIOE08DIZ59Op0Sb0PcIeKtfl+38ccqjcm+bmR8eBQG8Sw7Hb0jxb0gnkJ8SYnulWbt/yPEVwmlraKovhHW3WrPAiL+Q/Tuzp8c4m4Sv76G+IrE42+EvyPFvUvxNsQdKxBf5d/90u3aTPEk0Q2pHOQQh7hk4hnEIU6KQxzipDjEIU6KQxzipDjEIU6KQxzipDjEvSDuS4E4xCEOcYhDHOIQhzjEIQ5xiEMc4hCHOMQhDnGIQxziEIc4xCEOcYhDHOIQhzjEIQ5xiEMc4hCHOMQhDnGIQxziEIc4xCEOcYhDHOIQhzjEIQ5xiEMc4hCHOMQhDnGIQxziEIc4xCEOcYhDHOIQhzjEIQ5xiEMc4hCHOMQhDnGIQxziEIc4xCEOcYhDHOIQhzjEIQ5xiEMc4hCHOMQhDnGIQxziEIc4xCEOcYhDHOIQhzjEIQ5xiEMc4hCHOMQhDnGIQxziEIc4xCEOcYhDHOIQhzjEIQ5xiEMc4hCHOMQhDnGIQxziEIc4xCEOcYhDHOIQh7ijJYY4xCH+VHQFx8ETfwlx2cQ7EJdN/IUJ8SbEZRs4D574OcRlG0ggLrqzFTzx54045KGEOfE9iEsuvzU6EBffUHm25BaI7o28arQkX9528A2VpklzTfQd+C/En4p+j52b3IU92QbiZujERT/keyZ97ieCDXS2G4ngR9jky49w4ufLW+LT8ifB/e2GaOIvjIhLfo9NG2GxwavsiWgDyVnoxBPBva2W4U3YEXsHnk+JC35PPzMjLrmpNq/jkIm/mhJ/GXZvc0o8Cr0p3mh8J9lAEp+HTlzwe2zP8CaIbYx35h9vxb6njVqhU+Jy5zDM4suIeEOygUTue9qM+HeCH/KW6atM7Df83+bExb6njVqhjSc7idT6naeXGXGp/c3tOfG4KfjyjNqhYh/yvdCJd740woS+p+OGYWlKfchn12XWWpNK/MUX4pshN8Vnn69joQ95q5k83w6a+Kwp3vipKfU9bUz8idSH/MxYuFTir75MMxMaYn8zJd7YkfmQx83YVHjjLzJfY89uppmJDLH4uTlxmQ95q/nM+Bb8WWR35Oznm9nCIkOsVYK4zIf8tXGHe5pzEh/yeO9n0SH29ifj+n2aSBxT6TTNH/LGzobI19gt8UTg9b3YNq9fmR84N5ISt2BH4lSl18lX4gKvr0T1zogLfMhfvyhxC3YEzuNoNe8QT8Qt0S1TvTPi8tpqreZ2KeIb4tpqZ1/ncOzMwYcb4vPZ0uJivFSIzwy8ltYXSb4hLu36SlXvnLi0GC8X4tMet7iYO79HvCWrNb5dmri0GC8X4jPiwmLum33Adm7/JswQ/0w8FlXDG83yT7moGI/PHhAXVcOvViAuqr8V7z1f4RZ0RD3jD4hLquGN/7d3B8lpwwAUQD05QYTHC+3APYGiVY8BmS58LNPxgtsWMiQpbaYJNl1IvHcDf31J1jAWzZyKV7RRpymt73sjOz/KZcXztpaOp92VFX+4iKWKJeyxueuNLJ1PVn9UvJZVLI1P8ypezQiHbW7mbWRDW8scv6z46yUaXahjArdzK15Jx4+70dPMiqc6tvL4nC8r/j7CFXQ8xTbPrniqYRVL01e/zP4ggipe1sLbQzz+fjFpe7pOJIYaGp5X1w7wJpwcE6ig42lqr/1d4D2CELpD8QnEXf/qrxz6tvSOh3h6sGa2Pg2FX2Map3a1KIF+U3bH0/6Tu9S7UHLJQ7dulunzEAse4nSYct8szaDoWb7/9P8C0rbUlTzFsFva8NNO1o1jW2oCcZsWN/yYQRjLneZfuRuqG9MYyjOmab+84S8JDD9jgQHE8fuPq74E+UfHh1BvxV+O1mk4FDe+h+EW69f5ZSVPh7HABHK+VQQPm4orXu4FjuumufMBXt0ugqbmin8r9aTV3FLfh/tOoOaKAwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAD/wS/FNpgMK11uGgAAAABJRU5ErkJggg==",fire:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAIAAAACABAMAAAAxEHz4AAAABGdBTUEAALGPC/xhBQAAAAFzUkdCAK7OHOkAAAAwUExURUxpce83N/A3N/A3N/E3N+83N/A3N+83N+83N/A3N/A3N/A3N/A3N/E4OPg5Of07O5oTm/gAAAANdFJOUwASa8j1I69UOtmDmOdM2togAAAHLUlEQVRo3rVZbWwURRje2+Z6x/VPawPmoD9OPpWkDYVIINE2UcFGbO8QTDH0R0EEI0hPUhEkJWc4NGj8UQ1+AGmBGCNRoIZIKhGbKGhIzDUpTdDozCZtE3K0s5vQC0k/9s6Z/eje3r2zt4tx/vS2O/PMvM/7vO+8MysI/2Pzv/Put7t377224lDlQ4z2tV59Cst6G1u78z2v41sv3MhlkdGwkn1xZ8LT9Mt7ZcKGynJOlrUfysZv3BsS+EkibN5c5taaNevPSDmGJmVWx1yOf+Rpunicfe704hXHq6qqth1Yua85RyjgaXdmvNSjIqSk3zhuLdnfemWQgiob3SAs7KWTqaeWFcIys9wgiD10/NSeYsL8B6MESZtK8RDcT3uNLgPffUhtU34p4b+vVCTdfovHTgNB8jpHgGNZhEfjfP9QfjJnnQiIUvsfc2J4EOEHfBp8lIDMOcclvi8h6Xe+AZSkdSVYPqyiTISn4EEkvVBK8P79BI9zOtUSNBUvLRQ6zZPgm5CM5NdcSPWEiiZBHi8RfM9VouqAl0AXQCKuom2RDC6BLuAZl/F+kQBLEGU0FncJIGI0WeSILoKfd52yaonUXhiFKfcL0Pgq5LtaxUMesu4lRAqm60ByxANAuYqb7LQQdM/DeMHXWEBjspgV59ZGpD474FTME0AA47v5rJICk0q3AZSO2Sw46xGgWs23oQNQVqn03ZK3aNG7BYJwGU3O/Q57t4ANwhFLV2nvNUiA4HozQ/SgEbjTNieEjrlRoirVw32WOuX4JJqqNK1BnEDsmkw4xoNBQl0en/bWqTgkqWCzQQLV8V1e4kDKWScS7uhICNdzwx5P8wG60APtb4UqRbhzICXioIQJLRxqjL8wgINGQ8bMtcZKgC0kRStEfpTQcNiRzwUgNlquIVviKFgg3qDpEHdzOlQwAGbDZp6ThrRpuJEU1spdauDySk5em9SzUZzrJ63Fha2wGWWEZaUwSTs4gZHQLoRhNYhaDLQRnhOCKX0FTUKZGocjmlnfyd0RQqoOMC6UZU+Cbu5hm8EAgqQyX+NIB0hXhskMx483TWcWtoNa1jNavI0Q0IYB5uNGUAZH47oONRb76hCccuqoBv0pUGqXV+ky0o5M3dQdYNJLkhEhgMBYbGyib00TNjUjOO0yD4oEAgimpg0VzJ3coGlqNADoVUidEW3jYRLCVMshMhyH3syENQqGsYkApb1yMkoBJhIQveM/a8OG95lMQHqtoAAVUCj4etBfuhOlQy0GAJS2QiTNVlEJRYlpeqTT/B3xAFCtWgBisyknKBwnKACQ9I5a5EdosHDdwAWwJDCWEKp1G6D0rAMUm2BGwTBC9GWA70eRckC9UMlLBKNvas7r4AKEdIAYmI1pm9lKRrSQ0Z5GIB2kQSEZVqN7ZfJNbR/nATAlikBx8LERPxtCuT4t9fEAqmksQNFoAqwSZ2O6LjkANRQgwAegIrpvVKUcElk4B1uKNyYDIB0T+4wtjAPQRsYFXwNu5wBMC36zH0dIXWxf1lIzBGAl23lE36CAirsJTOu6461MVcbb5rWxtcXlga4DK0Yq2DOQuKj59Wy6GViJQ/b0MAoVeswBNaSoShTtFOjPgAxErUgqL9ayj0Ujtmxm8Sh1Q0pmQ0WgymO7Yl7ZEbA/2oSoGdJeLBA6JGHjAErKnXTnZ7tYsRBE1QYQIkg6CR68/tTr2SEwpyXy6nIEbe8+o75LAjXOAjUfYJ6KR7gVDqu1xhLA0TYvTYQJeLAuN3ZFUQVUuiCLrSDthE/2SUNB/lQxi4LvurLK8uosXOCY4hqAVBbo3WDZsw4uxc2JkwQqP7bPhUgAvrkKzZlunZ5s7YiZ7hfFOZWyST6t+6FCzWfO6+OdfWcs2Uw/xM17ykpySbBKKXmNYnmfHrvaPQN05dUsdDe+43W8ryHf7jo0G/MIUGE7cFd7t6GT5N98BVvQfY8+GEQzdp969AP1QXfB80lPAJeQPQfQFXm6xxHlQu11EocTKpQKCln3dhsXBBY84PZKlrVXVOmm8B9uJP29wPWnvxERt7dRJ8DJtqjYJQvBXtBcugR5hyuApRxrt/DuzN1egdMlSJ+7YLCDSJzbpQVZNPZ9SYDDKprlXThcJHiyVEwtjCKJ+xVEjJb8xBFoJPgBv8uxLFIcafBfVx2/E/muE6S+7vD+OxUpXziukH2J6ufO/4SMpL+dbdweRTizB+7jv5BFeDJeguVjMsLqJ5AvHt1FX82eK+nnJQpCym9F3/t8HzXQ+TM/uNgxlsgU4Z/Vb9v++cGPUULH97vac5ZItK+c3vt4lc5F1fwjV6IUVZrodxeuvoODtDvOjd367Nr5xSuvsu++tOxTbi9znbJe2qWw78ay2dhw9VTcfdIU5i/vycl5FyBy7td+j5ffrV/fwLmsNn8uO/zsee8FhPDygd2vrj/zx5efrt17aDO3178lRAH9e0KtGQAAAABJRU5ErkJggg==",in:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAIAAAACABAMAAAAxEHz4AAAABGdBTUEAALGPC/xhBQAAAAFzUkdCAK7OHOkAAAAtUExURUxpcRv7KSD/MBr6KRv6Kxn6KBn6KRr6KRr6KBj3KBr7KRj3KBr6KRr6Khr6KbH1JwQAAAAOdFJOUwCPEO8wd7/PWCCvQN+ffgtVrQAABJxJREFUaN6lWd1LFFEUHwctvwIrCnyRkRIhLCJSKmOwTAr6QNPIyGSp7MOHfdiKPhAxTBBEWYiCoAeJfFQMEgtKAh96kwi0N2Fbd01d79/Q7r2zO3dm7j33zMx50rlzfvs75545555zNU0q+oWOlfsDP/unl79qAUSfe0QKkpma9as+wqlTmWrxo183SDySqcbrfzKJSB5g6V8nEknEMfoVewkJg6AD+oRsKhH0YQJKQgUwz72cfLGve+zL6LUVHuEErF9rv9nUFbejImo/fw7plxb2L91lOFbmbIh2wAGr+ZeeeOKurKeALQd4mzf+o2j1ex7huDQCliz9aoWDZEZ0Wvo3ZL9QYgGk4B94KLfxsPVKROjBGbb4DNqmS4AfD7G1RgMMlF72VkywxLYwOQRHWjFz9Lp3pUjpAAfRiIRbylB+rr1iL5SgDKDRwihUuR4PYz41Jlfoq/9cvjGxBPLvEufXUg8HuVNe05ePOZ7V4AlkKXjdWIr3QE4WPJ8Us2AIC8A2Ys1tQUJDy4QrGpkFH/AA5S7G1IKMgQfQl5z7QC1o9lN9aTBtF/KlqUi2stzUwv/nx4Ks0Po/af1zQBDbqFDY4D/QKn8A5ZwT9JwLknF/ADp1Qtx2gShT6+2qvPKL/tmQ+/OkKHsBRUw7YjthQrKJ2TwfkQMU2bwPnsuKIUyfaYUTMqCbZmQliCsDcVX+TiucAG3+jLwKUqnMLR9VJl85hVJ3UhFnPjkFHSj0OAo5Gze1EBRy8ZPUQlCg2zAbgkKlOg3BFHbxOSUIhVJVIKgolOXW/mrBKeiqSFJSMBGpFKQQVYWiikKNKhRVFHopQMduWKJyChN0wSQoiUgA1rEAaQlABgsgorBAP0csQFq8Q3iAdSMkQExsAtoHAgIUAL0LMek24gJJRMAKJNzJOiYPZYW0ygnQ6rgdggAtDIkQBLQldUIBCej8QS0IgWI1AEiAHc5+BCfAjoqR4ARYaasKToDl26HgBGggJo3gBGgcpUMQoEfsVAgCJaomIQoT0HZ421fN2w3LCbBNgHZRHwQJsPM+PSK9y4mYAkCA+nAdPu4PQgS4NkXacNQDBFintqFoeX6rWp5JOzH4brpM7phZY/dPaKEdzyZ/Zl3zB0Abzy3+yJnxBxDlj6k6Cdh8zzr6J182tDrafxYJfmygYc59SRVEmR9Fk7t2V4eWwgPQKEpzcdpAlN2Hd/y8BQ6GEPWiytNlJluQozDTbUHeBuQw7r1gGMdswFGwxqpDovlaM94DCfHQGjMSNYUjUWsqjIgFNkDfNoRdoKoPtKfjMVkhybTgBtOCbLmTIIzQO+X3JLp1PfYYApgnQMW0huNkj1y/1jpZ34aG3kDBq7P0EwY49JYi5PXl2e98HkF4yXLGVN9VzeQR+jwk7TvAdFyVbGnN6HKutN0pXKBdhbbpst2jnLpp/3rbH/v5XTjSvvGXpNPdY58vjo7sX+QeNhqYfAm0j8oibN+3CfURKad4NZx+Vnpk+k3IrKuNi/X78IeQN4J2NNnlp/qWjbsgkn1n/R0gNP0ld32e8a1OZfTWvYHF00/7l18BwfMfTNVTTzWqIHcAAAAASUVORK5CYII=",info:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAIAAAACABAMAAAAxEHz4AAAABGdBTUEAALGPC/xhBQAAAAFzUkdCAK7OHOkAAAAwUExURUxpcf7mEf7nEf/kEv3nEP7mEf7mEf/lEP/mEf/lEf/mEf7mEf/mEv/0E//wE//rEpC4kPUAAAAMdFJOUwCX9BLfyrAnUj5ogEU6k00AAAabSURBVGje1VlbbBRVGJ5mE3rhpa1WVKRNGw0K9ELkIvjUG0Rt0ZSIEWiVqpVLWhssqZeXikWrTaxirSQ0sQQJgqQ2EAk+WJMmJEpmZ0IDfdp102a3IWU7mzSaCM7uuuc/c2ZnZ/4zl+2T52mzZ853/sv3/+f8/xEE/vBtHSypq2g8cuFpIZuR/3lJQ12FKIoVDQ1HPqvxunzrmRZFUZJqCkBOKkpszy/eIE63xGOiYciLc7Ufu1+e+3NlxnKASIQPuRUir31RFa1DCuzrdrV++2shER3yYq0bhO1tMZE3lHJnhLy2qGHPJBkGhPh6J4T8d9LrE8FoRWpsiAfTMsWft1/vuxxgmytKY8e1b3t7e0+d6WhSdAjlkC3ACWY/aXrHD2lpn/moTnfM9BWb9c9KbJ+/H850+tarVZoQ8m2+GXLbVE382q8tkx+0aNL513EB+qkB5NhejHP5xQpFiE1w1hdU0Q8CBzkCPkhlkOc5SpRSBWIHuSoWUwT/TnQ6J+ToacaSW19iFOik6OV2MVfQDFL6n0PmtoAF5UifLVE2UkeHERGoAMoDDlw/DvtIVhFy6MQ6x1RJuRK2OGIN3zomJWKoIwro36+4SBiTIMJtk61Pwr8zbrLeSkgQ/sJMiuyCP99wlfMuQbJfyPhvc8C1ACl1ZfKxmmGuSRBgt5W8gx2rrYE5TkSQjF/ny5hdSIKXgqHHV1msABa/adSAUFyyhIivLJTaK3nLQs5S0MHw96/kjzkLBzbT8JJumCdWEJNJ9WkNqq1mTbMbgaZOmzUBFloswE4Eq3WBNks67hCwuAYVFMYdixlhy9eZrdqIBk8K6DYw5i3mhSW/M2JErdTUBaPhX4OCR4xOtH4j/KYD/NWNRj9z5Dj5ZgFJsjrAksXDPuIHv2YEoo//JW8AsKv8R9pbKpIKJ21UoHrPp701j0TdTzZGFAqACQB8NPVT/gcB+E4HiCCnACg+wSSVEBNQKWHcRWbH9ZAmUNIYlrsYE6W1yOwmIvg9FklhLBf5WtldBzuOgQmzbJ9ZNHed1I77GfSAIBtHajRN7+GHSCtYIYSfVkT1pT7qBGk35xBpVpJKaC/nfNDccAmPJO1eU1K34xonV4+qNKI7NUl4RQc31RPd5bVUlbDnekJzg/wUNeZ8NiVNAaVYXhSPZRdVxYvkMKPp6E42AJAS5oUcYoqdWZVlXSTQwZZoKAnCqQE28GsHCacpoSeaTk2mUaYXOzhNvgCAYZULsCYp0xHHAYYAoJ/wCb/86jmRQ1QSBFPCZRVPiC4AiPmmhGIVTbpuAFYAQIueG7MEaFoGQIAAbPj/AyzbBvuXC9AuLpMHy2bi9+SEGssKoEfVo7EwK4BR1SEfOAHQfLAparjweQOgGYmY0nDr9QIwCTlxZdRwY/QG0AZ3F5tzwQEA0voMrTVmswGAM+0mvSzhZ6MDALmZEOU7ucHgAEBCgZzOcEmbyAIAbib19N6NM8kBYEibgeva2iwAurTrYQ7Xj/YAUDeRIh6IEPEOUMBu28AHNKXYA8D18D7TBf3EHmBUt90oz4r2AOl9QZZZrwBAZJoL4bKM1CT2AFCmRNL+wL6xBYC6byH9YerG6A2gy1B+E1KLM94AoFJjIQSlQ3LME8AmY7GaWy2iedEOoDSjlIL+w4wXAKpBfYY8ap8HANozGcuIC2tpZgPQaaomW9EmDh+AnAUZngdWWC60fIDjqikPApvlu24B8qvMEkNut9SXnawVvWgC6IlauHsU/rqf+d058sySGnMvZ5Ist1nUC2/dD9DxUU1s3Hbxx6Ki1RcvmKx7LIDwBpoN8g1XtRIIYK5Vac8oMeECYDiAdbcorDzr4gkHXGC2l2ZZMfG2I8DlKC5r/i7a1u1zWL8FfCsjPY1hQJbW21fBea3cloQmQvxV22KzLMoTgFlXnFtlA9Af4/dENEeI8q2z3PUjCVpH/otPH9M6oBEewleVtEE4N8ZRUHvikCLn0ekRbb2fayb2yCKFH0E0PCdpb0A2/etvtJcgeXqfuR393puK1uCctuG777Eoeyi7/ui7xri8Wq2w1zZbP+c1sz5qItBweAAwfO8PlNQF2f9+B6ZtrNQ7sQkl+cSeA0UPvdWUTL/VSRGnJ4wRyfBcmlCCwaBieHCUwmOO0XYirnJfPKXwFRcJ4xOJh5BwtT6lRSX+6hq/ftZle+bD/YpVCClU3ie4HdtK/LFMiKQSPtztpUc02F71p2p4vp164bzXRtfpjroKNhoPfMqjz38rjJflJpP4HwAAAABJRU5ErkJggg==",wall:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAIAAAACACAMAAAD04JH5AAAABGdBTUEAALGPC/xhBQAAAAFzUkdCAK7OHOkAAABOUExURUxpcf2oAP+oAP2oAP6mAP6oAP+pAP+nAP+tAP2oAP2oAP+vAP+oAP2nAP+nAP2nAP6oAP+pAP+nAP6oAP+qAP+oAP+yAP+uAP+rAP+wAGKXuTAAAAAVdFJOUwCPScm8hTVXCd2aDx/4e5RqFWPuQojXR7cAAAHpSURBVHja7ZrZboMwEEUBsxoaJ0CM/f8/2qosyZO5do2sVPc8R5MTFuvOTLKMENI++kuABebuEsoWFSj0cgFa4AL2eQELBT5RwMQhXOArDqECi6ijcDehAmWcg7VYb0LIFWijCDQUoAAFKEABClAgVMBGygPzKmBF5n0FitlF0WAovdJhAWpAU7HpVI5RrXQTwleOpmLvOyQ0kKAXrdArsJS91/e3AiprcwrgAp7HhIcANB/Qh0AL0Qt3WfMSACckQq6oCkO4y00vgfaB0Oe/v8hqNWCclJP2EACp9Pos3OKc2CpYoIojIClAAQpQgAIUoIC3wG3N+TZSHsj1ITDcEcZyG4aXI8ZJvXI5BBptAfTeOqI94uQua95juUHys3drxs6IrZm3gDl5C9CG5GjNoJdLHgJmKp1IsCWT68dFVyKIOz4lw5rS9udYCVtexxrTcWtGAQpQgAIUoEBygSL11qyw27/pMk8BM0nlorphyH0e7i63IZu3UKqdiBlaw831Fk6FhpB4LGdr9p8FUrfn2NZs/7ffXGBM7qd/eQkMFfSK7yOafXv2N5QwiYdUlU48psspQAEKUIACFKBAaoHwPJA6kDyxKfgpnQkVMDYKb1szT4G4UOCzBMwF6OQCEhaox+YCxjojJDXf4uSKYGN3ygkAAAAASUVORK5CYII=",window:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAIAAAACABAMAAAAxEHz4AAAABGdBTUEAALGPC/xhBQAAAAFzUkdCAK7OHOkAAAAVUExURUxpcSyV3S2U3SyV3C2U3C2U3S+Z4+9tYbwAAAAGdFJOUwDEcEWk8vaFTOAAAAHnSURBVGje7ZnLVsIwEIaD4QG42K4LR7oOVFyjgmsvNPtKM+//COZCrBsmYwMePeZfkCwyH38n0/Z0wlhSkhav4sSWECXFsmiA8nPpR0mI86NxsN9aSbi24z2ocUgZNC4oN4CRy+YTCDteQRPM/ADe3aT8AsgT4KyAYP0ucYCqg8IBhErEAQRJPAfzkBapkP4MgM/N76roDVjDRlNk2xfAJTwbiuoLWIN2oCl9HejQRhjKqCdAh04tpecuuNATBigAG3rKAAWQYwZoAMQABbDADJCSWCAGyKV8ygC5lJuouxExQC7lqOcBZoBeyhEA1AC5lOMAIxRwCF5CE/lU5oLFObj4i+WQAPCWHCQH53CQAAmQAAmQAAnwg4BtSDscQOkjYQClCISLOgAVm4NUSAnwSwCEpmzkzaRwgIy9GyH2eRDOweycu7DrAMUR0H7r49vvCPc9jwEBMPRrntTn+qFPzJ2nYwd0oMRxNIHWegmy6XqxIUlnd6DzpQNe/eZNXfumCANK03BlPDcfXyXARKxypetHPVQ3krAJ9oL3gu9M41fPJdS6+Fr931B3NYIr12v14tYdslltuCthJRjNgg2yG28DdSLc2eUjI2nmk2b671ldT8zkNoMXYrxePB53a6ujbV4J9v/0Aa21qAtzThtwAAAAAElFTkSuQmCC",kitchen:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAIAAAACABAMAAAAxEHz4AAAABGdBTUEAALGPC/xhBQAAAAFzUkdCAK7OHOkAAAAqUExURUxpcfTqKvXrKu/vMPXqKfTqKfTqKvTqK/LqKvPnKO/nKPTrK/TqKvTqKgvPVicAAAANdFJOUwCfrxB3x+8wWUAgj9+fNmOEAAADXElEQVRo3u1YzWsTQRRP3ZTdND1YqN4K2oN6ERbBaNFCSls/GxA/EDQLRStWaKBQ9KTgoYKggRx6VMhFEEQQ/ECQgBcPCgumbbb24/0vzm6aNDM7M29eQ724v1NmZt8v8/He772ZVCpBggT/AKcWvw1eqOza3JosQYjb1d3ZjxyBbTTGd2N/pgQ7OEq3z3jQiQ/k9deahvdu+M0fT4kEL0OjrYsL7OdiNJfGPMk+Hf37QrNhT4WtdRJBgVnMuO3mM+oisuKcQ8JVwg4OAQTjYg/kjWyXPhfnfrCvb/L9DvOKreLc1UHEsU8fbDmf6L6PWh5xTGf/ru19t8Qhuz1Urxp471b8o/YUYFN5+Dve/ys+ujMF1XlEO33n/IL19sVhVza/4U/Px4oRwxUpwRs2ct3FjmnJk21xNEU/dnZS2CHDfckA26SfRm7msH8K4qFlefKJKRz9e6z3BMBHQqg1Yp01QrBk2BT2x/sIqvUaYE3o6oWGS9IbcQ1leEARnOMxffHMor2FUfEcHFimauYfrqNHaKO640Od6+iHuzTZr0HAtZ/AIRoB24QK71vEzNMv+I0XuDSCrHAMfoOY+hyA6c62WucU6ANY4ZqrRAILYKNTZYhuwFDism2GTuBzJg55CQKBTSfgCwaLGEvRKWx0RWDzx8hWRPTEtJCeakAsaPcJslqOqSyCnKBpo9yWGKAMUOWjs04j8ARZdgRCg2DkPccq0TahF0QNrNEq0UKs6MvJMrY6OZZAlDAHKLqck9RJHpirGqsl4JrY+V7Sp8JjVqJUZDnfUNozPsgEqACGNY71RV54h5WPibBZr1TFangn2ESDMjPJPgvyqsoHveA1L3Oz8sGHBtezIe0FLFyEPk33hV8EyousFTKsYAVecEnzwRROoL9Is5D4jRCspBIClGAaIdjYWwJ7YiKP5FRiBkoI9oRg7X8gGLk8IIO7rYkoAfeK14GqIYHwikcnOAfdEWRKXRKcDF/xhmVoEayj1dOMq81MegJW7mmLLZTAQV79UII0oroWRtCjeqUyJch2S5BGZB0NJgcptBxMkSzQH2MOWWJUA83qIw15bjrLXHl5QIED4TOci79yaYHWogWEAH0ws32t/Qx+Qe3R2RuV487YsApf51MJEiTYI/wFfnAD3ltxHQAAAAAASUVORK5CYII=",livingRoom:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAIEAAACABAMAAADe0hfGAAAABGdBTUEAALGPC/xhBQAAAAFzUkdCAK7OHOkAAAAnUExURUxpcRQgeBMiehQiexIgeRAggBIieRIiehMjehMiehMjeRMheRMieiZedJ0AAAAMdFJOUwBA748mEHTYYKlQvyvHdt4AAAL1SURBVGje7ZjNaxNBGMY32k3SrYcEQaH0ICJGZQ+lUiu0Bz+IQchBUCJqDoIUkeZQelACe8jNiwdtsRLMwYs3D6JUQbxkYxNj5o9yPnZ2Zmc3OzMbEIrzXHaf3Znfzryzw7wzlmVkZPTvdO+O4K/p1b+1A0C7w3zjS9RLddIFSMvU3xS8VHdJBTAKWp4PvP8hpdKp7y+g3uB7uwcCDZP9S1S2vZn4VdzO0yAU9jXm3yJ/O2hRJC70K6MSo9FSom9Q/4cD5FmZvXf4Urmy5QYeXyv7zzzsu2sh0OcGuAAETeDLouBznljqMSM0hVc+fveAeRy1eZHwmhGWUAi63TDml8jjDeovCP5i9z3qyxlG+ERilOfajJRzo37OY//JfIwwYBGdlMII4yqTzSTviQQyNM66V9nnQuxsxf23Ku1SlPBLd/IagiEYgiEcKQKo7JXUqz9c33FjBJ38IMgnGIGuZ75ilhLmFzRTslfoWjRQAsx5wtrGrY9gW4Vwg5XvCMshXI5UmsDlE32WPPjtNXFBn6ZHuPzXXZZCoEaNPsIVDXVP4bdoobbCla8Rdhuu+f4qujkOn4ylANulg1YLMiH0ZMjo0tQVdfocufVI4NCTA/JkQSUQBVaoTr5YYCmVHc0qklVnXS0S2Amu8z2FULZYGmiTXKoehgG/7SsQwq94eDCWuNQSzrDfMkKP6ymZ4a84ZpNrTwrhM9eeQ33Cz/+DIJsYticjyCYGmgQSwqCcpsVeOuEYUNLydMKCGqEzneAoAdjuKE5AQyXX0Eoh3NcKQxLBeirvww8rlWDlyhJVLQlBS4ZgCIZgCIZwhAj9rIQNShhnBKB8hhDAajYAOo49DHaK/tksCnaMTTCTthNOWPUEdwe5mQB409qahYD3rEU3OyA4f3WewCRxfFlT8F8YXK3Ocv7QE08PhjMTfE2AEzttBufLOlpciRKamf9HzYx8emoaP9NXUyk60fUVOXOpZSEcRAZnVx/wXBjf62VNVS0jowT9BdaXVla6cjkQAAAAAElFTkSuQmCC",skyBoxLeft:"data:image/jpeg;base64,/9j/4AAQSkZJRgABAQEAYABgAAD/2wBDAFA3PEY8MlBGQUZaVVBfeMiCeG5uePWvuZHI////////////////////////////////////////////////////2wBDAVVaWnhpeOuCguv/////////////////////////////////////////////////////////////////////////wAARCAgACAADAREAAhEBAxEB/8QAGAABAQEBAQAAAAAAAAAAAAAAAAECBAP/xAAVEAEBAAAAAAAAAAAAAAAAAAAAAf/EABcBAQEBAQAAAAAAAAAAAAAAAAABAgP/xAAUEQEAAAAAAAAAAAAAAAAAAAAA/9oADAMBAAIRAxEAPwDDbIAAAAAAACgAAAAAAAAAAAAAAAAAAAAAAAAAAAAoAAAAAAAAAAAAAAAAAAAAAAAKAAAAAAAAAAAAAAAACgAAAAAIAAAAKAAAAAAAAACgAAAAAAAAAAAACiACAgICAgIACAAAAAAAAAICgAAAAAAAAAAAgAoAAAAAAAICgAooCgoAAIACAAAAIAAoAAACgAAAAAAAAAIAAAAAAAKAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAACAAAAAAAAAy6sAAAAAAAAKAAAAAAAAAAAAAAAAAAAAAAAAAAAACgAAAAAAAAAAAAAAAAAAAAAAAoAAAAAAAAAAAAAAAAKAAAAAAgAAAAoAAAAAAAAAKAAAAAAAAAAAAAKIAICAgICAgAIAAAAAAAAAgKAAAAAAAAAACACgAAAKCAAAAAACigKCgAAgAIAAAAgCgAAAKAAAAAAAAAAgAAAAAAAAoAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAIAAACgAAAAAAAAAAAAAgAAAAAAAAMurAAAAAAACgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAoAAAAAAAAAAAAAAAAAAAAAAAKAAAAAAAAAAAAAAAACgAAAAAIAAAAKAAAAAAAAACgAAAAAAAAAAACgCACAgICAgIACAAAAAAAAAICgAAAAAAAAAAgAoAAAAAAAAAAAKKAoKACAAAgAACAAKAAAAoAAAAAAAAACAAAAAAAACgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAgAAAAAKAAAAAAAAAAAAACAAAAAAAAy6sAAAAAAAKAAAAAAAAAAAAAAAAAAAAAAAAAAAACgAAAAAAAAAAAAAAAAAAAAAAAAoAAAAAAAAAAAAAAAAKAAAAAAgAAAAoAAAAAAAAAKAAAAAAAAAAAAKAIAICAgICAgAIAAAAAAAAgAKAAAAAAAAAACACgAAAAAAAAAAAoqgAoAIAACAAAIAAoAAACgAAAAAAAAIAAAAAAAAAAKAAAAAAAAAAAAAAAAAAAAAAAAAAAAAACAAAAAAAAoAAAAAAAAAAAAIAAAAAAADLqwAAAAAAAoAAAAAAAAAAAAAAAAAAAAAAAAAAAAKAAAAAAAAAAAAAAAAAAAAAAAACgAAAAAAAAAAAAAAAAoAAAAACAAAACgAAAAAAAAAoAAAAAAAAAAAAoAgAgICAgICAAgAAAAAAACAAoAAAAAAAAAAIAKAAAAAAAAAAACiqACgAgAIAAAAgACgAAKAAAAAAAAAAgAAAAAAAAAAAAAAAoAAAAAAAAAAAAAAAAAIAAAACgAgAAAAAAAAKAAAAAAAAAAAAACAAAAAoAMOrAAAAAACgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAoAAAAAAAAAAAAAAAAAAAAAAAKAAAAAAAAAAAAAAAAACgAAAAAIAAAAKAAAAAAAAACgAAAAAAAAAAACgCCAAgICAgIAACAAAAAAAIACgAAAAAAAAAAgAoAAAAAAAAAAKAKoAKCAAAgAACAAKAAAAoAAAAAAAACAAAAAAAAAAAAAAAAACgAAAAAAAAAAAAAAAgAAAAAAAAAAAAAAAAKAAAAAAAAAAAAAAAAAAAADDqwAAAAAAoAAAAAAAAAAAAAAAAAAAAAAAAAAAAAKAAAAAAAAAAAAAAAAAAAAAAACgAAAAAAAAAAAAAAAAAoAAAAACAAAACgAAAAAAAAAoAAAAAAAAAAAAoAggAICAgICAAAgAAAAAAACAoAAAAAAAAAAIKAAAAAAAAAAACigKAAAAACAAAIAAoAACgAAAAAAAAAIAAAAAAAAAAAAAAAAAAKAAAAAAAAAAAAAACAAAAAAAAAAAAAAAAAoAAAAAAAAAAAAAAAAAAAAMOrAAAAAACgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAoAAAAAAAAAAAAAAAAAAAAAAAKAAAAAAAAAAAAAAAAACgAAAAAIAAAAKAAAAAAAAACgAAAAAAAAAAACgCCAAgICAgIAACAAAAAAAAAAAAAAAAAAAAIKAAAAAAAAAAACiqAAAAACAAAAIAAoAACgAAAAAAAAIAAAAAAAAAAAAAAAAAAAAAKAAAAAAAAAAACAAAAAAAAAAAAAAAAAAoAAAAAAAAAAAAAAAAAAAAMOrAAAAAACgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAoAAAAAAAAAAAAAAAAAAAAAAAKAAAAAAAAAAAAAAAAACgAAAAAIAAAAKAAAAAAAAACgAAAAAAAAAAACgCCAAgICAgIAAAACAAAAAAAAAAAAAAAAAAIKAAAAAAAAAACgCqAAAAACAAAAIAAoACgAAAAAAAAAIAAAAAAAAAAAAAAAAAAAAAAAKAAAAAAAAACAAAAAAAAAAAAAAAAAoAAAAAAAAAAAAAAAAAAAAAMurACAAAAAoAAAAAAAAAAAAAAAAAAAAAAAAAAAAKAAAAAAAAAAAAAAAAAAAAAAAACgAAAAAAAAAAAAAAAAAoAAAAACAAAACgAAAAAAAAAoAAAAAAAAAAAAoAggAICAgICAAAAAAAgAAAAAAAAAAAAAACACgAAAAAAAAAAoAqgAAAAAgAACAAAKAAoAAAAAAACAoIAAAAAAAAAAAAAAAAAAAAAAAAKAAAAAAAACAAAAAAAAAAAAAAAAoAAAAAAAAAAAAAAAAAAAAAAMurAACAAAAAoAAAAAAAAAAAAAAAAAAAAAAAAAAAKAAAAAAAAAAAAAAAAAAAAAAACgAAAAAAAAAAAAAAAAAAoAAAAAACAAACgAAAAAAAAAoAAAAAAAAAAKCCgCCAAgICAgIAAAAAAACAAAAAAAAAAAAAAIAKAAAAAAAAACgAooCgAgAIAAAAgACgAAKAAAAAAAAgAAAAAAAAAAAAAAAAAAAAAAAAAAoAAAAAAAAAIAAAAAAAAAAAAACgAAAAAAAAAAAAAAAAAAAAAAAy6sAAAIAACgAAAAAAAAAAAAAAAAAAAAAAAAAAAoAAAAAAAAAAAAAAAAAAAAAAAAKAAAAAAAAAAAAAAAAAACgAAAAAAAIAAKAAAAAAAAACgAAAAAAAAAoAIKAIIACAgICAgAAAAAAAIAAAAAAAAAAAAAgAAoAAAAAAAAAKACiqAACAAgAAACAAKAAoAAAAAAAACAAAAAAAAAAAAAAAAAAAACAAAoAAKAAAAAAAAACAAAAAAAAAAAoAAAAAAAAAAAAAAAAAAAAAAAAAICOrAAAAAAAAAAAAAAAAAAAAAAAAAAAAAACgAAAAAAAAAAAAAAAAAAAAAAAAAAAAoAAAAAAAAAAAAAAAAAAKAAAAAAAAgAAoAAAAAAAAAKAAAAAAAACgAAgoAggAICAgIACAAAAAAAAgAAAAAAAAAAAACACgAAAAAAAAoAKAKoAAIACAAAAIAAoACgAAAAAAAAIAAAAAAAAAAAAAAAAAAAAIAAACgAoAAAAAAAAAAIAAAAAAAACgAAAAAAAAAAAAAAAAAAAAAAAAAAAy6sAAAAAAAAAAAAAAAAAAAAAAAAAAAAAKAAAAAAAAAAAAAAAAAAAAAAAAAAAACgAAAAICgAAAAAAAAAAAAACgAAAAAAAIAKAAAAAAAAACgAAAAAAAAoAAIKAIIACAgICAAgAAAAAAAIAAAAAAAAAAAAgAoAAAAAAAAAKACgooAACAAgAACAAAKAoAAAAAAAACAAAAAAAAAAAAAAAAAAAACAAAAoAAKAAAAAAAAAACAAAAAAAAoAAAAAAAAAAAAAAAAAAAAAAAAAAAAMurAAAAAAAAAAAAAAAAAAAAAAAAAAAACgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAoAAACAAoAAAAAAAAAAAAAAoAAAAAAACACgAAAAAAAAAoAAAAAAAAKAAAKgCCAAgICAgAIAAAAAAACAAAAAAAAAAAAIAKAAAAAAAACgAoKAKAAAgAIAAAgACgAKAAAAAAAAAgAAAAAAAAAAAAAAAAAAAAAgAAKAACgAAAAAAAAAAAAgAAAAAKAAACAoAAAAAAAAAAAAAAAAAAAAAAAMurAAAAAAAAAAAAAAAAAAAAAAAAAAAACgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAoAACAoIACgAAAAAAAAAAAACgAAAAAAAIAKAAAAAAAAACgAAAAAAAAoAAAqAIIACAgICAAgAAAAAAIAAAAAAAAAAAAAgAoAAAAAAAAKACgoqgAgAIACAAAIAAoACgAAAAAAAIAAAAAAAAAAAAAAAAAAAAAAAAAAAAKAAAAAAAAAAAAACAAAAAAAAAAAAoAAAAAAAAAAAAAAAAAAAAAMOrAACgAAAAAAAAAAAAAAAAAAAAAAAAoAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAKAAAAgAAKAAAAAAAAAAAAAKAAAAAAAAAgoAAAAAAAAAKAAAAAAAACgAACoAgAgICAgIACAAAAAAAgAAAAAAAAAAAACACgAAAAAAAAoKCgCqAACAgAIAAAgACgKAAAAAAAAAgAAAAAAAAAAAAAAAAAAAAAAAAAAAoAAAAAAAAAAAAAAAAIAAAAAAAAACgAAAAAAAAAAAAAAAAAAAAAw6sAAAKAAAAAAAAAAAAAAAAAAAAAAACgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAoAAACAAAoAAAAAAAAAAAAAoAAAAAAAACCgAAAAAAAAAoAAAAAAAAKAAAKgCACAgICAgAIAAAAAACAAAAAAAAAoAIAAgoAAAAAAAAKACgoKKAAAgIACAAIAAoACgAAAAAAAIAAAAAAAAAAAAAAKACAAAAAAAAAAAoAAAAAAAAAAAAAAAAAIAAAAAAAAACgAAAAAAAAAAAAAAAAAAAAAw6sAAAAAKAAAAAAAAAAAAAAAAAAAAACgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAoAACAAAAAoAAAAAAAAAAAoAAAAAAAAACCgAAAAAAAAAoAAAAAAAAKAAAKgACCAgICAAgAIAAAAAACAAAAAAAAoAAIAgoAAAAAAAAKCgAoqgAAAgIACAAIAAoACgAAAAAAAIAAAAAAAAAAAAAKAACAAAAAAAAAAoAAAAAAAAAAAAAAAAAAIAAAAAAAAACgAAAAAAAAAAAAAAAAAAAAAw6sAAAAAAKAAAAAAAAAAAAAAAAAAAACgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAoAACAAAAoAAAAAAAAAAAAoAAAAAAAAAAKgAAAAAAAAAoAAAAAAAAKAAAKgACCAgICAAgAIAAAAAACAAAAAAAAoAAAIgoAAAAAAAAKCgoAqgAAgAIACAAIAAoCgAAAAAAAAIAAAAAAAAAAAAKAAACAAAAAAAAAAoAAAAAAAAAAAAAAAAAIAAAAAAAAAACgAAAAAAAAAAAAAAAAAAAAAw6sAAAAAAAKAAAAAAAAAAAAAAAAAAACgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAoAAACAAAAoAAAAAAAAAAAoAAAAAAAAAAKgAAAAAAAAAoAAAAAAAAKAAAKAgCCAAgICAgAIAAAAAAACAAAAAAoAAAACAAAAAAAACgAoKCigAAICAAgACAAAKAoAAAAAAKAggAAAAAAAAAAAAKAACAAAAAAAAAAAAoAAAAAAAAAAAAAAAAIAAAAAAAAACgAAAAAAAAAAAAAAAAAAAAAAw6sAAAAAAAKAAAAAAAAAAAAAAAAAAACgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAoAAACAAAAAoAAAAAAAAAAoAAAAAAAAAAKgAAAAAAAAoAAAAAAAAAKAAAAKgCCAAgICAgAAIAAAAAACAAAAAAoAAAACAAAAAAAACgAoKCigAIACAAgACAAAKoAAAAAAKAgAAgAAAAAAAAAAKAAACAAAAAAAAAAAAAAAoAAAAAAAAAAAAAIAAAAACgAAAAAAAAAAAAAAAAAAAAAAAAAAw6sAAAAAAAKAAAAAAAAAAAAAAAAAAACgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAoAAACAAAAAoAAAAAAAAAAoAAAAAAAAAAKgAAAAAAAAoAAAAAAAAAKAAAAKgCACAgICAAgAIAAAAAACAAAAAAoAAACAAAAAAAAACgoAKKoAAIACAAgACAACigAAAAAKAAgAAAgAAAAAAAAAKAAACAAAAgAKAAAAAAAAACgAAAAAAAgAAAKAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADDqwAAAAAAAoAAAAAAAAAAAAAAAAAAAKAAAAAAAAAAAAAAAAAAAAAAAAAAAAAACgAAIAAAAACgAAAAAAAAACgAAAAAAAAAAqAAAAAAAACgAAAAAAAAAoAAAAqAIAICAgAICAAgAAAAAAIAAAAACgAAAIAAAAAAAAAKCgoAqgAgAIACAAIAAAKKAAAAAAoCAAAACAAAAAAAAAoAAAAIAACAAAoAAAAAAAAAKAAAAAACAAAAAoAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAMOrAAAAAACgAAAAAAAAAAAAAAAAAAAAoAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAKAAAgAAAAAKAAAAAAAAAAKAAAAAAAAAACoAAAAAAAAKAAAAAAAAACgAAACgIgAgAICAgIAACAAAAAAAgAAAAKAAAAgAAAAAAAAoAKCgCqACAAgAIAAgAAAooAAAACgAIAAAAAIAAAAAAACgAAAAgAAIAACgAAAAAAAAAAoAAAAIAAAACgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAw6sAAAAAKAAAAAAAAAAAAAAAAAAAAACgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAoACAAAAAAoAAAAAAAAAAoAAAAAAAAAKgAAAAAAAAAoAAAAAAAAAKAAAAKAiACAAgICAgAAIAAAAAACAAAAAoACAAAAAAAAAACgAoKKoAAIACAAgACAACgCgAAAAKgAAAAAAAAgAAAAAAKAAAACAAAAgAKAAAAAAAAAACgAAAgAAAAAKAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADDqwAAAAAoAAAAAAAAAAAAAAAAAAAAAKAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAACgAAIAAAACgAAAAAAAAACgAAAAAAAAAqAAAAAAAAACgAAAAAAAAoAAAAAoCIAAICAgICAAAAgAAAAAIAAAACgAIAAAAAAAAAAKCgoAqgAAgAIACAIAAAKKAAAAAAqAAAAAAAACAAAAAAoAAAAAIAAAAAAAAAAAAAAACgAAAAgAAAAKAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAACAAy6sAAAAAKAAAAAAAAAAAAAAAAAAAAACgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAoAACAAAAAoAAAAAAAAAAoAAAAAAAAAKgAAAAAAAAAoAAAAAAAAKAAAAAKAiAACAgICAAgAAIAAAAACAICgACoCggAAAAAAAAAoAKCgCqAACAAgAIAgAAoAoAAAACgIAAAAAAAAAIAAAACgAAAAAgAAAAAAAAAAAAAAKAAAACAAAAAoAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAIAAADLqwAAAAAoAAAAAAAAAAAAAAAAAAAAAKAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAACgAAAIAAACgAAAAAAAACgAAAAAAAAAAIKAAAAAAAACgAAAAAAAAoAAAAAoCIAAICAgIACAAAAgAAAAIAgKAAKgKACAAAAAAAACgAoKCigAIACAAAAiAACgCgAAAAKAgAAAAAAAAAgAAAAKAAAAAACAAAAAAAAAAAAAoAAAAAIAAACgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAgAAAAMurAAAAACgAAAAAAAAAAAAAAAAAAAAAoAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAKAAAAgAAAKAAAAAAAAAKAAAAAAAAAACoAAAAAAAAKAAAAAAAAACgAAAACgCCAAgIACAgIAAACAAAAAgCAoICioCgAgAAAAAAAAoKACiqAACAAgAAAIgAoAAoAAAACgIAAAAAAAAAIAAAACgAAAAAAgAAAAAAAAAAAKAAAAAAACAAoAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAIAAAAADLqwAAAAAAoAAAAAAAAAAAAAAAAAAAAKAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAACgAAAIAAAACgAAAAAAACgAAAAAAAAAAqAAAAAAAACgAAAAAAAAAoAAAAAoAggAIACAgIACAAAgAAAAAIAgAKKgAAAAAAAAAAoAKCgCqAACAAgAACAAAAAKAAAAAoCAAAAAAAAAACAAAAoAAAAAAAIAAAAAAAAACgAAAAAAAAgKAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAACAAAAAAAy6sAAAAAAAKAAAAAAAAAAAAAAAAAAACgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAoAAAACAAAAoAAAAAAAAoAAAAAAAAAAKgAAAAAAAAoAAAAAAAAAKAAAAAKAIIAACAgICAAgAAAIAAAACAIACioAAAAAAAAAAKACgoAqgAAgAIAAAgAAAACgAAAKAgAAAAAAAAAAAgAAKAAAAAAAACAAAAAAAAAoAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAIAAAAAAADLqwAAAAAAAoAAAAAAAAAAAAAAAAAAAKAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAACgAAAAIAAAACgAAAAAACgAAAAAAAAAAqAAAAAAAACgAAAAAAAAAoAAAAoAACIAAICAgIACAAAAgAACACKCAAoqAAAAAAAAAACgAoKCigAAIACAAAIAAAAoAAAACgIAAAAAAAAAAAAIACgAAAAAAAAAgAAAAAAKAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAACAAAAAAAAAy6sAAAAAAAKAAAAAAAAAAAAAAAAAAAACgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAoAAAACAAAAAAoAAAAAAoAAAAAAAAAAKAgAAAAAAAoAAAAAAAAAKAAAAKgACAAACAgIACAgAAIAAAAgAiggAAoAAAAAAAAAAKACgoqgAAAgAIAAAgAAACgAAAKAAAgAAAAAAAAAAAAAAAAAAAAAAAAAAgAKAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAACAAAAAAAAAAAy6sAAAAAAAKAAAAAAAAAAAAAAAAAAAACgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAoAAAACAAAAAoAAAAAAAoAAAAAAAAAAKAgAAAAAAAoAAAAAAAAAAAAAoAAAgAAgAICAAgIAACAAAAIAIoIAAAKAAAAAAAACgAoKAKoAAAIACAAIAAAAAoAACgAAIAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAIAAAAAAAAAAAADLqwAAAAAAAoAAAAAAAAAAAAAAAAAAAAKAAAAAAAAAAAAAAAAAAAAAAAAAAAAAACgAAAAAIAAACgAAAAAACgAAAAAAAAAAoACAAAAAACgAAAAAAAAAAAACgACAACAAAgICAAgAAIAAAAAggAAAAKAAAAAAAACgAoKCigAAAIACAAIAAAAAoACgAAAIAAIACgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAgAAAAAAAAAAAAAAAMurAAAAAACgAAAAAAAAAAAAAAAAAAAAAAoAAAAAAAAAAAAAAAAAAAAAAAAAAAAAKAAAAAAgAAAAKAAAAAAKAAAAAAAAAACgAIAAAAAAKAAAAAAAAAAAAKAAAIIAAACAgAICAAAgAAACAoIIAAACgAAAAAAAAAoAKCgooAAACAAgACAAAAAKAoAAAACACAAAAAoAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAIAAAAAAAAAAAAAAAADLqwAAAAAoAAAAAAAAAAAAAAAAAAAAAAAKAAAAAAAAAAAAAAAAAAAAAAAAAAAAACgAAAAAIAAACgAAAAACgAAAAAAAAAAAoCAAAAAAACgAAAAAAAAAAACgIAgAAAAgAIACAgAAIAAAAgKCCAAAAoAAAAAAAAAKCgAoqgAAAAgAIAgAAAAACgKAAAAAAggAAAAAKAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAACAAAAAAAAAAAAAAAAAAy6sAAKAAAAAAAAAAAAAAAAAAAAAAAAAACgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAoAAAAAACAAAoAAAAAAoAAAAAAAAAAAKAgAAAAAAAoAAAAAAAAAAAoACIAAAAIAACAAgIAACAAIAAAAIAAACgAAAAAAAAoAKCgooCggAIACAAIAAAAAAqgAAAAAIIAAAAAACgAAAAAAAAAAAAAAAAAAAAAAgAAAAKAAAAAAAAAAAAAAAAAAAAAAAAAAAAACAAAAAAAAAAAAAAAAAAjqwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAoAAAAAAAAAAAAAAAAAAAAAAAAAAAAKAAAAAAAgKCAoAAAAAAoAAAAAAAAAAAKAAgAAAAAAoAAAAAAAAAAAoACIAAAAAIACAAgAIAACAIAAAAIAAACgAAAAAAAAoAKCgooCggAIACAAIAAAAAoCgAAAAAAiAAAAAAACgAAAAAAAAAAAAAAAAAAAAgAAAAAKAAAAAAAAAAAAAAAAAACAAAoAAAAAAIAAAAAAAAAAAAAAAAAACOrAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAACgAAAAAAAAAAAAAAAAAAAAAAAAAAAoAAAAAAAAAAAAAAAAKAAAAAAAAAACgAAIAAAAAAKAAAAAAAAAAAAKAIIAAAAACAAgAIACAAAiAAAAACAAoAAAAAAAAAKCgAoKKoAIACAAgCAAAAAAKoAAAAAAAIgAAAAAAAoAAAAAAAAAAAAAAAAAAAAIAAAAACgAAAAAAAAAAAAAAAAgAAAAAKAAAACAAAAAgAAAKAAAAAAAAAACOrAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAACgAAAAAAAAAAAAAAAAAAAAAAAAAAAoAAAAAAAAAAAAAAAAKAAAAAAAAAACgAAAIAAAAKAAAAAAAAAAAAAKAIAAAAAIACAAgAIACAAIIAAAACAAoAAAAAAAAKACgoKKAoAIACAgACAAAAAAKoAAAAAAIAgAAAAAAAoAAAAAAAAAAAAAAAAAAAAIAAAAACgAAAAAAAAAAAAAAAgAAAAAAKAAAACAAAAgAAAAAAAKAAAAAAACOrAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAACgAAAAAAAAAAAAAAAAAAAAAAAAAAoAAAAAAAAAAAAAAAKAAAAAAAAAAACgAAIAAAAAKAAAAAAAAACgAAgAoAgAAAAAgAAICAAgAIACAIAAAIACgAAAAAAAAoAKCgoqgAAgAICAIAAAAAAKKAAAAAAAgCAAAAAAACgAAAAAAAAAAAAAAAAAAAgAAAAAAKAAAAAAAAAAAAACAAAAAAAAAoAAIAAAACAAAAAAAAAAAAoAAAAI6sAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAKAAAAAAAAAAAAAAAAAAAAAAAAAACgAAAAAAAAAAAAAAAoAAAAAAAAAAAKAAAgAAAAAoAAAAAAAAKAAAAAAKIAAAAIAACAAgIACAgAIAgAAAgAAKAAAAAAACgAoKCiqAACAgAIAgAAAAACqAAAAAAACIAAAAAAAAKAAAAAAACAAAoAAAAAAAAIAAAAAACgAAAAAAAAAAAAgAAAAAAAAAKACAAAAAgAAAAAAAAAAAAKAAAACOrAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAACgAAAAAAAAAAAAAAAAAAAAAAAAAAoAAAAAAAAAAAAAAAKAAAAAAAAAAACgAAIAAAAAKAAAAAAAACgAAAAACiAAAAACAAAgIACAgAIACAIAAAIACgAAAAAAoAKCgAoqgAgAIACIAAAAAAKKAAAAAAAgCAAAAAAAACgAAAAAgAAAAAKAAAAAAAACAAAAAoAAAAIAAAAAAAAAAAAAAAAAAAAAAAAACAAAAAAAAAAAAAoAAAAI6sAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAKAAAAAAAAAAAAAAAAAAAAAAAAAAACgAAAAAAAAAAAAAAAoAAAAAAAAAAAKAAAgAAAAAoAAAAAAAAKAAAAAAKIAAAAAAIACAAgICAAgAIAgAAAgKAAAAAAACgAoKCgCqACAAgIAgAAAAAoAoAAAAAACAIAAAAAAAAKAAAAACAAAAAAAoAAAAAAAIAAACgAAAAgAAAAAAAAAAAAAAAAAAAAAAAAAIAAAAAAAAAAAAACgAAAAjqwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAoAAAAAAAAAAAAAAAAAAAAAAAAAAAAAKAAAAAAAAAAAAAACgAAAAAAAAAAAAoAACAAAAACgAAAAAAAoAAAAAAAogAAAAAAgAIACAgIACAAgCAAAAAAAAAAAACgAoKCgCqACAgAIAgAAAAAooAAAAAAACAIAAAAAAAKAAAAACAAAAAAAAoAAAAAAAAAAAAAAAAIAAAAAAAAAAAAAAAAAAAAAAAAACAAAAAAAAAAAAAAoAAAAI6sAAAAAAAAAAAACAoIKAAACAKAAAAAKAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAACgAAAAAAAAAAAAAAoAAAAAAAAAAAAKAAAgAAAAAoAAAAAAAKAAAAAAAKIAAAAAAIACAAgIACAgAIAgAAAAAAAAAAAoAKACgooCggAIACAIAAAAKAKAAAAAAAAiAAAAAAAACgAAAAAgAAAAAAAAKAAAAAAAAAAAAAAACAAAAAAAAAAAAAAAAAAAAAAAAAgAAAAAAAAAAAAAKAAAAACOrAAAAAAAAAAgAAAAoAAAAAAAACgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAACgAAAAAAAAAAAAAoAAAAAAAAAAAAKAAAAgAAAAAoAAAAAAAKAAAAAAAKIKAACAAAAgAICAgAICAAgCAAAAAAAAAAACgAoKACigAAAIACIAAAAAKAKAAAAAAAAgCAAAAAACgAAAAAAgAAAAAAAAAKAAAAAAAAAAAAAAACAAAAAAAAAAAAAAAAAAAAAAAAgAAAAAAAAAAAAAKAAAACAOrAAAAAAAAAAgAAAoAAAAAAAAAACgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAACgAAAAAAAAAAAAoAAAAAAAAAAAAAKAAAAgAAAAAoAAAAAAAKAAAAAAAKqAAACAAAAgAICAAgICAAgCAAAAAAAAAAACgAoKACigAAIAACIAAAAKAKAAAAAAAAAgCAAAAACgAAAAAAAgAAAICgAAAAAAoAIAAAACgAAAAAAAAAgAAAAAAAAAAAAAAAAAAAAIAAAAAAAAAAAACgAAAAAgDqwAAAAAAAAAICggAoAAAAAAAAAAAAAAAACgAAAAAAAAAAAAAAAAAAAAAAAAAAACgAAAAAAAAAAAoAAAAAAAAAAAAAAKAAAAgAAAAoAAAAAAAAKAAAAAAAKqAAACAAAAgAICAAgICAAgCAAAAAAAAAACgAAoKCgCgAAIACAIAAAAKAKAAAAAAAAAgCAAAACgAAAAAAAAgAAAAICgAAAAAAAAAAAAAAoAAAAAAAIAAAAACAoAAAAAAAAAAAAAAAAAAAAAAIAAACgAAAAAgDqwAAAAAAAAAIAAAAKAAAAAAAAAAAAAAAAoAAAAAAAAAAAAAAAAAAAAAAAAAAAAoAAAAAAAAAAAKAAAAAAAAAAAAAACgAAAIAAAAKAAAAAAAACgAAAAAACqAgAAAgAAIACAAgICAAgIAgAAAAAAAAAAoAKACgoAoAACAAgCAAACgACgAAAAAAAACCAAAAoAAAAAAAAAIAAAAAAAAAAAAAAAAAAAACgAAAAAAAgAAAAIAAACgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAgDqwAAAAAAAAAAIAAAKAAAAAAAAAAAAAAAAAoAAAAAAAAAAAAAAAAAAAAAAAAAAoAAAAAAAAAAAKAAAAAAAAAAAAAAACgAAAIAAAAKAAAAAAACgAAAAAAAoogAAAAgAAIACAAgIACAgAIgAAAAAAAAAAoAKCgoAKKAgAIACIAAAAKAAKAAAAAAAAIAAIACgAAAAAAAAAAgAAAAAAAAAAAAAAAAAAAAKAAAAAACAAAAAgAAAAKAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAACOrAAAAAAAAAAAAAgKCCgAAAAAAAAAKAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAKAAAAAAAAAAACgAAAAAAAAAAAAAAAoAACAAAAACgAAAAAAAoAAAAAAAKKAIAAAIAACAAgAICAAgIACIAAAAAAAAAKAACgoKCgCgIACAAiAAAACgCgAAAAAAAACAAAAAAAAAAAAAAAACAAAAAAAAAAAAAAAAAAAAoAAAAAAIAAAACAAAAoAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAI6sAAAAAAAAAAAACAAAACgAAAAAKAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAKAAAAAAAAAAAACgAAAAAAAAAAAAAAAoAACAAAAACgAAAAAAAoAAAAAAAKAKIAAAIAACAAAgIACAgIACIAAAAAAAAAKACgoAKCgCgIACAAiAAACgACgAAAAAAAACAAAAAAAAAAAAAAAAACAAAAAAAAAAAAAAAAAAAoAAAAAIAAAAACAAAAoAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAI6sAAAAAAAAAAAAACAoIAAACgAAACgAAAAAAAAAAAAAAAAAAAAAAAAAAAAoIACgAAAAAAAAAAAAAoAAAAAAAAAAAAAAKAAAAgAAAAAoAAAAAAAKAAAAAAACgCiAAACAAAAgAICAAgICAAiAAAAAAAAACgAoKCgAoAoCAAgCACAAoAAAoAAAAAAAAAgAAAAAAAAAAAAAAAAAAgAAAAAAAAAAAAAAAAAKAAAAACAAAAAAAgAKAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAACOrAAAAAAAAAAAAAAAAAAgAAKAAAAAKAAAAAAAAAAAAAAAAAAAAAAAACgAAAAAAAAAAAAAAAAAAoAAAAAAAAAAAAAAKAAAAgAAAAAoAAAAAAAKAAAAAAACgCiAAAACAAAgAIACAgICAAgCAAAAAAAACgAoKCgoAoACAAgCACAAoAAoAAAAAAAAAAgAAAAAAAAAAAAAAAAAAgAAAAAAAAAAAAAAAAAKAAAAAACAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAjqwAAAAAAAAAAAAAAAAAAAAAAAAAAoAAAAAAAAAAAAAAAAAAAAAAAKAAAAAAAAAAAAAAAAAAAACgAAAAAAAAAAAAAoAAACAAAAACgAAAAAAAoAAAAAAAKAKIAAAAIAACAAgAICAgIACAIAAAAAAAKACgAoKCgCgAIACAIAICgAACgAAAKACAAAAAIAAAAAAAAAAAAAAAAAAIAAAAAAAAAAAAAAAACgAAAAAAgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAI6sAAAAAAAAAAAAAAAAAAAAAAAAAAKAAAAAAAAAAAAAAAAAAAAAAACgAAAAAAAAAAAAAAAAAAAoAAAAAAAAAAAAAAKAAAAgAAAAoAAAAAAAKAAAAAAAACgCiAAAACAAAgAIACAgICAAgCAAAAAAACgAoKACgoAoACAgACAAAAAAKAAAoAAIAAAgKCAAAAAAAAAAAAAAAAAACAAAAAAAAAAAAAAAAAoAAAAAAIAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAACOrAAAAAAAAAAAAAAAAAAAAAAAAACgAAAAAAAAAAAAAAAAAAAAAAAAoAAAAAAAAAAAAAAAAAAAKAAAAAAAAAAAAAACgAAAIAAAAKAAAAAAACgAAAAAAAAoAoAgAAAgAAIACAAgICAgAIAgAAAAAAAoAKCgoAKAKAgAIAgAAAAACgAAKAAACAAIAAAAAAAAAAAAAAAAAAAAAIAAAAAAAAAAAAAAAACgAAAAAAgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAI6sAACAAoAAIACgAAAAAAAAAAAAACgAAAAAAAAAAAAAAAAAAAAAAAAAoAAAAAAAAAAAAAAAAAAAKAAAAAAAAAAAAAACgAAIAAAAAKAAAAAAACgAAAAAAAAoAAogAAAAgAIACAAgICAgAIgAAAAAAAAoAKCgoKAAKAgAIAgAAAAACgAAKAAACAAIAAAAAAAAAAAAAAAAAAAAAIAAAAAAAAAAAAAAACgAAAAAAgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAIA6MAACgAgAAAKAAAAAAAAAAAAAAAKAAAAAAAAAAAAAAAAAAAAAAAAACgAAAAAAAAAAAAAAAAAAAoAAAAAAAAAAAAAKAAAAgAAAAAoAAAAAAAKAAAAAAACgAACiAAAACAAgAIACAgICAAiAAAAAAAACgoAKCgoAoACAAgCAAAAAKAAAoAAAAIAAgAAAAAAAAAAAAAAAAAAAgAAACggAAAAAAAAAAAAoAAIAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAACAAAAOjAAAAAAAAoAAAAAAAAAAAAAAAoAAAAAAAAAAAAAAAAAAAAAAAAAAKAAAAAAAAAAAAAAAAAAACgAAAAAAAAAAAAAoAACAAAAAACgAAAAAAAoAAAAAAAKAAAKIAAAAIACAAgICAAgIACIAAAAAAAKACgAoKCgCgIACAIAAAAAAoAACgAAAAgACAAAAAAAAAAAAAAAACAAAAAKAAACAAAAAAAAAACgAgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAKAACAAAAAAAAAAAgAAAADowAAAAAAAAAAKAAAAAAAAAAAAKAAAAAAAAAAAAAAAAAAAAAAAAAACgAAAAAAAAAAAAAAAAAAAoAAAAAAAAAAAAAKAgAAAAAAAAoAAAAAAAKAAAAAAACgAAAIoAAACAAgIACAgIACAAiAAAAAAACgAoKCgAoAoCAAgCAAAAAAKAAoAAAAAIAAAAgAAAAAKCAAAAAACAAKAAAAACAoIAAAKAAAAAAACAAAAAAAAAAAAAAAAAAAAAAAAAAAAAoAAAAIAAAAAAAAACAAAAAAOjAAAAAAAAAAoAAICgAAAAAAACgAAAAAAAAAAAAAAAAAAAAAAAAAAAoAAAAAAAAAAAAAAAAAAAKAAAAAAAAAAAACgIAAAAAAAAAKAAAAAAACgAAAAAAAoAAACKAAAAgAICAgAICAgAIAgAAAAAAAoAKCgoAKKAAgAIAgAAAAACgAKAAAAACAAAAAAAIACgAAAAAACAAAAAAAAAAIAAAKAAAAAAACAAAAAgAAAAKAAAAAAAAAAAAAAAAAACgAAAAAgAAAAAAAAIAAAAAAA6MAAAAAAAAAAAAACgAAAAAACgAAAAAAAAAAAAAAAAAAAAAAAAAAAAoAAAAAAAAAAAAAAAAAAKAAAAAAAAAAgKCCgAKCAAAAAAACgAAAAAAAAoAAAAAAAKAAAAigAAAICAAgICAgAIACAIAAAAAAAKACgoKACigIAACIAAAAAAoAACgAAAAAAgAAAAAAACAoAAAAAgAAAAAAAAAAAACCgAAAAAAAgAAAAIoAAIAAAKAAAAAAAAAAAAAAAAACgAAAAgAAAAAAAAIAAAAAAAA6MAAAAAAAAAAAACgAgKAAAAKAAAAAAAAAAAAAAAAAAAAAAAAAAAACgAAAAAAAAAAAAAAAAAAAoAAAAAAAAACAACgAAAAAAAAAAoAAAAAAAAKAAAAAAACgAAAIoAAACAgAICAgIACAAiAAAAAAACgAAoKCgAooCAAgCAAAAAAKAAoAAAAAAAIAAAAAAAAAAAAAACAAAAgAKAAAAAAgAAAoAAAAAIAAAogAAAACAACgAAAAAAAAAAAAAAAAAoAAAIAAAAAAACAAAAAAAAAAOjAAAAAAAAAAAAoIACgAACgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAoAAAAAAAAAAAAAAAAAAAKAAAAAAAAgKCACgAAAAAAAAAAoAAAAAAAAAKAAAAAAACgAAAIoAAACAgAICAgICAAAiAAAAAAACgAoAKCgAooCAAgCAAAAAAKAAoAAAAAAAAIAAAAAAAAAAAAACAAAgAAKAAAAAAgKCAACgAAAgAACiAAAAAAIAAKAAAAAAAAAAAAAAAAACgAAgAAAAAIAAAAAAAAAAAAA6MAAAAAAAAAAKAAAoAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAoAAAAAAAAAAAAAAAAAAKAAAAAAAAAgAAoAAAAAAAAAAAKAAAAAAAACgAAAAAAAAoAAACKAAAAgIACAgICAAgAIgAAAAAAAoAKACgoAoAAACAIAAAAAAoACgAAAAAAAAgAAAAAAAAAAAAAIAACAAAoAAAAKCAAIAAKAACAAKAIAAAAAAAgAAoAAAAAAAAAAAAAAAAAKACAAAAAgAAAAAAAAAAAAAKCOjAAAAAAAACgAAAKAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAKAAAAAAAAAAAAAAAAAACgAAAAAAAIAAKAAAAAAAAAAACgAAAAAAAAAoAAAAAAAAKAAAAigAAAIACAgICAgIAACIAAAAAAKAACgAoKAKAAAAiAAAAAAKAAAoAAAAAAAAIAAAAAAAAAAAAACAAAAgKAAAACgAgACAACgAAgCgACAAAAAAAIAKAAAAAAAAAAAAAAAAAACggAAAAIAAAAAAAAAAAAACgAjqwIAAAAAAKAAAAAAoAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAoAAAAAAAAAAAAAAAAAAKAAAAAAAAAgAAoAAAAAAAAAAAKAAAAAAAAACgAAAAAAAoAAAAogAAAAgAICAgICAgACCAAAAAAAoAAKACgoAoAAACIAAAAAoAACgAAAAAAAAAgAAAAAAAAAAAAAIAAAAAAAACgAAgACAoqAAACAKAIAAAAAAAgAoAAAAAAAAAAAAAAAAAAAAAAAAIAAAAAAAAAAAAACgAAOjAAAACAoAAAAAAACgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAACgAAAAAAAAAAAAAAAAAAoAAAAAAAACAAACgAAAAAAAAAAAoAAAAAAAAAKAAAAAAACgAAACiAAAACAAgICAgICAAIIAAAAACgAAAoAKCgCgAAAIgAAAACgAAKAAAAAAAAACAAAAAAAAgAKAAAACAAAAAAAoAAAIAAgAoAAAIAoAgAAAAACACgAAAAAAAAAAAAAAAAAAAAAAAAAgAAAAAAAAAAAKAAAAA6MAAAAAAAAAAAAAACgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAACgAAAAAAAAAAAAAAAAAAoAAAAAAAACAACgAAAAAAAAAAAoAAAAAAAAAAKAAAAAAACgAAAIoAAAACAAgICAgICAAIIAAAAACgAAAoAKACigAACCAAAAACgAAKAAAAAAAAACAAAAAAAgAAKAAAACAAAAAAoAAAAIAAgAAoAAIAoAAgAAACCgAAAAAoAAIAAAAAAAAAAAAAAAAACAAAAAAAAAAAAoAAAAADowAAAAAAAAAAAAAKAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAKAAAAAAAAAAAAAAAAAAACgAAAAAAAIAAKAAAAAAAAAAAAACgAAAAAAAAAoAAAAAAAKAAAAigAAAAAICAgICAgIAAgAgAAAKAAAACgAoAqgAAAiAAAAAKAAAAoAAAAAAAAAIAAAAAACAAoAAAAAAAIACgAAAAAAgAACAACgAgACgACAAqAAAAACgAAAAAgAAAAAAAAAAAAAAAAAIAAAAAAAACgAAAAAAAOjAAAAAAAAAAAAAAAAAAAoICgAAAAAAAAAAAAAAAAAAAAAAACgAAAAAAAAAAAAAAAAAAAoAAAAAAAACAACgAAAAAAAAAAAAAoAAAAAAAAKAAAAAAACgAAAAIoAAAAACAgICAgICAIAAIAACgAAAAAoAKAKoAAAIgAAAACgAAAKAAAAAAAAACAAAAAAAAAAAAAAAAAAAAAAAAAAgACAAAAAAAAAAAAAAAACgAAAAAAAgAAAAAAKAAAAACAAAAAgAAAAAAKAAAAAAAAAA6MAAAAAAAAAAAAAAAAAAAAACgAAAAAAAAAAAAAAAAAAAAACgAAAAAAAAAAAAAAAAAAAAoAAAAAAACAACgAAAAAAAAAAAAAAoAAAAAAAAKAAAAAAACgAAACgCAAAAACAgICAgICIAAAIACgAAAAAAoAKAKoAAAIgAAACgAAAAKAAAAAAAAACAAAAAAAAAAAAAAAAAAAAAAAAAAgAACAAAAAAAAAAAAAACgAAAAAAAAgAAAAAKAAAAAAACAAAAAgAAAKAAAAAAAAAAAA6MAAAAAAAAAAAAAAAAAAAAAACggKAAAAAAAAAAAAAAAAAKAAAAAAAAAAAAAAAAAAAAACgAAAAAAAAAIKAAAAAAAAAAAAAAACgAAAAAAAAoAAAAAAAKAAAAAigAAAAAICAgICAgIgAAAAAAAAAAAAoAKAKoAACCAAAAACgAAAKAAAAAAAAACAAAAAAAAAAAAAAAAAAAAAAAAAAgAACAAAAAAAAAAAAACgAAAAAAAAAAgAAAKAAAAAAAACAAAAAAAAAAAAAAAAAAAAAOjAAAAAAAAAAAAAAAAAAAAAAAAAoAAAAAAAAAAAAAAAoAAAAAAAAAAAAAAAAAAAAAAKAAAAAAAAAgAAoAAAAAAAAAAAAAAAKAAAAAAAACgAAAAAAAoAAAAogAAAAAAgICUEBARBAAAAAAAAAAAAAUAFFUAAABBAAAABQAAAFAAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAQAAABAAAAAAAAAAABQAAAAAAAAAAAAQFAAAAAAAAAAAABAAAAAAAAAAAUAAAAEAAAdGAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAUAAAAAAAAABABQAAAAAAAAAAAAAAAUAAAAAAAFAAAAAAABQAAABQBAAAAAABASglBmggIgAAgKAAAAAAAACgAoAqgAAAiAAAAKAAAAAoAAAAAAAAAAIAAAAAAAAAAAAAAAAAAAAAAAACAAAAAIAAAAAAAAAAAKAAAAAAAAAAAAAAAAAAAAAAAAAAACAAAAAAAoAAAAAAAIAAA6MAAAAAAAAAAAAAAAAAAAAAAAACgAAAAAAAAAAACgAAAAAAAAAAAAAAAAAAAAAAAAoAAAAAAAACAACgAAAAAAAAAAAAAAAoAAAAAAAAKAAAAAAACgAAACiAAAAAAACAlBmglBARABAAAUAAAAAAAFABQBVAAABEAAAAUAAAABQAAAAAAAAAAQAAAAAAAAAAAAAAAAAAAAAAAAEAAAAAAAQAAAAFABAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAQAAAFAAAAAAAABAAAAHRgAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAAAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAQAAUAAAAAAAAAAAAAAAFAAAAAAAABQAAAAAAAUAAAAUQAAUEAABAAZoJQZoIgAgAAAKAAAAAAACgAoKKAAAIIAAAAAKAAAoAAAAAAAAAAIAAAAAAAAAAAAAAAAAAAAAAAACAAAAAAAAICggKAAACAACgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAgAAADowAAAAAAAAAAAAAAAAAAAAAAAAAKAAAAAKAAAAAAAAAAAAAAAAAAAAAAAAAAAAACgAAAAAAAAIAAAKAAAAAAAAAAAAAAACgAAAAAAAAoAAAAAAKAAAAAKIAAKACAAgJQSglBmgiCAAAAAoAAAAAAAKACgooAAAggAAAAAoAACgAAAAAAAAAAgAAAAAAAAAAAAAAAAAAAAAAAIAAAAAAAAAAAAAAAAgAoAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAIAAAAA6MAAAAAAAAAAAAAAAAAAAAAAAAACgAACgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAoAAAAAAAAACAACgAAAAAAAAAAAAAAAAoAAAAAAAAKAAAAAACgAAACgCAACgAgAICUEoM0EoIggAAAAKAAAAAACgAoAKKAAAIIAAAAKAAAoAAAAAAAAAAAIICgAAAAAAAAAAAAAAAAAAAAIAAAAAAAAAAAAAAAgAAoAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAIAAAAA6MAAAAAAAAAAAAAAAAAAAAAAAAAAKoAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAoAAAAAAAAACAAACgAAAAAAAAAAAAAAAoAAAAAAAAKAAAAAAACgAAACgCACgAAgAICUEoM0EoMoAAAAAKAAAAAACgAoAqgAAIAIAAAAKAAAoAAAAAAAAAAiAAAACgAgKAAAAAAAAAAAAAAAAgAAAAAAAAAAAAACAACgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAgAAAAICujAAAAAAAAAAAAAAAAAAAAAAAACgAAKAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAKAAAAAAAAAAAgAAoAAAAAAAAAAAAAAAAKAAAAAAAACgAAAAAAAoAAAAogAAoAAIACAlBmglBmgiAAAAACgAAAAAAoAKAKoAACACAAAACgAKAAAAAAAAAAAIgAAAAAAoAAAAAAAAAAAAAAACAAAAAAAAAAAAAAIAAKAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAACAAAAAiitsAAAAAAAAAAAAAAAAAAAAKAAAAAAAoAAAAAAAAAAAAAAAAAAAAAAAAAAAAAoAAAAAAAAAACAACgAAAAAAAAAAAAAAAAoAAAAAAAAAKAAAAAACgAAAACiAACgAAgAICUGaCUGaCIAAAAAKAAAAAACgAoAqgAAIAIAAAAKAAoAAAAAAAAAAIIAAAAACgAAAAAAAAAAAAAAAAAIAAAAAAAAAAAAAgAAoAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAIAAAACKK2wAAAAAAAAAAAAAAAAAoAAAAAAAAAACgAAAAAAAAAAAAAAAAAAAAAAAAAACgAAAAAAAAAAAAIAKAAAAAAAAAAAAAAAACgAAAAAAAAoAAAAAAAKAAAAAKAIKAAACAAgJQZoJQZqCAAAAAAoAAAAAAKACgCqAAAgAgAAAAoCgAAAAAAAAAAAggAAAAAKAAAAAAAAAAAAAAAAAAgAAAAAAAAAAAggCgKAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAACAAAAKICtsAAAAAAAAAAAAAKAAAAAAAAAAAAAAoAAAAAAAAAAAAAAAAAAAAAAAAAAAoAAAAAAAAAAAACACgAAAAAAAAAAAAAAAAoAAAAAAAAAKAAAAAAACgAAACgCACgAAAAgICUGaCUGaggAAAAAKAAAAACgAAoKKAAAIAIAAAKAAoAAAAAAAAAAAIIAAAAACgAAAAAAAAAAAAAAAAAIAAAAAAAAAAAIIAqgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAgAAACiArbAAAAAAAAAACgAAAAAAAAAAAAAAAAAAKAAAAAAAAAAAAAAAAAAAAAAAAKAAAAAAAAAAAAAgAAoAAAAAAAAAAAAAAAKAAAAAAAAACgAAAAAAAoAAAAAoAgAoAAAAICAlBmglBmoIAAAACgAAAAAAoAKACigACAACAAACgKAAAAAAAAAAAACACAAAAoAAAAAAAAAAAAAAAAAAACAAoAAAAIAAIIAqgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAgAAAACg2wAAAAAAAoAAAAAAAAAAAAAAAAAAAAACgAAAAAAAAAAAAAAAAAAAAAACgAAAAAAAAAAAAAIAKAAAAAAAAAAAAAAAACgAAAAAAAAAoAAAAAAAKAAAAAKAIKAAAAACAgJQZoJQZQQAAAAFAAAAAABQAUAFFAAEAAEAAFAUAAAAAAAAAAAAAAEAEABQAAAAAAAAAAAAAAAAAAAAAAAAAAAQABEVQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAQAAAAB0YAAAUAAAAAAAAAAAAAAAAAAAAAAAABQQFAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAQAUAAAAAAAAAAAAAAAAFAAAAAAAAAABQAAAAAAAUAAAAUAAQUAAAAAEBASgzQZoJUEAAAABQAAAAAAUAFAFUAABAAABBQAFAAAAAAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAABAABAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAQAAAFdGAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAEFAAAAAAAAAAAAAAAAABQAAAAAAAAAUAAAAAAAFAAAAAAFAEFAAAAABASglBmgzQSoICAoAAKAAAAACgAAoAqgAAIAAIAKAoAAAAAAAAAAAAAAAIAAAAAAAAAAAAAAAAAAAAAAAAAAICgggAAAACgAAAAAAAAAAAAAAAAAAAAAAAIAAAACgAAAAAgAAAAAAKAAAAAAAACAAAArowAAAAAAAAAAAAAAAAAAAAAAAAAAAAKCAAoAAAAAAAAAAAAAAAAAoAAAAAAAAAAAAAAACACgAAAAAAAAAAAAAAAAoAAAAAAAAAAKAAAAAAACgAAAACgAKgAAAAAAgJQSgzQZoJUEBAAUAFAAAAABQAAUAVQAEAAAEFAAUAAAAAAAAAAAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAEBREAAAAAABQAAAAAAAAAAAAAAAAAAAAAAEAAAAAAAAAAAAAAAAAAABQAAAAAAAAQAAFdGAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAQFAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAQAAUAAAAAAAAAAAAAAAAFAAAAAAAAAABQAAAAAAAAUAAAAAUAQUAAAAAAEBKDNBKDNBEEBAAUAAFAAAABQAUAFFAAEAAAEFAUAAAAAAAAAAAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAQFBEAAAAABQAAAAAAAAAAAAAAAAAAAAAAEAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAQAFdGAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQQAFBAUAAAAAAAAUAAAAAAAAAAAAAAAABAABQAAAAAAAAAAAAAAAAAUAAAAAAAAAAFAAAAAAABQAAAAABQAFQAAAAAAQEoM0EoM0GUAEABQAAUAAAFAABQBVAAAQAAQAUBQAAAAAAAAAAAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAABAEAAAABQAAAAAAAAAAAAAAAAAAAAAAAEAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAQFdGAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQABQAAEBQAAAAAAAAAAAAAAAAAAQUAAAAAAAAAAAAAAAAAFAAAAAAAAAABQAAAAAAAAUAAAAAUABUAAAAAAAEBKDNBmglBlBAAAUAAFAAABQAAUAVQAAEAAEFAUAAAAAAAAAAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAQFBAAAAAAAAAAAAAAAAAAAUEAAAAAAAAAAEAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAQFdGAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAAUEAAAABQAAAAAAAAAAAAAAAQUAAAAAAAAAAAAAAAAAFAAAAAAAAAAABQAAAAAAAAUAAAAAAUBUAAAAAAAEBKDNBmglBlBAAAUAAFAABQAAUAFFAAEAAAAVAUAAAAAAAAAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAQAAAAAAAAAAAAAAAAAAAFBAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAUAAAAAAAAEBXRgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAFAAAAAAAAAAAABBQAAAAAAAAAAAAAAAAAUAAAAAAAAAAAFAAAAAAAABQAAAAABQFAQAAAAAAAQGaCUGaDNBEEAABQAUAAAFAABQAUUAAQAABQAAAAAAAAAAAAAAEAAAABQAAQAAAAAAAAAAAAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAAAAAEBXRgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAFAAAAAAAAAABBQAAAAAAAAAAAAAAAAAAUAAAAAAAAAAAFAAAAAAAABQAAAAABQFAQAAAAAAAQGaCUGaDNBEEAABQAUAAAFAABQAUUAAQAABQAAAAAAAAAAAAAEAAAABQAAAAAQAAAAAAAAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAAAEABXRgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAFAAAAAABBQAAAAAAAAAAAAAAAAAAAUAAAAAAAAAAAFAAAAAAAAABQAAAAABVAQAAAAAAAAQGaCUGaDNBEEAABQAUAAFAABQAUUAAAQAAABQAAAAAAAAAAAEAAAAABQAAAAAAQAAAAAAAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAV0YAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAAAAAAAAAAAAAAAAAABQAAQFBBQAAAAAAAAAAAAAAAAAAAUAAAAAAAAAAAAFAAAAAAAABQAAAAAABVAAQAAAAAAAQGaCUGaDNBEEAABQAUAAFAABQAUUABQRAAAFAAAAAAAAAAAAQAAAAAFAAAAAAABAAAUAAEAAAAAAQFBAAAAAAAAAAAAAAAAAAAAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAV0YAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAAAAAAAAAAAAAAAAAAAAAABQAAQUAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAABQAAAAAAAAAUAAAAAAUBQEAAAAAAAAEoM0EoM0GaCIIAACgAoAKAACgAoAoCgIIAAAAKAAAAAAAAAAAgAAAAKAAAAAAAAACAAoAAAIAAAAAgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAK6MAAAAAAAAAAAAAAAAAAAAAAAAAKAAAAAAAAAAAAAAAAAAAAAAAAAAAAACgAAAAAAAAAAAAAAAAAAAAoAAAAAAAAAAAAAKAAAAAAAACgAAAAAAAooAAgAAAAAAgJQSgzQSgzUEBAAUAFAABQAAUAFAFAUBBAAABQAAAAAAAAAAAEAAABQAAAAAAAAAAQAFAAAABAAAAAEAAAAAAAAAAAAAAAAAAAAEAAABQAAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFdGAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAUAAAAAAAAAAAAAFAAAAAAAAABQAAAAAABVAAQAAAAAAAQEoJQZoM0EqCAgAKACgAAoAAKACgCqAAggAAAAoAAAAAAAAACAAAoAAAAAAAAAAAAIAACgAAAAgAAACAAAAAAAAAAAAAAAAAAAACAAAAAoAAAAIAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAACujAAAAAAAAAAAAAAAACgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAoAAAAAAAAAAAAAAAAAAAAKAAAAAAAAAAAAAAACgAAAAAAAAoAAAAAAAKKAAAIAAAAAAICUGaCUGaCIICAoAAKACgAAoAKAKAoACACAAACgAAAAAAAAAIACgAAAAAAAAAAAAAAgAKAAAAACAAIAAAAAAAAAAAAAAAAAAAAAIAAAACgAAAAAgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAK6MAAAAAAAAAAAAKAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAACgAAAAAAAAAAAAAAAAAAAAoAAAAAAAAAAAAAAAAKAAAAAAAAACgAAAAAAAooAAgAAAAAAAgJQZoM0EoIggAoIAoAAKAACgAoAqgAAIAIAAAKAAAAAAAAAAAAAAAAgKAAAAAAAAAAAAAAAAAAACAAAAAIAAAAAAAAAAAAAAAAIAAAACgAAAAAAAAgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAK6MAKAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAACgAAAAAAAAAAAAAAAAAAAAAoAAAAAAAAAAAAAAAAAKAAAAAAAACgAAAAAAAoAoAAgAAAAAAAgM0EoM0EoMoAoAIAoAKAAACgAoKKAAIAAIAAAAAKAAAAAAAAAAAAAgAAAAKAAAAAAAAAAAAAAAAACAAAAAAIAAKAAACAAAAAAAAgAAAKAAAAAAAAAACAAAAAAgAAKAAAAAAAAAAAAAAAAAAAAAAAAADTowAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAoAAAAAAAAAAAAAAAAAAAAAAKAAAAAAAAAAAAAAAAAACgAAAAAAAAAoAAAAAAAKKAAAIAAAKCAAAlBmglBmgzQRAFAABFABQAAUAFABRQABAABAAAABQAAAAAAAAAAAAAEAAAAABQAAAAAAAAAAAAAAAAQAAAAABAABQAAAQAAAAAAAAAAAAAAAAAAAAAEAAAAABAAAAUAAAAAAAAAAAAAAAAAAAAAAAEABt0YAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAABQAAAAAAAAAUAAAAAAAFAFAAAEAAFAABAASgzQZoJQZoIgCgAKIAoAAAKACgooAAAgAAgAAAoICgAAAAAAAAAAAAAIAAACgAAAAAAAAAAAAAAAAAgAAAAACACgAAAAAgAAAAAAAAAAAAAAAAAAAAIAAAAACAAAAoAAAAAAAAAAAAAAAAAAAAAIAAADbowAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAoAAAAAAAAAAAAAAAAAAAAAAAKAAAAAAAAAAAAAAAAAAACgAAAAAAAAAAoAAAAAAAKAKAAIAAAKAACAAzQSgzQZoJQRAFAAUQBQAAUAFABRQAABAABAAABQQFAAAAAAAAAAAAAAAQAFAAAAAAAAAAAAAAAAABAAAAAAAEAFAAAAABAAAAAAAAAAAAAAAAAAAAQAAAAAAEAABQAAAAAAAAAAAAAAAAAAAAAAQAAAG3RgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAUAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAABQAAAAAAAUAAUAAAQAUAAAEBASglBmgzQQEQBQAFAEUAAFABQAUUAAQAAQAAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABAAAAAAAAAEFAAAAAAABAAAAAAAAAAAAAAAAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAEAAABAejowAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAoAAAAAAAAAAAAAAAAAAAAAAAKAAAAAAAAAAAAAAAAAAAAACgAAAAAAAAAAAAoAAAAAAAKAKAAAIAAKAAACAgJQSgzQZoICIIKoAKAIoAKAACgoAoAAgAAgAAoAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAACAAAAAAAAAAIKAAAAAAAACAAAAAAAAAAAAAAAAAgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAIAAACA9HRgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAABQAAAAAAAUAAUAAAQAUAAAAEBASgzQSgzQQEQBQAFBQBAFABQAUUBQARAABAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAEAAAABBAFAAFAAVAAAAAAAAAAAAAAAAABAAAAAAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAEAAABAejoyACAAAAAAAAAAAAAAAAAAAAAAAAAAAAAKAAAAAAAAAAAAAAAAAAAAAAAAACgAAAAAAAAAAAAAAAAAAAAAAoAAAAAAAAAAAAKAAAAAAAACgCgAAACACgAAAAgICUGaCUGaCAiAKAAoKAIAoAKACigKACIAAIAKAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAgAAAIAIAAAoAAoCoAAAAAAAAAAAAAAAAAAIAAAAAACAAAAAAAAAAAAoAAIAAAAAAAAAAAAAAAAACAAAAA26MgAAAAgAAAAAAAAAAAAAAAAAAAAACgAAAAAAAAAAAAAAAAAAAAAAAAAAAAoAAAAAAAAAAAAAAAAAAAAAAKAAAAAAAAAAAAACgAAAAAAAoAAoAAAAgoAAAAAICAlBKDNBmgiCACgAKCgCKAACgAooCgiAAACACgAAAAAIACgAAAAAAAAAAAAAAAAAAAAAAAAAAgAAIAAIAAAoAAoCgIAAAAAAAAAAAAAAAAAAIAAAAACAAAAAAAAAAoAAAAAIAAAAAAAAAAAAAAAACAAAAA26MgAAAAAAgAAAAAAAAAAAAAACgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAoAAAAAAAAAAAAAAAAAAAAAAAKAAAAAAAAAAAAACgAAAAAAAoAAAoAAAgAoAAAAAIADNBKDNBmgiCACgKACgCKACgAoAoCgiAAACACgAAAAIAACgAAAAAAAAAAAAAAAAAAAAAAAAAAgAAIAAAIAAoAoACgAIAAAAAAAAAAAAAAAAAIAAAACAAAAAAAAAAoAAAAAAIAAAAAAAAAAAAAAAAACAAAA26MgAAAAAAAAgAAAAAACgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAoAAAAAAAAAAAAAAAAAAAAAAAKAAAAAAAAAAAAAACgAAAAAAAoAAAoAAAgoAAAAAAAIDNBKDNBmgiCACgKACgAogCgAooACgiAAACACgAAAAIAACgAAAAAAoIAAAAAAAAAAAAAAAAAACAAAgAAAgCgACgAKAAAgKCAAAAAAAAAAAAAAACAAAAgAAAAAAAAKAAAAAAACAAAAAAAAAAAAAAAAAAAgAANujIACgAAAAAACAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAKAAAAAAAAAAAAAAAAAAAAAAAACgAAAAAAAAAAAAAAoAAAAAAAKAAAKAAAAIKAAAAAAACAlBmgzQSgyggAoCgAoKAIAoAKKAAAIAAIAKAAAAAAgAAKAAAAAACgAAgAAAAAAAKAAAACAAAAgAIAAAACiAoAACgAAIACggAAAAAAAAAAAAAAAgAAIAAAAAAAAAAACgAAAAAgAAAAAAAAAAAAAAAAAAAAID0dGQAAAAAAAAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAUAAAAAAAAAAAAAAAFAAAAAAABQAABQAABBQAAAAAAAAQEoM0EoM0EQQEFAUAFBQBFABQBQFBEAAAEAFAAAAAAQAFAAAAAAAAAAAAAAAAAAAAAAAAAAABAAQAAAAFAAAABQAAAEBQAQAAAAAAAAAAAAAAQABRAAAQBBQAAAAAAAAAUAEAAAAAAAAAAAAAAAAAAAAAABt0ZAAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAUAAAAAAAFAAAAFAAAEFAAAAAAAABASgzQSgzQSoICCgKACgoAigAooCgAiAAACCgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAIAACAAAAAoAAAKAAAAAAAAgAAAAAAAAAAAAAAgCgCAAAgAKgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA26MgAAAAAAAAAAAgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAACgAAAAAAAAAAAAAAAAAAAAAAAAAAoAAAAAAAAAAAAAAAAKAAAAAAACgAACgAAAKgAAAAAAAAAgJQSgzQZoIggIAKoKACgoAKACgAAiAAACCgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAIACAAAAAoAAAKAAAAAAAAAgAAAAAAAAAAAAAAgCgCAAAgAKgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA26MgAAAAAAAAAAAgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAACgAAAAAAAAAAAAAAAAAAAAAAAAAAAoAAAAAAAAAAAAAAAAKAAAAAAAACgAACgAACCgAAAAAAAAAgJQSgzQZoJUEBAUUBQUAFBQAUAABABAAAQUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABAAAQAAAAFAABQAAAAAAAAAEBQAQAAAAAAAAAAAQBQBAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAG3RkAAAAAAAAAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAABQAAAAAAAAUAAAAUAAAQUAAAAAAFBAAQEoJQZoM0EqCAgKKAoKCgAoKAAAAggAAAIKAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAgAAIAAAAACgAAoAAAAAAAAAAACAAAAAAAAAAAACAAKAIAAgAAAAAAAAAAAAAAAAAAAAAgAKAAAAAAAAAAAADboyAAAAAAAAAAAAACAAAAAAAAAAAAAAAAAAAAAAAAAKAAAAAAAAAAAAAAAAAAAAAAAAAAACgAAAAAAAAAAAAAAAAAAAoAAAAAAAAAKAAAAKAAAqAAAAAACgAgAICUEoM0GaCVBAABQFBQUFBQAAAAEEAAAABBQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAEAAABAAAAAAUAFAAAAAAAAAAAAQFBAAAAAAAAAAABAAAAAQAAAAAAAAAAAAAAAAAAAAEAAAABQAAAAAUAEAAABt0ZAAAAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAUAAAAAAAAAFAAAAFAAAAVAAAAAABQAAQEBKCUGaDNBKggAAoCgoKCgoAAACACAAAAAgAoAAAAAAAAAAAAAAAAAAAAAAAAAAAACAAAAAAgAAAAKAACgAAAAAAAAAAAAAAIAAAAAAAAAIAAAAAAAACAAAAAAAAAAAAAAAAAgAAAAAKAAAACgAAAAgANujIAAAAAAAAAAAAAIAAAAAAAAAAAAAAAAAoAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAKAAAAAAAAAAAAAAAAAAAAACgAAAAAAAAAAoAAAAoAACgIAAAAAKAAACAAzQSgzQSgzUEAAFUFBQUFABQAQBABAAAAAAQAUAAAAAAAAAAAAAAAAAAAAAAAAAAABAAAAAAQAAAFAAABQAAAAAAAAAAAAAAAAEAAAAEAAAAAAAAAAAABAAAAAAAAAAAAAAAAQAAAAAFAAABQAAAAAAAadGQAAAAAAAAAAAAAQAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAABQAAAABQAAFAQAAAAAUAAAEABKDNBmglBmoIAAKoKCgoKACgAgCACAAAAAAAgAoAAAAAAAAAAAAAAAAAAAAAAAAAACAAAAAAAAAAAAAoAAAAAAAAAAAAAAAAACAACAAAAAAAAAAAAAAAAgAAAAAAAAAAAAAAAIAAACgAAAAoAAAAAAANOjIAAAAAAAAAAAAAIAAAAAAoAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAKAAAAAAAAAAAAAAAAAAAAAAAAAAAAACgAAAAAAAAAAAoAAAAAoACgIAAAAAAKAAACAAlBmglBmgzUEAABRVBQUFABQQBAABAAAAAAAQAAAUAAAAAAAAAAAAAAAAAAAAAAAABAAAAAAAAAAAAAUAAAAAAAAAAAAAAABAAABAAAAAAAAAAAAAAAAAAQAAAAAAAAAAAAAAAEABQAAAAUAAAAAAAAGnRkAAAAAAAAAAAAAAEUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAUAAAAAUAABQEAAAAAFAAAAABAQGaCUGaCVBAQAFBRVBQUAABAAABAAAAAAAAQAAAAUAAAAAAAAAAAAAAAAAAAAAABAAAAAAAAAAAAUAAAAAAAAAAAAAAAABAUEEAAAAAAAAAAAAAAAAAAAABAAAAUAAEAAAAAAAAAAAAABQAAAAAAAAadGQAAAAAAAAAAAFAAEAAAAAABQQAAAAAAAAAAFABAUEAAAAAAAAUUEBQQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAUAAAAAUABQAEAAAAAFAAAAABAQEoM0GaglBAQAFBRVABQUABAABAAAAAAAAAAQAAAAAAAAUEAABQAAAAAAAAAAAAAEAAAAAAAAAABQAAAAAAAAAAAAAAAAAAQBAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABAAAAAAAAAAAUAAAAAAAAGnRkAAAAAABQAAAAABAAUAAAAAAAAAAAEBQAAAAAAAAAAAQAAFUAAAQFBAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAABQAAAAABQAFAAQAAAAUAAAAAAEBASgzQZqCUEBAAUAVQUFAQAAAAAAAAAAAAAAAAQAAAAAAAAAAUAAAAAAAAAAAAAABAAAAAAUAAAAAAAAAAAAAAAAAAAAABAURAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABAAAAAAAAAAUAAAAAAAAG3RkAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAABQAAAAABQAFAAAQAAAAUAAAAAAEBKCUGaDNQSggIAACiqCgAqAAAAAAAAAAAAAAAAAAAAAACAoIAAAAKAAAAAAAAAAAAAgAAAKAAAAAAAAAAAAAAAAAAAAAAAAAgAAgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAIAAAAAAACgAAAAAAAAA26MgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAKAAAAAAAIAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAoAAAAAAAAAAAAKAAAAAAKAAoACAAAACgAAAAAAAgJQSgzQZqCUEBAAAUVQAVABQAAAAAAAAAAAAAAAAAAAAAAAAAQAAAAUAAAAAAAAAAABAAUAAAAAEAAABQAAAAAAAAAAAAAAEAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABAAAAAAAAUAAEAABQAAAbdGQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAAAAAAAAAAFAAAAAAAFAUAABAAAABQAAAAAAAQEoJQZoM1BKDIAAAKKoCCgAAoAAAAAAAAAAAAAAAAAAAAAAAAAIAAAAKAAAAAAAAAAAAAAAAAAgAAAAAKAAAAAAAAAAAAAAAgAAAgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAIAAACgAAAAgAAAAAKDboyAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAoAAAAAAAAAAgAKCAAAAAAAAAAAAAAAAAAAAAAAAAKAAAAAAAAAAAAAACgAAAAAAACgKAAAgAAAoAAAAAAAAICUGaCUGaglBkAAAFFAVBQAAAUAAAAAAAAAAAAAAAAAAAAAAAAAAEAAAFAAAAAAAAAAAAAAAAAQAAAAAFAAAAAAAAAAAAAAAAAABEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAEAAAAAAB6OjIAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAACgAAAAAAAAAAAAACAAAAAAAAAAAAAAAAAAAAAAAAAAKAAAAAAAAAAAAAACgAAAAAAACgKAAAAgAAAoAAAAAAAAICUGaCVBmglBkAAAFFUBABQAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAEAAFAAAAAAAAAAAAAAAAQAAAAAAFAAAAAAAAAAAAAAAAABAAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAEAABQbdGQAAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAEBQQAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAUAAAAAAAUABQAAEAAAFAAAAAAAAABASgzQSoM0EoMgAAAoqoAKAAAACgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAgoAAAAAAAAAAAAAACAAAAAAAoAAAAAAAAAAAAAAAAAIAAAAAgAAAAAAAoAAIAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADboyAAAAAAAAAAAAAAAAAAAAAAAoAAAAAAAAAAAAAAAAAAAAAAAAgAAAAAAAAAAAAAAAAAAAAACgAAAAAAAAAAAAAAAAAoAAAAAAAAoCgAAAIAAAKAAAAAAAAACAlBmglQZoJQQEABQBVQAUAAAAFAAAAAAAAAAAAAAAABAAAUAAAAAAAAAAVAAAAAAAAAAAAAAAQAAAAAAFAAAAAAAAAAAAAAAABAAAAAAEAAAAAAFAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAbdGQAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAEAAABQAQAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAUAAAAAAAAUABQAAAEAAFAAAAAAAAAABASgzQSoM0EoICAAoAqoAKAAAACgAAAAAAAAAAAAAAAAgAAAKAAAAAAAAAAKgAAAAAAAAAAAAAIAAAAAACgAAAAAAAAAAAAAAAAgAAAAAACAAAAACgAAAAAgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAANujIAAAAACgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAACAAAAAAAAAAAAAKAAAAAAAAAAAAAAAAAAAAAACgAAAAAAAACgKAAAAgAAAoAAAAAKAACAAgJQZoJUGaCUEBAAUUBUFAAAAAABQAAAAAAAAAAAAAAAQAAAFAAAAAAAAAAFAQAAAAAAAAAAAAEAAAAAABQAAAAAAAAAAAAAAAQAAAAAAABAAAAABQAAAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHo6MgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAKAACAAAAACAAAoAAIAAAAAooAIACgAAAgKCAAAAAAAAAAAAAAAKAAAAAAAAAKAAoAAACAACgAAAAAoAAAIACAlBmglQZoJQQEABRQFQUAAFAAAAAAAAAAAAAAAAAAABAAAAUAAAAAAAAAAAVAAAAAAAAAAAAAAQAAAAFAAAAAABAAAAAAAAAAAAAAAAAAEAAAAAFAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAejoyAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAoAAAAAAAIAAAAAAAAAIAooAAAAAAAAAAAAICggAAAAAAAAAAAACgAAAAAAAAACgKAAAAgAAAoAAAAAKAAACAAgJQZoJUGaCUEBAAUUBUFAABQAAAAAAAAAUAAAAEAAAAABAAAUAAAAAAAAAAAVAAAAAAAAAAAAAAAQAAAFAAAAABAAAAAAAAAAAAAAAAAAAEAAAAAFAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAejoyAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAoAAAAAAAAAAAAAIAACgAAAAAAAAAAAAAAAAACAoIAAAAAAAAAAAoAAAAAAAAAAoACgAAAIAAKAAAAAACgAAAgAICUGaDNQSgzQAQAFFAVBQAUAAAAAAAAAFAAAAAABAAAAAQAFAAAAAAAAAAAAAFQAAAAAAAAAAAAAAAAAAAAAAEAAAAAAAAAAAAAAAAAAAAAQAAAAUAAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAB6OjIAAAAAAAAAAAAAAAAAAAAAAAAAAAAAACgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAACAAAAAAAKAAAAAAAAAAAAKAoAAACAAACgAAAAAAoAAAIACAlBmoM0EoMggAAKAiqCgAoAAAAAAAAKAAAAAAAACAAAAAAAAAAAAAAAAAAACgIAAAAAAAAAAAAAAAAAAAACAAAAAAAAAAAAAAAAAAAAAIAAAAAAKAAAACAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA9HRkAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABAAAAFAAAAAAAAAAAAFAAUAAABAABQAAAAAAAUAAAEABAZoJUGaCUGQQAAFARVBQAUAAAAAAAFAAAAAAAAAABAAAAAAAAAAAAAAAAAABQAEAAAABQAQAAAAAAAAAAAAEAAAAAAAAAAAAAAAABQAQABAAAAAABQAAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHo6MgAAAAAAAAAAAAAAAAAAAAAAAAKAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAACiAAAAAAAAAAAAAAoCgAAAIAAAKAAAAAAACgAAAgAIDNBKgzQZoICAAAoCKoKACgAAAAAAAoAAAAAAAAAAAIAAAAAAAAAAAAAAAAAAKAAgAKAAAACAAAAAAAAAAAAgAAAAAAAAAAAAAAKAAACAAAIAAAAAKAAAACAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA9HRkAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUQFBAUEAAAAAAAAABQFAAAAAQAAUAAAAAAAAFAAABAAQGaCVBmgzQQEAABQBVQUAFAAAAAABQAAAAAAAAAAAAQAAAAAAAAAAAAAAAAAAUAAAAAAAAAAABAAAAAAAAAQAAAAAAAAAAAAFAAAAABAAAAEAAAAFAAABAAAAAAAAAQAAAFAAAAAAAAAAAAAAAAABAAeroyAAAAAAoAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAKAAAAAAAIAAAAAAAACgKAAAAAgAoAAAAAAAAKAAAACAAgM0EqDNBmggIAACgCqgoAKAAAACgAAAAAAAAAAAAAAgAAAAAAAAAAAAAAAAAAAoAACAAAAoAAAAAAIAAAAACAAAAAAAAAAAAoAAAAAAAIAAAgAAAAoAAIAAAAAAAACAAAAAoAAAAAAAAAAAAAAIAAAAD2dGQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAEAAAAABQAFAAAAAQAAUAAAAAAAAFAAAABAASgzQSoM0GaCAgAAKCiiCgAoAAAKAAAAAAAAAAAAAAAACAAAAAAAAAAAAAAAAAAACgIAAAAAACgAAAAgAAAAAIAAAAAAAAACgAAAAAAAAAgAAAACAAAAAoAAAIAAICgAgAAAAAKAAAAAAAAAAACAAAAAAA9nRkAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAABAAAUBQAAAAAEAFAAAAAAAAABQAAAAQAEBmglQZoM0EABAAUVQEFABQAAAUAAAAAAAAAAAAAAAAEAAAAAAAAAAAAAAAAAAAABBQAAAAAAFAAABAAAAAAQAAAAAAAAFAAAAAAAAAABAAAAAAAAAAAAAQABAAAAAAAAABQAAAAAAAAAAQAAAAAAAAHs6MgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAKAAAAAAAAAAAAAAAAAAAACgAAAAAIAKAAAAAAAACgAAAAAgAIDNBKgzQZoIACAoAqgIKACgAAoAAAAAAAAAAAAAAAAAIAAAAAAAAAAAAAAAAAAACAACgAAAAAAAKACAAAAAAgAAAAAAAKAAAAAAAAAAACAAAAAAAAAAAgAAACAAAACggAAAKAAAAAAAAAACAAAAAAAAgPd0ZAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAUAAAAABABQAAAAAAAAAUAAAAAEABKDNBKgzQZoIACAoAqgIKACgAAoAAAAAAAAAAAAAAAAAAIAACgAAAAAgAAAAAAAAAIAAKAAAAAAAAAAAAAAAAAgAAAAKAAAAAAAAAAAAAACAAAAAAAAgAAAAAACAAACgAgAAKAAAAAAAAAACAAAAAAAgAPd0ZAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAAAAAAAEAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAAABABQAAAAAAAAAUAAAAAAEBKDNBKgzQZoIAAAAKoKgAAoAAAKAAAAAAAAAAAAAAAAAAAAAAAAAACAAAAAAAAAgAAAAAoAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAACAAAAAAAgAAIAAACgIAAAKAACAAoAAAAAAAAAAAIAAAAACAA93RkAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAQAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAEAFAAAAAAAAABQAAAAAAQAEoM1BKDNBmggAAAAqgqAACgAAAoAAAAAAAAAAAAAAAAAAAAAAAAAAIAAAAAAAACAAAAACgAAAAAAAAAAAAAAAAAAAAAAAAAIAACgAAAAAgAAAAAIAACAAAAAAqAACgAAAAAAAAAAAAAAAAAgAAAAAIAD3dGQAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAEAAFAAAAAAAAABQAAAAAAQAEoM1BmglBmggAAAqgAqACgAAAAAoAAAAAAAAAAAAAAIACgAAAAAAAAAgAAAAAAAAIAAAAKAAAAAAAAAAAAAAAAAAAAAAAAAAgAAAKAAAACAAAAAAgAAIAAAACoAAAKAAAAAAAAAAAAAAAAACAAAAAgAAPd0ZAAAAAAAAAAAAAAAAUAAAAAAAABAAAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAABABQAAAAAAAAAUAAAAAAAEABKDNQZoJQZoIAAAKoCCgAoAAAAAAKAAAAAAAAAAAACAAAAoAAAAAAAAIAAAAAAAACAAAAACgAAAAAAAAAAAAAAAAAAAAAAAIAAAACgAAAAgAAAAAIAACAAAAIKAACgAAAAAAAAAAAAAAAAAAgAAAAIAAD3dGQAFAAAABAUAAAAAAAAAAAAAABAAAAUEABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAEAAFAAAAAAAAABQAAAAAAAQAGaCVBmglBmggAAAqgIKACgAAAAAAoAAAAAAAAAAAAIAAAACgAAAAAAAgAAAAAAAAAIAAAAKAAAAAAAAAAAAAAAAAAAAAAAAAgAAAKAAgKCAogCAoICiAAAAAAAIAAKAAAAAAAAAAAAAAAAAACAAAAAgAAAOhtkAAUAAAAAAAAAAAAAAAAAAAEAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAEAFAAAAAAAABQAAAAAAAAQAGaCVBmglBkEAAAFUBBQAUAAAAAAAFAAAAAAAAAAAABAAAAAUAAAAAAEAAAAAAAAAABAAABQAAAAAAAAAAAAAAAAAAAAAAAAEAABQAAEAAAEAAAAABFAAABAAABQAAAAAAAAAAAAAAAAAAQAAAAEAAABAdLbIAAAAAoAAAAAAAAAAAAAAIAAAAAAAAACgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAACgAAAAAAAIAKAAAAAAAAACgAAAAAAAAgAM1BKDNBKDIIAAAKoCCgAoAAAICgAAAoAAAAAAAAAAAIAAAACgAAAAAAAgAAAAAAAAAIAAAAKAAAAAAAAAAAAAAAAAAAAAAAAAAAAAIAAAIAAAAAAAACAAAAoAAAAAAAAAAAAAAAIAAAAAAAACAAAAgAOltkAAAAAAAAUAAAAAAAAEAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAEFAAAAAAAAABQAAAAAAAAAQAGaglBmglBkEAAAFUBBQUAAAEAABQAAUAAAAAAAAAAAAEAABQAAAAAAAAQAAAAAAAAAEAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAEAAABRAEAAAAAAAAAAAAAAAAAAAAAAAAEAAAAAAAAAABAAAAQABR0tMgAAAAAAAAAAACgAgKCAAAAAAAAAAAAAAoIACgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAACgAAAAAAAAAIAKAAAAAAAACgAAAAAAAAAAgAM1BKDNBmggIAAAKoCCgoAAAIAACgAAoAAAAAAAAAAAAAIACgAAAAAAAAgAAAAAAAAAIAAAAKAAAAAAAAAAAAAAAAAAAAAAAAAAAAAICgCAAIAAAAAAAAAAAAAAAAAAAAAAAAIAAAAAAAAAACAAAgAACjpaZAAAAAAAAAAAAAAAAAAAAAUAAEAAAAAAAAAAUAAAEAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAEFAAAAAAAAABQAAAAAAAAAAQAGaglBmgzQQEAAAFUBBQAUAAEAABQAAUAAAAAAAAAAAAAAEBQAAAAAAAAQAAAAAAAAAEAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAEABQBAAAAEAAAAFBAAAAAAAAUAAAEAAAABAAAAAAAAAAAAQAAAAEAB0tsgAAAAAAAAAAAAAAAAKAAAAAAAACAAAAAAAKCAAAAoAIAAAAAAAAACgAAAAAAAAAAAAAAAAAAAAAAAAAAACgAAAAAAAAAAAAIKAAAAAAAACgAAAAAAAAAAAgIglBKDNBmggIAAAKAqACgAAAAAAoAAAKAAAAAAAAAAAAAAAAAAAAAAACAAAAAAAAAAgAAAAAAoAAAAAAAAAAAAAAAAAAAAAAAAAAAACAAAAIAAAKAAAAAAAAAAAAAACAAAAgAAAAAAAAAAAAIAAAAADobZAAAAAAAAAAAAAAUAAAAAAAAAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAAAAAAAAAABBQAAAAAAAUAAAAAAAAAAAAEAQZoJQZoM0EBAAQAFFEFABQAAAAAAUAAFAAAAAAAAAAAAAAAAAAAAAAAABAAAAAAAAAAQAAAAAUAAAAAAAAAAAAAAAAAAAAAAAAAAABAAAAAEAAAFAAAAAAAAAAAAAAABAAAAQAAAAAAAAAAAAAAEAAB0NsgAAAAAAAAAAKAAAAAAAAAAAAAAAAAACAAAAAAAAAAAAAAAAAAAAAAAKAAAAAAAAAAAAAAAAAAAAAAKAAAAAAAAAAAAAAAgoAAAAAAAAKAAAAAAAAAAAAACIM0EoM0GaCAgIAAAKqACgAAAoAAAKAACgAAAAAAAAAAAAAAAAAAAAAAAAAgAAAAAAAAIAAAAAKAAAAAAAAAAAAAAAAAAAAAIACggAAKIAAACAoCAACgAAAAAAAAAAAAAAAgAAAIAAAAAAAAAAAAAAAAAD3bZAAAAAAAAUAAAAAAAAAAAAAAAAAAAAAAAAAEAAAAAAAAAAAAAABQAAAQBQAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAEFAAAAAAABQAAAAAAAAAAAAAARBmglBmgzQQEBAAAABRBQAUAAFAABQAAAUAAEBQAAAAAAAAAAAAQFAAAAAAAABAAAAAAAAQAAAAAUAAAAAAAAABAAAAAUAAAABAAAAAABFAAAEBQEAAFAAAAAABAAUAAAAAAEAAAAABAAAAAAAAUAAAAAEAB0NsgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAIoAAAAAAAAoAAAAAAAAAAAAAAAAAAAAAAAAAKgAAAAAAAAoAAAAAAAAAAKCAAAiDNBKDNBKDIICAAgAKKAIKACgAAoAKAAAAAAAAACgAAAAAAAAAAgKAAAAAAAAAACAAAAAAgAAAAAAoAAAAAACAAAAAAAAAAoAACAAAAACKAAAAACAACgAAAAAgAAAAKAAAACAAAAAAAAgAAAAAKAAAAAAAD3bZAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABBQAAAAAAAUAAAAAAAAAAAFBAAARBmglBmglBmggIACAAAoogoAKAACgAoAAAAAAAAAAKAAAAAAAAACAAoAAAAAAAAAAIAAAAACAAAAACgAAAAAAIAAAAAAAAAAACoCggAAAAgCgAAAgAAAoAAAAIAAAAAAAAAAAAAAAAAAACAAAAAoAAAAAAAPdtkAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAAAAAAAAAAAAAAAAAAAAAVAAAAAAAABQAAAAAAAAAAUAAEABEGaCUGaCUGaCAgAIAAAKqCgAoAKAACgAAAAAAAAAAAoAAAAAAAAAAAAAAAAAAAAAAIAAAAACAAAACgAAAAAIAAAAAAAAAAAAACgIAAAAAIAAAAAAACgAAAAgAAAAAAAAAAAAAAAAAAAAIAAACgAAAAAAA922QAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQQAAAAAFAABAAAAUAAAAAAAAAAAAAAAAAAAVAAAAAAAABQAAAAAAAAAAAUAAEABEGaCUGaCUGaCAgIAAAAKqCgAoAKAACgAAAAAAAAAAAoAAAAAAAAAAAAAAAAAAAAAAAIAAAAAACAACgAAAAAIAAAAAAAAAAAAAAACoACgAggAAAAAAAKAAAACAAAAAAAAAAAAAAAAAAAAAAgAAAAKAAAAAD3bZAAAAAAAAAAAAAUAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAAAAAAAAAAAAAAAEFAAAAAAAAABQAAAAAAAAAAUAAAEABEGaCUGaDNBKCAgIAAAAKqCgAoAKACgAAAAAAAAAAAAAoAAAAAAAAAAAAAAAAAAAAAAIAAAAAAACACgAAAAAIAAAAAAAAAAAAAAAAAgoAAAIAAAAAACgAAAAgAAAAAAAAAAAAAAAAAAAAAIAAAAAACgAAA922QAAAAAAAAFAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAABABQAAAAAAAAAAUAAAAAAAAAAFAAABAARBmglBmgzQSggICAAAAAqKoAKACgAoAAAAAAAAAAAAAAAAAAKAAAAAAAAAAAAAAAAAACAAAAAAAAgoAAAAAACAAAAAAAAAAAAAAAAAAqACAAAAAAAAoAAAAIAAAAAAAAAAAAAAAAAAAAACAAAAAAAAAAA6G2QAAAAAFAAAAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAABAABQAAAAAAAAAAUAAAAAAAAAAFAAAABAEEoM0EoM0GaCUEBAQAAAAFFVABQAUAFAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAQAAAAAAEFAAAAAAAQAAAAAAAAAAAAAAAAABAAAAAAAAABQAAAAQAAAAEAABQAAAAAAAAAAAAAAQAAAAAAAAAHQ2yAoAAAAAAAAAAAAAAAAAAIAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAoIAACggAAAAoAAAAAAAAAAAAKAAAAAAAAAACgAAAAgCCUGaDNBKDNBKCAgIAAACgCqgAoKAACgAAAAAAAAAAAAAAAAAAAAoAAAAIAACgAAAAAAAAAAgAAAAAoCAAAAAAAgAAAAAAAAAAAAAAAAACAAAAAAAAACgAAAAgAAAAIAAACgAAAAAAAAAAAAAgAAAAAAAAIDqbZAAAAAAAAAAAAAAAAAAAAAAAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAABQAAAAAAAAAAUAAAAAEBEEoJQZoM0EoM0EABAAAUAVUAFABQAUAAAAAAAAAAAAAAAAAAAAAAFAABAAAAAUAAAAAAAAAAEAAAAFAQAAAAAAAEBQAAAAQAAAAAAAAAAABAAAAAAAAABQAAQAAAAAEAAAABQAAAAAAAAAAAAAQAAAAEAAAB1NsgAAAAAAAAAAAAAAAAAAAAAAAAAAIAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAACgAAAAAAAAAAAAAAoAAAAAAAAAAKAAAAACAiCUEoM0GaDNBAQAEBQABVBUAFAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAAAAAAAEAAAFAQAAAAAAAAAAAAAAAAEAAAAAAAAQAAAAAAAAAAAAAAAAAAAQAAAAAFAAAAAAAAAAAAABAAAAQAAAHU2yAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAKAAAAAAAAAAAAAAAAACgAAAAAAAAAoAAAAAAIggJQZoM0EoM0EBAAAAAUVUAFABQAAAAAAAAUAAAEAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAQAUAABAAAAAAAAAAAAAAAAAQAAAAAAABAAAAAAAAAAAAAAAAAAABAAAAAAUAAAAAAAAAAAAAEAABAAAAdTbIAAAAAACgAgAAAAAAAAAAAAAAAAAAAAAAAAAAAAIAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAACgAAAAAAAAAAAAAAAAAAoAAAAAAAAAKAAAAAAACIICUGaDNBmglBkAAAAFFVBQAUAAFAAAAAAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAUAAAAAAAEAFAAAAQAAAAAAAAAAAAAAAAEAAAAAAQAAAAAAAAAAAAAAAAAAAAAQAAAAAFAAAAAAAAAAAABAAAQAAAHU2yAAAAoAAAAAIAAAAAAAAAAAAAAAAAAAAAAAAAAAAAACAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAoAAAAAAAAAAAAAAAAAAAAKAAAAAAAACgAAAAAAAgCCUGaCUGaDNBmggAICgAqKoKCgAoAAAAAAAAAAAAAAAAIAAAAAAAAAAAAAAAAAAAAAAAACgAAAAAgAoAAAACAAAAAAAAAAICgAAAgigAAAgKCAAAAAAAAAAAAAAAAAAAAACAAAAAAoAAAAAAAAAAAAAIAACAAA6m2QFAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAUAAAAAAAEQASgzQZoM0GaCUEBAAUFFEGgUAFAAAAAAAAAAAAAAAAABAAAAAAQFAAAAAAAAAAAAAAAAABQAAAAAQAUAAAAABAAAAAAAAAEABQQAFBBFABAAAAAAAAAAAAAAAAABQAAQAAAAEAAAAABQAAAAAAAAAAAAQAAEAAB1tsgAAAAAAAAAAIAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAACAAAAAAAAAAAAAAAAAAAoAAAAAAAAAAAAAAAAAAAAAAAAAAAAAKAAAAAAAACgAAAAAAAAiADNBKDNBmgzQSggIACgoqoKCgoAAAAAAAAAAAAAAAAAAAIAAACAAoAAAAAAAAAAAAAAAAAAKAAAACACgACAoAAAgAAAAAAAAAAACAoIIoAAAAIAAAAAAAAAAAAAAKAAACAAAAAgAAAAKAAAAAAAAAAAACAAAAgAOttkAAAAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAQAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAUAAAAAAAAEQAZoJQZoM0GaCAgIACgoqoKCgoAAKCAAAAAAAAAAAAAAAgAAAAIACgAAAAAAAAAAAAAAAAAAAoAAAIKICggAKAAAAIAAAAAAAAAAAAgKIgKAAAACAAAAAAAAAAAAACgAAAgAAAAAIAAACgAAAAAAAAAAAAgAAAIADrbZAAAAAAAAAAAAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAEAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAAAAAAFAAAAAAAABEAGaCUGaDNBmggICAAoKKqCgoKAACgAgAAAAAAAAAAAAAIAAAACAAoAAAAAAAAAAAAAAAAAAAAKAAggooICggKAAAAAIAAAAAAAAAAAACAAAAAAAIAAAAAAAAAAAAKAAACAAAAAAgAAAKAAAAAAAAAAACAAAAgAKDqbZBQAAAAAQAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAAAAAAFAAAAAAAAQQAGaCUGaDNBmgyACAAoKiqCgoKAACgAAgAAAAAAAAAAAAIAAAACAAAoAAAAAAAAAAAAAAAAAAAAAACKKACAoAAAAAAgAAAAAAAAAAAAAIAAAAAAAgAAAAAAAAAAAoAAAAIAAAAACAAAoAAAAAAAAAAIAAACAAAoOptAAAFBAAABAAAAAAAAAAAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAUAAAAAAAABBAQEoM0GaDNBKDIAIACiqgsBQUFAABQAAAQAAAAAAAAAAAEAAAABAAAUAAAAAAAAAAAAAAAAAAAAAABAFAAFAAAAAAAEAAAAAAAAAAAABAAAAAAQAFQAAAAAAAAAAUAAAAEAAAAABAAAUAAAAAAAAAEAAABFABABQdbaAAAAAIAAIAAAAAAAAAAAAAAAgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAKAAAAAAAAACgAAAAAAAAIICCpRGaDNBmglBkAEABRVQWAoKCgAAoAAAAIAAAAAAAAAACAAAAAgAAAKAAAAAAAAAAAAAAAAAAAAAgCgCgAAAAAAAAACAAAAAAAAAAAAAgAAAAIAAAgoAAAAAAAAAKAAACAAAAAgAAAKAAAAAAACAAAAAKIAAgAA7G0AAAAAAQAAQAAAAAAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAAAAAAFAAAAAAAAAQQEoqURmgzQZoM0EBAAAUVUFgKCgoAKAAAAAACAAAAAAAAAAgAAAAIAAAACgAAAAAAAAAAAAAAAAAAAAICqAICgAAAAAAAACAAAAAAAAAAAAAgAAAAIAAgAoAAAAAAAAKAACAAAAAAgAAAKAAAAAACAAAAAAKIAAAgA7G0AAAAAAQAAQAAAAAAAAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAAAAAAAFAAAAAAAAAQQEoqURmgzQZoM0EBAAAUVUFgKCgoAKAAAAAACAAAAAAAAAAgAAAAIAAAAACgAAAAAAAAAAAAAAAAAAAIoAoAAAAAAAAAAAAgAAAAAAAAAAAIAAAAACAAAqAAAAAAAAAAAAAAAAACAAAAoAAAAAIAAAAAAAogACAADsbQAAAAAABABAAAAAAAAAAAAAAAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAUAAAAAAAABBBUojNBmgzQSgzQQEAABRVBUFgKCgAoAAAAAAIAAAAAAAACAAAAAAgAAAAAKAAAAAAAAAAAAAAAAAAAAAKAAAAAAAAAAAAAAgAAAAAAAAAAAIAAAAACAAAAIKAAAAAAAAAAAAAACAAAoAAAAAAIAAAAAAACKACAADsbQAAAAAAABABAAAAAAAAAAAAAAAAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAUAAAAAAAAAEQAZoJQZoM0GaCUEBAAAUUBpBQUFABQAAAAAAQAAAAAAAEAAAAAABAAAAAAUAAAAAAAAAAAAAAAAAAAAUAAAAAAAAAAAAAAABAAAAAAAAAAAAQAAAAAAEAQFBBQAAAAAAAAAAAAAAAAAAAAAAQAAAAAAAAAEAAAB2NoAAAAAAAAAgAgAAAAAAAAAAAAAAAAAAACAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAoAAAAAAAAAAKAAAAAAAAAggICUGaDNBmglBmggAAAAqg1EFgKCgAoAAAAAAAIAAAAACAAAAAAAAAgAAAKAAAAAAAAAAAAAAACggAAACKKAAAAAAAAAAAAAAAIAAAAAAAAAAAACAAAAAAgAAACCgAAAAAAAAAAAAAAAAAAAAAgAAAAAAAAAAAAAOttAAAAAAAAAAAEEAAAAAAAAAAAAAAAAAAAAAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAABQAAAAAAAAEEBKCUGaDNBmgzQQEABAUAVUGgWAoKACgAAAAAAAgAAAAAIAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAKAAAAAAAAAAAAAAAAgAAAAAAAAAAAAAIAAAAACAAAIKAAAAAAAAAAAAAAAAAAAAAACAAAAAAAAAAAAA620EBQAAAAAAAAAAAABBAAUEAAAAAAAAAAAAAAAAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAABQAAAAAAAEAEBKDNBmgzQZoJQZABAAUAVUGoCwFBQAUAAAAAAAEAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAEAAAAAAAAAAAABAAAAAAQAAFAQAAAAAAAAAAAAAAAAAAAAAAQAAAAAAAAAAAAHW0goAAAAAAAAAAAAAAAAAgAAgAAAAAAAAAAAAAAAAACAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAoAAAAAAAAAAAKAAAAAAAAgAgJQZoM0GaDNBmggIAACgCqg1AWAoKACgAAAAAAAgAAAAIAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAKAAAAAAAAAAAAAAAAAgAAAAAAAAAAAAIAAAAAAAAAAgAAAAAAAAAAAAAAAAAAAAAAgAAAAAAAAAAAAOtpABQAAAAAAAAAAAAAAAABAAABAAAAAAAAAAAAAAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAUAAAAAAABBAAZoJQYoM0EoM0EBAAAUAVYg1AWAoKACgAAAAAAAAgAAAIAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAKAAAAAAAAAAAAAAAAAAAgAAAAAAAAAAAIAAAAAAAAAAgAAAAAAAAAAAAAAAAAAAAAAgAAAAAAAAAAAAOxpEAAAUAAAAAAAAAAAAAAAAAQAAQAAAAAAAAAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAAAAAAAFAAAAAAAAAQQEBKDNBmgzQZoJQQEAABRQFiDUBYCgoAKAAAAAAAACAAAAgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAoAAAAAAAAAAAAAAAAAAACAAAAAAAAAAAgAAAAAAAAAAACAAAAAAAAAAAAAAAAAAAACAAAAAAAAAAAAA7GkAAQABQAAAAAAAAAAAAAAAABABAAAAAAAAAAAAAAAAAAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAUAAAAAAAABBAQEoM0GaDNBmggICAAAoAqxBqAsBQUAFAAAAAAAAABAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAAAAAAAAAAAAAAAAAABAAAAAAAAAAQAAAAAAAAAABAAAAAAAAAAAAAAAAAAAAABAAAAAAAAAAAAAdjSAAAIAAoAAAAAAAAAAAAAAAAAggAAAAAAAAAAAAAAAAAAAAAACAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAoAAAAAAAAAAAKAAAAAAAAAggJQSgzQZoM0GaDIAIAACgCtRBYCgoKACgAAAAAAAAAgAAIAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAKAAAAAAAAAAAAAAAAAAAAAICiICgAAAAAAACAAAAAAAAAAAAAAAIAAAAAAAAAAAAAAAAAIAAAAAAAAAAAADsaQAAABAAFAAAAAAAAAAAAAAAAAEEAAAAAAAAAAAAAAAAAAAAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAABQAAAAAAAAEEBKDNBKDFBmglBkAEAABQBWkFgKCgoKAAAAAAAAAACAAAAgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAoAAAAAAAAAAAAAAAAAAAAAgAAAgCgAAAAAAACAAAAAAAAAAAAgAACACgAAAAAAAAAAAAAAAgAAAAAAAAAAAOxpAAAAAEAUAAAAAAAAAAAAAAAAABEAAAAAAAAAAAAAAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAAAAAAAAAFAAAAAAAAQAQEoM0GaDNBmglBkAEAABQUUQaBYCgoKAAAAAAAAAAACAAAAgAAAAAAAAAAAAAAAAAAAAAAAAAAAAoAAAAAAAAAAAAAAAAAAAAAAgAAKAAAIAAAAAAAACAAAAAAAAAgAAAACACgAAAAAAAAAAAAAAgAAAAAAAAAAAOxpAAAAAAEAUAAAAAAAAAAAAAAAAAABEAAAAAAAAAAAAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAAAAAAAAFAAAAAAAAAQAQEoM0GaDNBmgzQQAEAABQUUQagLAUFBQAAAAAAAAAAAQAAAAAAEAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAQAAAAFAAAAAAAAAQAAAAAAAFAAAEAAAAAAAABAAAAAAQAAAABAABQAAAAAAAAAAAAAAQAAAAAFAAAAB1tIAAAAAAAAigAAAAAAAAAAAAAAAAAAAAIAgAAAAAAAAAAAAAAAAIAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAACgAAAAAAAAAAAoAAAAAAAAAIgAzQSgzQZoM0GaCAAgAKACiiDUBYCgoKAAAAAAAAAAACAAAAAAAAgAAAAAAIACgAAAAAAAAAAACgAAAAAAIAAAAAAACgAAAAAAAIAAAAAACgAAAACAAAAAAAAAgAAAAIAAAAAAgAAoAAAAAAAAAAAAAAIAACgAAAAAA62kAAAAAAAAAFAEAAAAAAAAAAAAAAAAAAAAEQAAAAAAAAAAAAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAUAAAAAAAAAEQAZoM0GaCUGaDIIAAAAAKqADUBYCgoKAAAAAAAAAAACAAAAAAAAAgAAAAIAACgAAAAAAAAACgAAAAAIAAAAAAAAAAAACgAAAAAAAIAAAACggKAAAAIAAAAAAACAAAAAgAAAAACAACgAAAAAAAAAAAAAAAAAAAAAAAA62kAAAAAAAAAAFAAAEAAAAAAAAAAAAAAAAAAEQAAAAAAAAAAAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAUAAAAAAAAAEQQEoM0GaDNBKDIIAAAAAKqCgsBQUFBQAAAAAAAAAAAQAAAAAAAAEAAAAAAAAAAAAAAAAAFAAAAAAQAAAAAAAAAAAAAAAAFAAAAQAAAAAAAFBAUAAAQAAAAAAAEAAAABAAAAAAEAAAFAAAAAAAAAAAAAAAAAAAAAAB1tIAAAAAAAAAAAKAAAAIAAAAAAAAAAAAAAAAAIgAAAAAAAAAAAAAIAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAACgAAAAAAAAAAAAoAAAAAAAAAAIgAzQSgzQZoM0GQAQAAABFUFBQUFBQUAAAAAAAAAAAEAAAAAAAAABAAAAAAAAAAAAAAABQAAAAAEAAAAAAABAUAAAAAAAAAFAAQAAAAAAAAAAAAFAAAEAAAAAABAAAAAQAAAAABAAABQAAAAAAAAAAAAAAAAAAAAAdbSAAAAAAAAAAAAACgAACAAAAAAAAAAAAAAAAggAAAAAAAAAAAAACAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAoAAAAAAAAAAAAKAAAAAAAAAAAggM0EoM0GaDNBAQEAAAFEFBQWAoKCgoAAAAAAAAAAAAIAAAAAAAAACAAAAAAAAAAAAAACgAAAAIAAAAAAACAAAAoAAAAAAAAKgAAAAAgAAAAKAAoAAAAAgAAAAAAIAAAACAAAAAAIAAAKAAAAAAAAAAAAAAAAAAAADraQAAAAAAAAAAAAAAAUEBREBQAAAAAAAAAAAEAQAAAAAAAAAAAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAUAAAAAAAAAABBASgzQZoM0GaCUEBAAABVQAUFBQUFBQAAAAAAAAAAAAQAAAAAAAAAAEAAAAAAAAAAAAFAAAAQAAAAAAAAAEAAABQAAAAAAAAEFAAAABAAAAAAUABQAAABAAAAAAAEEAUAAAQAAAABAAAABQAAAAAAAAAAAAAAAAAAAdjSIAAAAAAAAAAAAAAAAAACKAAAAAAAAAAAAgCAAAAAAAAAAAAAAAAgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAKAAAAAAAAAAAACgAAAAAAAAAAAIICUGaDNBmgzQSggIAAAKqACgoKCgoKAAAAAAAAAAAACAAAAAAAAAAAAAgAAAAAAAAAAoAACAAAAAAAAAAgAAAAKAAAAAAAAAgAoAAIAAAAAAACgAKAAAIAAAAAAAggACgAACAAAAAIAAAKAAAAAAAAAAAAAAAAAAADsaQBAAAAAAAAAAAAAAAAAAQBQAAAAAAAAAEAQAAAAAAAAAAAAAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAUAAAAAAAAAAABBASgzQZoM0GaCUEBAAABVQAUFBoFABQAAAAAAAAAAAQAAAAAAAAAAAAAAAEAAAAAAAFAAAQAAAAAAAAAAEAAAABQAAAAAAAAEAAAAAAAAAAAAAABQAAAAAAAAAAQARQQFAAAEAAAAQAAAUAAAAAAAAAAAAAAAAAAAHY0gACAAAAAAAAAAAAAAAAAgCgAAAAAAAAAIAgAAAAAAAAAAAAAAAAIAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAACgAAAAAAAAAAAAAoAAAAAAAAAAACCCpQZojNBmgzQSggIAAAKqACgoNAoAKAAAAAAAAAAACAAAAAAAAAAAAAAAAgAAAAAAAoCAAAAAAAAAAAAAAgAAKAAAAAAAAAAgAAAAAAAAAAAAAAKAAAAAAAAAAACCAKAAAAAIAAAgAoAAAAAAAAAAAAAAAAAAAAAOxpAAAEAAAAAAAAAAAAAAAABFAAAAAAAAAQBAAAAAAAAAAAAAAAAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAABQAAAAAAAAAAAEEFSgzQZojNBmglBAQAAAVUAFBQaBQAUAAAAAAAAAAAEAAAAAAAAAAAAAAAABAAAAABQAEAAAAAAAAAAAAAAAAAAAAAAAAAAAQAAAAAAAAAAAFAAAAAAAAAAAAAAAEQFAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAB2NIAAAAgAAAAAAAAAAAAAAAIoAAAAAAAACAIAAAAAAAAAAAAAAAAACAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAoAAAAAAAAAAAAAAKAAAAAAAAAAAAggqUGaDNEZoM0EoICAAACqgAoKDQKACgAAAAAAAAAAgAAAAAAAAAAAAAAAAAIAAAAAKAAgAAAAAAAAAAAAAAAAAAAAAAAAAACAAAAAAAAAAoAAAAAAAAAAAAAAAAAgAAAAAAAAACAAAAAAAAAAAAAAAAAAAAAAADsaQAAAAAABAAAAAAAAAAAAQBQAAAAAAAAEAQAAAAAAAAAAAAAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAUAAAAAAAAAABABBUoM0GaIzQZoJQQEAAFAVABQUGgUAFAAAAAAAAAABAAAAAAAAAAAAAAAAAAQAAAAUAABAAAAAQAFAAAAAAAAAAAAAAAAAAAAQAAAAAAAAAFAAAAAAAAAAAAAAAAAEAAAAAAAAAAQAAAAAAAAAAAAAAAAAAAAAAAdjSAAAAAAAAIAAAAAAAAAACKAAAAAAAAAgACAAAAAAAAAAAAAAAAAgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAKAAAAAAAAAAAAAACgAAAAAAAAAAAIAIKlBmgzQZojNBKCAgAAoCoAKCg0CgAoAAAAAAAAAAAIAAAAAAAAAAAAAAAAACACgAAAAIAAACAAAAoAAAAAAAAAAAAAAAAAACAoIAAAAAAACgAACAAAoAAAAAAAAAAIAAAAAAAAAAgAAAAAAAAAAAAAAAAAAAAAAA7GkAAAAAAAAQAAAAAAAAAAEUAAAAAAABAAAEAAAAAAAAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAAAAAAAAAAAFAAAAAAAAAAAAQBUBKDNBmgzRGaCUEFQQFAAEFBQagKCgAoAAAAAAAAAAAIAAAAAAAAAAAAAAAAKAgAAAAAAIAAACAAAAoAAAAAAAAAAAAAAAAAAACAoIAAAAAAACgACAAAAoAAAAAAAAIAAAAAAAAAAAAgAAAAAAAAAAAAAAAAAAAAAA7GkAAAAAAAAQAAAAAAAAAAEUAAAAAAABAUEAQAAAAAAAAAAAAAAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAUAAAAAAAAAAABABBUoM0GaDNBmiJQQVAAAAAVBQagLAUAFAAAAAAAAAABAAAAAAAAAAAAAAAAABQEAAAAAABAAAAQAAFAAAAAAAAAAAAAAAAAAAAAAAAQAAAAAAFAAEAAAABQAAAAQAAAAAAAAAAAAABBVABBAAAAAAAAAAAAAAAAAAAAdjSAAAAAAAAIAAAAAAAAACAKAAAAAAAAAgACAAAAAAAAAAAAAAAAAAgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAKAAAAAAAAAAAAAAACgAAAAAAAAAAAIoCAlBmgzQZoM0EoICAAAAAqCwGgUFABQAAAAAAAAAAQAAAAAAAAAAAAAAAAAUABAAAAAAQAAAAAAAAAAAAAAAFAAABAAAAAAEBQQFBAAAAAAAUAAAAQAAAAAAAAAAAAAAAAAAAAAAAFAAQAQAAAAAAAAAAAAAAAAAAHY0gAAAAAACAAAAAAAAAAAigAAAAAAAAAIAAgAAAAAAAAAAAAAAAAAAIAAAAAAAAAAAAAAAAAAAAAAAAAAAAACgAAAAAAAAAAAAAAAoAAAAAAAAAAACKAgJQZoM0GaDNBKCAgAAAKAgoNQFBQAUAUAAAAEAAAAQAAAAAAAAAAAAAAAAAUAABAAAAAAQAAAAAAAAAAAAAAFAAABAAAAAAAAAEAAABQQAAAFAAAAAAAAAEAAAAAAAAAAAAAAAAABUBQAQQAAAAAAAAAAAAAAAAAAHY0gAAAAACAAAAAAAAAAAAigAAAAAAAAAIAAgAAAAAAAAAAAAAAAAAAAIAAAAAAAAAAAAAAAAAAAAAAAAAAAACgAAAAAAAAAAAAAAAoAAAAAAAAAAACKAgJQZoM0GaDNBKCAgAAAKAg0CwFBQAUUAAAAAAEAAQAAAAAAAAAAAAAAAAAVBAVQQAAAAAAEAAAAAAAAAAAAAABQAAAQAAAAABAUEBQAAAAAAQFAAAAAAABAUEEUAAAAAAAAAAAAAAAAAUBAAABAAAAAAAAAAAAAAAAAAdjSAAAAAAIAAAAAAAAAAACKAAAAAAAAAAgKCAIAAAAAAAAAAAAAAAAAAACAAAAAAAAAAAAAAAAAAAAAAAAAAAAoAAAAAAAAAAAAAAAKAAAAAAAAAAAAigICUGaDNBmgzQZoIAAAACgINAoKCgCqAAAAAAAAAIgAAAAAAAAAAAAAAoAACAAoIAAAAAACAAAAAAAAAAAAAAAAoAAIAAAAAAAAAgAKAAAAAAAAAAAAACAAACKAAAAAAAAAAAAAAAKgKCAAAACAAAAAAAAAAAAAAAAA7GkAAAAAQAAAAAAAAAAAAEUAAAAAAAAAABAAEAAAAAAAAAAAAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAAAAAAAAAAAFAAAAAAAAAAAQBQEBKDNBmgzQZoM0EAAAABQEGoCgoKKAoAAAAAAAAIAIAAAAAAAAAAAAAACgAAAAAIAAAAAACAAAAAAAAAAAAAAAAoIAAAAAAAgKACAAoAAAAAAAAAAAIAAAAAIAoAAAAAAAAAAAAAIKAoIAAAAAIAAAAAAAAAAAAAAADsaQAAAABAAAAAAAAAAAAFEAAAAAAAAAAAAEAQAAAAAAAAAAAAAAAAAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAUAAAAAAAAAABAFAQGaCUGaDNBmgyCAAAAAqADUBQUFFAUAAAAAAAAEAAAEBQQAFABAUEBQAAAAAAAAAAEAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAEBQAAAAAAAAAAAAQAAAAAAFEAAAAAAAAAAAAAQAUBQQAAAAAAAAQAAAAAAAAAAAAHY0gAAACAAAAAAAAAAAAAigAAAAAAAAAAAAIAgAAAAAAAAAAAAAAAAAAAAAIAAAAAAAAAAAAAAAAAAAAAAAACgAAAAAAAAAAAAAAAAoAAAAAAAAAACAKAgM0EoMUGaCUGQQAAAAFQUFBQUFFAUAAAAAAAEAAAAAAAAAAAAAAAAAAAAAAAABAAAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAEBQAAEAAAAAAAEUAAAAAAAAAAAAEAFAAAAAAAAAAABAAAAAAAAAAAAdjSAAAAIAAAAAAAAAAAACKAAAAAAAAAAAAAAiAAAAAAAAAAAAAAAAAAAAAAgAAAAAAAAAAAAAAAAAAAAAAAKAAAAAAAAAAAAAAAACgAAAAAAAAAAAIAoCAzQZoM0GaCUGQQAAAAFQUFBYCgooCgAAAAAAAgAAAAAAAAAAAAAAAAAAAAAAAAIAAAACAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAgAAAAKAgAAAAAAKAAAACAoAgAAAAACACgAAAAAAAAAAAAgAAAAAAAAAAOxpAAAEAAAAAAAAAAAAAAUQAAAAAAAAAAAAAEEAAAAAAAAAAAAAAAAAAAAAQAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAABQAAAAAAAAAAAEAUBAZoM0GaDNBKDIIAAAACoKCgoKKoAKAAAAAAAACAAAAAAAAAAAAAAAAAAAAAAAAgAAAAIAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAACAAAAAAAAqAAAAAAAAoICggAAKAIAAAAgKCACgAAAAAAAAAAAgAAAAAAAAAAOxpAAAEAAAAAAAAAAAAAAUQAAAAAAAAAAAAAEEAAAAAAAAAAAAAAAAAAAAAQAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAABQAAAAAAAAAAEAUABKDNBmgzQZoJQZABAAAAVBQUFBRVABQAAAAAAAAQAAAAAAAAAAAAAAAAAAAAAAAEAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAQAAAAAAAAFQAAAAAAAAFBAAAUAAAQAAABAAABQAAAAAAAAAAAQAAAAAAAAAHY0gAAACAAAAAAAAAAAAAKIAAAAAAAAAAAAACCAAAAAAAAAAAAAAAAAAAAAAIAAAAAAAAAAAAAAAAAAAAACgAAAAAAAAAAAAAAAAAoAAAAAAAAAACAKAgFBmgzQZoM0EoMgAgAAAKgoLAUFFUAFAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAQAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABAAAAAAAAAAAVAAAAAAAAAAAAAAUAQAAABAAAAAABQAAAAAAAQAAAAAAAAAAHY0gAAACAAAAAAAAAAAAAKIAAAAAAAAAAAAAIgAAAAAAAAAAAAAAAAAAAAAAIAAAAAAAAAAAAAAAAAAAAACgAAAAAAAAAAAAAAAAAoAAAAAAAAAACAAKgJQSgzQZoM0GaCAgAAAAKgoLAUFFUAFAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAQAAAEAAAAAAAAAABQAAAAQAAAAAAAAAAAAAAAEAAAAAEBQAAABBQAAAAAAAAAAAFAAAEAAAQAAAAAAAAUAAAAAEAAAAAAAAAAB2NIAAAAgAAAAAAAAAAAACiAAAAAAAAAAAAACIAAAAAAAAAAAAAAAAAAAAAAACAAAAAAAAAAAAAAAAAAAAAoAAAAAAAAAAAAAAAAAKAAAAAAAAAAAgACoCUEoM0GaDNBmggIAAAACoKCwFBRVABQAAAAAAAAAQAAAAAAAAAAAAAAAAAAAAAAEAAABAAAQAFAAAABQAAAAAAQAAAAAAAAAAAAAEAAAABBAAFFAAAEFAAAAAAAAAAAAAUAAAQBAAAAAAAAAAABQAAQAAAAAAAAAAAHY0gAAACAAAAAAAAAAAAAigAAAAAAAAAAAAAIgAAAAAAAAAAAAAAAAAAAAAAAIAAAAAAAAAAAAAAAAAAACgAAAAAAAAAAAAAAAAAAoAAAAAAAAAACAAKgJQZoM0GaDNBKCAgAICgAqCgsBQUVQAUAAAAAAAAAEAAAAAAAAAAAAAAAAAAAAAABAAAQAAEAAABQAAAUAAAAAAEAAAAAAAAAAAAAABAAAAQQABQBQABABQAAAAAAAAAAAAFAAAEQAAAAAAAAAAAAAAAAAAAAAAAAAAdjSAAAAIAAAAAAAAAAAAogAAAAAAAAAAAAAAiAAAAAAAAAAAAAAAAAAAAAAAAgAAAAAAAAAAAAAAAAAAAKAAAAAAAAAAAAAAAAAACgAAAAAAAAAAIoACAlBmgzQZoM0EoMgAgAAKCoKCwFBRVABQAAAAAAAAAAQAAAAAAAAAAAAAAAAAAAAEAAABAAAQAAAFAAABQAAAAAAQAAAAAAAAABAUAAAQAAAAEEBVEBQABABQAAAAAAAAAAAFAAAABABAAAAAAAAAAAAAAAAAAAAAAAAAdjSAAAAIAAAAAAAAAAACKAAAAAAAAAAAAAAgCAAAAAAAAAAAAAAAAAAAAAAAAgAAAAAAAAAAAAAAAAAAAKAAAAAAAAAAAAAAAAACgAAAAAAAAAAAIoACAlBmgzQZoM0GaCAgAAAKCoLAWA0AKoAKAAAAAAAAAACAAAAAAAAAAAAAAAAAAAAAgAAAIAACAAAAoAAAKAAAAAACAAAAAAAAAAICgAACAAAAAACAoAAAgAoAAAAAAAAAAAACgAAgAAAgAAAAAAAAAAAAAAAAAAAAAAAOxpAAAEAAAAAAAAAAAUAQAAAAAAAAAAAAAAQBAAAAAAAAAAAAAAAAAAAAAAAAQAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAABQAAAAAAAAAABRAABAZoJQZoM0GaDNBAQAAAFBUFgLAaAFUAFAAAAAAAAAAABAAAAAAAAAAAAAAAAAAAAQAAQBBQAAEAABQAAAUAAAAAAEAAABAAAUAAAAABAABAFAAAAAAABAABQAAAAAAAAAAAAFBAUEAAAAEAAAAAAAAAAAAAAAAAAAAAAB2NIAAAgAAAAAAAAAACiAAAAAAAAAAAAAAACAAIAAAAAAAAAAAAAAAAAAAAAACAAAAAAAAAAAAAAAAAAAoAAAAAAAAAAAAAAAAAAKAAAAAAAAAAAKIAAIDNBmgzQZoM0EoICAAAAoLEFgNAoKKAAoAAAAAAAAAAAIAAAAAAAAAAAAAAAAAAACAAACAIKAAAAAAAAAoAAAAAAIAACAAAAoAAAAAACAACAAKAAAAACAACgAAAAAAAAAAAAAAKCAAAAACAAAAAAAAAAAAAAAAAAAAAA7GkAAQAAAAAAAAAABQBAAAAAAAAAAAAAAABAAEAAAAAAAAAAAAAAAAAAAAAAABAAAAAAAAAAAAAAAAAAUAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAFEAEABmgzQZoM0GaCUGQAAAAUFiCwFgNAooACgAAAAAAAAAAAgAAAAAAAAAAAAAAAAAAAIAICggKgAAAAAAAAAKAAAAAACAAAgAAAAKAAAAAgKCAACAAKAAACAAACgAAAAAAAAAAAAAAAAAAAAAgAAAAAAAAAAAAAKCAAAAAAA7GkAQAAAAAAAAAAABRAAAAAAAAAAAAAAAABAAEAAAAAAAAAAAAAAAAAAAAAAABAAAAAAAAAAAAAAAAAAUAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAFEAEBKCUGaDNBmgzQZoIACAoAKCoLAWA0AKoAKAAAAAAAAAAACAAAAAAAAAAAAAAAAAAAgAgAAAKAgAAAAAAAAKAAAAACAAAAgAAAAKAAAAgAKACAACAAAAAAAAAoAAAAAAAAAAAAAAAAAAAAAIAAAAAAAAAAAACgAAAgAAAAOxpAEAAAAAAAAAAAAUQAAAAAAAAAAAAAAAAAQABAAAAAAAAAAAAAAAAAAAAAAAQAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAABQAAAAAAAAABQBABASglBmgxQZoM0EoICAAAoKCxBYCgsBRVABQAAAAAAAAAAAAQAAAAAAAAAAAAAAAEAAAAEAABQAEAAAAAAABQAAAAAAQAAEAAAAABQAAAAAAEBQQAAQAAAAAAFAAAAAAAAAAAAAAAAAAAAABAAAAAAAAAAAAAUAAAEAAAAB2NIgAAAAAAAAAAACgCAAAAAAAAAAAAAAAACAAAAIAAAAAAAAAAAAAAAAAAAAAACAAAAAAAAAAAAAAAAoAAAAAAAAAAAAAAAAAAKAAAAAAAAAAAKAIAICUGaDNBmgzQZoJQQEAABQAVBqAsBYCiqAACgAAAAAAAAAAAgAAAAAAAAAAAAAIAAAAIAAAACgAAIAAAAAACgAAAAAAgAAIAAAAACgAAAAAAIAAAAAAAAIAACgAAAAgAAKACAAAAoAAAAAAIAAAAAAAAAAAAACgAAAAgAAAOtpAAAAAAAAAAAABRAAAAAAAAAAAAAAAAABAAAAEAAAAAAAAAAAAAAAAAAAAAAABAAAAAAAAAAAAAAAUAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAFAEAEBKDNBmgzQYoJQZABAAAAUFQWA1AWAoKKAAoAAAAAAAAAAAIAAAAAAAAAAAAACAAAAAACAAoAAACAAAAAAAAoAAAAAIAAACAAAAoAAAAAAAAACAAAAAAAAAAACAAAAAAAAAAAAAAoAAAIAAAAAAAAAAAAAACgAAAAAgAAOtpAAAAAAAAAAAABRAAAAAAAAAAAAAAAAABAAAAEAAAAAAAAAAAAAAAAAAAAAAABAAAAAAAAAAAAAAUAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAFEAAEBmgzQZoM0GaDNBAQAAAAFBUFgNQFgKCigAKAAAAAAAAAAAACAAAAAAAAAAAAgAAgKCAAAAAAoAACAAAAAAAAAoAAAAIAAACAAAAoAAAAAAAAAAACAAAAAAAACAAAAAAAAAAAKACAAACggAAAAAAAAAAAAAAAKAAAAACAAA62kAAAAAAAAAAAAFEAAAAAAAAAAAAAAAAAEAAAAQAAAAAAAAAAAAAAAAAAAAAAAAEAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAUAAAAAAAAAAAUQAQEoJQZoM0GKDNBKCAgAAAAKCoLAagLAUFFAAUAAAAAAAAAAAAEAAAAAAAAAAABAABAUEAAAAAABQAEAAAAAAAAABQAAAQAAAAEABQAAAAAAAAAAAAEAAAAAAAEAAAAAAAAAAAUAAEAAAAAAAAAAAAAAAAAAAAAAFAAABAAAdbSAAAAAAAAAAAACiAAAAAAAAAAAAAAAAACAAAAIAAAAAAAAAAAAAAAAAAAAAAAACAAAAAAAAAAAAoAAAAAAAAAAAAAAAAAAAKAAAAAAAAAAAAAigICUGaDNBmgzQZoJQQEAAAABQVBYDUBYCgooACgAAAAAAAAAAAAAAgAAAAAAAAAIAAAAAAIAAAACgAAIAAAAAAAAACgAAgAAAAIACgAAAAAAAAAAAAAIAAAAAIAAAAAAAAAAAoAAAAIAAAAAAAAAAAAAAAAAAAAAAAAAAAAOxpEAAAAAAAAAAAAUAQAAAAAAAAAAAAAAAQAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAQAAAAAAAAAAFAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAABRABAZoJQZoMUGaCUGQQAAAAAFBUFgNQFgKCigAKACAAAoAAAAAAAAAAAAAAIAAAAACAAAAACAoIAACgAAIAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAgAAAAgAAAAAAAAAACgAAAAAgAAAAAAAAAAAAAAAAAAAAAAAAAAoOtpEAAAAAAAAAAAAABFAAAAAAAAAAAAAAAQAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAQAAAAAAAAFAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAABQBBAQEoM0GaDNBmgzQQEAAAAABQVBYDUBYCgooACggAAAAKAAAAAAAAAAAAACAAAAAAgAAgAKCAoICgAAAAIAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAgAAAgAAAAAAAAAACgAAAAAAgAAAAAAAAAAAAAAAAAAAAAAAAAoOtpEAAAAAAAAAAAAAAUQAAAAAAAAAAAAAAQAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAQAAAAAAFAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAABQBBASglBmgzQYoJQZoICAAAAAAoKgsBqAsBQUUAAAAAAABQAAAAAAAAAAAAAAQAAAAEAAAEBQQFBAAAUAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAEAAEAAAAAAAAUEAABQAAAAAQAAAAAAAAAAAAAAAAAAAAAAAAAUHU0gAAAAAAAAAAAAAAogAAAAAAAAAAAAAAgAAAAAACAAAAAAAAAAAAAAAAAAAAAAAAAAAAgAAAKAAAAAAAAAAAAAAAAAAAAAACgAAAAAAAAAAACgIglBmgzQZoM0GaCAgIAAAACgIKDUBYCwFBRQAAAAAAAAFAAAAAAAAAAAAABAAAAAQAAAAAQFBAAAAUAAABAAAAAAAAAAAAAAAAAAAAAAAAAQAAAAFAAAAAAQAAQAABQAQFAABAAUAAAAAEAAAAAAAAAAAAAAAAAAAEAABQAAAdbSAAAAAAAAAAAAAACiAAAAAAAAAAAAAACAAAAAAAIAAAAAAAAAAAAAAAAAAAAAAAAAAAAACAoAAAAAAAAAAAAAAAAAAAAAAKAAAAAAAAAAAAAKAiCUGaDNBmgzQZoICAgAAAAKAgoNQFgKCgooAAAAAAAACgAAAAAAAAAAAAAgAAAAIAAAICggAAAAKAAAAAgAAAAAAAAAAAAAAAAAAAAAAAIAAAAACgAAAAAAAAgAAAAAAAACAAAoAAAAIAAAAAAAAAAAAAAAAAAIAAAACgAA62kAAAAAAAAAAAAAAFEAAAAAAAAAAAAAAEAAAAAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAFAQBBmgzQZoM0GaCUEBAQAAAAFBUFBYCwGgAUUAAAAAAAABQAAAAAAAAQAFAABAAAAAAQAAAAAAQAFAAAAAAAQAAAAAAAAAAAAAAAAAAAAAAEAAAAABQAAAAAAAAAAQAAAAABAAAAAUAAAEAAAAAAAAAAAAAAAAAAEAAAAABQAdbSAAAAAAAAAAAACiAAAAAAAAAAAAAAAACAoIAAAAAgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAKAAAAAAAAAAAAKAgJUEoM0GaDNBmglBAQAEAABQAVBQWA1AUFAFAAAAAAAAAUAAAAAAAEAAAABQQAAAAAEAAAAAEABQFAABAAAAAQAAAAAAEABQAAAAAAAAAAAQAAAAAAFAAAAAAAAAAABAAAAEAAAAAAABQQAAAAAAAAAAAAAAAAAAAAQAAAAFAB1tIAAAAAAAAKAIAAAAAAAAAAAAAAAAAAIAAAAAAAgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAKAAAAAAAAAAAAAKgJUEoM0GaDNBmglBAQAAAAABBQWA1AWAoKKAAoIAAAAAACgAAAAAAAgAAAAAAAAAAAIAAAAICgAAKAAACAAAAAAgAAAIAAAACgAAAAAAAAAAgAAAAKAAAAAAAAAAAAAACAAIAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAIAAACgA62kAAAAAAFEAAAAAAAAAAAAAAAAAAAEAAAAAAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAFQEqDNBKDFBmglBkAEAAAAABUFBYCwFgKCigKACAAAAAAAoAAAAAAIAAAAAAAAAAAAACAAAAAAAoAAAAIAAAAAACAAAAgAAAKAAAAAAAAAACAAAoAAAAAAAAAAAAAAAAAIAgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAgAKADraQAAAAUQAAAAAAAAAAAAAAAAAAQAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAAAAAAAAAAERUoM0GaDNBmglBkAEAAAABUAFBQUFBQUUBQAQAAAAAAAFAAAAABAAAAAAAAAAAAAAQAAAFEBQAAAAEAAAAAAABAAAAQQAAFAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAEQAAAAAAAAAAAAAAAAUAAAAEAAAAAAAAAAAAAAB1tIAAAKIAAAAAAAAAAAAAAAAAIAAAAAAAgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAKAAAAAAAAAAAAACIqUGaDNBmgzQSgyAAAAAAgAAoKCgoKCigKACAAAAAAAAoAAAAAIAAAAIACgAAAAAAIAICgKAAICgIAAAAAAAAAACAAAggAAKAAoAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAIgAAAAAAAAAAAAAAAoAAAAAAIAAAAAAAAAACAAA7GkAAFEAAAAAAAAAAAAAAAAAEAAAAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAABEGaKlBmgzQZoM0EAAAAAQAAUAFBQUFFUAFAABAAAAAAAUAAAAAEAAAEAAAABQAAAAAEAABQAAAAQAAAAAAAAAAEAABABAAUABQAAAUEAAAAAAAAAAAAAAAAAAAAAAAAABEAAAAAAAAAAAAAAFAAAAAAAABAAAAAAAAAQAAAHY0gACKAAAAAAAAAAAAAAAAAgAAACAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAoAAAAAAAAAAAAAIAgzRUoMUEoM0GQAQAAABBQAAUAFBQUVQAUAAEAAAAABQAAAAAAQAAEEAAAUAAAUAAEAQUEBVAAABAAAAAAAAAAAAAQAAEEABQAFAAABQAQAAAAAAAAAAAAAAAAAAAAAAAAEQAUAAAAAAAAAAAAAAAAAAAAAEAAAAAAABAAAAAdjSACiAAAAAAAAAAAAAAAACAAAIAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAACgAAAAAAAAAAAAAgIglFZoM0GaCUGQAQAAFQAAAAUFABQUVQAUAAEAAAAABQAAAAAAQAARAAAAAUAAUAEAAQAAVQAAAQAAAAAAAAAAAAEAABBAAUBQAAAUAAAEAAAAAAAAAAAAAAAAAAAAAAABEAFAAAAAAAAAAAAAAAAAAAAABAAAAAAAQAAAAAH/2Q==",skyBoxRight:"data:image/jpeg;base64,/9j/4AAQSkZJRgABAQEAYABgAAD/2wBDAFA3PEY8MlBGQUZaVVBfeMiCeG5uePWvuZHI////////////////////////////////////////////////////2wBDAVVaWnhpeOuCguv/////////////////////////////////////////////////////////////////////////wAARCAgACAADAREAAhEBAxEB/8QAFwABAQEBAAAAAAAAAAAAAAAAAAECA//EABUQAQEAAAAAAAAAAAAAAAAAAAAB/8QAFwEBAQEBAAAAAAAAAAAAAAAAAAECA//EABQRAQAAAAAAAAAAAAAAAAAAAAD/2gAMAwEAAhEDEQA/ADKgAAAAAAAAAAAAAAAAKAAAAACAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAgCgACAAAACKCqKACggAICCIogAIAAAAAAAAAAAAAAIAAAAAACggKoAKDQKCgoAKAACgAAAKgACAAAAAAAAgAAAACgCAAAAAAAAgAAAAAAAIAAAAAAAACAAAAACAoAAAACAAAAAAAAAAAgAAAAAAAAAAAAAAAIAAAAAAAAAAAAAAAAAAAAAAACAAAAAAAAAAA6uTYAAAAAAAAAAAAAAAAACgAAAAgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAIAoAAgAAAAigAqigAAAgIIgIoAAgAAAAAAAAAAAAAgAAAAAAKAAoAKDQKCgoAKAACgAAAKgACAAAAAAAAgAAAACgCAAAAAAAAgAAAAAAIAAAAAAAAACAAAAAAAAAAAAgAAAAAAAAAAIAAAAAAAAAAAAAAACAAAAAAAAAAAAAAAAAAAAAAAgAAAAAAAAAAAOrk2AAAAAAAAAAAAAAAAAAoAAAAIAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAACAAKAAIAAAIoAKooAAAICCICKAAIAAAAAAAAAAAAAIAAAAACgAAKACgoNAoKACgAAoAAAgoAAgAAAAAAAIAAAAAoAgAAAAAAAIAAAAAACAAAAAAAAAAgAAAAAAAAAAAIAAAAAAAAAACAAAAAAAAAAAAAAAAgAAAAAAAAAAAAAAAAAAAAAAIAAAAAAAAAAADq5NgAAAAAAAAAAAAAAAAAAAKAACAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAgCgACAAAACKCqAKAACAgiAKIAACAAAAAAAAAAAAACAAAAAoAACgAoKDQKCgAoAAKAAAIKAAIAAAAAAACAAAAAKAIAAAAAAACAAAAAAAgAAAAAAAAAIAAAAAAAAAAACAAAAAAAAAAAgAAAAAAAAAAAAAAIAAAAAAAAAAAAAAAAAAAAAAACAAAAAAAAAAAA6uTYAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAACAKAAIAAAAIoCigoAAIACCIogAAIAAAAAAAAAAAAAIAAAACgAAKACgoNAoAKCgAAoAAAgoAAgAAAAAAAIAAAAoAAgAAAAAAAIAAAAAACAAAAAAAAAAgAAAAAAAAAAIAAAAAAAAAAACAAAAAAAAAAAAAAAgAAAAAAAAAAAAAAAAAAAAAAIAAAAAAAAAAAADq5NgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAIAoAAgAAAigAqgCgAAgIIgCiAAAgAAAAAAAAAAAAgAAAAKAAAoAKCg0CgAoKAACgAACCgACAAAAAAAAgAAACgACAAAAAAAAgAAAAAAIAAAAAAAAACAAAAAAAAAAAgAAAAAAAAAAAIAAAAAAAAAAAAAACAAAAAAAAAAAAAAAAAAAAAAAgAAAAAAAAAAAAOrk2AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAigACAAAACKCqAKAACAggCKIAACAAAAAAAAAAAACAAAAAoAACgAoKDQKACgoAAKAAAIKAAIAAAAAAACAAAAKAAIAAAAAACAAAAAAAAgAAAAAAAAAIAAAAAAAAAACAAAAAAAAAAAAgAAAAAAAAAAAAAIAAAAAAAAAAAAAAAAAAAAAAACAAAAAAAAAAAAA6uTYAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAACKAAAIAAAIoAKooAAAICCIoAgAAIAAAAAAAAAAAIAAAACgAAKACgoNAoAKCgAAoAACoAAAgAAAAAAAIAAAAoAAgAAAAAAIAAAAAAACAAAAAAAAAgAAAAAAAAAAAIAAAAAAAAAAACAAAAAAAAAAAAAAgAAAAAAAAAAAAAAAAAAAAAAIAAAAAAAAAAAAADq5NgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAIoAAAgAAAigAqigAAAAgiAiiAAAgAAAAAAAAAAAgAAAKAAAAoAKCg0CgAoKAACgAAKgAACAAAAAAAAgAAACgACAAAAAAAgAAAAAAAIAAAAAAAACAAAAAAAAAAAgAAAAAAAAAAAIAAAAAAAAAAAAAACAAAAAAAAAAAAAAAAAAAAAAAgAAAAAAAAAAAAAOrk2AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAigACAAAACKCqKACgAgIIgIoAgAAIAAAAAAAAAAAAIACgAAAKACgoNAoAKCgAAoAACoAAAgAAAAAAIAAAAAoAAgAAAAAAIAAAAAAACAAAAAAAAAgAAAAAAAAAAIAAAAAAAAAAACAAAAAAAAAAAAAAgAAAAAAAAAAAAAAAAAAAAAAAIAAAAAAAAAAAAADq5NgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAKAAACAAAAAAAAAAAAAAAAAAAAAAAAAAAigAACAAACKCgKKCgAAgIIiiAgAAIAAAAAAAAAAAAICgAgKAAoAKCgoNAAoKAACgAAKgAACAAAAAAAgAAAACgACAAAAAAAgAAAAAAAIAAAAAAAACAAAAAAAAAAAgAAAAAAAAAAAIAAAAAAAAAAAAACAAAAAAAAAAAAAAAAAAAAAAAgAAAAAAAAAAAAAAOrk2AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAoAAAAIAAAAAAAAAAAAAAAAAAAAAAAAAACAKAAIAAACiAKooKAAACCIDKgCAAgAAAAAAAAAAAAAAgAKAAoAKCgoNAAoKAACgAAKgAACAAAAAAAgAAAACgCAAAAAAAAgAAAAAAAIAAAAAAAACAAAAAAAAAAAgAAAAAAAAAAAIAAAAAAAAAAAAACAAAAAAAAAAAAAAAAAAAAAAAgAAAAAAAAAAAAAAOrk2AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAoAAAAIAAAAAAAAAAAAAAAAAAAAAAAAAACAKAAIAAACiAKCqKCgAgIIlBFEBAAQAAAAAAAAAAAAAAQFAAAUAFBQUGgAUFAABQAAFQAABAAAAAAAQAAAABQBAAAAAAAAQAAAAAAEAAAAAAAAABAAAAAAAAAAQAAAAAAAAAAAEAAAAAAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAQAAAAAAAAAAAAAAAHVybAAAAAAAAAAAAAAAAAAAAAUAAAAAEAAAAAAAAAAAAAAAAAAAAAABQAAAAAQAAAAAAAAAAAAAAAAAAAAAAAAAEAAUAAQAAFAEUFUUFAABAZoiKICAAAgAAAAAAAAAAAAAgKAAAoAKCgoKCgoKAACgAAKgAACAAAAAAAgAAACgACAAAAAAAgAAAAAAAIAAAAAAAAACAAAAAAAAAAgAAAAAAAAAAAIAAAAAAAAAAAAACAAAAAAAAAAAAAAAAAAAAAAAgAAAAAAAAAAAAAAAOrk2AAAAAAAAAAAAAAAAAAAAAoAAAAAAAIAAAAAAAAAAAAAAAAAAAACgAAAAAgAAAAAAAAAAAAAAAAAAAAAAAAAAIAoAAgAAAKIoKooKAACAlESgyoAgAIAAAAAAAAAAAAAICgAAKACgoKCgoKCgAAoAACgIAAgAAAAAAIAAAAoAAgAAAAAAIAAAAAAACAAAAAAAAAAgAAAAAAAAAIAAAAAAAAAAACAAAAAAAAAAAAAAgAAAAAAAAAAAAAAAAAAAAAAIAAAAAAAAAAAAAAADq5NgAAAAAAAAAAAAAAAAAAAAKAAAAAAAACAAAAAAAAAAAAAAAAAAAAoAAAAAIAAAAAAAAAAAAAAAAAAAAAAAAAACAAKAAIAACiKCgqigAAgJREoIogIACAAAAAAAAAAAAAAAAAAoAKCgoKCgoKAACgAAKAgACAAAAAAAgAAAACgCAAAAAAAgAAAAAAAIAAAAAAAACAAAAAAAAAAAgAAAAAAAAAAAIAAAAAAAAAAAAACAAAAAAAAAAAAAAAAAAAAAAgAAAAAAAAAAAAAAAAOrk2AAAAAAAAAAAAAAAAAAAAAoAAAAAAAAAIAAAAAAAAAAAAAAAAAACgAAAAAgAAAAAAAAAAAAAAAAAAAAAAAAAAAIAoAAgAAKAIoKooKAACCM0EUQEABAAAAAAAAAAAAAAAAAAUAFBQUFBQUFAABQAAFAQABAAAAAAAQAAAABQBAAAAAAAQAAAAAAEAAAAAAAAABAAAAAAAAAAAQAAAAAAAAAAEAAAAAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAQAAAAAAAAAAAAAAAAHVybAAAAAAAAAAAAAAAAAAAAAAUAAAAAAAAAEAAAAAAAAAAAAAAAAABQAAAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAEAAUAQAAFAEUFUUFAABASiM0EUQAEAAAAAAAAAAAAAAAAABQAUFBQUFBQUAAFAAAUBAAEAAAAAABAAAAAFAEAAAAAABAAAAAAAQAAAAAAAAAEAAAAAAAAAABAAAAAAAAAAAQAAAAAAAAAAAAAEAAAAAAAAAAAAAAAAAAAAAABAAAAAAAAAAAAAAAAAdXJsAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAQAAAAAAAAAAAAAAAAFAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAQBQABAAUARQVRQUAAEBKIlBlQBAAQAAAAAAAAAAAAAAAAFABQUFBQUFBQAAUAABQEAAQAAAAAAEAAAAAUAQAAAAAAEAAAAAABAAAAAAAAAAQAAAAAAAAAAEAAAAAAAAAABAAAAAAAAAAAAAQAAAAAAAAAAAAAAAAAAAAAAAEAAAAAAAAAAAAAAAAB1cmwAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAABAAAAAAAAAAAAAAAAUAAAAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAABAFAAAEBQBFBQVQBQAQEoiUEUQEABAAAAAAAAAAAAAAAAAUAFBQUFBQUFAABQAAFAQABAAAAAAAQAAAABQBAAAAAAAQAAAAAAEAAAAAAAABAAAAAAAAAAAAQAAAAAAAAAAEAAAAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAQAAAAAAAAAAAAAAAAAHVybAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAAAAAEAAAAAAAAAAAAAAABQAAAAAAAAQAAAAAAAAAAAAAAAAAAAAAAAAAEAUAAAQAFAEUFUUFABAAZoiKICAAgAAAAAAAAAAAAAAAAKACgoKCgoKCgAAoAACgIAAgAAAAAAIAAAAAogAAAAAAAIAAAAAACAAAAAAAAAgAAAAAAAAAAAIAAAAAAAAAACAAAAAAAAAAAAAgAAAAAAAAAAAAAAAAAAAAAAIAAAAAAAAAAAAAAAAADq5NgAAAAAAAAAAAAKAACAAAAAAAAAAoAAAAAAAAIAAAAAAAAAAAAAACgAAAAAAAAAgAAAAAAAAAAAAAAAAAAAAAAAAAIAoAAgAKAIoKooKAACAgjNBFEAABAAAAAAAAAAAAAAAAUAFBQUFBQUFAABQAAFAQABAAAAAAAQAAAABRAAAAAAAQAAAAAAAEAAAAAAAABAAAAAAAAAAAAQAAAAAAAAAAEAAAAAAAAAAAABAUAEAAAAAAAAAAAAAAAAAABAAAAAAAAAAAAAAAAAAAdXJsAAAAAAAAAAABQAAAQAAAAAAAAAAAFAAAAAABAAAAAAAAAAAAAAAUAAAAAAAAAAEAAAAAAAAAAAAAAAAAAAAAAAABAFAAAEBQBFBQVQBQAQEESgiiAgAIAAAAAAAAAAAAAAACgAoKCgoKCgoAAKAAAoCAAIAAAAACAAAAAAKIAAAAAACAAAAAAAAgAAAAAAAAIAAAAAAAAAACAAAAAAAAAAAgAAAAAAAAAAAAAAAAIAAAAAAAAAAAAAAAAAACAAAAAAAAAAAAAAAAAAA6uTYAAAAAAAAAAAACgAAgAAAAAAAAAAAAAKAAAAACAAAAAAAAAAAAAAoAAAAAAAAAAIAAAAAAAAAAAAAAAAAAAAAAAAACKAAAICgACKCqKAAACAgiKICAAgAAAAAAAAAAAAAAAKACgoKCgoKCgAAoAACgIAAgAAAAAIAAAAAAogAAAAAAIAAAAAAACAAAAAAAAAgAAAAAAAAAAIAAAAAAAAAACAAAAAAAAAAAAAAAAAgAAAAAAAAAAAAAAAAAAIAAAAAAAAAAAAAAAAAADq5NgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAKAAACAAAAAAAAAAAAAAoAAAAAAAAAAIAAAAAAAAAAAAAAAAAAAAAAAAACKAAAAICgCKCqAKAACAgiAiiAAAgAAAAAAAAAAAAAAKACgoKCgoKCgAAoAACgIAAgAAAAAIAAAAAAogAAAAAAIAAAAAAACAAAAAAAAAgAAAAAAAAAAIAAAAAAAAAACAAAAAAAAAAAAAAAAAgAAAAAAAAAAAAAAAAAIAAAAAAAAAAAAAAAAAAADq5NgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAKAACAAAAAAAAAAAAAAAoAAAAAAAAAAIAAAAAAAAAAAAAAAAAAAAAAAAACKAAAICgCAKCqKAACACIDKgCAAgAAAAAAAAAAAAAAKACgoKCgoKCgAAoAACgIAAgAAAAAIAAAAAAogAAAAAAIAAAAAAACAAAAAAAAAgAAAAAAAAAAIAAAAAAAAACAAAAAAAAAAAAAAAAAgAAAAAAAAAAAAAAAAAAIAAAAAAAAAAAAAAAAAAADq5NgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAKACAAAAAAAAAAAAAAoAAAAAAAAAAAIAAAAAAAAAAAAAAAAAAAAAAAAACKAAAAAAAigqgCgAAgIIgIogAIAAAAAAAAAAAAAACgAoKCgoKCgoAAKAAAoCAAIAAAAACAAAAAKAIAAAAAACAAAAAAAAgAAAAAAAAIAAAAAAAAACAAAAAAAAAAAgAAAAAAAAAAAAAAAAIAAAAAAAAAAAAAAAAACAAAAAAAAAAAAAAAAAAAAA6uTYAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAACgAAAAAAAAAAAAAAgAAAAAAAAAAAAAAAAAAAAAAAAACiAAAAgKAIoAKooAAICCICKIAACAAAAAAAAAAAAAAoAKCgoKCgoKAACgAAKAgACAAAAAAgAAAACgCAAAAAAAgAAAAAAAIAAAAAAACAAAAAAAAAAAgAAAAAAAAAAIAAAAAAAAAAAAAAACAAAAAAAAAAAAAAAAAAAgAAAAAAAAAAAAAAAAAAAAOrk2AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAoAAAAAAAAAAAAAAAIAAAAAAAAAAAAAAAAAAAAAAAAAACKAAAAAAAigqgCgAgAiAiiAgAIAAAAAAAAAAAAACgAoKCgoKCgoAAKAAAoCAAIAAAAACAAAAAKAIAAAAAACAAAAAAAgAAAAAAAAIAAAAAAAAAACAAAAAAAAAAAgAAAAAAAAAAAAAAAIAAAAAAAAAAAAAAAAACAAAAAAAAAAAAAAAAAAAAAA6uTYAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAACgAAAAAAAAAAAAAAAAAgAAAAAAAAAAAAAAAAAAAAAAAAACiAAAAAACKAooKAACAgiKICAAgAAAAAAAAAAAAAKACgoKCgoKCgAAoAACgIAAgAAAAAIAAAAAoAgAAAAAAIAAAAAACAAAAAAAAAgAAAAAAAAAAIAAAAAAAAAACAAAAAAAAAAAAAAAgAAAAAAAAAAAAAAAAAAIAAAAAAAAAAAAAAAAAAAAADq5NgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAKAAAAAAAAAAAAAAAAACAAAAAAAAAAAAAAAAAAAAAAAAAAAigAAAAAIoCigoAAICCIogIAACAAAAAAAAAAAAAoAKCgoKCgoKAACgAAKAgACAAAAAAgAAAACgCAAAAAAAgAAAAAAIAAAAAAAACAAAAAAAAAAAgAAAAAAAAAIAAAAAAAAAAAAAAACAAAAAAAAAAAAAAAAAAgAAAAAAAAAAAAAAAAAAAAAAOrk2AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAoAIAAAACgAAAAAAAAAAAAAAAAAgAAAAAAAAAAAAAAAAAAAAAAAAAAAIoAAAACAKCqAKACAgiKICAAAgAAAAAAAAAAAAKACgoKCgoKCgAAoAACgIAAgAAAAAIAAAAAoAgAAAAAAIAAAAAACAAAAAAAAAgAAAAAAAAAAIAAAAAAAAACAAAAAAAAAAAAAAAgAAAAAAAAAAAAAAAAAAIAAAAAAAAAAAAAAAAAAAAAADq5NgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAKAAAAACAoAAAAAAAAAAAAAAAAAAIAAAAAAAAAAAAAAAAAAAAAAAAAAACKAAAAAAigqgCgAgIIiiAgAAIAAAAAAAAAAAACgAoKCgoKCgoAAKAAAoCAAIAAAAACAAAAAKAIAAAAAACAAAAAAAgAAAAAAAAIAAAAAAAAACAAAAAAAAAAAgAAAAAAAAAAAAAAIAAAAAAAAAAAAAAAAAACAAAAAAAAAAAAAAAAAAAAAAA6uTYAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAACgAAAAAAAAAAAAAAAAAAAAAAAAAgAAAAAAAAAAAAAAAAAAAAAAAAAAAIAoAAAACKAooAKCAgiKIACAAgAAAAAAAAAAAAKACgoKCgoKCgAAoAAAgoAAgAAAAAIAAAAAoAgAAAAAAIAAAAAACAAAAAAAAAgAAAAAAAAAIAAAAAAAAAACAAAAAAAAAAAAAAgAAAAAAAAAAAAAAAAAAIAAAAAAAAAAAAAAAAAAAAAAADq5NgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAKAAAAAAAAAAAAAAAAAAAAAAAAACAAAAAAAAAAAAAAAAAAAAAAAAAAAAAigAAAAIAqigAAAgiKICAAAgAAAAAAAAAAAAKACgoKCgoKCgAAoAAAgoAAgAAAAAIAAAAAoAgAAAAAAIAAAAAACAAAAAAAAgAAAAAAAAAAIAAAAAAAAAACAAAAAAAAAAAAAAgAAAAAAAAAAAAAAAAAAIAAAAAAAAAAAAAAAAAAAAAAADq5NgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAKAAAAAAAAAAAAAAAAAAAAAAAACAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAigAAAAIAqigAAAgiAiiAAgAAAAAAAAAAAAAKACgoKCgoKCgAAoAAAgoAAgAAAAAIAAAAAoAgAAAAAIAAAAAAACAAAAAAAAgAAAAAAAAAAIAAAAAAAAACAAAAAAAAAAAAAAgAAAAAAAAAAAAAAAAAAAIAAAAAAAAAAAAAAAAAAAAAAADq5NgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAKAAAAAAAAAAAAAAAAAACAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAgCgAAAAIqgCgAgAiAiiAAgAAAAAAAAAAAAAKACgoKCgoKCgAAoAAAgoAAgAAAAAIAAAAAoAgAAAAAIAAAAAAACAAAAAAAAgAAAAAAAAAAIAAAAAAAAACAAAAAAAAAAAAAAgAAAAAAAAAAAAAAAAAAAIAAAAAAAAAAAAAAAAAAAAAAADq5NgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAKAAAAAAAAAAAAAAAACAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAigAAAAIAqgAACCAIogAIAAAAAAAAAAAAACgAoKCgoKCgoAAKAAAIKAAIAAAAACAAAAAKAIAAAAACAAAAAAAAgAAAAAAAIAAAAAAAAAACAAAAAAAAAAgAAAAAAAAAAAAAIAAAAAAAAAAAAAAAAAACAAAAAAAAAAAAAAAAAAAAAAAAA6uTYAAAAAAACAoAAAAAAAAAAAAAAAAAAAAAAAAAAAAKAAAAAAAAAAAAAAACAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAgCgAAAIAKKAACCIAogAIAAAAAAAAAAAAACgAoKCgoKCgoAAKAAAIKAAIAAAAACAAAAAKIAAAAAACAAAAAAAAgAAAAAAAIAAAAAAAAACAAAAAAAAAAgAAAAAAAAAAAAAIAAAAAAAAAAAAAAAAAAACAAAAAAAAAAAAAAAAAAAAAAAAA6uTYAAAACAAAAAAAoAAAAAAAAAAAAAAAAAAAAAAAAAKAAAAAAAAAAAAAACAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAigAAAIAKAAAAIIKIACAAAAAAAAAAAAAAoAKCgoKCgoKAACgAACCgACAAAAAAgAAAACiAAAAAAAgAAAAAAIAAAAAAAACAAAAAAAAAAgAAAAAAAAAIAAAAAAAAAAAAACAAAAAAAAAAAAAAAAAAAAgAAAAAAAAAAAAAAAAAAAAAAAIDs5NgAAAIAAAAAAAAACgAAAAAAAAAAAAAAAAAAAAAAAAoAAAAAAAAAAAAAIAAAAAAAAAAAAAAAAAAAAAAAAAAACgAAgAAAAAAAAAIoAAAACCgAAACCCiAAgAAAAAAAAAAAAAKACgoKCgoKCgAAoAAAgoAAgAAAAAIAAAAAogAAAAAAIAAAAAACAAAAAAAAAgAAAAAAAAAIAAAAAAAAACAAAAAAAAAAAAAgAAAAAAAAAAAAAAAAAAAAIAAAAAAAAAAAAAAAAAAAAAACAA6uTagAAgAAAAAAAAAAKAAAAAAAAAAAAAAAAAAAAAAAAAACgAAAAAAAAAAgAAAAAAAAAAAAAAAAAAAAAAAAAAAKAAACAAAAAAAAAAAigAAAIAKAAIAIAigACAAAAAAAAAAAAAoAKCgoKCgoKAACgAACCgACAAAAAAgAAACgCAAAAAAAgAAAAAAIAAAAAAACAAAAAAAAAAAgAAAAAAAAAIAAAAAAAAAAACAAAAAAAAAAAAAAAAAAAAAgAAAAAAAAAAAAAAAAAAAAAAAIADq5NqAACAAAAAAAAAAAAoAAAAAAAAAAAAAAAAAAAAAAAAAAAKAAAAAAAACAAAAAAAAAAoAAAIAAAAAAAAAAAAACgAAAgAAAAAAAAAAIoAAACACgAACACIoAAgAAAAAAAAAAAAKACgoKCgoKCgAAoAAAgoAAgAAAAAIAAAAoAgAAAAAAIAAAAAACAAAAAAAAgAAAAAAAAAAIAAAAAAAACAAAAAAAAAAAAAgAAAAAAAAAAAAAAAAAAAAIAAAAAAAAAAAAAAAAAAAAAACAAA6uTagAAAgAAAAAAAAAAAKAAAAAAAAAAAAAAAAAAAAAAAAAAAACgAAAAAAgAAAAAAAAKAAAAACAAAAAAAAAAAoAAAAIAAAAAAAAAAAAogAAAAgoAAAgAiKAAIAAAAAAAAAAAACgAoKCgoKCgoAAKAAAIKAAIAAAAACAAAAKAIAAAAAACAAAAAAAgAAAAAAAIAAAAAAAAACAAAAAAAAAAgAAAAAAAAAAAAIAAAAAAAAAAAAAAAAAAAACAAAAAAAAAAAAAAAAAAAAAAAgAAOzk2AAAAgAAAAAAAAAAAKAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAACgAAgAAAAAAAAKAAAAAAACAAAAAAAAAAoAAIAAAAAAAAAAAAAAogAAAAgoAAAAggCKAIAAAAAAAAAAAACgAoKCgoKCgoAAKAAAoCAAIAAAACAAAAAKAIAAAAAACAAAAAAAgAAAAAAAIAAAAAAAAACAAAAAAAAAAgAAAAAAAAAAAIAAAAAAAAAAAAAAAAAAAACAAAAAAAAAAAAAAAAAAAAAAAgAAAOzk2AAAAAAgAAAAAAAAAAKAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAACgAAAAAAAAgAAAAAAAAAKACAAAAAAAAAAAAAAAAKIAAAIAKAAAAiAigACAAAAAAAAAAAAoAKCgoKCgoKAACgAAKAgACAAAAAgAAAACgCAAAAAAgAAAAAAAIAAAAAAACAAAAAAAAAAgAAAAAAAAAIAAAAAAAAAAACAAAAAAAAAAAAAAAAAAAAgAAAAAAAAAAAAAAAAAAAAAAAIAAADs5NgAAAAAAIAAAAAAAAAACgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAoAAAAAAAAIAAAAAAAAAAAAAAAAAAAAAAAAAAAAogAAAgAoAAAAggogAIAAAAAAAAAAACgAoKCgoKCgAoAKAAAoCAAIAAAACAAAAAKAIAAAAACAAAAAAAgAAAAAAAAIAAAAAAAAACAAAAAAAAAgAAAAAAAAAAAAIAAAAAAAAAAAAAAAAAAACAAAAAAAAAAAAAAAAAAAAAAAAgAAAOzk2AAAAAAAgAAAAAAAAAAAAAKAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAACgAAAAAAAAAgAAAAAAAAAAAAAAAAAAAAAAAAAACgCAAACCgCggAIIKIACAAAAAAAAAAAAoAKCgoKCgoAKACgAAKAgACAAAAAgAAAACgCAAAAAAgAAAAAAIAAAAAAAACAAAAAAAAAgAAAAAAAAAIAAAAAAAAAAAACAAAAAAAAAAAAAAAAAAAgAAAAAAAAAAAAAAAAAAAAAAAAIAAADs5NgAAAAAAAIAAAAAAAAAAAAACgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAoAAAAAAAAIAAAAAAAAAAAAAAAAAAAAAAAAAAAAogAAAgCqAAIAIgIoAAgAAAAAAAAAAKACgoKCgoKACgAoAACgIAAgAAAAIAAAAAogAAAAAAIAAAAAACAAAAAAAAgAAAAAAAAAIAAAAAAAAACAAAAAAAAAAAAgAAAAAAAAAAAAAAAAAAAIAAAAAAAAAAAAAAAAAAAAAAAACAAAA7OTYAAAAAAACAAAAAAAAAAAAAAoAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAKAAAAAAAACAAAAAAAAAAAAAAAAAAAAoAIAAAAAAogAAAgCqAAIACCIoAAgAAAAAAAAAAKACgoKCgoKACgAoAACgIAAgAAAAIAAAAAogAAAAAAIAAAAAACAAAAAAAAgAAAAAAAAAIAAAAAAAAACAAAAAAAAAAAAgAAAAAAAAAAAAAAAAAAIAAAAAAAAAAAAAAAAAAAAAAAAAACAAA7OTYAAAAAAACAAAAAAAAAAAAAAAoAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAKAAAAAAAACAAAAAAAAAAAAAAAAAAAoAAAIAAAAAoAgAAgAooAIACCCiAAgAAAAAAAAAAKACgoKCgoKACgAoAACgIAgAAAAAIAAAAAogAAAAAAIAAAAAACAAAAAAAAgAAAAAAAAAIAAAAAAAACAAAAAAAAAAAAAgAAAAAAAAAAAAAAAAAAIAAAAAAAAAAAAAAAAAAAAAAAAAACAAA7OTYAAAAAAACAAAAAAAAAAAAAAAoAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAKAAAAAAACAAAAAAAAAAAAAAAAAAAAoAAIAAAAAoAgAAAgoAoIACCCiAAgAAAAAAAAAAKACgoKCgoKACgAoAACgIAgAAAAAIAAAAAogAAAAAIAAAAAAACAAAAAAAAgAAAAAAAAAIAAAAAAAACAAAAAAAAAAAAgAAAAAAAAAAAAAAAAAAAIAAAAAAAAAAAAAAAAAAAAAAAAACAAAA7OTYAAAAAAAACAAAAAAAAAAAAAAAoAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAKAAAAAAACAAAAAAAAAAAAAAAAAAAAoAAIAAAAAAogAAAgAoAAAggogAIAAAAAAAAAACgAoKCgoKCgAoAKAAAoCAIAAAAACAAAAAKIAAAAACAAAAAAAgAAAAAAAAIAAAAAAAACAAAAAAAAAAgAAAAAAAAAAAIAAAAAAAAAAAAAAAAAAACAAAAAAAAAAAAAAAAAAAAAAAAAAgAAAOzk2AAAAAAAAAgAAAAAAAAAAAAAAKAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAACgAAAAgAAAAAAAAAAAAAAAAAAAAKAAACAAAAAKAIAAIAKAAAIAIigCAAAAAAAAAAAoAKCgoKCgoAKACgAKAAgCAAAAAAgAAAACiAAAAAAgAAAAAAIAAAAAAACAAAAAAAAAAgAAAAAAAAAIAAAAAAAAAAACAAAAAAAAAAAAAAAAAAAAgAAAAAAAAAAAAAAAAAAAAAAAAAIAAADs5NgAAAAAAAAIAAAAAAAAAAAAAAACgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAoIAAAAAAAAAAAAAAAAAAAAAACgAAgAAAACgCAACACgAACACIoAAgAAAAAAAAAKACgoKCgoKACgAAoCgAIAgAAAAAIAAAAAogAAAAAIAAAAAACAAAAAAAAgAAAAAAAAAIAAAAAAAACAAAAAAAAAAAAAgAAAAAAAAAAAAAAAAAAAIAAAAAAAAAAAAAAAAAAAAAAAAACAAAA7OTYAAAAAAAACAAAAAAAAAAAAAAAoAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAKCAAAAAAAAAAAAAAAAAAAAAAAAAAAAoAAIAAAAAAogAAAgoAAAgAiKAAIAAAAAAAAACgAoKCgoKCgAoAAKAoACAIAAAAACAAAAAKIAAAAACAAAAAAAgAAAAAAAIAAAAAAAAACAAAAAAAAAgAAAAAAAAAAAIAAAAAAAAAAAAAAAAAAACAAAAAAAAAAAAAAAAAAAAAAAAAAAgAAAOzk2AAAAAAAAAAgAAAAAAAAAAAAAKAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAACgAAAAAgAAAAAAAAAAAAAAAAAAAAAAAAAAKAAACAAAAAKAIAAIAKAAIAIKIACAAAAAAAAAAoAKCgoKCgoAKAACgAKAgCAAAAAgAAAAACiAAAAAAgAAAAAAIAAAAAAACAAAAAAAAAAgAAAAAAAAIAAAAAAAAAAACAAAAAAAAAAAAAAAAAAAAgAAAAAAAAAAAAAAAAAAAAAAAAAAIAAADs5NgAAAAAAAAAAIAAAAAAAAAAAACgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAoAAAAAAIAAAAAAAAAAAAAAAAAAAAAAAAAAACgAAAgAAACgCAAACCgACAAKiAAgAAAAAAAAAKACgoKCgoKACgAAoACgIAgAAAAIAAAAAAogAAAAIAAAAAACAAAAAAAAAgAAAAAAAAIAAAAAAAAACAAAAAAAAAAAAgAAAAAAAAAAAAAAAAAAAIAAAAAAAAAAAAAAAAAAAAAAAAACAAAAA7OTYAAAAAAAAAAACAAAAAAAAAAAAoAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAKAAAAAAACAAAAAAAAAAAAAAAAAAAAAAAAAAAAoAAAIAAAAoAgAAAgoAAgACogAAIAAAAAAAACgAoKCgoKCgAoAAKAoACAIAAAACAAAAAAigAAAACAAAAAAAgAAAAAAAIAAAAAAAAACAAAAAAAAAAgAAAAAAAAAAIAAAAAAAAAAAAAAAAAAACAAAAAAAAAAAAAAAAAAAAAAAAAAAgAAAAOzk2AAAAAAAAAAAAgAAAAAAAAAAAKAAAAACgAgAAAAAAAAAAAAAAAAAAAAAKAAAAAACAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAoAAAIAAAAoAgAAAgoAgAAiKAAIAAAAAAAACgAoKCgoKCgAoAAKAoACAIAAAACAAAAAKIAAAAACAAAAAAAgAAAAAAAIAAAAAAAAACAAAAAAAAAAgAAAAAAAAAAIAAAAAAAAAAAAAAAAAAACAAAAAAAAAAAAAAAAAAAAAAAAAAAgAAAAOzk2AAAAAAAAAAAAAgAAAAAAAAAAKAAAAACgAAgAAAAAAAAAAAAAAAAAAAKAAAAACAAAAAAAAAAAAAAAAoAAAAIAAAAAAAAAAACgAAAgAAACgCAAACCgCAACIoAAgAAAAAAAAKACgoKCgoKACgAAoCgAIAgAAAAIAAAAAogAAAAAIAAAAAACAAAAAAAAgAAAAAAAAAIAAAAAAAACAAAAAAAAAAAAgAAAAAAAAAAAAAAAAAAIAAAAAAAAAAAAAAAAAAAAAAAAAAAACAAoAOrk2AAAAAAAAAAAAAAgAAAAAAAAAKAAAAACgAAgAAAAAAAAAAAAAAAAAAKAAAAACAAAAAAAAAAAAAAAoAAAAAAAAIAAAAAAAAAACgAAAgAACgCAAACCgACAAKiAAgAAAAAAAAKACgoKCgoKACgAAoCgAIgAAAAAIAAAAACKAAAAAIAAAAAACAAAAAAAAgAAAAAAAAIAAAAAAAAACAAAAAAAAAAAgAAAAAAAAAAAAAAAAAAAIAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADq5NgAAAAAAAAAAAAAAAAIAAAAAACgAAAAAoAIAAAAAAAAAAAAAAAAAAACgAAAAAgAAAAAAAAAAAAKAAAAAAAAAACAAAAAAAAAAAoAAAIAAAAoAgAAAgoAgACogAAIAAAAAAAACgoKCgoKCgAoAAKAoACIAAAAACAAAAAAigAAAACAAAAAAAgAAAAAAAIAAAAAAAACAAAAAAAAAAgAAAAAAAAAAIAAAAAAAAAAAAAAAAAACAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA6uTYAAAAAAAAAAAAAAAAAAACAAAAoAAAAAAAAAAAAAAAAAAAAAAAAAAAKAAAACAAAAAAAAAAoAAAAAAAAAAAAAAAIAAAAAAAAAACgAAgAAACgCAAACCgACACCiAAgAAAAAAAAKCgoKCgoKACgAAoCgAIgAAAAAIAAAAAogAAAAAIAAAAACAAAAAAAAAgAAAAAAAAIAAAAAAAACAAAAAAAAAAAAgAAAAAAAAAAAAAAAAAAIAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADq5NgAAAAAAAAAAAAAAAAAAAAAIACgAAAAAAAAAAAAAAAAAAAAAAAAAAAAoAAIAAAAAAAACgAAAAAAAAAAAAAAAAAgAAAAAAAAAAAAAAAAAACiAAACCgACAAKiAAAgAAAAAAAKCgoKCgoKACgAAoCgAIgAAAAAIAAAAAogAAAAAIAAAAACAAAAAAAAgAAAAAAAAAIAAAAAAAACAAAAAAAAAAAgAAAAAAAAAAAAAAAAAAIAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADq5NgIACgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAoAAAAAAAAAAAAAAAAAAIAAAAAAAAAAAAAAAAAAAoAgAAAgoAAgCoAgAIAAAAAAACgoKCgoKCgAoAAKAoACIAAAAACAAAAAKIAAAACAAAAAAAgAAAAAAAIAAAAAAAACAAAAAAAAAAgAAAAAAAAAAIAAAAAAAAAAAAAAAAAACAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA6uTYAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAACgAAAAAAAAAAAAAAAAAgAAAAAAAAAAAAAAAAAAACgCAAACCgAACCCiAAAgAAAAAKACgoKCgoKACgAAqgAAIgAAAAAIAAAAAogAAAAIAAAAAACAAAAAAAAgAAAAAAAAIAAAAAAAACAAAAAAAAAAAAgAAAAAAAAAAAAAAAAAAIAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADq5NgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAKAAAAAAAAAAAAAAACAAAAAAAAAAAAAAAAAAAAAKAIAAAIKAAAAiKAIACAAAAAAoAKCgoKCgoAKAACqAAAiAAAAAAgAAAAIoAAAAAgAAAAAIAAAAAAACAAAAAAAAAAgAAAAAAAAIAAAAAAAAAACAAAAAAAAAAAAAAAAAAAgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAKADo5NgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAKAAAAAAAAAAAAAACAAAAAAAAAAAAAAAAAAAAAAKAIAAIAKAAAIqAIACAAAAAAoAKCgoKCgoAKAACqAAAiAAAAAAgAAACiAAAAAAgAAAAAIAAAAAAACAAAAAAAAAAgAAAAAAAAIAAAAAAAAAACAAAAAAAAAAAAAAAAAAAgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAKAAgAA6ObYAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAACgAAAAAAAAAAAAAgAAAAAAAAAAAAAAAAAAAAAACgCAAACCgAAAIiiAAAgAAAAKACgoKCgoKACgAAqgAAIgAAAAAIAAAAogAAAAAIAAAAACAAAAAAAAgAAAAAAAAIAAAAAAAACAAAAAAAAAAAAgAAAAAAAAAAAAAAAAAAIAAAAAAAAAAAAAAAAAAAAAAAAAAAACgAIAKAADbm2AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAoAAAAAAAAAAAIAAAAAAAAAAAAAAAAAAAAAAAAoAgAAAgoAAACIogAAIAAAACgAoKCgoKCgAoAAKoAACIAAAAACAAAAKIAAAAACAAAAAAgAAAAAAAIAAAAAAAACAAAAAAAAAgAAAAAAAAAAAIAAAAAAAAAAAAAAAAAACAAAAAAAAAAAAAAAAAAAAAAAAAAAoACACgAAoArTm0AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAoAAAAAAAAAIAAAAAAAAAAAAAAAAAAAAAAAAAAAoAgAAgoAAAggogAAIAAAACgAoKCgoKCgAoAAKoAACIAAAAACAAAAAigAAAACAAAAAAgAAAAAAIAAAAAAAAACAAAAAAAAAgAAAAAAAAAAIAAAAAAAAAAAAAAAAAAACAAAAAAAAAAAAAAAAAAAAAAAAAoACACgAoAoACgrm0AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAoAAAAAAAIAAAAAAAAAAAAAAAAAAAAAAAAAAAAAoAgAAgAoAAggogAAIAAAACgAoKCgoKCgAoAAKoAACIAAAAACAAAAAigAAAACAAAAAAgAAAAAAIAAAAAAAAACAAAAAAAAAgAAAAAAAAAAIAAAAAAAAAAAAAAAAAACAAAAAAAAAAAAAAAAAAAAAAAAoAACCgAAooCgAAArm0AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAoAAAAAAIAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAoAgAAAgoAgACogAAIAAAACgAoKCgoKCgAoAAKoACAIAAAACAAAAAKIAAAAACAAAAAAgAAAAAAIAAAAAAAAACAAAAAAAAgAAAAAAAAAAAIAAAAAAAAAAAAAAAAAACAAAAAAAAAAAAAAAAAAAAAAAoACCgAAoAqgAAoAADm0AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAoAAAAAIAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAoAAgAAgogAAAiKAAAIAAACgAoKCgoKCgAoAAKAoCAIAAAACAAAAAKIAAAAACAAAAAAgAAAAAAIAAAAAAAAACAAAAAAAAgAAAAAAAAAAAIAAAAAAAAAAAAAAAAACAAAAAAAAAAAAAAAAAAAAAAoAACCgAoAoCgAoAAAKCObQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAACgAAAgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAACgCAACCiAAACIoAAAgAAAKACgoKCgoKACgAAKKACCAAAAAIAAAAAogAAAAAIAAAAACAAAAAAAgAAAAAAAAAIAAAAAAACAAAAAAAAAAAAgAAAAAAAAAAAAAAAAAIAAAAAAAAAAAAAAAAAAACgAAIKAACgCqACgAAAoAAI5tAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAKAAACAAAAAAAAAAAAKAIAAIAigAAIigAAACAAAoAKCgoKCgoAKAAAooAIIAAAAAgAAAACiAAAAAAgAAAAAIAAAAAACAAAAAAAAAAgAAAAAAAIAAAAAAAAAACAAAAAAAAAAAAAAAAAAgAAAAAAAAAAAAAAAAAKAAAAgoAAKAAKoAKAAACgAAAjm0AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAoAAAAIAAAAAAAAAAAoAgAAAiKAAAiKAAAAIAACgAoKCgoKACgoAACigAggAAAACAAAAAigAAAACAAAAAAAgAAAAAAIAAAAAAAACAAAAAAAAgAAAAAAAAAAAIAAAAAAAAAAAAAAAAACAAAAAAAAAAAAAAAAoAAACCgAAoAAqgAAoAAAAKAAACObQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAACgAAAAAgAAAAAAAAAACgCAACIoAAAioAAAAgAAKACgoKCgoAKCgAAKKACCAAAAAIAAAACKAAAAAIAAAAAACAAAAAAAgAAAAAAAAIAAAAAAACAAAAAAAAAAAAgAAAAAAAAAAAAAAAAAIAAAAAAAAAAAAACgAAAAqAAACgACqAACgAAAAAoAAAI5tAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAKAAAAAACAAAAAAAAAAKAIAAIgCgACKgAAAACAAoAKCgoKCgAoKAAAooAIIAAAAAgAAAAIoAAAAAgAAAAAAIAAAAAACAAAAAAAAAgAAAAAAAIAAAAAAAAAAACAAAAAAAAAAAAAAAAAAgAAAAAAAAAAAKAAAACoAAAKAAKoAAAKAAAAAAAAAAA5tAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAKAAAAAACAAAAAAAAAKAIAACCCgACCCgAAACAoAAKCgoKCgAoKAAAooAIIAAAAAgAAAAIoAAAAAgAAAAAAIAAAAAACAAAAAAAAAgAAAAAAAIAAAAAAAAAACAAAAAAAAAAAAAAAAAAAgAAAAAAAAAKAAAAAgoAAKAACigAAAKAAAAAAAAAAAA5tAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAKAAAAAAACAAAAAAAAAKIAAAIigAAIigAAAAAAACgoKCgoAKCgAAKKACCAAAAAIAAAACKAAAAAIAAAAAACAAAAAAgAAAAAAAAAIAAAAAAACAAAAAAAAAAAgAAAAAAAAAAAAAAAAAAIAAAAAAACgAAAAAqAACgAAAooAAACgAAAAAAAAAAAAjm0oAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAKAAAAAACAAAAAAAAAKAIAAIigAAIigAAAAAAACgoKCgoAKCgAAKKACCAAAAAIAAAACKAAAAAIAAAAACAAAAAAAgAAAAAAAAAIAAAAAAACAAAAAAAAAAAgAAAAAAAAAAAAAAAAAAIAAAACgAAAAAAAqAACgAAAooAAACgAAAAAAAAAAAAAjm0AoAAAAAAAAAAAAAAAAAAAAAAAAIAACgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAoAAAAAAIAAAAAAAAAAogAAiAKAAIqAAAAAAAAKCgoKCgAoKAAAooAIIAAAAAgAAAAIoAAAAAgAAAAAIAAAAAACAAAAAAAAAAgAAAAAAAIAAAAAAAAAACAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAqAACgAAAooAAAAAAAACgAAAAAAAAAjm0AAoAAAAAAAAAAAAAAAAAAAAAAAAIAACgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAoAAAAAAAIAAAAAAAAAogAAAiKAACogAAAAAAAKCgoKCgAoKAAAoAACAAAAAIAAAACKAAAAAIAAAAACAAAAAAAgAAAAAAAAIAAAAAAACAAAAAAAAAAAAgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAKgAAAoAAAKKAAAAAAAAAAAoAAAAAAAI5tAAKAAAAAAAAAAAAAAAAAAAAAAAACAAAoAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAKAAAAAACAAAAAAAAAKAIAAIigAAqIAAAAAAACgoKCgoAKCgAAKAAAgAAACAAAAAAigAAAACAAAAAAgAAAAAAIAAAAAAAACAAAAAAAAgAAAAAAAAAAAIAAAAAAAAAAAAAAAAAAAAAAAAAAAAACoAAKAAAACgCgAAAAAAAAAAAAAAAAADm0AAAoAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAKAAAAAACAAAAAAAAAKAIAAIigAAIigAAAAAACgoKCgoAKCgAAKAAAgAAACAAAAAgCgAAACAAAAAAAgAAAAAAIAAAAAAAACAAAAAAAAgAAAAAAAAAAAIAAAAAAAAAAAAAAAAAAAAAAAAAAAACgIAAAKAAAAAACigAAAAAAAAAAAAAAADm0AAAoAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAKAAAAACAAAAAAAAAAKIAAIAigAAqIAAAAAACgoKCgoAKACgAKAAAgAAACAAAAAgCgAAACAAAAAAAgAAAAAIAAAAAAAAACAAAAAAAAgAAAAAAAAAAAIAAAAAAAAAAAAAAAAAAAAAAAAAAAAACoAAAAKAAAAAAAAKAAoAAAAAAAAAAADm0AAoAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAKAAAAACAAAAAAAAAAKAIAAIigAAqIAAAAAACgoKCgoAKACgAKAAAgAAACAAAAAgCgAAACAAAAAAAgAAAAAIAAAAAAAAACAAAAAAAAgAAAAAAAAAAAIAAAAAAAAAAAAAAAAAAAAAAAAAAAAAACoAAAAAAKAAAAAAAKAAAAAAAAAAAArm0AAoAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAKAAAACAAAAAAAAAAKAIAAIKIAAqIAAAAAACgoKCgoAKACgAKAAAgAAACAAAAAgCgAAACAAAAAAgAAAAAAIAAAAAAAAACAAAAAAAAgAAAAAAAAAAAIAAAAAAAAAAAAAAAAAACAAAoAAAAAAAAAKgAAAAAAAoAAAAAAAoAAAAAAAAACubQCgAAAAAAAAAAgAAAKAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAACgAAAgAAAAAAAAACgACACCiAACIoAAAAAAoKCgoAKCgAoACgAAIAAAAgAAAAIAAoAAAgAAAAAIAAAAAACAAAAAAAAAAgAAAAAAIAAAAAAAAAAAACAAAAAAAAAAAAAAAAAAgAAAAKAAAAAAAAAAAgoAAAAAAAAAKAAAAKAAAAAAAArm0oAAAAAAAAAIAAAAAACgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAoAAAAAAAAAAAIAAAoAgAAiKAACogAAAAAKCgoAKCgoAKAAoAACAAAAIAAAACAKAAAAIAAAAACAAAAAAAgAAAAAAAAIAAAAAAACAAAAAAAAAAAAAgAAAAAAAAAAAAAAAAAIAAAAACgAAAAAAAAAAAIKAAAAAAAAAAAAAAAAAACigNObQAAAAAAAACAAAAAAAAAAoAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAKAAAAAAAAAAACAAAKAAIAIKIAAqIAAAAACgoKACgoKACgAKAAAgAAACAAAAAgCgAAACAAAAAAgAAAAAAIAAAAAAAACAAAAAAAAgAAAAAAAAAAAIAAAAAAAAAAAAAAAAACAAAAAAAAAoAAAAAAAAAACAACgAAAAAAAAAAAAAAAAA25tgAAAAAAAIAAAAAAAAAAAACgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAoAAAAAAAAAAAIAAoAAgAgogACogAAAAAKCgoAKCgoAKAAoAACAAAAIAAAACAKAAAIAAAAAACAAAAAAAgAAAAAAAAIAAAAAAACAAAAAAAAAAAAgAAAAAAAAAAAAAAAAAIAAAAAAAAAAACgAAAAAAAAAAIAAAAAAKAAAAAAAAAADbm2AAAAAAAgAAAAAAAAAAAAAAKAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAACgAAAAAAAAAAAgACgACACACiACCiAAAAAoKCgAoKCgAoACgAAIAAAAgAAAAIAoAAAgAAAAAAIAAAAACAAAAAAAAAAgAAAAAAAIAAAAAAAAAACAAAAAAAAAAAAAAAAAAAgAAAAAAAAAAAAAAAKAAAAAAAAAAAAgAAAAAAoAAAAANubYAAAAACAAAAAAAAAAAAAAAAoAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAKAAAAAAAAAACAAAKAAIAIKIAAqIAAAACgoKCgAoKACgAKAAAgAAACAAAAAgCgAACAAAAAAgAAAAAAIAAAAAAAAACAAAAAAAgAAAAAAAAAAAIAAAAAAAAAAAAAAAAAACAAAAAAAAAAAAAAAAAAAoAAAAAAAAAAAAACAAACgAAA25tgAAAAIAAAAAAAAAAAAAAAACgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAoAAAAAAAAAAIAAAoAAgAgogACogAAAAKCgoKACgoAKAAoAACAAAAIAAAACAKAAAIAAAAACAAAAAAAgAAAAAAAAAIAAAAAACAAAAAAAAAAAgAAAAAAAAAAAAAAAAAAIAAAAAAAAAAAAAAAAAAAAAAAAACgAAAAAAAAIAAAAAKDbm2AAAAgAAAAAAAAAAAAAAAAAKAAAAAAAAAAAAAAAACAAoAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAKAAAAAAAAACAAAKAAAIIKAIAqIAAAACgoKCgAoKACgAKAAAgAAACAAAAgACgAACAAAAAAgAAAAAAIAAAAAAAAACAAAAAAAgAAAAAAAAAAIAAAAAAAAAAAAAAAAACAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAoAAAAACAAAADbm2AAAAAAAAAAAAAAAAAAAAAAoAAAAAAAAAAAAAAAIAAACgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAoAAAIAAAAoAAgAgogAgogAAKACgoKACgoAKAoAAACAAAAIAAACAAKAAAIAAAAACAAAAAAAgAAAAAAAAIAAAAAAACAAAAAAAAAAAgAAAAAAAAAAAAAAAAAIAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAACgAAAAIAAANubYAAAAAAAAAAAAAAAAAAAAACgAAAAAAAAAAAAAAgAAAAAKAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAoAAgAgogACogAAKACgoKACgoAKAAoAACAAAAIAAACAAKAAAIAAAAACAAAAAAAgAAAAAAAAIAAAAAAACAAAAAAAAAAAgAAAAAAAAAAAAAAAAIAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAACgAAAAIAANubYAAAAAAAAAAAAAAAAAAAACgAAAAAAAAAAAAAAAgAAAAAKAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAoAAggoAgCogAAKACgoKACgoAKAAoAACAAAAIAAACAAKAAAIAAAAACAAAAAAgAAAAAAAAAIAAAAAAACAAAAAAAAAAgAAAAAAAAAAAAAAAAAIAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAACgAAAICjbk2AAAAAAAAAAAAAAAAAAAAAoAAAAAAAAAAAAAAAAIAAACgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAKAAIIAKIAIKIACgAoKCgAoKACgAKAAAgAAACAAAAgACgAACAAAAAAgAAAAAIAAAAAAAAACAAAAAAAgAAAAAAAAAAIAAAAAAAAAAAAAAAAACAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAoAANuTYAAAAAAAAAAAAAAAAAAAACgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAKAAIAIKIAIKIACgAoKCgoAKACgAKAAAgAAACAAAAgACgAACAAAAAAgAAAAAIAAAAAAAAACAAAAAAAgAAAAAAAAAAIAAAAAAAAAAAAAAAAACAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA6OTYAAAAAAAAAAAAAAAAAAAAAAAAAAACgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAKAIAIKIAIKAAAAKCgoKACgAoACgAAIAAAgAAAAIAAoAAAgAAAAIAAAAAACAAAAAAAAAAgAAAAAAIAAAAAAAAAACAAAAAAAAAAAAAAAAAgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOjk2AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAoAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAACgACCCiAAKgAAACgoKCgAoAKAAAoACAAAIAAAACAAAKAIAAAAACAAAAAAAgAAAAAAAAIAAAAAAACAAAAAAAAAAAgAAAAAAAAAAAAAAAAIAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADo5NgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAKAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAACgAgAAAAAAACgACCACiACCgACgAoKCgAoAKAAAoACAAAIAAAACAAAKAIAAAAACAAAAAAAgAAAAAAAAIAAAAAAACAAAAAAAAAAAgAAAAAAAAAAAAAAAAIAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADo5NgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAKAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAACgAAAgAAAAAAACgCACCiACCgACgAoKCgAoAKAAoAAACAAIAAAACAAKAAIAAAAACAAAAAAAgAAAAAAAAIAAAAAAACAAAAAAAAAAgAAAAAAAAAAAAAAAAAIAAAAAAAAAAAAAAAAAAAAAAAAAACAAAAAAAoAAAAAAAAAAOjk2AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAoAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAKAAAACAAAAAAAKAIAIKIAAqAAKACgoKACgAoACgAAAIAAgAAAAIAAoAAgAAAAAIAAAAAACAAAAAAAAAgAAAAAAIAAAAAAAAAACAAAAAAAAAAAAAAAAAAgAAAAAAAAAAAAAAAAAAAAAAAAAAIAAAAAAAAACgAAAAAAA6OTYAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAACgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAoAAAAIAAAAAAAoAAggoAgCoAAoAKCgoAKAACgKAAAAgACAAAAAgACgACAAAAAAgAAAAAAIAAAAAAAACAAAAAAAgAAAAAAAAAAIAAAAAAAAAAAAAAAAACAAAAAAAAAAAAAAAAAAAAAAAAAAgAAAAAAAAAAAAAAAAAAOrk2AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAoAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAKAAAACAAAAAAAAKAIIAKIAIKAKACgoKACgAAoCgAAIAAAgAAAAIAAoAAgAAAAAIAAAAAACAAAAAAAAAgAAAAAAIAAAAAAAAAACAAAAAAAAAAAAAAAAAgAAAAAAAAAAAAAAAAAAAAAAAAAAIAAAAAAAAAAAAAAAAAADq5NgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAKAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAACgAAAAgAAAAAAACgACCCgCAKigAoAKCgAoAAKAoAAACAAIAAAACAAAKAIAAAAACAAAAAAAgAAAAAAAAIAAAAAACAAAAAAAAAAAgAAAAAAAAAAAAAAAAIAAAAAAAAAAAAAAAAAAAAAAAAACAAAAAAAAAAAAAAAAAAAA6uTYAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAACgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAoAAAAAIAAAAAAAoAAggoAACCgCgAoKACgAAoCgAAAIAAgAAAAIAAAoAgAAAAIAAAAAAACAAAAAAAAgAAAAAAAIAAAAAAAAAACAAAAAAAAAAAAAAAAAgAAAAAAAAAAAAAAAAAAAAAAAAAIAAAAAAAAAAAAAAAAAAADq5NgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAKAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAACgAAAAgAAAAAACgAAIigAAAIKKCgAoAKAACgKAAAAgACAAAAgAAACgCAAAAAgAAAAAAAIAAAAAAACAAAAAAAAgAAAAAAAAAAIAAAAAAAAAAAAAAAACAAAAAAAAAAAAAAAAAAAAAAAAAAgAAAAAAAAAAAAAAAAAAAOrk2AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAoAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAKAAAACAAAAAAAAKAAgCKAAAKIKKACgAoAAKAoAAACAAIAAACAAAKAAIAAAACAAAAAAAAgAAAAAAAIAAAAAAACAAAAAAAAAAgAAAAAAAAAAAAAAAAAIAAAAAAAAAAAAAAAAAAAAAAAAACAAAAAAAAAAAAAAAAAAAA6uTYAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAACgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAoAAAAIAAAAAAAAoAACCgAAAAqKACgAoAAKAoAAACAAIAAACAAAKAAIAAAACAAAAAAAAgAAAAAAAIAAAAAACAAAAAAAAAAAgAAAAAAAAAAAAAAAAAIAAAAAAAAAAAAAAAAAAAAAAAACAAAAAAAAAAAAAAAAAAAAA6uTYAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAACgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAoAAAAIAAAAAAAAoAACCgAAACgKgCgAoAAKAoAAACAAIAAACAAAKAAIAAAACAAAAAAAAgAAAAAAAIAAAAAACAAAAAAAAAAAgAAAAAAAAAAAAAAAAAIAAAAAAAAAAAAAAAAAAAAAAAACAAAAAAAAAAAAAAAAAAAAA6uTYAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAACgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAoAAAAAIAAAAAAAAoAACACgAACgKgCgAoAAKAoAAACAAIAAACAAAAKIAAAAACAAAAAAAAgAAAAAAAIAAAAAACAAAAAAAAAAAgAAAAAAAAAAAAAAAAAIAAAAAAAAAAAAAAAAAAAAAAAACAAAAAAAAAAAAAAAAAAAAA6uTYAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAACgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAoAAAAAIAAAAAAAAAoAACACgACgAqoAAoAAKAoAAAACIAAAACAAAAKIAAAAACAAAAAAAAgAAAAAAAIAAAAAACAAAAAAAAAAAgAAAAAAAAAAAAAAAAAIAAAAAAAAAAAAAAAAAAAAAAACAAAAAAAAAAAAAAAAAAAAAA6uTYAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAACgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAoAAAAAAIAAAAAAAAAoAACACgACgAqoAAoAAKAoAAAACIAAAACAAAKAIAAAAACAAAAAAAAgAAAAAAAIAAAAAACAAAAAAAAAAAgAAAAAAAAAAAAAAAAAIAAAAAAAAAAAAAAAAAAAAAAACAAAAAAAAAAAAAAAAAAAAAA6uTYAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAACgAAAgAAAAAAAKAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAACgAAAAAAgAAAAAAAACgAAAIAAKKAACqgCgAAoACgAAAIgAAAAIAAAoAgAAAAAIAAAAAAACAAAAAAAgAAAAAAAIAAAAAAAAAACAAAAAAAAAAAAAAAAAAgAAAAAAAAAAAAAAAAAAAAAAAIAAAAAAAAAAAAAAAAAAAAADq5NgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAKAAACAAAAAAAAAAoAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAKAAAAACAAAAAAAAAAAKAAAAgAooAAKqAKAACgAKAAAgCAAAAAgAAACiAAAAAAgAAAAAAAIAAAAAACAAAAAAAAgAAAAAAAAAAIAAAAAAAAAAAAAAAAACAAAAAAAAAAAAAAAAAAAAAAAgAAAAAAAAAAAAAAAAAAAAAAOrk2AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAoAAAIAAAAAAAAAAACgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAoAAAAAIAAAAAAAAAAAoAAAACACigAqoAoAAKAAoAACAIAAAACAAAAKIAAAAACAAAAAAAAgAAAAAAIAAAAAAACAAAAAAAAAAAgAAAAAAAAAAAAAAAAAIAAAAAAAAAAAAAAAAAAAAACAAAAAAAAAAAAAAAAAAAAAAAA6uTYAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAACgAAAAgAAAAAAAAAAAAKAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAACgAAAAAgAAAAAAKAACAAKAAAAAgooAKqAKAACgAKAAAgCAAAAAgAAACiAAAAAAgAAAAAAAIAAAAAACAAAAAAAAgAAAAAAAAAIAAAAAAAAAAAAAAAAAACAAAAAAAAAAAAAAAAAAAAAAgAAAAAAAAAAAAAAAAAAAAAAAOrk2AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAoAAAIAAAAAAAAAAAAAACgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAoAAAAIAAAACgAAAAgAACgAAAIAKKAoogCgAoACgAAIAgAAAAIAAAAogAAAAAIAAAAAACAAAAAAAAgAAAAAAAIAAAAAAAAACAAAAAAAAAAAAAAAAAAgAAAAAAAAAAAAAAAAAAAAAAIAAAAAAAAAAAAAAAAAAAAAAADq5NgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAKAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAACgAAAAAAgAACgAAAIKKACqgCgAoACgAAAIgAAAAIAAAAogAAAAAIAAAAAACAAAAAAAAgAAAAAAAIAAAAAAAAACAAAAAAAAAAAAAAAAAAgAAAAAAAAAAAAAAAAAAAAAAIAAAAAAAAAAAAAAAAAAAAAAADq5NgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAKAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAACgAAAAAAAAAgACgAAAIKKACqgCgAoAACgAIAgAAAAIAAAACKAAAAAIAAAAAACAAAAAAAAgAAAAAAAIAAAAAAAAACAAAAAAAAAAAAAAAAAAgAAAAAAAAAAAAAAAAAAAAAIAAAAAAAAAAAAAAAAAAAAAAAADq5NgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAKAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAACgAAAAAAAAAgACgAAAIKAKAqKCgAAoCgAAAIgAAAIAAAAACKAAAAIAAAAAAACAAAAAAAAgAAAAAAIAAAAAAAAAACAAAAAAAAAAAAAAAAAAgAAAAAAAAAAAAAAAAAAAAAIAAAAAAAAAAAAAAAAAAAAAAAADq5NgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAKAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAACgAAAAAAAAAAAgACgAAIKAKAqKCgAAoCgAAAIgAAAIAAAAACKAAAAIAAAAAAACAAAAAAAgAAAAAAAIAAAAAAAAAACAAAAAAAAAAAAAAAAAAgAAAAAAAAAAAAAAAAAAAAAIAAAAAAAAAAAAAAAAAAAAAAAADq5NgIAACgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAoAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAKAAAAAAAAAAAACAKAAAgoAoCooAKACgKAAAiAAAAAgAAAAAIoAAAAgAAAAAAAIAAAAAACAAAAAAAAgAAAAAAAAAAIAAAAAAAAAAAAAAAAACAAAAAAAAAAAAAAAAAAAAAAgAAAAAAAAAAAAAAAAAAAAAAAAOrk2gAAAAAKAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAACgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAoAAAAAAAAAAAAAACgAAIAKACooAKACgAKAAIIAAAAgAAAAAIoAAAAgAAAAAAAIAAAAAACAAAAAAAAgAAAAAAAAAAIAAAAAAAAAAAAAAAAACAAAAAAAAAAAAAAAAAAAAAAgAAAAAAAAAAAAAAAAAAAAAAAAOrk2gAAAAAAKAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAACgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAoAAAAAAAAAAAAAAACgAAIAKACooKAACgAKAAIIAAAAgAAAAIAAoAAAgAAAAAAAIAAAAAACAAAAAAAAgAAAAAAAAAAIAAAAAAAAAAAAAAAAACAAAAAAAAAAAAAAAAAAAAAAgAAAAAAAAAAAAAAAAAAAAAAAAOrk2gAAAAAAKAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAACgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAoAAAAAAAAAAAAAAAACgAAIAKAKIKKAACgAKAAiAAAAAgAAAAIAAoAAAgAAAAAAAIAAAAAACAAAAAAAAgAAAAAAAAAAIAAAAAAAAAAAAAAAACAAAAAAAAAAAAAAAAAAAAAAgAAAAAAAAAAAAAAAAAAAAAAAAAOrk2gAAAAAAKAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAACgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAoAAAAAAAAAAAAAAAACgAAIAKAKIKKAACgAKAAiAAAAAgAAAAIAAoAAAgAAAAAAAIAAAAAACAAAAAAAAgAAAAAAAAAAIAAAAAAAAAAAAAAAACAAAAAAAAAAAAAAAAAAAAAAgAAAAAAAAAAAAAAAAAAAAAAAAAOjk2AAAAAAAoAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAKAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAACgAAAAAAAAAoAIAAAAAoAACACgCgKgCgAoACgCACAAAAIAAAACAKAAAAIAAAAAAACAAAAAAAgAAAAAAAIAAAAAAAAACAAAAAAAAAAAAAAAAAAgAAAAAAAAAAAAAAAAAAAAAIAAAAAAAAAAAAAAAAAAAAAAAAADo5NgAAAAAAKAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAACgAAAAAAAAgAAKAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAACgAAAAAAAAAoAAAIACgKAAIIAKAAKqAKACgAKAIIAAAAAgAAAAIAoAAAAgAAAAAAAIAAAAAACAAAAAAAAgAAAAAAAAAIAAAAAAAAAAAAAAAAACAAAAAAAAAAAAAAAAAAAAAAgAAAAAAAAAAAAAAAAAAAAAAAAAOjk2AAAAAAAoAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAKAAAACAAAAAAoAAAAAAIAAAAAACgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAoAAAAAAAAKAAAAAAAAoAAgAgoAAqoAoAAKAoAggAAAACAAAAAgACgAACAAAAAAAgAAAAAAAIAAAAAAACAAAAAAAAAAgAAAAAAAAAAAAAAAAAIAAAAAAAAAAAAAAAAAAAAACAAAAAAAAAAAAAAAAAAAAAAAAAA6OTYAAAAAACgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAoAAAAAAIAAAAACgAAAAAAgAAAAAAAKAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAACgAAAAAAAoAAAAAAACgACACCgAAqKCgAAoCgCCAAAAAIAAAACAAKAAAIAAAAAACAAAAAAAAgAAAAAAAIAAAAAAAAACAAAAAAAAAAAAAAAAAAgAAAAAAAAAAAAAAAAAAAAAIAAAAAAAAAAAAAAAAAAAAAAAAADo5NgAAAAAAAKAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAACgAAAAAgAAAAAAAAKAAAACAAAAAAAAAAoAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAKAAAAAACgAAAAAAKAAAIAIAiigKigAoAKAoAggAAAACAAAAAgACgAACAAAAAAAgAAAAAAAIAAAAAAACAAAAAAAAAAgAAAAAAAAAAAAAAAAAIAAAAAAAAAAAAAAAAAAAAAACAAAAAAAAAAAAAAAAAAAAAAAAA6OTYAAAAAAACgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAoAAAAAIAAAAAAAAAACgAAAgAAAAAAAAAAAAAAKAAAAAAAAAAAAAAAAAAAAAAAAAAAACgAAAAAoAAAAAACgAACACIAooCooAKACgKAIAIAAAAgAAAAIAAoAAAgAAAAAAIAAAAAAACAAAAAAAAgAAAAAAAAAIAAAAAAAAAAAAAAAAACAAAAAAAAAAAAAAAAAAAAAAAgAAAAAAAAAAAAAAAAAAAAAAAAOjk2AAAAAAAAAoAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAKAAAAACAAAAAAAAAAAAAoAIAAAAAAAAAAAAAAAACgAAAAAAAAAAAAAAAAAAAAAAAAAAAAoAAAAKAAAAAAAoAAAgAiAKAKIqgCgAoCgCCAAAAAIAAAACAAKAAAIAAAAAACAAAAAAAAgAAAAAAAIAAAAAAAAACAAAAAAAAAAAAAAAAAAgAAAAAAAAAAAAAAAAAAAAAAIAAAAAAAAAAAAAAAAAAAAAAAADo5NgAAAAAAAAAKAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAACgAAAAgAAAAAAAAAAAAAAKCAAAAAAAAAAAAAAAAAoAAAAAAAAAAAAAAAAAAAAAAAAAAAAKAAACgAAAoAIAoAAAAgAiAKAKIKKCgAoCgCACAAAAIAAAACAAKAAAIAAAAAACAAAAAAAAgAAAAAAIAAAAAAAAAACAAAAAAAAAAAAAAAAAAgAAAAAAAAAAAAAAAAAAAAAAAIAAAAAAAAAAAAAAAAAAAAAAADo5NgAAAAAAAAAKAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAACgAAAAAgAAAAAAAAAAAAAAKCAAAAAAAAAAAAAAAoAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAKAAACgAAAoAIoAAAAAgAiAKAKIKKCgAoCgCACAAAAIAAAACAKAAAAIAAAAAACAAAAAAAAgAAAAAAIAAAAAAAAAACAAAAAAAAAAAAAAAAAgAAAAAAAAAAAAAAAAAAAAAAAAIAAAAAAAAAAAAAAAAAAAAAAADo5NgAAAAAAAAAKAAAAAAAAAAAAAAAAAAAAAAAAAAAAAACgAAAAAAAgAAAAAAAAAAAAAAAAAAAAAAAAAAAKAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAACgAAAoAAAKAoAgAAAAICCACgAIqigoAAKoAgAgAAACAAAAAgACgAACAAAAAAAgAAAAAAAIAAAAAAACAAAAAAAAAAgAAAAAAAAAAAAAAAAIAAAAAAAAAAAAAAAAAAAAAAAACAAAAAAAAAAAAAAAAAAAAAAAA6OTYAAAAAAAAACgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAoAAAAAAAAIAAAAAAAAAAAAAAAAAAAAAAAAACgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAoAAAAKAACgKAAIAAAACAggAoACKooKAACqAIAIAAAAgAAAAIAAoAAAgAAAAAIAAAAAAAACAAAAAAAAgAAAAAAAAAIAAAAAAAAAAAAAAAACAAAAAAAAAAAAAAAAAAAAAAAAAgAAAAAAAAAAAAAAAAAAAAAAAOjk2AAAAAAAAAAoAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAKAAAAAAAAACAAAAAAAAAAAAAAAAAAAAAAAAoAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAKAAAACgAAoCgACAAAAAgIIAiigCKooKAACgKIAIAAAAgAAAAIAoAAAAgAAAAAIAAAAAAACAAAAAAAAAgAAAAAAAAAIAAAAAAAAAAAAAAAACAAAAAAAAAAAAAAAAAAAAAAAAAgAAAAAAAAAAAAAAAAAAAAAAAOjk2AAAAAAAAAoAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAKAAAAAAAAACAAAAAAAAAAAAAAAAAAAAAAAoAAAAAAICgAAAAAAAAAAAAAAoAAIAAAAAAACgAAAAoAAKoAAAgAAAIACCAIoAoiqKACgAoCiACAAAAIAAAACAKAAAIAAAAAACAAAAAAAAgAAAAAAAIAAAAAAAAAACAAAAAAAAAAAAAAAAAAgAAAAAAAAAAAAAAAAAAAAAAAAIAAAAAAAAAAAAAAAAAAAAAADo5NgAAAAAAAKAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAACgAAAAAAAAgAAAAAAAAAAAAAAAAAAAAAAKAAACAAAAAAoAAAAAAAAAAAKAAAAACAAAAAAoAAAKAAACqAAAIAAAACAggCKAKIqigAoAKAoggAAAACAAAAAgCgAACAAAAAAAgAAAAAAAIAAAAAAACAAAAAAAAAAAgAAAAAAAAAAAAAAAAAIAAAAAAAAAAAAAAAAAAAAAAAACAAAAAAAAAAAAAAAAAAAAAAA6OTYAAAAACgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAoAAAAAAAIAAAAAAAAAAAAAAAAAAAACgAgAAAAAAAAAKAAAAAAAAAACgAAAAAAgAAAAKAAACgAAAKKAAACAAAAgIIAigCiKooAKAACqIAIAAAAgAAAAIAoAAAgAAAAAAIAAAAAAACAAAAAAAAgAAAAAAAAAAIAAAAAAAAAAAAAAAAACAAAAAAAAAAAAAAAAAAAAAAAAAAgAAAAAAAAAAAAAAAAAAAAAOjk2AAAAoAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAKAAAAAACAAAAAAAAAAAAAAAAAAAAoAIAAAAAAAAAAACgAAAAAAAAAoAAAAAAAIAAACgAAAoAAACigAAAgAAAICCAIoAoiqKACgAAqiACAAAAIAAACAAAKAAIAAAAAACAAAAAAAAgAAAAAAAIAAAAAAAAAACAAAAAAAAAAAAAAAAAAAgAAAAAAAAAAAAAAAAAAAAAAAAIAAAAAAAAAAAAAAAAAAAAADo5NgAAAKAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAACgAAAAAAgAAAAAAAAAAAAAAAAAKACAAAAAAAAAAAAAAoAAAAAAAAAKAAAAAAACAAAAoAAAKAAAACqAAAIAAACAggCKAKIqigAoAAKogAgAACAAAAAgAACgACAAAAAAAgAAAAAAAIAAAAAAACAAAAAAAAAAAgAAAAAAAAAAAAAAAAAAIAAAAAAAAAAAAAAAAAAAAAAAACAAAAAAAAAAAAAAAAAAAAAA6OTYAAAACgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAoAAAAIAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAACgAAAAAAAAAoAAAAAAAIAAACgAAAAoAACgCgAAgAAAICCAIoAoiqKACgAAKAAgAACAAAAAgAACgACAAAAAAAgAAAAAAAIAAAAAAACAAAAAAAAAAAgAAAAAAAAAAAAAAAAAAIAAAAAAAAAAAAAAAAAAAAAAAACAAAAAAAAAAAAAAAAAAAAAA6OTYAAAACgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAoAAAIAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAACgAAAAAAAAAoAAAAAAAIAACgAAAAAoAACgACgAgAAIACCAIoAoiqKACgAAKAgAAACAAAAAgAACgACAAAAAAAgAAAAAAAIAAAAAAACAAAAAAAAAAAgAAAAAAAAAAAAAAAAAAIAAAAAAAAAAAAAAAAAAAAAAAAACAAAAAAAAAAAAAAAAAAAAA6OTYAAAAACgAAAAAAAAAAAAAAAgKAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAACgAAAAAgAAAAAAAAAAAAAAAAAAAAKAAAAAAAAAACgAAAAAAAgAAKAAAAACgAAKAAKACAAAgAIIAigCiKooAKAAAoACAAAIAAAACAAAAKAIAAAAAACAAAAAAAAgAAAAAAAIAAAAAAAAAACAAAAAAAAAAAAAAAAAAAgAAAAAAAAAAAAAAAAAAAAAAAAAIAAAAAAAAAAAAAAAAAAAADo5NgAAAAAAKAAAAAAAAAAAACAAAAoAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAKAAAAAAAAACAAAAAAAAAAAAAAAAAAAoAAAAAAAAAAAKAAAAAAACAAAoAAAAAKAAAoAAoIAAACAAggCAqgCqigAoAACgAIAAAgAAAAIAAAAoAgAAAAAAIAAAAAAACAAAAAAAAAgAAAAAAAAAIAAAAAAAAAAAAAAAAAACAAAAAAAAAAAAAAAAAAAAAAAAAAAgAAAAAAAAAAAAAAAAAAANuTYCgAAAAAAAAAoAAAAAAAIAAAACgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAoAAAAAAAAAAIAAAAAAAAAAAAAAAAACgAAAAAAAAAAAAoAAAAAAAIACgAAAAAAoAACgACggAAAAICCAACgCiKoAoAACgAIAAAgAAAAIAAAAAogAAAAAAIAAAAAAACAAAAAAAAAgAAAAAAAAAIAAAAAAAAAAAAAAAAAACAAAAAAAAAAAAAAAAAAAAAAAAAAAAgAAAAAAAAAAAAAAAAAANuTYCgAAAAAAAAAAAAoAAAAAIAAACgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAoAAAAAAAAAAAIAAAAAAAAAAAAACgAAAAAAAAAAAAAAoAAAAAAAAIACgAAAAAAoAACgACgAgAAAICCAACgCiKooAAAACgIAAAgAAAAIAAAAAogAAAAAAIAAAAAAACAAAAAAAAAgAAAAAAAAAIAAAAAAAAAAAAAAAAAACAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAgAAAAAAAAAAAAAAAANuTYCgAAAAAAAAAAAAAoAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAKAAAAAAAAAAAACAAAAAAAAAAAoAAAAAAAAAAAAAAAKAAAAAAAAACAoAAAAAAKAAAAoAAoAIAAACACIAAooAiqKAAAAAoCAAAIAAAACAAAAAAgCgAAAACAAAAAAAAgAAAAAAAAIAAAAAAAAACAAAAAAAAAAAAAAAAAAAgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAIAAAAAAAAAAAAAADbk2oAAAAAAAAAAAAAAKAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAACgAAAAAAAAAAAAAgAAAAAAAKAAAAAAAAAAAAAAACgAAAAAAAAAgAAKAAAAACgAAAKAKAACAAAAgAIIAqgCiCigAAAKAAgAACAAAAAgAAAAAIoICgAAACAAAAAAAAgAAAAAAAAIAAAAAAAAACAAAAAAAAAAAAAAAAAAAgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAIAAAAAAAAAAAADo5NgAAAAAAAAAAAAAAKAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAACgAAAAAAAAAAAAgAAAAKAAAAAAAAAAAAAAACgAAAAAAAAAAgAAAKAAAAACgAAAKAKAAACAAAgAAgAoAogooAAACgAIAAAgAAAAIAAAAACAKAAAAAIAAAAAAACAAAAAAAAAgAAAAAAAAAIAAAAAAAAAAAAAAAAAACAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAgAAAAAAAAAAAOjk2AAAAAAAAAAAAAAAoAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAKAAAAAAAAAAAAACAoAAAAAAAAAAAAAAKAAAAAAAAAAAACAAAAAAoAAAAKAAAAoAoAAAIAACAACACgCiCigAAAKAAgAACAAAAAgAAAAAIAoAAAAAgAAAAAAAIAAAAAAACAAAAAAAAAAAgAAAAAAAAAAAAAAAAAAIAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAACAAAAAAAAAA6OTYAAAAAAAAAAAAACgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAoAAAAAAAAAAAAAAAAAAAAAAAAAAAKAAAAAAAAAAAACAAAAAAAoAAAAKAAAAAooAAAIAACAACACgCiCigAAAAKAgAACAAAAAgAAAAAIAoAAAAAgAAAAAAAIAAAAAAAACAAAAAAAAAAAgAAAAAAAAAAAAAAAAAAIAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAACAAAAAAAAA6OTYAAAAAAAAAAAAACgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAoAAAAAAAAAAAAAAAAAAAAAAAAAAKAAAAAAAAAAAACAAAAAAAAAoAAAKAAAAAooAAAIAACAACACgCiCigAAAAKAgAACAAAAAgAAAAAIAoAAAAAgAAAAAAAIAAAAAAAACAAAAAAAAAAAgAAAAAAAAAAAAAAAAAAIAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAACAAAAAAAA6OTYAAAAAAAAAAAAACgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAoAAAAAAAAAAAAAAAAAAAAAAAAAAKAAAAAAAAAAAACAAAAAAAAAAoAAAKAAAAAoAoAAIAACAAggCqAKIKKAAAAAoCAAAIAAAACAAAAAAgACgAAACAAAAAAAAgAAAAAAAAIAAAAAAAAAACAAAAAAAAAAAAAAAAAAAgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAIAAAAAADo5NgAAAAAAAAAAAAKAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAACgAAAAAAAAAAAAAAAAAAAAAAAAAAoAAAAAAAAAAAAAIAAAAAAAAACgAAAoAAAACgCgAAgAAICACACigCKooAAAACgIAAAgAAAAIAAAAACAAKAAAAAIAAAAAACAAAAAAAAAgAAAAAAAAAAIAAAAAAAAAAAAAAAAAACAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAgAAAAAOjk2AAAAAAAAAAAAoAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAKAAAAAAAAAAAAAAAAAAAAAAAAAAAAAACgAAAAAAAAAAAAgAAAAAAAAAAKAAAACgAAAKAKACAAAgAIAIAKAKIqigAAAAKAgAACAAAAAgAAAAAIAoAAAAAAgAAAAAAIAAAAAAAACAAAAAAAAAAAgAAAAAAAAAAAAAAAAAAAIAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAACAAAAA6OTYAAAAAAAAACgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAoAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAKAAAAAAAAAAAACAAAAAAAAAAAAoAAAAKAAAAoAAAAAAgAIIgAKoAoiqAKAAAAoCAAAIAAAACAAAAAAigAAAAAACAAAAAAAgAAAAAAAAAIAAAAAAAAAACAAAAAAAAAAAAAAAAAAAgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAIAAADo5NgAAAAAAAAKAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAACgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAoAAAAAAAAAAAAAIAAAAAAAAAAAACgAAAAoAAAACgAAAACAgAiAAKKCiCigoAAACoAAAAgAAAAIAAAAACKAAAAAAAIAAAAAACAAAAAAAAAAgAAAAAAAAAAAIAAAAAAAAAAAAAAAAAACAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAgAAOjk2AAAAAAAAoAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAKAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAACgAAAAAAAAAAAgAAAAAAAAAAAAAAKAAAACgAAAAKAAAAIACAggCAqgCiKooKAAAAqAAAAIAAAACAAAAAAKIAAAAAAACAAAAAAAgAAAAAAAAIAAAAAAAAAAACAAAAAAAAAAAAAAAAAAAgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAIDo5NgAAAAAAKAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAACgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAoAAAAAAAAAAIAAAAAAAAAAAAAAAACgAAAAAoAAACgAAACAAgiAgACigoiqKCgAAKAgAAACAAAAAgAAAACgCAAAAAAAAgAAAAAAIAAAAAAAACAAAAAAAAAAAAAgAAAAAAAAAAAAAAAAAAIAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADbk2AAAAoAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAKAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAACgAAAAAAAAAgAAAAAAAAAAAAAAAAKAAAAAACgAAAAKAAAICAgiAAAKKCiKooKAAAoCAAAAIAAAAACAAAAKAIAAAAAAACAAAAAAAgAAAAAAAAAIAAAAAAAAAAACAAAAAAAAAAAAAAAAAAAgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAANuTYCgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAoAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAKAAAAAAACAAAAAAAAAAAAAAAAAAoAAAAAAKAAAAAoAAAgICCICAKAKCwRqKKACgAKAgAAACAAAAAAgAAACgCAAAAAAAAgAAAAAAAIAAAAAAAACAAAAAAAAAAAAAgAAAAAAAAAAAAAAAAAAIAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADbk2AoAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAKAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAACgAAAAAAoAAAACgACAAgjIIAAoAoLBGoooAKAAoCAAAAAIAAAACAAAAKAAIAAAAAACAAAAAAAAgAAAAAAAAAIAAAAAAAAAAACAAAAAAAAAAAAAAAAAAAAgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAANuTYCgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAoAAAAAAAIACgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAoAAAAAAKAAAAoAAAgICURAQEAUUFBYIsUaABQAFAQAAAABAAAAAQAAABQABAAAAAAAAQAAAAAAEAAAAAAAAAABAAAAAAAAAAAAQAAAAAAAAAAAAAAAAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABtybAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAABAAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAABQAAAAFAAAEBBEoICAgCgCwGoIsUaABQAFAQAAAABAAAAAAQAABQABAAAAAAAAQAAAAAAEAAAAAAAAAAABAAAAAAAAAAAAQAAAAAAAAAAAAAAAAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABtybAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAABAAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAABQAAAAFAAAEBBEoM0EAUQFBYDUEWKNAAoACgIAAAAAAgAAAAIAAAAoAgAAAAAAAIAAAAAAACAAAAAAAAAAAAgAAAAAAAAAAIAAAAAAAAAAAAAAAAAAACAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA25NqAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAACgAAAAAAAAgAKAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAACgAAAAAoAAAACgAAACAlEZoJQQEUAUFgjUBYo0ACgAKAgAAAAACAAAAAgAAACgACAAAAAAAgAAAAAAAIAAAAAAAAAAAACAAAAAAAAAAAgAAAAAAAAAAAAAAAAAAAIAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADo5NgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAKAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAACgAAAAAAoAAAACgAAACAlEZoJQQEUAUFgjUUWA0ACgAKAgAAAAACAAAAAAgAACgACAAAAAAAgAAAAAAAIAAAAAAAAAAAACAAAAAAAAAAAAgAAAAAAAAAAAAAAAAAAAIAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADo5NgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAKAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAACgAAAAAoAAAACgAAAACAzREoM0EAUAAagjUUWA0ACgAKAgAAAAACAAAAAAgAACgACAAAAAAAAgAAAAAAAIAAAAAAAAAAAACAAAAAAAAAAAgAAAAAAAAAAAAAAAAAAAAIAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADo5NgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAKAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAACgAAAAKKAgKACAAoAAAAgAM0RKDNBFEABQagixRqA1AUAABQEAAAAAAAQAAAAEAAAUAAQAAAAAAAEAAAAAAABAAAAAAAAAAAAAAQAAAAAAAAAAEAAAAAAAAAAAAAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAdHJsAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAABRQAAAAEABQAAABAQEoiUGaCKIACiNRRYDUBqAoAACgIAAAAAAAgAAAAIAAAAoAAgAAAAAAIAAAAAAAACAAAAAAAAAAAAAAgAAAAAAAAAIAAAAAAAAAAAAAAAAAAAAAACAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA6OTYAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAACgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAoAAACigAAAAAAAAAAAgICURKDNBFEABYI1FFgNQGgUAABQEAAAAAAQAAAAAEAAAAAUAQAAAAAAAEAAAAAAABAAAAAAAAAAAAAAQAAAAAAAAAAEAAAAAAAAAAAAAAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAdHJsAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAFFAAAAAAAAAAAABASglESgzQRRAAWCLFGoDUBoFAAAUBAAAAAEAAAAABAAAAAAFAEAAAAAAABAAAAAAAAAQAAAAAAAAAAAAAEAAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHRybAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAAAAAAAAAAAAEBQAAAAAAAAAAAAAAAAAAAAAAAAAUAAAEAAAAAAAAAAAAAAAAAAAAAAAAABQAAFAFAAAAAAAAAAAABASglESgzQRRAAWCLFGoDUBoFAAAVAAAAAEAAAAAABAAAAAAARQAAAAAAAABAAAAAAAAQAAAAAAAAAAAAAEAAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHRybAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAUAABQABQAAAAAAAAAAAAQEoJRGaCUEUQAFgixRqA1AaBQAAFQAAABAAAAAAAQAAEAAAAAUAAAAAAAAAQAAAAAAAAEAAAAAAAAAAAABAAAAAAAAAAAAQAAAAAAAAAAAAAAAAAAAAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAB0cmwAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAQAAAAAAAAAAAAAAAAAAAAAAAFAAUAAAUAAAAAAAAAAAAEBASiM0EoIogALBFijUBqA0CgAAKgAACAAAAAAAAgAIAAAAAAAoAAAAAAAAgAAAAAAAAAIAAAAAAAAAAAACAAAAAAAAAAAAgAAAAAAAAAAAAAAAAAAAAAAAIAAAAAAAAAAAAAAAAAAAAAAAAAAADo5NgAAAAAAAAAAAAAAAAAAAAAAAAAAAKAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAACgAAAAAAAAgAAAAAAAAAAAAAAAAAAAAAAAKAAoAAAoAAAAAAAAAAAAICUEojNBKDKgACwRYo1AagKCgoACoAAgAAAAAAAIACAAgAAAKAAAoAAAAAAAAgAAAAAAAAIAAAAAAAAAAAACAAAAAAAAAAAAAgAAAAAAAAAAAAAAAAAAAAAAAIAAAAAAAAAAAAAAAAAAAAAAAAAADo5NgAAAAAAAAAAAAAAAAAAAAAAAAAAKAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAACgAAAAAAAAgAAAAAAAAAAAAAAAAAAAAAAAKAAoAAAoAAAAAAAAAAACAogJQSiM0EoMqAALBFijUBqAoKCgAKgCAAAAAAAAgAIACAAgKAACgAKAAAAAAAAIAAAAAAAAACAAAAAAAAAAAAgAAAAAAAAAAAAIAAAAAAAAAAAAAAAAAAAAAAACAAAAAAAAAAAAAAAAAAAAAAAAAAA6OTYAAAAAAAAAAAAAAAAAAAAAAAACgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAoAAAAAAAIAAAAAAAAAAAAAAAAAAAAAAACgAKAAAAKAAAAAAAAAgAAAKICAlEZoJQZUAAWCLFGoDUBQUFABBBQBAAAAAAAAQAEFQAAAQBQAUABQAAAAAABAAAAAAAAAAQAAAAAAAAAAAEAAAAAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAQAAAAAAAAAAAAAAAAAAAAAAAAAHRybAAAAAAAAAAAAAAAAAAAAAAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAUABQAAAABQAAAAAAAEAAABQBASglEZoJQZUAAWCNRRYDUBQUFBAABEUAQAFAAAABAQEFRAAAUUQBQUABQAAAAAABAAAAAAAAAAQAAAAAAAAAAAEAAAAAAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAQAAAAAAAAAAAAAAAAAAAAAAAAHRybAAAAAAAAAAAAAAAAAAAAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAABAAAAAAAAAAAAAAAAAAAAAAAAAAUAABQAAABQAAAAAAAAEAFABFAEBKCURmglBFEABYDUVFgNQFBQAAAQEEFAAAAAAAEBBUQAQAFAUURQAUBQAAAAAAABAAAAAAAAAQAAAAAAAAAAAEAAAAAAAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAQAAAAAAAAAAAAAAAAAAAAAAAHRybAAAAAAAAAAAAAAAAAAAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUAAAAAUAAAAAAABAABQAQBRASglEZoJQRRAAWA1FRYDUBQUAAEBAARQEAUAAAEABEVAQAAAFUUQBQUBQAAAAAAABAAAAAAAAAQAAAAAAAAAAAAEAAAAAAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAQAAAAAAAAAAAAAAAAAAAAAAHRybAAAAAAAAAAAAAAAAAAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAAUAAAAAUAAAAAABAUEAFABAFEBKCURmglBFEABQaiosBqAoAKCAAgIAAoCAAAAAIKiCAgAAKCqAigoAKAoAAAAAAAgAAAAAAAAIAAAAAAAAAAAACAAAAAAAAAAAAAAAAgAAAAAAAAAAAAAAAAAAAAAAAAIAAAAAAAAAAAAAAAAAAAAADo5NgAAAAAAAAAAAAAAAAAAKAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAACgAAKAAAAAKAAAAAAAgAAAoAIAogJQSiM0EoIogALAagixRqAoAAAICAAgACgIoAIAKiCAgAAAKAooigoAAKAoAAAAAAgAAAAAAAAIAAAAAAAAAAAACAAAAAAAAAAAAAAAAAgAAAAAAAAAAAAAAAAAAAAAAAAIAAAAAAAAAAAAAAAAAAAADo5NgAAAAAAAAAAAAAAAAAKAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAACgAKAAAAAAKAAAAAAAgAAAqgCAAgJQSiM0EoMgKAKCwRqKKCgAAAgAIAAAAoCAoCIICAAgAKACqKIoAKAAAAooAAAAIAAAAAAAAACAAAAAAAAAAAAgAAAAAAAAAAAAAAAAAIAAAAAAAAAAAAAAAAAAAAAAAACAAAAAAAAAAAAAAAAAAAA6OTYAAAAAAAAAAAAAAAAACgAAAAAAAAAACAoAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAACggAAAAAAAAAAAAAAAAAAAAAAAAAAAAAKAAoAAAAAAoAAAAACAoICgCgAgAICURKDNBKDICgCgsEWAqigAAAAgAIAAAAAACAgAIAACgAqiiAKAAACgAKAAKACAAAAAAAAAAgAAAAAAAAAAAIAAAAAAAAAAAAAAAAACAAAAAAAAAAAAAAAAAAAAAAAAAAgAAAAAAAAAAAAAAAAAAOjk2AAAAAAAAAAAAAAAAAAoAAAAAAAAgAKCAoAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAACgAAgAAAAAAAAAAAAAAAAAAAAAAAAAAAKAAAoAAAAAAoAAAAAAACAoAoAIACAlESgzQZoIoAAoKCiKAoAAAAgAAAAAAIACAAgAAAAKCgKKIAAAAoAKAAoAAAAAAAAAAAAgAAAAAAAAAAAIAAAAAAAAAAAAAAAAAACAAAAAAAAAAAAAAAAAAAAAAAAAAgAAAAAAAAAAAAAAAAAOjk2AAAAoAAAAIAAAAAAAACgAAAAAACAAAAoAAAAAAAAAAAAACgAAgAAAAAAAAAAAAAAAAAKAAACAAAAAAAAAAAAAAAAAAAAAAAAAAAAoAACgAAAAACgAAAAAAAAAoAAIACAlEZoJQZoIAoAAoKCgCCgAACAAAAAAAgAIACAAAAoKACgAAAKAigAoAKAoAAAAAAAAAAAAgAAAAAAAAAAAIAAAAAAAAAAAAAAAAACAAAAAAAAAAAAAAAAAAAAAAAAAAAgAAAAAAAAAAAAAAAAOjk2AAAoAAAAAIAAAAAAAAACgAAAAAACAAAAoAAAAAAAAAAAACgAAgAAAAAAAAAAAAAAAAAKAAACAAAAAAAAAAAAAAAAAAAAAAAAAAAoAAACgAAAAACgAAAAAAAAAoAAIACAlEZoJQZoIAoAAoKACgggAoAgAAAAAAIACAAAAAAoAAKAAAAACgKigoAKoAAAAAAAAAAAAgAAAAAAAAAAAIAAAAAAAAAAAAAAAAAACAAAAAAAAAAAAAAAAAAAAAAAAAAAgAAAAAAAAAAAAAAAOjk2AoAAAAAAAIAAAAAAAAAACgAAAACAoIAAACgAAAAAAAAAAKAAACAAAAAAAAAAAAAAAAAAoAAAIAAAAAAAAAAAAAAAAAAAAAAAAAACgAAAKAAAAAAKAAAAAAAAACgAAgAICCM0EoM0EAUAAUAFAABBAEUAAAAAAAAQAEAAABQAAUAAAAAAFABVRQUAFUAAAAAAAAAAAQAAAAAAAAAAAEAAAAAAAAAAAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAQAAAAAAAAAAAAAAAHVybAAQAAAFABAAAAAAAAAAAAAUAAAAQFBAAAAUAAAAABQAAAAAAAAAQAAAAAAAAAAAAAAAAFAABAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAABQAAAAABQAAAAAAAAAAUAEABASiJQZoJQZAUAAUAAAAEAEAFEBQAAQAAEAAAAAAABQAAAAQFAABQUFVFBQAVQAAAAAAAAAABAAAAAAAAAAAAQAAAAAAAAAAAAAAAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAABAAAAAAAAAAAAAAAdXJsBAAAAAAAAAAAAAAAAAAAAUAAAAAAAABQAQAAAUAAAAAAAAAAAEAAAAAAAAAAAAAAABQAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAUAAAAAAAUAAAAAAAAAAFABAAQEoiUGaCUEBFAAFAAABAAQQAAUAAAAAQAAEQAAFFAAAAAAAAABQAUFBVRQUFUAAAAAAAAAAAQAAAAAAAAAAAEAAAAAAAAAAAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAQAAAAAAAAAAAAAHVybQAAAAAAAAAAAAAAAAAAAAAFAAAAAAAUAAAAEFAAAAAAAAAAAABAAAAAAAAAAAAAAAAUAAEAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAFAAAAAAAFAAAAAAAAAABQQAAEBKIlBmggICKAAKAAACAgAAiAKKAACAAAiAAKACAAAAAAAAAAAKCqANAoKqKACqAAAAAAAAAAIAAAAAAAAAAAACAAAAAAAAAAAAAAAAAAAgAAAAAAAAAAAAAAAAAAAAAAAAAAAIAAAAAAAAAAAADo5NgAAAAAAAAAAAAAAAAAAAAAKAAAAAAoAAAAAoCAAAAAAAAAAAACAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAoAAACgAAAAAAACgAAAAAAAAAAAAAAgIIlBmglBARQABQAAQAEABABABQAAAAQQUAAAAAEAAAAAAAAAAUFUWAoKqKCgAqgAAAAAAAACAAAAAAAAAAAAAgAAAAAAAAAAAAAAAAAAAIAAAAAAAAAAAAAAAAAAAAAAAAAAAACAAAAAAAAAAA6OTYAAAAAAAAAAAAAAAAAAAAACgAAAAAKAAAAAKAgAAAAAAAAAAAgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAKAAAoAAAAAAAAAoAAAAAAAAAAAAAAICCJQSgzQQBRAAUAEAABAAQAAQAUAEAEFAAAAQFAAAEAAQUAABRAAFBVFBoFVAFAAAUAAUAAAAAEAAAAAAAAAAAABAAAAAAAAAAAAAAAAAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAEAAAAAAAAAB0cmwAAAAAAAAAAAAAAAAAAAAAFAAAAAAUAUAAABAAAAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAABQAAAAAAAABQAAAAAAAAAAAAAAAQEESglBmggIoAAAAAAgAAIAAIAAAACoAACAAAAAAAAAAAAAAoAigqigoKqKAACgAKAAKAAAACAAAAAAAAAAAAAgAAAAAAAAAAAAAAAAAAAIAAAAAAAAAAAAAAAAAAAAAAAAAAAAACAAAAAAAAA6OTYAAAAAAAAAAAAAAAAAAAACgAAAAAAKKAAAAAAgAAAAAAAAAAgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAKAAoAAAAAAAAAAoAAAAAAAAAAAAAAAICCJQSgzQQEUAAAAAAQAEAAAAEABQEAAABAAAAAAAAAAAAAAAUQBQVRQUFEFFAABQFAFAAAAABAAAAAAAAAAAAAQAAAAAAAAAAAAAAAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABAAAAAAAAdHJsAAAAAAAAAAAAAAAAAAAABQAAAAAAAVQAAAAQAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAUAAAAUAAEAAABQAAAAAAAAAAAAAAAQRASglBmgiiAgAAAAAAAAIAAAAAACAAAAAgAAAAAAAAAAAAAAKIoAKooKACqgCgAoCigAAAAAgAAAAAAAAAAAAAIAAAAAAAAAAAAAAAAAACAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAgAAAAAAOjk2AAAAAAAAAAAAAAAAAAAAoAAAAAAAAKAAoIAAAAIAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAACgKAAAKAAAAACAoAAAAAAAAAAAAAAAAIIgJQZoJQZUQAAAAAAAAAAQABAABQAEAAAABAAAAAAAAAAAAAAUQBQAVRQUAFVAFBQFFAAAAAABAAAAAAAAAAAAAQAAAAAAAAAAAAAAAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABAAAAAAdHJsBQQAAAAAAAAAAAAAAAAFAAAAAAAAAABQAAAAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAUAAAAUAAAAAAAAAAAAAAAAAAAAAAAEESglBmgzQRRAAQAFAAAAEAAAAAAQUABAAAAAAAAQAAAAAAAAAAAFEAUAFUUAFBVRQUBRQAAAAAAQAAAAAAAAAAAAAEAAAAAAAAAAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAQAAAAHRybAAAAAAAAAAAAAAAAAAUAAAAAAAAAAAFAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUBQAABQAAAAAAAAAAAAAAAAAAAAAAAAQRKDNBKDNBFEBAAAAUAARVAAAEAQAAQUBAAAAAAAAQAAAAAAAAAAAAFEAUAFUUFBVRQUAFUAAAAAAAQAAAAAAAAAAAAAEAAAAAAAAAAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAQAAAHRybAAAAAAAAAAAAAAAAAUAAAAAAAAAAAAFAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAABQAABQAAAAAAAAAAAAAAAAAAAAAAAAQRKDNBmglBFEBAAAUAFEFAAAAABBAAQUABAAAAAAAAQAAAAAAAAAAAAFEAUFBVFBVFEUAFUAAAAAAAAQAAAAAAAAAAAAAEAAAAAAAAAAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAQAAHRybAAAAAAAAAAAAAAAAAUAAAAAAAAAAAAAFAAAABAAAAAQAQABRQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAUAAUAAAAAAAAAAAAAAAAAAAAAAAAAEESgzQZoJQZUAQAFABQFRQAAAAAQBBAAQUBAAAAAAAAAQAAAAAAAAAAAFEAUAFUUGgVUUAFUAAAAAAAAQAAAAAAAAAAAAAEAAAAAAAAAAAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAQAHRybAAAAAAAAAAAAAAAAUAAAAAAAAAAAAAAFAAAABAAAAAQQAAABRQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAUAUAAAAAAAAAAAAAAAAAAAAAAAAAEEZoJQZoJQZUAQFABQBFUUAAAAEABEEABBQEAAAAAAAAABAAAAAAAAAAAAUQBQVRQaBVQBQVQAAAAAAAABAAAAAAAAAAAAAAQAAAAAAAAAAAAAAAAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABtybAAAAAAAAAAAAAAAAUAAAAAAAEABQAAAAAAUEAAAAABABAAAAFFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAAABRQAAAAAAAAAAAAAAAAAAAAAAAAAAQRmglBmglBFEAABQUFEFFAAABAAQEQAQEAFQAAAAAAAAAAEAAAAAAAAAABRAFBVFBQVUUFAUUAAAAAAAAEAAAAAAAAAAAAABAAAAAAAAAAAAAAAAAAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAGnJsBQAAAAAAAAAAAAAAUAAAAAAEAAABQAAAAAAAAAAAAQQAAAABRQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAUUAAAAAAAAAAAAAAAAAAAAAAAAAAEEZoJQZoJQRRAAUFBRFUAUAAEABAQBBAQEAFQAAAAAAAAAAAEAAAAAAAAABRAFBVFBQVUUAFAUUAAAAAAAEAAAAAAAAAAAAAABAAAAAAAAAAAAAAAAAAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAGnJsABQAAAAAAAAAAAAUAAAAAAEAAAABQAAAAAAAAAAAQAQAUAEAFFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAAABQABQAAAAAAAAAAAAAAAAAAAAAAAAAQRmglBmggIAoAoKCiKAoAoIACAAgICIIACCgIAAAAAAAAAACAAAAAAAAAAoAigqigAoiqKACgAqgAAAAAACAAAAAAAAAAAAAAAgAAAAAAAAAAAAAAAAAAIAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADTk2AAAoAAAAAAAAAAAKAAAAACAAAAAAoAAAAAAAAAAAIAIAKAACKoAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAKAAAAAAAAAoAqAoAAAAAAAAAAAAAAAAAAAAAAAAgjNBKDNBAQBQBQUFEUFUAAAQAEBAQEQAQEAAAFAAQAAAAAAAEAAAAAAAABQBFABVFBQBFUUAFAAUUAAAAAEAAAAAAAAAAAAAAABAAAAAAAAAAAAAAAAAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAGnJsAABQAAAAAAUAAAAAAAAAEAAAAAABQAAAAAQAAAFABABAABQBUUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAFAFQAAFBAUAAAAAAAAAAAAAAAAAAAAQGaIlBmggIAoAoNACKCqAAAIACAgIACAgCACAAAACgAIAAAACAAAAAAAAAoAgCgqgCgoAKqKACgAqgAAAAACAAAAAAAAAAAAAAAgAAAAAAAAAAAAAAAAAAAIAAAAAAAAAAAAAAAAAAAAAAAAAAAAADTk2AAAoAAAAAKAAAAAAAAACAAAAAAAAoAAAIAAAAAAAAAIAAAKqgIAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAKAAAAAAAACgAAAAAAAKAAAAAAAAAAAAAACAoAAgM0RKDNBAQBQBQUFEUBQAAABAAQAEABAAAQABBAABQEAAAABAAAAAAAAAUAARQAVQBQAUFVFABQFFAAAAABAAAAAAAAAAAAAAAAQAAAAAAAAAAAAAAAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAABpybAAUAAAAAFAAAAAAAAABAAAAAAAAUAAAAEAAEABQAFBABAAAUUVAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAUAAAAQFAAAAAAAAFBAAAAUAEABQQFAAEBmiJQZoICAKAKCgoAiqAAAAIAACAAgAAIAACAIAIAKgAAAAIAAAAAAAACgACAKAAooKACgqooKAAooAAAAIAAAAAAAAAAAAAAAACAAAAAAAAAAAAAAAAAAAgAAAAAAAAAAAAAAAAAAAAAAAAAAAANOTagAAAAAAAoAAAAAAAAAIAAAAAACgAAAAAgAAgAAKoAAAIAACgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAoAAAAAAAKAIACgAAAAAAAAAAAAAAAAAAAACgACAzREoM0EBAFAFABQUQUUAAAEAAABAAAQAAEABAEEABBQAAAEAAAAAAAAABQABAFAABVFABRFUUFAAUUAAAAEAAAAAAAAAAAAAAAABAAAAAAAAAAAAAAAAAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAG3JsAAAAAABQAAAAAAAAAAQAAAAAFAAAAAABABAAAFFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAAAFAEBQAAQFAAAAAAAAAAAAAAAAAAAFAEBmiJQZoJQQEUUAFBQUQUUAAAAEAAAABAAAQAEBAEEABBQAAAEAAAAAAAAABQAABAAFABVFBQVUUAFAAUUAAAEAAAAAAAAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAQAAAAAAAAAAAAAAAAAAAAAAAAAG3JsAAAAABQAAAAAAAAAAAAQAAAAFAAAAAABAABFAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAARQAAAAABQQFAAAAAAUAAAEAAAABQAARQBAZoiUGaCUEBFAFBQUARVAFAABAAAAAAAQAAEBAQBBABUAAAABAAAAAAAAAAAUAAAQABQAVRQUFVFABQFFAAABAAAAAAAAAAAAAAAAAAQAAAAAAAAAAAAAAAAAAAAEAAAAAAAAAAAAAAAAAAAAAAAABtybAAAAAUAAAAAAAAAAAAAAEAAAABQAAAQAAARQABQAAAAAEAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAARQAAAAAABQQAAAAFAUAAAEAAAABQAARQBASiM0GaCUEUQAFABQURVAAAAAAAAAAEAAABAQEAQQAVAAAAAQAAAAAAAAAAAAFAEAAAUFAUUFEVRQUABRQAAQAAAAAAAAAAAAAAAAAEAAAAAAAAAAAAAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAbcmwAAAFAAAAAAAAAAAAAAAABAAAAAAAAABAAFAFAAAAAAQAABQQUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAEUAAAAAAAAAAAAAAAVQAAAQAAAFAAABAFEESgzQZoJQRRAAAUFBRAFUAAAAQAAAAAAAEABAQBBAQUAAABAAAAAAAAAAAAAAAAUQAABQUFUUFEFFBQFAFAABAAAAAAAAAAAAAAAAAAQAAAAAAAAAAAAAAAAAAAAAEAAAAAAAAAAAAAAAAAAAAAAB0cmwAAAAAAAAAAAAAAAAAAAAEAAAAAAAEBQQBQABQAAAAEEAFAUABUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAAABQBAAAAAAAAAAAAAAAFAAAFQAAAFAAABAFRASgzQZoJQZUAAAUAFEUABQAAAQQBQAAAAABAARBAAQUAAABAAAAAAAAAAAAAAAAAUQABQAVRQUFVFBQAFFAAABAAAAAAAAAAAAAAAAAAQAAAAAAAAAAAAAAAAAAAAAAEAAAAAAAAAAAAAAAAAAAAB0cmwAAAAAAAAAAAAAAAAAAAAAEAAAAEAAAAAUAUAAAABBABQAAFAVAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAUAAAQAAAAAAAAAAAAABQAABUAAABQAAAQBUQEoM0GaCUEBFAAAFBQBAFABAAAAQAABQAAABAEEABBQAAAEAAAAAAAAAAAAAAAAAEUAAFBQVRQURVAFAUUAAAEAAAAAAAAAAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAQAAAAAAAAAAAAAAAAAAAHRybAAAAAAAAAAAAAAAAAAAAAAQAAAAQAAAABQBQAAAEAEFEABQABVQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAFAAAEAAAAAAAAAAAAAAAUAAAVABAUEUUEBQARFEBKDNBmglBARRAUAAFAEUAAAEAABAAAAUBQBAEAEBBQAAAAEAAAAAAAAAAAAAAAAABRAAFABVFBQVUUFAUUAAAAEAAAAAAAAAAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAQAAAAAAAAAAAAAAAAAAHRybAAAAAAAAAAAAAAAAAAAAAAQAAAQAAAAABRQAAAEAAERQABQABVQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAFAAAAEAAAAAAAAAAAAAAAUUEABUEAAAUAAUEARRASgzQSgzQQEUAAAAUAAQAAABBQAAQAAAAAABABUAAAABAAAAAAAAAAAAAAAAAAAAUARQAUFUUFVFBQFFAAAABAAAAAAAAAAAAAAAAAAAQAAAAAAAAAAAAAAAAAAAAAAAEAAAAAAAAAAAAAAAAAB0cmwAAAAAAAAAAAAAAAAAAAAAAEAAEAAAAAUUAAABAAABEUAAUAUQUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAAABQABAUEAAAAAAAAAAAAAAAAUUEBUEABQRQAAAARRASgzQSgzQQEUAAAAUAAAQABBQAEAAAEAAUAEAFAQAAAAEAAAAAAAAAAAAAAAAAAABQBAFBQVRQVUUFAUUAAAAAEAAAAAAAAAAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAQAAAAAAAAAAAAAAAAHRybAAAAAAAAAAAAAAAAAAAAAAAQAAQAAAAFUAAAEAAAAEQFUAAEVQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAAAAAAAAAFAAEAAAAAAAAAAAAAAAAAAUUBBAUAAEUAAAAEUQEoM0EoM0EBFAAAFAAAAAEBUAABAAAAABAAAUBAAAAAAQAAAAAAAAAAAAAAAAAAAFAAEUFBVFBVRQUBRQAAAAAQAAAAAAAAAAAAAAAAAAAEAAAAAAAAAAAAAAAAAAAAAAABAAAAAAAAAAAAAAAAdHJsAAAAAAAAAAAAAAAAAAAAAABAABAAAAAAUAAAAAAAEAAABVAAAAAAAAABAAUAAAAAAAAAAAAAAAAAAFAAAAAAAAAAABQBAAAAAAAAAAAAAABQQAAAUAUBABAUAEUUEBQQBFEBKDNBKDNBAFAAAAAAAAAARBQEAAAAAAAAABAAAAAAQAAAAAAAAAAAAAAAAAAAAFAAEUFBVFgKqKCgKKAAAAAACAAAAAAAAAAAAAAAAAAAAgAAAAAAAAAAAAAAAAAAAAAAAIAAAAAAAAAAAAAADo5NgAAAAIAAAAACgAAAAAAAAAAAgAgAAAAAAKAAAAAAAACAAqgAAAAAAAAAgAAAKAAAAAAAAAAAAAAAACgAAAAAAAAACAoIoAAAAAAAAAAAAAACgAgAAoAoACAAAACKKCAoAIiiAlBmglBmgAigAACgAAgAAgCCgIAAACAAoAAIAAAAAACAAAAAAAAAAAAAAAAAAAAAoAAigoKosBVRQUBRQAAAAAAAQAAAAAAAAAAAAAAAAAAAEAAAAAAAAAAAAAAAAAAAAAAABAAAAAAAAAAAAAAdHJsAAABAAAAAAAUAAAAAAAAAAEAEAAAAAAAABQAAAAAAAAFAAAAAAAAABAAAAAUAAAAAAAAAAAAAAAFAAAAAAAEBQQAAABQAAAAAAAAAAAFAAAABAABQABQEAAEBQFAAAAVEBASgzQSggICKAAKAAACAAAgAAIAACAAAAAAAAAAAAgAAAAAAAAAAAAAAAAAAAAAKAAIoKCqLAVUUFABVAAAAAAAAEAAAAAAAAAAAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAQAAAAAAAAAAAHRybAAAQAAAAAAAFAAAAAAAAABAABAABQAQAAAAABQAAAAAFAAAAAAAAAABAAAAAUAAAAAAAAAAAAAAFAAAAAAAEBQQAAAABQAAAAAAAAAAAAFAAABBQABQAAAEAAABQAABBRAQEoM0EoICAigACgAAAgAAIACAAAAgAAAAAAAAAAAIAAAAAAAAAAAAAAAAAAAAACgACKCgqiwFVFBQAVQAAAAAAAABAAAAAAAAAAAAAAAAAAAAQAAAAAAAAAAAAAAAAAAAAAAAAAEAAAAAAAAAB0cmwAEAAAAAAAABQAAAAAAAAAQAAAQVQBEFURAEAAAABQBQAFAAAAAAAAAABAAAAAAUAAAAAAAAAAAFAAAAAAAAAAAAEAAAAAUAAAAAAAAAAABQAAABUAAAUAAABAAAUAAAAQUQEBKDNBKDNBAFAAAFAABAAAQAEAABAAAAAAAAAAAAQAAAAAAAAAAAAAAAAAAAAAAFAAEUFBVFBVRQUAFUAAAAAAAAAQAAAAAAAAAAAAAAAAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAABAAAAAAAAAdHJsBAAAAAAAAAAUAAAAAAAAAEAAAUAAAAERAAAFAABBQBQFAAAAAAAAAABAAAAAAUAAAAAAAAAAFAAAAAAAAAAAAEAAAAAUAAAAAAAAAABQQFAAAFAAQBQAAAAEAABQAAABBRAQEoM0EoM0EAUBAAFAAAFQQBBQEABAAAAAAAAAAAAAQAAAAAAAAAAAAAAAAAAAAAAFAAEUFBVFBVRQUAFUAAAAAAAAAAQAAAAAAAAAAAAAAAAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAABAAAAAAAdHJtAAAAAAAAAAUAAAAAAAAAAEAAUAAAEAAEEAFAAAAFQBQFAAAAAAAAAABAAAAAAUAAAAAAAAAFAAAAAAAAAAAAAEAAAAAUAAAAAAAAAAABQAAABQEAAUEABQAEAAUVAAAEAFEBASgzQSgzQQBQEAAUAAAAEBABUAABAAAAAAAAAAAQAAAAAAAAAAAAAAAAAAAAAAAFAAEUFBVFBVRQUAFUAAAAAAAAAAQAAAAAAAAAAAAAAAAAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAABAAAAAAdHJtAAAAAAAAAUAAAAAAAAAAAAEUAAAEAAAEEFAAAAAFARVAAAAAAAAAABAAAAAAAUAAAAAAAAFAAAAAAAAAAAAAAAEAAAUAAAAAAAAAAABQAAAABQEAAAAAUABABBVVAUAEQUAQEBKDNBKDNBAFAARQAUAAEABAQAVAAAAAAAQAAAAAEAAAAAABQAAQAAAAAAAAAAAAAFAAEUFBVFBVRQUAFUAAAAAAAAAAAQAAAAAAAAAAAAAAAAAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAABAAAAAdHJtAAAAAAAAUAAAAAAAAAAAAAAAEAAAAAABBBQAAABQEFFAAAAAAAAAAQAAAAAFAAAAAAAABQAAAAAAAAAAAAAABAAAFAAAAAAAAAAAAAUAAAAUABAAAAFAAQABQBQAAEQUAQEBKDNBKCAgIoACKCgAoAIACAgIAKgAAAAAAAIAAACAAAAAAoAAAAAIAAAAAAAAAAACgACKCgqigqooKACqAAAAAAAAAAAIAAAAAAAAAAAAAAAAAAAAACAAAAAAAAAAAAAAAAAAAAAAAAAAAAAgAAOjk2AgAAAAKAAAAAAAAAAAAAAAAAoIAAIAAAAIigAACgAIKKAAAAAAAAAAAgAAAAKAAAAAAAACgAAAAAAAAAAAAAAACAAKAAAAAAAAAAAAAoAAAAoAACAAAKACIKAKAKAAAAIAgICUGaCUEBAQBRQUQBQAAAAQEBAQEFAAAAAAAAQAAEAAAAABQAAAAAQAAAAAAAAAAAFAAEUFUUFBVRQUAFUAAAAAAAAAAAAQAAAAAAAAAAAAAAAAAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAABAAdHJsAAAAAAAAAAAAAAAAAABAAAUAAAAAAEAAEFAEBQAAEAVQAAAAAAAAAAQAAAFAAAAAAAABQAAAAAAAAAAAAAAAAABFAAAAAAAAAAAAAAUAAAUAABAAAAAAFQQFAFFAAAAAEQEBKCUGaCAgACgCiKACgAAgICAgIACCgAgAAAKAAgAAIAAAACgAAAAAgAAAAAAAAAAKAAAIoKooKCqigoAKoAAAAAAAAAAAAgAAAAAAAAAAAAAAAAAAAAAIAAAAAAAAAAAAAAAAAAAAAAAAAAAAACA6OTYAAAAAAAAAAAAAAAAACAAAKKgAAAAAAAgAgAoAAAAIoAACgAAAAAAAAAgAKAAAAAAAACgAAAAAAAAAAAAAAAAAAogAAAAAAAAAAAAAAoAoAAACAoIAAAAIAKCCqAoAAAAgCAgJQSgzQQEAAUAUFEUAAAAEBAQEBAAAQFABAABQEAABAAAAAUAAAAAEAAAAAAAAAABQAABFBVFBQVUUFABVAAAAAAAAAAAAEAAAAAAAAAAAAAAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAbcmwAAAAAAAAAAAAAAAAAEAAABQAAAAAAAAQQAAUAAAEUAAABQAAAAAAAAAAAAAAAAAUAAAAAAAAAAAAAAAAAAAFAEAAAAAAAAAAAAFAAFAAAAQFBAAAAABAABRQABQAABAEBASglBmggIAAAooKIoAAAAICAgICAAAgAAAAAAoCAAgAAAAAKAAAACAAAAAAAAAAAoAAgCgqigoKqKCgAqgAAAAAAAAAAAACAAAAAAAAAAAAAAAAAAAAAAAgAAAAAAAAAAAAAAAAAAAAAAAAAAAANuTYAAAAAAAAAAAAAAAAAACAAAoAAAAAAAAAAiAAACgAAAAAAKAAAAAAAAAAAAAAAACgAAAAAAAAAAAAAAAACAoCgACAAAAAAAAAAAACgCgAAAAAICggAAAgAAooAAoAAgCAAgJQSgzQQEAAAUUARQUAAAEBAQEBAAAQAAAAAUBAAAQAAAAAFAAAABAAAAAAAAAAUAAARQAVRQUFVFBQAVQAAAAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAG3JsAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABAAAAAAAUAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAEAAAUAUEAAAAAAAAAAAAAFFAAAAAAQFABAAABAABRQBQAABAEABASglBKDIAIAAoAoigAAoIACAgIACAAgAAoAAACAAAgAAAAAAAAAAAAAAAAAAAKAAAAIoAKooKCqigoAKoAAAAAAAAAAAAAAgAAAAAAAAAAAAAAAAAAAAAAAIAAAAAAAAAAAAAAAAAAAAAAAAAADbk2AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAgAAAAAAKAAAAAAAAAAAAAACgAAAAAAAAAAAAAACAAAAKAAAAAAAAAAAAAAoAAoAAAAAAAACAAACAAKoACgAAACIACAlBKCAgICAAAKAigAoAAIACAgAIACAACgAIAAAAACAAAAAAAAAAAAAAAAAAoAAAAAigAqigoKqKCgoCgAAAAAAAAAAAAAACAAAAAAAAAAAAAAAAAAAAAAAAgAAAAAAAAAAAAAAAAAAAAAAAAANuTYAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAACAAAAAAAoAAAAAAAAAAAAAAKAAAAAAAAAAAAAAICggAACgAAAAAAAAAAAAAKAAKAAAAAAAAAgAAAgAACqAoAAAAgCAgJQSggICAgAACgAIoAAAAAIACAgAIACCgAAAAAAAIAAAAAAAAAAAAAAAAACgAAAACKCgKKCgqooKCgKAAAAAAAAAAAAAAAIAAAAAAAAAAAAAAAAAAAAAAAACAAAAAAAAAAAAAAAAAAAAAAAAA05NqAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAACAAAAAAoAAAAAAAAAAAAAKAAAAAAAAAAAAAAAIAAAAAoAAAAAAAAAAAACgACgAAAAAAAAAIAAAIAKKAAKAAAIAAgICAgICAgIAACAqgIAoAAAAIACAgAIAKgAAAAAAAAAIAAAAAAAAAAAAAAACgAAAAAogCgKKCgqooKCgKAAAAAAAAAAAAAAAAIAAAAAAAAAAAAAAAAAAAAAAAACAAAAAAAAAAAAAAAAAAAAAAAA05NgKAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAACAAAAoAAAAAAAAAAAAAAKAAAAAAAAAAAAAAIAAAAAAoAAAAAAAAAAACgAACgAAAAAAIACggCggKgAAgqqAAAAIAAgICAgICAgIAAAAoCAKAAAAACAAgICAACoAAAAAAAAACAAAAAAAAAAAAAAAoAAAAAKIAoCigoKqKCgoCgAAAAAAAAAAAAAAACAAAAAAAAAAAAAAAAAAAAAAAAAAgAAAAAAAAAAAAAAAAAAAAAANOTYAAAAACgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAoAAAAAAAAAAAAAgAAAAACgAAAAAAAAKAAAAAAKAAAAAAAAgAKCAKCAoCKAAKAAAAAIAgICAgICAgAIAAAoACKAAAAAACAgAICACgIAAAAAAAAACAAAAAAAAAAAAAAoAAAAAKIAoCigoKqKCgAoCgAAAAAAAAAAAAAAACAAAAAAAAAAAAAAAAAAAAAAAAAAgAAAAAAAAAAAAAAAAAAAAANOTYAAAAAAACgAAAAAAAAAAAAAAAAAAAAAgAAKAAAAAAAAAAAAAAAAAAAAAAICgAKAAAAAAAAAAAAAIAAAAAAoAAAAAAAAACgAAACgAAAAAAAAICgAgCggKAigACgAAAACAICAgICAgIAACAAKAKIAAoAAIACAAgIACAAAAgoAAAAAACAAAAAAAAAAAAAAAoAAAAKIAoCigoKooigAoCgAAAAAAAAAAAAAAACAAAAAAAAAAAAAAAAAAAAAAAAAAgAAAAAAAAAAAAAAAAAAAAANOTYAAAAAAACgAAAAAAAAAAAAAAAAAAAAAgACgAACgAIAAAAAAAAAAAAAAAAgAAAKoAAAAAAAAAAAgAAAAAAACgAAAAAAKAAAAAAKAAAAAAAAAAAAgCggKAgAACigAAAACAICAgICAgAIAACAqgAIoAAAAAIACAgAIACAAAACoAAAAACAAAAAAAAAAAAAAAoAAAAKIAoCigoKoogCgoCgAAAAAAAAAAAAAAACAAAAAAAAAAAAAAAAAAAAAAAAAAAgAAAAAAAAAAAAAAAAAAAANOTYAAAAAAAACgAAAAAAAAAAAAAAAAAAAgACgAAAACgAIAAAAAAAAAAAAAAgAKCAqgAAAAAAAAAACAAAIACgAAAoAAAAAACgAAAACgAAAAAAAAAAAIAAoIACoAAoAoAAAAAgCAgICAgIACAAAAKAKIAAoAIAACAAgIACAAgAAAAIKAAAAgAAAAAAAAAAAAAAKAAAACiAKAooKCqAigoKAoAAAAAAAAAAAAAAAAgAAAAAAAAAAAAAAAAAAAAAAAAAAAIAAAAAAAAAAAAAAAAAAADTk2AAAAAAAAAoAAAAAAAAAAAAAAAAAAAIAAoAAAAAAoCAAAAAAAAAAAAAAAAAAIooAAAAAAAAAIAAAAgAKAACgAAAAAAKAAAAAKAAAAAAAAAAAAAAAgCgiCgAACigAICgAIAgICAgICAAgAAAKoAogAAAAoAgCCAAgICAAAgAAAIKAAAAgAAAAAAAAAAAAAAKAAACgCKACqAKCqAigoAKoAAAAAAAAAAAAAAAAgAAAAAAAAAAAAAAAAAAAAAAAAAAAIAAAAAAAAAAAAAAAAAAADTk2AAAAgCigIAKAAAAAAAAAAAAAAAAAACACAACgKAAAAoCAAAAAAAAAAAAAAAICgAKAAAACggAAAAgAACAAAoAAKAAAAAAAoAAAAAoAAAAAAAAAAAAAAoAgCIKCAooAoAAAAAgCAgICAgIAACAAoCigCKAAoAgAAIAggICAAgAAIAACACgAIAAAAAAAAAAAAAAACgAAAoAigKKCgAqgIoKACqAAAAAAAAAAAAAAAAAIAAAAAAAAAAAAAAAAAAAAAAAAAAACAAAAAAAAAAAAAAAAAAA/9k=",skyBoxBack:"data:image/jpeg;base64,/9j/4AAQSkZJRgABAQEAYABgAAD/2wBDAFA3PEY8MlBGQUZaVVBfeMiCeG5uePWvuZHI////////////////////////////////////////////////////2wBDAVVaWnhpeOuCguv/////////////////////////////////////////////////////////////////////////wAARCAgACAADAREAAhEBAxEB/8QAGAABAQEBAQAAAAAAAAAAAAAAAAECAwT/xAAUEAEAAAAAAAAAAAAAAAAAAAAA/8QAFgEBAQEAAAAAAAAAAAAAAAAAAAEC/8QAFBEBAAAAAAAAAAAAAAAAAAAAAP/aAAwDAQACEQMRAD8AMqAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAgAAAAAAAAAAAAAAAAAAAAAAAKACAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAgAAKAAAAAAAAAAACAAAAAAAAAAAAAAAAAoAAAAAAAAAAAIAAACAAAAAAAoAAAAAAAAAAAAKAAAACggAAAAAAAAAAKAAAACAAAAoAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAIAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAACAAAAAAAAAAAAAAAAAoAAAAAAAAAAIAAACAAAAAAAAoAAAAAAAAAAAAKAAAACggAAAAAAAAAAAKAACAAAAAoAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAIAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAACAAAAAAAAAAAAAAAAAAoAAAAAAAAIAAAACAAAAAAAoAAAAAAAAAAAAAKAAACgAgAAAAAAAAAAAKACAAAAAAoAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAIAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAACAAAAAAAAAAAAAAAAAAAoAAAAIAAAAAACAAAAAAAoAAAAAAAAAAAAAAKAAACgAgAAAAAAAAAAAAAAAAAAAKAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAACAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAIAAAAAACgAAAAAAAAAAAAAoAAAAKCAAAAAAAAAAAAAAAAAAAAAoAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAIAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAACAAAAoAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAIAAAAAAAAAAAAAAAAAAAAAAAAAAAAAACAAAAoAAAAAAAAAAAAAAKAAAAACggAAAAAAAAAAAAAAAAAAAAKAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAACAAAAAAAAAAAAAAAAoAAAAIAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAACAAAAAAoAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAIAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAACgAAAAAAAAAAAAAAAAAAAAAAAAAAAAoAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAIAAAAAAAAAAAAAACgAAAAgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAIAAAAACgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAgAAAAAAAAAAIACgAAAAAAAAAAAAAAAAAAAAAAAAoAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAKAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAACAAAAAAAAAAAAAAAoAAAIAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAACAAAAoAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAIAAAAAAAACAAAAAoAAAAAAAAAAAAAAAAAAAAAKAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAACgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAgAAAAAAAAAAAAAKAAACAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAgAAAAAAIAAAAAACgAAAoAAAIAAAAAAAAAAACgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAoAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAIAAAAAAAAAACgAAgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAIAAAAACAAAAAAAAoAAAKAAAAAACAAAAAAAoAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAKAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAACAAAAoAAAAAAAIAAAAAACgAAgAAAAAAAAAAAAAAAAAIAAAAAAAAAAAACgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAgAAAAIAAAAAAAACgAAAoAAAAAAIAAAACgAAAAAAAAAAAAAAAAAgAAAAKAAAAAAAAAAAAAAAAAAACgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAgAAAAAKAAAAAAACAAAAAoAAIAAAAAAAAAAAAAAAACAAAAAAAAAAAAAAoAAAAAAAAAAAAAIACgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAgAAAIAAAAAAACgAAAoAAAAAAAAIAAACgAAAAAAAAAAAAAAAAgAAAAAKAAAAAAAAAAAAAAAAAACgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAgAAAAAAKAAAAAAAAACAoAAAAIAAAAAAAAAAAAAAAACAAAAAAAAAAAAAAoAAAAAAAAAAAAIAAACgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAgAAAAAIAAACgAAAAAoAAAAAAAIAAACgAAAAAAAAAAAAAAAAAgAAAAAAKAAAAAAAAAAAAAAAAAACgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAgAAAAAAAKAAAAAAAAAAAAAACAAAAAAAAAAAAAAAAAgAAAAAAAAAAAAAKAAAAAAAAAAAACAAAAAoAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAIAAAAAAAAAAAAACgAAAAAAAAgAAAKAAAAAAAAACgAgAAAAIAAAAAAACgAAAAAAAAAAAAAAAAAAAoAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAIAAAAAAAACgAAAAAAAAAAAAAAgAAAAAAAAAAAAAAAAIAAAAAAAAAAACgAAAAAAAAAAAAAgAAAAAKAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAACAAAAAAAAAAAAAoAAAAAAAAAIAAACgAAAAAAAAAAAAAAAAgAAAAAAAKAAAAAAAAAAAAAAAAAAACgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAgAAAAAAAAKAAAAAAAAAAAAAAACAAAAAAAAAAAAAAAAAAAAAAAgAAKAAAAAAAAAAAAAAACAAAAAAoAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAIAAAACgAAAAAAAAAAAAAAgAAAKAAAAAAAAAAAAAAAACAAAAAAAAAoAAAAAAAAAAAAAAAAAAAKAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAACAAAAAAAAAAoAAAAAAAAAAAAAAAIAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAACAAAAAAoAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAIACgAAAAAAAAAAAAAAAAAgAAAAAAAAKAAAAAAAAAAAAAAAAAAACgAAoAIAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAACAAAAAAAAAAoAAAAAAAAAAAAAAAIAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAACAAAAAAoAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAIAAAAAAAACgAAAAAAAAAAAAAAAAAAAAoAAKACAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAgAAAAAAAAAAKAAAAAAAAAAAAAAACAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAgAAAAAKAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAACAAAAAAAAAAoAAAAAAAAAAAAAAAAAAAAKAACgAgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAIAAAAAAAAAAACgAAAAAAAAAAAAAAgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAIAAAACgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAgAAAAAAAAAKAAAAAAAAAAAAAAAAAAAAACgAAoIAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAACAAAAAAAAAAAAoAAAAAAAAAAAAAAIAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAACAAAAAAAAAoAAAAAAAAAAAAAAAAAAAAAAAAKAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAACAAAAAAAAAAAAAAoAAAAAAAAAAAAAAIAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAACAAAAAAAAoAAAAAAAAAAAAAAAAAAAAAAAAAAKAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAACAAAAAAAAAAAAAAAAoAAAAAAAAAAAAAIAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAACAAAAAAAoAAAAAAAAAAAAAAAAAAAAAAAAAAAAKAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAACAAAAAAAAAAAAAAAAAAAAAAoAAAAAAAAAIAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAACAAAAAAoAAAAAAAAAAAAAAAAAAAAAAAAAAAAAKAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAACAAAAAAAAAAAAAAAAAAAAAAAoAAAAAAAIAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAACAAoAAAAAAAAAAAAAIAAAAACgAAAAAAAAAAAoAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAIACgAAAAAAAAAAAAgAAAAAAAAAAAAAAAAAAAAAAKAAAAAAAACAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAoAIAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAACAAAAAAAoAAAAAAAAAAAKAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAACAAAAAAAAAAAAAAAAAAAAAAAoAAAAAAAIAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAACgAAAgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAKCAAAAAAAgAAAAAAKAAAAAAAAAACgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAgAAAAAAAAAAAAAAAAAAAAKAAAAAAACAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAoAAAAAIAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAACAAAAAAoAAAAAAAAAKAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAACAoAAAAAAAAAAIAAAAAAAAAAAAAAAAAACgAAAAAAAAAgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAIACgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAoAAAAAIAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAACAAoAAAAAAAKAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAACAAAAAoAAAAAAAAAIAAAAAAAAAAAAAAAACgAAAAAAAAAgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAKAAAAAAAAACAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAoAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAIAAAAAACgAAAAAAAAAAAgAAAKACAAAAAAAoAAAAAAAAAAIAAAAAAAAAAAAAAAAAAACggAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAKAAAAAAAAAAAAAACAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAoAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAIAAAAAAACgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAgAAAAAAAAAAAAAAAAAAAKAACAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAgAAKAAAAAAAAAAAAAAAAAAACgAAAAAAAAAAAAAAgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAKAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAACAAAAAAAAoAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAIAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAACAAAAAAAAoAAAAAAAAAAAAAAAAAAKAAACAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAoAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAIAAAAACgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAIAAAAAAAAACgAAAAAAAAAAAAAAAAAoAAIAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAACgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAgAAKAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAACAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAgAAAAAAAAAAKAAAAAAAAAAAAAAAAACgAgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAKAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAACAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAgAAAAAAAAAAAKAAAAAAAAAAAAAAAAACgAgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAKAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAACAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAgAAAAAAAAAAAAAKAAAAAAAAAAAAAAAACgAAgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAKAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAACAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAgAAAAAAAAAAAAAAAKAAAAAAAAAAAAAAAACgAgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAKAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAACAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAgAAAAAAAAAAAAAAAAAKAAAAAAAAAAAAAACgAgAAAAAAAIACgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAoAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAIAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAACAAAAAAAAAAAAAAAAAAAoAAAAAAAAAAAAAAAAAAAAAAIAAACgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAoAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAIAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAACAAAAAAAAAAAAAAAAAAAoAAAAAAAAAAAAAAAAAAAAAAIAACgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAoAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAIAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAACAAAAAAAAAAoAAAAIAACgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAoAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAIAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAACgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAKAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAACAAAAAAAAAAAAAAAAAAAAAAAAAgAAKAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAACgAgAAAAAAAAAAAAKAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAACAAAAAAAAAAAAAAAAAAAAAAAAAgAAKAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAACgAAAAgAAAAAAAAAAAKAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAACAAAAAAAoAAAAAAAAAAAAAAAAAAIAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAACgAAAAAAAgAAAAAAAAKAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAACAAAAAAAAAAAoAAAAAAAAAIAAAAACgAAAgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAKAAAACAAAAAAAAAAAAAAAoAAAIAAAAAAACgAAAAAAAAAAgAAAAAAKAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAACAAAAAAAAAAAAAoAAAAAAAAIAAAAAACgAAAAgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAKAAAAAAAAACAAAAAAAAAAAAAAAAAAAAAAAAoAAAAIAAAAAAAAAAAAACgAAAAgAAAAAAKAAAAAAAAAAAACAAAAoAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAIAAAAAAAAAAAAACgAAAAAAAAgAAAAAAKAAAAACAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAoAAAAAAAAAIAAAAAAAAAAAAAAAAAAAAAAAACgAAAAgAAAAAAAAAAAKAAAAAACAAAAAAoAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAIAAAAAAAAAAAAACgAAAAAAAAAgAAAAAAKAAAAAACAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAoAAAAAAAAIAAAAAAAAAAAAAAAAAAAAAAAAACgAAAAgAAAAAAAKAAAAAACAAAAAAAAoAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAIAAAAAAAAAAAACgAAAAAAAAAgAAAAAAAKAAAAAAAAAAAAAACAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAoAAAAAAIAAAAAAAAAAAAAAAAAAAAAAAAAACgAAAAgAAAAAAKAAAAAACAAAAAAAoAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAIAAAAAAAAAACgAAAAAAAAAAAAgAAAAAKAAAAAAAAAAAAAAAAAACAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAoAAAAAAIAAAAAAAAAAAAAAAAAAAAAAAAAACgAAAgAAAAAAAKAAAAAACAAAAAAoAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAIAAAAAAAAACgAAAAAAAAAAAAAAgAAAKAAAAAAAAAAAAAAAAAAAAAAAAAAAAACAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAoAAAAIAAAAAAAAAAAAAAAAAAAAAAAAAAAACgAAgAAAAAAKAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAACAAAAAAAoAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAIAAAAAAAAAAAACgAAgAAAAAAAAAAAAAKAAAAACAAAAAAAAAAAAAAAAAAAAAAAAAAAAAoAAIAAAAACgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAgAAKAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAACAAAAAAAAAAAoAAAIAAAAAAAAAAAAACgAAAAgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAKAAAACAoAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAIAAAAAAAAAAAAAAAAAAAAAAAAAAACgAAAgAAAAAAAAAAAAAKAAAACAAAAAAAAAAAoAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAIAAAAAAAAAAAAAAAAAAAAAAAAACgAAAgAAAAAAAAAAAAKAAAAAACAAAAAAAAAoAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAIAAAAAAAAAAAAAAAAAAAAACgAAgAAAAAAAAAAAAAKAAAAAAACAAAAAAAoAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAIAAAAAAAAAAAAAAAAAAAAAACgAgAAAAAAAAAAAAAKAAAAAAAACAAAAAAoAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAIAAAAAAAAAAAAAAAAAAAAACgAAgAAAAAAAAAAAAAKAAAAAAAAACAAAAoAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAICgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAgAAAAAAAAAAAAAAAAAAAAKAAACAAAAAAAAAAAAAoAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAIAAAAACgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAgAKAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAACAAAAAAAAAAAAAAAAAoAAAAAAAIAAAAAAAAAAACgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAgAAAAAAAAAAKAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAACAAoAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAIAAAAAAAAAAAAAAACgAAAAAAAAAgAAAAAAAAAKAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAACAAAAAAAAAAAAAAoAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAIACgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAgAAAAAAAAAAAAAAAKAAAAAAAAAACAAAAAAAAoAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAIAAAAAAAAAAAAAACgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAgAKAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAACAAAAAAAAAAAAAAAAoAAAAAAAAAAAIAAAAACgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAgAAAAAAAAAAAAAAAKAAAAAAAAAAAAAAAAAAAAAAAAAAAAAACAAoAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAIAAAAAAAAAAAAAAAACgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAgAAKAAAAAAAAAACAAAAAAAAAAAAAAAAAAoAAAAAAAAAAAAAAAAAAAAAAAAAAAAAIAACgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAgAAKAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAACAAAAAAAAAAAAAAAAAAoAAAAAAAAAAAAAAAAIAACgAAAAAAAAAAAAAAAAAAAAAAgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAKAAAAAAAAAAAAAAAAAAAACAAAAAAAoIAAAAACgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAgAAAAAAACgAAAAgoAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAIAAAAAAAAAAAAAAAAAAAAACgAAAAAAAAAgAAAAAAAAKAAAAAAAAAAAAAAAAAACAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAoAAAAAAAAAAAAAAAAIAAAAAAAAAAAAAAAAACgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAgAAACgAAAAAAAAAAAAAAgAAAAAoAAAAAAAAAAAAAAAAAAAAAAAAAAAAIAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAACgAAAgAAAAAAAAAAAAAAAAACggAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAKKgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAgAACgAAAAAAAAAAAAAAAAAAAgKCACgAAAAAAAAAAAAAAAAAAAAAAAgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAACgAAAAAAgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAKAKgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAgAACggKAAAAAAAAAAAAAAAAAAAAACAoIAAAKAACAAAAAAAAAoAAAAIAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAoAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAIAAAAAAAAAAACgAAAAAAAAAACoAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAIAAAAoAAAAAAAAAAAAAAAAAAAAAAAAAAIAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAACgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAgAAAKCAoAAAAAAAAAAAAAAqAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAACAAAAAAAAKAAAAAAAAAAAAAAAAAAAAAAAAAAAAAACAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAoAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAqAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAACAAAAAAAAAKAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAACAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAoIAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAACgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAACoAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAIAAAAAAAAAAAAoAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAIAAAAACgAAAAAAAAAAAgAAAAAAAKAAAAAAAAAAACAAAAAAAAAAoIAAAACgAAAAgAKAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAKgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAgAAAKAAAAACAAAAAAKAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAIAAAAAACgAAAAAAAAAAAAAAAAAAAAAAAAAAgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAACAAAoAAAoAAAAAAAAAAAAAAAAAIAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAACgAAAAAAAAAAAAAAgAAKAAAAAAAAAAAAAAgAAAAAAAAAAAAAAAAAAKAACAAAAoAAAAIAAACgAAAAAAAgKACAoAAAAAAAAAAAAAAAgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAKAAAAAAAAAgAAKAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAIAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAACgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAKAAAAAAAAAAAACAAAAAAAAAAAAAAAAAAAAAAoAAAAAIAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAACAoAIACgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAgAAAAAAAAAKAAACAAAAAAAAoIACgAAAAAAAAAAAAAgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAKACAoAAAAIAAAAAAAAAAAACgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAKAAAAAACAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAoAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAIICggAAAAAAAAKAAAAAAAAAAACAAAAAAAAAoAAAAIooAAAAAACAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAACAoAAAAAAAAAAAAAAAAAAICggAAAAAAAAAAAAAAAACgAACgAAiAAAAAAAAAAAAAAAAAAAAoAAAAAoAIAAAAAAAACgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAgAKAAAAAAAAAAAAACAAAAAAAAAAAAAAAAAAAAAAIAAAKAACAAKAAAAAAAACAAAoAAAAAAAAAAAAAAAAAoAAAAAAAAAAAAAAAAAAAAAAAAAAAACAAAAAAoAAAAAIAAAIAAAAAAAAAAAAAAAAAAAAoIAAAAAAAACgAAgAAAAAAAAAAAAAAAAAAKAAAAAAAAACAAAAAAAAAAAAAAAAAAAAAAAoAAAAAAAAAAAAoAAAIAAAAAAAAAAAAAAAAAAAAAAAAAoAAAAAAAAAAAAIAAAAAAAAAAAAAAAAAAAAAAAAAAAoICggAAAAAAAAAKAACAAAAAAAAAAAAAAAoICgAAAAAAAAAgAKAAAAAAACAoAICggKCAAAAAAoAAAAAAAAAAAIAAAAAAAAAAAAAIAAAAoAAAoAAAACAoIAAAAAAAAAAACgAAAACAAAAAAAAAAAAoAAAAAAAAAAAAAAIAAAAAAAAAAAAAAAAAAAAAACgAAAAAAAAAAIAAAAAKAAAAAAAAAAAAACAAAAAAoAAAAAAAACgAAAAAAAAAAAAAACAAAAAoAAAAAAIAAAAAAAAAAAAAAAAAAAAAAAAACggAAAAAAAAAAAKAAAAAAACAAAAAAAAAAAAAAoAAAAAICgAAAAAAAAAAgAAAAAAAKAACAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAgAAAAAAAAAAAAAAAAAAAAKAAAAAAAAAAACoAAAAAAAAAAKAAAAAACAAKAAAAAAAKAAAAAAAACAAAAAAAAAAAAAAAAAAAAAAAAAAAAAgKAAAAAAAAAACAAAAoAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAKAAAACAAAAAAAAAAAAAAAAAAgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAIAAAAAAAAAAAAAAAAAAAAACgAAAAAAAAAAA0AAAAAAAAAAAACgAAAgAAAAAAAAAAAAAAAAAAAAIAAAAAAAAAAAAAAAAAAAACgAgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAKAAAAAAAAAAACAAAAAAAoAAAIAAAAAACAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAgAAAAAAAAAAAAAAAAAAAAAKAAAAAAAAAAAADYAIAACgAAAAAAAAAAAAAAAgAAAAAAAAKCAAAAAAAgAAAAAAAAAAAAAAAAAAAAKACAAAAAAACAAAAAAAoAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAACgAAAAAAAAAAAAAAAAAgAAKAAAAAACAAAAAAAAAgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAIAAAAAAAAAAAAAAAAAAAAAACgAAAAAAAAAoAANAAAAAAAAAAAoAAAAAAIAAACAAAAAAAAAAAAACIAAoAAIAAAAAAAAAAoAAAIAAAAAKAAAAAAAAAAAAAAAAAAAAAAAAAACAAAAAAKAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAoAAAAAAAAAAAAAAAIAACgAAAAAgAAAAAAAAIAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAACAAAAAAoAAAAAAIAAAAAAAAAAAAAAAAAAAAAAAACgAAAAAAAoAAAANAAAAAAAAAAAAoAAAAAIAACAAAAAAAAAAACIAoAAAAAgAAAAAAAAAAAAAAAKAAAAAACAAAAAAAAAoAAAAAAAAIAAAAAAAAAgAAAACqCAAAoAAAAAAIAAAAAAAAAAAAAACgAAAAAAAAoAAAAAAIAAAAAAAAAAAAAAAACAAAAAAAAAAAAAAAAAAAgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAIAAAAAAACgAAAAAoAAAAAAKAAAACgoAIAAAACgAAAAAAAAAAAgAAAAIIAAAoIAAAAoAAgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAACAAAAAAAAKAAAAAAAAAAgAAAAAAKAAAAAAAAAAAACgAAAAAAAAAAAAAAAAAAAAgAAAAAAAAAAAAAIAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAACAAAAoAAIAAAAAAAAAAAACgAAAAoAAAAAKAAAACgAAAAAAAAAAAAAAAAAAAAggAAAAAAoAAAAgAAAAAAAIAAAACgAAAAAAAAAAAAAAAAAgAAAAAAAAKAAAAAAACAAAAAAIAAAAAAAAAAAoAAAAAAAAAAAAAAAAAAAAAAAAAAAACgAAAAAAAAAAAAAAAAAAAAAAAAAgAAAAAAAAAAAAAAAAAAAAAAAAAICgAgKAACAAAAAAAAAoAAAAAAAIAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAACgAAAAoAAAAAAKAAAAIAAAAAAAAAAAAAAAAAAAgAAACgAAAAAAAAACAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAIAAAAAAIAAAAAAAAKAAAAAAAAAAAAAAAAAAAAAAAAoAAAAAAAAAKAAACAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAKAAAAACgAAAAAAAoIIAAAAAAAAAAAAAKACAAAoAAAAAAAAAAgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAIAgAAAAAAAAAAAAAAACgAAAAAAAAAAAAAAIAAACgAAAAAAAAAAAAAoAAAAAAAAAAAAAAAAAAAAAAIAAAAAAAAAAAAAAAAAAAAAIAAAAAAAACgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAKAAAAAAAACgAAAioAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAgAAAAAAAAACAAAAAAAAAAAAAAAAAAKgAAAAAAAAAAAAAAAAAAAAAKAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAIAAACggAKAAAAAAAAAAACAAAAAAAAAAAAAAAAAoAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAACgAAAAAAAAAKgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAACAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAIAAAAAAAAAAAAAAAIAAAAAAAKAAAAAAAAAACAAoAIoAAAAAAAAAAAAAAAAAoAAAAAAAIAAAAAAAAAAAAAAAAAACggAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAKAAAAACAAAAoAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAICggKCAAAKAAAAAAAoAAAAgKAAAAAAAAAAAAAAAAAAAAAAAAACAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAIAAAAAAAAAAAAAAAAAAIACgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAoAAAIoAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAIAAAAAAAAAAAAAAAAAAAACgAAAAAAAAAAAAAAAAAAAAAAAgKCAoAAAAAAAAAAAAAAAIAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAACgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAgAAAAAAAAAAKAAAACAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAACgAAigAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAACgAAAAAAAAAgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAACAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAACgAAAAAAigAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAACgAAAAAAAAAAAAAgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAACAAAAAAAAoAAAAIAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAKAAAAAAACKAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAKAAAAAAAAAAAAACAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAoAAAAACAAAAAACAAAAAoAAAAAAAAAAAAAIoAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAoAIAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAACgAAAAAAAAAAAAAAIAIAAACgAAAAAAAAAAAAigAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAACgAAAAAgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAKAAAAAAAAAAAAAAAAAAAAAAAAAAAAAgAKACCKAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAKAAAAAAAAAAAAACAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAoAAAAAAAAAAAAAIAAAAACgAAAAAAAAAAIAIoAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAoAAAAAAAAAAAAAAAIAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAACgAAgAAAAAAAAAAAAAAKAAAAAAAAAAAgigAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAACgAAAAAAAAAAAAAAgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAKAAAAAAACAAIACgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAIAAAAAAAACgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAKAAAAAAAAAAACAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAoAAAAIAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAICggAAAAAAAAAAAAAKAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAoAAAAAAAAIAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAACgAgAAAAAAAAAAAAAAAAAAAAAAgKAAAAAAAAAAAAAAACAoAAAIAACggAAAAAAAAAAAAAAAAAAAAAKACAAAAAAAAoAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAACgAgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAgAAAAAKAACAoIAAAAACgAAAgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAKAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAACAAAAAAAAAAAAAAAAAAAoAIAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAACgAAAAAAAgAKAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAACAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAoAAAAAAAAAAAAAIAACgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAKAACAAAAAAAAAAAoAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAIAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAACggAAAAAAAAAAAAAAAAAAAAAKAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAACAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAoIAAAAAAAAAAAAAAAAAAAAAAAAAAAACgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAKACAAAAAAAAAAAAAAoAIAAAAAAAAAAAAACgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAKAACAAAAAAAAAAAAAAoAAIAAAAAAAAAAAACgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAKAAAACAAoIAAAAAAAAAAAAAAAAAAAAAACgAAAAAgAAAAAAAAAAAAAAKCAAAAAAAAAAAAAAoAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAIAAAAAACgAAgAAAAAAAAAAAAAAAAAAAAKAAAACAAAAAAAAAAAAAAAAAAAAAoAAAAAAAAAAAAAAAAAAIAAACggAAAAAAAAKAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAACAAAoIACgKIgKAKggAAAAKAAAAAAAAAAAAAAACAAAAAAAoAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAIAAAAAAACgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAKAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAACAAAAAAAAAAAAAAAAAAAAAAAAAAAoAAAAAAAAAAAAAAAAgKAAAAAAAAAAAAAAAAAgAAAKAAAAAAAAAACAAAAAAAAoAAAAAAAAAAAAAAAAAAAAAIAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAIAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAACAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA0ACgAAgAAAKAAAAAAAAACAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAgAAAAAAAAAAAAAAAAAAAAAAAAKAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAACAAAAAAAAAAAAAAAAAAAAAAAAAAAAAoAAAAAAAAAAAAAAAAAAIAAAAAAAAAAAAAAAAAAAAAAAACAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAoAAAIAAAAAAAAAAAAAAAAAAAAAADoAAAAAAAAAAAAAAAAAAAAAAAAAAAACAAAAAAAAAAAAAAAAAgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAKAAAAAAAAAAAAAAAAACAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAgAAAAAAAAAAAAAAAAAAAAAAAIAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAACgAAAAAAAgAAAAAAAKAAACAAAAAAAAA6gAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAgAAAAAAAAAAAAAAIAAAAAAAAAAAAAAAAAAAAAAAAAAAAACgAAAAAAAAAAAAAAAAAAAgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAIAAAAACAAoICggAAAAAAAAAAAAAAAAAAAAAIAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAACgAAAAAAAgAAAAKAAAAAAACAAAAAAAA7AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAgAAAAAAAAAAAAIAAAAAAAAACAAAAAAAAoAAAAAAAAAAAAKAAAAAAAAAAAAAAAAAAACAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAgAAAIAAAAAAAAAAAACAAAAAAAAAAAAAAAAAAAgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAKAAAAAAAAAAACAoAAAAAAAAAIAAAAAAADuAAAAAAAAAAAAAAAAAAAAAAAAAAAAAACAAAAAAAAAAAAAAAgAAAAAAAIAAAAAAAAACgAAAAAAAAAAAoAAAAAAAAAAAAAAAAAAAIAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAACAAAAAgAAAAAAAAIAAAAAAAAAACAAAAAAAAAAAAAAAAgAAAAAAAAAAAAAAoACgACAAAAICgAAAAAAAAAAAAAAAAAAAAAAAAAAgAAAAAAO4AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAIAAAAAAAAACAAAAAAAAAAAoAAAAAAAAAAAAAAAAAAKAAAAAAAACAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAKCAAAoAIAAAAAAAAAAAAAAAAAAAIAAAAACAAAAAAAAgAAAAAAIAAAAAAAACAAAAAAAAAAAAAAAAgAAAAAAAAAoACgAAAACAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAIAAAAD0AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAgAAAAAAAAAAAAIAAAAAAAAAAAAAAACgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAgAAAAAAAAAAAAAAAAAAAACgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAgAAgAAAAAAAAIAAACAAAAAAAAgAAAAAAAAAAAAAAIAAAAAAAAACAAACgKAAAAAAAIAAAAAAoAAAAAAIAAAAAAAAAAAAAAAAAAAAACAA9AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAIAAAAAAAAAAAoICgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAACAAAAAIAAAAAAIAAAACAAAAAAAgAAAAAAAAAAAIAAAAAAAAAAACAAAAACgAAAAAAAAigAAAAAAAAAAAAAAAAgAAAAAKAAACAAAAAAAAAA7gAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAKAAAAAAAAgAAAAAAAAAAAACAAAAAAAAAAAAAoAAAAAAAAAAAAAAAAAAAAAAAAAIAAAAAAKAAAAAAAAAAAAAAAAAAAAAAAAAAACAAAAAoAICgAAAAAAAAAAAAAAAAAAAAAAAIAAAAgAAAAAAgAAAAAAIAAAAAACAAAAAAAAAAAAAAAAAgAAAIAAAKAAoAAAgAAACgAAAAAAAAAAAAgAAAAAAAAAAAAAAAAAAIAAD0AAAAAAAAAAAAAAAAAAAAAAAgAACgAAIAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAoAAAAAAACAAIAAAAAAAIAAAAACAAAAAAAAAAAAAAAAAAAgAAIAAAAAKAAACKAAAAACgAAAAAAAAAAAgAAAAAAAAAAAAAAAAIAAAADuAAAAAAAAAAAAAAAAAAAAAAAIAKoIgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAIAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAKAAAAAAgACAAAAAAACAAAAAAAAAAAAAAAAAAAgAAAIAAAAAAAAAACgAAAAoAAAAAAAAAAIAAAAAAAAAAAAAAAAACAAAAA7AAAAAAAAAAAAAAAAACAAAACgAAACAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAoACAAAAAAAAAAAAAIAAAAAAAAIAAAACAAAAAAAAAAAoAAAAAKAAAAAAAAACAAAAAAAAAAAAAAAAAgAAAAAOogAAAAAAAAAAAoAAAAAAAAAAAAAAgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAIAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAACAAAAAAACgAAAAAAAAAAAAAIgAAAAgAAKAAAAACgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAgAAAAAOioAAAAAAAAAAAAAAAAAAAAAAAgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAIAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAACACgAACCAAAAAAAoAAAAAAAKoAAAAAAAIAAIAAAAAAAAAAAAAAAAAAAAADaoAAAAAAAAAAAAAAAAgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAIAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAACACgAAAACAAoAAAAoAAAAAAAAAAAAAAAAAACAAAAAAAAAAAAAAAAADSoAAAAAAAgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAIAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAACACgAAAAKAAAAICggAKCAAAoAAAAAAAAAAAAAAAAAAAAAAAAAgAAqoAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAoAAAAAAAAAAAAAAAACiAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAIAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAKAAAAAAAAogAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAACAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAgKCAAAAAAAAAAAAAAAAAAAAAAAAAAAoAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAIAAAAAACgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAoAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAIAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAACAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAoAAAAAAAAAAAAAAAAAAAAAAAAAAIAAAAAAAAAAAAAAACgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAoAAAAAAAAAAAAAAAAAAAAAAAAAAAAAIAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAoAAAAAAAAAAAIAAAAAAAAIAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAACgAAAAAAAAAAAAAAAAAAAAAAAAgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAKAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAACgAAAAAAAAAAAAAAAAAAAAAAAAgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAACgAAAgAKAAAAAAAAAAAAIAAAAAAAAAAAgAKCAAAAAAAAoAAAAAIACgAgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAoAAAAAAAAAAAAAAAAAAAAAAIAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAACgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAoAAAAAAAAAAAAAAAAIAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAoAAAAAAAAAAgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAACAAAAAAAACgAAAAAAAAAAAAAAAAAAAAgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAKAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAACgAAAgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAACgAgKCAAAoAIAACgAAAAAAACAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAIAAAAAAAAAAAAAAAKAAAAAAAACAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAoAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAACgAAAAAAAAAACAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAgAAAAAAAAAAAAAAAAAAAAAAAAAKAAAgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAoAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAACggKAAAAAAAAAAIAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAACAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAoCAAAAAAAAAAAAAAAAAAAAAAAAAAAAAoAIAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAKAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAoAAAAAAAAAAgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAIAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAgAoAAAAAAAIAAAAAoAAAAAAAAAIAAAAAKAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAACgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAKAAAACAoAAAAAAAgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAIAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAgAAAAAAAAAAAoAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAKAAAAAAAAAAAAAAAAoAAAAAAAAAAAAAAAAAAgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAIAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAgAAAAAAAAAAAAAAAoAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAKAAAAAAAoAAAAAAAAAAAAAgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAIAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAACAAAAAoAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAACAAAAAAAAACgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAoCgAAAAACAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAIAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAACgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAIAAAAAAAAAAAAAKAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAoAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAIAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAACgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAIAAAAAAAAAAAAAAKAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAoAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAIAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAACgAAAAAAAAAAAAAAAAAAAAAAAAAAICgAgAAAAAAAAAAAAAAAoAAAAAAAAAAAAAAAAAAAAAAAAAAAAAACgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAACAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAKAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAgAAAAAAAAAAAAoAAAAAAAAAAAAAAAAAAAAAAAAACgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAACAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAKAAAAAAAAAAAAAAAAAAAAAAAAAgKAAAACAAAAAAAAAAACgAAAAAAAAAAAAAAAAAAAAKAAAAAAAAAAAAAAAAAAAAAAAAAAAAIAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAACAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAoAAAAAAAAAAAAAAAAAAAAAACAAAAAAAAAAAAAAACgAAAAAAAAAAAAAAAAKAAAAAAAAAAAAAAAAAAIAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAACAAAAAAAAAAAAAAAAAAAAAAAACAoAAIACgAAgKAAAAAAAAAAAAAAAAAAAAAAAAgAAAAAAAAAAAAAAKAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAACgAAAAAAAAAAAAAAAAAAAAAIAAAAAAAAAAAAAAAAKAAAAAAAAAAAAAoAAAAAAAAAAAgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAIAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAIAAAACggAAAKCAAoICgAAAAAAAAAIAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAACgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAoAAAAAAAAAAAAAAAAAACAAAAoIAAAAAAAAAAAAAAKAAAAAAAAAoAAAAAAgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAIAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAIAAAAAACggAAAAAAKCAAqAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAoAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAKAAAAAAAAAAAAAAAAAAAAAAgAKAACAAAAAAAAAAAACgAAAAigAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAACAAAAAAAAAAAAAAAAAAAACAAoAAAAAAAAAAAAAIAAAAAAAAAAAAgAAAAAAAoAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAACgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAoAAAAAAAAAAAAAAAAAAAAAAACAAAAAAAAAAAAACgigAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAACAAAAAAAAAAAAAAAAAAAAAAAAAACAoIACgAAAAAAAAAAgAAAAACAAAAAAAAAAAAAACggKAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAoAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAKAAAAAAAAAAAAAAAAAAAAAAAgAAAAAAAAAAAAKAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAIAAAAAAAAAAAAAAAAAAAAAAAAAAAAAIAAAAAACggAKAAAAAAgAAgAAAAAAAAAAAAAAAAAAAAKAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAoAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAKAAAAAAAAAAAAAAAAAAAAgAAAAAAAAAAKAAAAAAAAAAAAAAAAAAAAAAAAAIAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAICggAAAAAACAAAAACgAAAAgAAAAAAAAAKCAAoIAAAAACggKAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAoAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAKAAAAAAAAAAAAAAAAAAAAgAAAAAKAAAAAAAAAAAAAAAAAAAAIAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAICggAACAAAAAAAACggAAAKACAoAIAAAAAAAAACgAgKACAAoICgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAKAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAACgAAAAAAAAAAAAAAAAAIAAACgAAAAAAAAAAAAAAACAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAACAoIgAAAAAAAAAAAAAAAAoIACggAKCAAAAAAAoAAAAAAAAAAAAAAAAAAAAAAAAAACAAAAAAAAoAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAKAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAACgAAAAAAAAAAAAAAAAAAICgAAAAAAAAACAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAgAgAAAAAAAAAAAAAAAAAKCAAoIACggAAAAAAAKAAAAAAAAAAAAAAgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAKAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAACgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAoAAAAAAAAAAAAAAAAAAAAAAIAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAACAAAAAAACAAAAAAAAAAAAAAAAoAAAAICggAAAAAAAKCAoAAAAACAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAoAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAKAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAACgAAAAAAAAAgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAIAAAAAAAAAAAAIACggAKCAAAAAAoICgAAAAAgKACAAAAAAAAIKAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAoAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAKAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAACgAAAAAAAgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAIAAAAAAAAAAAAAAAAAAAAAAAICgAAAAAAAAAAAAAAAgCAAAAAACgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAKAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAACgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAoAAAAAIAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAACAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAgAAAAAAAgAKAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAoAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAKAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAACgAAAgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAIAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAACAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAoAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAKAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAACAAACAoAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAACAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAoAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAKAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAACAAAAAAAAAAACAoAAAAAAAAAAAAAAAAAAAAAAAAAAAAACAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAoAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAKAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAACAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAKAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAACgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAIAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAACAAAAAAAAAAAAAAAAAAAAAAAAAAAAoAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAKAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAACgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAIAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAACAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAoAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAKAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAACgAAAAAAAAAAAAAAAAAAAAAAAAgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAIAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAACAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAoAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAKAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAACgAAAAAAAAAAAAAAAAAAAAAAggKAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAIAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAACgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAoAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAKAAAAAAAAAAAAAAAAAAAAACACAoAICgAAAAAAAAAAAAAAAAAAAAAAAAAAAAIAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAACAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAoAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAKAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAACgAAAAAAAAAAAAAAAAAAAgAAAAAAgKAAAAAAAAAAAAAAAAAAAAAAAgAAAAAAAgKAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAKAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAACgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAoAAAAAAAAAAAAAAAIAAAAAICggKCAoAAAAAAAAAAAAAAAACAACAoAAIACggAAKAAAAAAAAAAAAAAAAAAAAAAAAAAAAAgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAKAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAACgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAoAAAAAAAAAAAIAAAAAAICgAAAAAAAAAAAAAAAIAAIAAAAAAAAAAAAACgAAAAAAAAAAAAAAAAAAIAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAACgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAoAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAKAAAAAAAAACAAAAAAACAoAAAAAAAAAACAAACAAAAAAAAAAAAAAAAAoAAAAAAAAAAAAACAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAoAAAAAAAAAAAAAAAAAAAAAAAAAAKAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAACgAAAAAAAgAAAAAAAAgKAAAAAAgAAAAAAAgAAAAAAAAAAAAAAAAKAAAAAAAAAAgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAKAAAAAAAAAAAAAAAAAAAAAAAAAACgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAoAAAAIAAAAAAAAAICgAAIAAAAAAAAIAAAAAAAAAAAAAAAACgAAAAAAAIAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAACgAAAAAAAAAAAAAAAAAAAAAAAAAAAoAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAKAACAAAAAAAAAAgAAAAAAAAAAAAgAAAAAAAAAAAAAAAKAAAAAAAgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAIAAAAAAAAAAAAAAAAAAAAAAAAAAAAACgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAoAAAAAAAAAAAAAAAAAAAAAAAAAAAAKAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAACggAAAAAAIAIACgAAAAAAAAAAAgAAAAAAAAKCAAoIACgAAAAIAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAACAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAoAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAKAAAAAAAAAAAAAAAAAAAAAAAAAAAAACgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAgAgAAAAKAAAAAAAAAACAAAAAAAAoAAAAAAAAAACAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAKAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAACgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAoAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAIAAAAAIAAAAACgAAAAAAAAAAgAAAAAKAAAAAAAAgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAIAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAACgAAAAAgAAAAAAAAAAAAAAAAAAKAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAACgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAoAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAIAAAAAAAIAACgAAAAAAAAAAAgAAAKAAAAAAAgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAIAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAACgAAAAAAAAAAAAAAgAAAAAAAAAAAAAAAKAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAACgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAoAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAIAAAAAAAAICgAAAAAAAAAAAgKCAAoAAAAACAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAKAAAAAAAAAAAAAAAAAAAACAAAAAAAAAAAAAAAAAAAAAAAAoAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAKAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAACgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAgAAAAAAAAAAAAAAAAAAAAAAAAAAAAIAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAACAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAoAAAAAAAAAAAAAAAAAAAAAAAAAAAIAAAAAAAAAAAAAAAAAAAAAACgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAoAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAKAAAAAAAAAAAAAAAAAAAAAAAAAAACAAAAAAAAAAAAAAAAAAAAAAAAAAgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAIAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAACgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAgAAAAAAAAAAAAAAAAKAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAACgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAoAAAAAAAAAAAAAAAAAAAAAAAAAIAAAAAAAAAAAAAAAAAAAAACAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAKAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAACAAAAAAAAAAAAAAAoAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAKAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAACgAAAAAAAAAAAAAAAAAAAAAgAAAAAAAAAAAAAAAAIAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAACAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAoAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAIAACggAAAKAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAACgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAoAAAAAAAAAAAAAAAAAIAAAAAAAAAAACAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAKAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAACAAAAAAoAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAKAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAACgAAAAAAAAAAAAAAAgAAAAAAAIAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAACAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAoAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAIAAAAAACgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAoAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAKAAAAAAAAAAAAACAAAAAgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAIACgAAAAAAAAAgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAKAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAACAAAAAAAAoAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAKAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAACgAAAAAAAAAAAAgAAIAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAACAAAAAoAAAAAIAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAACgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAgAAAAAAAKAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAACgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAoAAAAAAAAAAAAMgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAKAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAACAAAAAAAAAAAoAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAKAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAACgAAAAAAAAAAAyAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAACAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAoAAAAAAAAAAAAAAAAAAAAAAAAAAAIAAAAAAAAAAAACgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAoAAAAAAAAAAAAAAAAAAAAAAAAAAAAAKAAAAAAAAAAADIAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAIAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAACgAAAAAAAAAAAAAAAAAAAAAAAAgAAAAAAAAAAAAAKAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAACgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAoAAAAAAAAAAMgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAKAAAAAAAAAAAAAAAAAAAACAAAAAAAAAAAAAAAAoAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAKAAAAAAAAAAAAAAAAAAAAAAAAAAAAACgAAAAAAAAAyAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAACAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAgKAAACAAAoAAAAAAAAAAAAAAAAAAAAAAAAAAAAKAAAAAAAAAAAAACAAAAAAAAAAAAAAAAAAAAAoAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAKAAAAAAAAAAAAAAAAAAAAAAAAAAAAACgAAAAAAAAyAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAACAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAgAAAAAAAAAAAAAAAAAAAAAAKAAAAAAAAAAAAAAAAAAAAAAAAAACgAAAAAAAAAgAAAAAAAAAAAAAAAAAAAAAAAKAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAACgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAoAAAAAAAMgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAIAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAACgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAoAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAKAAAAAAAAAAAAAAAAAAAAAAAAAAAAACgAAAAAAyAAAAAAAAAAAAAAAAAAAAAAAACAAAAAAoAAAAAAAAAAAAAAAAAIAAAAAAAAAAAAAAAAAAAAAAAAAAAAACAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAoAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAKAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAACgAAAAAAAAAAAAAAAAAAAAAAAAAAAAoAAAAAMgAAAAAAAAAAAAAAAAAAAAgAAAAAAAAAKAAAAAAAAAAAAAAAACAAAAAAAAAAAAAAAAAAAAAAAAAAAAgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAKAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAACgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAoAAAAAAAAAAAAAAAAAAAAAAAAAAAAKAAAADIAAAAAAAAAAAAAAAIAAAAAAAAAAAAAAACgAAAAAAAAAAAAAAgAAAAAAAAAAAAAAAAAAAAAIAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAACgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAoAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAKAAAAAAAAAAAAAAAAAAAAAAAAAAAACgAAAyAAAAAAAAAAAAACAAAAAAAAAAAAAAAAAAoAAAAAAAAAAAAIAAAAAAAAAAAAAAAAAACAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAoAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAKAAAAAAAAAAAAAAAAAAAAAAAAAAAAACgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAoAAMgAAAAAAAAAAAgAAAAAAAAAAAAAAAAAAAKAAAAAAAAAAACAAAAAAAAAAAAAAAAAAgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAKAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAACgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAoAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAKDIAAAAAAAAIAAAAAAAAAAAAAAAAAAAAAACgAAAAAAAAAgAAAAAAAAAAAAAAAAAIAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAACgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAoAAAAAAAAAAAAAAAAAAAAAAAAAAAAKAAAAAAAAAAAAAAAAAAAAAAAAAAAAAACAAAAAAgAAAAAAAAAAAAAAAAAAAAAAAAAKAAAAAAAACAAAAAAAAAAAAAAAAAgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAKAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAACgAAAAAAAAAAAAAAAAAAAAAAAAAAAoAAAAAAAAAAAAAAAAAAAAAAAAAAAAAIAAACAAAAAAAAAAAAAAAAAAAAAAAAAAAAAoAAAAAIAAAAAAAAAAAAAAACAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAoAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAKAAAAAAAAAAAAAAAAAAAAAAAAAAACgAAAAAAAAAAAAAAAAAAAAAAAAAAAAgAAIAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAACAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAoAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAKAAAAAAAAAAAAAAAAAAAAAAAAAACgAAAAAAAAAAAAAAAAAAAAAAAAAAAyAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAACAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAoAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAKAAAAAAAAAAAAAAAAAAAAAAAAACgAAAAAAAAAAAAAAAAAAAAAAAAAAyAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAACAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAoAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAKAAAAAAAAAAAAAAAAAAAAAAAAACgAAAAAAAAAAAAAAAAAAAAAAAAAyAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAACAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAoAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAKAAAAAAAAAAAAAAAAAAAAAAAAACgAAAAAAAAAAAAAAAAAAAAAAAAyAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAACAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAoAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAKAAAAAAAAAAAAAAAAAAAAAAAAACgAAAAAAAAAAAAAAAAAAAAAAAyAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAACAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAoAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAKAAAAAAAAAAAAAAAAAAAAAAAACgAAAAAAAAAAAAAAAAAAAAAAAyAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAACAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAoAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAKAAAAAAAAAAAAAAAAAAAAAAAACgAAAAAAAAAAAAAAAAAAAAAAyAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAACAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAoAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAKAAAAAAAAAAAAAAAAAAAAAAAACgAAAAAAAAAAAAAAAAAAAAAyAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAACAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAoAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAKAAAAAAAAAAAAAAAAAAAAAAAAACgAAAAAAAAAAAAAAAAAAAyAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAACAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAoAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAKAAAAAAAAAAAAAAAAAAAAAAAAAACgAAAAAAAAAAAAAAAAAyAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAACAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAoAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAKAAAAAAAAAAAAAAAAAAAAAAAAAACgAAAAAAAAAAAAAAAyAAAAAAAAAAAAAAAAAAAAAAAAAAAAACAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAoAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAKAAAAAAAAAAAAAAAAAAAAAAAAAAACgAAAAAAAAAAAAAyAAAAAAAAAAAAAAAAAAAAAAAAAAACAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAoAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAKAAAAAAAAAAAAAAAAAAAAAAAAAAACgAAAAAAAAAAAAyAAAAAAAAAAAAAAAAAAAAAAAAACAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAoAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAKAAAAAAAAAAAAAAAAAAAAAAAAAAACgAAAAAAAAAAyAAAAAAAAAAAAAAAAAAAAACAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAoAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAKAAAAAAAAAAAAAAAAAAAAAAAAAAACgAAAAAAAAAyAAAAAAAAAAAAAAAACAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAoAAAAAAAAAAIAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAACgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAoAAAAAAAAAAAAAAAAAAAAAAAAAAAKAAAAAAAADIAAAAAAAAAAAAAAIAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAACAAAoAAAAAAAAAAAAAKAAAAAAAAgAAAAKAAAAAAIAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAACgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAoAAAAAAAAAAAAAAAAAAAAAAAAAAAKAAAAAAADIAAAAAAAAAAAAIAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAACAAAAAAoAAAAAAAAAAAAKAAAAAAgAAAAAAAAAAAAAKAAAAAAAAIAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAACgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAoAAAAAAAAAAAAAAAAAAAAAAAAAAAKAAAAAADIAAAAAAAAAAIAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAACAAAAAAAoAAAAAAAAAAAAKAAAAAAgAAAoAAAAAAAAAIAAAAAAAAoAAAAAAgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAKAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAACgAAAAAAAAAAAAAAAAAAAAAAAAAAAoAAAAAMgAAAAAAAAgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAICgAAAAAAAAAAAgAAAAAAAAAKAAAAAAAAAAAACgAAAAIAAAKAAAAAAAAAAAAAAAAAACAAAAAAKAAAIAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAACgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAoAAAAAAAAAAAAAAAAAAAAAAAAAAAKAAAADIAAAAAAIAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAACAAAAAAAAAAAAAoAAIAAAAAAAAAACgAAAAAAAAAAAAAoAAAACAAAACgAAACgAgAAAAAAAAAAAAAAACAAAKAAAAAIAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAACgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAoAAAAAAAAAAAAAAAAAAAAAAAAAAAKAAADIAAAAAIAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAACAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAoAAAAAAAAAAAAAAKAAAAAgAAAAoAAAoAAAICggAKCAAAAAAAAAAAAIAAAoAAAAgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAKAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAACgAAAAAAAAAAAAAAAAAAAAAAAAAAAoAAMgAAAgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAIAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAACgAAAAAAAAAAAAAAAoAAAACAAAACgACgAAAAAAAAgKCAqgCIAAAAAAAACAAAAKAAAIAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAACgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAoAAAAAAAAAAAAAAAAAAAAAAAAAAAKADIAIAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAACAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAoAAAAAAAAAAAAAAAAAKAAAAAgAAAAoAoAAAAAAAAACgAACAoAIgAAAAAAAIAAAoAAAgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAKAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAACgAAAAAAAAAAAAAAAAAAAAAAAAAAAoMAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAKAAAAAAAAAAAAAAAAAAAACgAAAIAAAAqgAAAAAAAAAAoAAgKAACAIAAAAAAAACAAKAAAIAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAACgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAoAAAAAAAAAAAAAAAAAAAAAAAAAAAMgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAKAAAAAAAAAAAAAAAAAAAAAACgAAIAAAoACgAAAAAAAAAoAAAAAAAAgACAAAAAAgAACgAACAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAoAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAKAAAAAAAAAAAAAAAAAAAAAAAAAADIAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAIAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAACgAAAAAAAAAAAAAAAAAAAAAAoAACAAAAKAAAoAAAAAAAAKAAAAAAAAAAAIgAAAAIAAAoAAAAgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAKAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAACgAAAAAAAAAAAAAAAAAAAAAAAAAyAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAACAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAoAAAAAAAAAAAAAAAAAAAAAAKAAAgAACgAAAKAAAAAAACgAAAAAAAAAAACIAAAACAAAKAAAAIAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAACgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAoAAAAAAAAAAAAAAAAAAAAAAAAAMgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAKAAAAAAAAAAAAAAAAAAAACgAAAIAAAoAACgAAAAAAAoAAAAAAAAAAAAIIAAAAAAgACgAAACAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAoAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAKAAAAAAAAAAAAAAAAAAAAAAAADIAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAIAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAACgAAAAAAAAAAAAAAAAAAAoAAACAAAKAAAoAAAAAKAAAAAAAAAAAAAAIgAAAAAAIAAoAAAAgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAKAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAACgAAAAAAAAAAAAAAAAAAAAAAAAyAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAACAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAoAAAAAAAAAAAAAAAAAAAKAAAAgAACgAKAAAAACgAAAAAAAAAAAAAAgAgAAAAACAKAAAAAIAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAACgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAoAAAAAAAAAAAAAAAAAAAAAAAAMgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAKAAAAAAAAAAAAAAAAAACgAAAIAAoACgAAAAoAAAAAAAAAAAAAAAAAIIAAAAAgACgAAACAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAoAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAKAAAAAAAAAAAAAAAAAAAAAAAADIAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAIAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAACgAAAAAAAAAAAAAAAAAoAAACAAKAAoAAAKAAAAAAAAAAAAAAAAAAACCAAAAAIoAAAAAgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAKAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAACgAAAAAAAAAAAAAAAAAAAAAAAAyAAAAAAAAAAAAAAAAAAAAAAAAAAAAAACAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAoAAAAAAAAAAAAAAAAKAAAgACgKAAAACgAAAAAAAAAAAAAAAAAAACIAAAACAKAAAAIAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAACgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAoAAAAAAAAAAAAAAAAAAAAAAAMgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAKAAAAAAAAAAAAAAACgAAIAoACgAAAoAAAAAAAAAAAAAAAAAAAAAgCAAAAgCgAAACAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAoAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAKAAAAAAAAAAAAAAAAAAAAAADIAAAAAAAAAAAAAAAAAAAAAAAAAAAAIAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAACgAAAAAAAAAAAAAAAoACAKAAoAAAAKAAAAAAAAAAAAAAAAAAAAAIAgAAAIAoAAAAgAAAKCAAAAAAAAAAAAAAAAAAAAAAAAAAAoAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAKAAAAAAAAAAAAAAAAAAAAAAD//2Q==",skyBoxFront:"data:image/jpeg;base64,/9j/4AAQSkZJRgABAQEAYABgAAD/2wBDAFA3PEY8MlBGQUZaVVBfeMiCeG5uePWvuZHI////////////////////////////////////////////////////2wBDAVVaWnhpeOuCguv/////////////////////////////////////////////////////////////////////////wAARCAgACAADAREAAhEBAxEB/8QAGQABAQEBAQEAAAAAAAAAAAAAAAECBAUD/8QAFhABAQEAAAAAAAAAAAAAAAAAABEB/8QAFgEBAQEAAAAAAAAAAAAAAAAAAAEC/8QAFBEBAAAAAAAAAAAAAAAAAAAAAP/aAAwDAQACEQMRAD8Aw2yAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAoAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAKAAAgAAAAAAAAAAAAAAAAAAAoAAAAAAAAAAAAAAAAAKAAAAAAKAAAAAAAoAAAAAAAAAAAAKAAAAAAAAAAACgAAAAAAAoCAAAAAACgAAAAAAAAAAAAAoAAAAAAAAAAAKAKAAAAAAAAoAAAAAAAAAAKAAAAAAAgAoAAAAAAAAAAAAAAAAAAAAACgAAAAADhaZAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAAQAAAAAAAAAAAAAAAAAAUAAAAAAAAAAAAAAAAAAFAAAAAAFAAAAAAAUAAAAAAAAAAAAFAAAAAAAAAAABQAAAAAAAVAAAAAAABQAAAAAAAAAAAAAUAAAAAAAAAAAFAFAAAAAAAAUAAAAAAAAAAAFAAAAAAQAAUAAAAAAAAAAAAAAAAAAABQAAAAAABwtMgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAKAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAACgAAIAAAAAAAAAAAAAAAAAAKAAAAAAAAAAAAAAAAAACgAAAAACgAAAAAAKAAAAAAAAAAAACgAAAAAAAAAAoAAAAAAAAKAgAAAAAAoAAAAAAAAAAAAAAKAAAAAAAAAAACgCgAAAAAAAKAAAAAAAAAACgAAAAAAIAAKAAAAAAAAAAAAAAAAAAAAoAAAgAAOJpkAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAABAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAUAAAAAAAAUAAAABQAAAAAAAAAAAAAAUAAAAAAAAAFAAAAAAAABQEAAAAAAFAAAAAAAAAAAAAABQAAAAAAAAAAAUAAUAAAAAABQAAAAAAAAAAUAAAAAAABAUEAFUAEAAAAEAAAAAABQAAFAEAAAAABxNMgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAKAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAACgAIAAAAAAAAAAAAAAAAAAAKAAAAAAAAAAAAAAAAACgAAAAAACggKAAAAoAAAAAAAAAAAAAAKAAAAAAAACgAAAAAAAAAoACAAAAACgAAAAAAAAAAAAAAoAAAAAAAAAAAAKAKAAAAAAAAoAAAAAAAAAKAAAAAAAAAAAAAAAAAAAAAAAAAAgAKAAAAAAAAOJpkAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAABAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAUAAAAAAAAUAAAABQAAAAAAAAAAAAAAUAAAAAAAAFAAAAAAAABQAAAEAAAAFAAAAAAAAAAAAAABQAAAAAAAAAAAAUAAAUAAAAABQAAAAAAAAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHE0yAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAoAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAKAAAAgAAAAAAAAAAAAAAAAoAAAAAAAAAAAAAAAAAAKAAAAAAAAAKAAAoAAAAAAAAAAAAAAAKAAAAAAACgAAAAAAAAAoAAACAAAAACgAAAAAAAAAAAAAoAAAAAAAAAAAAKAAAAKAAAAAAoAAAAAAAAKAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADiaZAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAQAAAAAAAAAAAAAAAAUAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAFAAUAAAAAAAAAAAAAAFAAAAAAABQAAAAAAAAAAUAAAABAAAABQAAAAAAAAAAAAAUAAAAAAAAAAAAFAAAAAFAAAAAUAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABxNMgAAAAAAAAAAAAAAAAAAAAAAAAAAAAKAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAACgAAAAIAAAAAAAAAAAAAAAKAAAAAAAAAAAAAAAAAAACgAAAAAAAAAAACgKAAAAAAAAAAAAAACgAAAAAAoAAAAAAAAAAAKAAAAAgAAAAAoAAAAAAAAAAAAKAAAAAAAAAAAACgAAAAAAACggKoAAAAAAAAKAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADiaZAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAQAAAAAAAAAAAAAAAAUAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAABRQAAAAAAAAAAAAAAFAAAAAABQAAAAAAAAAAUAAAAAABAAAAABQAAAAAAAAAAAUAAAAAAAAAAAAAFAAAAAAAAAAFUAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABxNMgAAAAAAAAAAAAAAAAAAAAAAAAAAKAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAACgAAAAIAAAAAAAAAAAAAAAAKAAAAAAAAAAAAAAAAAAACgAAAAAAAAAAAAAooICgAAAAAAAAAAAKAAAAAACgAAAAAAAAAAAoAAAAAAAACAoIAKAAAAAAAAAAACgAAAAAAAAAAAAAoAAAAAAAAAAKAKAAAAAAAoAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOJpkAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAABAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAUAAAAAAAAAAAAFAAAFAAAAAAAAAAAAUAAAAAAFAAAAAAAAAABQAAAAAAAAAAAAAEFAAAAAAAAAABQAAAAAAAAAAAAAUAAAAAAAAAAFAFAAAAAAAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHE0yAAAAAAAAAAAAAAAAAAAAAAAAAoAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAKAAAAAAgAAAAAAAAAAAAAAAoAAAAAAAAAAAAAAAAAAAAKAAAAAAAAAAAAACgACggKAAAAAAAAAAoAAAAAAAKAAAAAAAAAACgAAAAAAAAAAAAAAoCAAAAAAAAACgAAAAAAAAAAAAAoAAAAAAAAAAAKKAAAAAAAAAoAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOJpkAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAABAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAUAAAAAAAAAAAAAAFAAAAFAAAAAAAAAUAAAAAAAAFAAAAAAAAAABQAAAAAAAAAAAAAAUBAAAAAAAAAABQAAAAAAAAAAAAAUAAAAAAAAAAFAFAAAAAAAAABFAAAAAFAABAAUAAAAAAAAAAAAAAAAAAAABxNMgAAAAAAAAAAAAAAAAAKAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAACgAAAAIAAAAAAAAAAAAAAAAKAAAAAAAAAAAAAAAAAAACgAAAAAAAAAAAAAAAoAAAAAoAAAAAAACgAAAAAAAAoAAAAAAAAAAKAAAAAAAAAAAAAACgIAAAAAAAAAAKAAAAAAAAAAAAACgAAAAAAAAAAoAoAAAAAAAAIAAAAAAAoAAAAAAAAoAAAAAAAAAAAAAAAADiaZAAAAAAAAAAAAAAAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAQAAAAAAAAAAAAAAAUAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAABQAAAAABQAAAAAAFAAAAAAAAABQAAAAAAAAAAUAAAAAAAAAAAAAAFAQAAAAAAAAAAAUAAAAAAAAAAAAFAAAAAAAAAABRQAAAAAAAAQAAAAAAAAAABQAAABQAAAAAAAAAAAAAAAAAHE0yAAAoAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAKAAAAAAgAAAAAAAAAAAAAAoAAAAAAAAAAAAAAAAAAAKAAAAAAAAAAAAAAAACgAAAACgAAAAAAKAAAAAAAAAACgAAAAAAAAAAoAAAAAAAAAAAAAAKAgAAAAAAAAAAAAoAAAAAAAAAAAKAAAAAAAAAAACigAAAAAAgAAAAAAAAAAAAACgAAAAAAAAAACgAAgAAKACArjaZAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAABAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAUAAAAAAAAAAAAAAAAAFAAAAAFAAAAAAAUAAAAAAAAAAFAAAAAAAAAAABQAAAAAAAAAAAAAAUBAAAAAAAAAAAABQAAAAAAAAAAAUAAAAAAAAAAFAFAAABAAAAAAAAAAAAAAAAAFAAAAAAAAAAFABAAAAAAUEcbSAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAKAAAAAAAAAgAAAAAAAAAAAoAAAAAAAAAAAAAAAAAAAAKAAAAAAAAAAAAAAAACgAAAAACgAAAAAKAAAAAAAAAAACgAAAAAAAAAAAoAAAAAAAAAAAAAAKAgAAAAAAAAAAAAAoAAAAAAAAAAKAAAAAAAAAACgAAAAAAAAAAAAAAAAAAAAAAAoAAAAAAAAAAAAAAAAAAONpAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAQAAAAAAAAAAAUAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAABQAAAAABQAAAAAFAAAAAAAAAAABQAAAAAAAAAAAAUAAAAAAAAAAAAAFAQAAAAAAAAAAAAAUAAAAAAAAAAAFAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAHG0gAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAACgAAAAAAAAAAAIAAAAAAAAAKAAAAAAAAAAAAAAAAAAAACgAAAAAAAAAAAAAAAAoAAAAAAoAAAAAACgAAAAAAAAAAAoAAAAAAAAAAAAKAAAAAAAAAAAAACgIAAAAAAAAAAAAAKAAAAAAAAAAACgAAAAAAAAAAoAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAKAADjaQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAEAAAAAAAAAFAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAUAAAAAAUAAAAABQAAAAAAAAAAAAUAAAAAAAAAAAAAFAAAAAAAAAAAABQAEAAAAAAAAAAAAFAAAAAAAAAAABQAAAAAAAAAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFABxtIAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAoAAAAAAAAAAAACAAAAAAAAACgAAAAAAAAAAAAAAAAAAAAAoAAAAAAAAAAAAAAAKAAAAAAAKAAAAAAoAAAAAAAAAAAAKAAAAAAAAAAAAACgAAAAAAAAAAAAoAAACAAAAAAAAAACgAAAAAAAAAAAAoAAAAAAAAAAKAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADkaQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAEAAAAAAAAAFAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAUAAAAAAAUAAAAAABQAAAAAAAAAAAAUAAAAAAAAAAAAAFAAAAAAAAAAAAABQAAEAAAAAAAAAAFAAAAAAAAAAABQAAAAAAAAAAAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHI0gAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAACgAAAAAAAAAAAAAAIAAAAAAAAKAAAAAAAAAAAAAAAAAAAAACgAAAAAAAAAAAAAAAoAAAAAAAoAAAAAACgAAAAAAAAAAAAoAAAAAAAAAAAAAKAAAAAAAAAAAAACgAAIAAAAAAAAAAKAAAAAAAAAAAACgAAAAAAAAAAAAoAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAORpAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAQAAAAAAAAAUAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAABQAAAAAAAABQQFAAAUAAAAAAAAAAAAAFAAAAAAAAAAAAABQAAAAAAAAAAAAAAUAABAAAAAAAAABQAAAAAAAAAAAAUAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAByNIAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAoAAAAAAAAAAAAAAACAAAAAAAAAACgAAAAAAAAAAAAAAAAAAAAoAAAAAAAAAAAAAAKAAAAAAAAAAAAKAAAoAAAAAAAAAAAAAKAAAAAAAAAAAAACgAAAAAAAAAAAAAAoAAACAAAAAAAACgAAAAAAAAAAAAoAAAAAAAAAAAAAAAAAAKAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADkaQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAEAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAUAAAAAAAAAAAAAUBQAAAAAAAAAAAAAAUAAAAAAAAAAAAFAAAAAAAAAAAAAAAABQAAEAAAAAAAAAFAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHI0gAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAACgAAAAAAAAAAAAAAAAAIAAAAAAAAAAAKAAAAAAAAAAAAAAAAAAAACgAAAAAAAAAAAAAAoAAAAAAAAAAAAAAoCgAAAAAAAAAAAAAAoAAAAAAAAAAAAKAAAAAAAAAAAAAAAACgAAAIAAAAAAAAKAAAAAAAAAACgAAAAAAAAAAAAAAAAAAAAAAoAAAAAAAAAAAAAAAAAAAAAAAAAAAAAORpAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAQAAAAAAAAAAAUAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAABQAAAAAAAAAAAAAAAUUAAAAAAAAAAAAAABQAAAAAAAAAAAAUAAAAAAAAAAAAAAAAFAAAAAAQAAAAAAUAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAcjSAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAKAAAAAAAAAAAAAAAAgAAAAAAAAAAAoAAAAAAAAAAAAAAAAAAAAAKAAAAAAAAAAAAACgAAAAAAAAAAAAAAAAooAAAAAAAAAAAAAACgAAAAAAAAAAAoAAAAAAAAAAAAAAAAAKAAAAAAAgAAAAAAoAAAAAAAAAKAAAAAAAAAAAAAAAAAAAAAAACgAAAAAAAAAAAAAAAAAAAAAAAAAAAA5GkAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAAAAAAAAAAAABAUEAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAUAAAAAAAAAAAAAAAAFAFAAAAAAAAAAAAAAAUAAAAAAAAAAAFAAAAAAAAAAAAAAAAABQAAAAAAAEAAAAAFAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAHI0gAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAACgAAAAAAAAAAAAAAAAAIAAAAAAAAKAAAAAAAAAAAAAAAAAAAAAACgAAAAAAAAAAAoAAAAAAAAAAAAAAAAAKKCAoAAAAAAAAAAAAACgAAAAAAAAAAAoAAAAAAAAAAAAAAAAAKAAAAAAAAgAAAAAoAAAAAAAAAKAAAAAAAAAAAAAAAAAAAAAAACgAAAAAAAAAAAAAAAAAAAAAAAAAAAA5GkAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAAAAAAAAAAAAAAAAABAAAAAABQAAAAAAAAAAAAAAAAAAAAAUAAAAAAAAAAAAFAAAAAAAAAAAAAAAAABQABQAAAAAAAAAAAAAFAAAAAAAAAABQAAAAAAAAAAAAAAAAAAUAAAAAAAABAAABQAAAAAAAAAAAUAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAByNIAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAoAAAAAAAAAAAAAAAAAAAAACAAAAACgAAAAAAAAAAAAAAAAAAAAAoAAAAAAAAAAAAKAAAAAAAAAAAAAAAAAACgACgAAAAgKACAoAAAACgAAAAAAAAAAoAAAAAAAAAAAAAAAAAAKAAAAAAAAAgAAAoAAAAAAAAAAAKAAAAAAAAAAAAAAAAAAAAAAACgAAAAAAAAAAAAAAAAAAAAAAAAAAA5GkAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAAAAAAAAAAAAAAAAAAABAAAAABQAAAAAAAAAAAAAAAAAAAAAUAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAABQAABQQAAAAAAAFBAUABQAAAAAAAAAAUAAAAAAAAAAAAAAAAAAFAAAAAAAAAQAAAUAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAcjSAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAKAAAAAAAAAAAAAAAAAAAAAAAAAgAAAoAAAAAAAAAAAAAAAAAAAAAKAAAAAAAAAAAAACgAAAAAAAAAAAAAAAAAAoAAAAAAAAAAAAAoACgAAAAAAAAAAAoAAAAAAAAAAAAAAAAAAKAAAAAAAAAAgAAoAAAAAAAAAAAAKAAAAAAAAAAAAAAAAAAAAAAACgAAAAAAAAAAAAAAAAAAAAAAAAAA5GkAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAAAAAAAAAAAAAAAAAAAAAAABAABQAAAAAAAAAAAAAAAAAAAAUAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAABQAFAAAAAAAAAAABQAAAAAAAAAAAAAAAAAUAAAAAAAAAABAABQAAAAAAAAAAAAAUAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAByNIAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAoAAAAAAAAAAAAAAAAAAAAAAAAAAACAACgAAAAAAAAAAAAAAAAAAAoAAAAAAAAAAAAAAKAAAAAAAAAAAAAAAAAACgAAAAAAAAAAAAACgAKAAAAAAAAAAACgAAAAAAAAAAAAAAAAAoAAAAAAAAAACACgAAAAAAAAAAAAAAAAoAAAAAAAAAAAAAAAAAAAAAKAAAAAAAAAAAAAAAAAAAAAAAAADkaQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAEAAAFAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAUAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAFAAUAAAAAAAAAAAFAAAAAAAAAAAAAAAAABQAAAAAAAAAAAEFAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAUAAAAAAAAAAAAAAAAAAAAAAAAAHI0gAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAACgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAIAAAKAAAAAAAAAAAAAAAAACgAAAAAAAAAAAAAAAoAAAAAAAAAAAAAAAAAAAKAAAAAAAAAAAAAAAKoAAAAAAAAAAAAKAAAAAAAAAAAAAAAAACgAAAAAAAAAAAIKAAAAAAAAAAAAAAAAAACgAAAAAAAAAAAAAAAAAAAAAAAAAAoAAAAAAAAAAAAAAAAAAORpAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAQAAAAAAUAAAAAAAAAAAAAFAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAUAAAAAAAAAAAAAAAVQAAAAAAAAAAAAUAAAAAAAAAAAAAAAAAFAAAAAAAAAAAABQAEAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAcjSAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAKAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAgAAAAAAAAAoAAAAAAAAAAKAAAAAAAAAAAAAAAACgAAAAAAAAAAAAAAAAAAAAoAAAAAAAAAAAAAAKKAAAAAAAAAAAAAoAAAAAAAAAAAAAAAAKAAAAAAAAAAAAACgAIAAAAAAAAACggAKCAAAACgAAAAAAAAAAAAAAAAAAAAAAAAAAAoAAAAAAAAAAAAAAAORpAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAQAAAAAAAAAAAAUAAAAAAAAFAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAUAAAAAAAAAAAAAAVQAAAAAAAAAAAAAUAAAAAAAAAAAAAAAFAAAAAAAAAAAAAABQAAEAAAAAAAABQAQFABAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAAAAAAAAAAAHI0gAAAAAAAAAAAAAAAACgAgAAAAAAAAAKAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAgAAAAAAAgKAAAAACgAAAAAAoAAAAAAAAAAAAAAAAKAAAAAAAAAAAAAAAAAAAAACgAAAAAAAAAAAAAAooAAAAAAAAAAAACgAAAAAAAAAAAAAAoAAAAAAAAAAAAAAAKAAAgAAAAAAAAKAAAAACAAACgAAAAAAAAAAAAAAAAAAAAAAAAAAAAoAAAAAAAAAAAAAORpAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAQAAAAQAAAAAAAFAABQAAAAAUAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAUAUAAAAAAAAAAABQAAAAAAAAAAAAAAUAAAAAAAAAAAAAAAFAAAAAQAAAAAAAFAAAAABAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAAAAAAAAAHI0gAAAAAAAAAAAAACgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAIAAAIAAACACgAAKAAIoAKAAAACgAAAAAAAAAAAAAAoAAAAAAAAAAAAAAAAAAAAAAKAAAAAAAAAAAAAACigAAAAAAAAAAAAKAAAAAAAAAAAAAACgAAAAAAAAAAAAAAAoAAAACAAAAAoIAACgAAAAgAAAoAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAKAAAAAAAAAAADlaQAAAAABAAAAAAAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABAAABAAQAUBEAAAFAUAUFEAUAAAAFAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAUAAAAAAAAAAAAAAAFFAAAAAAAAAAABFFAAAAAAAAAAAAAAAUAAAAAAAAAAAAAAAFAAAAAQAAAAAAAAFAABAUEAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAcrSAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAKCAIAAIACACogAAgAAKACgKKCiAKAAACgAAAAAAAAAAAAoAAAAAAAAAAAAAAAAAAAAAAKAAAAAAAAAAAAAACgCgAAAAAAAAAgKAoAAAAAAAAAAAAAAAKAAAAAAAAAAAAAACgAAAAAAIACggAAAAKAACAoIAAAKAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAACgAAAAAAAAA5WkAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAEQAAAQAEFQBBAAAQAFABQUBRQUQBQAAAUAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAUUAAAAAAAAAAABQAAAAAAAAAAAAAAAAUAAAAAAAAAAAAAAFAAAAAAAAAAAQFABAAUAEBQQAAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAABytIAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAoACACAAAAgIAKiCAAgAAAAAKCgoCiiKACgAAoAAAAAAAAAAAKAAAAAAAAAAAAAAAAAAAAACgAAAAAAAAAAAAAAooAAAAAAAAAAAAIooAICgAAAAAAAAAAAAKAAAAAAAAAAAAAACgAAAAAAAAAAAAAAAICggKCAAACgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAoAAAAAAAOVpAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAQAAQAAAEBBUAQQEABAEAAFAUUFBQVQEUAFAABQAAAAAAAAAAUAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAFUQFAAAAAAAAAAAAUAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAEBQQAAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAABytIAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAoCAAAACAAAAgAIKgCCAgIAgAAAAoCigoKCqAKIAoAKAAAAAAAAAACgAAAAAAAAAAAAAAAAAAAAoAAAAAAAAAAAAAAKKAAAAAAAAAAAAAoAAAAAAAAAAAAAAAAAAKAAAAAAAAAAAAACgAAAAAAAAAAAAAAAAAAIAAAAKAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAACgAAAAA5WkAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABAABAAAAAAAQAEFRBAQAEAQQAAAFBVFABQUFUAUFEAAUAAAAAAAAAFAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAABVAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAUAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAQAAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAAABytIAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAoAAACCAAAAAAAAgAICCiCAgAICIAAAAKACqKCgAoKAooKIAoAAAAAAAAAKAAAAAAAAAAAAAAAAAAACgAAAAAAAAAAAAAACqAAAAAAAAAAAAACgAAAAAAAAAAAAAAAAAoAAAAAAAAAAAAAAKAAAAAAAAAAAAAAAAAAAAAgAAAoAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAKAAAADlaQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAEABQQQAAAAAEAABABUQQAEBAEEAAAAABQAVRQUAFBQVQEUFAAAAAAAAABQAAAAAAAAAAAAAAAAAAUAAAAAAAAAAAAAAAVQAAAAAAAAAAAAAUAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAEAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAcrSAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAKAAAAAAgAAgAAAIAAACAAgqIAICAAiAACAAoAAKCgKKCgAoKooKIAoAAAAAAAAKAAAAAAAAAAAAAAAAAACgAAAAAAAAAAAAAACqAAAAAAAAAAAAACgAAAAAAAAAAAAAAAAAoAAAAAAAAAAAAAAAAAKAAAAAAAAAAAAAAAAAAAAgAAoAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAKAAAADlaQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAEBQQAQAAEABAAAQUBEAEBAARABAAABQRQAUAFAUUFBQUFUUQBQAAAAAAAAAUAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAFUAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAUAAAAAAAAAAAAAAAAAAABAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAHK0gAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAACgAAAAAAAAAAAAIAAAAIACAAgAIKAiACAAgAIgAgAAoAAACiAKACgAqigoKooKIAoAAAAAAAAKAAAAAAAAAAAAAAACgAAAAAAAAAAAAAAAAooAAAAAAAAAAAACgAAAAAAAAAAAAAAAAoAAAAAAAAAAAAAAAAAAAAKAAAAAAAAAAAAAAgKACAoIAAKAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAACgAAAA5WkAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAAAAAAAAAAAAAAAAABAUEAEABAAQEFEEABAAQEAQAQAAUAAAABQBAFABQFFBQaBVARQAAAUAAAAAFAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAUUAAAAAAAAAAAAABQAAAAAAAAAAAAAAAUAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAQFBAUEAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAcrSAAAAAAAAAAAAAAAAAAAAAAAAAAAAAKAAAAAAAAAAAAAAAAAAAAAAAAAAAgAAAAgAIACAgqIIACAAgCCAAACgAAAAAAKAIAoAKCqKCgqigogAAAACgAAAoAAAAAAAAAAAAAAKAAAAAAAAAAAAAAAACigAAAAAAAAAAAAKAAAAAAAAAAAAAAACgAAAAAAAAAAAAAAAAAAAAAAAoAAAAAAAAAAAACAoICggAAoAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAKAAAADlaQAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAEBQQAQAEABARFQEBAQABBAAABQAAAAAAAFAAEAUAFBVFBQVRRFAAAABQAAAUAAAAAAAAAAAAAAFAAAAAAAAAAAAAAABQBQAAAAAAAQFBAAUBQAAAAAAAAAAAAAAAUAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAQAAAAAAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAABytIAAAAAAAAAAAAAAAAAAAAAAoAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAACAAACAAgAICIrIAICAIIAAAAKgKAAAAAAACgACAKCgqigoKooAigAAAoAAAKAAAAAAAAAAAAACgAAAAAAAAAAAAAAAAoAAoAAAAAAAIACgiigAAAAAAAAAAAAAAKAAAAAAAAAAAAAAAAAAAAAAAAACgAAAAAAAAAAICggAAAAoAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAKAAAAADlaQAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAEBQQAAQAEABARFZBAQAEQAAAQUABQAAAAAAAAUAARQUBRoFBQFFEUAAAFAAABQAAAAAAAAAAAAAUAAAAAAAAAAAAAAAFAAAAFAAAAAABAAUBQAAAAAAAAAAAAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAQAAAAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAABytIAAAAAoAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAACAAAACAAgAIDKKgICAIIAACACgAKAAAAAAAACgACKACqKCgoKooAigAoAAAAKAAAAAAAAAAAAACgAAAAAAAAAAAAAAAoAAAoICgAAAgAKAAoAAAAAAAAAAAAAKAAAAAAAAAAAAAAAAAAAAAAAAAAACgAAAAAAAAAAAIAAAAAKAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAACgAAAAAA5VQUAAAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABAAABAAQEBBUQQEBAEEAABBQAFAAAAAAAAAABQBAFBQVRQUFUUARQAUAAAAAFAAAAAAAAAAAABQAAAAAAAAAAAAAAUAAAAAUEABQQAAFAAUAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAEAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAciooACgACgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAIAAAIACAAgIioCAgICIAAAAAAoAAAAAAAAAAAIoAKCgKKDQKAooigAoAAAAAAAKAAAAAAAAACgAAAAAAAAAAAAAAAoAAAAAAoAICggKCAoCgAAAAAAAAAAAoAAAAAAAAAAAAAAAAAAAAAAAAAAKAAAAAAAAAAAAAAgAAAAAAoAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAKAAAAAAADkVAFAAUAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABAUEAAEABAQEFRBAQEAQQAAAAAUAAAAAAAAAAAEAUAFABVFBQUFUURQAUAAAAAAAAFAAAAAAAABQAAAAAAAAAAAAAAUAAAAAAAAAUEABQAFAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAUAAAAAAAAAAAAAAABAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAAAAAHGqKACgAKAKAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAgKAAAACAAACAgAICIqAgICIAIAAAAAAAKAAAAAAAAACAKAACgoKooKCgKKIoAAAAAAAKAACgAAAAAAoAAAAAAAAAAAAAAAKAAAAAAAAAAKCAoACgAAAAAAAAAAAoAAAAAAAAAAAAAAAAAAAAAAAAKAAAAAAAAAAAAAAAAAAgAAAAoAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAKAAAAAAAADjVAFABQAFFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAQAAAAAAAAAQEABkVEEBAQBBAAAAAAAABQAAAAAAAAAQABQAUAFUUFBQUBRRAAAAAAFAABQAUAAAAAFAAAAAAAAAAAAAABQAAAAAAAAAAAAABVAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAUAAAAAAAAAAAAAAAAABAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAAAAAHGqAKACgAAqgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAgKACAAAAAAACAAgIKzqCAgIAggAAAAAAAAAoICggKAAACAAAAKACgAqigoKACqAFAAAABQBFBQAUAAAAFAAAAAAAAAAAAAABQAAAAAAAAAAAAABQFAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAUAAAAAAAAAAAAAAAAAABAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAAAAAHEoogCgoAAKoAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAIAAAAAAAAAAAICAgqaggMgAiCAAAAAAAAAAAAAAAAAAAAAAAoAKACqKCgAtAoFAAABQFFBRFABQAAAUAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAFUAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAEAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAcSigCKACgAqgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAgAAoAAAAIAACAAgM6ipoICAgCACAAAAAAAAAAAAAAAAAAAAAAoAKACqAKBQUAAAAFBQVRRAFBQAAAUAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAFUAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAEAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAcQCiiKACgAoCgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAgAoACggAAAAAAgAAICAgqaggICAgCAAAAAAAACAAAAAAAAAAAAAAAoAAKACqAAKAACgoAKo0IAoKAACgAAAAAAAAAAAAAAAoAAAAAAAAAAAAAAoIooAAAAAAAAAAAACgAAAAAAAAAAAAAAAAAAAAAAAoAAAAAAAAAAAAAAAAAACAAACgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAoAAAAAAAAAAOEFBVARQUAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABAAUEAAAAAAAAAAEAABAQEFRBAQEABAAEBQAQAAAAQAAAAAAAAAAAAAAFAABQAAVQBQAUFBVGhFABQAAUAAAAAAAAAAAAAAFAAAAAAAAAAAAAAABRQAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAEAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAcIAKCqKIAoAKAAAoAAICgAAAAAAAAAAAAAAAAAAAAAAACgAAAAAIAAAAAAAAAAAAAAAIACAAgIKiCAgIAAAAAAACIAAAIAAAAAAAAAAAAAAACgAAoAKoAoKCg0ooigAoAAKAAAAAAAAAAAAACgAAAAAAAAAAAAAAAAooAAAAAAAAAAAAACgAAAAAAAAAAAAAAAAAAAAAAAoAAAAAAAAAAAAAAAAAACAACgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAoAAAAAAAAAAAOAFABQVRRAFABQAAAAAAAFAAAAAAAFQAAAAAAAFAAAAAAAAAABAAAAAAAAAAAAAAAAAABAAQAEBBUQQEAABAAAAAARAAAABAAAAAAAAAAAAAAAUAAFABVFBQUGlFBRAFAABQAAAAAAAAAAAAAUAAAAAAAAAAAAAAAAFAFAAAAAAAAAAAAUAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAQAAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAB56CqKACgqiiAKACgAAAAAAAKCAoqAAAAAAAAAAoAAAICgAAAAAAAgAAAAAAAAAAAAAAAAAAAgAIACAgqIIACAAAAgAAAIgAAAAAgAAAAAAAAAAAAAKACgAqigoKCg0oCKCgAAoAAAAAAAAAAAAKAAAAAAAAAAAAAAAACgACgAAAAAAAAAAAKAAAAAAAAAAAAAAAAAAAAAAACgAAAAAAAAAAAAAAAAAAIAAKAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAACgAAAAAAAAAAAA89ABVAFBQVQEUAFAABQAAAAAAAUAAAAAAAAAAAAAAABQAAAAAQAAAAAAAAAAAAAAAAAAAAAQAEABAQUBEEABAAAAQAAEQAAAAQAAAAAAAAAAAAAFABQAVRQUFBQVRRFBQAAUAAAAAAAAAAAAFAAAAAAAAAAAAAAAABQBQAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAEAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAecgAoCigoAKCqKIAAoAAAKAAAAAAAAAAAAACgAAAAAAAAKAAACAAAAAAAAAAAAAAAAAAAAAACAAAgIAKgIgAgIAACAAAiAAAACAAAAAAAAAAAAAAoAKACqKCgoKCqKIoAKAACgAAAAAAAAAAoAAAAAAAAAAAAAAAAKAKAAAAAAAAAAAAAoAAAAAAAAAAAAAAAAAAAAAAKAAAAAAAAAAAAAAAAAAAAAgAoAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAKAAAAAAAAAAAAAAADzUFABQFFABaC0AFUBFAAABQAUAAAAAAAAAAAAAAAAFAAAAAUEAAAAAAAAAAAAAAAAAAAAAAAAAAEABAAQEFRABAQAAEABEAAAEAAAAAAAAAAAAAABQAUFAUUFBQUFUUARQUAAFAAAAAAAAABQAAAAAAAAAAAAAAAAUAAAUAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAUAAAAAAAAAAAAAAAAAAAAABAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAAAAAAAAAAAAAAAHmooIAoAKAooALQWgUAFAUBFABQAAAUAAAAAAAAAAAAAAFAAAAUEAAAAAAAAAAAAAAAAAAAAAAAAAAEABAAQEFRBAAQAEABEAAAEAAAAAAAAAAAAABQAUAFBVAFBQUFAUURQAUAAFAAAAAAABQAAAAAAAAAAAAAAAAUAAAUAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAUAAAAAAAAAAAAAAAAAAAAAABAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAAAAAAAAAAAAAAAAAAHmooAAIAoAKAooFBaABQWgAoCiiAAAKAAAAAAAAAACgAAAAoAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAIACAgIKAiCAgAIACIAAIAAAAAAAAAAAAACgAAoKAooKACgoKAooAigAoAAKAAAAAACgAAAAAAAAAAAAAAAoAAAoAAAAAAAAAACgAAAAAAAAAAAAAAAAAAAoAAAAAAAAAAAAAAAAAAAAACAAACgAAAAAAAAAAAAAAAAAAAAAAAAAAAoAAAAAAAAAAAAAAAAAAAAAAAAPMRQAFAAAEUAFAAUUAAFABQAWgUCqFEKBQKBQAWgAAAoAAKAACgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAgIACAgqIICAAgAIgAgAAAAAAAAAAAAAKAACgAqigAoKACgAqgCgogCgAAoAAAAAKAAAAAAAAAAAAAAACgAACgAAAAAAAAAAKAAAAAAAAAAAAAAAACgAAAAAAAAAAAAAAAAAAAAAAAIAAAKAAAAAAAAAAAAAAAAAAAAAAAAACgAAAAAAAAAAAAAAAAAAAAAAAAAAAA8xFAAAAAUAARQAAUAAFUAWgUCgtAoFAoFAoFAoFAoLQFRQAUAFAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAQEABAQVEEABAQEAQQAAAAAAAAAAAAAFAABQAUBRQAUFABQAUBRQBFBQAAUAAAAFAAAAAAAAAAAAAAABQAAABQAAAAAAAAAFAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAEAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAeYigAAAAAAKAIAoAAAKAAooFAoFAoFAoFBaBQKBQWgAoCooAKCgAAoAAAAAAAKAAAAAAAAAAAAAACAAAAAAAgAIACAgqIIACAgIAggAAAAAAAAAAKAAAAACgAqgCgAoKACgAoCigCKCgAoAAAAKAAAAAAAAAAAAAAACgAAACgAAAAAAAAAKAAAAAAAAAAAACgAIAAAAAAAAAAAACgAAAAAAAAgAKCAACgAAAAAAAAAAAAAAAAAAAAAAAAAoAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAPMRQAAAAAAAFAAAEUAAAAFAAAAAAUEABRQAAUFABQVUAUFABQAAAAUAAAAAAAAAAAAAAAEAAAAAAABAAQAEBABUQQAEBAQBBAAAAAAAUAAAAAAAFAAAABVFABQUAFABQFFBRAFABQAAAUAAAAAAAAAAAAAAAFAAAAAFAAAAAAAAAUAAAAAAAAAAAFAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAB5iKAAAAAAAAAoAAAgACgAAAAAAAAAAAoAAKoAoKCgCKooKACgAAAoAAAAAAAAAAIAAAAAAAAACAAAgAAIACCiCAgAICAiCAAAAAAAoAAAAAAAKAAAAACqAKCgoAKCgKKCiAKACgAAAoAAAAAAAAAAAAAAKAAAAAAAKAAAAAAAAoAAAAAAAAAAKAgAAAAAAAAAAAAAAAAAAAAoAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAKAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADzEUAAAAAAAAABQAABAAAAAAAAAAAFAAABQAUBRQUFABVRQUAFAABQAAAAAAAAQAAAAAAAAAEAABAAQAAAEAFEEABAQEBEEAAAAAABQAAAAAAUAAAAAAFAUUFBQUFAUUFAEUAFAAABQAAAAAAAAAAAAAAUAAAAAAAAUAAAAAABQAAAAAAAAAAUBAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHmIoAAAAAAAAAACgAACAAAAAAAAAAAAKAACgAoCigoKACqigoAKAACgAAAAAAgAAAAAIAAAACAAgAAIAKAAAAIIACAgICIIAAAAAACgAAAAAAAoAAAAAKoAoKCgoKCqKIAoAKAAACgAAAAAAAAAAAAAoAAAAAAAAAoAAAAACgAAAAAAAAAAAoCAAAAAAACgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAoAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAPMRQAAAAAAAAAAAFAAEAAAAAAAAAAAAUAAAFABQUBRQUFAEVRQAUAFAAAAABAAAAQAAAEAAABAAQAERQAAFAUAAEEBAQEBEEAAAAAAABQAAAAAAUAAAAFUAUFBQUFBVFEUAFAAABQAAAAAAAAAAAAAUAAAAAAAUEBQAAAAAAFAAAAAAAAAAAABQEAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAeYigAAAAAAAAAAAAKAIAAAAAAAAAAAoAAAKAACgAoKoAoKIqigAoAKAAAAACAAgAAIAACAAAAgCCCgIAACgAoCgAAggJoIDICCAAAAAAAAAAoAAAAKAACqAKCgoKCgqigogCgAAAoAAAAAAAAAAAAAKAAAAAAAKAAAAAAAAoAAAAAAAAAAAAAKAgAAAAAAAoAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAKAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAACg8tFAAAAAAAAAAAAUQAAAAAAAAAABQAAAAUAAFAABQFFBQUFEFFBQAUAAAAAEABAAQAEAABAEAEFAQAAAAAFBQFFEBUQQE0E0EBEEAAAAAAAAAAABQAAUAFUAUFBQUFBVFBRAFAAABQAAAAAAAAAAAAUAAAAAAUAAAAAAAABQAAAAAAAAAAAAAAUBAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAB5aKAAAAAAAAAAogAAAAAAAAACgAAAAAoAAAKAACgAqgCgoigqgCgAoAAAAAIACAAgIAACIAAIKAgAAIACgAoKAoogCCiCaDOggIggAAAAAAAAAAAKACgAoCigoKCgoKooKIAoAAKAAAAAAAAAAAAACgAAACggKAAAAAAAAAoAAAAAAAAAAAAAAAKAAgAAAAAAAoAAAAAKACAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAoAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAKAAAAAAAAAAAADy0UAAAAAAAAEUAAAAAAFAAAAAAAAABQAAUAAFABVAFABQUQBVFABQAAAAAAQAEABAAQABBAABUABAAAAAUAFBVAQAFRBAZ0EBEAEAAAAAAAAAABQAUFAUUFBQUFBVFBRAFAABQAAAAAAAAAAAAAUAAAAAAUAAAAAAABQAAAAAAAAAAAAAAAAUABAUEAAAAAAFAAAAABQAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAeWigAAAAAAgCgAAAAAoAAAAAAAAAKAAACgAoAKoAoAKACiAKooAKAAAAAAAACAAgAIACAAAIIAKgAAIACgAoKoACAqIAMggIAggAAAAAAAIACgAAoAKCqKCgoKCqKIoAKAACgAAAAAAAAAAAAAoAAAAAAAAoAAAAACgAAAAAAAAAAAAAAAAoACAAAAAAAAACgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAoAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAKAAAAAAAAAAAAAAADy0UAAAAAAEUAAAAAFAAAAAAAAABQAAUAAFABVFABQAUQBQFFABQAAAUAAAEAAABAAQAEAAABAEEAFAQFAABVAAQAFRBAQEBAARAAAAAAAAAAAABQUFUUFBQUFUURQAUAAFAAAAAAAAAAAAABQAAAAAAAAABQAAAAFAAAAAAAAAAAAAAABQAEAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAAAAAAAAAAAAAAAAHlooAAAAAIoAAAAAKAAAAAAAACgAAAAoAKCqAKCgAogCgKKACgAAAoAAAAAAAIAACAAAgAAAIACAAIEFAFAFEAAQUQQEBAQEABEAAAFABAAAAAAUFBVFwFwFBQVRRFABQAUAAAAAAAAAAAAAAFAAAAAAAAAAAAFAAAUAAAAAAAAAAAAAAAFAAAQAAAAAAAAAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAeWigAAAAKIAAAAAoAAAAAKAAAAAAACgAoKAooKAIoKAooAKAAACgAAAAAAAAAAAgAAIAACAAAAgAAEAgAKACAAgqIICAgIAAggKAAAAAAAAAAACguKNYC4C4CqKIoKAACgAAAAAAAAAAAAAoAAAAAAAAAAAAAAoACgAAAAAAAAAAAAAAoACAAAAAAAAAAAAACgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAoAAAAAAAAAAAAAAAAAAAAAAAAAAAKAAAAAAAAAAAAAAAAAAAAAAAAAADzEUABAAUQAAAABQAAAAAUAAAAAAFAABQAVRQUAFEUFUAUAAAFAAAAAAAAAAAAAABAAAQAAEAAAAAAAABQQAEBEVNBNBAQEABEAFAAAAAAAAAABQFGsBcBrAXAVUUFAABQAAAAAAAAAAAAUAAAAAAAAAAAAAAAAUBQAAAAAAAAAAAAAVAUEAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHmIoAAAIAAAAAoAAAAAKAAAAAACgAAoAKooAKCiKACqKAACgAAAAAAAAAAAAAAAAAgAIAACAAoAAAAAAAAIADOoqaCaDIIACIAAKAAACgAAAAgKACqLgNYC4DWKKIoAKAAAAAAAAAAAACgAAAAAAAAAAAAAAAACqAAAAAAAAAAAAAgoAAAAAAAAAAAAAAAAKAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAACgAAAAAAAAAAAAAAAAAAAAAAAAAAoAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAPMRQAQAAAABQAAEAAAFUAAAAAUAAFABQAVQBQUFEAVQBQAUAAAAAAAAAAAAAAAAAAEABAAQAFAABQAAAAAAQE0GdRU0GdBAQBBAAAAUAAFAAAAAAAUUFwGsBrAXFFEUFAAAAAAAAAABQAAAAAAAAAAAAAAAAAAUUAAAAAAAAAAQAUAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHmoAIAAAACgAIAAAAKAAoAAAAoAKACgAqgCgoAigoCigAoAAAAAAAAAAAAAAAAAAAIACAAgKAACgAoAAAAICAmgmorOgmgyCAIIAAACgAoAAAAAAACig1gLgNYCqKIoKAAAAAAACgAAAAAAAAAAAAAAAAAAoAoAAAAAAAAAAgAoAAAAAAAAAAAAAAAAKAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAACgAAAAAAAAAAAAAAAAAAAAAAAAAAoAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAPNQAAAAAAEAAAAAFAAUAAAUAAFABQAVRQAUARQUAFUAAUAAAAAFAAABAAAUAEAAAABAAQAAAAFABQAAAAAQEBNBNRWdBNBkAEQQAAAFABQAAAAAAAUFUXAXAawFwFVFABQAAAAUAAAAAAAAAAAAAAAAAAFFAAAAAAAAAAAEAFAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAB5qAAAAAAAgAAAAAqgAAACgAAoAKACqAKCgogCgAqgACgAAAAoAAAAAAAAAAAAIAACAAAgAKAACgAAoAIAACAzoJqKmgzoICAiAAAAAACgAAAAAAAoKouAuAuA0CqAKIAoAAAKAAAAAAAAAAAAAAKAAoAAAAAAAAAACAACgAAAAAAAAAAAAoAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAKAAAAAAAAAAAAAAAAAAAAAAAAAACgAAAAAAAAAAAAAAAAAAAAAAAgAAAAKAAAAAAAADzkAEAAAAAAAAAABQAAUAAFAABQAVQBQUAFEUFAUAUAAAAAFAAAAAAAAAAAAAABAAAQAAAAFAABQAAAAQAEBNBNQZ0VNBAQEBEAAAAFAABQAAQAAFAUUGsBQUFBQFFABRAAFAAAAAAAFAAAAAAAUAAAAAAAAAABAAABQAAAAAAAAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAQFBAAAAAAUAeegAAAgAAAAAAAKAACgAoAKAACgAKKACgoKIAoKoAAAAoAAAAAAAAAAAAAAAAAAIAAAAAAAACgAAAAAgAICAiCaKgICAgIgAgAKACgAAAAgAAKACqKCgoKCgAoKooAigAAAACgAAAAAAKAAAAAAAAAAAgAAAAoAAAAAAAAAAKAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAACgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAgAAACAAAAAAAAAAABQKBQAAAAAAAAAcIAAIACAAAAAAoAAKACgoKBAICxQAAABQAUFEUBRQAAUAAAAAAAAAAAAAAAAAAAAAAEAAAABQAAAAAAAAQAEBEEFQEBAQEBEAAAFAAAAABAAAAUAFUUFBQUFBQUBRQUAAAAAAAAAFAAAAAAAAAAAAQAAAAUAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAQAAAAACggFQKBQKBQKBQKBQKBQKCUCgUCgUCgUCilBaBQKBQKBQKDjEAQAEABAAAAUAAFBQAUFBYoQFgAAAAAAAKCgogCqAKAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAACAAgIggqAgICAiCAAoAAAAAAIAAACgAoCigoKCgoKCgqigAAAAAAoAAAAAAAAAACAAAAAACgAAAAAAAAAAAAAoAAAAAAAAAAAAAAAAAAAAAAAAAAAKAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAACAAAAAAAAAAAgFAoJQKBUCgUCgUEoFAoFAoFAoFAoFAoFFSgUCgUCgUCgtAoFAoFAoFBzCAIACAgAAAAAKACgAoKooKCgAQAAAEABQAUFAEVRQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAQAEQQVATQZBAQBAAAAAAAABAAAAAUAFBVFBQUFwFBQUFUAAAAUAAAAABAAAAAAAAAAAABQAAAAAAAAAAAAAAUAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAABAAAAAAAAAAAAASgUCgUCgUCgUEoFQKCUCgUEoFAoFAopQSgUCgUCgUCgUCgUCgUEoFAoFAoFBaBQKBQKBQKBQfEQBAAQEABAAUAFABQAUFUUFBQAAAAAQAAAFBQBFBVAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAABAAAAAQBBBU0GdBNBAQEQAAAAAAAAQAAAAFABQVQBQawFwFBQUAFAUAUAABAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFABAAAAAAAAAAAAAAAAAAAAAAAAAQACgAUCglAoJQKBQKBQKBUCglAoJQKBQSilAoFAoFAoJQKBQKBQKBQKBQKBQKBQSgUCgtAoFAoFAoFAoFBhUARABAQEAABQAUAFABVFBQUFAAAAABAAAAAUAFEUBQAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAQAAAAEQQE0VNBNBnQQBBAAAAAAAAQAAAAFABQAVRQUFBQaABQUAAAFAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAEAAAAoFAoFAoJQKBQKBQKBQSgVAoJQKBQSgUCgUCgUEoFAoJRSgUEoFAoFAoFAoFAoFAoFAoFAoJQKBQKBQKBQKBQKBQKBQWgUCglAVAEBEEABAAAAUFABQFFBQUFABQAAAQAAEABQAUAFEAFAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABAAAAAARAFZ0E0E0GdBAEEAAABQQAAEAAAABQAAUFUUFBQUFBQUAFAABQAAAAAAAAAAAAUAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABAAAAAAAAQCgUCgUCglAoFAoFAoFBKBQKBQKBUEoFBKBQKCUCgUUoFAoJQKBQKCUCgUCglAoFAoFAAAAAAAAAAAAAAAAAAAAAAAAABpUQAEBEEABAUAFBQFFABQUAFBQAAAAAAQAAAAFABQBAAAAAFAAAAAAAAAAAAAAAAABAAAAAAAAAAAAAAAAAAQEFQE0E0GdBEAEAFAUQABAAAQAAAUEUAFABVFBQUFBQUAFBQAAUAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAQAAAAAAAAAACggFAoFAoJQKBQKBQKCUCgUEoFAoFAoFAoJQKBUCgUCglAoJQKKUEoFAoFAoFAoJQKBQKACAAAAAAAAAAAAAAAAAAAAAAAAAAAAoAAANKgACAiCAgAAKCgKKCgAoAKACgAAAoIAAACAAAoAAKAAAAAAAAIAAAAACggKCAAAoIACgAAAAAAAAAAAAAIAAAACAgJoJoM6CIAIAKoAgACAAAgAAoAACiAAKCgqigoKCgoAKACgAAoAAAAAAAAAAAAKAAAAAAAAAAAAAAAAAAAAAACgAAgAAAAAAAAAAAAIABQKBQKBQKBQSgUCgUCglAoFAoJQKBQKBQSgUCglAoFAoFBKBUCgUCilAoFBKBQKCUCgUCglAoAAAAAAAIAAAAAAAAAAAAAAAAAAAAAAAACgAAAAAAoNqiAAgIggIACgAoKooAKAACgAAoAAAAAAAAICgAAAAoAAAAAAAAAAAAAAAAAAAAAAIAAAAAACAAAAAUCgUAAAAEBAQE0EQQEAAFUAQABAAQAAVAAAUAARQAUFABpRQUAFBQAUAFAAAABQAAAAAAAAAAAAAAAAAAAAAUAAAAAAAAAAAAAAAEAAAAoFAoFBKBQKBQKBQSgVAoFAqhQKCUCgUCglAoFAoJQKBQKglAoFBKKUCglAoFAoFAoFAoFAoFABAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAAABQAbVAEBEEBAAQFBQAVRQAUAAAFAABQAAAAAAQAAAAFAAAAAAAAAAAAAAAAAAAAAAAABAAAKBQSgUCgUCgUCgUCgUCgUCgUEBAQEQQAEAAFUAAQBAAQAVAAAAAUAAFEAUFBQFFBaC0CgtAoLQKCgAAoAAAAAAAAAAKAAAAAACAAAoAAAAAAAAAAFAAAoFBKBQKBQKBQSoFAoFAoJQKKUCgUCglAoFAoFAoJQKBQKCUCgUCgUEoFAoJQKBQSgUCgUCgUCgAAUAAAAEAAAAABAAAAAAAAAAAAAAAAUAAAAAAAAAAAAAAAAAFAAAABQAAbVAEQQEBAAQFBQUAFUUAAAAAFAAAAAAAAAAAAAAAAAAAAABQAAAAAQAAAAAAAAAEAoFAoJQKBQKBQKBQKBQSgUCgUCgUCgUEBEAEBAABQAFABBAEAFQAAAAAAFAABQBFBQUBRQKC0CgtAoLQKC0CgUCgtAoFAoFAoFAoFAoLQAAAQCgUCgUCgUCgUCgUCgUCgUCgUCgUCoFAopQSgUCgUCglAoFAoJQKBQKBQKBQSgUCgUCgUCglAoFAoAIAAACAAAgAAAAAAAAAAAAAAAIAAAAAAAAAAAAAAAAAAAAACgAAAAAAAAAAAAAAAAoAAAKAgAA2qAICAgIACAoKACgoAKAAAoAAAAAAAAAAAAAAAAAAUAAAAAAFABAAAAUAAEAAABAAKBQSgUCglAAAoFAoFQKoUCgVAqhQEAEBAAQAEFAUAAAAAEBAAAQAFAABQAAUAFEAUABRaBQKC0CgtBaBQKC0CgUCgUCgUCgUCgtAoFAoFAoFAoFAoFAoFAoFQKKUEoFAoLQKBQSgUCgUCgUEoFAoFAoJQKBQKCUCgUCgUCgUCgUCgUEAAAAAAAABAAAAAQAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAUAAFAQAAAAbVAEBAQEBAAUAFBQUAAAAAAAAAAABQAAQAASgUCgAAAoAAAAAAAAAAAKAAAACAAAgCgCIAAIAAAAAAAAAAAAAACAAAgAIAKAAoAAAIACAAgAAKAACgAAoAAKAIAAAUFoFBaBVFoFAoLQKBUCgUCgUCgUCgtAoFBaKUEoFAoFAoFAoFAoFAoFAoFAoFAoFBKBQKBQKBQSgUCgUCglAoFAoFBKBQKBQKBQAAAAAAAAAAAAAAAAAAQAAEAAAAAAAAAAAAAAAAAAAAAAAABAAAAUAAAAAFAAAAAAAAAAAAAAABQAAEFAAAAABpUAQEBBQEABQAURQAUAAAAAAAAAEAAABAAAAAAAAABVAAAAAAABQAAAAABAAAEBAAAQAAAEAAAAAAAAAAAAAABAAAQAUAAABQAQAAEABAAAUAFAABQAAAAAAAAAAUQBaBQKKtAoFAoFAoFAoFBaBQKBQWgUCgUCglAoFAoFAoFAoAAAAFAAoFAoFBKBQKBQKBQSgUCgUCgAgAAAAAAAAAKAAAAAAAAAACgAAgAAAIAACAAAAAAAAAAAAAAAAAAAAAAAAgAAKAAAACgAAAoAAAAAAIAAACgAAAqAAAAAAADSiAAgIAggAKoAoAKAIAAAAAAAAAgAAAIAAAAAAKAAoAAAAAAKAAAAACgAAAAgAiAgAAIAAAAAACAAAAAAAAAAAAAgAoAAAAAAAAACAAAAAAAoAAKAAAAAAAAAAAAACgAAAoAAAAAAAKAACgAAAAgAAAAAAAAAAAAAAAIAAAAACAAIACgAACAAAAAAAIKAAAAACgAAAAoAAAAAAACiAAAgAAAIAAAAAAAAAAAAAAAAAAAAAAAAACgAAIKAAACgAAgAAAAAAAAKAAAAAAACgKIAggAAIACgAqgAAAAAAAAAAAACCAAIAAAAKAoAACAAAACgAAAAAoAAKoAAAgIACACIAAAAACAAAAAAAAAAAACgAIAAAAgAqgACAAAAgAAAKAAACgAAAAAAAgAAAKAAAACgAAAAAoAAAAAKAAAAAAAAAgAAAKCAAAACAAAAAgAAAAAIAAAAAAAAAAAAAACgAAAAoAAAKAACgAAoIAAACAQCKIAACAAAAAAAAAAAAAAAAAAAAgAAAKAACoAAAKAAAAAAAAAAAAAAAAAAAACgAAgAIAAAAAAAACgAKAAAACAoAgAAAIAIAACgAAACAAACgAAAAAAoAAAKACgAigCAgAIAAAIAAgAAAAAIACgACqAgAgAAAAAAAAACgACAAAAAAAAoAAAAAAAAAAAAAAAAAKAAAAAAgoAAAAAKAAAAAAAAAAAAAAAAAAACAAAAgAAAIAAAAAAAAAAAAAAAACgAAoAAAKAACgAoAAKCAAAAQEAgEBIBAICAAKAAAAAAAACAAAAAAACAAAAoAAAKAACgAAAAAAAAAAAAAAAAAAAAAAAyAAAAAAAAAAAAAAAAAAAAAAACAAKIAAAAACoAAAAAAAAAKAAAACgAoAAAIoAgAIAAAAAggAAACgCCAKKIAKAAAAACAAAAoAAAAAIAAoIAAAAKAAAAAAAAACAKCCgAAAAAAAoAAAAAKAAAACgAAAAAAAAAAgAAAAAAAAAIAAACAAAAgAAAAAAAAAAAAAKAACgAAoAAKAACgAoAAAAAAAAIBAICQCAQEgEAgEAAgEAAAAAAAAAgEAgEAgEAgAEAgKAACgAAAAAAAAAAAAAAAAAAAAAAAAwAAAAAAAAAAAAAAAAAAAAACAAAAgAAAACggAAAoAAAAAAAAAAKAACgAAAAgAIAAAAAACAAAAAAAAAAoAKAAACAAAAAAoAAAAIAABAAAAAUAAAAAAAAAAAACAAAAAAQFAAAAABQAAABQFAAAAAAAAEAQAAAAAAAAAAEAABAAAAQAAAAAAAEAABQAAAAUAFAABQAAAUAAFABQAAAAAAAAQAAEgAEAgJAIBAIBAAAAIBAWAQCAQEgEAgEAgEAgEBYBAAAUAAAAAAAAAAAAAAAAAAEAABQAAfMAAAAAAAAAAAAAAAAAAAEAAAABAAAAAAAAAAAAAAAAAUAAAAAFAAAAAAAABAAAAAAAAAAQAAAAFAABQAAUEAAAAABQAAAAAIBASAQCAsAgAEAgAAAAAAEAgEAgEAgAEBQIBAIBAIBAABVAAAAAAABQAAAAAAAQAAAQAFBAAAAAAEAABAIBAQCAQAAACAAAgLAAAAAAUAFAABQAAAAAUAFAAAAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAIAAAAAACgAAAAAAAAAAAAAAAAAAgAAAAKAD5AAAAAAAAAAAAAAAAAAAAgAAAAAIAAAAAAAAAAAAAAACgAAAAAAoAAAAAAAAAIAAAAAAAAAAAAACgAoAAAAAAAEBQAAAAAAAAAIBAABQAAAAAAAACCEAgAAAqgAAAAAAAAAoAAAAAAAAAAKAAAACAAAAAAAAAAAAAAgAgBASAQCAQEgEAgEAgEAgEAgAEAgAKAACgAoAAAAAAAKAAACgAAAAAACgIAAIAAAAAAAAAAACggKAAACAAoIAAAAACgKAAIAAAAAAAgAAAAAAAAAAAAAKK+QgAAAAAACAAAAAAAAAAAAAAgAAAAAAAAAAAAAAAAAAAAAAAAAKAAAAAAAAAAAAAAAAAAAAAAACgAAoAAAKACAoAAAAAAAAAAAAoAAAAAAAAAAAAAAACgAAAAAAAAAAAAoAAAAAAAAAAAAAAAAAAAAAAAAAAAAIAAAAIgAAAAEAgJAIABAIAACgQAAAFAABQAAAAAAAAUAAAUAAAAAAAAAAABAAAAAAAAAAAUAAAAAAAAAAAAAAAAAAAAQAAAAAAAAAAAAAAAAFAAfIQAAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAAAAAAAAAAACAQCAQCAQCAoAAAKAAAAACgAAAAAAAACgAAAAAAAAAAAAAAAAAAAAAKAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAACAAAAAAAACAAAAAAAAAAAKAAAAAAAAAACgACgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAKAAAIgAAAAAAAAAAAAoAAAAD5iAAAAAAIAAAAAAAAAAAAAAAAAAAAAAAAAABAAAIBAIBAIABAAAAUAAAAAAAAAAAFAgEAgAAAAAEAgEAgAAKAAAAAAAAKoAAAAgKAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAoAAAAAAAAAAAAAAIAAAAAAAAAAAAAAAAIACgAAAAAAKAAAAAAAAAICggKAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAoAAAAAAgCACggAKAAACAoAAAAADAgAAACAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAoAAAAAAAAAAKAAAAAAAAAAAAAAAACgAAACgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAKAAAAAAAAAAAAAAACAAAAAAAAAAAAAAAAAAAAAAoAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAKAAAAAICgiCgAAAAAAAAAAAAAMiAAAIAAAAAAAAAAAAAAAAAAACAAAAoAAAAAAAAAAAAAAAAAAAKAAAAAAAAAACgAAAAAAAAAAAAAAACgAKCAoAAAAAAAAAAAAAAIAAAAAAAAAAAAACgAgAAAAAAAAAAAAAAAAAAAAAAAAAAAKAAAAAAAAAAAAAACAAAAAAAAAAAAAoAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAKAAAAICggCCggAAKAAAAAAAAAAggACAAAAAgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAKAAAAAAAAAACgAAAAAAAoAAAAAoICgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAIAAAACgAAAgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAKAAAAAACAAAAAAAAAAAAAoAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAKAAAAAIgAoICgAAAAAAAAAAAIIAAAAAgAAAAAAAAIAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAACgAAAAAAAAoAAAAKAKAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAgAAKAAAACAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAoAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAKAAAAACCAAAoICgAAAAAAAAAAgACAAAAgAAAAAAAAAAAIAAAAAAAAAAAAAAAAAAAAAAAAAAAAAACgAAAAAAAoAAKKAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAKAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAIACgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAKAAICgAAgCAACggKCAoAAAAAAAAgCAAIoAAAAAAgAAAAAAAAAAIAAAAAAAAAAAAAAAAACAAAAAoAAAAAAAKAAAAACgAooAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAACAAAAAAoAAAAAIAAAAAAAAAAAAAAAAAAAAAAAACgAAgAAAAAAAAKAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAIACgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAKAAAAAIAAAAgAAAoAAAAAAAAAAgACAIAoAAAAAAAAAAgAAAAAAAAIAAAAAAAAAAAAAACAAAAAoAAAAAAAAKAAAACgCgKAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAACAAAoAAAAAAAAAIAAAAAAAAAAAAAAAAAAAAACgAAAAAgAAAAKAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAIAAACgAAAAAAAAAAAAAAAAAAAAAAAAAAKAAAAAAAAAAAIAAgAAAoAAAAAAACgiAAAAIgCgAAAAAAAAAAAAACAAAAAAAAAgAAAAAAAAAAAAAAAAAAAAAKAAAAAACgCgKAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAACAAAAAAAAAAAAAAAAAAAAoAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAgAAAAAAAAAAKAAAAAAAAAAAAAAAAAAAoAAAAAAAAAgKAAACAAAIAKAAAAAAoAAAIgAAAAggqiIKAAAAAAAAAAAAAAAAAIAAAAAAAAAAAAACAAAAAAAoAAAAAAAAAAKAAKoAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAICgAAAAAAAAAAAAAAAAAgAAAAAAAAAAAAAKAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAIAAAAAAAACgAAAAAAAAKAAAAAAAAAAAAAAAAAAAAAAICgAAgAAAAKAAAAAAAAAyAgAAAAKAAgAAAAAAAAAAAAAAAAAAAAAAAAAAACAAAAAAAAAAAAAAAAAAoAAAAoCgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAgAAAAKAAAAAAAAAAAAAAAACAAAAAAAAAAAAAAoAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAgAAAAAAAAAAKAAAAAoAAAAAAAAAAAAAAAAAAAAAAAAAAAgAAAAAAKAAAAAAAAAyAAgAAACCgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAACAAAAAAAAoAAAAAAAAAoAACgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAgAAAAAAAAAAKAAAAAAAAAAAACAAAAAAAAAAAAAAAoAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAgAAAAAAACgAACgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAgAAAAAAAKCAoAAAAAADICAoAAIAgoAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAACgAAAAAKAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAACAAAAAAAAAAAAAAAAoAAAIACgAgAAAAAAAAAAAAAAAAAKAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAIAAAAAoAAAAAAAAAAoAAAAAAAAAAAAAAAAAAAAAAAAAIAAAAAAAACgAAAAAAAAMgIgAKACAAACgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAKAAAAAAAAAAAAAAAAAoAAAAAAAIAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAACgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAoAAgAAAAAAAAAAAAAKCAAoAAAAAAAAAAAAAAAAAAAAAAAAAAAIAAAAAAACgAAAAAAMogAAAAAAoAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAICgAAKAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAoAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAKAAAICggAAAAAAAAAAAAAAAAAAKAAAAAAAAAAAAAAAAAAAAAAAACAAAAAAAAAIAAKoAAAMogAAAAAAAoAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAIAAAAAAAooAAAAAAAAAAAAAAAAAAAAAAAAAAAAAACAoAAAAAAAAAAAAAAAAAAAAAAAAAAAAAACAAoAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAKAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAACgACAoAAIAAAAAAAAAAAAAAAAAgAKKAAAAAAAAAAAAAAAAAAAACAoIAAAAAAAgAAAAAAAAoiAAAAAAAIoAAAAAAAAAAAAAAAAAAoAAAAAIAAAAAAAAKAIAAgKACAoAAAoAAAAAAAAAAAAAAAAAAAAAAAAAAAACAAoAICgAAAAAAAAAAAAAAAAAAAAAAAAAAAIACgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAoAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAKAAAIAAAAAAAAAAAAAAAAgAAAoIAoAoAAAAAAAAAAAAAAAICgAgAAAAACAAAAAAAAAAAIAAAAACggAKAAAAAAAAAAAAAAoIAAAACgAAAAIAAAAAAAgAAACAAoAAAAAoAAAAoAAAAAAAIAAAAAAACgAAAgAAAgAAAKAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAoAAAAAAAAAAAAIAAAACgAAAAAAAAAAAAAAAAAAAAAAAAAogAAAAAACAAAAAAAAAAAAAAAAAAACgAAAAAAAAKAAAAIAAAAAAAAgAAAAAAAAAAAACAAoAAAAAAAAAAAAAAAAAACgAAAgAKAAAAAAAAAAgAAKAAgAAAAAAAAAKAAAAAAAAAAAAAAAAAAAAAAAAAAAAIAICggKAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAoAAAAAAAAAAAAAAAAIAAAAAAAAAAACgAAAAAAAAAAAAAACAoAAAICggACgAAAgAAAAAAAAAAAAAAAAAAAAAAAAAoAAAAAAAIAAAAAoAAAAIAAAAAAAAAAACAAoAAAAAAAAAAAAAAAAAAAAoAAAAAAAAAAAAAAAAAAAAAAgAAAAAAAAAAKAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAIAAAAAAAAACgAAAAAAAAAAAAAAAAgAAAAAAAAAAAAAAAAAAAAAAAAAKAAAAAAAAAAAAAAAAACAAAAAAAAAAAAAAoAAAAAgKAAAAAAAACAAAAoIAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAACgAAAAgKCAAAAAAKAACAAAAAAAAAAAAgAKAAAAAAAAAAAAAAAAAAAAAAAKAAACAoAAAAAAAAAAAAAAgAAAAAAAAAAKAAAAACAoAAAAAAAAAAAAAAAAAAAAAAAgAAAAAAAAKAAAAAAAAAAAAAAAAAAACAAAAAAAoAAAAIAAAAAAAAAACgAAAAAAAAAAAAAAAAAgAAAAAAAAAAAAAAAAAAKIAAACgAAAgKCAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAoIAAAAAAAAoAAAAIAAKAAACAAIAACgAAAAAAAAAAAAAAAAAAAAAAACgAAAAAAAAAAAAAAAAAACAAAAAAAAoAAICgAAAAAAAAAAAAAAAAAAAAAAAAAAAACAAAAAAAAoAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAIAAAAAAAAAACgAAAAAAAAAAAAAAAAgAAAAAAAAAAAAAAAAAAAgACgAAACgAAAgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAACgAAAAACgAAAIAAIAAgAKAAAAAAAAAAAAAAAAAAAAAAAAAAAKAAAAAAAAAAACAoAAAgAAAAAAAAKAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAIAAAAAAAAACgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAgAAAAAAAAAAKAAAAAAAAAAAAAAAACAAAAAAAAAAAAAAAAAAACAAAKAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAACgAAAAAAACgAAAAIAIAAgAKAAAAAAAAAAAAAAAAAAAAAAAAAAAKAAAAAAAAAACAAoAAAAAgAAAAAAAKAAAAAAAAAAAAAAAAAAAAAAAAAAAAAIAAAAAAAAAAACgAAAAAAAAAAAAAAAAAAAAAAAAAAAAgAAAAAAAAAAAAKAAACAAAAoAAAAAAIAAACAAAAoAAAAAAAAgAAKCAAAAKAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAACgAAAAAAACgAAAAAAAIIAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAACgAAAAAAAgAKAAAAAIAAAAAAAACgACAAAAAAAoAAAAAAAAAAAAAAAAAAIAAAAAAAAAAAAAAAAACgAAAAAAAAAAAAAAAAAAAAAgAAAAAAAAAAAAAAAAAAAAAAAAKAAACAAAAgAAAAAKAAAAAAAAIAAAAAAAoAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAKAAAAAAAAAAAKAAAAACIAAAAAAAAAAAAAAAAAAAAAAAACAAAAoAAAAAoAAAAIAAAACgAAIAAACoAgAAKAAKIAAAAAAAAACgAAAAAAAAAAAAAAgAAAAAAAAAAAAAAAAAAAAAAKAAAACAAoAAAAAAAAIAAAAAAAAAAAAAAAAAAAAAAAAAAAACgAgAAAIAAAAAAACgAAAAAAACAAAAAAAAKAAAAAAAAAAAAAAAACAAoAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAKAAAAAAAKAAACAoAAIAAgAAAAAAAAAAAAAAAAAAAAAAIAAAAAACgAAAACgAAgAAAAACCgAAAAgAgoAAAIAoAAAAAACgAAAKAAAAAAAAAAAACAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAoAAIAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAACAAAAAAAAAoAAAAAAAgAAAAAAAAAACgAAAAAAgAAAKACAAAAAoAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAKAAAAAAAAAAAAAAACAAAAAAAAAAAAAAAAAAAAAAgAAAAAAAAAKAAAAAAAAACAAACgAAAACIAAAoIAoAAAAAAAACgAAAKAAAAAAAAACAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAgAAAAAAAAKAAAAAACAAAAAAAAAAoAAAAAAAgAAAAAAAAAAAAAAAAAAAAAAAAAAAAACgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAoAAAAAAAAAAAAAIAAAAAAAAAAAAAAAAAAACAAAAAAAAAAAAAoAAAoIAAAgAAAAoAAiACgAgAAKAAAAAAAAAAAAoAAACgAAAAAgAAAgAAAKAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAgAAAAAAAAAAKAAAAACAAAAAAAAAoAAAAAAAgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAACgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAACggACgAAAAgAAAAAAAAAAAAAAAIAAAAAAAAAAAAAAAAAACgAAAAAgAAAAoiACqAAAIgoAAICgAAAAAAAAAAAAAKAAAAACAAAAAAAAoAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAACAAAAAoAAAAIAAAAAAAAAAAACgAAAgAAAAAAAAAKAAAAAAAIAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAoAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAoIAAAAAAAAAAAAAAAAAAAAAAAAgAAAAAAAAAAAAAAAAAAAKAAAAACAAAIAAooAIgAoAAAICgAAAAAAAAAAAAAAAAKACAAAAAAAAAAoAAAAAAAAAAAAACAAAoAAAIAAAAAACgAAAAAAAAAAAAAgAAAAAAAKAACAAAAAAAAAAAAAAoAAIAAAAAAAACgAAAAAAACAAAAAAAAIAAAACgAAAAAAAAAAAAAAAAAAAAAAAAoAAAAAAAAAAAAAAAAAAIACgAAAAAAAAAAACgAAAgAAAKCAAAAAAAAAAAAAAAIAAAAAAAAAAAAAAAAAAAAACgAAIIoAIAAAAoAoAACAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAoAAAAAAAAAAAACAAAAAAAAAAAAAAAAAoAAAAAAAAAAAAIAAAAAACgAAgAAAAAAAAAAAAAKAACAAAAAAAAAoAAAAAAAAgAACAAAAAAAAAAAAoAAAAAAAAAAAAAAAAAAAAAAAAAKAAAAAAAAAAAAAACAAAAoAAAAAAAAAAAoAAAAAIAAAAAAAgKAAAAAAAAACAAAAAAAAAAAAAAAAAAAAAAAIAAAAAAAAAAAACgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAKAAAAAAAAAAAAAgAAAAAAAAAAAAAAAAAAAAKAAAAAAAAACAAAAAAAoAAAIAAAAACgAAAAgKAAACAAAAAAAAoAAAAAAAAAgCAAAAAAAAAAAAAAoAAAAAAAAAAAAAAAAAAAAAAAAAAAAKAAAAAAAAAACAAAAAAoAAAAAAAAAoICgAAAAAAAgAACCgAgCgAAAAAAgAAAAAAAAAAAAAAAAAAAAAACAoIAAoIAAAAAAAKCAoAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAACgAAAAAAAAAIAAAAAAAAAAAAAAAAAAAAAAAACgAAAAAAAAgAAAAAKAACAAAAAAoAAAAAAAAAIAAAAAAAACgAAAAAAAACAIAAAAAAAAAAAACgAAAAAAAAAAAAAAAAAAgAAAAAKAAAAAAAACgAAAAgAAAAAAAAKAAAAAKCAAoAAAAICgAAgAAAKgAAgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAgAACggAAAAAAAAAoICgAAAAAAAAAAAAAAACAAAAAAoAAAAAAAAAoAAAAAAAAACAAAAAAAAAAAAAAAAAAAAAAAAAAAoAAAAAAAAIAAAAAAAAAAAAAACgAAAAAAAgAAAAAAAAAKAAAAAAAAAIgAAAAAAAAAAKAAAAAAAAAAAAAAAAAAAACAAAAAAAAAoAAAAAAAAAAAAAAAAAAAAAKAAAAKAAAAAACAoAAIACgAAIAAIAAAAAAAAAAAAAAAAAAAAAAAAAAAAAIAAAAAAAAAAAAAAAACggAAAKACAoAgAAAAAAAAAAAAAAAAAAAKgAKAoAAAAAAAACAAAAAAAAAAAAAAgAKAAAAAAAAAAACgAAAAAAAAAAAgAAAAAAAAAAAAAAKAACAAAAAAAAAAAAoAAAAAAAAAIIAAAAAAAAAoAAAAAAAAAAAAAAAAAAAAIAAAAAAAAACgAAAAAAAAAAAAAAAAAAAAAAoAAAoAAAAAICgAAAAAAAAIAAIAAAAAAAAAAAAAAAAAAAAAAAAAAAAAIAAAAAAAAAAAAAAAACggAAAAAAAKIAAAAAAAAAAAAAAAAAAAAgKAqgAAAAAAAAgAAAIAAAAACgAAAgAAAAKAAAAAAAAAACgAAAAAAAAAAgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAKAAAAAAAACAACAAAAAAAKAAAACAAAAAoAAAAAAAAIAAAAAAAAAAAAACgAAAAAAAAAAAAAAAAAAAAAAoAAoAAAAICggKAAAAAAAAgAAgAAAAAAAAAAAAAAAAAAAAAAAAAAAAgAAAAAAAAAAAAAAAAKCAAAAAAAAACKAAAAAAAAAAAAAAACAoIAAACqAAoAAAAIAAAACAAAAAAAoAAAIAAAAAAAACgAAAAAAoAAAAAAAIAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAACgAAAAAAAAgAAgAAAAAACgAAgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAKAAAAAAAAAAAAAAAAAAAAAAACgACgAAAAAAAAAAAAAIAAAIAAAAAAAAAAAAAAAAAAAAAAAAAAAIAAAAAAAAAAAAAAAAAAAAAAAAAAAAIAoAAAAAAAAAAAAIAAAAAACqAAAAAAAAAAAAgAAAAAAAAKAACAAAAAAAAAAAoAAAAAKAACAAAAAAAAAAAAAAAAgAAKAAAAAAAAAAAAAAAAACgAAAAAAAAgAAAgAAAAACgAgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAKAAAAAAAAAAAAACAAoAAAAAAAAAoACgAAAACAoICgAAIAAAAIAAAAAAAAAAAAAAAAAAAAAAAAAAAIAAAAAAAAAAAAAAAAAAAAAAAAAAAAIAAAAoICgAgKACAoIAAAAAAACqAAAAAAAAAAAAgAAAAAAAAKAACAAAAAAAAAAAAoAAAAAAAAAAAAAAAAAAAAAAAAAIACgAAAAAAAAAAAAAAAAAoAAAAIAAAAAAAIAAAAAAAAAAAgAAAAAKACAAAAAAAoAAAAAAAAAAKAAAAAAAAAAAACAAAAAoAAAAAAAAAAoAICggAACgAACoAAAAAIAAAAAAAAAAAAAAAAICgAAAAAAAAAgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAgAAAAAAAAAAAAAAAAAAAooAAAAAAAAAAAAgAAAAAAAKAAACAAAAAAAgKAAAAACgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAoAAIAAAAAAAAAAIAAACggAAACAAAAAAAAAAAAAAAAAoAAAAAAAAKAAAAAAAAAAAACAAAAAAAoAAAAAAAAoICggAAAAAAAKAAAAAACAACAoAAAAAAAAAAAAAAAAAAAAAAIAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAIAAAACggAAAAAAAAAoAAAAAAoAAAAAAAAAgAAAAAAAKAAACAAAAAgAAAAAKAAAACgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAoAAIAAAAAAAAAAAAAICggAACAAAgAAAAKAAAAAAAAACgAAAAAAoAAAAAAAAAAAAAAIAAAAAACgAAAAAAAAAgAKAAAAAAAAKAAAAACAACAAoAAAAAAAAAAAAAAAAAAAgACCgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAgAAAAoAAAAAAAAAoAAAAAAAAAgAAAAAAAKAACAAAAAAgAAAAAAAKAAAACgAAgAAAAKAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAIAAAgAAIAAAAAAACgAAAAAAAoAAAAAKAAAAAAAAAAAAACAAAAAAAAoAAAAAAIAAAAAAAACgAAACgAAAACIAAKAAAAAAAAAAAAAACAoAAAAgACAAAACgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAgAAAoAAAAAAAAAAoAAAAAAAAAAgAAAAAAAAAAAAAAIAAAAAAAAACgAAAAAAAAAAAAoAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAgCAAAAgAAAAAAAKAAAAAAACgAAAAAoAAAAAAAAAAAAIAAAAAAAAACgAAAgAAAAAAAAAAAKAAAKAAAAAIgAAAAAAoAAAAAAAAAIAAAAIAAAAAAAACgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAgAAoAAAAAAAAAAAAAoAAAAAAAAgAAAAAAAAAAAAAAIAAAACAoAAAAAKAAAAAAAAAAAAAAAAAACgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAACAIAAACAAAAAAAoAAAAAAAAKAAAAAACgAAAAAAAgAAAAAAAAAAAAAAKCAAAAAAAAgAAAKAAKAoAAAAAACIAAAAAAAAKCAAoIAAAAAAAIAAAAAAAACgAAACgAAgAAAAAAAAAAAAAKCAAAAAIACgAAAgAoAAAAAAAACAAoAAAAAACgAAAACAAAAAAAAAAAAAAAgAAAAAIACgAAAAoAAAAAAAAAAAAAAAAAAAAKAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAIgAAAAIAAAAACgAAAoAAAIAACgAAAAAAoAAAIAAAAAAAAAAAAAAAAAAAAAAKCAoIgAAAAAqgAAAoAAAAACIAAAAAAAAAAAAAAAAAAAgAAAAAAAAAKAAKCAAAoAIAAAAAAAAACgAAgAAACAAAAAACgAAAAAAAAAIAAAACgAAAAAAKAAAIAAAAAAAAAAAAAACAAAAAAAAAAAAAAoAAAAAAAAAAAAAAAAAAAAAKAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAACCAAAAAAAAAAAAKAAAAAACAAAAoAAAAAAAAAAAAAAIAAAAACgAAAAAAAAACgAAiAAAAACgKAAACgAAAAIgAAAAAAAAAAAAAAAAACAAAAAAAAAAoAAAoAAAICggAAAAAAAAAAKCAAAIAAAAAAAKAAAAAAAAAAgAAAAAAKAAAAAAAoAgAAAAAAAAAAAAAIAAAAAAAAAAAAAAACgAAAAAAAAAAAAAAAAAAAAAoAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAIIAAAAAAAAAAAoAAAAAAIAAAAACgAAAAAAAAAAAgAAAAAAAAKAAAAAAAAAAKACAIAAAAKAoAAAAKAAACIgAAAAAAAAAAACgAAAgAAAAoIAAAAAAoAAoAAAAAAAIAAAAAAAAAAAAAAgAAAAAAoAAAAAAAACAAAAAAAAAAAoAAAAIAoAAAAAAAAAAAAAgAAAAAAAAAAAAAAAKAAAAAAAAAAAAAAAACAAoAAAAKAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAACACAAAAAAAqgACAAAAAAAIAAAAAACgAAAAAAAAAgAAAAAAAAAAKAAAAAAAAAAKACIAAAAKAoAAAAAKCAAIgAAAAAAAAAAAAAAAAAAAKAACAAAAAKAKAAAAAAAAAAAACAAAAAAAAAAIAAAAAAAKAAAgAAAAAAAAAAAAAAAAAKACAAKAAAAAAAAAAAAAIAAAAAAAAAAAAAACgAAAAAAAAAAAAAAAAAAAAAAAAoAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAIAIAAAAACqAAAICggAAAACAAAAAAAAoAAAAAAAAIAACAAAAoAAAAKAAAAAAAAKAAAAgAAAKAAAAAAAAAAiAAAAAAAAAAAAAAAAAAAoAAIAAAAAAooAAAAAAAAAAAAIAAAAAAAAAAAgAAAAAAoAACAAAAAAAAAAAAAAAAAAAAAAAKAAIAACgAAAAAAAgAAAAAAAAAAAAAAKAAAAAAgKAAAAAAAAAAAAAAAAAAKAAAAAAAAAAAAAAAAACAAAAoAAAAAAAAAAAAAAAAIAAAIAACqAAAAAAAAIAAAgAAAAAAAAKAAAAAAACAAAgAAAAKAAAAAAAACgAAAoqAAAAAAAAAAoAAAAIAAiAAAAAAAAAAAAAAAAAAAAoIAACgAgACgCgAAAAAAAAAAAgAAAAAAAAAACAAAACgAAAIAAAAAAAAAAAAAAAAAAAAAAAAoAgAAAAKAAAAAAACAAAAAAAAAAAAAoAAAACAAAAAoAAAAAAAAAAAAAAAAAAoAAAAAAAAAAAAAAIAAAAACgAAAAAAAAAAAAAAAgAAAAAKAAAAAAAAAAIAAgAAAAAAAAKAAAAAAACAAAgAAAAKAAAAAAAAACgAAooACAAAAAoAAAAAAAIAAiAAAAAAAAAAAAAoAAAAIAACgAAgAAAACigAAIAAAAAAAAAIAAAAAAAoAAIAAKAAAAAgAAAAAAAAAAAAAAAAAAAAAAAAAIoAAAAAoAAAAAAAIAAAAAAAAAAAACgAAIAAAAAAAACgAAAAAAAAAAAAAAAAACgAAAAAAAAAAAAgAAAAAAKAAAAAAAAAAAAAACAAAAAoAAAAAAAAAAAAgACAAAAAAAoAAoAAAAIAgAAAIAAACgAAAAAAAAAoAAKKAAAAAAAAAAAAAAAgACIAAAAAAAAAAAACgAAAgAAAAAAAAAAAAKAAAAACAoICggAAAAAAAAAAAAAKAAAAAAAgAAAAAAAAAAAAAAAAAAAAAAAAAIoAAAAAoAAAAAAAAIAAACAAAoAAAAKAAgAAAAAAAAAAAKAAAACAoAAAAAAAAAAAAoAAAAAAAAAAIAAAAAAAAAAAAAACgAAAAAgAAAAKAAAAAAAAAAAAAAAAAIgAAAKAAKAAAAAACIAAACAAAAAAAAAAAAoAAKAAKoAAAAAAAAAAAAAAIAAiAAAAAAAAAAAAoAICggAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAKAAAAAAAAgAAAAAAAAAAAAAAAAAAAAAAAAAAIoAAAAoAAAACAAAoAgAAIAAACgAAAoCAACgAgAAAAAAACgAAAAAAAAAAAAAAAAAAAACgAAAAAAAAgAAAAAAAAAAAAAAAAAAAAAAAKAAAAACAAAAoAAAAAAAAAAAAAAAAAAAAAAAiAAAAgAAAAAAAAAAKAACgAACqAAAAAAAAAAAAACAAIgAAAAAAAAAAAKAAAACAAAAAAAAAAAAAAoIAAAAAgAAKAAAAAAAAAAAKAAAAAAAAAgAAAAAAAAAAAAAAAAAAAAAAAAAAAIoAoAAAAACAAAAAogAAIAAACgAAAoCAAAAAAAAAAAAAoAAAAAAAAAAAAAAICgAAAAAACgAAAAAAgAAAAAAAAAAAAAAAAAAAAAAKAAAAACAAAAAAoAAAAAAAAAAAAAAAAAAAAAIIAAAAgAAAAAAAAAKAAAACgACgAKAAAAAAAAAACAAAIgAAAAAAAAAAAKAAAAAACAAAAAAAAAAAoIAAAAgAAAAAAKAAAAAAAAKAAAAAAAAAAgAAAAAAAAAAAAAAAAAAAAAAAAAAAACgAAAAAgAAAAAAKIAAACAoAAAAKgAAAAAAAAAAAAKAAIAACgAAAAAAAAAAICgAAAAAAACgAAAAgAAAAAAAAAAAAAgKAAAAAAAAoAAAAIAAAAAACgAAAAAAAAAAAAAAAAAAAAAggAAAACAAAAAAoAAAAAAAKAAKAAAAoAAAAAAAAIAAAiAAAAAAAAAAAAoAAAAAAIAAAAAAAAAAAAAAAgAAAAAAAAKAAAAAKAAAAAAAAAAAAgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAACggAAAAAAAAgCgAAAAAACgIAAAAAAAAAAAIoAAAAAAAAAoAAAACAoICgAAAAAAAAAACgAAgAAAAAAAAAAAAIACgAAAAAAoAAAAAAIAAAAACgAAAAAAAAAAAAAAAAAAAAgAgAAAACAAAAAoAAAAAAAAAKAAKAAAAAoAAAAAAIAAAiAAAAAAAAAAAoAAAAAICgAgAAAAAAAAAAAACAAAAAAAAAAoAAAAqAoAAAAAAAAAAIAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAACAKAAAAACCgAAAAAAAAAgAACgAAACAoAAAAKAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAACAAAoAAAAAAKAAAAAACAAAAAoAAAAAAAAAAAAAAAAAAAAAIAIAAAAAAgAAKAAAAKCAAAAAAAqgAAAAAAoAAAAAAIAAiAoIAAAAAAACgAAAAAgKAAACAAAAAAIAAACgAAgAAAAAAAKAAKAAAgAKAAAAAAAAACAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAgCgAgAoAAAAAAAAIAAAAAAAogAAAAAKAACoAAAAACgACAAAAAoAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAKAAAAACAAAAoAAAAAAAAAAAAAAAAAAAAAAAIIAAAAAAAAACgAAAAAAAAAAAAKAAAAAAACgAAAAAgCAAAAAAAAAAAAAAAAAIAAAAAAAAAAgAAAKKCAAIAAAAACgCgAAAAAIACgAAAAAAAAAgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAIACgAAAAAAAAAAAAAAAAAAgAAAAAAAAAAIAoAAAAqAAACgAAAAKAIAAAAAACgAAIAAAACgAAAAAAAAAAAAAAAAAAAgAKKgKAAAIAAACgAAAAAAAAAAAAAAAAAAAAAAAAgAgAKAAAAAAAAAoAAIAAAAAAACgAAAAAAAoAAAAAIgAAAAAAAAAAAAAAAAAACAAAAAAAIAAAACgCgAAgCAAAooAAAAAAACAAAAoAAAAAAAIAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAACAAAAAoAAAAAAAAAAAAAAAIAAAAAAAAAACAAAAAAAoAAAKAAAAoAgAAAAAAAAKgAAAAAAAKAAAAAAAAAAAAAAACAAAAAAAAoAAAAAAoAAAAAAAAAAAAAAAAAAAAAAAAAIAAAAAAAAAACgAAAAAgAAAAAAKAAAAAAACgAAAAiAAAAAAAAAAAAIACgAgAAAAAAAACAAAAAoAoAICggKCAoAAAAAAAAACAAAAAoAAAAAAIAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAACAAAAAAAoAAAAAAAAAAAAAIAAAAAAAAAAAAACAAoAAAAAAAACgAAAAAAAAAAgoAAAAAAACgAAAAAAAAAAAAAAAgAAAAAAAAAAAKAAKAAAAAAAAAAAAAAAAAAAAAAAAACAAAAAAAAAAAoAAAAAAIAAAAAAAACgAAAAoAAAAIgAAAAAAAAAAAACAoIAAAAAAAAAgAAAAKAAKAAAAAAAAAAAAAAAAgAAAAAAKAAAAACAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAgAAAAAAAKAAAAAAAAAAAAACAAAAAAAAAAAAAAAAAAAAAAAKAAAAAAAAAACACgAAAAAAAAKAAAAAAAAAAAAACAAAAAAAAAAAAAAAoAAoAAAAAAAAAAAAAAAAAAAAAAAIAAAAAAAAAAACgAAAAAgAAAAAAAAAAKAAAACgAAAiAAAAAAAAAAAAIACggAAAAAAACAAAAAoAoAAAAAAAAAAAAAACAAAAAAAAAAAoAAAIAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAACAAAAAAAAAoAAAAAAAAAAAIAAAAAAAAAAAAAAAAAAAAAAAAoAAAAAAAIAAAAKAAAAAAAAoAAAAAAAAAAAAAIAAAAAAAAAAAAAAAAAACgCggAAAAAAAAAAAKAAAAAAACAAAAAAAAAAAAAAAoIAAAAAAAAAAAAAACgAAAoAAAIgAAAAAAAAAAAAACAAAAAAAAAIAAAAKoAAgKAAAAAAAAAAgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAIAAAAAAAACgAAAAAAAAAgAAAAAAAAAAAAAAAAAAAAAAAACgCAAAAAqAAAAACgAAAAAAAAAKAAAAAAAAAAAAACAAAAAAAAAAAAAAAAAAAoAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAoAAAKAAACIAAAAAAAAAAAAgAAAAAAAAAACAACgAiigAAAAAAAAAIAAAAAACAAAAAAAoAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAIAAAAAAAAACgAAAAAAAAgAAAAAAAAAAAAAAAAAAAAAAAAACiAAAAAAqAAAAACgAAAAAAAKAAAAAAAAAAAAAAACAAAAAAAAAAAAAAAAAAAAoAAAAAAAAAAAAAAAAAAAAAgAAgAAKoAAAAAAAAAAAAAAAAAAAAAAAKAAAACgAAiAAACAAoAAAAAgAAAAAAAAAAACACggKAAoAAAAAAAIAAAAAACAAAAAAAAAAoAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAIAAAAAAAAACgAAAAAAAAgAAAAAAAAAAAAAAAAAAAAAAAAAACiAAAAAAIKAAACgAAAAAAAAKAAAAAAAAAICgAAAIAAAAAAAAAAAAAAAAAAAAAACgAAAAAAAAAAAAAAAACAACAAAAAAqgAAAAAAAAAAAAAAAAAAAAAAoAAAAAKADKAAICgAgAAACgAAAAAAAAAAAAgAAAAAoAAAAAAAAAAAAACAAAAAAAAAAAAoAAAAAAAAAAAAAAAAAAAAAAAAAAAAIAACgAAAAAgAAAAAAAAKAAAAAAAACAAAAAAAAAAAAAAAAAAAAAAAAAAAAAigAAAAgoAAAAKAAAAAAAAoAAAAAAgAAAAAAKAAAAAAggKAAAAAAAAAAAAAAAAAoAAAAAAAAAAgAAAAAAAgCAAAAAoAoCgAAAAAAAAAAAAAAAAAAAAoAAAAAAAKDKAIAAAAAAAAAAoAAAAAAAIAAAAAAAAKAAAAAAAAAAAAAAgAAAAAAAAAAAAKAAAAAAAAAAAAAAAAAAAAAAAAACAAAAAAAAoAIAAAAAAAAACgAAAAAAAgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAIAoAIAKAAAAAACgAAAAAKAAAAIAAAAAAAAAAAAAAAAAgAAAAKCACgAAAAAAAAAKAAAAAAAAIAAAAAIAAgAAAAAAAAKKAoAAAAAAAAAAAAAAAAAAAKAAAAAAAACIAAgAAAAAAAAAACgAgAAAAAAAAoICgAAAAAAAAAAAAAAAIAAAAAAAAAAAAAACggAAAAAKAAAAAAAAAAAAAAAACAAAAAAAAAAAAAAAAAAAoAAAAAAAIAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAACAAAAoAAAAAAAAKAAAAAoAAAgAAAAIAAACgAAAAAAAAAIAACgAAgAoAAAAAAAAgKAKAAAAAAIAAAACCAAAAAAAAAAAKKAAoAAAAAAAAAAAAAAAAAKAAAAAAAAACIAAAgAAAAAAAAAAAAAAAAAKACAoAAAAAAAAAAAAAAAAAACAAAAAAAAAAAAAAAAAAAAAAAoAAAAAAAAAAAAAAIAAAAAAAAAAAAAAAAACgAAAAAAAgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAACgAAACoACgAAACAAAgAAAAgAACigAAAAAAACAoAAAIAKAAAAAIAACgACgAAAACAAAAAggAAAACAAAoAAAqgAAoAAAAAAAAAAAAAAAAAKAAAAAAAAACIAAAAgAAAAAAAAAAAAAAKAAAAAAAAAAAAAAAAAAAAAAAAAAgAAAAAAAAAAAAAAAAAAAAAKAAAAAAAAAAAACAAAAAAAAAAAAAAAAAAoAAAAAAAIAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAoAAAAAIKAAoAAgAAAIAAAIAAAAAAAooAAAAAgKAAACAACgACAAAAAAAoAoAAAgAAAAAIIAAAAgAAAKAAACigAKAAAAAAAAAAAAAAAACgAAAAAAAAAAiAAAAIAAAAAAAAAAAACggKAAAAAAAAAgAAAKAAAAAAAAAAAAAACAAAAAAAAAAAAAAAAAAAAAoAAAAAAAAAAIAAAAAAAAAAAAAAAAACgAAAAAgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAIoAAAoACACgAAKIAAACAACAIAACgAAAAoAoAAAgAKAAACACiAoIAAAACgAAACiAAAAAAACIKAAAACAAAAAAAqgAoAAAAAAAAAAAAAAAAAKAAAAAAAAAACIAAAAAAAgKCAAAoICgAAAAAAAAAAAAAIAAAACgAAAAAAAAAAAAAgAAAAAAAAAAAAAAAAAAAAAKAAAAAAACAAAAAAAAAAAAAoAAAAAAAAAIAAAAAAAAAAACgAAAAgAAAAAAAAAAAAAAAAAAAAAAICgAAAAAAgCgAAACoAAKAAAogAAAIAACCAAAAKAAACgCgAAAAAAACAACiAoAAAAAAICgCggggqgAAAAAAIAAAAAAIAACgAKACgAAAAoIAAAAAAAAAACgAAAAAAAAAAAiAAAAAAAAAAAAAAAAAAAAAAAAAAAACAAAAAoAAAAAAAAAAAAAIAAAAAAAAAAAAAAAAAAAAACgAAAAAAgAAAAAAAAAAAKAAAAAAAAACAAAAAAAAAAAAoAAAAAAAAIAAAAAAAAAAAAAAAAAAAACAoAAAAAAIAAoAAIKAAACgAAigAACAAAggAAACgAAoAAoAAAAAAAAAgCAKAKAAAAAAAACAqAKAAAAAAAAAIAAAAAAAACgAAoAAAKAACAAAAAAAAAAAoAAAAACAoICgCIAAAAAAAAAAAAAAAAAAAAAAAAAAAAIAAACgAAAAAAAAAAAAAgAAAAAAAAAAAAAAAAAAAAAAKAAAACAAAAAAAAAAAAoAAAAAAAAIAAAAAAAAAAAAAACgAAAAAAAAAgAAAAAAAAAAAAAAAAAAAIACgAAAAAAgAAAAKAAACgAgACgACAAACIAAACgAAoAoAAAAAAAAAAiAAAKKAgAAKAAAAAAAoAAAAAgAAAAIAAAAAAACgAAoAAKAAACAAAAAAAAAAAAoAAAAAAACAoiAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAACAAAAAoIAAAAAAAAAAAAAAAAAAAAAAACgAAgAAAAAAAAAAAAKAAAAAAAACAAAAAAAAAAAAAAAAoAAAAAAAAAAAIAAAAAAAAAAAAAAAAAACAoAAAAAAIAAAACgAAAoAIAAAoAAgAAIIAAAoAAKKAAAAAAAAgKAIIAAAAoAAAAACgAAAAAKAAAAAAIAAACAAAAAAAoAAKAACgAAAgAAAAAAAAAAAAKAAAAAgAAKIgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAKACAAAAAAAAAAAAAAoAAAAAAAAIAAAAAAAAAAAAAAACgAAAAAAAAAAAAgAAAAAAAAAAAAAAAAAAAAAAAAAAAICgAAAAAAAAAAAKAIAAAIgAKAAAKAoAAAAAIAAAAIqAAAKAAAAAAAoAAAAACgAAAAgAAAigACAAAAAoAAKAAACgAAAgAAAAAIACgAAAAAoAACAAAAoiAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAACAAAAgAAKAAAAAAAAAAAAAAAAAAAAAAAAACgAgAAAAAAAAAAAAAAAKAAAAAAACAAAAAAAAAAAAAAAAoAAAAAAIAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAogAAAAiCqIACgAAAAAAAAAAAgCoAAoAAAAAAACgAAAAAAAKCAAICgAIAoAAAgAKAAACgAAAoAAIAAAAACAAAAAoAAAAKAAAgAKCCAAAAAAAgAKAAAAAAAAAAAAAAAAACAAAAAAAAAAAAgAAAAKAAAAAAAAAAAACgAAAgAAAAAAKACAAAAAAAAAAAAAAAAAAAoAAAAAIAAAAAAAAAAAAAAACgAAAAAgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAACiAAAACAoAAAAAAAAAAAAAIAqAAKAAAAAAAAoAAAAAACggAAACAoACKAAAAAAAAKAAAACgAAgAAAAIAAAAAACgAAAAoAACAACAAAAAgAAAAAKAAAAAAAAAAAAAACAAAAAAAAAAAAgAAAAAAAKAAAAAAAAAACgAAAAAAgAKCAAAAAAAAAAAAAAAAAAAAAAAAoAAAIAAAAAAAAAAAAAAAACgAAAAgAAAAAACggAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAKIAAAAAAAAAAAAAAAAAAIAIKAKAAAAAAAAoAAAAAAAAAAAAAgKCACqgAgKAAAAoAAAAAAAAAAAAAIAAAAAACgAAAAoAAAAAIgAAAAgAAAAAKAAAAAAAAAAAAAACAAAAAAAAAAAAgAAAAAAAKAAAAAAAAAACgAAAAAAAAgAAAAAAAAAAAAAAAAAAAAAAAAAKACAAAAAAAAAAAAAAAAAAoAAAIAAAAAAogAAAACACgAAAAAAAAAAAAAAAAAAAAAgAAAKAAAAAAAAAAAAogAAAAAAAAAAAAAAAAAggoAoAAAAAACgAAAAAAAAAAAAAACAoIAAKAoCAAAoAAAAAAAAAAAAAAIAAAACgAAAAAAoAAAAAIgAAAgAAAAAAKAAAAAAAAAAAAACAAAAAgAKAAAACAAAAAAAAAAoAAAAAAAAKAAAAAAAAACAAAAAAAAAAAAAAAAAAAAAAAAAAAoAIAAAAAAAAAAAAAAAAACgAAgAAAAIoAAAAAAAIAKAAAAAAAAAAAAAAAAAACAAAAAAAAAoAAAAAAAACiAAAAAAAAAAAAAAAAAqAICgAAKAAAAAAAAAAAAAICgAAAgAAAKCAACqAAAAAAAAAAAAAAAAAAAAgAKAAAAAAAAACgAAAAiAAACAAAAAAAoAAAAAAAAAAAAAIAAACAAAAAoAAIAAAAAAAACgAAAAAAAAAoAAAAAAAAAAIAAAAAAAAAAAAAAAAAAAAAAAAACgAgAAAAAAAAAAAAAAAAAKACAAAAAAigACAAAAoCACgAAAAAAAAAAAAAAAgACgAAAAAAgAAAoAAAAAAAACiAAAAAAAAAAAAAAAqAAAACgAAAAAAAAAAAAAAAAAAAACAAAoAICioCgAAAIAACgAAAAICggKAAAAAAAAAAAAAAAKAAAACIAAIAAAAAAACgAAAAAAAAAAAAAgAAAIAAAAAAAAAAAAACgAAAAAAAAAAAAoAAAAAAAAAAIAAAAAAAAACgAAgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAIoAAgAAAKAgAoAAAAAAAAAAAAAAIAoAAAgAAKAAgAAAoAAAAAAAACiAAAAAAAAAAAAAqAAAAACgAAAAAAAAAAAAAACAAAAoIACggAKCAAoAoAAAgAAAAAKAAAgAAAKAAAAAAAAAAAAAAKAAAACIAIAAAAAAACgAAAAAAAAAAAAAAAgAAIAAAAAAAAACgAAAAAAAAAAAAAAAAoAAAAAAAAAAAIAAACgAAAAAAAAgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAACgAAAAAgAKIACAAAAoCACgAAAAAAAAAAAAAgCgACAAAAAAoACAACgAAAAAAAAAigAAAAgqgAAAgAAAAAAAoAAAAAAAAAAAAAAAAgKAACAAAAAAoAAAAAAogAAAAAAAKAAAgAAAAKAAAAAAAAAAAAAAKAADKAAAAAAAACgAAAAAAAAAAAAAAAAgAAAIAAAAAAACgAAAAAAAAAAAAAAAAAoIAAAAAAAACgAAAAAAAAAAAAAAgAAAAAAAAAAAAAAAAAAAAAAAAAAICgAKAAAAAACAAACKAAIAACgIAKAAAAAAAAAAAACAKAIAAAAAAAACgIAKAAAAAAAAAAACKACCgAAAAAAAAAAAAAAoAAAAAAAAAAAIIKAAAAqoAAgAAKCAoICgAAACiAAAAAAAAoACAAAAAAAAAAoAAAAAAAAAAAAAgACAAAAACgAAAAAAAAAAAAAAAAAgAAAAIAAAAAACgAAAAAAAAAAAAAAAAAAAAAAAAAAAAoAAAAAAAAAAAAIAAAAACAAoAAAAAAAAAAAAAAAAAAAAAACgAAAAAAAgAAAigACAoCAACgAAAAAAAAAAAAgCiAAAAAAAAAAoCACgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAoAAAAAAAAIAAAqAAAAAoACoAgAAAAKAAAAAAigAAAACgAAAIAAAAAAAAAAACgAAAAAAAAAACAAAIAAKAAAAAAAAAAAAAAAAAAACAAAAAgAAAAAKAAAACgAAAAgAAAKAAACAAAAAAAAAAAAAAAoAAAAAAAAIAAAACAAAAAoAAAAAAAAAAAAAAAAAAAAAACgAAAAAAgAAAAigAgAAAoAAAAAAAAAAAAIAAogAAAAAAAAKAAgoAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAKAAAAAAACAAAKgCAAACqAAACoAAgAAKAAAAAAAAKAAAAAACAAAAAAAAAAAAAAAAoIACgAgAAAigAAgAoAAAAAAAAAICgAAAAAAAAAgAAAAIAAAAACgAAAoAAAAAAAAAAAAAIAAAAAAAAAAAAAAACgAAAAAAgAAAAIAAAAACgAAAAAAAAAAAAAAAAAAAAAAAAKAAAACCggAAIAAAAACgAAAAAAAAAAAAgACiAAAAAAAAoACACgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAoAAAAIAAAAoggAAAAAKAoAAKgCAoAICgAAAAAAACgAAAAgAAAAAAAAAAAAAAAAAAAAAAAAAigAAAgoAAAAAAAAAIACgAAAAAAAAgAAAAIAAAACgAAAoAAAAAAAAAAAAAAIAAAAAAAAAAAAAAAACgAAAAAgAAAIAAAAAAACgAAAAAAAAAAAAAAAAAAAAoAIAAoAAAIKCAAAAgAAAAKAAAAAAAAAAAACAAKIAAAAACgAAIAKAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAACgAAAgAAAIAqAAIAAAACigKAAAgAoAAAAAAAAAAAACgAAAgAAAAAAAAAAAAAAAAAAAAAAAAioCgACCgAAAAAAAAAAAAAAAAAAAAgAAAAAIAACgAAAoAAAAAAAAAAAAAAAAIAAAAAAAAAAAAAAAACgAAAgAAAIAAAAAAAACgAAAAAAAAAAAAAAAAAoAAAAAAIAoAAAIAAAAIAAACgAAAAAAAAAAAAAgAAIAoAAoACAAAACgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAoAAIAAACAKAgCAAgAAKACigKAAAgAoAAAAAAAAAAACggKCAAAAAAAAAAAAAAAAAAAAAAACgAyqAAogAoAAAAAAAAAAAAAAAAAAAAAIAAAAAAAAAAACgAAAAAAAAAAAAAAAAgAAAAAAAAAAAAAAAAAKACAAAAAgAAAAAAAKAAAAAAAAAAAAAAAAACgAAAAAAAAAAAAgAAAAAIACgAAAAAAAAAAAAAAgAAAIoAoACAAAACgAAAAAAAAAAAKCAAAAAAAAAAAAAAAAAAAAAAAAAACAKAAiAAAgAAAAKACigKAAgAoAAAAAAAAAACggAAAAAAAAAAAAAAAAAAAAAAAAoAAMqgAigAKAAAAAAAAAAAAAAAAAAAAAAACAAAAAAAAoAAAAAAAAAAAAAAAAAAIAAAAAAAAAAAAAAAAAAAAAAAACAAAAAAAAoAAAAAAAAAAAAAAAAAKAAAAAAAAAAAACAAAAAAAAAAAAAAAAAAAAAAAgAAAAAACggAAAAoAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAIAoAACIACAAAAAAAoAKKAoACCgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAoAAAMiAAoAACgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAgAAAAAAAAAAAAAAAAAAAAAAAAAAIAAAAAACgAAAAAAAAAAAAAAAAAAAAoAAAAAAAAAAAIAAAAAAAAAAAAAAAAAAAAAACAAAAAAKACAAACgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAgCgAACACAIAACAAAAoAKCigKACoAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAKAAAADIgKAAAAAoAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAIAAAAAAAAAAAAAAAAAAAAAAAAAAAAACAAAAAAoAAAAAAAAAAAAAAAAAAAAAACgAACgAIAAAAAIAAAAAAAAAAAAAAAAAAAAAACAAAAAAKCAAACgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAgACgAACAACAAIACAAAAAoAKKoKAAgoAAAAAAAAAAAAAAIAAACgAAAAAAAAAAAAAoAAAAAMgAAAAAAAAAoAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAIAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAACAAAoAAAAAAAAAAAAAAAAAAAAAAACgAAAAAAgoAAAAAIAAAAAAAAAAAAAAAAAAAAAAACAAAAAAAAoAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAIAAAoAAgAAAAAiAAAgAAAAAKCgooCgIKAAACAAAAoAAAAAIAAAAACgAAAAAAAAAAAAoAAAAAMgAAAAAAAAAAoAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAIAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAACAKAAAAKAAgAAAoAIAAAAAAAAAAAAAAAAAAAAAAAAACAAAAAAAoAAAAAAAAAAAAAAAAAAAAAAAAAIACgAAAAAgAACiAAAAAAAACIAACAAAgKACgoAqgoACCgAgAAAAAKAAACAAAAAAAAoAAAAAAAAAAAKAAAAADIAAAAAAAAAAKAAAAAAAAAAAAAAAAAAAAAACgAAAAAAgAAAAAAAIAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAACAAKAAAAAAKgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAgAAAAAKAAAAAAAAAAAAACgAAgAAAAAAAAIoAAAIKAACAAAKIAAAAAAACACAAAAIAAAACgCqCgoACAAAAAAAAACgAAAgAAAAAAKAAAAAAAAAAAACgAAAAgAAAIAAAAACgAAAAAAAAAAAAAAAAAAAAAAAoAAAAAAAIAAAAAACAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAgAACgAAAAAAgoAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAIAAAAACgAAAAAAAAAAAAAoAAAAIAAAAAAACKAAAACAAAAogAAAAAAAAIAIAAAAgAAAAKCgAooCgAIAAAAAAAAKAAACAAAAKCACgAAAAAAAAAAAAAAoAAIAAAAACAAAoAAAAAAAAAAAAAAAAAAAAAAAAKAAAAAAAACAAAAAAAgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAIAAAAoAAAIAAKAAAAAAAAAAAAAAAAAAAAAAAAAAAACAAAAAAAoAAAKACAAAAAAAAAoAAAIAAAAAAACAKAAAAAAAIAAAAAAAACAACAAAAAAICgAAoAqgAoAAACAAAAAACgAAAgAAAAAAAKAAAAAAAAAAAAAACgAgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAKAAAAAACAAAAAAAAgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAIAAAAAAAAACgAAAAAgAAAAAAKAAAAAAAAAAAAAACAAAKAACACgAAAAoIAAAAAAAAAAAAAAAAAAAAAACKAAAAAIAAAAAAAAAACAAAACAAAAAAKACigAAKAAAAAgAAAAoAAAIAAAAAAACgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAoAAAAAIAAAAAAACAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAgAAAAAAAAAAAAAAAAAAAAAAAAKAAAAAAAACAAAAKIAACgIAKAAAAAAAAAAAAAAAAAAAAAAAAAAAACAAKAAIAAAAAAAAAAACAAAAAAAoAAAKAAAAAAAAACgIAAAKAAACAAAAAAAAoAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAKAAAACAAAAAAAAAgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAIAACgAAAAAAAAAAAAAAAAAAAAgAAAAAAAAAAAAAAAAAAAAAAKAAAACAAAKAAAAIAAAACoAKAAAAAAAAAAAAAAAAAAAAAAAAAAAAAACAKAAIAAAAAAAAAAAAAAAAAAACgAAAAAAAAAAAAoCAACgAAgAAAACggAAoAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAKAAACAAAAAAAAAgAAAAAAAAAAAAAAAAAAAAAAAAAAKAAACAAAAAAgAAAAKAAAAAAAAAAAAAAAAAAAAAAACAAAAAAAAAAAAAAAAAAoAAAAIAAoAAAAgAAAAAAKgAAoAAAAAAAAAAAAAAAAAAAAAAKAAAACAAAgAAAIoAAAAAAAAAAAAAAAAoAAAAAAAAIIAAACqACgIAAKCAAAAAKAAACACgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAoIAAAAAAAAAACAAAAAAAAAAAAAAAAAAAAAAAAAoAAAAAIAAAACAAAAAAoAAAAAAAAAAAAAAAAAAAAAAAAIAAAAAAAAAAAAAACgAAAAgACgCAAAAAAAAAAAqAACgAAAAAAAAAAAAAAAAAAAAAoAAAAAAAIAACAAAAAgCgAAAAAAAAAACgAAAAoIAACACAAAAAqgAoCAAAAAAAAoAAAAIKAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAACAAoAAAAAAAAAAAAAAAAIAAAAAAAAAAAAAAAAAAAAAAACgAAAAAgAAAAAAIAAAAACgAAAAAAAAAAAAAAAAAAAAAAAAgAAAAAAAAAAAAKAAAAACAKAIAACAAAoAAAACCgAAoAAAAAAAAAAAAAAAAAAAAAKAAAAAAAACAAAgAAAAAIAoAAAAAAAAoACAACgKCCKAAIIAgAKAKAoAKgAAAAAAigAACgAIAKAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAACAAoAAAAAKACAAAAAAAAAgAAAAAAAAAAAAAAAAAAAAAAKAAAAAACAAAAAAAAgAAAAAAAKAAAAAAAAAAAAAAAAAAAAAACAAAAAAAAAAAoAAAAAAIAoAgIAAIAAACqAACoAAAKAAAAAAAAAAAAAAAAAAAACgAAAAAAAAAAAgAAAIAAAACAKAAAAAKgAAAAoAAAAIAogAgCAAoAoCgAqAAAACAKAAAAKAAgAoAAAAAAAAAAAAKCAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAoAAAIAAAAAACAAAAAAAAAAAAAAAAAAAAAAAAoAAAAAAIAAAAAAAAACAAAAAAAoAAAAAAAAAAAAAAAAAAAAAAIAAAAAAAACgAAAAAAAgACiAgAiAAoAAKKAIKAACgAAAAAAAAAAAAAAAAAAAAAoAAAAAKACAAAAAgAAAAIAAACAAAAoAAAAAKAAAAACAAKIAAIgqiAoCgAAqAACAKAAAAAKAAgAoAAAAAAAAAAAKADIAAAKAAACAAAAAoAAAAAAAAAAAAAAAAAAAAAAAAAKAAAACAAAAAAgAAAAAAAAAAAAAAAAAAAAAAAKAAAAAACAAAAAAAAAAAgAAAAKAAAAAAAAAAAAAAAAAAAAAAAACAAAAAAAoAAAAAAAAAIAogIAIgAAKACigKgAAAoAAAAAAAAAAAAAAAAAAAAAKAAAAACgAgAAAAAIAAAACAAAAAAAAAAAAAoAAAAAAIAAogAAAAAAKAAAAAAAAAAACgAIAKAAAAAAAAAAACgAgIACgAAAgAAAAAAAKAAAAAAAAAAAAAAAAAAAAAACgAAAAAAgAAAIAAAAAAAAAAAAAAAAAAAAAAAACgAAAAAgAAAAAAAAAAAAIAACgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAgCiAAggCAAoAKKAqAACgAAAAAAAAAAAAAAAAAAAAAAAoAAAAAAAAAAAAAIAAAAACAAAAAAAAAAAoAAAAAAAIAACKAAAAAAKAAAAAAAAAAACgIAKAAAAAAAAAAACgAgAAAAAAAIAAAAAAACgAAAAAAAAAAAAAAAAAAAAoAAAAAAAIAAACAAAAAAAAAAAAAAAAAAAAAAAAAAoAAAAIAAAACAAoAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAIAogIAAIAAAoogoAKAAAAAAAAAAAAAAAAAAAAAAAAACgAAAAAAAAAAAAgAAAAAAAAAAAAAAAAAAAAAAAAAIAACAKAAAAAKAAAAAAAAAACgIAKAAAAAAAAAAACgAgAAAAAAAIAAAAAAAACgAAAAAAAAAAAAAAAAAAAoAAAAAAIAAAACAAAAAAAAAAAAAAAAAAAAAAAAAAAoAAAIAAAACAAoAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAIACKAAAICiAoCoAAKAAAAAAAAAAAAAAAAAAAAAAAAAAAACgAAAAAAAAAgAAAAAAAAAAAAAAAAAAAAAAAAAIAAACAKAAAAAAAAAAAAKAACgIAKAAAAAAAAAAAAAAAAAAAAAACAAAAAAAAAAoAIAAACgAAAAAAAAAAAoAAAAAAIAAAACAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAgAAKAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAACAAAigAgAoAAAKAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAACgAAAAAAAgAAAAAAAAAAAAAAAAAAAAAAAAIAAAAACKAAAAAAAAAAAAAKAACgIAKAAAAAAAAAAAAAAACgAAgAAIAAAAAAAAAAAAAAAACgAAAAAAAAAAAoAAAIAAAAAAACAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAgAAKAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAACAAAAAAAAoAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAKAAAAACAAAAAoAAAAAAIAAAAAAAAAAAACAAAAAAAAigAAAAAAAAAAAACgAAoAKgAAAAAAAAAAAAAAAoAAIAACAAAAAAAAAAAAAAAAAoAAAAAAAAAAAAAAAAAAAAAAAAIAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAACAAoAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAKAAAACAAAAAoAAAAAAAIAAAAAAAAAACAAAAAAAAAAKIAAAAAAAAAAAAACgAoCCgAAAAAAAAAAAiigIKAACAAAAgAAAAAAAAAAAAAAAAKAAAAAAAAAAAAAAAAAAAAAAAAAACAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAgAAAAKAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAACgAAAAAAAAAgAAAAAAAIAAAoAAIAAAAACgAACAAAAAggAKoAKACgAIKAAAAAAAAAACKAKAgAAAAAAgAAAAAAAAAAAAAAAAKAAAAAAAAAAAAAAAAAAAAAAAAAAAACAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAgAAAAAAAAAKAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAACgAAAAAAAAAAgAAAAAAIAAoAAAAIKAAACAAAAKAIAACCAAAqgAoAKAAgoAAAAAIAAAAoAAoCAAAAAAACAoAAAAAIAAAAAACgAAAAAAAAAAgAAAAAAAAAAKAAAAAAACAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAgAAAAAAAAAAAKAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAACgAAAAAAAAAAAgAAAAAIAoAAAAoCAAAAAACAAAAigACCAKKAAoAKAAAgoAAIAAAAACKKAACoAAAAAAAAAAAAAAAIAAAAACgAAAAAAAAAgAAAAAAAAAAAAAKAAAAACAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAgAAAAAAAAAAAKAAAAAAAAAAAAACAAAoAAAAAAAAAAKAAACAAAAAAAAAAAAAAAAAAKAACAAAAACggAAAAAAAAAAAAAAAAAAAAAAAKAAAAAAAAACAAAAAgCgAAACgAIKAACAAAAgAAIoAAAAAAoAAKAAAgAAAAAAAAiigAIAKAAAAAAAAAAAAAAAAACAAoAAAAAAAAAAIAAAAAAAAAAAAAACgAAAAgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAIAAAAACgAAAAAAAAAAAgAAAAAAAAAAKAAAAAAAAAAAACAAAAAoAAAAAAAAAKAACAAAAAAAAAAAAgCgCgAgAAAAAKAgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAoAAAAAAIAAAACAKAAKAACoAAAAIAAACAAAKIAACgAAAAoAACAAAAAAAACAoAAAAKAAAAAAAAAAAAAAAAAAACAAAoAAAAAIAAAAAAAAAAAAAAAACgAAgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAIAAAAAAAACgAAAAAAAAAAAgAAAAAAAAKAAAAAAAAAACAAAAAAAAoAAAAAAAAAAAAAAAAAAAAIAAAoAAAAAAAAAAAAoCAAAAAAoAAIAAAAAAAAAAAAAAAAAAAAAAKAAAAACAAAAAgCgACgAAoCAAAACAAAAAgACgAAAAACgAAAIAAAAIAACgAAAAAAAoAAAAAAAAAAAAAAAAAIAAAACgAAAAgAAAAAAAAAAAAAAAAKACAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAgAAAAAAAAAKAAAAAAAAAAAAACAAAAAoAAAAAAAAAAAIAAAAAAAACgAAAAAAAAAAAAAAAAAAgAACgAAAAAAACAAAoAAKAgKAAIAAAAAAgoAAAAAAAAAAAAAAAAAAAAKAAAACAAAAAAigACgAAqAAAAACAAAAAAAAAAKAAAAAAACAAAACAAAoAAAAAAAKAAAAAAAAAAAAAAAACAAAAAAAoAAAIAAAAAAAAAAAAAAAACgAgAAAAAAAAAAAAAAAAAAKCAAAAAAAAAAAgAAAAAAAAAAAKAAAAAAAAAAAAAAAAAAAAAAAAAAAACAAAAAAAAAAAoAAAAAAAAAAAAAAAIAAAAAogAAAAAAAAAAAAKAAAAAAAACAoAACCgAAAAAAAAAAAAAAAAAAAAoAAAIAAAAACAKKAAAgAoAAAAIAAAAAAAAAAAAAoAICggAAAAAAAAAAAAAAAAoAAAAAAAAAAAAAAAAIAAAAAACgAAAgAAAAAAAAAAAAAAAAKACAAAAAAAAAAAAAAAAAAAoAIAAAAAAAAACAAAAAAAAAAAAAoAAAAKAAACAAAAAAAAAAAAAAgKAACAAKAAACAAAAAACgAAAAAAAAAAAAgAAAAAAIoAAAAAAAAAAAAAAoAAAAIAAAAACgAqAAAAAAAAAAAAAAAAAAAAAACgAgAAAAAICgAAAAAoAAAIAAAAAAAAAAAAAAAAAAAAAAAAAAAD/9k=",skyBoxUp:"data:image/jpeg;base64,/9j/4AAQSkZJRgABAQEAYABgAAD/2wBDAFA3PEY8MlBGQUZaVVBfeMiCeG5uePWvuZHI////////////////////////////////////////////////////2wBDAVVaWnhpeOuCguv/////////////////////////////////////////////////////////////////////////wAARCAgACAADAREAAhEBAxEB/8QAGQABAQADAQAAAAAAAAAAAAAAAAECBAUD/8QAFBABAAAAAAAAAAAAAAAAAAAAAP/EABYBAQEBAAAAAAAAAAAAAAAAAAABAv/EABQRAQAAAAAAAAAAAAAAAAAAAAD/2gAMAwEAAhEDEQA/APJtkAAAAAAAAAAAAAAAAAAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAAAAAAAAAFAQBQAAAFAAAAAABQAAAAAAAAAAAAAAAAAAAABEAAABAFAAAAAAAAAEAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAAAAAAAAAAAAAAAAGIAAAAAAAAAAAAAAAAAAAAAAAAAAIAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAACgAAAAAAAAAAAAqAAKAAAAoAAAAAKAAAAAAAAAAAAAAAAAAAAAIAgAAIAoAAAAAAAAAgAAAAAAAAAAAAAAAAAAAAAAAAAKAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAACgAAAAAAAAAAAAAAAAAAAAxAAAAAAAAAAAAAAAAAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAAAAAAAAAFQABQAAAFAAAABQAAAAAAAAAAAAAAAAAAAAABEAAABAFAAAAAAAAEAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAAAAAAAAAAAAAAAAAAGIAAAAAAAAAAAAAAAAAAAAIAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAACgAAAAAAAAAAAAqAAAKAAAoAAAAKAAAAAAAAAAAAAAAAAAAAAAIgAAAIAoAAAAAAAgAAAAAAAAAAAAAAAAAAAAAAAAAKAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAACgAAAAAAAAAAAAAAAAAAAAAAxAAAAAAAAAAAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAAAAAAAAAFAQAABQAAFAABQAAAAAAAAAAAAAAAAAAAAAABEAAABAFAAAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAAAAAAAAAAAAAAAAAAAAGIAAAAAAAAAAAAAAAAAIAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAACgAAAAAAAAAAAAAAoCAAKAAoAAKAAAAAAAAAAAAAAAAAAAAAAAIgAAAIAoAAAAAgAAAAAAAAAAAAAAAAAAAAAAAAAAKAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAACgAAAAAAAAAAAAAAAAAAAAAAAAxAAAAAAAAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAAAAAAAAAAAAFARQAAFAABQAAAAAAAAAAAAAAAAAAAAAABEAAABAFAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAAAAAAAAAAAAAAAAAAAAAAGIAAAAAAAAAAAAAAAIAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAACgAAAAAAAAAAAAAAAAqKAAAoAAAKAAAAAAAAAAAAAAAAAAAAACCAAAAIAoAAAAgAAAAAAAAAAAAAAAAAAAAAAAAAAKAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAACgAAAAAAAAAAAAAAAAAAAAAAAAAAxAAAAAAAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAAAAAAAAAAAAAVUAAAFAAABQAAAAAAAAAAAAAAAAAAAAAQQAABAAFAAAAEAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAAAAAAAAAAAAAAAAAAAAAAAGIAAAAAAAAAAAAAAIAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAACgAAAAAAAAAAACiCgAAAoAAAAKAAAAAAAAAAAAAAAAAAAACACAAIAoAAAAgAAAAAAAAAAAAAAAAAAAAAAAAAKAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAACgAAAAAAAAAAAAAAAAAAAAAAAAAAxAAAAAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAAAUAAQUAAAAFAAAABQAAAAAAAAAAAAAAAAAAAQAQABAFAAAAEAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAAAAAAAAAAAAAAAAAAAAAAFBgAAAAAAAAAAAAACAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAoAAAAoAAAgoAAAAAKAAACgAAAAAAAAAAAAAAAAAAgAAgCAAKAAAAIAAAAAAAAAAAAAAAAAAAAAAAACgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAoAAAAAAAAAAAAAAAAAAAAAAAAAAKDAAAAAAAAAAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAABQAAABABQAAAAUAAAFAAAAAAAAAAAAAAAAAABABAAEAAUAAAAQAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAUGAAAAAAAAAAAAAIAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAACgACgAAAAACCgAAAAoAAAKAAAAAAAAAAAAAAAAACAACAIAAAoAAAAgAAAAAAAAAAAAAAAAAAAAAAAKAAAAAAAAAAAAAAAAAAAAAAAAAAACgAAAAAAAAAAAAAAAAAAAAAAAAAAAoMAAAAAAAAAAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFFAAAAAAAAAEFAAABQAAAUAAAAAAAAAAAAAAAAEAAAEAQAABQAABAAAAAAAAAAAAAAAAAAAAAAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAABiAAAAAAAAAAACAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAoAoAICggAKAIKAAACgAAAoAAAAAAAAAAAAAAAIAAAIAAgAACgAACAAAAAAAAAAAAAAAAAAAAAAoAAAAAAAAAAAAAAAAAAAAAAAAAAAAKAAAAAAAAAAAAAAAAAAAAAAAAAAAADEAAAAAAAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFUQFBAAAUABUAAAAFAAAABQAAAAAAAAAAAAAQAAAAQABAAAFAAEAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAGIAAAAAAAAAAIAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAACgCggAKAAIKAAAACgAAAAAoAAAAAAAAAAAIAAAAAIAAgAACgACAAAAAAAAAAAAAAAAAAAAoAAAAAAAAAAAAAAAAAAAAAAAAAAAAAKAAAAAAAAAAAAAAAAAAAAAAAAAAAADEAAAAAAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFBAAAAAAAAAUEABQQFBFFABAUAAQUAAAAFAAAAAABQAAAAAAAAAQAAAAAAAQBAAFAAAEAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAGIAAAAAAAAAIAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAKAACAAAoAAIACggAKCAoIooAAAAAgoAAAAKAAAAAAACgAAAAAAgAAAAAAAAAiAAKAAAIAAAAAAAAAAAAAAAAACgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAoAAAAAAAAAAAAAAAAAAAAAAAAMQAAAAAAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAEABQAAAQFAABAAUEBQAQFBFFAAAAAAEFAAAABQAAAAAAUAAAAAEAAAAAAAAAEQAABQAABAAAAAAAAAAAAAAAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAABiAAAAAAAACAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAACgAAgAKAAACAoAICgAgKACAoIooAAAAAAgoAAAAKAAAAAACgAAAgAAAAAAAAAAIAIAKAAAAIAAAAAAAAAAAAACgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAoAAAAAAAAAAAAAAAAAAAAAAMQAAAAAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUEAAAAABQAQFAAABAAUAAAAAEBQAQFABAUBQAAAAAAEFAAABQAAAAAAUAAAEAAAAAAAAAABABABQAAAABAAAAAAAAAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAABiAAAAAAACAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAACgAAgAAAAKACAAoAAAICgAAgKACAoAIACggKAoAAAAACACgAAAoAAAAAAKAACAAAAAAAAAAgAAgAAoAAAAAgAAAAAAAKAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAACgAAAAAAAAAAAAAAAAAAAAAxAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAEAAAAAABQAAAAAAAAAAAAAAFABAAAAAUAEABQAAAAAAAAAAQFABAAUEBQFEBQAAABABQAAAUAAAAAAFABAAAAAAAAAAQAAAQAAUAAAAAQAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAYgAAAAAAgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAACAAAoAAAAAAAAAAAAAAAAAACggAAAAKCAAAoAAAAAAICgAgAKACAAoICgiigAAAACCgAAAAoAAAAAAAAAAAAAAAAAIAAAIAAKAAAAAAIAAAAACgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAoAAAAAAAAAAAAAAAAAAAAMQAAAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABAAAAAAUAAAABQQAAAAAAAAAAAAAAAAAAAAAAFAABAUAEBQAQAFABAUEBQRQABQAABABQAAAAUAAAAAAAAAAAAAAAAAEAAEAAFAAAAAAEAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAAAAAAAAAAAAAAAAGIAAAAIAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAgAAAAAAAAAAAAAKAACKKgAAAAAAAAAAAAAAAAAAAAAAAKAACAoAIACggAKCAAoIAAooIACgACACgAAAAoAAAAAAAAAAAAAAAAAIAAIAAKAAAAAAIAAAACgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAoAAAAAAAAAAAAAAAAAAAMQAAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABFAAAFQQAAAAAAAAAAAFBFAABABQAAAAAAAAAAAAAAAAAAAAAFAABAUAEABQQFABAUEBQRQABQAAABABQAAAAUAAAAAAAAAAAAAAAAEAEAAAFAAAAAAEAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAAAAAAAAAAAAAAAAGIAAAAIAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAigACoAAAIoIAAAAAAAAACgAAAgAAoAAAAACggAAAAAAAAAAAAAKACAAoAICgAgKCAoAICgiigAAAAACACgAAAAoAAAAAAAAAAAAAAAAIAIAAKAAAAAAIAAAACgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAoAAAAAAAAAAAAAAAAAAAMQAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABAAUEUAAEAAAAAAABQAAAAAAQAUAAAABQAQAAAAAAAAAAAAAFABAAAAAUEBQAAAQFBFFBAUAAAAAQAUAAAAFAAAAAAAAAAAAAAABAABABQAAAAAABAAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAABiAAACAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAIAAAAAoAAAAIAAAAAACgAAAAAAgoAAAAAACgAgAAAAAAAAAAAAAKACAAoICgAAAAAAAAKAAAAAAAAAgoAAAAKAAAAAAAAAAAAAACAAACACgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAACgAAAAAAAAAAAAAAAAAAAAAxAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAEAAAAAAUAAAAAAEAAAABQAAAAAAQAAUAAAAAABQAQAAAAAAAAAAAAFAABAAUEBQAAAAAQFBAVQAAAAAAAAEFAAAAABQAAAAAAAAAAAAAQAAAQAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAAAAAAAAAAAAAAAAAAGIAAIAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAgAAAAACgAAAAAAAAgAAKAAAAAACAAAAACgAAAAAKACAAAAAAAAoAIACgAAgAKCAoAAAAAAAACgAAAAAAAAIAKAAAAACgAAAAAAAAAAAAgAAAgAAAoAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAoAAAAAAAAAAAAAAAAAAAAAAMQAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABAAAAAAAFAAAAAAAABAAAUAAAAAEAAAAAAAAFAAAAAUEAAAAAAABQAAAAAAAQAFBAUAAAAAAAABQAAAAAAAAEAFAAAAABQAAAAAAAAAAAAQAAQAAAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAAAAAAAAAAAAAAAAAAAGIAIAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAgAAAAACgAAAAAAAAAAAAAAAAAAAAAAAAgAAAAoAAAAAAAAAICgAiigAAAAAAIACgAgKAAAAAAAAoAAAAAAAAACIoAoAAAACgAAAAAAAAAAAgAAAgAAAoAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAoAAAAAAAAAAAAAAAAAAAAAAAMAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAEAAAAUAAAAEBQAAAAAAAAAAAAAAAAAAAAAAQAAAAAUAAAEBQAAAQFBFAFAAAAAAAQAFBAUAAAAAAAABRAUEBQAAAABEAUUAAAAAABQAAAAAAAAQAAAAQAAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAAAAAAAAAAAAAAAAAAAAGAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAACAAAAAKAAAAACAAoAAAAAAAAAAAAAAAAAAAAAAAIAAAAAKACAAAoAIACgigCgAAAAAIACggAKAAAAAAAAoAAAAAAAAAggAoAoAAAAAAAAAAAAAAAAAIAAKAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAKAAAAAAAAAAAAAAAAAAAAAAADAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABAAAAFQAAFAAAAEABQAAAAAAAAAAAAAAAAAAAAAAAAQAAAAAUAEAAABQRQQFAFAAAAAAQAFBAAUAEBQAAAARRQQFBAUAAAAAAEEFAFAAAAAAAAAAAAAAABAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAYAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAIAAAIKAAAAAoAAAAgAKAAAAAAAAAAAAAAAAACAAoAAAAIAAAAAKACAAAoIoICgACgAAAAAICgAgKAACAoICggKAogKCAoICgAAAACAIoAoAAAAAAAAAAAAAIAAKAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAKAAAAAAAAAAAAAAAAAAAAAAAADAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABAAABBQAAAAAAFAAAAEBQAAAAAAAAAAAAAAAAAAAQFAAAAABAAAAAAAAAAUEABQBQAEBQAAQFABAUAAEBQAAAARRQQFBAUEBQAAAAAQQAUUAAAAAAAAEAAAAFAAAAEABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAAAAAAAAAAAAAAAAAAAAAAGAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAIAAAACgAIAAAIKAAAAAAAAoAAAAAAAAAAAAAAAAAAAAAAAAAAgKAAAAAACAAAoAIAACggAKAAKACAoAAAAAAAACAoAAAAACiAoICgAAAAAACIAAAACgAAAKAIAKAAAAAIAAAAACgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAoAAAAAAAAAAAAAAAAAAAAAAAAKDzAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABAAAAAAAAEUAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABAAAUEABQAABQQAFBAUAEBQAAEBQAQFBAUEUUEBQQFBAUAAAAAARAUAAAAAUEBQAEAAAAAAAAAAAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAABQAAeYAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAIAAAAAAAAAAigAAAAAAAAAAAAAKAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAIACggAAKAAKCAAoIACggAKAAgKAAAAAAAoAAAAAAAAAAgAAAiggAKAAKAAgAAAAAAAAAAAAACgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAoAAAAAAAAAAAAAAAAAAAAAAKAAAADzAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABAAAAAAAAAAAAAEUAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABAAUAAAAAAAAAAAUABAUAAAAEBQRRQQFBAUAAAAEBQQAAARQQUEUAUABAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAUAAAAAHmAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAACAAAAAAAAAAAAAAIAAoAAAAAAAAAAAAACgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAACAoAAAAAAAAAAoIACgICgAAAAAAAKAAAAAAAAAICggAAiggoCiAoCAAAAAAAAAAAAAAAKAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAACgAAAAAAAAAAAAAAAAAAAAAAoAAAAAAPMAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAEAAAAAAAAAAAAAAAQAABQAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAVBFFAAAAAQFBFFBAUAAAAEBQQAAAAARRUAAAAAAAAAAAAAAAAAAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAeYAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAIAAAAAAAAAAAAAAAigAAAAAAAAAAAAAAAAAAAKAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAqCKKAAAAAgKAAoAAAAAAAAAgKCAAAAAAAAAAAAAAAAAAAAAAAKAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAACgAAAAAAAAAAAAAAAAAAAAAAAAAoAAAAAAAPMAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAEAAAAAAAAAAAAAAAFEAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAEBQBQAAAAEBQQFUQFAAEQVQQFBAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAAAAHmAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAACAAAAAAAAAAAAAAACiAAAAAAAAAAAAAAAAAAAAAAAAAAACgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAACAoAoIACgAICgAKAAAgKCAqAoIAAAAAAAAAAAAAAAAAAAAAAAAAoAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAKAAAAAAAAAAAAAAAAAAAAAAAAAAAACgAAAAAAA8wAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAQAAAAAAAAAAAAAAAUAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAQFAAAAAFAQRRQQUABQQAFQRRUBQQAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAB5gAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAgAAAAAAAAAAAAAAAAogAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAoAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAgKAAAAAAKgigCggqoIoICggKCCgAAAAAAAAAAAAAAAAAAAAAAAACgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAoAAAAAAAAAAAAAAAAAAAAAAAAAAAAKAAAAAAAADzAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABAAAAAAAAAAAAAAABQBAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABAUAAAAAAAAAABQAAAAFQRRUAAAAAAAAAAAAAAAAAAAAAAAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAeYAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAIAAAAAAAAAAAAAAAKAIAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAKAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAICgAAgKAAAoAgKCAoIKCKKgAAAAAAAAAAAAAAAAAAAAAACgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAoAAAAAAAAAAAAAAAAAAAAAAAAAAAAKAAAAAAAAADzAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABAAAAAAAEAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABAUAAEBQAAFAEBQQFABAUAVAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAAAAAAAHmAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAACAAAAAAIAAoAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAACgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAoAAAAgKCAoAIKCAoAAACgAgAAKCAAAAAAAAAAKAAAAAAAAAAAAAAAAAAAAAAAAAAAACgAAAAAAAAAAAAAAAAAAAAAAAAAAAoAAAAAAAAAAAPMAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAEAAAAAQABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAABAUEABQAQFBBQRQBQAEABQAQAAFABAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAAAAAAAAAHmAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAACAAAAIAAAoAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAACgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAoAAAAAAAAAAAAgKAAAKAgKAACAAAoAIAAAAAoAAAAAAAAAAAAAAAAAAAAAAAAAAAKAAAAAAAAAAAAAAAAAAAAAAAAACgAAAAAAAAAAAAAA8wAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAQAAABAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAUABAAUAAEAAAAAUAAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAeYAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAIAAAAAgAACgAAAAAAAAAAgKAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAoAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAKAAAAAAAAAAAAAAAAICgAACgIACgAAgAAAAACgAAAAAAAAAAAAAAAAAAAAAAAAAoAAAAAAAAAAAAAAAAAAAAAAAAKAAAAAAAAAAAAAAAAADAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABAAUAEAAAAAQAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAABAUAAAEFAUAAAEAAAAAAUAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAQFAAAAAFAAAAAAAAAAAAAAAAAAABgAAAAAACAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAgAAAAAAAAACAAAKAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAoAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAKAAAAAAAAAAAAAAAAAAAAIAKogKAAgAAAACgAAAAAAAAAAAAAAAAAAAAAAAAAAAoAAAAAAAAAAAAAAACAoAAAAAoAAAAAAAAAAAAAAAAAAAAMAAAAAAAAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAEAAAAAAAAAAQAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAABAAUAAAVBFAFQAQVQAQFBAUAAAAAAAAAAAAAAAAAAAAAAUAAAAAAAAAAAAAAABAUAEBQABQAAAAAAAAAAEABQQAFBAUAAEGCgAAAAAAAAAAACAAAAAAAAAAAAAAAAAAAAAAAAAAAAAgAAAAAAAAACAAAAKAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAoAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAKAAAAAAAAAAAAAAAAAAAAICgAAgAKACCggoCggAAAAAKAAAAAAACAoICgAAAAAACgAAAAAAAAAAAAAAAAICgAgKAKgKAAAAAAAACAAAAAAAAAAoIAAMFAAAAAAAAAAAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAABAAAAAAEAAAAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAAAAAAAAAAAAAAAAAAAAAQAFABBQRVEAAAAAAAAAFAAAAABAAAAAAUAAAAUAAAAAAAAAAAAAAAAAAABAUEFAUEBQAAAAAAQAAAAAAAAAAAAAAYKAAAAAAAAAAAAAAAAIAAAAAAAAAAAAAAAAAAAAAAAAAACAAAAAAIAAAAAAoAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAACgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAoAAAAAAAAAAAAAAAAAAAAAAAAgKAACAoCiAAAAAAAAAAAACgAAAgKCAoIACggKCCgKCAoICgAgKCAAoAAAAAAAAIACioAAACgAAAAAgAAAAAAAAAAAAAAAxUAAAAAAAAAQAAAAAAAAAEAAAAAAAAAAAAAAAAAAAAAAABAAAAAAEAAAAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFEABQQAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAFAAAAABAAUVAAAAAAAUEBQQAAAAAAAAAAAAAAAAYgAAAAAAAAAAAAAgACgAAAACAAAAAAAAAAAAAAAAAAAAAgAAAAACAAKAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAoAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAKAAAAAAAAAAAAAAAAAAAAAAAAAAAAACgAAAAACAoIAAAAAAAAAAAAAAAAAoAAAAAAAAAAAAAAAAAAACggAAoAAAAAACggAAAAAAAAAAAAAAAAAAAgAAAAAAAAAAIAAAAACAAKAAAAIAAAAAAAAAAAAAAAAACAAAAAAAIoAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAACgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAoAAAAAAAAAAAAAAAAAAAAAAAAAAAAKAAAAAAAAAIAAAAAAAAAAAAAAAAAoAAAAAAAAAAAAAAAAAAAAAAAAKAAAAAAAAAAAAAAAAAAAAAAAAAAAoiAAAAAKAAAAACAAAIAAAACAAKAAIAAAAAAAAAAAAAAAACAAAAAAIoAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAACgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAoAAAAAAAAAAAAAAAAAAAAAAAAAAAKAAAAAAAAAIAAAAAAAAAAAAAAAAAoAAAAAAAAAAAAAAAAAAAAAAAAKAAAAAAAAAAAAAAAAAAAAAAAAAAAAAKAAAAAAAAAAAAgAAAAIAAIgACgACAAAAAAAAAAAAAAAgAAAAACKAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAoAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAKAAAAAAAAAAAAAAAAAAAAAAAAAACgAAAAAAAACAAAAAAAAAAAAAKAAAAAAAAAAAAAAAAAAAAAAAAAAAACgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAooAAAAAAAAAACAAAAgAAAIAACCACgCAAAAAAAAACggACAAAAAAIoAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAACgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAoAAAAAAAAAAAAAAAAAAAAAAAAAAKAAAAAAAAIAAAAAAAAAAAAAoAAAAAAAAAAAAAAAAAAAAAAAAAAAAKAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADIUAAAAAAAABAAAAQAAAEAABAAAQAQUAQAUAAAAAAEBQQBBQQAAAARQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAUAAAAAAAAAAQAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFBRVAAAABAAAAAQAAAAEAABAAAQAAEAEFUBAAAAAAAAAABEFBAAAAABFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAABAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUGQoAAAAAACAAAAgAAAIAAACAAgAAIAAoAgAAAAAAAAAIICgAgAAAgAAAACgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAKAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAACgAAAAAAAAAAAAAAAAAAAAAAAoAAAAAAAAAAAAgAAAACgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAoAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAKAAADIUAAAAAABAAAQAAAAEAAABAAQAAEAAAUQAAAAAAAAAEAAAEAAAEAAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAEAAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAZCgAAAAAIAACAAAAgAAAAIAACAAAgACgCAAAAAAAAAAgAAAgAAgAACgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAKAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAACgAAAAAAAAAAAAAAAAAAAAAAoAAAAAAAAAAAAAAgCgAAAAAAAAAAAAAAAAAAAAAAAAAAAoAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAKAAAAAADIUAAABAAAAQAAAEAAAABAAAAQAAEAAUQAAAAAAAAAAEAAAEAAEAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAEAUAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAUUAAAAAABAAAAQAAAAAEAABAAAQAABRAAAAAAAAAAAQAAAQAAAQBQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAUAAAAAAAAAAAAAAARQAAAAAABQAAAQAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAAAAAFFAAAAAAAQAAAEAAAABAAAAQAAEAAAUAQAAAAAAAAAEAAAEAAAEAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAEUAAAAAAUEBQAAAAAAAAAAQBQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAAAAAAAFFAAAAAAQAAAAAEAAABAAAAQAAAEAAAUQAAAAAAAAAEAAAQFQAAQABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAUAAAAAAAAAAAAAARQAAABQQFAAAAAAAAAAAUAAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAUUAAAAABAAAAAAAQAAAEAABAAAAQAABQBAAAAAAAAAQAABAAVABAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAUQAAAAFAAAAAAAAAAUAAAAAAAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAUUAAAAABAAAAAAAQAAAEAAABAAAAQAABQBAAAAAAAAAQABAAAVBAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAUAAQAFAAAAAAAAAAUAAAAAAAAAAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAUUAAAAABAAAAAAAQAAAEAAABAAAAAQAAABRAAAAAAAAQABAAAAEAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAUAAAAAAAAAAAAFAEABQAAAAAAAAAAFAAAAAAAAAAAAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAAAAAAAAAAAAAAAAFFAAAAQAAAAAAAEAAAABAAAAQAAAAAEAAAAUQAAAAAAAEAQAAAABAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAABQAAAAAAAAAAAAAUAAAAAAAAAAAAAAAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAEAAAABAAAAAQAAAAAAEAAABFAAAAAAAEAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAUAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAAAAAAAAAAAAAAAAAAAAAUAAAAAAAABAAAAAAQAAAAEAAAAAAAABAAAARQAAAAAABAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAUAAAAAAAAAAAAAFAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAUQAAABAAAAAAAAAAAAAAAAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAAABAAAAAAQAAAAAEAAAAAAAAABAAAAARQAAAAAQQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAUAAAAAAAAAAAAAFAAAAAAAAAAAABQAAAAAAAAAAAAAAAUAAAAAAAAAAQAAAAAAAABAAAAAAAAAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAABAAAAAAAAQAAAAAEAAAAAAAAAABAAAAQBQAAAAAQQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAUAAAAAAAAAAAAAFAAAAAAAAAAABQAAAAAAAAAAAAAAUAAAAAAAAAAAAAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABBQAAAAAAAAAAAEAAAAAAABAAAAAAAAAAAQAAAEAUAAAEAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAABQAAAAAAAAAAUAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAEBQQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABBQAAAAAAAAAAAEAAAAAAAAAAAAAABAAAAAQAAAEAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAUAAAAAAAAAAFAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAEFAAAAAAAAAAAAAQAAAAAAAAAAAAAAEAAABAAAAAQAAAAAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAABQAAAAAAAAAAUAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAQUAAAAAAAAAAAABAAAAAAAAAAAAAAAQAAAAEAAABAAAAAAAAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAUAAAAAAAAAAAAAFAAAAAAAAAAABQAAAAAAAAAAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAQAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAYigAAAAAAAAAAAAAIAAAAAAAAAAAAAACAAAAAgAAAIAAAAAAAAACAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAoAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAKAAAAAAAAAAAAAAAAAAACgAAAAAAAAAAAAAoAAAAAAAAAAAKAAAAAAAAAAACgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAACAAAAAAAAAAAAAAAAAAAAAAAAKAAAAAAADAUABQAAAAAAAAAAAQAAAAAAAAAAAAAAEAAAABAAAAQAAAAAAAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAABQAAAAAAAAAAUAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAEAAAAAAAAAAAAAAAAAAAAAUAAAAAAAAAGAAAoAAACgAAAAAgAAAAAAAAAAAAAAAAAIAAACAAAAgAAAAAAAAAAIAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAACgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAoAAAAAAAAAAAAAAAAAAAKAAAAAAAAAAICgAKAAAAAAAAAACgAAAAAAAAAAAAoAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAgAAAAAAAAAAAAAAAAACgAAAAAAAAAAAwAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAQAAAAEAABAAAAAAAAAAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAUAAAAAAAAAQAAAFUAAAAAAAAAAAFAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABAAAAAAAAAAAAAAAFAAAAAAAAAAAAAABgAAAAKAAAAAAAAAAAAAAAAAAAAAAAAAAgAAAAIAACAAAAAAAAAAAAAgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAKAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAACgAAAAAAAAAAAAAAAAAAAoAAAAAAAAAAgAAKoAAAAAAAAAAAKAAAAAAAAAAACgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAACAAAAAAAAAAKAAAAAAAAAAAAAAAAAADzBQAABQAAAAAAAAAAAAAAAAAAAAAAAAAAEAAABAAAQAAAAAAAAAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAAAAAAAAAAAAAAAAFAAAAAAAAAEAAAAUAUAAAAAAAAABQAAAAAAAAAAAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAABAAAABAAAAAAAFAAAAAAAAAAAAAAAAAAAAB5gAAoAAoAAAAAAAAAAAAAAAAAAAAAAAAACAAAAgAAIAAAAAAAAAAAAACAAAAAAAAAAAAAAAAAAAAAAAAAAAoAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAKAAAAAAAAAAAAAAAAAAACgAAAAAAAACAAAKAKAAAAAAAAAAAoAAAAAAAAAAAKAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAACgAAAAAAAAAgAAgAACgAAAAAAAAAAAAAAAAAAAAAA8wAAAAUUAAAAAAAAAAAAAAAAAAAAAAAAAABAAAQAAEAAAAAAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAABQAAAAAAAAABAAFAFAAAAAAAAAAAUAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAHmoIAAAAqgAAAAAAAAAAAAAAAAAAAAAAAAAAgAAAIAACAAAAAAAAAAAAAAgAAAAAAAAAAAAAAAAAAAAAAAAKAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAACgAAAAAAAAAAAAAAAAAAAoAAAAAAAAAAgACgACgAAAAAAAAAAigAAAAAACgAAAKAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAACgAAAAAAAAAAAAAAACAAAAAAAAAAAAAAAAAAAAAAAAAPNQAQAABQAFAAAAAAAAAAAAAAAAAAAAAAAAABAAAQAAEAAAAAAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAABQAAAAAAAAABAAFAAFAAAAAAAAAABFAAAAAAAAAFAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAEBQQAAAAAAAAAAAAAAAAAAAAAB5KKAAAgACgAKAAAAAAAAAAAAAAAAAAAAAAAACAAAgAAIAAAAAAAAAAAAAAAACAAAAAAAAAAAAAAAAAAAAAAoAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAKAAAAAAAAAAAAAAAAAACgAAAAAAAAACAAKAAKAAAAAAAAAAogAAAAAAAAAAKoAAAAAAAAAAAAAAAAAAAAAAAKAAAAACAAoAAAAAAAAAAAAAAAAAAAAAAAAgAAAAAAAAAAAAAAAAAAADyUAAUABAAFAAUAAAAAAAAAAAAAAAAAAAAAAAAEAABAAAQAAAAAAAAAAAAAAAAAEAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAAAAAAAAAAAAAAFAAAAAAAAAAEAAAUAAUAAAAAAAABRAAAAAAAAAAAAVQAAAAAAAAAAAAAAAAAAAAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAQAAAAAAAAAAAAAAAAAAB5KAAAAKAgACgAAAAAAAAAAKAAAAAAAAAAAAAACAAAgAAAIAAAAAAAAAACAAAoAAAAIAAAAAAAAAAAAAACgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAoAAAAAAAAAAAAAAAAAKAAAAAAAAAICggACgAAAAACgAAAAiiggAAAAAAAAAACigAAAAAAAAAAAAAAAAAAAKAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAIAAAAAAAAAAAAAAAAAAA8lAAAAAAFQABQAAAAAAAAAAAFAAAAAAAAAAAABAAAAQAAEAAAAAAAAABAAAAUAAAAAAAAEAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAAAAAAAAAAAAAAFAAAAAAAAAAEAAAAUAAAAAAAUABQBAAAAAAAAAAAAAFFAAAAAAAAAAAAAAAAAAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAQAAAAAAAAAAAAAAAAAB5KAAAAAAAAKgCgAAAAAAAAAAAAKAAAAAAAAAAACAAAAgAAIAAAAAAAACAAAAAoAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAKAAAAAAAAAAAAAAAAACgAAAAAAACAAAAAAKAAAAAAAAACiggAAAAAAAAAAAACgCgAAAAAAAAAAAAAAAAAKAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAIAAAAAAAAAAAAoAAAAPFQAAAAAAAAAARQAAAAAAFAAAAAABQAAAAAAAAAQAAAEAAABAAAAAAAAAQAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAUAAAAAAAQAAAAAABQAAAAAAAAAUUAEAAAAAAAAAAAUAUAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABAUAEAUAUEAAAAAAAeCgAACgAAAAAACgAACAAAAAACgAAAAAAoAAAAAAIAAAACAAAAgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAKAAAAAAAAAAAAAAAAAACgAAAACAAAAAAAAAKAAAAAAAAACigAAAgAAAAAAAACgACgAAAAAAAAAAAAAAKAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAACgAAAAAAAACAAAAPBQAAAAAABQAAAABQAAABAAAAAABQAAAAAAAAAAAAAAAAQAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAUAAAAQAAAAAAAAABQAAAAAAAAABVAAAAEAAAAAAAAUAAUAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAAAAAAAAAAAQB4KAAAAAAAAAAAAAAoIAAooAgAAAAAAoAAAAAAAAAAAAAAIAAACAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAoAAAAAAAAAAAAAAAgKAAoAAAgKCAAAAAAAAAKAAAAAKAAAAAoAAAAAgAAAAAACgCgAAAAAAAAAAAAAAKAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAACgAgAAAAAAAAAAAAKAAAAAAAAAAAAAAAAADwVAAAAAAAAAAAAAAAAAAAUABQEAAAAAAFAAAAAAAAAAABAAAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAEBQAFAAAEBQQAAAAAAAABQAAAABQAAAAFAAAAAEAABQQABQBQAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAQAAAAAAFAAAAAAAAAAAAAAAAAAAAAB4KgAAAAAAAAAAAAAAAAAAAKAAAIKAAAAAAAAAAAACgAAgAAAAAAIAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAACgAAAAAAAAAAAAAAACAoACgAAACAAAAAAAAAKAAAAAKAAAAAAoAAAAAAAgKAoAAAAAAAAAAAAAAAAAKAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAACgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA8FQAAAAAAAAAAAAAAAAAAAAFAAAEAAFAAAAAAAAAAAAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAAAAAAAAAAAQFAAAUAAAAAQAAAAAAABQAAAABQAAAAAFAAAAAEBQQFAUAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAeCoAAAAAAAAAAAAAAAAAAACgAAAACAAAAAAACgAAAAAAAAAAAAAAgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAKAAAAAAAAAAAAAAAAAICqAAAAAIAAAAAAAAAoAAAAoAAAAACgAAACAAAoICqAAAAAAAAAAAAAAACgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAoAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAPBUAAAAAAAAAAAAAAAAAABQAAAAAABAAAAAAAAAABQAAAAAAAAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAABQAAAABAUEAAAAAAAUAAAAUAAAAABQAAAABAAAAVQAAAAAAAAAAAAAAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAB4KgAAAAAAAAAAAAAAAAAAKAAAAAAAIAAAAAAAAAAAAAAAKAACAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAoAAAAAAAAAAAAAAAAAAKAICgAAgAAAAAAACgAAAACgAAAAKAAAAAAAIAAooAAAAAAAAAAAAACgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAoAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAPBUAAAAAAAAAAAAAAAAAAAABQAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAUAAAAAQAAAAAAABQAAAAABQAAAFAAAAAAAAABQAAAAAAAAAAAAAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAB4KgAAAAAAAAAAAAAAAAAAAAKAAAAAAIAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAKAAAAAAAAAAAAAAAAAAACgACAAAAAAAAAAKAAAAAAAAKAAoAAAAAAAAAKAAAAAAAAAAAAAACgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAoAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAKDXVAAAAAAAAAAAAAAAAAAAAUAAAAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAAAAAAAAAAAAAAAAFAAAEAAAAAAAAAUAAAAAAAAAFFAAAAAAAAAUAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAGuqAAAAAAAAAAAAAAAAAAAAoAAAAAgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAoAAAAAAAAAAAAAAAAAAAKAAIAAAAAAAAAAoAAAAAAAAAKAAAKAAAAAoAAAAAAAAAAAAAAAKAAAAAAAAAAAAAAAAAAAAAAAAAAACgAAAAAAAAAAAAAAAAAAoAAIAAAAAAAAAAAAAAAAAAAACgAAAAAAAAA11QAAAAAAAAAAAAAAAAAAAFAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAABQAAABAAAAAAAAFAAAAAAAAABQAAAABQAAFAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAAAAAAAAAAAAAAAAAFAAAAABAAAAAAAAAUAAAAAAAAAAAAAAAAAAAGuqAAAAAAAAAAAAAAAAAAAAAoAAgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAoAAAAAAAAAAAAAAAAAAAAAKAAIAAAAAAAAAoAAAAAAAAAKAAAAAAKAoAAAAAAAAAAAAAAKAAAAAAAAAAAAAAAAAAAAAAAACgAAAAAAAAAAAAAAAAAAAAAAoAAAAAAAAIAAAACgAAAAAAAAAAAAAAAAAAAAAA11QAAAAAAAAAAAAAAAAAAAAAAFEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAABQABAAAAAAAAAFAAAAAAAAABQAAAAAABVAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABrqgAAAAAAAAAAAAAAAAAAAAAAAigAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAKAAAAAAAAAAAAAAAAAAAAACiAAAAAAAAAAAAKAAAAAAAAACgAAAAAAAooAAAAAAAAACgAAAAAAAAAAAAAAAAAAAAAAAAAAoAAAAAAAAAAAAAAAAAAAAAAAAKAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADXVAAAAAAAAAAAAAAAAAAAAABFABAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAUQAAAAAAAAAAABQAAAAAAAAAUAAAAAAAAVQAAAAAAAAUAAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAa6oAAAAAAAAAAAAAAAAAAAAIoAAAIACgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAKAAAAICgAgKAAAAAAAAAAAAAAoAgAAAAAAAAAACgAAAAAAAAAAoAAAAAAAKKAAAAAAAAoAAAAAAAAAAAAAAAAAAAKAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAACgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA11QAAAAAAAAAAAAAAAAAAAFEAAAAAQAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAQAFBAUAAAAAAAAAAAAAABQABAAAAAAAAAAFAAAAAAAAAABQAAAAAABQFAAAAAAABQAAAAAAAAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABrqgAAAAAAAAAAAAAAAAAAAAigAAAAAgAKAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAogKACAAAAAoICgAAAAAAAAAAAAKAAIAAAAAAAAAoAAAAAAAAAAAKAAAAAAAKoAAAAAAAKAAAAAAAACgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAoAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAANdUAAAAAAAAAAAAAAAAAAAABRAAAAAAEBQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAEAAAAAAABQQFAAAAAAAAAAUAAAQAAAAAAABQAAAAAAAAAAAUAAAAAAAAVQAAAAAAAUAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAa6oAAAAAAAAAAAAAAAAAAAAAAIoAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAACgAACAoIAAAAAAACgAAAAAAAAAAKAAAIAAAAAAAAAoAAAAAAAAAAKAAAAAAAACigAAAAAAAKAAAAAACgAAAAIKCAKAAAAAAAAAAAAAAAAAAAAAAAAAAAAKAAAAAAAAAAAAAAAACgAAAAAAAgAAAAAAAAAAAAAAAAAAKAAAAAAADWVAAAAAAAAAAAAAAAAAAAAAABAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAQFABAAAAAAAAAAUAAAAAAABQAAABAAAAAAAAFAAAAAAAAAAABQAAAAAAAAUUAAAAAABQAAAAAAUAAABBQAAARQAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAUAAAAAAAAAAAAAAAAAAAEBQAAAAAAAAAAAAAAayoAAAAAAAAAAAAAAAAAAAAAAIAAAoAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAACgAAAAAACAoIAAAAAAACggKAAAAAAoAAAAgAAAAAAACgAAAAAAAAAAAoAAAAAAAAKAKAAAAAAAoAAAAAKAAAACoAAAAIoAAAAAAAAAAAAAAAAAAAAAAoAAAAAAAAAAAAAAAAAAAKAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADWVAAAAAAAAAAAAAAAAAAAAAABAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAAAAAAAQAAAAAAAAFAAAAAAUAAAAQAAAAAAABQAAAAAAAAAAAAUAAAAAAAAFAFAAAAAAAUAAAAAFAAAAQUAAAEUAAAAAAAAAAAAAAAAAAAAAUAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABrKgAAAAAAAAAAAAAAAAAAAAAAgAACgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAKAICgAgKAAAACAoIAAAAAACgAAAAAKAAAAIAAAAAAAAoAAAAAAAAAAAAKAAAAAAAACgACgAAAAAAKAAAAACgAAAAIKAogAAAAAAAAAAAAAAAAAAKAAAAAAAAAAAAAAAAAAAAAACgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA1lQAAAAAAAAAAAAAAAAAAAAAAQABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAEABQQAAAFBAUAAABQAAAABAAAAAAAFAAAAAAAAAAAABQAAAAAAAAAUAAUAAAAAABQAAAAAUAAAAABAUAAAAAAAAAAAAAAAAAUAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABrKgAAAAAAAAAAAAAAAAAAAAAgAAACgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAKAAAAAAAAAAAAAICggKACAoIACgAAKAAAAAAIAAAAAAAoAAAAAAAAAAAKAAAAAAAAACgAACgAAAAAAKAAAAACgAAAAAAAAAAAAAAAAAAAAAAoAAAAAAAAAAAAAAAAAAAAAAKAAAAAAAAAAAACgAAgAAAAAAAAAAAAAAAAAAAAAAAAAAAANZUAAAAAAAAAAAAAAAAAAAAAAEAAAAUAEABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAAEBQAAAAAAAAAQFABAUAEBQQFAUAAAAAAQAAAAAABQAAAAAAAAAAAUAAAAAAAAAAFAAFAAAAAAAUAAAAAFAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAUAAAAAAAAAAAAAFAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAayoAAAAAAAAAAAAAAAAAAAAIAAAAAAAAAAAAoAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAACgAACAoAAAAAAAAAAAAICgAgKCAoCgAAAAAACAAAAAAKAAAAAAAAAAACgAAAAAAAAAAoAAoAAAAAAACgAAAAAoAAAAAAAAAAAAAAAAAAAAKAAAAAAAAAAAAAAAAAAAACgAAAAAAAAAAAAAAoAAAAAAAIAAAAAAAAAAAAAAAAAAAAAAAAAADWVAAAAAAAAAAAAAAAAAAAAABAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAQFAAAAAAAAAAAAAAAAABAUBQAAAAAAABAAAAAFAAAAAAAAAAABQAAAAAAAAAAUAAAUAAAAAABQAAAAAAUAAAAAAAAAFAAABAAUAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAABQAAAAAAAAAAQAAAAAFAAAAAAAAAAAAAAAAAAABqqgAAAAAAAAAAAAAAAAAAAgAKCAAAAAAAAAAAAKAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAoAAAAgKAAAAAAAAAAAAAAAAACAoIooAAAAAAIAAAAAAoAAAAAAAAAAAKAAAAAAAAAACgAACgAAAAAAKAAAAAAACgAAAAAAAoAAAAAAAAAAAAAAAAAAAAAAAAAAAKAAAAAAAAAAAAAAAAACgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA1VQAAAAAAAAAAAAAAAAAAAAQAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAEBQAAAAAAAAAAAAAQFBFFAAAAAABAAAAAAFAAAAAAAAAAABQAAAAAAAAAAUAAAUAAAAAABQAAAAAAAAUAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAGqqAAAAAAAAAAAAAAAAAAAAACAAAAAAAAAAAAAAKAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAoAAAAAAAgAKAAAAAAAAAAAAACAoIooAAAAAIAAAAAAAAoAAAAAAAAAAKAAAAAAAAAACgAACgAAAAAAKAAAAAAAACgAAAAAAAoAAAAAAAAAAAAAAAAAAAAAAKAAAAAAAAAAAAAAAAAAAACgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA1VQAAAAAAAAAAAAAAAAAAAAAAAAQAAAFBAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAAAAQFAAAAAAAAAAAAAABAUEUUAEAAAAAAAAAAAAUAAAAAAAAAAAFAAAAAAAABQAAABQAAAAAAFAAAAAAAAABQAAAAAAAUAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAaqoAAAAAAAAAAAAAAAAAAAAAAAAAAIAACggAAAAACgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAKAAAAAAAAICgAAAgKAAAAAAAAAAACKKACAoIAAAAAAAAAAoAAAAAAAAAAAKAAAAAAAAACgACgAAAAAAKAAAAAAAAAACgAAAAAAAAoAAACAoAAAAAAAAAAAAAoAAAAAAAAAAAAAAAAAKAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADVVAAAAAAAAAAAAAAAAAAAAAAAAAAABAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAAAAAAAAAAAAAQFAAAAAABAUBQABAAAAAAAAAAAAAFAAAAAAAAAABQAAAAAAAAAUAUAAAAAAABQAAAAAAAAAAAUAAAAAAAAFAAAAAAQAFAAAAAAAAFAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAUBAUAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAGqqAAAAAAAAAAAAAAAAAAAAAAAAAAAACAAAAAAAAAKAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAoAAAAAAAAAAAAAAAAAAAAAAAAAAAKAAICggAAAAAAAAAACgAAAAAAAAAAoAAAAAAAAAKAKAAAAAAAAoAAAAAAAAAAAKAAAAAAAACgAAAAAIAAKAAoAAAAAAAAAAAAAAAAAAAAAoAAAAAAAAAAAAAAAAKAgAAAAAAKIAAAAAAAAAAAAACgAAAAAAAgAAAANVUAAAAAAAAAAAAAAAAAAAAAAAAAAEBQAQAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAABRAUEBQQAAAAAAAAAABQAAAAAAAAAAUAAAAAAAAAAVQAAAAAAAAAUAAAAAAAAAAFAAAAAAAAABQAAAAAEAFAAAAAUAAAAAAAAAAAAAAAAUAAAAAAAAAAAAAAAAAFAQAAAAAAAAAFAAEABQAAAAAAAAAAAAAAAAAAAAAaioAAAAAAAAAAAAAAAAAAAAAAAAIAAACgAgAAAAAAACgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAKAAAAAAAAAAAAAAAAAAAAAAAAAAAAACgAACAAAAAAAAAAAAKAAAAAAAAAACgAAAAAAACgKAAAAAAAAACgAAAAAAAAAAoAAAAAAAAAKAAAAAAAgoAAAAAAACgAAAAAAAAAgoAACgAAAAAAgKCAAAAAAACgAAAAAAAAAAAAAKAAAAAAAAAAAAAAAAAAAAAAAAANRUAAAAAAAAAAAAAAAAAAAAAAAAAEAAAAAAAAAAAAAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAQAAAAAAAAAAABQAAAAAAAAAAUAAAAAAAAAUBQAAAAAAAAUAAAAAAAAAAFAAAAAAAAABQAAAAAAAVAAAAAAAAAAAAUAAAEFAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAGoqAAAAAAAAAAAAAAAAAAAAAAAAAACAAAAAoIAAAAAAAAoAAAAAAAAAAAAAAAAAAAAAAAAACgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAoAAAgAAAAAAAAAAACgAAAAAAAAAAoAAAAAAAAAoCgAAAAAAAAAoAAAAAAAAAKAAAAAAAAACgAAAAAAAAoCAAAAAAAAAAAACgAAAAAAAAAAAAAAAAAoAAAAAAAAAAAAAAAAAAAAAAAACgAgAKAAAAAAAAAAAAAAAAAANRUAAAAAAAAAAAAAAAAAAAAAEAAAABQQAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAABAAAAAAAAAAAFAAAAAAAAAABQAAAAAAAABQRRQAAAAAAAAFAAAAAAAAABQAAAAAAAAAUAAAAAAAAFAAQAAAAUAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAABQAAAAQAAAAAAAAABQAAAAAAAAAAAAAAAABqKgAAAAAAAAAAAAAAAAAAAAAgAAAAAAAAAAAAAAAAAAAAAACgAAAAAAAAAAAAAAAAAAAKAAAAAAAAAAAAAAAAAAAAAAAAAAAAAACgAAAACAAAAAAAAAAKAAAAAAAAAAACgAAAAAACggKoAAAAAAAAAKAAAAAAAAACgAAAAAAAAAoAAAAAAAAKAAAgAAoAAAAAAAAAAAAAAAAAAAAKAAAAAAAAAAAAAAAAAACgAAAAAAAAAgAAAAAAAAACgAAAAAAAAAAAAAADUVAAAAAAAAAAAAAAAAAAAAABAAAAAAAAAUEAAAAAAAAAAAAUAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAAQAAAAAAAAABQAAAAAAAAAAUAAAAAAAAAVQAAAAAAAAAUAAAAAAAAAFAAAAAAAABQAAAAAAAAAUAAABAABQAAAAAAAAAAAAAAAAAUAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAABAAAAAAAAAFAAAAAAAAAAAAGoqAAAAAAAAAAAAAAAAAAAAAACAAAAAAAAAAAAAAAAAAAAAAKAAAAAAAAAAAAAAAAAAoAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAKAAAAAIAAAAAAAAAAoAAAAAAAAAAKAAAAAAAAAKAoAAAAAAAAKAAAAAAAAACgAAAAAAAAoAAAAAAAAAKAAAAAgAoAAAAAAAAAAAAAAAKAAAAAAAAAAAAAAAAAACgAAAAAAAAAAAAAAAAAAAAAAAAAAAAgAAAAAACgAAAADUVAAAAAAAAAAAAAAAAAAAAAAABAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAEAAAAAAAAAAUAAAAAAUAEAAAUAAAAAAUAABQAAAAAAAAUAAAAAAAAAFAAAAAAAABQAAAAAAAAAUAAAABABQAAAAAAUAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABptIAAAAAAAAAAAAAAAAAAAAAAAAIAAAAAAAAAAAAAAAAAAAAoAAAAAAAAAAAAAACgAAACAoAAAICgAAAAAAAAAAAAAAAAAAAAAKAAAAAIAAAAAAAAAAoAAAAAAoAAIAAoAAAAAAAAoACgAAAAAAAoAAAAAAAAAKAAAAAAAACgAAAAAAAAoAAAAAACACgAAAAoAAAAAAAAAAAAAAAAAAAKAAAAAAAAAAAAAAAAAAAACgAgAAAAAAAAAAAAAAAAAAAAAAAAAAAAANNpAAAAAAAAAAAAAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAUAAAAQFAABAAUAAAAAAAAAAAAAAAAAAAAAABQAAAAABAAAAAAAAAAFAAAAAAAFAAAUQAAAAAAAAFAUAAAAAAAFAAAAAAAAABQAAAAAAAAUAAAAAAAAFAAAAAAAQAUAAAAFAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAUAAAAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAABptIAAAAAAAAAAAAAAAAAAAAAAIAAAAAAAAAAAAAAAAAAAAoAAAAAAAAAAAACgAAAAAAAACAoAAAAAAAAAAAAAAAAAAAAAAACgAAAAACAAAAAAAAAAKAAAAAAAAKAAAogAAAAAAAKAoAAAAAAAKAAAAAAAAACgAAAAAAAAoAAAAAAAKAAAAAAAgAAoAAAAKAAAAAAACgAAAAAAAAAAAAAAAAAAAAAAAAAAAAoAAoAAAAAAAIAgAAAAAAAAAAAAAAAAAAAAAAAAANNpAAAAAAAAAAAAAAAAAAABAUAAAEAAAAAAAAAAAAAAAAAAUAAAAAAAAAABQAAAAAAAABAAUAAAAAAAAAAAAAAAAAAAAAAAABQAAAABAAAAAAAAAAFAAAAAAAAAFAAUAAQAAAAAAFAUAAAAAAAFAAAAAAAABQAAAAAAAAUAAAAAAAFAAQAAAAAAAUAAAAAFAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAUAAAAAAAAAAAEAQAAAAAAAAAAAAAAAAAAAAAAAGm0gAAAAAAAAAAAAAAAAAAAgAAKAACAAAAAAAAAAAAAAAAKAAAAAAAAAoAAAAAAAAAAgAKAAAAAAAAAAAAAAAAAAAAAAAAAAoAAAAAgAAAAAAAAAACgAAAAAAACgAAKAIAAAAAACgKAAAAAAAACgAAAAAAAAoAAAAAAAKAAAAAAACgIAAAAAAAAKAAAAACgAAAAoAAAAAAAAAAAAAAAoCgAAAACAAAAAAAAAoAAAAAAAAAAAAAAAAIAAAgAAAAAAAAAAAAAAAAAANNpAAAAAAAAAAAAAAAAAAAABAAAAUAAEAAAAAAAAAAAAAUAAAAAAAABQAAABAUAAAEABQAAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAEAAAAAAAAAAAUAAAAAAAAAUABQABAAAAAAAUBQAAAAAAAUAAAAAAAAFAAAAAAABQAAAAAAAUBAAAAAAABQAAAAAAUAAAAFAAAAAFAABAAAAAVQAAAAAAAAAAAAAAAAAAAAAAAAUAAEAAAAAAAAAAAEAAAAQAAAAAAAAAAAAAGm0gAAAAAAAAAAAAAAAAAAAAAAgAAAAKCAAKAACAAAAAAoAAAAAAACgAAAAAAACAAoAAAAAAAAAAAAAAAAAAAAAAAAAAAACgAAACAAAAAAAAAAAAAKAAAAAAAAAAKoAgAAAAAAAAKoAAAAAAAAKAAAAAAAACgAAAAAAoAAAAAAAKAAgAAAAAAoAAAAAAKAAAACgAAAACgKAAAAAAAAAAAAAAAAAAAAAAAAAAAACgAAAAAAAAgAAAAAAAAAAAAgAAAAACAAAAAAAAA02kAAAAAAAAAAAAAAAAAAAAAAAEAAAAAAUEAAAAAAAABQAAAAAAFAAAAAAAEABQAAQAAAFAAAAAAAAAAAAAAAAAAAAAAAUAAAAAAQAAAAAAAAAABQAAAAAAAAAAAUUEAAAAAAABQFAAAAAAAABQAAAAAAAUAAAAAAAFAAAAAABQAEAAAAAAFAAAAAABQAAAAAUAAAAUBQAAAAAAAAAAAAAAAAAAAAAUAAAAAAAAAAAAAAAAAAEAAAAAAAAAAAAEAAAAAAAAAQAAAGm0gAAAAAAAAAAAAAAAAAAAAAAAAgAAAAAAAACgAAAAAAKAAACAoAAAAAAAgKAACAAAoAAAAAAAAAAAAAAAAAAAAAAAACgAAAAACAAAAAAAAAAAKAAAAAAAAAAACgACgAgAAKAAAoAAAAAAAAKAAAAAAAACgAAAAAAoAAAAAAAKAAgAAAAoAAAAAAAKAAAAACgAAAACqAAAAAAAAAAAACgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAgAAAAAAAAAAAgAAAAAAAAAACA02kAAAAAAAAAAAAAAAAAAAAAAAAAAAEAAAAUAAAAEAAUAUAAAAAAAAAAAAAAAEABQAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAEAAAAAAAAAAAUAAAAAAAAAAAAFAAAAFAAAAAAUAAAAAAAAFAAAAAAABQAAAAAAAUAAAAAFAAAAQAAAAUAAAAAAFAAAAABQAAAABVAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAQAAAAAAAQAAAAAAAAAABpNIAAAAAAAAAAAAAAAAAAAAAAAAAAAAAIoAAIAAAACqAAAAAIACgAAAAAAAAAgKAAAAAAAAAAAAAAAAAAAAAAAAAAAoAAAAAAgAAAAAAAAAACgAAAAAAAAAAAAoAAAoAAAAAACgAAAAAAAAoAAAAAAAAKAAAAAACgAAAAAoAAAACAAACgAAAAAoAAAAAAKAAAAAKAoAAAAKAAAAAAAAAAAAAAAAAAAAAAAAAAAAACgAAAgAAAAAAAAAAAAAAIAAAAIAAAAAAAAAA0mkAAAAAAAAAAAAAAAAAAAAAAAAAAEUAAAAEAAABQFAAAAEAAABQQFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAAAQAAAAAAAAAABQAAAAAAAAAAAAUAAAAUAAAAABQAAAAAAAAUAAAAAAAAFAAAAAABQAAAAAUAAABAAABQAAAAAUAAAAAAFAAAAAFAUAAAAFAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAQAAAAAAAAAAAAAAAEAEAAAAAAAAAAaTSAAAAAAAAAKAAACAAAAAAAAAAAAIAoAIAAAAACqAAAAAIAAAAACgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAKAAAAAAIAAAAAAAAAAAoAAAAAAAAAAAAKAAAAAKAAAAAoAAAAAAAAAKAAAAAAACgAAAAAAoAAAAAKAAAAgAAoAAAAAAAKAAAAACgAAAACgKAAAACgAAAAAAAAAAAAAAoAAAAAAAAAAAAAAAAAAAAAAAAIAAAAAAAAAAAAAAAIAgAAAAAAAANJpAAAAAAFAAAAAAAAABAAAAAAAAAAEAAAAAFAFAAAAABAAAAAAAUAAAAAAAAAAAAAAAAAAAAEBQAAAAAAAAAAAAFAAAAAAEAAAAAAAAAAAAUAAAAAAAAAAAAFAAAAFAAAAAAUAAAAAAAAFAAAAAAAABQAAAAAAUAAAAFAAAAAQAUAAAAAAAFAAAAABQAAAABVAAAAAABQAAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAEAAAAAAAAAAAAAAEAAQAAAAAAAGm0gAAAAAAAAAAAAAAAAAAAAAAACAAAAqAAAAAAAAAAAAAAAAAAKAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAoAAAAAAgKCAAAAAAAAAAKAAAAAAAAAAAACgAAAACgAAAAAKAAAAAAAACgAAAAAAAoAAAAAAKAAAAACgAAAAIKAAAAAAACgAAAAAoAAAAAKKAAAAAAoAAAKAgAAAKAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAIAAAAAAAAAAIAAAAgAAAAANNpAAAAAAAAAAAAAAAAAAAAAAAAABAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAABAAAAAUAAAAAABQAAAAABAUEAAAAAAAAAAUAAAAAAAAAAAAFAAAAAFAAAAAAUAAAAAAAAFAAAAAAAABQAAAAAAUAAAAFAAAAABUAAAAAAAFAAAAABQAAAAAUUAAAAABQAAAAUBAAAAAAUAAAEAAAAAABQAAAAAABQAAAAAQAAAAAAAAAAAAAEAAAAAAAEAAAAQAAAAGm0gAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAgAAAAAAAAAAAACgAgKAAAAAAAAAAAAAAAAAACAAAKAAAAAAAAKAAAAAACAoIAAAAAAAAAAoAAAAAAAAAAAAAqgAACAAoAAAAACgAAAAAAAoAAAAAAAAKAAAAAACgAAAAAoAAAACCgAAAAAAoAAAAAKAAAAACigAAAAAKAAAAACgIAAAAAAAAAAKAAAAAAAAAAAAoIAAAAAACgCAAAAAAAAAAAAAAgAAAAAgAAAAAACAA02kAAAAAAAAAAAAAAAAAAAAAAAAAEAAAAAAAAAAAAAAAAAUAAEBQAAAAAAAAAAAAAAAAAAAQBQAAAAAAAABQAQFAAAAABAAAAAAAAAAFAAAAAAAAAAAAFAUAAAAAAAAAAAFAAAAAAAABQAAAAAAAAUAAAAAAFAAAAABQAAAAVAAAAABQAAAAAAUAAAAAVQAAAAAAUAAAAAFAAQAAAUAAAAAAAAAAAAAAAAAAAAAAAAAAABQABAAAAAAAAAAAAAAQAAAQAAAAAAAABpNIAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAIAAAAAAAAoIACgAAAAAAAAAAAAAAAAAAAgCgAAAAAAAAAAACgAAAAAAAgAAAAAAAACgAAAAAAAAAAAACqAAAAAAAAAACgAAAAAAAAoAAAAAAAAAKAAAAAACgAAAAAoAAAAKgAAAAoAAAAAAAKAAAAKoAAAAAAKAAAAAACgAIAKAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAoAAAAgAAAAAAAAAAAAIAAIAAAAAAAA0mkAAAAAAAAAAAAAAAAAAAAAAAAAAAAAEAAAAAAAAAAAAAAAUAAEBQAAQAFAAAAAAAAAAABAFAAAAAAAAAAAAAFAAAAABAAAAAAAAAFAAAAAAAAAAAAABRQAAAAAAAAAAFAAAAAAAABQAAAAAAAAUAAAAAAAFAAAABQAAAAAVAAAABQAAAAAAUAAAAVQAAAAAAUAAAAAAFAAAQAUAAAAAAAAAAAAAAAAAAAAAAAAFABAAAAAFAAAAAAEAAAAAAAAAABAABAAAAAAAGk0gAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAgAAAAAAAAACggAAKACAAAoAAICgAAAAAAgCgAAAAAAAAAAAACgAAAAAgAAAAAAAACgAAAAAAAAAAAAACqAAAAAAAAAACgAAAAAAAAAoAAAAAAAAKAAAAAACgAAAAAoAAAAKgAAAAoAAAAAAKAAAKAAoAAAAAKAAAAAACgAAAIKAAAAAAAAAACgAAAAAAAAAAAAAAAAAAAgAACgAAAAAACAAAAAAAAAAAgAAAgAAADSaQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAQAAAAAAAAAAAAAABQAQAAAFAABAUEBQAQFABAFAAAAAAAAAAAAAAFAAABAAAAAAAAAFAAAAAAAAAAAAAABQABQAAAAAAAAFAAAAAAAABQAAAAAAAAUAAAAAAAFAAAAABQAAAAVAAAABQAAAAAUAAAUABQAAAAAUAAAAAAFAAAAQAUAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAABAAAFAAAAAAAAEAAAAAAAAABAAABAAGk0gAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAgAAAAAAAAAAAAAAAAAAAACgAAgKACAoIACggACgAAAAAAAAAAAACggKACAAAAAAAAAKAAAAAAAAAAAAAAACgCgAAAAAAAAKAAAAAAAAACgAAAAAAAAoAAAAAAKAAAAAACgAAAAqAAAACgAAAAoAAAoACgAAAAAoAAAAAKAAAAAgAoAAAAKAAAAAAAAAAAAAAAAAAAAAAAAAAAAAACAAAAKAAAAAAAAIAAAAAAAACAACANJpAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAABQQAAAAAAAAABQAAAAAAAAAAAAAAAUAUAAAAAAAAABQAAAAAAAAAUAAAAAAAAFAAAAAABQAAAAAUAAAABBQAAAAUAAAAFAAFAAUAAAAAFAAAAABQAAAEAAFAAAABQAAAAAAAAAAUAAAAEAAAAAAAAAAAAAAAAAABAAAAFAAAAAAAAEAAAAAAABABGk0gAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAoAAAAAAAAAAAAAAoIAAAAAAAAAAAoAAAAAAAAAAAAAAAKAAKCAoAAAAACgAAAAAAAAAoAAAAAAAAAKAAAAACgAAAAAAoAAAACCgAAAAoAAAKAAKAAoAAAAAKAAAAACgAAIAAKAAAAACgAAAAAAAAoAAAAAAAAAAAAAAAAAIAAAAAAAAAACAAAAKAAAAAAAIAAAAAAAADRaZAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAEAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAUAAAAUAAAAAABQAAAAAAAAAUAAAAAAAAFAAAAAABQAAAAAUAAAABABQAAAAUAAAFAAFAAUAAAAFAAAAABQAAEAAFAAAAABQAAAAAUAAAAAAAAAAAAAAAAAAAAAAAEAAAAAAAAAABAAAFAAAAAAAAEAAAAAABotMgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAACAAAAAAAAAAAAAAAAAAAAAAAAAACgAAAAAAAAAAAAAAAAAAAAAAAAAoAAAAAAAAAAAAAAAKAAAAKAAAAAAAAoAAAAAAAAAKAAAAAAAACgAAAAAoAAAAAAKAAAAAgoAAAAKAAAACgACgAKAAACgAAAAAoAACACgAAAAAAoAAAAAKAAAAAAAAAAAAAAAAAAAAAAAAAACAAAAAAAAAAAgAACgAAAAAACAAAAAA0WmQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABAUEABQQAAAAAAAAAAAAAAAAAUAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAABQAAAABQAAAAAFAAAAAAAAABQAAAAAAAAAUAAAAAFAAAAABQAAAAAEFAAAABQAAAAUAAUBQAAAAUAAAAAFAAQAAUAAAAAFAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAQAAAAAAAAAEAUEBQAAAAABAAAAAaLTIAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAgAAAAAAAKCAAAAAAAAACgAAAAAAAAAAAAAAAAAAAAAAAAAoAAAAAAAAAAAAAAAAKAAAAAAKAAAAAoAAAAAAAAAAKAAAAAAAACgAAAAAoAAAAAAKAAAAAgAoAAAAKAAACgAACgKAAACgAAAAAoAACACgAAAAAoAAAAAKAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAACAAAAAAAAAgAAACgAAAAAACA0WmQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAAAAAAAAAAAAFAAAAAAAFAAAAAUAAAAAAAAAFAAAAAAAAABQAAAAAUAAAAAAFAAAAAQAUAAAAFAAABQAAABVAAABQAAAAAUABABQAAAAAUAAAAAFAAAAAAAABQAAAAAAAQAAAFABAAAAAAAAAAAAAAQAAAAAAAAAEAAAAUAAAAAAaDTIAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAgAAAAAAAAAAAAoAAAAAAAAAAAAAAAAAAAAAAAAAKAAAAAAAAAAAAAAACgAAAAAAAACgAAKAAAAAAAAAACgAAAAAAAAoAAAAAAKAAAAAACgAAAAIKAAAACgAAAAoAAAAKKAAAAoAAAKAAAgAoAAAAKAAAAACgAAAAAAAAoAAAAAAAAAAAAAAAAIAAAAAAAAAAAAACAAAAAAAAAAgAAACgAAADQaZAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAEAAAFAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAUAAAAAAAAAUAAABQAAAAAAAAAUAAAAAAAAAFAAAAAABQAAAAAAUAAAABBQAAAAUAAAAFAAAABRQAAFAAAABQAAEAFAAABQAAAAAUAAAAAAAAFAAAAAAAAAAAAAAAAAAABAAAAAAAAAAAAAQAAAAAAAAAAEAAAAAAUaDTIAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAgAAAoAACggAAAAAKCAAAAAAAAAAAAAAACgAAAAAAAAAAAAAAAAoAAAAAAAAAAoACgAAAAAAAAAAoAAAAAAAAAKAAAAAACgAAAAAAoAAAACCgAAAAoAAAKAAAAACgCgAKAAAACgAAAqAAAACgAAAAoAAAAAAAAKAAAAAAAAAAAAAAAAAAAAACAAAAAAAAAAAAAgAAAAAAAAAAAAIAAADQbZAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAVAAAUEAABQAQAFBAAUEAAAAAAAAAAAAAFAAAAAAAAAAAAAAABQAAAAAAAAAAABQFAAAAAAAAABQAAAAAAAAAUAAAAAAFAAAAAAABQAAAEAFAAAABQAAAUAAAAFAAFAAUAAAFAAAABUAAAFAAAAABQAAAAAAAUAAAAAAAAAAAAAAAAAAAAAAAAAEAAAAAAAAAAABAAAAAAAAAAAAAQAGg2yAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAoCAAoIAACgAAAAAAAAgAAAAAAAAAAAAAoAAAAAAAAAAAAAAAKAAAAAAAAAAAAKAoAAAAAAAAAAKAAAAAAAAACgAAAAAAoAAAAAAAKAAAAgAoAAAAKAAACgAAAAoAAAoCgAAAoAAAKAgAAAoAAAAKAAAAAAACgAAAAAAAAAAAAAAAAAAAAAAAAAAAAgAAAAAAAAAAAIAAAAAAAAAAACA0G2QAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAQAAAAAAAAAAAAUAAAAAAAAAAAAAAAFAAAAAAAAAAAAABRQAAAAAAAAAFAAAAAAAAAABQAAAAAAUAAAAAAAFAAAQAUAAAAFAAAABQAAAAUAAAAVQAAAUAAAFAQAAUAAAAAFAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAQAAAAAAAAAAAAAEAAAAAAAAABz22QAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAQFBAAAAAAAAAAABQAAAAAAAAAAAAAAAUAAAAAAAAAAAAAFFAAAAAAAAAUAAAAAAAAAAFAAAAAAABQAAAAAAUAAAABBQAAAAUAAAAFAAAABQAAAUUAABQAAAUBAAABQAAAAUAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABAAAAAAAAAAAAAAQAAAAAAAAHPbZAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAAAAAAAAAAAAAAAAAABAAAAAAAAAAABQAAAAAAAAAAAAAAAUAAAAAAAAAAAAAAFFAAAAAAAAAUAAAAAAAAAAFAAAAAABQAAAAAAAUAAAABBQAAAAUAAAAFAAABQAAAAUUAABQAAAUBAABQAAAAAUAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABAAAAAAAAAAAAAQAAAAAAAHPbZAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAAAAAAAAAAAAAAAAAABAAAUEAAAAAAAAFAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAUAUAAAAAAABQAAAAAAAAAAUAAAAAAAFAAAAAAABQAAAEAFAAAABQAAAAUAAAFAAABQABQAFAAABQEAAFAAAABQAAAAAAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAEAAAAAAAAAAABAAAAAAAAc9tkAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAEAAAAAAAAAAAAAAFAAAAAAAAAAAAAAABQAAAAAAAAAAAAAUAAAUAAAAAABQAAAAAAAAAUAAAAAAAFAAAAAAAABQAAAEAFAAAABQAAAAUAAAFAAABQABQFAAABQEAAAFAAAABQAAAAAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAEAAAAAAAAAAABAAAAAAAc9tkAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAEAAAAAAAAAAAAAAFAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAUAAUAAAAAAABQAAAAAAAAUAAAAAAAAFAAAAAAABQAAAEAFAAAAABQAAAAUAAAFAAABQABQFAAABQEAAFAAAABQAAAAAAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAEAAAAAAAAABAAAAAAAc9tkAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAEAAAAAAAAAAAFAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAUAAAAUAAAAABQAAAAAAAAUAAAAAAAAFAAAAAAABQAAAEAAFAAAAABQAAAUAAAAFAAABQAABVAAABQEAAFAAAABQAAAAAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAEAAAAAAAABAAAAAAAc9tkAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAEBQQAAAAAAAAAAAAUAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAABQAAABQAAAAFAAAAAAAAABQAAAAAAAUAAAAAAAFAAAAQAAAUAAAAAFAAABQAAAAUAAAFAAFUAAAFAQAAAUAAAFAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAQAAAAAAAAEAAAAAABz22QAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAQFABAAAAAAAAAAAABQAAAAAAAAAAAAAAAUAAAAAAAAAAAAAAAFAAAFAAAAAAUAAAAAAAAFAAAAAAAABQAAAAAAUAAABAAABQAAAAAUAAAAFAAABQAAAAUAUBQAAAUBAAABQAAAUAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABAAAAAAAAAAQAAAAHPbZAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAABAUAEAAAAAAAAAAAAFAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAUAAAAUAAAAABQAAAAAAAAUAAAAAAAFAAAAAAABQAAEAAAFAAAAABQAAAAUAAAAFAAABQBQAFAAABQEAAFAAAABQAAAAAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAEAAAAAAAAAABAAAAc9tkAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAEAAAAAAAAAAAAAAFAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAUAAAUAAAAABQAAAAAAAAAUAAAAAAAFAAAAAABQAAAEAAAFAAAABQAAAAAUAAAAFAAAFUAAAFAAABUAAAFAAAABQAAAAAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAEAAAAAAAAAAAABAAc9tkAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAEAAAAAABQQAAAAAAAUAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAABQAAABQAAAAAFAAAAAAAAABQAAAAAAAUAAAAAAFAAAAQAAAUAAAAFAAAABQAAAAUAAAUBQAAAUAABBQAAAUAAAFAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAQAAAAAAAAAAAAAHObZAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABAAAAAAAUAEAAAAAAFAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAUAAAAAUAAAABQAAAAAAAAAUAAAAAAAFAAAAAABQAAAEAAFAAAAABQAAAAUAAAAFAAFAAUAAFAAAQAUAAAFAAABQAAAAAAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAEAAAAAAAAAAAABzm2QAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAQAAAAAAFABAAAAAABQAAAAAAAAAAAAAAAUAAAAAAAAAAAAAAAAFAAAAFAAAAAAAUAAAAAAAAAFAAAAAAABQAAAAAAUAAABAABQAAAAAUAAAAFAAAABQABQAFAAABQEAFAAAABQAAAUAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABAAAAAAAAAAAAc5tkAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAEAAAABQAQAAAAAAUAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAABQAAAAABQAAAAFAAAAAAAAAABQAAAAAAAUAAAAAAAFAAAAQAUAAAAAFAAAABQAAAAUAAUABQAAUABABQAAAAUAAAFAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAQAAAAAAAAAHObZAAAAAAAAAAAAAAAAAAAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABAAAAUAAAEAAAAAFAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAUAAAAAAUAAAABQAAAAAAAAAAUAAAAAAAFAAAAAAABQAAAAEFAAAAABQAAAAUAAAAAFAFAAUAAAFAQAUAAAAFAAABQAAAAAAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAEAAAAAAAABzm2QAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAQAAAAAUAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAABQAAAABQAAAAAFAAAAAAAAABQAAAAAAAAUAAAAAAAFAAAAAQUAAAAAFAAAABQAAAAAUAUABQAAAUABABQAAAUAAAAFAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAQAAAAAAAHObZAAAAAAAAAAAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABAAUEAAFAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAUAAAAAAAUAAABQAAAAAAAAAAUAAAAAAAAFAAAAAAABQAAAAAVAAAAABQAAAAAUAAAAFAFAAAUAAAFAQAUAAAFAAAABQAAAAAAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAEAAAAAABzm2QAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAQAAUAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAABQAAAAAABQAAAFAAAAAAAAAABQAAAAAAAAUAAAAAAAFAAAAABUAAAAAFAAAAABQAAAAAUAUABQAAAUABABQAAAUAAAAFAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAQAAAAAHObZAAAAAAAAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABAAABQAAAAAAAAAAAAAAAAAUAAAAAAAAAAAAAAAAAFAAAAAAFAAAAAUAAAAAAAAAAFAAAAAAAABQAAAAAAAUAAAAAFQAAAAAAUAAAAFAAAAABQBQAFAAAABQAEFAAABQAAAAUAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABAAAAAAc5tkAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAEAFAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAUAAAAAAAAUAABQAAAAAAAAAAAUAAAAAAAAFAAAAAAABQAAAAAVAAAAAABQAAAAAUAAAAAFAFAAUAAAFAAAQUAAAFAAAABQAAAAAAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAEAAAABz22QAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABABQAAAAAAAAAAAAAAAAAAUAAAAAAAAAAAAAAAAAFAAAAAAAAFAAAUAAAAAAAAAAAFAAAAAAAABQAAAAAAAUAAAAABBQAAAAAAUAAAAAFAAAABQBQAAFAAABQAAEFAAABQAAAAUAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABAAAAAc9tkAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABUAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAABQAAAAAAABQAFAAAAAAAAAAAABQAAAAAAAAAUAAAAAAFAAAAAABUAAAAAAFAAAAABQAAAAAUAUABQAAAAUAAFQAAAUAAAAFAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAQAAAHPbZAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAABAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAUAAAAAAAAAUABQAAAAAAAAAAAAUAAAAAAAAAFAAAAAABQAAAAAEFAAAAAAABQAAAAAUAAAAFAFAAAUAAAFAAABUAAAFAAAABQAAAAAAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAEAABz22QAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAQAAAAAAAAAAAAAAAAUAAAAAAAAAAAAAAAAAFAAAAAAAAAFAAUAAAAAAAAAAAFAAAAAAAAAABQAAAAAAUAAAAABBQAAAAAAAUAAAAAFAAAAABRQAAFAAAABQAAVAAABQAAAAUAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABAAAc9tkAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAEAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAABQAAAAAAAAABQAFAAAAAAAAAAABQAAAAAAAAAAUAAAAAAFAAAAAABUAAAAAAAFAAAAAABQAAAAUUAAABQAAAUAAAFQAAUAAAAAFAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAQAHPbZAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAAAAAABAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAUAAAAAAAAAAUBQAAAAAAAAAAAUAAAAAAAAAAAFAAAAAABQAAAAAAUBAAAAAAABQAAAAAUAAAAFFAAAAUAAAAFAABUAAAFAAAABQAAAAAAAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAEABz22QAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAQAAAAFBAAAAAABQAAAAAAAAAAAAAAAAAUAAAAAAAAAAUABQAAAAAAAAAAAUAAAAAAAAAAAFAAAAAABQAAAAAAAUBAAAAAABQAAAAAUAAAAFFAAAAUAAAAFAABUAAAFAAAAABQAAAAAAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAEABz22QAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAQFBAAUEBQQAAAAUAAAAAAAAAAAAAAAAAAFAAAAAAAAAFBAUBQAAAAAAAAAAUAAAAAAAAAAAFAAAAAAABQAAAAAAAUAABAAAABQAAAAAUAAAAFFAAAAUAAAAFAAAQUAAAFAAAAABQAAAAAAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAEABz22QAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAQFBAAAAUVAAAAAAAAAAAAAAAAAABQAAAAAAAAABQAAFAAAAAAAAABQAAAAAAAAAAAAUAAAAAAAFAAAAAAABQAAEAAAAFAAAAABQAAAABVAAAABQAAAUAAAFQAAAAUAAAAFAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAQAAHPbZAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAAAAAAAAAAAABAAUEABQQFFQAAAAAAAAAAAAAAAAAAAUAAAAAAAAAAUAABQAAAAAAAAAUAAAAAAAAAAAAFAAAAAAABQAAAAAAAUAAABAAABQAAAAUAAAAAAFFAAAAUAAAFAAAABUAAAAFAAAABQAAAAAAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAEAAABz22QAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAQFABAUEFAAAAAAAAAAAAAAAAAABQAAAAAAAAAABQAFAAAAAAAAABQAAAAAAAAAAAAAUAAAAAAAFAAAAAAABQAAAEAAAFAAAABQAAAAAAUUAAABQAAAAUAAAFAQAAAUAAAAAFAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAQAAAHPbZAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAAAAAAAAAAAAAAAAABAUEABQQUAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAFAAAUAAAAAAAAAFAAAAAAAAAAAABQAAAAAAAAUAAAAAAAFAAAAQAAAUAAAAAFAAAAABRQAAAFAAAABQAAAAUBAAABQAAAAUAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABAAAAAc9tkAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAEABQQUBQQAAAAAAAAAAAAAAAAAAUAAAAAAAAAAAUABQAAAAAAAAAUAAAAAAAAAAAAFAAAAAAAABQAAAAAAUAAABAAAABQAAAAAUAAAAAAFFAAAAUAAAAFAAAABQEAAAFAAABQAAAAAAAAAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAEAAAABz22QAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAQAFBABVBAAAAAAAAAAAAAAAAAABQAAAAAAAAAAABQFAAAAAAAAAABQAAAAAAAAAAAAUAAAAAAAAFAAAAAABQAAAAEAAAFAAAAABQAAAAAAUUAAABQAAAAUAAAAFAAQAAUAAAAFAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAQAAAAAHPbZAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAAAAAAAAAAAAAAAAAAAAAABAUAEAFUEAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAFAAUAAAAAAAAAFAAAAAAAAAAAAABQAAAAAAAUAAAAAAAFAAAAAQAAAUAAAAAFAAAAAABQBQAAAFAAAABQAAAAUBAABQAAAAUAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABAAAAAAAc9tkAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAEBQBUABQQFBAAAAAAAAAAAAAABQAAAAAAAAAAAABQFAAAAAAAAABQAAAAAAAAAAAAUAAAAAAAAFAAAAAABQAAAAAEAAAFAAAAAABQAAAAAAUAUAABQAAAAUAAAAFAAQAUAAAAAFAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAQAAAAAAAHPbZAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAAQFBAUEAAAAAAAAAAAAFAAAAAAAAAAAAAAFUAAAAAAAAAAFAAAAAAAAAAAABQAAAAAAAAUAAAAAAFAAAAAAQAAAUAAAAAAFAAAAAABQBQAAAFAAAABQAAAUABAABQAAAAAAUAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABAAAAAAAAc9tkAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAABAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAUUAAAAAAAAABQAAAAAAAAAAAAUAAAAAAAAFAAAAAABQAAAAAEAAAFAAAAAABQAAAAAAAUAUAABQAAAAUAAAFAAQAAUAAAAAAAAFAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAQAAAAAAAAHPbZAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAQFBAAAAAAAAAABQAAAAAAAAAAAAAAAUAAUAAAAAAAABQAAAAAAAAAAAAUAAAAAAAAFAAAAAABQAAAAAEAAAFAAAAAAABQAAAAAAUAAUABQAAAAUAAAAFAQAAUAAAAAAAAAFAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAQAAAAAAAAHPbZAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAQFBAAAAAAABQAAAAAAAAAAAAAAAUAAUEBQAAAAAAAFAAAAAAAAAAABQAAAAAAAAAUAAAAAAAFAAAAAAQAAUAAAAAAAFAAAAAAABQBQAAFAAABQAAAAUBAAAABQAAAAAAAAUAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAABAAAAAAAAAc9tkAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAAAAABAUEAAAAAAAFAAAAAAAAAAAAAAAABQAABQAAAAAAAAFAAAAAAAAAAABQAAAAAAAAAUAAAAAAAFAAAAAAQAAUAAAAAAAAFAAAAAABQABQAFAAABQAAAAUBAAAAAABQAAAAAAAUAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAABAAAAAAAAAAc9tkAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAAAAAAABAAAAAAAABQAAAAAAAAAAAAAAAUAAAAAAUAAAAAABQAAAAAAAAAAAUAAAAAAAAAFAAAAAABQAAAAAAEAAFAAAAAAAABQAAAAAAUAAUABQAAAUAAAAFAAQAAAAAAUAAAAAAAFAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAQAAAAAAAAAAHPbZAAAAAAAAAAAAAAAAAAAAAAAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAQAAAAAAUAAAAAAAAAAAAAAAAFAAAAAAAFAAAAAAUAAAAAAAAAAAFAAAAAAAAABQAAAAAAUAAAAAABAABQAAAAAAAAUAAAAAAFAAAFAUAAAFAAAAABQAEAAAAAAAFAAAAAABQAAAAAAAAAAAAAAUAAEAAABQAAAAAAQAAAAAAAAAAAAAAAAHPbZAAAAAAAAAAAAAAAAAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAQAAAAAAAUAAAAAAAAAAAAAAAAFAAAAAAAAAFAAAAUAAAAAAAAAAAFAAAAAAAAABQAAAAAAUAAAAAABAABQAAAAAAAAUAAAAAAAFAAFAUAAAFAAAAAABQAAEAAAAAAFAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAc9tkAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAAAAAAAAAAAAAAAABAUEAAFAAAAAAAAAAAAAAAABQAAAAAAAAAABQAAFAAAAAAAAAABQAAAAAAAAAUAAAAAAAFAAAAAAAQAAUAAAAAAAAAFAAAAAABQAABQFAAABQAAAAAAAUAAABAAAABQAAAAAAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHPbZAAAAAAAAAAAAAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAQAAAUAAAAAAAAAAAAAAAAFAAAAAAAAAAFAAAUAAAAAAAAAAAFAAAAAAAAABQAAAAAAAUAAAAAAABABQAAAAAAAAAUAAAAAAFAAAFAUAAAFAAAAAAAAABQAAEAAAFAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAc9tkAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAAAAAAAAAAAAAAAAAAAAABAAABQAAAAAAAAAAAAAAAAAUAAAAAAAAAAAUABQAAAAAAAAAAAUAAAAAAAAAFAAAAAAABQAAAAAAAAEFAAAAAAAAABQAAAAAAUAAAUBQAAAAUAAAAAAAAAFAAAQAAAUAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABz22QAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAEAFAAAAAAAAAAAAAAAABQAAAAAAAAAAABQFAAAAAAAAAAAABQAAAAAAAAAUAAAAAAAFAAAAAAAAAAQUAAAAAAAAFAAAAAABQAABQFAAAAABQAAAAAAAAAUAABAAABQAAAAAAAAAAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHPbZAAAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAQAUAAAAAAAAAAAAAAAAAFAAAAAAAAAAAFAAUAAAAAAAAAAAAFAAAAAAAAABQAAAAAAAUAAAAAAAAABBQAAAAAAAAUAAAAAAFAAAFAUAAAAAAFAAAAAAAAABQAAAEAAFAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAaDbIAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAACgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAqAAAAAAAAAAAAAAAAACgAAAAAAAAAAAACgKAAAAAAAAAAAACgAAAAAAAAoAAAAAAAAKAAAAAAAAAAgoAAAAAAAAAKAAAAACgAACgKAAAAAAACgAAAAAAAAAoAAACAACgAAAAAAAAAAAoAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAANBtkAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAVAUEAAAAAAAAAAAAAAAFAAAAAAAAAAAAAFUAAAAAAAAAAAAFAAAAAAAAABQAAAAAAAAUAAAAAAAAAAFQAAAAAAAAAUAAAAAFAAAAFAUAAAAAAAFAAAAAAAAABQAAAEAAAFAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAaDbIAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAACgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAqAoIAAAAAAAAAAAAAAAKAAAAAAAAAAAAAKAoAAAAAAAAAAAAKAAAAAAAAACgAAAAAAAAoAAAAAAAAAAKgAAAAAAAAAoAAAAAKAAAAAKAoAAAAAAAAKAAAAAAAACgAAAIAAAAKAAAAAAAAAACgAAAAAAAAAAAAAAAAAAAAAAAgAAKAAAADQbZAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAQAAAAAAAAAAAAAAAAUAAAAAAAAAAAAAUBQAAAAAAAAAAAAUAAAAAAAAAFAAAAAAAABQAAAAAAAAAAUBAAAAAAAABQAAAAAUAAAAAAUBQAAAAAAAAUAAAAAAAAFAAAAQAAAAAAUAAAAAAAAFAAAABAAAAAUAAAAAAAAAAEAAAAAAAABQaDbIAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAACgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAoAACAoIAAAAAAAAAAAAAKAAAAAAAAAAAAAAKoAAAAAAAAAAAAAKAAAAAAAAACgAAAAAAAAAoAAAAAAAAAAKAgAAAAAAoAAAAAKAAAAAAAAACigAAAAAAAKAAAAAAAACgAAAAIAAAAAKAAAAAAAAAAAAAAAAAAACgAAAAAAgAAAAAAAAAAANFtkAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABAAUEAAAAAAAAAAAAAAFAAAAAAAAAAAAAFBFFAAAAAAAAAAAAAUAAAAAAAAAFAAAAAAAAABQAAAAAAAAAAUBAAAAAABQAAAAAUAAAAAAAAAAFAFAAAAAAAUAAAAAAAAFAAAAAAQFBAAUEFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABotsgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAKAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAACgAIAAAAAAAAAAAAAAAAAAKAAAAAAAAAAAAAAKogKAAAAAAAAAAAAoAAAAAAAAAKAAAAAAAAACgAAAAAAAAAAAoACAAAACgAAAAAoAAAAAAAAAAAKAAKAAAAAAAoAAAAAAAKAAAAAAAAAAAgoAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAANFtkAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAUAUEBQAAAAAAAAAAFAAAAAAAAABQAAAAAAAAAUAAAAAAAAAAAFAAQAAAAUAAAAAAFAAAAAAAAAAABQABQAAAAAAFAAAAAAAABQAAAAAAAAAEFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABotsgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAKAAAAAAAAAAAAAAAAAAAAAAAAAAAAAgAKKAgAAAAAAAAAAAAAAAAAAAAoAAAAAAAAAAAAAAKAKCAoAAAAAAAAAACgAAAAAAAAAoAAAAAAAAAAKAAAAAAAAAACgAIAAAAKAAAAAACgAAAAAAAAAAAoAAAoAAAAAACgAAAAAAAAoAAAAAAAAACCgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA0W2QAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAQFFAQAAAAAAAAAAAAAAAAAAAAUAAAAAAAAAAAAAAAFAAFAAAAAAAAAAAUAAAAAAAAAAFAAAAAAAAAABQAAAAAAAAAAUABAAAABQAAAAAAUAAAAAAAAAAAAFAAAFAAAAAAAUAAAAAAAAFAAAAAAAAAQUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAGi2yAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAoAAAAAAAAAAAAAAAAAAAAAAAAAAACAAooCAAAAAAAAAAAAAAAAAAAACgAAAAAAAAAAAAAAAAoAAoAAAAAAAAAACgAAAAAAAAAAoAAAAAAAAAAAKAAAAAAAAACgIAAAAAKAAAAAACgAAAAAAAAAAAAAoAAoAAAAAAACgAAAAAAAAoAAAAAAAACCgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA0W2QAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAQFFQAAAAAAAAAAAAAAAAAAAAAAUAAAAAAAAAAAAAAAAFAAFAAAAAAAAAAAUAAAAAAAAAAFAAAAAAAAAAABQAAAAAAAAAUBAAAABQAAAAAAAAUAAAAAAAAAAAAAFAAFAAAAAAAAUAAAAAAAAFAAAAAAAAQAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAGi2yAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAoAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAKAgAAAAAAAAAAAAAAAAAAAAAoAAAAAAAAAAAAAAAAKAAAKAAAAAAAAAAAoAAAAAAAAAAKAAAAAAAAAAACgAAAAAAAAoACAAAACgAAAAAAAAoAAAAAAAAAAAAAKAAKAAAAAAAAoAAAAAAAAAKAAAAAAAAgoAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAANFtkAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAVAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAUAAAUAAAAAAAAABQAAAAAAAAAAAAUAAAAAAAAAAAFAAAAAAABQEAAAAAFAAAAAAAAAABQAAAAAAAAAAAAUAAUAAAAAAABQAAAAAAAAUAAAAAAABABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAf/2Q==",skyBoxDown:"data:image/jpeg;base64,/9j/4AAQSkZJRgABAQEAYABgAAD/2wBDAFA3PEY8MlBGQUZaVVBfeMiCeG5uePWvuZHI////////////////////////////////////////////////////2wBDAVVaWnhpeOuCguv/////////////////////////////////////////////////////////////////////////wAARCAgACAADAREAAhEBAxEB/8QAFgABAQEAAAAAAAAAAAAAAAAAAAEC/8QAFBABAAAAAAAAAAAAAAAAAAAAAP/EABYBAQEBAAAAAAAAAAAAAAAAAAABAv/EABQRAQAAAAAAAAAAAAAAAAAAAAD/2gAMAwEAAhEDEQA/ADKgAAAAAAAAAAIAAAAACgAgAAAAAAIAAACAAAAAAoAAAAAAAKAAAAAAAAAAAAAAAAACAAAAAAAAAAAAAAAoAAAAAAAAAAAAIAAAACgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAoAAAIAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAACgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAgAAAKAACAAAAAAAgAAAIAAAAACgAAAAAoAAAAAAAAAAAAAAAAAAAIAAAAAAAAAAAAACgAAAAAAAAAAAAAgAAAAKAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAACgAAgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAKAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAACAAAAAAAAAgAAIAAAACgAAAoAAAAAAAAAAAAAAAAAAAAAIAAAAAAAAAAAAACgAAAAAAAAAAAAAAgAAAAKAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAACggAAAAAAAKAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAACAAAAAAAAAAAgAIAAAACgAAoAAAAAAAAAAAAAAAAAAAAAAIAAAAAAAAAAACgAAAAAAAAAAAAAAAAAgAAAKAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAACgAAgAAAAAKAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAACAAAAAAAAAAAgAAIAACgAAoAAAAAAAAAAAAAAAAAAAAAIAAAAAAAAAAAACgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAoAAAAAAIAAAAAAAAAACgAAAgAAAKAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAACAAAAAAAAAAAAgAAAAAAKAAAACgAAgAAAAAAAAAAAAAIAAAAAAAAAAAAACgAAAAAAgAAAKAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAACgAAAAAAAgAAAAAAAAAAAKAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAACAAAAAAAAAAAAAAgAAKAAAACgAAAAAgAAAAAAAAAAAAIAAAAAAAAAAAAAAACgAAgAAAAAAKAAAAAAAAAAAAAAAAAAAAAAAAAAAAACAAAAoAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAKAAAAAAACAAAAAAAAAAAoAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAIAAAAAAAAAAAAAAAAAAAACgAAAAAAgAAAAAAAAAAAAIAAAAAAAAAAAAAAAAAAAAAAAAACgAAAAAAAAAAAAAAAAAAAAAAAAgAAAAAAAAKAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAACgAAAAAAgAAAAAAAAAAKAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAACAAAAoAAAAAAAAAAAAAAIAAAAAAAAAAAAAAAAAACgAAAAAAAgAAAAAAAAAAAAIAAAAAAAAAAAAAAAAAAAAAAAAACgAAAAAAAAAAAAAAAAAAAAAAgAAAAAAAAAAKAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAACgAAAAgAAAAAAAAAAKAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAACAAAAAoAAAAAAAAAAAAAAAAIAAAAAAAAAAAAACgAAAAAAAAAgAAAAAAAAAAAAIAAAAAAAAAAAAAAAAAAAAAAAAACgAAAAAAAAAAAAAAAAAAAAAgAAAAAAAAAAKAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAACgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAgAAAKAAAAAAAAAAAAAAAAAAAAAAACAAAoAAAAAAAAAAAAAIAAAAAAAAAAAAAACAAAAAAAAAAAAAAAAAAAAAAAAAoAAAAAAAAAAAAAAAAAAAAIAAAAAAAAAAACgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAoAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAIAACgAAAAAAAAAAAAAAAAAAAAAAAgKAAAAAAAAAAAAAAAACAAAAAAAAAAAAAAAAgAAAAAAAAAAAAAAAAAAAAAAAKAAAAAAAAAAAAAAAAAAAACAAAAAAAAAAAAoAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAKAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAACAoAAAAAAAAAAAAAAAAAAAAAAAIAAAACgAAAAAAAAAAAAAAgAAAAAAAAAAAAAAAAIAAAAAAAAAAAAAAAAAAAAACgAAAAAAAAAAAAAAAAAAAAgAAAAAAAAAAAAKAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAACgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAgAAAAAKAAAAAAAAAAAAAACAAAAAAAAAAAAAAAAAgAAAAAAAAAKAAAAACAAAAAAoAAAAAAAAAAAAAAAAAAAIACgAAAgAAAAAAAKAAAAAAAAAAAAAAAAAAAAAAAAAAACAAoAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAKAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAACAAAAAAAAAAAAAoAAAAAAAAAAAAAIAAAAAAAAAAAAAAAAAACAAAAAAAAoAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAIAAAAAACgAAAAAAAAAAAAAAAAAAAAAAAAAgAAAKAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAACgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAgAAAAAAAAAAAAAAAAKAAAAAAAAAAACAAAAAAAAAAAAAAAAAAAAAgAAAAAAAKAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAACAAAoAAAAIACgAAAAAAAAAAAAAAAAAgAAAAKAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAACgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAgAAAAAAAAAAAAAAAAAAAAAKAAAAAAAAAACAAAAAAAAAAAAAAAAAAAAAAAAgAAAAAAKAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAACAAAAAAAAAoAAAAAAAAAAAAAAAAIAAAAAACgAAgAAKAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAACgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAgAAAAAAAAAAAAAAAAAAAAAAKAAAAAAAAACAAAAAAAAAAAAAAAAAAAAAAAAAgAAAAAAKAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAACAAAAAAAAAAoAAAAAAAAAAAAAAAIAAAAAAAAAAAAAACgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAoAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAIAAAAAAAAAAAAAAAAAAAAAACggAKAAAAAACAAAAAAAAAAAAAAAAAAAAAAAAAAAgAAAAAKAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAACAAAAAAAAAAoAAAAAAAAAAAAAAAIAAAAAAAAAAAAAAAAAAAAACgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAoAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAIAAAAAAAAAAAAAAAAAAAAAAAAAAACgAAAgAAAAAAAAAAAAAAAAAAAAAAAAAAAAIAAACgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAgAAAAAAAAAKAAAAAAAAAAAAAAAACAAAAAAAAAAAAAAAAAAAAAoAAAAAAAAAAAAAAAAAAAAAAAAAAAAAKAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAACAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAoAAIAAAAAAAAAAAAAAAAAAAAAAAAAAAAACAAAoAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAIAAAAAAAAAACgAAAAAAAAAAAAAAAAgAAAAAAAAAAAAAAAAAAKAAAAAAAAAAAAAAAAAAAAAAAAAAAAAACgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAKAACAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAgAAKAAAAAAAAAACAAAAAAAAAAoAAAAAAAAAAAAAAAAAAIAAAAAAAAAAAAAAAACgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAoAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAIAAAAAACAAoAAAAAAAAAAAAAAAAAAAAAKAACAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAgAAKAAAAAAAAAACAAAAAAAAAAoAAAAAAAAAAAAAAAAAAIAAAAAAAAAAAAAAACgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAoAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAIAAAACAAAAAAoAAAAAAAAAAAAAAAAAAAKAAACAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAgAKAAAAAAAAAACAAAAAAAAAAoAAAAAAAAAAAAAAAAAAIAAAAAAAAAAAAAAAACgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAoAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAIAAAACAAAAAAAAoAAAAAAAAAAAAAAAAAAAKAAACAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAgAKAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAACAAAAAAAAAAoAAAAAAAAAAAAAAAAAAIAAAAAAAAAAAAAAAAACgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAoAAAAAICgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAgAAAAAIAAAAAAACgAAAAAAAAAAAAAAAAAAAAAoAAAAAIAAAAAAAAAAAAAAAAAAAAAAAAACAAAAAAAAAAAAoAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAIAAAAAAAACgAAAAAAAAAAAAAAAAAAgAAAAAAAAAAAAAAAAAAAKAAAAAAAAAAAAAAAAAAAAAAAAAAAACgAAAAgAAAAKAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAACAAAAAAAgAAAAAAAKAAAAAAAAAAAAAAAAAAAAAAAACgAAgAAAAAAAAAAAAAAAAAAAAAAAIAAAAAAAAAAAAAAAAACgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAgAAAAAAAAKAAAAAAAAAAAAAAAAAAAAAACAAAAAAAAAAAAAAAAAAAAoAAAAAAAAAAAAAAAAAAAAAAAAAKAACAAAAAAAoAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAIAAAAAACAAAAAAAAoAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAIAAACgAAAAgAAAAAAAAAAAAAAAAAAAAAKAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAACAAAAAAAAoAAAAAAAAAAAAAAAAAAAAAAAAIAAAAAAAAAAAAAAAAAAAAACgAAAAAAAAAAAAAAAAAAAAAAoAAIAAAAAACgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAgAAAAAAIAAAAAAACgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAKAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAACAAAAAAAAoAAAAAAAAAAAAAAAAAAAAAAAAAIAAAAAAAAAAAAAAAAAAAACgAAAAAAAAAAAAAAAAAAAAAAoAAIAAAAAAACgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAgAAAAAAIAAAAAACgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAKAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAACAAAAAAAoAAAAAAAAAAAAAAAAAAAAAAAAAAIAAAAAAAAAAAAAAAAAACgAAAAAAAAAAAAAAAAAAAAAAAAAoAAAAIAAAAAACgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAgAAAAAAIAAAAACgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAKAAAAAAAAAAAAAAAAAAAAAAAAAAAAAACAAAAAAAoAAAAAAAAAAAAAAAAAAAAAAAAAAAIAAAAAAAAAAAAAAAAACgAAAAAAAAAAAAAAAAAAAAAAAAAAAoAAAAAIAAAAAAAAACgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAgAAAAAAIAAAACgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAKAAAAAAAAAAAAAAAAAAAAAAAAAAACAAAAAAAAoAAAAAAAAAAAAAAAAAAAAAAAAAAAAAIAAACgAAAAgAAAAAAKAAAAAAAAAAAAAAAAAAAAAAAAAAAACgAAAAAAAgAAAAAAAAKAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAACAAAAAAAAgAAKAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAACAAAAAgKAAAAAAAAAAAAAAAAAAAAAAAAAAAAAACgAAAAAAAAAAAAAAAAAAAAAAAAAgAAAAAAAAAKAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAACAAAAoAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAKAAAAAAACAAAAAAAAAoAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAIAAAAAAACAAoAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAIAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAACgAAAAAAAAAAAAAAAAAAAAAAAgAAAAAAAAAAAKAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAACgAAAAAAAgAAAAAAAAKAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAACAAAAAAAAAAAAAAAAAAAAAAgAAKAAAAAAAAAAAAAAAAAAAAAAAAAAACAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAoAAAAAAAAAAAAAAAAAAAAAAIAAAAAAAAAAACgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAoAAAAAAAAIAAAAAAACgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAgAAAAAAAAAAAAAAAAAAAIAAAAACgAAAAAAAAAAAAAAAAAAAAAAAAAAAgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAKAAAAAAAAAAAAAAAAAAAAACAAAAAAAAAAAAAoAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAKAAAAAAACAAAAAAAAoAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAIAAAAAAAAAAAAAAAAACAAAAAAAAoAAAAAAAAAAAAAAAAAAAAAAAAAAAIAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAACgAAAAAAAAAAAAAAAAAAAAgAAAAAAAAAAAAAKAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAACgAAAAAAAgAAAAAKAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAACAAAAAAAAAAAAAAAAAgAAAAAAAAKAAAAAAAAAAAAAAAAAAAAAAAAAAACAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAoAAAAAAAAAAAAAAAAAAAAIAAAAAAAAAAAACgAAAAAAAAAAAAAAAgAKAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAACgAAAAAAAgAAAKAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAACAAAAAAAAAAAAAAAAAAAAAgAAAAAAAAAKAAAAAAAAAAAAAAAAAAAAAAAAAAACAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAoAAAAAAAAAAAAAAAAAAAIAAAAAAAAAAAACgAAAAAAAAAAAAAAgAAAAAAKAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAACgAAAAAAAgAAKAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAACAAAAAAAAAAAAAAAAAAAAAgAAAAAAAAAAKAAAAAACAAoAAAAAAAAAAAAAAAAAAIAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAACgAAAAAAAAAAAAAAAAAAAgAAAAAAAAAAAKAAAAAAAAAAAAAACAAAAAAAAAoAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAKAAAAAAACAAoAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAIAAAAAAAAAAAAAAAAAAACAAAAAAAAAAAAoAAAAIAAAAACgAAAAAAAAAAAAAAAAgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAKAAAAAAAAAAAAAAAAAAACAAAAAAAAAAAAoAAAAAAAAAAAAAIAAAAAAAAAACgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAoAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAIACgAAAAAAAAAAgAAAAAAAAAAAAAAAAAIAAAAAAAAAAACgAAAAgAAAAAAAKAAAAAAAAAAAAAAACAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAoAAAAAAAAAAAAAAAAAAAIAAAAAAAAAACgAAAAAAAAAAAAAgAAAAAAAAAAAAKAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAACgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAgAAAAAKAAAAAAAAACAAAAAAAAAAAAAAAgAAKAACAAAAAAAAoAAAAIAAAAAAACgAAAAAAAAAAAAAAAgAAAAAAAAKAAAAAAAAACAAAAAAAAAAAAAAAAAoAAAAAAAAAAAAAAAAAAAAIAAAAAAAAACgAAAAAAAAAAAAgAAAAAAAAAAAAAKAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAACgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAgAAAAAAAKAAAAAAAAAACAAAAAAAAAAAAAgAAKAAAAACAAAAAAoAAAIAAAAAAAAACgAAAAAAAAAAAAAgAAAAAAAKAAAAAAAAAAAACAAAAAAAAAAAAAAAAoAAAAAAAAAAAAAAAAAAAAIAAAAAAAAACgAAAAAAAAAAAgAAAAAAAAAAAAAAKAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAACgAAAAAAAAAAAAAAAAAAAAAAAAAAAAgAAAAAAAAKAAAAAAAAAACAAAAAAAAAAAAAgAKAAAAAAAACAAAAAoAIAAAAAAAAAACgAAAAAAAAAAAAAgAAAAAAAKAAAAAAAAAAAAAAAACAAAAAAAAAAAAoAAAAAIAAACgAAAAAAAAAAAgAAAAAAAAAKAAAAAAAAACAAAAAAAAAAAAAAAAoAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAKAAAAAAAAAAAAAAAAAAAAAAAAAAACAAAAAAAAoAAAAAAAAAAAAAIAAAAAAAAAAACAoAAAAAAAAAAAAIAAAAAAAAAAAAAACgAAAAAAAAAAAgAAAAAAAAAAKAAAAAAAAAAAAAAAACAAAAAAAAAAAoAAAAIAAAAACgAAAAAAAAAAgAAAAAAAAAAKAAAAAAACAAAAAAAAAAAAAAAAAoAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAKAAAAAAAAAAAAAAAAAAAAAAAAACAAAAAAAAoAAAAAAAAAAAAAAAICAoAAAAAAAAAAAAAAAAAAAAAAIAAAAAAAAAAAAAACgAAAAAAAAAgAAAAAAAAAAAAAKAAAAAAAAAAAAAAAAACAAAAAAAAoAAAAAIAAAAAACgAAAAAAAAAAgAAAAAAAAAAAAKAACAAAAAAAAAAAAAAAAAAoAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAKAAAAAAAAAAAAAAAAAAAAAAAAACAAAAAAAoAAAAAAAAAAAAAAAAAAMgAoAAAAAAAAAAAAAAAAAAAAAIAAAAAAAAAAAAACgAAAAAAAAAgAAAAAAAAAAAAAAAKAAAAAACAoAAAAAAAAAAAAAAAAAAAAAAAIAAAAAACgAAAAAAAAAgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAKAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAACgAAAAAAAAAAAAAAAAAAAAAAAAAgAAAAAKAAAAAAAAAAAAAAAAAAADIAAKAAAAAAAAAAAAAAAAAAAACAAAAAAAAAoAAICgAAAAAAAAAgAAAAAAAAAAAAAAAAAAKAAACAAAoAAAAAAAAAAAAAAAAAAAAAAAIAAAAAACgAAAAAAAAgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAKAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAACgAAAAAAAAAAAAAAAAAAAAAAAAAgAAAAAKAAAAAAAAAAAAAAAAAAADIAAKAAAAAAAAAAAAAAAAAAAACAAAAAAAAAoAAAAAAAAAAAAAIAAAAAAAAAAAAAAAAAAAAAAAAACgAAAAAAAAAAAAAAAAAAAAAAAAgAAAAAAKAAAAAACAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAoAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAKAAAAAAAAAAAAAAAAAAAAAAAAAACAAAAoAAAAAAAAAAAAKAACAAAAAyAACgAAAAAAAAAAAAAAAAAAAAgAAAAAAAAKAAAAAAAAAAAAACAAAAAAAAAAAAAAAAAAAAAAAAAAoAAAAAAAAAAAAAAAAAAAAAAAAAIAAAAACgAAAAAgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAKAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAACgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAoAAAIAAADIAKAAAAAAAAACAAAoAAAAAAAAAIAAAAAAACgAAAAAAAAAAAAAgAAAAAAAAAAAAAAAAAAAAAAAAKAAAAAAAAAAAAAAAAAAAAAAAAAACAAAAAAAoAAAIAAAAAAAAAAAAAAAAAAAAAAAAAAAAAACgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAoAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAKAACAAAAAyCgAAAAAAAAAgAAAAKAAAAAAAACAAAAAAAAoAAAAAAAAAAAAAAIAAAAAAAAAAAAAAAAAAAAAACgAAAAAAAgAAAAKAAAAAAAAAAAAAACAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAoAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAKAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAACAAAAAAAAAAAgAAAAKAAAAAAAACAAAAAAAAoAAAAAAAAAAAAAAIAAAAAAAAAAAAAAAAAAAAAACgAAAAAgAAAAAAAKAAAAAAAAAAAAACAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAoAAAAAAAAAAAAAAIAACgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAoAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAIAAAAAAAAAAACAAAoAAAAAAAAAIAAAAAACgAAAAAAAAAAAAAAAgAAAAAAAAAAAAAAAAAAAAAAAKAAACAAAAAAAAAAoAAAAAAAAAAAIAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAACgAAAAAAAAAAAgAAAAAAAAAKAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAACgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAgAAAAAAAAAAAAAAAAAAAAAAAAIAAAAAACgAAAAAAAAAAAAAAAgAAAAAAAAAAAAAAAAAAAAAAAKAAACAAAAAAAAAAoAAAAAAAAAAIAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAACgAAAAAAAAAgAAAAAAAAAAAAKAAAAAAAAAAAAAAAAAAAAAAAAAAAAAACgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAgAAAAAAAAAAAAAAAAAAAAAAAAIAAAACgAAAAAAAAAAAAAAAAAgAAAAAAAAAAAAAAAAAAAAAAAAKAACAAAAAAAAAAoAAAAAAAAAIAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAACgAAAAAAAAgAAAAAAAAAAAAAAAKAAAAAAAAAAAAAAAAAAAAAAAAAAAAACgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAIAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAACgAAAAAAAgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAKAAAAAAACAAAAAAAAAAAAAAAAAAoAAAAAAAAAAAAAAAAAAAAAAAAAAAAKAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAACAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAKAAAAACAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAoAAAAAAIAAAAAAAAAAAAAAAAAACgAAAAAAAAAAAAAAAAAAAAAAAAAAAAoAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAIAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAACAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAoAAAAIAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAACgAAAAAAgAAAAAAAAAAAAAAAAAAAAKAAAAAAAAAAAAAAAAAAAAAAAAAAAACgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAgAAAAKAAAAAAAAAACAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAKAAAAACAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAoAAAAAAIAAAAAAAAAAAAAAAAAAAAACgAAAAAAAAAAAAAAAAAAAAAAAAAAAAoAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAIAAAAAACgAAAAAAAAAgAAAAAAAAAAAAIAAACgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAKAAAAACAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAoAAAAAAAIAAAAAAAAAAAAAAAAAAAAAACgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAoAAAAAAAAAAAAAAAAAAAAAAAAAAAAIAAAAAAACgAAAAAAAAgAAAAAAAAAAAIAAAAACgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAgAAAAAAAAAAAAAAAAAAAAAAAAAAAAKAAAAAAACAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAoAAAAAAAAAIAAAAAAAAAAAAAAAAAAAAAACgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAoAAAAAAAAAAAAAAAAAAAAAAAAAAAIAAAAAAACgAAAAAAAAgAAAAAAAAAAAIAAAAACgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAgAAAAAAAAAAAAAAAAAAAAAAAAAAAKAAAAAAAACAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAoAAAAAAAAAIAAAAAAAAAAAAAAACgAAAgAAAKAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAACgAAAAAAAAAAAAAAAAAAAAAAAAAAgAAAAAAKAAAAAAAAACAAAAAAAAAAAgAAAAAAKAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAACAAAAAAAAAAAAAAAAAAAAAAAAAAAAoAAAAAAAAAIAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAACgAAAAAAAAgAAAAAAAAAAAKAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAACgAAAAAAAAAAAAAAAAAAAAAAAAAAgAAAAAAKAAAAAAAAACAAAAAAAAAAAgAAAAAAKAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAACAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAoAAAAAAAAAIAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAACgAAAAAAAgAAAAAAAAAAAKAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAACgAAAAAAAAAAAAAAAAAAAAAAAAAgAAAAAAAKAAAAAAAACAAAAAAAAAAAgAAAAAKAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAACAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAoAAIAAAAAAAAAAAAAAAAAAAAAAAAAAAAACggAAAAAAAAAAKAAAAACAAAAAAAAAAAAoAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAKAAAAAAAAAAAAAAAAAAAAAAAAACAAAAAAAoAAAAAAAAIAAAAAAAAAAACAAAAAoAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAIAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAACgAAAgAAAAAAAAAAKAACAAAAAAAAAAAAAAoAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAKAAAAAAAAAAAAAAAAAAAAAAAACAAAAAAoAAAAAAAAAIAAAAAAAAAAAACAAAoAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAIAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAACgAAAAgAAAAAAAAAAAAAAAAAAAAAAAAAKAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAACgAAAAAAAAAAAAAAAAAAAAAAAAAgAAAAKAAAAAAAAACAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAgAAAKAAAACAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAoAAAIAAAAAAAAAAAAAAAAAAAAAAAAAAACgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAoAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAIAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAACAAoAAAAAIAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAACgAAgAAAAAAAAAAAAAAAAAAAAAAAAAAAKAAAAAAAAAAAAACAAoAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAKAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAACAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAKCAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAoAAAAAAAAAAAAIACgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAoAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAIAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAACAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAoAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAKAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAACAAAAgAKAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAACAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAoAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAKAAAAACAAoAAAAAAAAAAAAAAAAAAAAAAAAAAAAAIAACAAAAoAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAIAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAACAoAAAAAAAAAAAAAAAAAAAAAAKAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAACgAgAAAAAAKAAAAAAAAAAAAAAAAAAAAAAAAAAACAAgAAAAKAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAACAAAAAAAAAAAAAAAAAAAAAAAAAoAAIAAAAAAAAAAAAAAAAAACgAAAAgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAKAAAAACAAAAAAAoAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAKAAAAAAAAAAAAAAAAAAAAAAAAACAgAAAAAKAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAACAAAAAAAAAAAAAAAAAAAAAAoAAAAAIAAAAAAAAAAAAAAAACgAAAAAAAgAAAAAAAAAAAAAAAAAAAAKAAAAAAAACAAAAAAAAAAAAAAoAAAAAAAAIAAAAAACgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAoAAAAAAAAAAAAAAAAAAAAAAAAICAAAAAAoAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAIAAAAAAAAAAAAAAAAAAACgAAAAAAAgAAAAAAAAAAAAAAKAAAAAAAAAACAAAAAAAAAAAAAAAAAAAoAAAAAAAAAAIAAAAAAAAAAACgAAAAAAAAAAgAAAAAKAAAAAAAAAAAAAAAAAAAAAAAAAAAAACAAAAAoAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAKAAAAAAAAAAAAAAAAAAAAAACAgAAAAKAAAAAAAAAACAoAAAAAAAAAAAAAAAAAAAAAAIAAAAAAAAAAAAAAAAAACgAAAAAAAAgAAAAAAAAAAAAAKAAAAAAAAAAACAAAAAAAAAAAAAAAAAAoAAAAAAAAAAAAIAAAAAAAAAACgAAAAAAAAAAgAAAAAKAAAAAAAAAAAAAAAAAAAAAAAAAAACAAAAAAAAoAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAKAAAAAAACAAAAAoAAAAAAAAMgAAoAAAAAAAAAAAAAAICgAAAAAAAAAAAAAAAAAAAAAgAAAAAAAAAAAAAAAAAAKAAAAAAAACAAAAAAAAAAAAAoAAAAAAAAAAAAIAAAAAAAAAAAAAAAAACgAAAAAAAAAAAAgAAAAAAAAAKAAAAAAAAAAACAAAAAAAoAAAAAAAAAAAAAAAAAAAAAAAAIAAAAAAAAAACgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAoAAAIAAAAAAAAACgAAAAAAAyCgAAAAAAAAAAAAAAAAgAKAAAAAAAAAAAAAAAAAAAAACAAAAAAoAAIAAAAAAAACgAAAAAAAgAAAAAAAAAAAAAAKAAAAAAAAAAACAAAAAAAAAAAAAAAAAAoAAAAAAAAAAAAIAAAAAAAAACgAAAAAAAAAAAAgAAAAAAKAAAAAAAAAAAAAAAAAAAACAAAAAAAAAAAAAAoAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAKAACAAAAAAAAAAAAoAAAAAAMgoAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAIAAAAAAAAAAAAAAAAAAAAAAAAAAAAAACgAAAAAAAAAAAgAAAAAAAAAAAAAAAAKAAAAAAAAAAAACAAAAAAAAAAoAAAAAAAAAAAAAIAAAAAAAAAAAACgAAAAAAAAAAAAAgAAAAAAAAAAAAAAKAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAACgAAAgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAIAAAAAAAAAAAAAAAAAAAAAAAAAAAAAACgAAAAAAAAAAAAgAAAAAAAAAAAAAAAKAAAAAAAAAAACAAAAAAAAAAoAAAAAAAAAAAAAAIAAAAAAAAAAAAACgAAAAAAAAAAAAgAAAAAAAAAAAAAAKAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAACgAAAAAgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAICgAAAAAAAAAAAAAAAAgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAKAAAAAAAAAAAACAAAAAAAAoAAAAAAAAAAAAAAAAAAIAAAAAAAAACgAAAAAAAAAAAAAAAAgAAAAAAAAAAAAKAAAAAAAAACAAAAAAAAAAAAAAAAAAAoAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAKAAAAACAAAAAAAAAAAAAAAAAAAAAoAAAAIAAAAAAAAAAAAAAAAAAAAAAAACAAAAAAoAAAAAAAAAAIAAAAAAAAAAAAAAAAAAACgAgAAAAAAAAAKAAAAAAAAAAACAAAAAAAAAoAAAAAAAAAAAAAAAAAIAAAAAAAAACgAAAAAAAAAAAAAAAAAAgAAAAAAAAAAAKAAAAAAAACAAAAAAAAAAAAAAAAAAAAAoAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAKAAAAACAAAAAAAAAAAAAAAAAAoAAAAAAAIAAAAAAAAAAAAAAAAAAAAACAAAAAAAAoAAAAAAAAIAAAAAAAAAAAAAAAAAACgAAAAgAAAAAAAAKAAAAAAAAAAACAAAAAAAAAoAAAAAAAAAAAAAIAAAAAAAAAAAAACgAAAAAAAAAAAAAAAAAAgAAAAAAAAAAAAKAAAAAACAAAAAAAAAAAAAAAAAAAAAAAAoAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAKAAAACAAAAAAAAAAAAAAAAAoAAAAAAAAIAAAAAAAAAAAAAAAAAAAAACAAAAAAAoAAAAAAAAIAAAAAAAAAAAAAAAAAACgAAAAgAAAAAAAAKAAAAAAAAAAACAAAAAAAAAoAAAAAAAAAAAIAAAAAAAAAAAAAAACgAAAAAAAAAAAAAAAAAAAgAAAAAAAAAAAKAAAAACAAAAAAAAAAAAAAAAAAAAAAAAAAoAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAKAAAAACAAAAAAAAAAAAAAAoAAAAAAAAIAAAAAAAAAAAAAAAAAAAAACAAAAAAAoAAAAAAAIAAAAAAAAAAAAAAAAAACgAAAAAgAAAAAAAAKAAAAAAAAAACAAAAAAAAAAoAAAAAAAAAAIAAAAAAAAAAAAAAAACgAAAAgAAKAAAAAAAAAAACAAAAAAAAAAAAoAAAAIAAAAAAAAAAAAAAAAAAAAAAAAAACgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAoAAAAAAAIAAAAAAAAAAAAACgAAAAAAAgAAAAAAAAAAAAAAAAAAAAAIAAAAAAACgAAAAAgAAAAAKACAAAAAAAAAAAoAAAAAAIAAAAAAACgAAAAAAAAAAAgAAAAAAAAAKAAAAAAAAAACAAAAAAAAAAAAAAAAAAoAIAAAAACgAAAAAAAAAgAAAAAAAAAAAAKAAACAAAAAAAAAAAAAAAAAAAAAAAAAAAAoAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAKAAAAAAAAACAAAAAAAAAAAAoAAAAAAIAAAAAAAAAAAAAAAAAAAAAACAAAAAAAAoAAAIAAAAAACgAAAgAAAAAAAAAKAAAAACAAAAAAAAAoAAAAAAAAAAIAAAAAAAAAAACgAAAAAAAAgAAAAAAAAAAAAAAAAAAAAAAAAAKAAAAAAAAAACAAAAAAAAAAAAAAAAAAAAAAAAAAAAoAAAIAAAAAAAAAAACgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAoAAAAAAAAAAIAAAAAAAAAAAACgAgAAAAAAAAAAAAAAAAAAAAAAAAAIAAAAAAAAAAAAAAAAAACgAAAgAAAAAAAAAKAAACAAAAAAAAAAoAAAAAAAAAAAIAAAAAAAAAAAACgAAAAAAgAAAAAAAAAAAAAAAAAAAAAAAAAAKAAAAAAAAAACAAAAAAAAAAAAAAAAAAAAAAAAAAAAoAAAAAAIAAACgAAAAAAgAAAAAAKAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAACgAAAAAAAAAAAgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAIAAAAAAAAAAAAAAAAAACgAAAAgAAAAAAAAAAAAAAAAAAAAAAKAAAAAAAAAACAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAoAAAAAAAAAAIAAAAAAAAAAAAAAAAAAAAAAAAAACgAAAAAAAAAAAAAAAAAAgAAAAAAAAAKAAAAAAAAAAAAAAAAAAAAAAAAAAAAACgAAAAAAAAAAAAAAAgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAIAAAAAAAAAAAAAAAAACgAAAAAAgAAAAAAAAAAAAAAAAAAAAKAAAAAAAAAACAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAoAAAAAAAAIAAAAAAAAAAAAAAAAAAAAAAAAAAAACgAAAAAAAAAAAAAAAAAgAAAAAAAAAAKAAAAAAAAAAAAAAAAAAAAAAAAAAAAAACgAAAAAAAAAAAAAAAAgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAIAAAAAAAAAAAAAAACgAAAAAAAAgAAAAAAAAAAAAAAAAAAAKAAAAAAAAACAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAoAAAAAAAAIAAAAAAAAAAAAAAAAAAAAAAAAAAAAACgAAAAAAAAAAAAAAAAAgAAAAAAAAAAKAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAACgAAAAAAAAAAgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAIAAAAAAAAAAAAACgAAAAAAAAAAgAAAAAAAAAAAAAAAAAAKAAAAAAAACAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAoAAAAAAIAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAACgAAAAAAAAAAAAAAgAAAAAAAAAAKAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAACgAAAAAAAAAgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAIAAAAAAAAAAACgAAAAAAAAAAAgAAAAAAAAAAAAAAAAAAAKAAAAAACAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAoAAAAAAAAAAAAAIAAAAAAAAAACgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAoAAAAAAAAIAAAAAAAAAAAAAAAAAAAAAAAAAAAAACAAAoAAAAAIAAAAAAAACgAAAAAAAAAAAAAgAAAAAAAAAAAAAAAAAAAKAAAAACAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAoAAAAAAIAAAAAAAAAAAAAAAAAAAAAAAAAACgAAAAAAAAAAAAAgAAAAAAAAAAKAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAACgAAAAAAgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAIAAACgAAAAAAgAAAAAKAAAAAAAAAAAAAAACAAAAAAoAAAIAAAAAAAAACgAAAgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAKAAAAAAAACAAAAAAAAAAAAAAoAAAAAAAAIAAAAAAAAAAAAAAAAAAAAAAAACgAAAAAAAAAAAAAgAAAAAAAAAAAKAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAACgAgAAAAAAAAAAAAAAAAIAAAAACgAAAAAgAAAAKAAAAAAAAAAAAAAACAAAAAoAAAAAAIAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAACgAAAAAAAAAAgAAAAAAAAAAAAKAAAAAAAAACAAAAAAAAAAAAAAAAAAAAAAAAoAAAAAAAAAAAAAIAAAAAAAAAAAACgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAoAAIAAAAAAAAAAAAAAACAAAAAAAAoAAAAIAAACgAAAAAgAKAAAAAAAACAAAAoAAAAAAAAIAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAACgAAAAAAAAAAAAgAAAAAAAAAAKAAAAAAAAAACAAAAAAAAAAAAAAAAAAAAAAAAAoAAAAAAAAAIAAAAAAAAAAAAAAAAACgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAoAAAIAAAAAAAAAAAAAAAACAAAAAAAAAoAAAAIAACgAAAAAgAAKAAAAAAAAAAAAAAAAAAAAAACAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAoAAAAAAAAAAAAIAAAAAAAAAACgAAAAAAAAAAgAAAAAAAAAAAAAAAAAAAAAAAAAKAAAACAAAAAAAAAAAAAAAAAAAAAAAAoAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAKAAAAAACAAAAAAAAAAAAAAAAAAgAAAAAAAAAKAAACAAAoAAAAAAIAAAAAACgAAAAAAAAAAAAAAAAAAgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAKAAAAAAAAAAAACAAAAAAAAAAoAAAAAAAAAAAIAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAACgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAoAAAAAAIAAAAAAAAAAAAAAAAAACAAAAAAAAAAoAAAIAAACgAAAAAgAAAAAAAAKAAAAAAAAAAAAAAAAACAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAoAAAAAAAAAAAAIAAAAAAAAAACgAAAAAAAAAAAAgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAKAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAACgAAAgAAAAAAAAAAAAAAIAAAAAAAAAAAAAAAACgAAAgAAKAAAACAAAAAAAAAAAoAAAAAAAAAAAAAAAAAIAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAACgAAAAAAAAAAAgAAAAAAAAAAKAAAAAAAAAAAAACAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAoAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAIAAAAAAAAAAAAAAAAACgAAAAAgAKAAAACAAAAAAAAAAAoAAAAAAAAAAAAAAAAAAIAAAAAACgAAgAAAAAAAAAAAAAAAAAAAAAAAAKAAAAAAAAAAAAAAAAACAAAAAAAAAAAAoAAAAAAAAAAAAAIAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAACgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAgAAAAAAAAAAAAAAAAAAAKAAAAAAAAAAACAAAAAgAAAKAACgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAgAAAAAAAAAAAAAAAAAAAAAAKAAAAAAAAAAAAAAAAACAAAAAAAAAAAAoAAAAAAAAAAAAAAIAAAAAAAAAAACAAoAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAKAAAAAAAAAAACAAoAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAIAAAAAAAAAAAAAAAAAAACgAAAAAAAAAAAAgAAAAIAAACgAAAoAAAAAAAAAAAAAAAAAAAAAAAAAAAAAIAAAAAAAAAAAAAAAAAAAAAACgAAAAAAAAAAAAAAgAAAAAAAAAAAAKAAAAAACAAAAAAAAAAAAAAAAAAAAAgAKAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAACgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAgAAAAAAAAAAAAAAAAAAAKAAAAAAAAAAAACAAAAgAAAAAKAACgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAgAAAAAAAAAAAAAAAAAAAAAKAAAAAAAAAAAACAAAAAAAAAAAAAAoAAAAAIAAAAAAAAAAAAAAAAAAAAAACAAoAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAKAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAACAAoAAAAAAAAAAAAAAAIAAAAAAAAAAAAAAAAAAACgAAAAAAAAAAAAgAAAIAAAACgAAAAoAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAIAAAAAAAAAAAAAAAAAAAACgAAAAAAAAAAAgAAAAAAAAAAAAAAKAAAACAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAoAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAIAACgAAAAAAAAAAAAAAgAAAAAAAAAAAAAAAAAAAKAAAAAAAAAAAACAAAAAgAAAKAAAAACgAAAAAAgAAKAAAAAAAAAAAAAAAAAAAACAAAAAAAAAAAAAAAAAAAAAoAAAAAAAAAIACgAgAAAAAAAAAAAAKACAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAoAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAIAACgAAAAAAAAAAAAAAgAAAAAAAAAAAAAAAAAAAKAAAAAAAAAAAACAAAAAAgKAAAAAAAAAAAAAAAAAAACgAAAAAAAAAAAAAAAAAAAgAAAAAAAAAAAAAAAAAAAKAAAAAAAACAAoAIAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAACgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAgAAAKAAAAAAAAAAAAAACAAAAAAAAAAAAAAAAAAAoAAAAAAAAAAAAIAAAAAAAAAAAAAAAAAAAAAAAAAAACgAAAAAAAAAAAAAAAAAAAgAAAAAAAAAAAAAAAAAAAKAAAAAACAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAoAAAAAAAAIAACgAAAAAAAAAAAAAAAAAgAAAKAAAAAAAAAAAAAAACAAAAAAAAAAAAAAAAAAAoAAAAAAAAAAIAAAAAAAAAAAAAAAAAAAAAAAAAAAACgAAAAAAAAAAAAAAAAAAAgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAIAACgAAAAAAAAAAAAAAAAAAAAAgAAAAKAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAACgAAAAAAgAAAKAAAAAAAAAAAAAAAAACAAAAoAAAAAAAAAAAAAAAAAIAAAAAAAAAAAAAAAACgAAAAAAAAAAgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAKAAAAAAAAAAAAAAAAAACAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAgAAAAKAAAAAAAAAAAAAAAAAAACAAAAAAAAoAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAKAAAAACAAAAAoAAAAAAAAAAAAAAAAAIAACgAAAAAAAAAAAAAAAAAAAgAAAAAAAAAAAAAAAAKAAAAAAAACAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAoAAAAAAAAAAAAAAAAAAIAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAACAAAAAAoAAAAAAAAAAAAAAAAAAIAAAAAAAACgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAoAAAAIAAAACgAAAAAAAAAAAAAAAAAgAAKAAAAAAAAAAAAAAAAAAACAAAAAAAAAAAAAAAAAAoAAAAAIAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAACgAAAAAAAAAAAAAAAAAAgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAIAAAAAACgAAAAAAAAAAAAAAAAAgAAAAAAAAKAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAACgAAgAAAAAKAAAAAAAAAAAAAAAAACAAAoAAAAAAAAAAAAAAAAAAAIAAAAAAAAAAAAAAAAACgAAAgAAAAAAAAAAAAAAAAAAIACgAAAAAAAAAAAAAoAAAAAAAAAAAAAAAAIAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAACAAAAAAAoAAAAAAAAAAAAAAAAAIAAAAAAAAACgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAoAAAAAAAAAAAAAAAAAIACgAAAAAAAAAAAAAAAAAAAAAgAAAAAAAAAAAAAAAAKAACAAAAAAAAAAAAAAAAAAAAgAAKAAAAAAAAAAAAACgAAAAAAAAAAAgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAIAAAAACgAAAAAAAAAAAAAAAAAAgAAAAAAAAKAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAACgAAAAAAAAAAAAAAAAAAgAKAAAAAAAAAAAAAAAAAAAAACAAAoAAAAAIAAAAAAACgAAgAAAAAAAAAAAAAAAAAAIAAACgAAAAAAAAAAAAAoAAAAAAAIAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAACAAAAAoAAAAAAAAAAAAAAAAAAAAIAAAAAACgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAoAAAAAAAAAAAAAAAAAAAICgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAgAAAAAAKAACAAAAAAAAAAAAAAAAAAgAAKAAAAAAAAAAAAAAACgAAAAAgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAIAACgAAAAAAAAAAAAAAAAAAAAAAgAAAAAKAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAACgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAgAAAAAAAKAAACAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAoAIAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAACAAAAAAoAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAKAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAACAAAAAAAAoAAAAIAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAACAAAAAAoAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAKAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAACAAAAAAAAoAAAAAIAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAACAAAAAoAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAKAAACAAAAoAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAIAAAAAAAACgAAAAgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAIAACgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAoAAAAAIAAAAAAAACgAAAAAAAAAAAAAAAoAAAIAAAAAAAAAAAAAAAAAAAAAAAAAAAAACAAAAAAAAoAAAAIAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAACgAAAgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAKAAAAAAACAAAAAAAAAAoAAAAAAAAAAKAAAAAACAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAgAAAAAAAAKAACAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAoAAAIAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAACgAAAAAAAgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAKAAAAAAAAACAAAAAAAAoAAAAAAAAAAKAAAAAACAAAAAAgAKAAAAAAAAAAAAAAAAAAAAAACAAAAAAAAoIAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAACgAAAAAgAAAAAAAAAAAAAAAAKAAAAACAAAAAAAAAAAAAAAAAoAAAAAAAIAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAACgAAAAAAAAAAAgAAAAKAAAAAAAAAACgAAAAAAgAAAAIAAAACgAAAAAAAAAAAAAAAAAAAAAgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAKCAAAAAAAAAAAAAAAAAAAAAAAoAAAAAIAAAAAAAAAAAAAAACgAAAAAAgAAAAAAAAAAAAAAAAKAAAAAAACAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAoAAAAAAAAAAAAAAAAAAAAAAAAAKAAAAAACAAAAAgAAAAAKAAAAAAAAAAAAAAAAAAAAACAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAoAAAIAAAAAAAAAAAAAAAAAAAAACgAAAAAAgAAAAAAAAAAAAAAKAAAAAACAAAAAAAAAAAAAAAAAAoAAAAAIAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAACgAAAAAAAAAAAAAAAAAAAAAAAoAAAAAAIAAAACAAAAAAAAoAAAAAAAAAAAAAAAAAAAAAAAIAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAACgAAAAAgAAAAAAAAAAAAAAAAAAAKAAAAACAAAAAAAAAAAAAAAAoAAAAAIAAAAAAAAAAAAAAAAAAACgAAAgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAKAAAAAAAAAAAAAAAAAAAAAAACgAAAAAAAgAAAAIAAAAAAAACgAAAAAAAAAAAAAAAAAAAAAgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAKAAAAAACAAAAAAAAAAAAAAAAAAAAoAAAAIAAAAAAAAAAAAAAAACgAAgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAKAAAAAAAAAAAAAAAAAAAAAAACgAAAAAAAgAAAAAIAAAAAAAACgAAAAAAAAAAAAAAAAAgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAKAAAAAAACAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAoAAAAAAAAAAAAAAAAAAAAAAAKAAAAAAACAAAAAAAgAAAAAAAAKAAAAAAAAAAAACAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAoAAAAAAAAIAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAACgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAoAAIAAAAACAAAAAAAAAoAAAAAAAAAAAIAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAACgAAAAAAAgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAIACgAAAAAAAAAAAAAAAAAAAAAAAAAAoAAAAAAAAAAAAAIAACgAAAAAAAAAAAAAoAAAIAAAACAAAAAAAAoAAAAAAAAAAAIAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAACgAAAAAAAgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAIAAACgAAAAAAAAAAAAAAAAAAAAAAAAAoAAAAAAAIAAAAAAAAAAAAAAACgAAAAAAoAAAAIAAAACAAAAAAoAAAAAAAAAAAAIAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAACgAAAAAAgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAIAAAAACgAAAAAAAAAAAAAAAAAAAAAAAAAoAAAIAAAAAAAAAAAAAAAAAACgAAAAAAoAAAAAIAAACAAAAAAAoAAAAAAAAAAIAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAACgAAAAAgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAIAAAAAACgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAoAAAAAAKAAAAACAAAAAgAAAAAKAAAAAAAAAACAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAgAAAAAAAAAAKAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAACgAAAAAAoAAAAAIAAAACAAAAAAAAoAAAAAAAAIAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAACAAAAAAAAAAAAAoAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAANAgAAAAAAKAAACAAAAAgAAAAAAAAAKAAAAAAACAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAgAAAAAAAAAAAAAKAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADQIAAAAAAAAAAAAAACAAAAAAgKAAAACgAAAAAAAgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAIAAAAAAAAAAAAAAAAAAACgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA0ACAAAAAAAAAAAAgAAAAIAAAACgAAAAAoAAAAAAIAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAACAAAAAAAAAAAAAAAAAAoAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAANAAgAAAAAAAAAAIAAACAAAAKACACgAAAAAoAAAAAAIAAAAAAAAAAAAAAAAAAAAAAACAAAoAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAIAAAAAAAAAAAAAAAAAACgAAAAAAAAAAAAAoAAIAAAAAAAAAAAAAAAAAAAADQIAAAAAAAAAACAAAAgAAAAAAAAKAAAAAAACgAAAgAAAAAAAAAAAAAAAAAAAAAAAIAAACgAAAAoAAAAIAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAACAAAAAAAAAAAAAAAAAAAoAAAAAAAAAAAAKAAAAACAAAAAAAAAAAAAAAAAAAoAAAAAAAAAAAIAACAAAAAAAAAoAAAAAAAAAAAAAAAAKAAAAACAAAAAAAAAAAAAAAgAAKAAACgAAAAAAgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAIAAAAAAAAAAAAAAAAAAACgAAAAAAAAAAAAoAAAAAAIAAAAAAAAAAAAAAAAACgAAAAAAAAAAAgAAAIAAAACgAAAAAAAAAAAAAAAAAAAoAAAAAIAAAAAAAAAAAAAACAAAoAAAKAAAAAACAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAgAAAAAAAAAAAAAAAAAAAKAAAAAAAAAAAACgAAAAAAAgAAAAAAAAAAAAAAAAKAAAAAAAAAAACAAAAAAAAAAAAAAAAAAAAAAAAAAAAAoAAAAAAIAAAAAAAAAAAAACAAAoAAAKAAAAACAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAgAAAAAKAAAAAAAACAAAoAAAAAAAAAAAAAAKAAAAAAAACAAAAAAAAAAAAAAAAoAAAAAAAAAAAIAAAAAAAAAAAAAAAAAAAAAAAAAAAACgAAAAAAgAAAAAAAAAAAAAAICgAAAAoAAAIAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAACAAoAAAAAAAAAAAAAAAAAAAIAAAAACgAAAAAAAAAAAAAAAAAAAAAAAAAAAoAAAAAAAAIAAAAAAAAAAAAAAACgAAAAAAAAAAAAAgAAAAAAKACAAAAAAoAAAIAAAAAAACgAAAAAAgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAIAAAACgAAAAAAAAAAAAAAAAAAgAAAKAAAAAAAAAAAAAAAAAAAAAAAAAAAAACgAAAAAAAgAAAAAAAAAAAAAAAKCAAoAAAAAAAAAAAAAAAAAAAAAAAAAAAAAIAAAAAAACgAAAAAAgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAIAAAAACgAAAAAAAAAAAAAAAAAgAAAKAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAACgAAAAAAAAAAAAAAAAAAAAAAAAgAAAAAAAKAAAAAACAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAgAAAKAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAACAAAAAAAoAAAAAAAAAAAAAAAAAIACgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAoAAAAAAAAAAAAAAAAAAAAAAAIAAAAACgAAAAAAAAgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAIAAAAACgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAgAAAAAAAKAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAACgAAAAAAAAAAAAAAAAAAAAAgAAAAAKAAAAAAAAACAAAAAAAAAAAgAAAKAAAAAAAAAAAAAAAAAAAAAAACAAAAAAAAoAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAIAAAAAAAACgAAAAAAgAAAKAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAACgAAAAAAAAAAAAAAAAAAgAAAAAKAAAAAAAAAAAACAAAAAAAAAgAAAKAAAAAAAAAAAAAAAAAAAAAACAAAAAAAAAAAoAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAIAAAAAAAACgAAAAgAAAAAKACAAAAoAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAKAAAAAAAAAACAAAAAAAAoAAAAAAAAAAAAIAAAAAAAACAAAAoAAAAAAAAAAAAAAAAAAAAAIAAAAAAAAAAACgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAgAAAAAAAKAAAACAAAAAAAAAAAAAAAAAAoAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAACggAAAAAAAAAAAAAAAAAAAoAAAAAAAIAAAAAAAAACgAAAAAAAAAAgAAAAAAAAAIAAAAACgAAAAAAAAAAAAAAAAAAAAgAAAAAAAAAAAAKAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAACAAAAAAAAAoAAAIAAAAAAAAAAAAAAAAAAACgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAgCigIAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAKAAAAAAAACAAAAAAAAAAAgAAAAAKAAAAAAAAAAAAAAAAAAAACAAAAAAAAAAAAAoAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAIAAAAAAAAACgAAAgAAAAAAAAAAAAAAAAAAAKAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAACAKAKAgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAoAAAAAAIAAAAAAAAAAACAAAAAoAAAAAAAAAAAAAAAAAAAAAIAAAAAAAAAAAACgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAgAAAAAAAAAAAKAAACAAAAAAAAAAAAAAAAAAAAAoAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAIoAoCAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAACgAAAAgAAAAAAAAAAAAIAAAACgAAAAAAAAgAAAAKAAAAAACAAAAAAAAAAAAAAoAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAIAAAAAAAAAACgAAAAAgAAAAAAAAAAAAAAAAAAKAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAACKAKAgAAAAAAAAAAAAAAAAAAAgAAAAAAAKAAAAAAAAAAAACgAgAAAAAAAAAAAAAAAAAAAAAAAAAAIAAAAAACgAAAAAgAAAAAAAAAAAAAAKAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAACAAAAAAAAAAoAAAAAAAIAAAAAAAAAAAAAAAAACgAAAAAAAAAAAAAAAAAAAAAAAAAgKAAAAAAAAAAAAAAAAAACKKAAgAAAAAAAAAAAAAAAAAAgAAACgAAgAoAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAIAAAAAAAACgAAAAgAAAAAAAAAAAAAAKAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAACAAAAAAAAAAoAAAAAAAAAICgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAKACAACggAAAAAAAAAAAAAAIAAACKAKAAAgoAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAIAAAAAAAAACgAAAAAgAAAAAAAAAAAAAKAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAACAAAAAAAAAoAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAACggAoAAAAIAAAAAAAAAAACAAAAgCgCgAIAKACgAAAAAgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAIAAAAAAAAAACgAAAAAgAAAAAAAAAAAAAKAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAACAAAAAAAAoAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAKCAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAoAAAAAAIAAAAAAAAACAAAAAAAAKCAACgAAoAAAAAAIAAAAAAAAAAAAAAAAAAAAAAAAAAAAACAAAAAAAAAAoAAAAAAAAIAAAAAAAAAAAACgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAgAAAAKAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAACgAAAAAAAAgAAAAAAIAAAAAAAAAAAACgAAoAAAAAAAAIAACgAAgAAAAAAAKAACAAAAAAAAAAAAgAAAAAAAAKAAAAAAAAACAAAAAAAAAAAAAoAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAIAAACgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAoAAAAAAAAIAAAAACAAAAAAAAAAAAoAAAAKAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAACAAAAAAAgAAAAAAKAAAAAAAAAAACAAAAAAAAAAAoAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAIAAAACgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAoAAAAAAAAIAAAAACAAAAAoAAAAAAAAAAKAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAACAAAAAAAgAAAAKAAAAAAAAAAAACAAAAAAAAAAAoAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAIAAAAACgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAgAAKAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAACgAAAAAAAAgAAAAAIAACgAAAAAAAAAAAAoAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAIAAAAAAAAAAAAAAAAAAAAAAAACAAAAAAAAAoAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAIAAAAAACgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAgAAAKAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAACgAAAAAAAgAAAAAAAAAAAAAKAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAACAAAAAAAAAAAAAAAAAAAAAAAAAgAAAKAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAACAAAAAAAAAAoAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAIAAAAACgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAoAAAAAAIAAAAAAAAAAAACgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAIAAAAAAAAAAACgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAgAAAAAAAAKAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAACgAAAgAAAAAAAAAAKAAAAAAAAAACAAAAAAAAoAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAIAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAACAAAAAAAoAAAAAAAIAAAAAAAAAAACgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAgAAAAAAAAAAKACAAAAoAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAKAAAAAACAAAAAAAAAoAAAAAAAAAAAIAAAAACgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAIAAAAAAAACgAAAAAAgAAAAAAAAAAAAKAAAAAAAAAAAAAAAAAAAAAAAAAAAACAAAAAAAAAAAAAAAAAAAAoAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAKAAAAAAAAACAAAAAAoAAAAAAAAAAAAAIAACgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAIAAAAAAAACgAAAAAAAgAAAAAAAAKAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAACAAAAAAAAAAAAAAAAAAAAAAAAAAAAAoAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAKAAAAAAAAAAAACAAAoAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAIAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAACAAoAAAAAAAAAAAAAAAAAAAAAIAAAAAAAACgAAAAAAAAAgAAKAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAACAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAoAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAKAAAAAAAAAAAAACAAAAoAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAIAAAAAAAAAAAAAAAAAAAAAAAAAAAAAACAAAAAAoAAAAAAAAAAAAAAAAAAAIAAAAAAACgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAKAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAACgAAAAAAAAAAAAAAAgAAAAKAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAACAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAgAAAAAAKAAAAAAAAAAAAAAAAAAACAAAAAAAAoAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAIAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAACgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAoAAAAAAAAAAAAAAAIAAAAAAACgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAIAAAAAAAACgAAAAAAAAAAAAAAAAAAAAgAAAAAKAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAACAAAAAAAAAAAAAKCAAAAAAAAAAoIACgAgAAAAoAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAKAAAAAAAAAAAAAADIKAAAAAAACgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAIAAAAAAAAACgAAAAAAAAAAAAAAAAAAAAAgAAAKAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAACAAAAAAAAAAAAAKAACAoIAAAAAAACgAAAAAgAAoAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAKAAAAAAAAAAAAAACAAKIAACgIAAKAAAAAAAAAAAAAAAACAoAAAAAAAAAAAAAAKCAAAAAAAAAAAAgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAIAAAAAAAAACgAAAAAAAAAAAAAAAAAAAAAAAgKAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAACAAAAAAAAAAAAAAAKACAoIAAAAAAAAACgAAAAAgAoAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAKAAACAAAAAoAAAAIAAogAAAAKgAoAAAAAAAAAAAAAIAAAACgAAAAAAAAAAAAAoIAAAAAAAAAAACAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAgAAAAAAAAKAAAAAAAAAAAAAAAAAAAAAAACAAoAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAIAAAAAAAAAAAAAAAAoAICggAAAAAAAAAAKAAAACACgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAoAAIAAogAAAAKAgAoAAAAAAAAAAAAIAAAACgAAAAAAAAAAAAAoIAAAAAAAAAACAAAoAIAAAAAAAAAAAAAAAAAAAAAAAAAAAAACAAAAAAAAAoAAAAAAAAAAAAAAAAAAAAAAIAAACgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAgAAAAAAAAAAAACgAAAAgAAAAAAAAAAAAAAAKAACACgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAoAAIAoAgAAAKAgAoAAAAAAAAAAAAIAAAACgAAAAAAAAAAAAAAAAAAAAAAAgAAAAAAAAAAAIAACgAAAAAAAAAAAAAAAAAAAAAAgAAAAAAAKAAAAAAAAAAAAAAAAAAAAACAAAAAAoAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAIAAAAAAAAAAAAoAAAAIAAAAAAAAAAAAKAAACAAAAoAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAKAAACAKAAAACACgAAAAAAAAAAAAAgAAAKAAAAAAAAAAAAAAAAAAAAAAAACAAAAAAAAAAAgAAAKAAAAAAAAAAAAAAAAAAAAAAACAAAAAAAoAAAAAAAAAAAAAAAAAAAAAIAAAAAACgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAgAAAAAAAAAAAACgCAAAoACAAAAAAAAAAACgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAoAAAAAIoAAAIAKAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAACAAAAAAAAAAAgAAAAKAAAAAAAAAAAAAAAAAAAAAACAAAAAAAoAAAAAAAAAAAAAAAAAAAAIAAAAAAAAACgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAgAAAAAAAAAAACgAACAAAoACAAAAAAAAAAACgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAoAKCAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAgAAAAAAAAAIAAAAACgAAAAAAAAAAAAAAAAAAAAAAAgAAAAAKAAAAAAAAAAAAAAAAAAAACAAAAAAAAAAAAAAAoAAAAAAAAAAAAAAAAAAAAAAAAAAIAAAAAAAAAAAAAoICgAACAAAAoACAAAAAAAAACgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAoAAIAAAAAAAAAACgAoAAIAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAACAAAAAAAAAgAAAAAKAAAAAAAAAAAAAAAAAAAAAAACAAAAAAAoAAAAAAAAAAAAAAAAAAIAAAAAAAAAAAAAAAAACgAAAAAAAAAAAAAAAAAAAAAAgAAAAAAAAAAAAACgAAAAACAAAAAoAACAAAAAAACgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAoAAAAAIAAAAAAAACgAAoAAAAIAAAAAAAAAAAAAACAAAAoAAAAAAAAAAAAAAAAAAAAAAAAAAAAIAAAAAAAAAACAAAAAoAAAAAAAAAAAAAAAAAAAAAAIAAAAAAAAAAAAACgAAAAAAAgAAAAAAAAAAAAAAAAAAAAAAKAAAAAAAAAAAAAAAAAAAAACAAAAAAAAAKCAAoAAAAAAAAAAgAAAAKAAAgAAAAAoAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAKAAAAAAACAAAAAAAAoAAKAAAAAAACAAAAAAAAAAgAAAAAAKAAAAAAAAAAAAAAAAAAAAAAAAAACAAAAAAAAAAAAAgAAKAAAAAAAAAAAAAAAAAAAAACAAAAAAAAAAAAAAAAAAoAAAIAAAAAAAAAAAAAAAAAAAAAAACgAAAAAAAAAAAAAAAAAAAAAAgAAAAAACgACAAAAAoAAAAAAAIAAAACgAAIAAAKAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAACgAAAAAAAAAgAAAAAAAKAACgAAAAAAAAgAAAAAAIAAAAAAAACgAAAAAAAAAAAAAAAAAAAAAAAgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAIAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAACgAAAAAAAAAAAAAAAAAAAAAAgAAAACgAACAAAAAAAoAAAAAAAIAACgAAAAIAAKAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAACgAAAAAAAAAAAgAAAAAAKAAACgAAAAAAAgAAAAAAAIAAAoAAIAAKAAAAAAAAAAAAAAACAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAoAIAAAACAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAoAAAAAAAAAAAAAAAAAAAAAAAIAAAAAoAAgAAAAAAAKAAAAAAAAAAAAAAAgAoAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAKAAAAAAAAAAAAACAAAAAAoAAAAKAAAAAAACAAAAAAAgACgCAAAqAACgAAAAAAAAAAAAgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAKAACAAAAAgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAKAAAAAAAAAAAAAAAAAAAAAAACAAAAAKAAAAAAIAAACgAAAAAAAAAAAAAAIAKAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAACgAAAAAAAAAAAAAAAAAgAAAKAAAAACgAAAAAAgAAAAAAAIAoAgAAAKgAoAAAAAAAAAAIAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAACgAAAAgAAAIAAAAAACAKAAKAgKAACAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAACgAAAAAAAAAAAAAAAAAAgAAACgAAAAAAAAAAAAAAAAAAAAAAAAgAAoAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAKAAAAAAAAAAAAAAAAAAAAAAAAAAAAACgAAAAgAAAAAAAAAAIoAgAAAAKgAoAAAAAAAAIAAAAAAACAoAAAAAAAAAAAAAAAAAAAAAAAKAAAAAACAAAAgAAAAAIAoAAAAAoACAAAAAAAAAAAAAAoAAIAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAKAAAAAAAAAAAAAAAAAACAAAKAAAAAAAAAAAAAAAAAAAAAAACAACgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAoAAAAAAAAAAAAAAAAAAAAAAAAAAAAAKAAACAAAAAAAAAAAAigCAAAAAqACgAAAAAAAAAgAAAAAIAACgAAAAAAAAAAAAAAAAAAAAAoAAAAAAAIAAAACAAAAAigAAAAAAACoAAAAAAAAAACgAAAAAAgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAoAAAAAAAAAAAAAAAAAAIAAoAAAAAAAAAAAAAIAACgAgAAAAAAAoAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAKAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAACgAAgAAAAAAAAAAAIoAgAAAAKAgAoAAAAAAAAAAIAAACAAAoAAAAAKAAAACAAAAAAAAAAAoAAAAAAAIAAAACAAAAAigAAAAAAAgoAAAAAAAACgACAAoAAACAAAAAAAAAAAAAAAAAAAAAAAAAAAAAACgAAAAAAAAAAAAAAAAAAAgCgAAAAAAAAAAAAgAAAAAAAAAAAAAAAoAAAIAAAAAACgAAAAAAAAAAAAAAAAAAAoAAAAAAAAAAAIAACgAAAAAAAAAAAAAAAAAAoAAIAAAAAAAAAAAAogAIAAACgIAKAAAAAAAAAAACAAAAgAKAAAACgAAAAAAgAAAAAAAAKAAAAAAAACAAAAAAgAACiAAAAAAAAIKAAAAAAAAAoAgAAAKAAAgAAAAAAAAAAAAAAAAAAAAAAAAAKCAAAACgAAAAAAAAAAAAAAAAAAAigAAAAAAAAAAgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAoAAAAAAAAAAAAAAAAAKAAAAAAAAAAAAACAAoAAAAAAAAAAAAAAAAAAKAAAAAAAAAAACAAAKIAACAAAoAKgAAAAAAAAAAAAgAAAAAAAAAKAAAAAAAACAAAAAAAAoAAAAAAAAIAAAAACAAAKIAAACAoAACCgAAAAAAAKAAAIAACgAAIAAAAAAAAAAAAAAAAAAAAAAAACgAAgAAAoAAAAAAAAAAAAAAAAAAAIAoAAAAAAIAAAAAAAAAAAAAAAAAAAAAAAACggAAAKCACgAAAAAAAAAAAAAAAAoAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAKAAAAAAAAAAAAACAKAIAAAAAACoAAAAAAAAAAAAAIAAAAAAAACgAAAAAAAAAgAAAAAKAAAAAAAAACAAAAAAgACgCAAAAgKAAACoAAAAAAACgAAAAAAAAAgAAAAAAAAAAKCAoAIAAAAAACgAAAAAAgAAoAAAAAAAAAAAAAAAAAAAIAoAAAAAAIAAAAAAAAAAAAAAAAAAAAAAACgAAAAAgAoAAAAAAAAAAAAAAAAAKAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAACgAAAAAAAAAAAAgCgACAAAAAoCAAAAAAAAAAAAAACAAAAAAAoAAAAAAAAAAAAAAAAAAAAAAAAAIAAAAAACAAKAAIAAAAAAACoAAAAKACAKAAAAAAAAACAAAAAAAAAAoAAIAAAAAAAAAACgAAAAAgAoAAAAAAAAAAAAAAAAAAAIAoAAAAAAIAAAAAAAAAAAAAAAAAAAAAAACgAAAAAACoAAAAAAAAAAAAAAAAAKAAAAACAAAAAoAAAAAAAAAAAAAAAAAAAAAAAAAAKAAAAAAAAAAAACAKAAAAAACAAAAAAAAAAAAAAAAACAAAAoAAAAAAAAAAAAAAAAAAAAAAAAAAIAAAAAAACAKAAIAAAAAACoAAAAAKACAKAAAAAAAACAAAAAAAAAAAoAAIAAAAAAAAACgAAAAAAAgoAAAAAAAAAAAAAAAAAAAIAoAAAAAAAIAAAAAAAAAAAAAAAAAAAAAAACgAAAACgIAAAAAAAAAAAAAAAAAAKAAACAAAAAAoAAAAAAAAAAAAAAAAAAAAAAAAAAKAAAAAAAAAAAACAAAAAKCAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAACAAAAAAAAAAgCgACAAAAAoCAAAAAACggACgAAAAAAAgAAAAAAAKAAAAACAAAAAAAAAAAAoAAAAIAKAAAAAAAAAAAAAAAAAAACAKAAAAAAACAAAAAAAAAAAAAAAAAAAACgAAAKAAAAAACAAAAAAAAAAAAAAAAAAAAAAAAAACgAAAAAAAAAAAAAAAAAAAAAAAAAAAoAAAAAAAAAAAAIAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAACAAAAAAAAAAAAigAACAAAoCAAAAAAAAAAAoAAAAAIAAAAAACgAAAAAAAAAgAAAAAAAAAAAAKACACgAAAAAAAAAAAAAAAAAAAAgCgAACAAoAACAAAAAAAAAAAAAAAAACgAAAAAAAAAKCAAAAAAAAAAAAAAAAAAAAAAAAAAACgAAAAAAAAAAAAAAAAAAAAAoAAAICgAAAAAAAAAAAAAAgAAAAAAAAAAAICgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAgAAAAAAAAAAAAIoAAAAAIAAAAAAAAAAACgAAAgAAAAAAAKAIACgAAAAIAAAAAAAAAKAAAAAAAAAAAAAAAAAAAAAAAAAAAAACAKAAAIACgAAIAAAKACAAAAAAAAAAoAAAAAAAAAAAAACggAAAAAAAAAAAAAAAAAAAAAAAAoAAAAAAAAAAAAAAAAAAAAAKAAAAAAAAAAAAAAAAAAACAAAAAAAAAAAAgAAKAAAAAAAAAAAAAAAAAAAAAAACAAAAoAAAAAAAAAAAAAIAAAAAAAAAAACAKAACAAAAAAAAAAAAAAAACgAAgAAAAACgCAAAoAAACAAAAAAAAACgAAAAAAAAAAAAAAAAAAAAAAAAAAAAgACgAAAAAAAAgAAoAAAIAAAAAAACgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAoAAAAAAAAAAAAAAAAAAAAAAAKAAAAAAAAAAAAAAAAAAACAAAAAAAAAAAAgAAAKAAAAAAAAAAAAAAAAAAAACAAAAAAAoAAAAAAAAAAAAIAAAAAAAAAAACAAAAAAAAAAAAAAAAAAAAoAAAAIAAAAAoAgAAKAAAgAAAAAAAAAAAoAAAAAAAAAAAAAAAAAAAAAAAAAAAIAAoAAAAAAAAIAAKAAAACAAAAAAAoAAAAAAAAAAAAAAAAAAKAAAAAAACAAAAAAAAAAAoAAAAAAAAAAAAAAAAAAAAAAAKAAAAAAAAAAAAAAAAAAAACAAAAAAAAAAAAgAAAKAAAAAAAAAAAAACAAAAAAAAAAAAAAAoAAAAAAAAAAAAIAAAAAAAAAACAAAAAAAAAAAAAAAAAAoAAAAAAIAAAAAoAgAKAAAAAAgAAAAAAAAAoAAAAAAAAAAAAAAAAAAAAAAAAAAAIAoAAAAAAAAIAAAKAAAAACAAAAAAoAAAAAAAAAAAAAAKAAAAAAAAAAAAACAAAAAAAoAAAAAAAAAAAAAAAAAAAAAAAAKAAAAAAAAAAAAAAAAAAAAACAAAAAgKAAAAACAAAAoAAAAAAAAAAAIAAAAAAAAAAAAAAAACgAAAAAAAAAAAAgAAAAAAAAAAIAAAAAAAAAAACgAAAAAAAAAAAAgAAAACgAAAAAAAAAAAgAAAAAAAAoAAAAAIAAAoAAAAIAAKAAAAAAAACAKAAAAAAAAACAAACgAAAAAAgAAAAKAAAAAAAAAAAACgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAoAAAAAAAAAAAAAAAAAAAAAAAAAAAAIAAACAAAoAAAAAIAACgAAAAAAAAAAgAAAAAAAAAAAAAAAAAAKAAAAAAAAAACAAAAAAAAAAAAAgAAAAAAAAKAAAAAAAAAAAAAAACAAAAAKAAAAAAAAAAAACAAAAAAACgAAAgAACgAAAAgAAAAoAAAAAAAIAoICgAAAAAAgAAAAoAAAAAAIAAAACgAAAAAAAAAAAoAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAKAAAAAAAAAAAAAAAAAAAAAAAAAAAAAACAAAAgAAKAAAAAACAAoAAAAAAAAAIAAAAAAAAAAAAAAAAAAACgAAAAAAAgAAAAAAAAAAAAAAAAAAAIACgAAAAAAAAAAAAAAAAAAAgAAAACgAAAAAAAAAAAAgKCAAAAAAAAAAAoAAAAAAAAAIAKAoAAIAAIAAoIAAAAAAAAAAAAKAAAAACAAAAAoAAAAAAAAAAKAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAACgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAgAAAIAACgAAAAAAAAgKCAoAAAAAIAAAAAAAAAAAAAAAAAAAAACgAAAAAgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAIAAAAoAAAAAAAAAAAAAAIAAAAAAAAACgAAAAAAAAAACgAAAAIAIAAAAAACgAAAAAAAAAAAAAAgAAAAAKAAAAAAAAACgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAoAAAAAAAAAAAAAAAAAAAAAAAAAAAAAIAAACAAAoAAAAAAAAIAAAAAAAAAAAAAAAAAAAAAAAAAAAAAACgAAAAgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAIAAAAoAAACAoAAAAAAAAAgAAAAAAAKAAAAAAAAAAAKAAAAAgAiggAAAAAoAAAAAAAAAAAAAAAAIAAAACgAAAAAAAAoAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAKAAAAAAAAAAAAAAAAAAAAAAAAAAAAACAAAAAgAKAAAAAAAACAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAoAAAIAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAACAAAKAgAAKCAoAAAAAAgKCAAAAAAAAAoAAAAAAAAoAAAAAACAogCAAAACgAAAAAAAAAAAAAAAAAAgAAAKAAAAAAAACgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAoAAAAAAAAAAAAAAAAAAAAAAAAAAAIAAAACAAoAAAAAAAAIAAAAAAAAAAAAAAAAAAAAAAAAAAAAAACgAAgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAIAAAAoCAAAAoAAAAAgKAAAAAAACAAAAoAAAAAAoAAAAAAAACAoiAAAAACgAAAAAAAAAAAAAAAAAAAKCAAAAAAAAACgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAoAAAAAAAICgAAAAAAAAAAAAAAAAAgAAAAAAAAAAAAAAAIAAAAAAAAAAAAAAAAAAAAAAAAAAAAAACgAAgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAIAAAAAAqAAAAoAAAAAgAKAAAAAACAAAAoAAAAAqAoAAAAAAAAIIoIAAAAKAAAAAAAAAAAAAACgAgAAACgAAgAAAAAoAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAKAAAAACAAoAAAAAAAAIAACgAAAAgAAAAAAAAAAAAAAAAAIAAAAAAAAAAAAAAAAAAAAAAAAAAAACgAAgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAIAAAAAAAAoCAoiCqAAIAAACgAAAAAAAgAAAAKCAoqAAAAAAAAAoAIIAAAAACgAAAAAAAAAAAAoAAAAAAIAoAAIAAAKAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAACgAAAAAAAAgAAAAAAAAAAAAAAAAAAAAAAAAAAIAAAAAACgAgAAAAAAAAAAAAAAKAAAAAACAAAAAAAAAAAAAAAAAoAIAAAAAAAAAAAAAAAAAAAAAAAAAAACAAAAAAAAAKCIACgAAAAACgAAAAAAAAgAAAAAAAoAAAAAAAAAAAAIAAAACgAAAAAAAAAAAoAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAKAAAAAAAACAAAAAAAAAAAAAAAAAAAAAAAAAAAAgAAAAKAAAACAAAAAAAAoAAAAAAAAAAAIAAAAAAAAAAAAAAACgAAgAAAAAAAAAAAAAAAAAAAAAAAAAAIAAAAAAAAoIAAAAAAAAACgAAAAAAAAAgAAAAAAAoAAAAAAAAAAAAIAAAACgAAAAAAAAAAoAAAAKAACAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAgNAAAAAAAAAgAAAAAAAAAAAAAAAAAAAKAACAAAAAAAAAAAAAAAAgAAAAAKAAAAAAAAAAAACAAAAAAAAAAAAAAAAoAAIAAAAAAAAAAAAAAAAAAAAAAAAAACAAAAAAAAAKCAAAAAAAAAoICgCAAAoAACAAAAAAACgAAAAAAAAAAAAAgAAAKAAAAAAAAAACgAAAAoAAAAAIAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAACAA0AAAAAAAAACAAAAAAAAAAAAAAAAAAoAAAAIAAAAAAAAAAAAAAACAAAoAAAAAAAAAAAAAAAIAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAACAAAAAAAAAKAACAoIAAAAAAACgACAAoAAACAAAAACgAAAAAAAAAAAAAAgAAKAAAAAAAAAAACgAAAAoAAAAAAAAAAAAIAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAACAA0AAAAAAAAACAAAAAAAAAAAAAAAAAAoAAAAAIAAAAAAACAAAAAoAAAAAAAAAAAAAAAAAAAAAIAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAACAAAAAAAAKAAAAACAAAAAAAoAAgAAKAAAgAAAAoAAAAAAAAAAAAAAIAACgAAAAAAAAAAAAAoAAAAAKAAAAAAAAAACAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAgNAAAAAAAAAAAgAAAAAAAAAAAAAAAKAAAAAACAAAAAAAAgAAAAKAAAAAAAAAAAAAAAAAAAAAACAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAgAAAAAACgAAAAAAAgAAAAAKAAAIAACgAAIAAAKAAAAAAAAAAAAAACAAAoAAAAAAAAAAAAAAKAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAACgAAAAAAAAAAgAAAAAAAAAAAAAAAAKAAAACAAAAAAAAgAAAAAKAAAAAAAAAAAAAAAAAAAAAAACAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAKIAAAAAAAgAAAAAKAAAAIACgAAIAAAAKAAAAAAAAAAAoIAIoIKAAAAAACgAgAAAAAAAKAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAACgAAAAAAAAAgAAAAAAAAAAAAAAAAAKAACAAAAAAAAAAAgAAAAKAAAAAAAAAAAAAAAAAAAAAAAACAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAKAIAAAAAgAAAAAAAKAAAAAAAAACAAACgAAAAAAAAKCAoAIAAAAAAAAKAAACAAAAAAAAAoAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAKAAAAAAACAAAAAAAAoIAAAAAAAAAAAAAAAAAAAAAAAAACAAAAoAAAAAAAAAAAAAAAAAAAAAAAAAIAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAoAAAgAAACACgAAAgACgAAAAAAAAAgAAAoAAAAAACgAgKAAAACAAAAACgAAAAAgAAAAAAAKAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAACgAgAAAAAAAAKAAAAAAAAAAAACAAAAAAAAoAAIAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAACAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAKAAAACAAAAAAACAAKAAAAAAAACAAACgAAAAAAAKAAAAAACAAAAACgAAAAAAgAAAAAKAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAACgAAAAAAAAAAAgAAAAAAAAAKAACAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAACgAAAgAAAAAAAAAAAgCgAAAAAAAgAAAoAAAAAAAAACgAAAAAgAAAAAoAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAKAAAAAAAAAAACAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAACgAAgAAAAAAAAAAAAAAigAAAgAAAAAAoAAAAAAAAAACgAAAAgAAAAAoAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAIACgAAAAAAAAAAAAAAAAAAAAAoAAAAAAAAAAIAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAACgAgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAIAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAoAAAIAAAAAAAAAAAAAAAAAAAAIAACgAAAAAAAAAAAKCAAAAAAAAACgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAoAIAAAAAAAAAACgAgAAAAAAAIAACgAAAAAAAAAAAAAAAAAAAAAAoAAAAAAAAAIAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAoIAAKAAAAAACAAAAAAAAAAAAAAAoAAAIAAAAAAAAAAAAAAAAAAACAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAKAACAAAAAAAAAAAAAoAAAIAAAAAAAAAAAAAAAAAAAAAAAAAAAKAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAACgAAAAAgAAAAAAAKAACAAAAAAAAgAKAAAAAAAAAAAAAAAAAAAAAAAACgAAAAAAAAAgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAACgCoAAAAAAAAAIAAAAAAAAAAACgAAAAAAgAAAAAAAAAAAAAAAAAAIAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAoAAIAAAAAAAAAAACgAAAAgAAAAAAAAAAAAAAAAAAAAAAAAAAoAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAKAAAAAAAACAAAAAoAAIAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAACgAAAAAAAAAAAAAAAAAAgAAAAKACAAAAAAAAAAAAAKAAAKgAAAAAAAAAgAAAAAAAAAAKAAAAAAAAACAAAAAAAAAAAAAAAAgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAKoAIAAAIAAAAAAAACqAAAAIgAAAAAAAAAAAAAAAAAAAAAAAAAAoAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAKAAAAAAAAAAAAAAAACAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAoAAAAAAAAAAAAAAAAAAAIACgAAgAAAAAAAAAAKACKAAAKgAAAAAAAAAAgAAAAAAAAAAKAAAAAACAAAAAAAAAAAAAAAAAAAgAAAAAAAAKAAACAAAAAAAAAAAAAAAoAAAAAAAAIAAAAACgAAKACAAAACAAAAAAAAAAAAAAAAAAAAAAAAoAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAKAAAAAAAAAAAAAACAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAoAAAAAAAAAAAAAAAAAAAAAAAAIAAAAAAAAACgAigAAAgoAAAAAAAAAIAAAAAAAAAACgAAAAgAAAAAAAAAAAAAAAAAAAAIAAAAAACgAAAAAAAgAAAAAAAKAAAAAAAAAAAAAAACAAoAAAAAAAAAAAAIAAAACgAAgAAAAAAAAAAAAAAAKAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAACgAAAAAAAAAAAAAAgAAAAAAAAAAAAAAAAAAAAAAAKAACAAAAAAAAAAAAAAoAAAAAAAAAAAAAAAAAAAAAAAIAAACAAoAAAKACKAAACCgAAAAAAAAgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAIAAAAACgAAAAAAAAAAAgAKAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAACAAAoAAAAIAAAAAAAAAAAAAAACgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAoAAAAAAAAAAAAAIAAAAAAAAAAAAAAAAAAAAAAACgAAAgAAAAAAAAAAAAKAAAAAAAAAAAAAAAAAAAAAAACAAAAgCggoAAKAACAKCCgAAAAAAAAgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAIAACgAAAAAgAAAAKAAAAAAAAAAAAAAAAAAAAAAAAAAACggAAAAAAAAAAAAAAAAAAAAIAACgAAAAgAAAAAAAAAAAAAAAKAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAACgAAAAAAAAAAAAAgAAAAAAAAAAAAAAAAAAAAAAAKAAACAAAAAAAAAAAAAoAAAAAAAAAAAAAAAAAAAAAAAAIAACKAAKgAAoAAAICgAAAAAAAgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAIAAAAAACggAAAAAAAKAAAAAAAAAAAAAAAAAAAAAAAAACgAAgAAAAAAAAAAAAAAAAAAIAAAAAAAAAAAAAAAAAAAAAAAACgAAAAAAAAAAAAAAAAAgAAAAKAAAAAAAAAAACgAAAAAAAAAAAAAgAAAAAAAAAKAAACAAAAAAAAAoAAIAAAAAAAAAAAAACgAAAAAAAAAAAAAAAAAAAAAAAAgAACiAAqAAACgAAAAAAAAAAgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAIAAAAAAAAAAAAAACgAAAAAoIAAAAAAAAAAAAAAAAAACgAAAgAAAAAAAAAAAAAAAAIAAAAAAAAAAAAAAAAAAAAACgAAAAAAAAAAAAAAAAAAAAAgAAAAAKAAAAAAAAAAAACgAAAAAAAAAAAAAAgAAAAAAKAAAACAAAAAAAAAAAAAAAAAAAAAAAAAoAAAAAAAAAAAAAAAAAAAAAAAAAIAAoAAIAAKAAAAAAAAAACAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAgAAAAAAAAAAAAAAAKAAAAAAAAAAAAAAAAAAAAAAAAACgAAgAAAAAAAAAAAAAAAIAAAAAAAAAAAAAAAAAAAACgAAAAAAAAAAAAAAAAAAAAAAAAAAgAAKAAAAAAAAAAAAACgAAAAAAAAAAAAAAAAgAAKAAAAAACAAAAAAAAAAAAAAAAAAAAAAAAoAAAAAAAAAAAAAAAAAAAAAAAAAAAIAoAIAAKAAAAAAAAAACAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAgAAAAAAAAAAAAAKAAAAAAAAAAAAAAAAAAAAAAAAAACggAAAAAAAAAAAAAAIAAAAAAAAAAAAAAAAAAACgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAgAKAAAAAAAAAAAAACgAAAAAAAAAAAAAAAAAAAAAAAAAAgAAAAAAAAAAAAAAAAAAAAAAAKAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAoIAAAAAAAAAAAAIAAAAAAAAAAAAAAAAAAAAAACAoAAAAAAAAAAAAAAAAIAAAAAAAAAACgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAgAAAAAAAAAAAAAAAAAAAKAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAACgAAAAAAAAAAAAAAAAAAAAAAAAAAgAAAAAAAAAAAAAAAAAAAAAAKAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAACAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAgAAAAAAAAKAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAACAAAAAAAAAAAAAAAAAAAAoAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAKAAAAAAAAAAAAAAAAAAAAAAAAAACAAAAAAAAAAAoAAAAAIAAACgAAAAAAAAAAAAAAAAAAAAAAAAAAoAAAAIAAAAAAAAAAAACAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAgAAAAAAAAKAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAACAAAAAAAAAAAAAAAAAAAAoAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAKAAAAAAAAAAAAAAAAAAAAAAAAACAAAAAAAAAAoAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAKAAAAAACAAAAAAAAAAgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAIAAAAAAACgAAAAAAAgAKAAAAAAAAAAAAAAAAAAAAAAAAAAAACAAAAAAAAAAAAAAAAAoAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAKAAAAAAAAAAAAAAAAAAAAAAAACAAAAAAAAAoAAAAAAAAAAAAAKCAAAAAAAAAAAAAAAAAAAAAAAAoAAAAAAAIAAAAAAACAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAgAAAAAAAAKAAACAAAAAoAAAAAAAAAAAAAAAAAAAAAAAAAAAAAIAAAAAAAAAAAAACgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAoAAAAAAAAAAAAAAAIAACgAAAAgAAAAAAAAKAAAAAAAAAAAAACggAAAAAAAAAAAAAAAAAICgAAAAAoAAAAAIAAAAAAACAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAgAAAAAAAAAAAAAAAAKAAAAAAAAAAAAAAAAAAAAAAAAAAAAoAAAAiAAAAAAAACgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAoAAAAAAAAAAAAAAIAAAAAAAAAAAAAAAAACgAAAAAAAAAAAAAoIAAAAAAAAAAAAAACAAAAAAoAAAAKAAAACAAAAAAAgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAIAAAAAAAAAAAAACgAAAAAAAAAAAAAAAAAAAAAAAAAAAAKAAAAACCAAAAAoAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAKAAAAAAAAAAAAACAAAAAAAAAAAAAAAAAoAAAAAAAAAAAAAAAAAAAAAAAAAAAAAIAAAAAAACgAAAAAAAAAAAAAAAgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAIAAAAAAAAACgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAKAAAAAACAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAACgAAAAAAAAAAAAAAgAAAAAAAAAAAAAAAAKAAAAAAAAAAAAAAAAAAAAAAAAAAAAACAAAAAAAAoAAAAAAAAAAAAAAAIAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAACAAAAAAAoAAAAAAAAAAAAAAAAAAAAAAAAAAAAKAAAAAAoAAgACAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAACgAAAAAAAAAAAAAAgAAAAAAAAAAAAAAAAAKAAAAAAAAAAAAAAAAAAAAAAAAAAAACAAAAAAAAAoAAAAAAAAAAAAAAAIAAACgAAgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAICgAAAAAAAAAAAAAAAAgAAAAAAKAAAAAAAAAAAAAAAAAAAAACAAoAAAAKAAAAAAAAACAAAAAAAAAAAAAAAAAAAAAAAoAIAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAACgAAAAAAAAAAAAAAgAAAAAAAAAAAAAAAAAAKAAAAAAAAAAAAAAAAAAAAAAAAAAACAAAAAAAAAoAAAAAAAAAAIAACgAAAAAAAAgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAIAAAAAAAACgAAAAAAAgAAAAAAKAAAAAAAAAACAoAAAAAAIAAAAAACgAAoAAAAAAAAAAIAAAAAAAAAAAAAAAAAAACgAAAAAgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAKAAAAAAAAAAAAAAACAAAAAAAAAAAAAAAAAAAAoAAAAAAAAAAICgAAAAAAAAAAAAAAAgAAAAAAAAKAAAAAAACAAAAAAAAoAAAAAIAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAACAAAAAAAAAAoAAAAAAIAAAAACgAAAAAAAAAAAgAAAAAAAAAAAAAAAKAACgAAAAAAAAAAgAAAAAAAAAAAAAAAAAAKAAAAACAAAAAAAAAAAAAAAAAAAAAAAAAAoIAAAAAAAAACgAAAAAAAAAAAAAAAAAgAAAICgAAAAAAAAAAAAAAoAAAAAAAAIACgAAAAAAAAAAAAAAAAAgAAAAAAKAAAAACAAAAAAAAAAAoAAAAIAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAACAAAAAAAAAAAAoAAAIAAAAAAACgAAAAAAAAAAAAgAAAAAAAAAAAAAAKAAACgAAAAAAAAAgAAAAAAAAAAAAAAAAAAKAAAAACAAAAAAAAAAAAAAAAAAAAAAAAoAAAAAIAAAAAACgAAAAAAAAAAAAAAAAAgAAAICgAAAAAAAAAAAAAAoAAAAAAAIAACggAAAKAAAAAAAAAAAAAACAAAAAAAoAAAIAAAAAAAAAACgAAAAgAAAAAAAAAAAAAAAAAAAAAAIAAAAAAAAAAAAACKCAACgAAAAAAAAAAAAAoAAAAAAAAAAAAAIAAAAAAAAAAAAAAACgAAAAAoAAAAAIAAAAAAAAAAAAAAAAAAAAACgAAgAAAAAAAAAAAAAAAAAAAAAAAAKAAAAAAAAAAAAAAAAAAAAAAAAAAAAAACAAAAgKAAAAAAAAAAAAAAACgAAAAAgAAAAAAAAAKAAAAAAAAAAAAAACAAAAAAAAAAAAAAAAAAAAAAoAAAIAAAAAAAAACAAAoAAAAAAAAIAAAAAAAAAAAAACKAAACACgAAAAAAAAAAAAAoAAAAAAAAAAAAIAAAAAACAAAAoAAAAKAAAAAAACgAAAgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAKAAAAAAAAAAAAAAAAAAAAAAAAAAAAAACAAAAAAAAAAoAIAAAAAAAACgAAAAAgAAAKCAAAAAAAoAAAAAAAAAAAAIAAAAAAAAAAAAAAAAAAAAACgAAgAAAAAAAAAIAAAACgAAAAAAAgAAIAoAAAAoACACKAAAAACACgAAAAAAAAAAAAoAAAAAAAAAAAAIAAAAACAAAAAqgAAgAAoAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAKAAAAAAAAAAAAAAAAAAAAAAAAAAAAACAAAAAAAAAAAoAAAIAAAAAACgAAAAAgAAAKACAAAAAAAAoAAAAAAAAAAAIAAAAAAAAACggAAAAAAAAAAKACAAAAAAAAAAgAAAAAKAAAAAACAAigAAAAAAAAAAAACAAoACACgAAgAAKAAAAAACgAAAAAAAAAAAgAAAAAIAAoAAoAAACAAAACgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAoAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAIAAAAAAAAACgAAAAgAAAAAKAAAAAACAAAA/9k="},Bu=function(A){var e=Object.assign({type:"get",cache:!0,headers:{"Content-type":"application/x-www-form-urlencoded"},data:null,async:!0,success:null,error:null,beforeSend:null},A),t=null;for(var i in(t=window.XMLHttpRequest?new XMLHttpRequest:new ActiveXObject("Microsoft.XMLHTTP")).onreadystatechange=function(){if(4===t.readyState||"4"===t.readyState){var A=t.status;200<=A&&A<300||0===A?e.success&&e.success(t.response||t.responseText,t.responseXML):e.error&&e.error(A,t.response||t.responseText,t.responseXML)}},t.open(e.type,e.url,e.async),e.headers)t.setRequestHeader(i,e.headers[i]);e.beforeSend?e.beforeSend(t,function(){t.send(e.data)}):t.send(e.data)},_u={};_u.fullScreen=function(A){if(!A)return!1;if(A.requestFullscreen)A.requestFullscreen();else if(A.mozRequestFullScreen)A.mozRequestFullScreen();else if(A.webkitRequestFullscreen)A.webkitRequestFullscreen();else{if(!A.msRequestFullscreen)return!1;A.msRequestFullscreen()}},_u.exitFullScreen=function(){document.exitFullscreen?document.exitFullscreen():document.mozCancelFullScreen?document.mozCancelFullScreen():document.webkitCancelFullScreen?document.webkitCancelFullScreen():document.msExitFullscreen&&document.msExitFullscreen()},_u.onFullScreenChanged=function(A){var e=function(){A&&A()};document.documentElement.onwebkitfullscreenchange=e,document.onmozfullscreenchange=e,document.onmsfullscreenchange=e},_u.inFullScreen=function(){return"webkitIsFullScreen"in document?Boolean(document.webkitIsFullScreen):"fullscreenElement"in document?Boolean(document.fullscreenElement):"mozFullScreenElement"in document?Boolean(document.mozFullScreenElement):"msFullscreenElement"in document?Boolean(document.msFullscreenElement):Boolean(document.querySelector(".viewer-fill-browser"))},_u.findFullScreenElement=function(){return document.fullscreenElement||document.mozFullScreenElement||document.webkitFullscreenElement||document.msFullscreenElement},_u.isFullScreenAvailable=function(A){return A.requestFullscreen||A.mozRequestFullScreen||A.webkitRequestFullscreen||A.msRequestFullscreen};var Su=_u,Tu=function(){this.materialDefaultParams={color:14540253,opacity:.5,transparent:!0,side:U},this.material=xu.createPhongMaterial(this.materialDefaultParams)};Tu.prototype.destroy=function(){this.material=null},Tu.prototype.resetColor=function(){this.material.color.setHex(this.materialDefaultParams.color)},Tu.prototype.resetOpacity=function(){this.material.opacity=this.materialDefaultParams.opacity},Tu.prototype.reset=function(){this.material.color.setHex(this.materialDefaultParams.color),this.material.opacity=this.materialDefaultParams.opacity,this.material.transparent=this.materialDefaultParams.transparent,this.material.side=this.materialDefaultParams.side,this.material.needsUpdate=!0};var Ku,Fu=function(A,e){ji.call(this),this.type="MeshEx",this.matrixAutoUpdate=!1,this.active=!1,this.guid="",this.key="",this.typeEx="",this.geometry=A||lu.EmptyGeometry,this.material=e||xu.DefaultMaterial,this.visible=!1,this.castShadow=Ah.EnableShadow,this.receiveShadow=Ah.EnableShadow};((Fu.prototype=Object.create(ji.prototype)).constructor=Fu).prototype.init=function(A){A&&A.parent&&A.parent.add(this)},Fu.prototype.destroy=function(){this.parent&&this.parent.remove(this),this.userData&&(this.userData=null),this.geometry=null,this.material=null},Fu.prototype.isVisible=function(){return this.visible&&this.active},Fu.prototype.spawn=function(A){void 0!==A.guid&&(this.guid=A.guid),void 0!==A.key&&(this.key=A.key),void 0!==A.name&&(this.name=A.name),void 0!==A.typeEx&&(this.typeEx=A.typeEx),A.geometry&&(this.geometry=A.geometry),A.material&&(this.material=A.material),A.matrix?this.matrix.copy(A.matrix):this.matrix.identity(),this.updateMatrixWorld(!0),this.modelKey=A.modelKey?A.modelKey:"",A.userData?this.userData=A.userData:this.userData&&(this.userData=null),void 0!==A.visible&&(this.visible=A.visible),this.renderOrder=A.renderOrder||0,this.active=!0,this.visible=!0,this.frustumCulled=!1,this.matChange=!1},Fu.prototype.clear=function(){this.geometry=lu.EmptyGeometry,this.material=xu.DefaultMaterial,this.active=!1,this.visible=!0,this.guid="",this.key="",this.typeEx="",this.frustumCulled=!0,this.material.visible=!1},Fu.prototype.intersectBoxWithDistance=(Ku=new ni,function(A,e){var t=this.geometry,i=this.material,n=this.matrixWorld;return e&&(n=new At).multiplyMatrices(this.matrixWorld,e),void 0===i?-1:(t.boundingBox||t.computeBoundingBox(),Ku.copy(t.boundingBox),Ku.applyMatrix4(n),A.ray.intersectBoxWithDistance(Ku))}),Fu.prototype.intersectBoxWithDistanceByIndices=function(A,e){var t=this.matrixWorld,i=this.computeBoundingBox(e);return i.applyMatrix4(t),A.ray.intersectBoxWithDistance(i)},Fu.prototype.intersectBoxWithClipPlane=function(A,e){var t=this.matrixWorld,i=this.computeBoundingBox(e);return i.applyMatrix4(t),i.intersectsPlane(A)},Fu.prototype.raycastByIndices=function(){var C=new At,I=new ri,x=new oi,g=new Ue,f=new Ue,m=new Ue,v=new Le,y=new Le,b=new Le,E=new Ue,w=new Ue,M=new Ue,B=new At;function _(A,e,t,i,n,o,r,a){g.fromBufferAttribute(i,o),f.fromBufferAttribute(i,r),m.fromBufferAttribute(i,a);var s,l,c,d=function(A,e,t,i,n,o,r){var a=A.material;if(null===(Array.isArray(a)?t.intersectTriangle(i,n,o,!1,r):a.side===IA?t.intersectTriangle(o,n,i,!0,r):t.intersectTriangle(i,n,o,a.side!==gA,r)))return null;M.copy(r),M.applyMatrix4(B);var s=e.ray.origin.distanceTo(M);return s<e.near||e.far<s?null:{distance:s,point:M.clone(),object:A}}(A,e,t,g,f,m,w);if(d){if(n&&n.array&&n.array.length&&(v.fromBufferAttribute(n,o),y.fromBufferAttribute(n,r),b.fromBufferAttribute(n,a),d.uv=(s=v,l=y,c=b,ai.getBarycoord(w,g,f,m,E),s.multiplyScalar(E.x),l.multiplyScalar(E.y),c.multiplyScalar(E.z),s.add(l).add(c),s.clone())),i.instanceMatrix){var h=g.clone().applyMatrix4(i.instanceMatrix),u=f.clone().applyMatrix4(i.instanceMatrix),p=m.clone().applyMatrix4(i.instanceMatrix);d.face=new fi(o,r,a,ai.getNormal(h,u,p,new Ue))}else d.face=new fi(o,r,a,ai.getNormal(g,f,m,new Ue));d.faceIndex=o}return d}return function(A,e,t,i){var n=this.geometry,o=this.material;if(i){n=this.geometry,o=this.material;if((B=new At).multiplyMatrices(this.matrixWorld,i),void 0===o)return;if(null===n.boundingSphere&&n.computeBoundingSphere(),x.copy(n.boundingSphere),x.applyMatrix4(B),!1===A.ray.intersectsSphere(x))return;if(C.getInverse(B),I.copy(A.ray).applyMatrix4(C),null!==n.boundingBox&&!1===I.intersectsBox(n.boundingBox))return;var r=null,a=null,s=null,l=null,c=n.index;(f=n.attributes.position).instanceMatrix=i;var d=n.attributes.uv,h=null,u=null;if(null!==c)for(h=0,u=c.count;h<u;h+=3)a=c.getX(h),s=c.getX(h+1),l=c.getX(h+2),(r=_(this,A,I,f,d,a,s,l))&&(r.faceIndex=Math.floor(h/3),e.push(r));else for(h=0,u=f.count;h<u;h+=3)(r=_(this,A,I,f,d,a=h,s=h+1,l=h+2))&&(r.index=a,e.push(r))}else{if(B=this.matrixWorld,void 0===o)return;if(x.copy(this.computeBoundingSphere(t)),x.applyMatrix4(B),!1===A.ray.intersectsSphere(x))return;C.getInverse(B),I.copy(A.ray).applyMatrix4(C);var p=this.computeBoundingBox(t);if(!1===I.intersectsBox(p))return;r=null,a=null,s=null,l=null;var g,f=n.attributes.position,m=(d=n.attributes.uv,h=null,t.indexStart),v=t.indexStart+t.indexCount,y=n.getIndex().array;for(h=m,g=v;h<g;h+=3)(r=_(this,A,I,f,d,a=y[h],s=y[h+1],l=y[h+2]))&&(r.faceIndex=Math.floor(h/3),e.push(r))}}}(),Fu.prototype.minDistanceToTri=function(A,e,t){function w(A,e){return new Ue(A.x-e.x,A.y-e.y,A.z-e.z)}function g(A,e){return new Ue(A.x+e.x,A.y+e.y,A.z+e.z)}function M(A,e,t){return new Ue(A.x+e.x*t,A.y+e.y*t,A.z+e.z*t)}function B(A,e){return A.x*e.x+A.y*e.y+A.z*e.z}function _(A,e){return new Ue(A.y*e.z-A.z*e.y,A.z*e.x-A.x*e.z,A.x*e.y-A.y*e.x)}function S(A,e,t,i){var n,o=B(e,i),r=B(e,e),a=B(i,i),s=w(t,A),l=B(e,s),c=B(i,s),d=null;(d=(l*a-c*o)/(r*a-o*o))<0||isNaN(d)?d=0:1<d&&(d=1);var h=null,u=null,p=null;return(n=(d*o-c)/a)<=0||isNaN(n)?(u=t,p=(d=l/r)<=0||isNaN(d)?w(t,h=A):d<1?(h=M(A,e,d),_(e,_(s,e))):w(t,h=g(A,e))):n<1?(u=M(t,i,n),d<=0||isNaN(d)?(h=A,p=_(i,_(s,i))):d<1?(h=M(A,e,d),B(p=_(e,i),s)<0&&p.multiplyScalar(-1)):p=_(i,_(s=w(t,h=g(A,e)),i))):(u=g(t,i),p=(d=(o+l)/r)<=0||isNaN(d)?w(u,h=A):d<1?(h=M(A,e,d),_(e,_(s=w(u,A),e))):w(u,h=g(A,e))),{vec:p,closestP:h,closestQ:u}}function i(A,e){var t=null,i=null,n=[],o=[],r=null;n[0]=w(A[1],A[0]),n[1]=w(A[2],A[1]),n[2]=w(A[0],A[2]),o[0]=w(e[1],e[0]),o[1]=w(e[2],e[1]),o[2]=w(e[0],e[2]);for(var a=null,s=null,l=null,c=0,d=A[0].distanceToSquared(e[0])+1,h=0;h<3;h+=1)for(var u=0;u<3;u+=1){var p=S(A[h],n[h],e[u],o[u]);r=p.vec;var g=B(a=w(i=p.closestQ,t=p.closestP),a);if(g<=d){s=t.clone(),l=i.clone(),d=g;var f=B(w(A[(h+2)%3],t),r),m=B(w(e[(u+2)%3],i),r);if(f<=0&&0<=m)return{start:t.clone(),end:i.clone(),minDistance:Math.sqrt(g)};f<0&&(f=0),0<m&&(m=0),0<B(a,r)-f+m&&(c=1)}}var v=_(n[0],n[1]),y=B(v,v);if(1e-15<y){var C=[];a=w(A[0],e[0]),C[0]=B(a,v),a=w(A[0],e[1]),C[1]=B(a,v),a=w(A[0],e[2]),C[2]=B(a,v);var I=-1;if(0<C[0]&&0<C[1]&&0<C[2]?C[2]<C[I=C[0]<C[1]?0:1]&&(I=2):C[0]<0&&C[1]<0&&C[2]<0&&C[I=C[1]<C[0]?0:1]<C[2]&&(I=2),0<=I&&(c=1,0<B(a=w(e[I],A[0]),_(v,n[0]))&&0<B(a=w(e[I],A[1]),_(v,n[1]))&&0<B(a=w(e[I],A[2]),_(v,n[2]))))return t=M(e[I],v,C[I]/y),i=e[I].clone(),t.distanceTo(i)}var x=_(o[0],o[1]),b=B(x,x);if(1e-15<b){var E=[];a=w(e[0],A[0]),E[0]=B(a,x),a=w(e[0],A[1]),E[1]=B(a,x),a=w(e[0],A[2]),E[2]=B(a,x);I=-1;if(0<E[0]&&0<E[1]&&0<E[2]?E[2]<E[I=E[0]<E[1]?0:1]&&(I=2):E[0]<0&&E[1]<0&&E[2]<0&&E[I=E[1]<E[0]?0:1]<E[2]&&(I=2),0<=I&&(c=1,0<B(a=w(A[I],e[0]),_(x,o[0]))&&0<B(a=w(A[I],e[1]),_(x,o[1]))&&0<B(a=w(A[I],e[2]),_(x,o[2]))))return{start:t=A[I].clone(),end:(i=M(A[I],x,E[I]/b)).clone(),minDistance:t.distanceTo(i)}}return c?(i=l,{start:(t=s).clone(),end:l.clone(),minDistance:Math.sqrt(d)}):{start:s.clone(),end:l.clone(),minDistance:0}}var n=new Ue,o=new Ue,r=new Ue;for(var a,s,l,c,d,h={start:null,end:null,minDistance:Number.POSITIVE_INFINITY},u=this.geometry,p=u.attributes.position,f=e?e.indexStart:0,m=u.getIndex().array,v=f,y=e?e.indexStart+e.indexCount:m.length;v<y;v+=3){var C=[];a=C,l=m[v+1],c=m[v+2],d=t,n.fromBufferAttribute(s=p,m[v]),o.fromBufferAttribute(s,l),r.fromBufferAttribute(s,c),d&&(n.applyMatrix4(d),o.applyMatrix4(d),r.applyMatrix4(d)),a.push(n),a.push(o),a.push(r);var I=i(A,C);if(I.minDistance<=0)return h.minDistance=0,h;I.minDistance<h.minDistance&&(h.minDistance=I.minDistance,h.start=I.start.clone(),h.end=I.end.clone())}return h},Fu.prototype.computeBoundingBox=function(A){var e=new ni,t=this.geometry.attributes.position.array,i=null,n=null;return n=A?(i=A.positionStart)+A.positionCount:(i=0,t.length),this.setBoundingBoxFromArray(e,t,i,n),e},Fu.prototype.computeBoundingSphere=function(A){var e=new ni,t=new Ue,i=this.geometry.attributes.position.array,n=null,o=null;o=A?(n=A.positionStart)+A.positionCount:(n=0,i.length);var r=new oi,a=r.center;this.setBoundingBoxFromArray(e,i,n,o),e.getCenter(a);for(var s=0,l=n,c=o;l<c;l+=3)t.x=i[l],t.y=i[l+1],t.z=i[l+2],s=Math.max(s,a.distanceToSquared(t));return r.radius=Math.sqrt(s),r},Fu.prototype.setBoundingBoxFromArray=function(A,e,t,i){for(var n=Number(1/0),o=Number(1/0),r=Number(1/0),a=-1/0,s=-1/0,l=-1/0,c=t,d=i;c<d;c+=3){var h=e[c],u=e[c+1],p=e[c+2];h<n&&(n=h),u<o&&(o=u),p<r&&(r=p),a<h&&(a=h),s<u&&(s=u),l<p&&(l=p)}A.min.set(n,o,r),A.max.set(a,s,l)};var Lu=new ni,Ou=new At,Uu=new ri,Nu=new oi,Ru=function(){Zr.call(this),this.type="LineSegmentsEx"};Ru.prototype.init=function(A){},Ru.prototype.destroy=function(){},Ru.prototype.intersectBoxWithDistance=function(A,e){var t=this.geometry,i=this.matrixWorld;return e&&(i=this.matrixWorld.clone()).multiplyMatrices(this.matrixWorld,e),t.boundingBox||t.computeBoundingBox(),Lu.copy(t.boundingBox),Lu.applyMatrix4(i),A.ray.intersectBoxWithDistance(Lu)},Ru.prototype.intersectBoxWithDistanceByIndices=function(A,e){var t=this.geometry.attributes.position.array,i=0,n=t.length;e&&0<e.indexCount&&(n=(i=e.positionStart)+e.positionCount);var o=kh.box3FromArrayRange(t,i,n);return o.applyMatrix4(this.matrixWorld),A.ray.intersectBoxWithDistance(o)},Ru.prototype.raycastByIndices=function(A,e,t,i){var n=A.linePrecision;A.linePrecision=5;var o=A.linePrecision,r=o*o,a=null;i?(a=this.matrixWorld.clone()).multiplyMatrices(this.matrixWorld,i):a=this.matrixWorld;var s=this.geometry;if(null===s.boundingSphere&&s.computeBoundingSphere(),Nu.copy(s.boundingSphere),Nu.applyMatrix4(a),!1!==A.ray.intersectsSphere(Nu)){Ou.getInverse(a),Uu.copy(A.ray).applyMatrix4(Ou);var l=new Ue,c=new Ue,d=new Ue,h=new Ue,u=s.attributes.position.array,p=s.index.array,g=0,f=p.length;t&&0<t.indexCount&&(f=(g=t.indexStart)+t.indexCount);for(var m=g;m<f-1;m+=2){var v=p[m+1];if(l.fromArray(u,3*p[m]),c.fromArray(u,3*v),Uu.distanceSqToSegment(l,c,h,d)<=r){h.applyMatrix4(a);var y=A.ray.origin.distanceTo(h);y<A.near||A.far<y||e.push({distance:y,point:d.clone().applyMatrix4(a),index:m,face:null,faceIndex:null,object:this})}}A.linePrecision=n}};var Pu=function(){this.vertexIndex=new Array(2),this.faceIndex=new Array(2)},Du=function(A,e){var t=A.length/3,n=new Array(t),i=new Array(t);function o(A,e){var t=n[A],i=n[e];return t.x!==i.x?t.x-i.x:t.y!==i.y?t.y-i.y:t.z-i.z}for(var r=0;r<t;r+=1)n[r]=new Ue(A[3*r],A[3*r+1],A[3*r+2]),i[r]=r;i.sort(function(A,e){var t=o(A,e);return 0===t?A-e:t});var a={},s=i[0];for(r=1;r<t;r+=1)0===o(s,i[r])?a[i[r]]=s:s=i[r];var l=new Array(e.length);for(r=0;r<e.length;r+=1)l[r]=a.hasOwnProperty(e[r])?a[e[r]]:e[r];return l},Qu=function(A,e){function t(A,e){return A-e}var i=Du(A,e);i.sort(t);var n=[],o=i[0];n.push(o);for(var r=1;r<i.length;r+=1)i[r]!==o&&n.push(o=i[r]);return n.sort(t)},ku=function(A,e,t){t=void 0===t?Math.PI/4:t;for(var i=Du(A,e),n=i.length,o=A.length/3,r=new Array(o+n),a=o,s=i.length/3,l=0;l<o;l+=1)r[l]=-1;var c=new Array(n),d=0;for(l=0;l<s;l+=1)for(var h=i[3*l+2],u=0;u<3;u+=1){var p=!1,g=i[3*l+u];if(g<h){p=!0;var f=h;h=g,g=f}var m=new Pu;m.vertexIndex[0]=h,m.vertexIndex[1]=g,m.faceIndex[0]=l,m.faceIndex[1]=l;var v=r[h];if(-1===v)c[r[h]=d]=m,r[a+d]=-1,d+=1;else for(;;){if((I=c[v]).vertexIndex[1]===g){I.faceIndex[1]=l;break}var y=r[a+v];if(-1===y){c[r[a+v]=d]=m,r[a+d]=-1,d+=1;break}v=y}p||(h=g)}var C=[];for(l=0;l<d;l+=1){var I;if((I=c[l]).faceIndex[0]===I.faceIndex[1])C.push(I.vertexIndex[0]),C.push(I.vertexIndex[1]);else{var x=I.faceIndex[0],b=i[3*x],E=i[3*x+1],w=i[3*x+2],M=new Ue(A[3*b],A[3*b+1],A[3*b+2]),B=new Ue(A[3*E],A[3*E+1],A[3*E+2]),_=new Ue(A[3*w],A[3*w+1],A[3*w+2]),S=M.sub(B),T=B.sub(_),K=S.cross(T);K.normalize();var F=I.faceIndex[1];E=i[3*F+1],w=i[3*F+2],M=new Ue(A[3*(b=i[3*F])],A[3*b+1],A[3*b+2]),B=new Ue(A[3*E],A[3*E+1],A[3*E+2]),_=new Ue(A[3*w],A[3*w+1],A[3*w+2]),S=M.sub(B),T=B.sub(_);var L=S.cross(T);L.normalize(),Math.abs(K.dot(L))<t&&(C.push(I.vertexIndex[0]),C.push(I.vertexIndex[1]))}}return C},zu=function(A,e,t,i,n){for(var o=t.length/3,r=[],a=0;a<o;a+=1){var s=t[3*a],l=new Ue(e[3*s],e[3*s+1],e[3*s+2]),c=l.dot(n);if(Math.abs(c-1)<.001){var d=-new Ue(A[3*s],A[3*s+1],A[3*s+2]).dot(l),h=Math.abs(i.dot(l)+d);Math.abs(h)<3&&r.push(t[3*a],t[3*a+1],t[3*a+2])}}return r},Vu=function(A){var o=this;this.indexedDB=window.indexedDB||window.mozIndexedDB||window.webkitIndexedDB||window.msIndexedDB;window.IDBKeyRange||window;var r=kh.extend({},{dbName:"bos3d",store:"default",version:1,indexes:["id"],keyPath:"id"},A);this.IDBOpenDBRequest=null,this.dbName=r.dbName;var a=this.version=r.version;this.storeName=r.store;var s=r.keyPath,e=this.indexedDB.open(this.dbName,a);e.onupgradeneeded=function(A){Gh.log("DB version changed to "+a);var e=A.target.result,t=null;if(!1===e.objectStoreNames.contains(o.storeName)){t=e.createObjectStore(o.storeName,{keyPath:s});for(var i=0;i<r.indexes.length;i+=1){var n=r.indexes[i];t.createIndex(n,n,{unique:!1})}}},e.onsuccess=function(A){o.IDBOpenDBRequest=A.target.result,Gh.log("成功建立并打开数据库:"+o.IDBOpenDBRequest.name+" version "+a),o.dispatchEvent({type:lh.ON_DATABASE_OPEN})},e.onerror=function(A){Gh.error("IndexedDB",A),o.dispatchEvent({type:lh.ON_DATABASE_EEEOR})},e.onblocked=function(A){console.log("Please close all other tabs with this site open!",A)}};Object.assign(Vu.prototype,ou.prototype),Object.assign(Vu.prototype,{constructor:Vu,get:function(A,e,t,i){if(this.IDBOpenDBRequest){var n=this.IDBOpenDBRequest.transaction([e]).objectStore(e).get(A);n.onsuccess=function(A){"function"==typeof t&&t(A.target.result?A.target.result.data:null)},n.onerror=function(A){console.error("getDataByKey error"),"function"==typeof i&&i(A)}}},getBatch:function(n,t,A){if(this.IDBOpenDBRequest){for(var o=this.IDBOpenDBRequest.transaction([this.storeName]).objectStore(this.storeName),i={},e=[],r=0;r<n.length;r+=1)e.push(new Promise(function(e,t){var i=n[r],A=o.index("id").get(i);A.onsuccess=function(A){e(A.target.result)},A.onerror=function(A){console.log(i,"failed",A),t(A)}}));Promise.all(e).then(function(A){for(var e=0;e<A.length;e+=1)A[e]&&(i[A[e].id]=A[e].data);t(i)}).catch(function(A){t(i)})}},setBatch:function(A,e,t){if(this.IDBOpenDBRequest)for(var i=this.IDBOpenDBRequest.transaction([this.storeName],"readwrite").objectStore(this.storeName),n=0;n<A.length;n+=1){i.put({id:A[n].key,data:A[n]}).onsuccess=function(A){}}},set:function(A,e,t,i){var n=performance.now();if(this.IDBOpenDBRequest){var o=this.IDBOpenDBRequest.transaction([this.storeName],"readwrite").objectStore(this.storeName).add([{id:A,data:e}]);o.onsuccess=function(A){"function"==typeof t&&t(A.target.result),Gh.debug("Saved state to IndexedDB. "+(performance.now()-n).toFixed(2)+"ms")},o.onerror=function(A){"function"==typeof i&&i(A)}}},put:function(A,e,t,i,n){if(this.IDBOpenDBRequest){var o=performance.now(),r=this.IDBOpenDBRequest.transaction([t],"readwrite").objectStore(t).put({id:A,data:e});r.onsuccess=function(A){"function"==typeof i&&i(A.target.result),Gh.debug("Saved state to IndexedDB. "+(performance.now()-o).toFixed(2)+"ms")},r.onerror=function(A){Gh.error("离线存储出错:",A.target.error.name,":",A.target.error.message),"function"==typeof n&&n(A)}}},delete:function(A,e,t){if(this.IDBOpenDBRequest){var i=this.IDBOpenDBRequest.transaction(this.storeName,"readwrite").objectStore(this.storeName).delete(A);i.onsuccess=function(A){Gh.debug("delete data form IndexedDB."),"function"==typeof e&&e(A.target.result)},i.onerror=function(A){Gh.error("IndexedDB",A),"function"==typeof t&&t(A)}}},clear:function(e,t){if(this.IDBOpenDBRequest){var A=this.IDBOpenDBRequest.transaction(this.storeName,"readwrite").objectStore(this.storeName).clear();A.onsuccess=function(A){Gh.debug("Cleared IndexedDB."),"function"==typeof e&&e(A.target.result)},A.onerror=function(A){Gh.error("IndexedDB",A),"function"==typeof t&&t(A)}}},deleteDatabase:function(A){indexedDB.deleteDatabase(this.dbName),Gh.debug(this.dbName+"数据库已删除"),"function"==typeof A&&A()},close:function(A){this.IDBOpenDBRequest&&(this.IDBOpenDBRequest.close(),Gh.debug("数据库已关闭"),"function"==typeof A&&A())},getIndex:function(A,e,t,i){var n=A.transaction(e,"readwrite").objectStore(e).index("id");n.openCursor().onsuccess=function(){var A=this.result;A&&(console.log(A.value),A.continue())};var o=IDBKeyRange.only(2),r=n.openCursor(o);r.onsuccess=function(){var A=r.result;A&&console.info(A.value)}},destroy:function(){this.close(),this.IDBOpenDBRequest=null,this.dbName=null,this.storeName=null}});var Hu=function(A,e){dn.call(this),this.target=new Ue,this.name=A||"",this.fov=e.fov,this.near=e.near,this.far=e.far,A===th.PERSPECTIVE?(this.aspect=e.width/e.height,this.fov=e.fov,this.left=-e.width/2,this.right=e.width/2,this.top=e.height/2,this.bottom=-e.height/2,this.perspectiveCamera=new hn(this.fov,this.aspect,this.near,this.far),this.orthoCamera=null,this.toPerspective()):(this.left=e.left,this.right=e.right,this.top=e.top,this.bottom=e.bottom,this.fov=45,this.aspect=(this.right-this.left)/(this.top-this.bottom),this.orthoCamera=new Tl(this.left,this.right,this.top,this.bottom,this.near,this.far),this.perspectiveCamera=null,this.orthoCamera.updateProjectionMatrix(),this.projectionMatrix=this.orthoCamera.projectionMatrix,this.isPerspective=!1),this.zoom=e.zoom||1};((Hu.prototype=Object.create(dn.prototype)).constructor=Hu).prototype.toPerspective=function(){null!==this.perspectiveCamera?(this.perspectiveCamera.aspect=this.aspect,this.perspectiveCamera.near=this.near,this.perspectiveCamera.far=this.far,this.perspectiveCamera.fov=this.fov,this.perspectiveCamera.updateProjectionMatrix(),this.projectionMatrix=this.perspectiveCamera.projectionMatrix,this.projectionMatrixInverse=this.perspectiveCamera.projectionMatrixInverse,this.isPerspective=!0,this.dirty=!0):console.log("Can not convert to perspective camera because the camera original type is orthographic.")},Hu.prototype.toOrthographic=function(){null===this.orthoCamera&&(this.orthoCamera=new Tl(this.left,this.right,this.top,this.bottom,this.near,this.far));var A=this.fov,e=this.target.clone().sub(this.position).length(),t=Math.tan(A*Math.PI/180/2)*e,i=t*this.aspect;t/=this.zoom,this.left=this.orthoCamera.left=-(i/=this.zoom),this.right=this.orthoCamera.right=i,this.top=this.orthoCamera.top=t,this.bottom=this.orthoCamera.bottom=-t,this.orthoCamera.near=this.near,this.orthoCamera.far=this.far,this.orthoCamera.updateProjectionMatrix(),this.projectionMatrix=this.orthoCamera.projectionMatrix,this.projectionMatrixInverse=this.orthoCamera.projectionMatrixInverse,this.isPerspective=!1,this.dirty=!0},Hu.prototype.setSize=function(A,e){this.perspectiveCamera.aspect=A/e,this.left=-A/2,this.right=A/2,this.top=e/2,this.bottom=-e/2,this.aspect=A/e,this.dirty=!0},Hu.prototype.setFov=function(A){this.fov=A,this.dirty=!0,this.updateProjectionMatrix()},Hu.prototype.setNearFar=function(A,e){this.near=A,this.far=e,this.dirty=!0,this.updateProjectionMatrix()},Hu.prototype.updateProjectionMatrix=function(){this.isPerspective?this.toPerspective():this.toOrthographic()},Hu.prototype.setLens=function(A,e){void 0===e&&(e=24);var t=2*Fe.radToDeg(Math.atan(e/(2*A)));return this.setFov(t),this.dirty=!0,t},Hu.prototype.setZoom=function(A){this.zoom=A,this.dirty=!0,this.updateProjectionMatrix()},Hu.prototype.copy=function(A){dn.prototype.copy.call(this,A),this.target.copy(A.target),this.aspect=A.aspect,this.fov=A.fov,this.near=A.near,this.far=A.far,this.left=A.left,this.right=A.right,this.top=A.top,this.bottom=A.bottom,this.zoom=A.zoom,this.isPerspective=A.isPerspective,this.orthoCamera.copy(A.orthoCamera),this.perspectiveCamera.copy(A.perspectiveCamera)},Hu.prototype.toFrontView=function(){this.rotation.x=0,this.rotation.y=0,this.rotation.z=0},Hu.prototype.toBackView=function(){this.rotation.x=0,this.rotation.y=Math.PI,this.rotation.z=0},Hu.prototype.toLeftView=function(){this.rotation.x=0,this.rotation.y=-Math.PI/2,this.rotation.z=0},Hu.prototype.toRightView=function(){this.rotation.x=0,this.rotation.y=Math.PI/2,this.rotation.z=0},Hu.prototype.toTopView=function(){this.rotation.x=-Math.PI/2,this.rotation.y=0,this.rotation.z=0},Hu.prototype.toBottomView=function(){this.rotation.x=Math.PI/2,this.rotation.y=0,this.rotation.z=0};var Gu=function(A,e,t,i,n){Hu.call(this,th.PERSPECTIVE,{width:e,height:t,fov:A,near:i,far:n}),this.realUp=this.up.clone(),this.target=new Ue,this.dirty=!1,this.orthoScale=1,this.positionPlane=new En,this.projScreenMatrix=new At,this.viewProjInverse=new At,this.tempVector3=new Ue,this.frustum=new wn};((Gu.prototype=Object.create(Hu.prototype)).constructor=Gu).prototype._updatePositionPlane=function(){this.positionPlane.setFromNormalAndCoplanarPoint(this.getWorldDirection(new Ue),this.position)},Gu.prototype._updateFrustum=function(){this.frustum.setFromMatrix(this.projScreenMatrix)},Gu.prototype.updateMVP=function(){this.dirty&&(null===this.parent&&this.updateMatrixWorld(),this.matrixWorldInverse.getInverse(this.matrixWorld),this.projScreenMatrix.multiplyMatrices(this.projectionMatrix,this.matrixWorldInverse),this.viewProjInverse.getInverse(this.projScreenMatrix),this._updateFrustum(),this._updatePositionPlane(),this.dirty=!1)},Gu.prototype.getFrustum=function(){return this.dirty&&this.updateMVP(),this.frustum},Gu.prototype.lookAtEx=function(A,e,t,i){var n=new Ue;n.copy(e),void 0!==i&&"number"==typeof i&&n.setLength(i),this.position.subVectors(A,n),this.up=t,this.lookAt(A),this.realUp=t.clone(),this.target=A.clone(),this.dirty=!0},Gu.prototype.lookAtEXForTargetPositionUp=function(A,e,t){this.position.copy(e),this.up=t,this.lookAt(A),this.realUp=t.clone(),this.target=A.clone(),this.dirty=!0},Gu.prototype.clone=function(){var A=new Gu(2*this.right,2*this.top,this.fov,this.near,this.far);return A.position.copy(this.position),A.up.copy(this.up),A.realUp.copy(this.realUp),A.target.copy(this.target),A.aspect=this.aspect,A.fov=this.fov,A.near=this.near,A.far=this.far,A.left=this.left,A.right=this.right,A.top=this.top,A.bottom=this.bottom,A.zoom=this.zoom,A.isPerspective=this.isPerspective,A.updateProjectionMatrix(),A.updateMVP(),A},Gu.prototype.copy=function(A){return Hu.prototype.copy.call(this,A),this.realUp.copy(A.realUp),this.orthoScale=A.orthoScale,this.dirty=A.dirty,this.updateProjectionMatrix(),this.updateMVP(),this},Gu.prototype.setStandardView=function(A,e){var t=null,i=null;e?(t=e.getCenter(new Ue),i=e.getSize(new Ue)):t=new Ue(0,0,0);var n=Ah.SceneSize,o=n/2;switch(i||(i=o),A){case rh.ISO:var r=new Ue(-n,n,n),a=new Ue,s=new Ue(0,0,0);a.subVectors(s,r),this.lookAtEx(t,a,ti.DefaultUp);break;case rh.Top:this.lookAtEx(t,new Ue(0,0,-1),new Ue(-1,0,0),i?i.x:o);break;case rh.Bottom:this.lookAtEx(t,new Ue(0,0,1),new Ue(-1,0,0),i?i.x:o);break;case rh.Front:this.lookAtEx(t,new Ue(0,-1,0),new Ue(0,0,1),i?i.z:o);break;case rh.Back:this.lookAtEx(t,new Ue(0,1,0),new Ue(0,0,1),i?i.z:o);break;case rh.Right:this.lookAtEx(t,new Ue(-1,0,0),new Ue(0,0,1),i?i.y:o);break;case rh.Left:this.lookAtEx(t,new Ue(1,0,0),new Ue(0,0,1),i?i.y:o);break;case rh.FrontRight:this.lookAtEx(t,new Ue(-1,0,-1),new Ue(0,0,1),i?i.x+i.y:o);break;case rh.FrontLeft:this.lookAtEx(t,new Ue(1,0,-1),new Ue(0,0,1),i?i.x+i.y:o);break;case rh.BackLeft:this.lookAtEx(t,new Ue(1,0,1),new Ue(0,0,1),i?i.x+i.y:o);break;case rh.BackRight:this.lookAtEx(t,new Ue(-1,0,1),new Ue(0,0,1),i?i.x+i.y:o);break;case rh.BottomFront:this.lookAtEx(t,new Ue(0,1,-1),new Ue(0,0,1),i?i.x+i.z:o);break;case rh.BottomBack:this.lookAtEx(t,new Ue(0,1,1),new Ue(0,0,1),i?i.x+i.z:o);break;case rh.BottomRight:this.lookAtEx(t,new Ue(-1,1,0),new Ue(0,0,1),i?i.y+i.z:o);break;case rh.BottomLeft:this.lookAtEx(t,new Ue(1,1,0),new Ue(0,0,1),i?i.y+i.z:o);break;case rh.BottomFrontRight:this.lookAtEx(t,new Ue(-1,1,-1),new Ue(0,0,1),i?i.x+i.y+i.z:o);break;case rh.BottomFrontLeft:this.lookAtEx(t,new Ue(1,1,-1),new Ue(0,0,1),i?i.x+i.y+i.z:o);break;case rh.BottomBackLeft:this.lookAtEx(t,new Ue(1,1,1),new Ue(0,0,1),i?i.x+i.y+i.z:o);break;case rh.BottomBackRight:this.lookAtEx(t,new Ue(-1,1,1),new Ue(0,0,1),i?i.x+i.y+i.z:o);break;case rh.TopFront:this.lookAtEx(t,new Ue(0,-1,-1),new Ue(0,0,1),i?i.x+i.z:o);break;case rh.TopBack:this.lookAtEx(t,new Ue(0,-1,1),new Ue(0,0,1),i?i.x+i.z:o);break;case rh.TopRight:this.lookAtEx(t,new Ue(-1,-1,0),new Ue(0,0,1),i?i.y+i.z:o);break;case rh.TopLeft:this.lookAtEx(t,new Ue(1,-1,0),new Ue(0,0,1),i?i.y+i.z:o);break;case rh.TopFrontRight:this.lookAtEx(t,new Ue(-1,-1,-1),new Ue(0,0,1),i?i.x+i.y+i.z:o);break;case rh.TopFrontLeft:this.lookAtEx(t,new Ue(1,-1,-1),new Ue(0,0,1),i?i.x+i.y+i.z:o);break;case rh.TopBackLeft:this.lookAtEx(t,new Ue(1,-1,1),new Ue(0,0,1),i?i.x+i.y+i.z:o);break;case rh.TopBackRight:this.lookAtEx(t,new Ue(-1,-1,1),new Ue(0,0,1),i?i.x+i.y+i.z:o);break;case rh.TopToRight:this.lookAtEx(t,new Ue(0,-1,0),new Ue(-1,0,0),o);break;case rh.TopToBack:this.lookAtEx(t,new Ue(0,-1,0),new Ue(0,0,1),o);break;case rh.TopToLeft:this.lookAtEx(t,new Ue(0,-1,0),new Ue(1,0,0),o);break;case rh.TopToFront:this.lookAtEx(t,new Ue(0,-1,0),new Ue(0,0,-1),o);break;case rh.BottomToRight:this.lookAtEx(t,new Ue(0,1,0),new Ue(-1,0,0),o);break;case rh.BottomToBack:this.lookAtEx(t,new Ue(0,1,0),new Ue(0,0,-1),o);break;case rh.BottomToFront:this.lookAtEx(t,new Ue(0,1,0),new Ue(0,0,1),o);break;case rh.BottomToLeft:this.lookAtEx(t,new Ue(0,1,0),new Ue(1,0,0),o);break;case rh.FrontToTop:this.lookAtEx(t,new Ue(0,0,-1),new Ue(0,-1,0),o);break;case rh.FrontToBottom:this.lookAtEx(t,new Ue(0,0,-1),new Ue(0,1,0),o);break;case rh.FrontToLeft:this.lookAtEx(t,new Ue(0,0,-1),new Ue(1,0,0),o);break;case rh.FrontToRight:this.lookAtEx(t,new Ue(0,0,-1),new Ue(-1,0,0),o);break;case rh.RightToTop:this.lookAtEx(t,new Ue(-1,0,0),new Ue(0,-1,0),o);break;case rh.RightToBottom:this.lookAtEx(t,new Ue(-1,0,0),new Ue(0,1,0),o);break;case rh.RightToFront:this.lookAtEx(t,new Ue(-1,0,0),new Ue(0,0,-1),o);break;case rh.RightToBack:this.lookAtEx(t,new Ue(-1,0,0),new Ue(0,0,1),o);break;case rh.BackToTop:this.lookAtEx(t,new Ue(0,0,1),new Ue(0,-1,0),o);break;case rh.BackToBottom:this.lookAtEx(t,new Ue(0,0,1),new Ue(0,1,0),o);break;case rh.BackToLeft:this.lookAtEx(t,new Ue(0,0,1),new Ue(-1,0,0),o);break;case rh.BackToRight:this.lookAtEx(t,new Ue(0,0,1),new Ue(1,0,0),o);break;case rh.LeftToTop:this.lookAtEx(t,new Ue(1,0,0),new Ue(0,-1,0),o);break;case rh.LeftTopBottom:this.lookAtEx(t,new Ue(1,0,0),new Ue(0,1,0),o);break;case rh.LeftTopBack:this.lookAtEx(t,new Ue(1,0,0),new Ue(0,0,1),o);break;case rh.LeftTopFront:this.lookAtEx(t,new Ue(1,0,0),new Ue(0,0,-1),o);break;default:this.lookAtEx(t,new Ue(-1,-1,-1),new Ue(0,0,1),o)}return this.updateProjectionMatrix(),t},Gu.prototype.zoomToBox=function(A,e,t,i){t=t||1,e=(e=e||0)<-1?-1:e;var n=new ni;if(n.copy(A),0!==e){var o=.5*A.getSize(new Ue).length(),r=new Ue;r.subVectors(n.max,n.min).normalize(),r.multiplyScalar(o*e),n.expandByVector(r)}var a=i||this.getWorldDirection(new Ue),s=this.up,l=this.aspect,c=Fe.degToRad(.5*this.fov),d=n.getSize(new Ue),h=n.getCenter(new Ue),u=.5*d.length()/Math.sin(c)*t,p=new Ue;p.copy(a),p.setLength(u);var g=new Ue;g.subVectors(h,p);var f=new Ue;f.crossVectors(a,s),f.normalize();var m=new Ue;m.crossVectors(a,f),m.normalize();var v=new En;v.setFromNormalAndCoplanarPoint(f,g);var y=new En;y.setFromNormalAndCoplanarPoint(m,g);var C=0,I=0,x=0,b=0,E=0,w=[new Ue,new Ue,new Ue,new Ue,new Ue,new Ue,new Ue,new Ue];w[0].set(n.min.x,n.min.y,n.min.z),w[1].set(n.min.x,n.min.y,n.max.z),w[2].set(n.min.x,n.max.y,n.min.z),w[3].set(n.min.x,n.max.y,n.max.z),w[4].set(n.max.x,n.min.y,n.min.z),w[5].set(n.max.x,n.min.y,n.max.z),w[6].set(n.max.x,n.max.y,n.min.z),w[7].set(n.max.x,n.max.y,n.max.z);for(var M=0;M<8;M+=1){var B=new Ue;B.subVectors(w[M],g);var _=Math.abs(B.dot(a)),S=Math.abs(y.distanceToPoint(w[M])),T=S*l,K=Math.abs(v.distanceToPoint(w[M])),F=Math.max(S,K/l),L=Math.max(T,K);C<F&&(C=F),I&&x&&F<=I*_/x||(I=F,x=_),b&&E&&L<=b*_/E||(b=L,E=_)}var O=b/Math.tan(c)+(u-E),U=I/Math.tan(c)+(u-x),N=0;if((N=l<1?Math.max(O,U):Math.min(O,U))<this.near){this.near=(N*N+.001*N)/16777.216}if(p.copy(a).normalize().setLength(N),g.subVectors(h,p),this.position.copy(g),this.lookAt(h),this.target.copy(h),!this.isPerspective){var R=Math.tan(this.fov*Math.PI/180/2)*N;this.orthoScale=R/C,this.zoom=this.orthoScale}return this.updateProjectionMatrix(),this.dirty=!0,h},Gu.prototype.computeRay=function(A,e,t){var i=new Le;if(void 0===t)i.x=window.innerWidth,i.y=window.innerHeight;else{var n=t===document?t.body:t;i.x=n.offsetWidth,i.y=n.offsetHeight}var o=new Le;o.x=A/i.x*2-1,o.y=-e/i.y*2+1;var r=new ri;return this.isPerspective?(r.origin.copy(this.position),r.direction.set(o.x,o.y,.5).unproject(this).sub(this.position).normalize()):(r.origin.set(o.x,o.y,-1).unproject(this),r.direction.set(0,0,-1).transformDirection(this.matrixWorld)),r},Gu.prototype.screenToWorld=function(A,e,t,i){var n=this.computeRay(A,e,t),o=this.getWorldDirection(new Ue).normalize(),r=new En(o);return r.setFromNormalAndCoplanarPoint(o,i),n.intersectPlane(r,i)},Gu.prototype.getWorldFrustum=function(A){var e=new At,t=new wn,i=this.clone(),n=this.target,o=n.clone().sub(this.position).length(),r=new At;r.getInverse(A);var a=new At;a.extractRotation(A);var s=new Oe;s.setFromRotationMatrix(a),s.inverse(),i.position.applyMatrix4(r);var l=n.clone();l.applyMatrix4(r);var c=l.clone().sub(i.position),d=c.length();return c.normalize(),i.far=this.far*(d/o),i.up.applyQuaternion(s).normalize(),i.realUp.applyQuaternion(s).normalize(),i.updateProjectionMatrix(),i.updateMatrixWorld(),e.getInverse(i.matrixWorld),t.setFromMatrix((new At).multiplyMatrices(i.projectionMatrix,e)),i=null,t},Gu.prototype.distanceFromWorldToDrawing=function(A,e){var t=this.position.clone(),i=this.target.clone();i.subVectors(this.target,this.position),i.normalize();var n=new At;return n.getInverse(A),i.add(t).applyMatrix4(n),t.applyMatrix4(n),i.sub(t),i.normalize().multiplyScalar(e),i.add(t).applyMatrix4(A),i.sub(this.position),i.length()},Gu.drawingToWorld=function(A,e){var t=A.position.clone(),i=A.target.clone(),n=A.up.clone(),o=new At;return o.getInverse(e),n.add(t),n.applyMatrix4(o),t.applyMatrix4(o),i.applyMatrix4(o),n.sub(t),n.normalize(),{position:t,target:i,up:n}};var ju,Wu=function(A,e,t,i,n,o){this.name=A,this.position=e,this.target=t,this.up=i,this.fov=n,this.version=o},qu=function(){var u=this,r=null,a={},s={},l=1e3,c=null,d=null,h=null,p=!1,g=null,f=null,m=null;this.from=function(A){for(var e in r=A)r.hasOwnProperty(e)&&(a[e]=r[e]);return this},this.to=function(A,e){return void 0!==e&&(l=e),s=A,this},this.onStart=function(A){return g=A,this},this.onUpdate=function(A){return f=A,this},this.onComplete=function(A){return m=A,this},this.start=function(o,A){p=!1,d&&cancelAnimationFrame(d),c=Date.now(),h=A?this.linearInterpolateForTargetPostionUp:this.interpolate,d=requestAnimationFrame(function A(){var e=a,t=s,i=Date.now();!1===p&&(null!==g&&g(r),p=!0);var n=(i-c)/l;r=h(e,t,n=1<n?1:n),1===n?(cancelAnimationFrame(d),null!==m&&m(r)):(d=requestAnimationFrame(A,o),null!==f&&f(r,n))},o)},this.isAngleGreaterThanPi=function(A,e,t){var i=new Ue;return i.crossVectors(A,e),i.dot(t)<0},this.conicInterpolate=function(A,e,t,i){var n=-e.angleTo(A)*i,o=new Ue;o.crossVectors(e,A).normalize();var r=new Oe;r.setFromAxisAngle(o,n),t.copy(A),t.applyQuaternion(r)},this.quaternionInterpolate=function(A,e,t,i,n){var o=new Oe(A.x,A.y,A.z,1).normalize(),r=new Oe(e.x,e.y,e.z,1).normalize(),a=new Oe(0,0,0,1),s=new Oe(0,0,0,1),l=new Ue;l.crossVectors(A,t).normalize(),a.set(l.x,l.y,l.z,1).normalize();n<.5?Oe.slerp(o,a,s,2*n):Oe.slerp(a,r,s,2*(n-.5)),i.set(s.x,s.y,s.z)},this.slerpInterpolate=function(A,e,t,i,n,o){var r=A.dot(e);o<r?i.copy(e):o<Math.abs(r)?this.quaternionInterpolate(A,e,t,i,n):this.conicInterpolate(A,e,i,n),i.normalize()},this.linearInterpolate=function(A,e,t,i,n){if(A.equals(e))t.copy(e);else{var o=new Ue(1,0,0),r=new Ue(0,0,1),a=new Ue,s=A.dot(e);n<s?t.copy(e):n<-s?(n>Math.abs(A.dot(r))?a.crossVectors(A,r).normalize():a.crossVectors(A,o).normalize(),i<.5?t.lerpVectors(A,a,2*i):t.lerpVectors(a,e,2*(i-.5))):t.lerpVectors(A,e,i),t.normalize()}},this.linearInterpolatePosition=function(A,e,t,i){t.lerpVectors(A,e,i)},this.sphericalInterpolate=function(A,e,t,i,n,o){var r=new Ue(0,1,0),a=new Ue(0,0,1),s=new En(r,0),l=A.clone().sub(e),c=l.clone().angleTo(s.normal),d=l.clone().projectOnPlane(s.normal),h=d.clone().angleTo(a);0<a.clone().cross(d).y||(h=-h);var u=t.clone().sub(i),p=u.clone().angleTo(s.normal),g=(d=u.clone().projectOnPlane(s.normal)).clone().angleTo(a);a.clone().cross(d).y<0&&(g=-g),g-h>Math.PI?h<0&&0<g&&(g-=2*Math.PI):g-h<-Math.PI&&g<0&&0<h&&(g+=2*Math.PI);var f=c+(p-c)*o,m=h+(g-h)*o,v=l.length(),y=new Ue;y.x=v*Math.sin(f)*Math.sin(m),y.z=v*Math.sin(f)*Math.cos(m),y.y=v*Math.cos(f),n.copy(y).multiplyScalar(-1)},this.interpolate=function(A,e,t){var i=new Ue,n=new Ue,o=new Ue,r=new Ue,a=A.animTarget,s=A.animUp,l=A.animFocal,c=e.animTarget,d=e.animUp,h=e.animFocal;return u.sphericalInterpolate(A.animPos,a,e.animPos,c,i,t),u.linearInterpolate(s,d,n,t,.9995),u.linearInterpolatePosition(a,c,o,t),u.linearInterpolatePosition(l,h,r,t),{animDir:i,animUp:n,animFocal:r,animTarget:o}},this.linearInterpolateForTargetPostionUp=function(A,e,t){var i=new Ue,n=new Ue,o=new Ue,r=A.animTarget,a=A.animPosition,s=e.animTarget,l=e.animPosition;return u.linearInterpolate(A.animUp,e.animUp,n,t,.9995),u.linearInterpolatePosition(r,s,o,t),u.linearInterpolatePosition(a,l,i,t),{animPosition:i,animUp:n,animTarget:o}}},Xu=function(){var f=800,m=13,v=new qu;this.setDuration=function(A){f=A},this.setFrameTime=function(A){m=A},this.setStandardView=function(A,e,t,i,n){var o=e.camera,r=o.position.clone(),a=o.target.clone(),s=o.getWorldDirection(new Ue);s.normalize();var l=new Ue;l.copy(o.realUp||o.up),l.normalize();var c=new Ue(o.position.clone().sub(a).length(),0,0),d=o.setStandardView(A,t);d=e.camera.zoomToBox(t,i);var h=o.position.clone(),u=o.getWorldDirection(new Ue);u.normalize();var p=new Ue;p.copy(o.realUp||o.up),p.normalize();var g=new Ue(o.position.clone().sub(d).length(),0,0);s.equals(u)&&l.equals(p)&&a.equals(d)&&c.equals(g)?n&&n():(e.getControlManager().setInteractiveState(!1),v.from({animPos:r,animDir:s,animUp:l,animTarget:a,animFocal:c}).to({animPos:h,animDir:u,animUp:p,animTarget:d,animFocal:g},f).onUpdate(function(A){e.camera.lookAtEx(A.animTarget,A.animDir,A.animUp,A.animFocal.x),e.cameraControl.update(!0,!0),e.modelManager.dispatchEvent({type:EVENTS.ON_CAMERA_ANIMATION_UPDATE}),n&&n()}).onComplete(function(){e.camera.lookAtEx(d,u,p,g.x),e.cameraControl.update(!0,!0),n&&n(),e.getControlManager().setInteractiveState(!0),e.camera.up.copy(ti.DefaultUp)}).start(m))},this.active=function(A,e,t,i,n){var o=t.camera,r=new Ue(A.position.x,A.position.y,A.position.z),a=new Ue(A.target.x,A.target.y,A.target.z),s=new Ue(a.distanceTo(r),0,0),l=a.clone().sub(r).normalize(),c=new Ue(A.up.x,A.up.y,A.up.z);c.normalize();var d=new Ue(e.position.x,e.position.y,e.position.z),h=new Ue(e.target.x,e.target.y,e.target.z),u=new Ue(h.distanceTo(d),0,0),p=h.clone().sub(d).normalize(),g=new Ue(e.up.x,e.up.y,e.up.z);g.normalize(),l.equals(p)&&c.equals(g)&&a.equals(h)&&s.equals(u)?n&&n():(t.getControlManager().setInteractiveState(!1),v.from({animPos:r,animDir:l,animUp:c,animTarget:a,animFocal:s}).to({animPos:d,animDir:p,animUp:g,animTarget:h,animFocal:u},f).onUpdate(function(A){var e=A.animTarget;o.lookAtEx(e,A.animDir,A.animUp,A.animFocal.x),i&&i(e)}).onComplete(function(){o.lookAtEx(h,p,g,u.x),i&&i(h),n&&n(),t.getControlManager().setInteractiveState(!0),o.up.copy(ti.DefaultUp)}).start(m))},this.slerpFlyTo=function(A,e,t,i){var n=e.camera,o=n.position.clone(),r=n.getWorldDirection(new Ue),a=new Ue;a.copy(n.realUp||n.up),a.normalize();var s=n.target.clone(),l=new Ue(n.position.clone().sub(s).length(),0,0),c=(new Ue).set(A.position.x,A.position.y,A.position.z),d=(new Ue).set(A.target.x,A.target.y,A.target.z),h=(new Ue).set(A.up.x,A.up.y,A.up.z),u=d.clone().sub(c),p=new Ue(u.length(),0,0);u.normalize();var g=h.normalize();r.equals(u)&&a.equals(g)&&s.equals(d)&&l.equals(p)?i&&i():v.from({animPos:o,animDir:r,animUp:a,animTarget:s,animFocal:l}).to({animPos:c,animDir:u,animUp:g,animTarget:d,animFocal:p},f).onUpdate(function(A){var e=A.animTarget;n.lookAtEx(e,A.animDir,A.animUp,A.animFocal.x),t&&t(e)}).onComplete(function(){n.lookAtEx(d,u,g,p.x),t&&t(d),i&&i(),e.getControlManager().setInteractiveState(!0),n.up.copy(ti.DefaultUp)}).start(m)},this.flyTo=this.slerpFlyTo,this.linearFlyTo=function(A,e,t,i){var n=e.camera,o=new Ue;o.copy(n.realUp||n.up),o.normalize();var r=n.target.clone(),a=n.position.clone(),s=(new Ue).set(A.position.x,A.position.y,A.position.z),l=(new Ue).set(A.target.x,A.target.y,A.target.z),c=(new Ue).set(A.up.x,A.up.y,A.up.z).normalize();a.equals(s)&&o.equals(c)&&r.equals(l)?i&&i():v.from({animPosition:a,animUp:o,animTarget:r}).to({animPosition:s,animUp:c,animTarget:l},f).onUpdate(function(A){var e=A.animTarget;n.lookAtEXForTargetPositionUp(e,A.animPosition,A.animUp),t&&t(e)}).onComplete(function(){n.lookAtEXForTargetPositionUp(l,s,c),t&&t(l),i&&i(),e.getControlManager().setInteractiveState(!0),n.up.copy(ti.DefaultUp)}).start(m,!0)}},Yu={ALT:18,CTRL:17,SHIFTLEFT:16,BACKSPACE:8,LEFT:37,UP:38,RIGHT:39,DOWN:40,A:65,D:68,E:69,Q:81,S:83,W:87,Z:90,PLUS:187,SUB:189,ZERO:48,ESC:27,TAB:9,NUMPADADD:107,NUMPADSUBTRACT:109,NUMPAD0:96},Ju={ReverseWheelDirection:!(Gu.worldToDrawing=function(A,e){var t=A.position.clone(),i=A.target.clone(),n=A.up.clone();return n.add(t),n.applyMatrix4(e),t.applyMatrix4(e),i.applyMatrix4(e),n.sub(t),n.normalize(),{position:t,target:i,up:n}}),MovementSpeedRate:1,WalkSpeedRate:1,RotatePivotMode:dh.MOUSEPOINT,NoPan:!1,NoRotate:!1,NoZoom:!1,NoKey:!1,LockAxisZ:!1},Zu={createCameraInfo:function(A){var e=A.camera,t=new Wu(A.getCameraName(),e.position,e.target,e.up);return JSON.stringify(t)},transformCamera:function(A,e){var t=new Ue,i=function(A){return[parseFloat(A[0]),parseFloat(A[1]),parseFloat(A[2])]};t.fromArray(i(A.position.split(",")));var n=new Ue;n.fromArray(i(A.direction.split(",")));var o=new Ue;o.fromArray(i(A.up.split(",")));var r=new Ue;r.addVectors(t,n),t.applyMatrix4(e.rootNode.matrix),r.applyMatrix4(e.rootNode.matrix);var a=new At;return a.makeRotationFromEuler(e.rootNode.rotation),o.applyMatrix4(a),o.normalize(),new Wu(A.name,t,r,o)},parseCameraInfo:function(A){if(!A)return null;var e=JSON.parse(A);if(!e.hasOwnProperty("position")||!e.hasOwnProperty("target")||!e.hasOwnProperty("up"))return null;var t=e.name||th.PERSPECTIVE,i=new Ue;i.x=e.position.x,i.y=e.position.y,i.z=e.position.z;var n=new Ue;n.x=e.target.x,n.y=e.target.y,n.z=e.target.z;var o=new Ue;return o.x=e.up.x,o.y=e.up.y,o.z=e.up.z,new Wu(t,i,n,o,void 0===e.version?0:e.version)},canvasToNormalized:function(A,e,t){var i={x:0,y:0,z:0};return i.x=A.x/e*2-1,i.y=-A.y/t*2+1,i.z=A.z||0,i},normalizedToCanvas:function(A,e,t){var i={x:0,y:0,z:0};return i.x=Math.floor(.5*(A.x+1)*e+.5),i.y=Math.floor(-.5*(A.y-1)*t+.5),i.z=A.z||0,i},drawingToCanvas:function(A,e,t,i){var n=new Ue(e.x,e.y,e.z);return n.project(A),this.normalizedToCanvas(n,t,i)},drawingPointsToCanvas:function(A,e,t,i,n){var o={},r=(new At).getInverse(A.matrixWorld),a=new Ue(e.x,e.y,e.z);a.applyMatrix4(r);var s=new Ue(t.x,t.y,t.z);if(s.applyMatrix4(r),0<a.z&&0<s.z)return null;var l=a.clone().sub(s);if(l.normalize(),0<a.z)a.sub(l.multiplyScalar((a.z+A.near)/l.z));else if(0<s.z){s.sub(l.multiplyScalar((s.z+A.near)/l.z))}return a.applyMatrix4(A.projectionMatrix),s.applyMatrix4(A.projectionMatrix),o.start=this.normalizedToCanvas(a,i,n),o.end=this.normalizedToCanvas(s,i,n),o},lineIntersectWithRect:function(A,e){if(A&&A.start.x===A.end.x&&A.start.y===A.end.y)return Gh.log("Invalid line."),null;var t,i=0;A.start.x!==A.end.x&&(i=(A.start.y-A.end.y)/(A.start.x-A.end.x));var n=[],o=e.min,r=e.max;return i*o.x+(t=A.start.y-i*A.start.x)<o.y||r.y<i*o.x+t||n.push(new Le(o.x,i*o.x+t)),i*r.x+t<o.y||r.y<i*r.x+t||n.push(new Le(r.x,i*r.x+t)),0===i&&(n.push(new Le(o.x,t)),n.push(new Le(r.x,t))),o.x<(o.y-t)/i&&(o.y-t)/i<r.x&&n.push(new Le((o.y-t)/i,o.y)),o.x<(r.y-t)/i&&(r.y-t)/i<r.x&&n.push(new Le((r.y-t)/i,r.y)),n},canvasToDrawing:function(A,e,t,i){var n=this.canvasToNormalized(e,t,i),o=new Ue(n.x,n.y,n.z);return o.unproject(A),{x:o.x,y:o.y,z:o.z}},intersectBoxByRay:function(A,e){var t=0,i=0,n=0,o=0,r=0,a=0,s=1/A.direction.x,l=1/A.direction.y,c=1/A.direction.z,d=A.origin;return i=s<0?(t=(e.max.x-d.x)*s,(e.min.x-d.x)*s):(t=(e.min.x-d.x)*s,(e.max.x-d.x)*s),(o=l<0?(n=(e.max.y-d.y)*l,(e.min.y-d.y)*l):(n=(e.min.y-d.y)*l,(e.max.y-d.y)*l))<t||i<n?null:((t<n||isNaN(t))&&(t=n),(o<i||isNaN(i))&&(i=o),(a=c<0?(r=(e.max.z-d.z)*c,(e.min.z-d.z)*c):(r=(e.min.z-d.z)*c,(e.max.z-d.z)*c))<t||i<r?null:((t<r||isNaN(t))&&(t=r),(a<i||isNaN(i))&&(i=a),i<0?null:t<0?i:t))},intersectObject:function(A,e,t,i){if(A.visible){A.raycast(e,t);if(!0===i&&A.children)for(var n=A.children,o=0,r=n.length;o<r;o+=1)Zu.intersectObject(n[o],e,t,!0)}},intersectObjectWithFrustum:(ju=new ni,function(A,e){if(!A.boundingBox||A instanceof ji){var t=A.geometry;null===t.boundingBox&&t.computeBoundingBox(),ju.copy(t.boundingBox)}else ju.copy(A.boundingBox);return ju.applyMatrix4(A.matrixWorld),e.intersectsBox(ju)})},$u=function(A,e,t,i){this.ray=new ri(A,e),this.near=t||0,this.far=i||1/0,this.params={Sprite:{},Mesh:{},Points:{threshold:1},LOD:{},Line:{}}};$u.prototype={constructor:$u,precision:1e-4,linePrecision:1,descSort:function(A,e){return A.distance-e.distance},set:function(A,e){this.ray.set(A,e)},setFromCamera:function(A,e){e instanceof Hu?e.isPerspective?(this.ray.origin.copy(e.position),this.ray.direction.set(A.x,A.y,.5).unproject(e).sub(e.position).normalize()):(this.ray.origin.set(A.x,A.y,-1).unproject(e),this.ray.direction.set(0,0,-1).transformDirection(e.matrixWorld)):e instanceof hn?(this.ray.origin.copy(e.position),this.ray.direction.set(A.x,A.y,.5).unproject(e).sub(e.position).normalize()):e instanceof Tl?(this.ray.origin.set(A.x,A.y,-1).unproject(e),this.ray.direction.set(0,0,-1).transformDirection(e.matrixWorld)):Gh.error("Raycaster: Unsupported camera type.")},intersectObject:function(A,e){var t=[];return Zu.intersectObject(A,this,t,e),t.sort(this.descSort),0<t.length?t[0]:null},intersectObjects:function(A,e){for(var t=[],i=0,n=A.length;i<n;i+=1)Zu.intersectObject(A[i],this,t,e);return t.sort(this.descSort),0<t.length?t[0]:null},intersectOctantForNode:function(A,n){var o=this,r=new ni;!function A(e){var t=null,i=null;if(r.set(e.min,e.max),o.ray.intersectBox(r)&&(n.push(e),e.childOctants))for(t=0,i=e.childOctants.length;t<i;t+=1)A(e.childOctants[t])}(A)}},ri.prototype.intersectBoxWithDistance=function(A){var e=null,t=null,i=null,n=null,o=null,r=null,a=1/this.direction.x,s=1/this.direction.y,l=1/this.direction.z,c=this.origin;if(e=a<0?(t=(A.max.x-c.x)*a,(A.min.x-c.x)*a):(t=(A.min.x-c.x)*a,(A.max.x-c.x)*a),(i=s<0?(n=(A.max.y-c.y)*s,(A.min.y-c.y)*s):(n=(A.min.y-c.y)*s,(A.max.y-c.y)*s))<t||e<n)return-1;if((t<n||isNaN(t))&&(t=n),(i<e||isNaN(e))&&(e=i),(o=l<0?(r=(A.max.z-c.z)*l,(A.min.z-c.z)*l):(r=(A.min.z-c.z)*l,(A.max.z-c.z)*l))<t||e<r)return-1;if((t<r||isNaN(t))&&(t=r),(o<e||isNaN(e))&&(e=o),e<0)return-1;if(t<0)return 0;var d=new Ue;this.at(t<0?e:t,d);var h=d.x-c.x,u=d.y-c.y,p=d.z-c.z;return Math.sqrt(h*h+u*u+p*p)};var Ap={MODEL:"Model",GEOMETRY:"Geometry",LINESEGMENTS:"LineSegments",INSTANCEGEOMETRY:"InstanceGeometry",INSTANCEWIREFRAMEGEOMETRY:"InstanceWireframeGeometry",WIREFRAME:"Wireframe",MARKER3D:"Marker3D",CLIPPLANE:"ClipPlane",FILLCLIPPLANE:"FillClipPlane",IBLCUBE:"IBLCube",CUSTOMPLANE:"CustomPlane",PIVOTBALL:"PivotBall",MEASUREPICKPOINT:"MeasurePickPoint",MEASUREPICKLINE:"MeasurePickLine",MEASUREPLANE:"MeasurePlane",MEASURELINE:"MeasureLine",OCTREENODE:"OctreeNode",AREANODE:"AreaNode",AXISGRIDMANAGER:"AxisGridManager",EXTRUDEBODYMANAGER:"ExtrudeBodyManager"},ep=function(){this.scene=null,this.camera=null,this.octreeRoots=null,this.octantMap=null,this.mouse=new Le},tp=function(A){this.raycaster=new $u,this.viewer=A,this.filter=A.filter,this.recursive=!0,this.lastIntersect=null};tp.prototype.destroy=function(){this.raycaster=null,this.lastIntersect=null},tp.prototype.defaultIntersect=function(A,e,t){if(A.visible){for(var i=[],n=0,o=A.children.length;n<o;n+=1){A.children[n].raycast(this.raycaster,i)}var r=[];if(0<i.length)for(var a=0;a<i.length;a+=1)t.far<i[a].distance||i[a].distance<t.near||this.viewer.clipPoint(i[a].point)||r.push(i[a]);return r.sort(function(A,e){return A.distance-e.distance}),0<r.length?r[0]:null}},tp.prototype.intersectMeshesWithDistance=function(A,e,t,i,n,o,r){var a=null,s=0,l=this.raycaster,c=[],d=[];if(o&&r&&!r.explosioning){var h=[],u=new At;u.getInverse(r.getModelMatrix());var p=l.ray.clone().applyMatrix4(u);if(Array.isArray(o))for(var g=0;g<o.length;g+=1){o[g].intersect(p,h)}else o.intersect(p,h);d=kh.unique(h)}else d=r.getComponentlist();r&&r.manager&&0<r.manager.explosionList.length&&(d=d.concat(r.manager.explosionList),d=kh.unique(d));var f=this.filter,m=f._hasVisibleFilter(),v=f._hasSelectableFilter(),y=function(A){return m&&!f._isVisible(A)||v&&!f._isSelectable(A)},C=function(A){return m&&!f._isVisible(A)};if(!0===this.byGravity?n.near=0:n.near+=-1e-6,r&&r.merged)for(var I=0,x=d.length;I<x;I+=1){var b=t.info[d[I]];if(b)for(var E=0,w=b.length;E<w;E+=1){var M=b[E],B=M.materialId,_=M.uv?"1":"0";if(i){if(y(M))continue}else if(C(M))continue;if(M.instanceOrNot){if(!(t.instance&&t.instance[M.geometryId]&&t.instance[M.geometryId][M.materialId]))continue;for(var S=t.instance[M.geometryId][M.materialId],T=0,K=S.length;T<K;T+=1){(s=(a=S[T]).intersectBoxWithDistance(l,M.matrix))<n.near||n.far<s||c.push({object:a,distance:s,matrix:M.matrix,userId:M.userId}),a=null}}else{if(!(t.mesh&&t.mesh[B]&&t.mesh[B][_]))continue;for(var F=t.mesh[B][_],L=0,O=F.length;L<O;L+=1){if((a=F[L])._indicesGroup){var U=a._indicesGroup[M.userId];if(U)for(var N=0,R=U.length;N<R;N+=1){(G=U[N]).nodeId===M.nodeId&&((s=a.intersectBoxWithDistanceByIndices(l,G))<n.near||n.far<s||c.push({object:a,distance:s,indexInfo:G}))}}else(s=a.intersectBoxWithDistance(l))<n.near||n.far<s||c.push({object:a,distance:s})}}}}else if(t){var P=t.mesh;if(P)for(var D in P)if(P.hasOwnProperty(D)){var Q=P[D];if(Q){if(i){if(y({userId:D}))continue}else if(C({userId:D}))continue;(s=Q.intersectBoxWithDistance(l))<n.near||n.far<s||c.push({object:Q,distance:s})}}}c.sort(function(A,e){return A.distance-e.distance});for(var k=[],z=[],V=n.far,H=0;H<c.length;H+=1)if(c[H].distance<=V&&n.near<=c[H].distance){a=c[H].object,k=[];var G,j=c[H].matrix;if((G=c[H].indexInfo)?a.raycastByIndices(l,k,G):j?a.raycastByIndices(l,k,null,j):a.raycast(l,k),0<k.length){k.sort(function(A,e){return A.distance-e.distance});for(var W=0,q=k.length;W<q;W+=1)if(k[W].distance<V&&n.near<k[W].distance&&!this.viewer.clipPoint(k[W].point)){V=k[W].distance- -1e-6,G?(k[W].userId=G.userId,k[W].indexInfo=G):j&&(k[W].userId=c[H].userId,k[W].matrix=c[H].matrix),z.push(k[W]);break}}}return z.sort(function(A,e){return A.distance-e.distance}),0<z.length?z[0]:null},tp.prototype.intersect=function(A,e,t,i){var n=this.raycaster;null===e?n.setFromCamera(A.mouse,A.camera):n.set(e.origin,e.direction);Gh.time("intersect time"),n.camera=A.camera,n._camera=A.camera,n.viewportSize=A.viewportSize;for(var o={near:A.camera.near,far:A.camera.far},r=null,a=[],s=A.scene.getGroups(),l=0;l<s.length;l+=1)if(s[l].isPickable()){var c=s[l].name.split("|"),d=1<c.length?c[1]:void 0;switch(c[0]){case Ap.MODEL:var h=this.viewer.modelManager.getModel(d);r=h&&h.isDataReady()&&h.isVisible()?this.intersectMeshesWithDistance(null,[],A.octantMap[d],t,o,h.kdTreeNode,h):null;break;case Ap.GEOMETRY:r=Ah.MergeComponent?null:this.intersectMeshesWithDistance(A.scene.pool,A.octantMap[d],A.octantMap,t,o);break;default:r=this.defaultIntersect(s[l],t,o)}r&&(r.objectType=s[l].pickableType,r.hoverEnabled=s[l].hoverEnabled,a.push(r))}a.sort(function(A,e){return A.distance-e.distance}),Gh.timeEnd("intersect time");var u=a.length;if(0<u){a.sort(function(A,e){return A.distance-e.distance});for(var p=0;p<u;p+=1){var g=(r=a[p]).object;if(g.geometry)return r.userId=r.userId||g.key,r.modelKey=g.modelKey,this.lastIntersect=r}}return this.lastIntersect={intersect:r,pickable:t},null},tp.prototype.hitTest=function(A){var e=this.intersect(A,null,!1);return null!==e?e.point:null},tp.prototype.pick=function(A,e){var t=this.intersect(A,null,!0);return e&&e(t),t},tp.prototype.getIntersectByRay=function(A,e){return this.intersect(A,e,!0)};var ip=function(){this.condition=[{type:"IfcWall"},{type:"IfcRoof"},{type:"IfcWallStandardCase"},{type:"IfcDoor"},{type:"墙"},{type:"门"}],this.distance=150};ip.prototype.setCondition=function(A){Array.isArray(A)&&(this.condition=A)},ip.prototype.getCondition=function(){return this.condition},ip.prototype.getDistance=function(){return this.distance},ip.prototype.matchConditions=function(A){var e=this.condition;if(0===e.length)return!1;for(var t=!0,i=0,n=e.length;i<n;i+=1){var o=e[i];for(var r in o)if(!A.hasOwnProperty(r)||A[r]!==o[r]){t=!1;break}if(!0===t)break;i<e.length-1&&(t=!0)}return t},ip.prototype.hasCollision=function(A,e){return!!A&&(this.matchConditions(A)&&e<=this.distance)};var np=function(A,e,t,i){this.viewer=A,this.camera=e,this.domElement=t,this.scene=A.getScene(),this.intersector=new tp(A),this.enabled=!0,this.tempVector3=new Ue,this.pivot=null,this.movementSpeed=8e-4*Ah.SceneSize,this.defaultMovementSpeed=this.movementSpeed,this.minMovementSpeed=.01,this.noZoom=!1,this.zoomSpeed=.2,this.minDistance=.1,this.maxDistance=e.far-2*Ah.SceneSize,this.defaultThroughOutDistance=.1,this.noRotate=!1,this.rotateSpeed=1,this.noPan=!1,this.keyPanSpeed=2,this.defaultKeyPanSpeed=this.keyPanSpeed,this.minKeyPanSpeed=.01,this.autoRotate=!0,this.autoRotateSpeed=2,this.minDistance=0,this.maxDistance=1/0,this.minZoom=0,this.maxZoom=1/0,this.enablePolar=!1,this.minPolarAngle=0,this.maxPolarAngle=Math.PI,this.minAzimuthAngle=-1/0,this.maxAzimuthAngle=1/0,this.enableDamping=!1,this.dampingFactor=.25,this.enableZoom=!0,this.zoomSpeed=1,this.enableRotate=!0,this.rotateSpeed=1,this.enablePan=!0,this.enablePassThrough=!0,this.isDisableRotate=!1,this.noKeys=!1;var d,h,u,l,c,n,o,x=this,b=1e-6,E=new Ue(0,0,1),r=new Ue,a=new Oe,p=null,s=!1;function w(){return null!==x.pivot?x.pivot:x.scene.getBoundingBox().getCenter(new Ue)}function g(A,e,t,i){var n=new At;n.getInverse(e);var o=new Ue(A.position.x,A.position.y,A.position.z),r=o.clone();r.applyMatrix4(n);var a=new Ue(t.x,t.y,t.z);return a.add(o),a.applyMatrix4(n),a.sub(r).normalize().multiplyScalar(i),a.add(r),a.applyMatrix4(e),a.sub(o),a}this.collisionManager=new ip,this.pivotBallGroup=null,this.minDollyDistance=10,this.gravity=0,this.destroy=function(){this.viewer=null,this.camera=null,this.domElement=null,this.scene=null,this.intersector.destroy(),this.intersector=null,this.collisionManager=null,this.pivotBallGroup=null,this.minDollyDistance=.7},this.isCameraChanging=function(){return s},this.setCameraChanging=function(A){s=A},this.setCamera=function(A){this.camera=A},this.getCamera=function(){return this.camera.updateMVP(),this.camera},this.dirtyCamera=function(A){this.camera.dirty=A},this.getFrustum=function(){return this.camera.getFrustum()},this.lockAxisZ=function(A){Ju.LockAxisZ=A},this.isLockedAxisZ=function(){return Ju.LockAxisZ},this.getClientSize=function(){var A=x.domElement===document?x.domElement.body:x.domElement;return new Le(A.clientWidth,A.clientHeight)},this.delayHandle=function(){this.timeoutId&&clearTimeout(this.timeoutId),this.timeoutId=setTimeout(function(){x.update(!0,!0)},200),this.needUpdateRenderList(!1)},this.processRotate=function(A,e){var t=this.getClientSize(),i=-2*Math.PI*A.x/t.x,n=-2*Math.PI*A.y/t.y;x.handleRotation(i,n,e)},this.handleRotation=function(A,e,o){var r=this.camera,a=r.position,t=r.target.clone(),s=r.getWorldDirection(t),l=t.clone().sub(a).length(),i=null,n=function(A){var e=null,t=null,i=null,n=new Ue;o&&(t=(e=a.clone().sub(o)).length(),e.normalize(),i=e.clone().applyQuaternion(A).normalize(),r.position.copy(o).add(i.multiplyScalar(t))),s.applyQuaternion(A).normalize(),n.copy(a).add(s.multiplyScalar(l)),r.target.copy(n)},c=r.realUp||r.up,d=s.clone().cross(c).normalize().clone().cross(s).normalize();r.realUp.copy(d);var h=null;if(Ju.LockAxisZ)Math.abs(A)>Math.abs(e)&&(h=E,n(i=(new Oe).setFromAxisAngle(h,A)),r.realUp.applyQuaternion(i).normalize());else if(Math.abs(A)<Math.abs(e)){if(1e-4<Math.abs(e))if(h=s.clone().cross(c).normalize(),this.enablePolar){var u=s.clone().angleTo(new Ue(0,0,1))-e,p=!0;u<this.minPolarAngle&&0<e&&(this.dirtyCamera(!1),p=!1),this.maxPolarAngle<u&&e<0&&(this.dirtyCamera(!1),p=!1),p&&(n(i=(new Oe).setFromAxisAngle(h,e)),r.realUp.applyQuaternion(i).normalize()),u=null}else n(i=(new Oe).setFromAxisAngle(h,e)),r.realUp.applyQuaternion(i).normalize(),this.adjustCameraUp()}else h=r.up.clone().normalize(),n(i=(new Oe).setFromAxisAngle(h,A)),r.realUp.applyQuaternion(i).normalize();this.dirtyCamera(!0),this.setCameraChanging(!0)},this.enabledPolar=function(A){this.enablePolar=A},this.setMinPolarAngle=function(A){"number"==typeof A&&(this.minPolarAngle=A)},this.setMaxPolarAngle=function(A){"number"==typeof A&&(this.maxPolarAngle=A)},this.getMinPolarAngle=function(){return this.minPolarAngle},this.getMaxPolarAngle=function(){return this.maxPolarAngle},this.adjustCameraForPan=function(A){var e=this.camera;e.target.add(A),e.position.add(A),this.dirtyCamera(!0),this.setCameraChanging(!0)},this.updateCamera=function(){var A=this.camera;A.dirty&&(A.lookAt(A.target),A.updateMVP())},this.update=function(A,e){this.updateCamera(),this.dispatchEvent({type:lh.ON_CAMERA_CHANGE,camera:this.camera});var t=this.camera;A?(void 0!==e&&this.needUpdateRenderList(e),i(),r.copy(t.position),a.copy(t.quaternion)):(r.distanceToSquared(t.position)>b||8*(1-a.dot(t.quaternion))>b)&&(i(),r.copy(t.position),a.copy(t.quaternion))},this.updateView=function(A){void 0!==A&&this.needUpdateRenderList(A),this.dispatchEvent({type:lh.ON_CAMERA_CHANGE,camera:this.camera}),i()},this.updateHighlight=function(){this.dispatchEvent({type:lh.ON_CAMERA_CHANGE,camera:this.camera}),i(!0)},this.needUpdateRenderList=function(A){this.viewer.controlManager.isUpdateRenderList=A},this.pan=function(A,e){var t=x.domElement===document?x.domElement.body:x.domElement,i=new Ue;function n(A){var e=x.camera.matrix.elements;i.set(e[0],e[1],e[2]),i.multiplyScalar(-A),x.camera.target.add(i),x.camera.position.add(i)}function o(A){var e=x.camera.matrix.elements;i.set(e[4],e[5],e[6]),i.multiplyScalar(A),x.camera.target.add(i),x.camera.position.add(i)}if(x.camera.isPerspective){var r=x.camera.position.clone().sub(x.camera.target).length();n(2*A*(r*=Math.tan(x.camera.fov/2*Math.PI/180))/t.clientHeight),o(2*e*r/t.clientHeight)}else void 0!==x.camera.top?(n(A*(x.camera.right-x.camera.left)/t.clientWidth),o(e*(x.camera.top-x.camera.bottom)/t.clientHeight)):Gh.warn("WARNING: CloudPickEditor.js encountered an unknown camera type - pan disabled.");this.dirtyCamera(!0),this.setCameraChanging(!0)},this.panOnWorld=(d=new Ue,h=new Ue,u=new Ue,function(A,e,t,i){var n=x.getContainerDimensions(),o=A.x-n.left,r=A.y-n.top;d.x=o/n.width,d.y=r/n.height,r=e.y-n.top,h.x=(o=e.x-n.left)/n.width,h.y=r/n.height,u.subVectors(h,d);var a=-u.x*i.x,s=u.y*i.y,l=x.getWorldRight().multiplyScalar(a),c=x.getWorldUp().multiplyScalar(s);t.addVectors(l,c),x.dirtyCamera(!0),x.setCameraChanging(!0)}),this.adjustCameraForDolly=function(A,e){var t=A-1;if(Math.abs(t)<b)return!1;var i=this.camera,n=i.position,o=this.getWorldEye(),r=new Ue;e?r.subVectors(e,n):r.copy(o),r.multiplyScalar(t);var a=r.length();i.isPerspective?a<this.minDollyDistance&&r.normalize().multiplyScalar(this.minDollyDistance):(i.orthoScale*=A,i.setZoom(i.orthoScale));var s=new Ue;s.addVectors(n,r),i.position.copy(s),i.target.copy(o.add(s)),this.dirtyCamera(!0),this.setCameraChanging(!0)},this.dolly=function(A,e,t){var i=new Le(A,e),n=this.getIntersectContext(i),o=this.intersector.hitTest(n);this.adjustCameraForDolly(t,null!==o?o:null)},this.dollyByPoint=function(A,e,t){var i=this.getTrackingPoint(A,e);this.adjustCameraForDolly(t,i)},this.endOperation=function(){this.intersector.lastIntersect=null},this.zoom=function(A,e,t){var i=0;i=0<A?1/(1-A):1+A,void 0===e||void 0===t?this.adjustCameraForDolly(i,null):this.dollyByPoint(e,t,i),this.update()},this.getContainerDimensions=function(){return jh.getDomOffsetToClient(this.domElement)},this.computeFrustum=(l=new At,c=new At,function(A,e,t,i,n,o){var r=this.camera,a=r.near*Math.tan(Fe.degToRad(.5*r.fov)),s=a*r.aspect;l.makePerspective(((A-o.left)/o.width*2-1)*s,((e-o.left)/o.width*2-1)*s,(-(t-o.top)/o.height*2+1)*a,(-(i-o.top)/o.height*2+1)*a,r.near,r.far),r.updateMatrixWorld(),r.matrixWorldInverse.getInverse(r.matrixWorld),c.multiplyMatrices(l,r.matrixWorldInverse),n.setFromMatrix(c)}),this.screenToCanvas=function(A,e){var t=this.getContainerDimensions();return{x:A-t.left,y:e-t.top}},this.mapScreenToLocal=function(A,e,t){var i=this.getContainerDimensions();t.set(A-i.left,i.height-(e-i.top))},this.mapWindowToViewport=function(A,e,t){var i=this.getContainerDimensions(),n=t||new Le;return n.x=(A-i.left)/i.width*2-1,n.y=-(e-i.top)/i.height*2+1,n},this.getCameraName=function(){return this.camera===this.viewer.defaultCamera?this.camera.isPerspective?th.PERSPECTIVE:th.ORTHOGRAPHIC:this.camera.name},this.getCameraInfo=function(){var A=new Wu(this.getCameraName(),this.camera.position,this.camera.target,this.camera.up);return JSON.stringify(A)},this.isKeepZoom=function(A,e,t){this.dirtyCamera(!0),this.setCameraChanging(!0),void 0===e&&(e=this.minDistance),void 0===t&&(t=this.maxDistance);var i=this.camera.position,n=this.camera.target,o=new Ue;o.copy(i).sub(n);var r=o.length()*(2-A);return!(r<e||t<r)},this.computeRotation=function(){var A=new At;A.lookAt(this.camera.position,this.camera.target,this.camera.up);var e=new Oe;e.setFromRotationMatrix(A);var t=new et;return t.setFromQuaternion(e,void 0,!1),t},this.adjustCameraUp=function(){0<this.camera.realUp.z?this.camera.up=new Ue(0,0,1):this.camera.realUp.z<0?this.camera.up=new Ue(0,0,-1):0<this.camera.realUp.x?this.camera.up=new Ue(1,0,0):this.camera.realUp.x<0?this.camera.up=new Ue(-1,0,0):0<this.camera.realUp.y?this.camera.up=new Ue(0,1,0):this.camera.realUp.y<0&&(this.camera.up=new Ue(0,-1,0))},this.getWorldEye=function(){return this.camera.target.clone().sub(this.camera.position)},this.getWorldRight=function(){var A=new Ue,e=this.camera.up,t=this.getWorldEye();return A.crossVectors(t,e),0===A.lengthSq()&&(e.y<e.z?t.y-=1e-4:t.z+=1e-4,A.crossVectors(t,e)),A.normalize()},this.getWorldRightByRealUp=function(){var A=new Ue,e=this.camera.realUp,t=this.getWorldEye();return A.crossVectors(t,e),0===A.lengthSq()&&(e.y<e.z?t.y-=1e-4:t.z+=1e-4,A.crossVectors(t,e)),A.normalize()},this.getWorldUp=function(){var A=this.getWorldRight(),e=this.getWorldEye();return A.cross(e).normalize()},this.getWorldDimension=function(A,e){var t=this.camera.position,i=this.getWorldEye().normalize(),n=this.getTrackingPoint(A,e).clone().sub(t),o=Math.abs(i.dot(n)),r=this.getContainerDimensions(),a=r.width/r.height,s=2*o*Math.tan(Fe.degToRad(.5*this.camera.fov));return new Le(s*a,s)},this.getWorldPointFromNearPlane=function(A,e){var t=new Ue(A,e,0);return t.unproject(this.camera),t},this.getTrackingPoint=function(A,e){var t=new Le(A,e),i=this.getIntersectContext(t),n=this.intersector.hitTest(i),o=this.camera.position;if(!n){var r=i.mouse,a=this.getWorldEye(),s=a.clone().normalize(),l=this.getWorldPointFromNearPlane(r.x,r.y),c=new ri;if(this.camera.isPerspective)c.origin.copy(o),c.direction.copy(l.clone().sub(o).normalize());else{var d=l.clone();d.sub(a),c.origin.copy(d),c.direction.copy(s)}if(p){var h=new En;if(h.setFromNormalAndCoplanarPoint(s,p),n=c.intersectPlane(h,new Ue))n.distanceTo(o)<b&&(n=this.getTrackingPointFromBoundingBox(s,c));else n=this.getTrackingPointFromBoundingBox(s,c)}else n=this.getTrackingPointFromBoundingBox(s,c);n||(Gh.log("tracking point is default!"),n=l)}return o.equals(n)&&(n=null),p=n&&n.clone(),n},this.getTrackingPointFromBoundingBox=function(A,e){return this.viewer.getScene().getTrackingPointFromBoundingBox(A,e)},this.setCameraPosition=function(A){var e=this.camera,t=this.getWorldEye(),i=t.length(),n=t.clone();n.normalize(),n.setLength(i),e.position.copy(A),e.target.addVectors(e.position,n),this.dirtyCamera(!0),this.setCameraChanging(!0)},this.moveStraight=function(A,e){var t=this.camera.position,i=this.camera.target;if(e){var n=new Ue(i.x-t.x,0,i.z-t.z),o=A/n.length(),r=new Ue(n.x*o,0,n.z*o);t.add(r),i.add(r)}else{var a=i.clone().sub(t);this.camera.translateZ(-A),i.addVectors(t,a)}this.dirtyCamera(!0),this.setCameraChanging(!0)},this.getIntersectContext=function(A){var e=new ep;return e.scene=x.viewer.getScene(),e.camera=this.camera,null!==A&&this.mapWindowToViewport(A.x,A.y,e.mouse),e.viewportSize=x.viewer.renderer.getSize(new Le),e.octantMap=x.viewer.modelManager.octantToObjectMap,e},this.getLastIntersect=function(){return this.intersector.lastIntersect},this.calculatePivot=function(A,e){var r=this,a=this.viewer,s=a.getScene(),t=null;function i(A){var e=r.getIntersectContext(A),t=r.intersector.hitTest(e);if(t)return t;var i=a.getFilter().getVisibleComponentsBbox().clone();if(i.isEmpty()&&(i=s.getBoundingBox()),i.applyMatrix4(s.getMatrixGlobal()),s.hasClipPlanes()&&s.getClipPlanes().isEnabled()){var n=s.getClipPlanes().getClipBoundingBox();i.intersect(n)}else if(s.hasFillClipPlanes()&&s.getFillClipPlane().isEnabled()){var o=s.getFillClipPlane().getFillClipBoundingBox();i.intersect(o)}return i.getCenter(new Ue)}var n=null,o=null;switch(A){case dh.SELECTION:if(s.hasClipPlanes()&&s.getClipPlanes().isEnabled()&&(n=s.getClipPlanes().getClipBoundingBox())&&!n.isEmpty()&&s.getClipPlanes().isVisible()){t=n.getCenter();break}s.hasFillClipPlanes()&&s.getFillClipPlane().isEnabled()&&(o=s.getFillClipPlane().getFillClipBoundingBox());var l=function(A,e){for(var t={},i=e.getFilter(),n=Object.keys(A),o=0;o<n.length;o+=1)i._isVisible({userId:n[o]})&&(t[n[o]]=!0);return t}(a.modelManager.sceneState.getSelectionSet(),a),c=a.getBoundingBoxByIds(l);t=zh.isMobileDevice()?i(e):!c||c.isEmpty()?i(e):(n?c.intersect(n):o&&c.intersect(o),c.getCenter(new Ue));break;case dh.CENTER:t=s.getBoundingBoxWorld().getCenter(new Ue);break;case dh.CAMERA:t=null;break;default:t=i(e)}return this.dirtyCamera(!0),this.setCameraChanging(!0),this.pivot=t},this.touchUpdateRotationInPersonView=function(A,e){this.dirtyCamera(!0),this.setCameraChanging(!0);var t=this,i=this.camera.position,n=this.camera.target.clone().sub(i).length(),o=this.camera.getWorldDirection(new Ue),r=this.camera.realUp||this.camera.up,a=o.clone().cross(r).normalize(),s=a.clone().cross(o).normalize();this.camera.realUp.copy(s);var l=null,c=null;if(Math.abs(A)>Math.abs(e))l=E,c=A;else if(!Ju.LockAxisZ){l=a;var d=new Ue(0,0,1).clone().cross(r),h=d.dot(a),u=Math.asin(d.length());h<0&&(u=-u),u+e>Math.PI/4-b?e=Math.PI/4-b-u:u+e<-Math.PI/4+b&&(e=-Math.PI/4+b-u),c=e}var p,g,f=(new Oe).setFromAxisAngle(l,c);p=f,g=new Ue,o.applyQuaternion(p).normalize(),g.copy(i).add(o.multiplyScalar(n)),t.camera.target.copy(g),this.camera.realUp.applyQuaternion(f).normalize()},this.touchUpdateRotationInModelView=function(A,e,t){this.dirtyCamera(!0),this.setCameraChanging(!0);var i=t||this.scene.getBoundingBox().getCenter(new Ue),n=this.camera.position,o=this.camera.target.clone().sub(n).length(),r=n.clone().sub(i),a=r.length(),s=null,l=this.camera.getWorldDirection(new Ue);r.normalize();var c=function(A){var e=new Ue,t=r.clone().applyQuaternion(A).normalize();n.copy(i).add(t.multiplyScalar(a)),l.applyQuaternion(A).normalize(),e.copy(n).add(l.multiplyScalar(o)),x.camera.target.copy(e)},d=this.camera.realUp||this.camera.up,h=l.clone().cross(d).normalize(),u=h.clone().cross(l).normalize();this.camera.realUp.copy(u);var p=null;if(Ju.LockAxisZ)Math.abs(A)>Math.abs(e)&&(p=E,c(s=(new Oe).setFromAxisAngle(p,A)),this.camera.realUp.applyQuaternion(s).normalize());else if(Math.abs(A)>Math.abs(e))p=this.camera.up.clone().normalize(),c(s=(new Oe).setFromAxisAngle(p,A)),this.camera.realUp.applyQuaternion(s).normalize();else if(.01<Math.abs(e)){p=l.clone().cross(d).normalize();var g=new Ue(0,1,0).clone().cross(d),f=g.dot(h),m=Math.asin(g.length());f<0&&(m=-m),m+e>Math.PI/2-b?e=Math.PI/2-b-m:m+e<-Math.PI/2+b&&(e=-Math.PI/2+b-m),c(s=(new Oe).setFromAxisAngle(p,e)),this.camera.realUp.applyQuaternion(s).normalize(),this.adjustCameraUp()}this.pivotBallGroup||function(){x.pivotBallGroup=x.scene.getOrCreateGroup(Ap.PIVOTBALL,{priority:10,globalSpace:!1});var A=new ts(15,64,64),e=new ji(A,new xs({color:16777215,depthTest:!1,opacity:.5,transparent:!0})),t=new ji(A=new ts(1,64,64),new xs({color:16711680,depthTest:!1,opacity:.5,transparent:!0}));x.pivotBallGroup.add(e),x.pivotBallGroup.add(t)}(),this.pivotBallGroup.visible=!0;for(var v=function(){var A=x.camera,e=A.position,t=x.camera.target.clone().sub(e);t.normalize();var i=new En;i.setFromNormalAndCoplanarPoint(t.clone().negate(),w()),i.normalize();var n=i.distanceToPoint(e)*Math.tan(.5*A.fov),o=x.getContainerDimensions();return 2*n/(o.height-o.top)}(),y=w(),C=0;C<this.pivotBallGroup.children.length;C+=1){var I=this.pivotBallGroup.children[C];I.position.copy(y),I.scale.set(v,v,v),I.updateMatrixWorld()}},this.touchUpdateRotation=function(A,e){var t=this.camera.position;this.scene.getBoundingBox().containsPoint(t)?this.touchUpdateRotationInPersonView(A,e):this.touchUpdateRotationInModelView(A,e,w())},this.clearTouchRotateState=function(){this.pivotBallGroup&&(this.pivotBallGroup.visible=!1)},this.touchEndHandler=function(){this.viewer.controlManager.cameraChange=!1,this.clearTouchRotateState(),this.touchUpdate()},this._adjustCameraForDolly=function(A,e){var t=e-1;if(Math.abs(t)<b)return!1;var i=this.camera,n=i.position,o=this.getWorldEye(),r=new Ue;A?r.subVectors(A,n):r.copy(o),r.multiplyScalar(t);var a=r.length();i.isPerspective&&a<this.minDollyDistance&&r.normalize().multiplyScalar(this.minDollyDistance);var s=new Ue;return s.addVectors(n,r),i.isPerspective||(i.orthoScale*=e,i.setZoom(i.orthoScale)),i.position.copy(s),i.target.copy(o.add(s)),this.dirtyCamera(!0),this.setCameraChanging(!0),!0},this.touchDolly=function(A,e,t){var i=new Le(A,e),n=this.getIntersectContext(i),o=this.intersector.hitTest(n);this._adjustCameraForDolly(null!==o?o:null,t)},this.touchUpdate=(n=new Ue,o=new Oe,function(){var A=new Ue;A.copy(x.camera.up),x.camera.up.copy(x.camera.realUp),x.camera.lookAt(x.camera.target),x.camera.up.copy(A),x.camera.updateMVP(),(n.distanceToSquared(x.camera.position)>b||8*(1-o.dot(this.camera.quaternion))>b)&&(this.dispatchEvent({type:lh.ON_CAMERA_CHANGE,camera:this.camera}),i(),x.dirtyCamera(!1),n.copy(x.camera.position),o.copy(x.camera.quaternion))}),this.goTurnForWalk=function(A){var e=this.getCamera(),t=e.position,i=e.target,n=new Ue(i.x-t.x,i.y-t.y,0),o=Math.cos(A),r=Math.sin(A),a=new Ue(n.x*o-n.y*r,n.x*r+n.y*o,0);i.x=t.x+a.x,i.y=t.y+a.y,this.dirtyCamera(!0),this.setCameraChanging(!0)},this.goPitchForWalk=function(A){var e=this.getCamera(),t=e.position,i=e.target,n=i.x-t.x,o=i.y-t.y,r=new Ue(Math.sqrt(n*n+o*o),0,i.z-t.z),a=Math.cos(A),s=Math.sin(A),l=new Ue(r.x*a-r.z*s,0,r.x*s+r.z*a);i.z=t.z+l.z,this.dirtyCamera(!0),this.setCameraChanging(!0)},this.goUpDownForWalk=function(A){var e=this.getCamera(),t=e.position,i=e.target,n=new Ue(0,0,1),o=g(e,this.scene.getMatrixGlobal(),n,A);t.z+=o.z,i.z+=o.z,this.dirtyCamera(!0),this.setCameraChanging(!0)},this.stepCameraForWalk=function(A,e){var t=this.getCamera(),i=t.position,n=t.target,o=new Ue(n.x-i.x,n.y-i.y,0).normalize(),r=new Ue(0,0,1),a=o.clone().cross(r),s=this.scene.getMatrixGlobal(),l=null;switch(A){case yh.FORWARD:(l=g(t,s,o,e)).z=0;break;case yh.BACK:o.multiplyScalar(-1),(l=g(t,s,o,e)).z=0;break;case yh.LEFT:a.multiplyScalar(-1),(l=g(t,s,a,e)).z=0;break;case yh.RIGHT:(l=g(t,s,a,e)).z=0}i.add(l),n.add(l),this.dirtyCamera(!0),this.setCameraChanging(!0)},this.hitTestWithGround=function(){var A=this.getCamera(),e=A.up.clone().multiplyScalar(-1),t=new ri(A.position.clone(),e),i=this.getIntersectContext(null),n=this.intersector.byGravity;this.intersector.byGravity=!0;var o=this.intersector.intersect(i,t,!1);return this.intersector.byGravity=n,o},this.hitTestForward=function(A){var e=this.getCamera(),t=this.getWorldEye();t.normalize(),t=t.multiplyScalar(A);var i=new ri(e.position.clone(),t),n=this.getIntersectContext(null);return this.intersector.intersect(n,i,!1)},this.hitTestRight=function(A){var e=this.getCamera(),t=this.getWorldEye();t.normalize();var i=t.cross(e.up).normalize();i=i.multiplyScalar(A);var n=new ri(e.position.clone(),i),o=this.getIntersectContext(null);return this.intersector.intersect(o,n,!1)},this.computeGravity=function(){this.gravity=0;var A=this.hitTestWithGround();if(null===A){var e=this.scene.getMatrixGlobal(),t=new At;t.getInverse(e);var i=this.camera.position.clone();i.applyMatrix4(t),i.z=0,i.applyMatrix4(e),this.distanceToGround=Math.abs(this.camera.position.z-i.z),null!=this.hitNullCount&&0!=this.hitNullCount||(this.hitNullCount=1)}else this.hitNullCount=0;if(1!=this.hitNullCount)if(void 0===this.manHeight)this.computeManHeight();else{var n=A?A.distance-this.manHeight:this.distanceToGround-this.manHeight;if(n/=this.scene.getGlobalScaleFactor(),Math.abs(n)<.1)return 0;this.gravity=n}else this.gravity=0},this.computeManHeight=function(){if(!this.manHeight){var A=this.hitTestWithGround(),e=this.scene.getMatrixGlobal(),t=new At;if(t.getInverse(e),null!=A){var i=A.point.clone();i.applyMatrix4(t),i.z+=1650,i.applyMatrix4(e),this.manHeight=Math.abs(A.point.z-i.z)}else{var n=this.camera.position.clone();n.applyMatrix4(t),n.z=0;var o=n.clone();o.z+=1650,n.applyMatrix4(e),o.applyMatrix4(e),this.manHeight=Math.abs(o.z-n.z)}}},this.walkWithParallelEye=function(){var A=this.camera,e=this.getWorldEye().length(),t=this.scene.getBoundingBox().getCenter(new Ue),i=new Ue;i.subVectors(t,A.position);var n=i.length();i.z=0,i.normalize(),i.multiplyScalar(n),A.position.subVectors(t,i),A.target.addVectors(A.position,i.normalize().multiplyScalar(e));var o=new Ue(0,0,1);A.up.copy(o),A.realUp.copy(o),this.dirtyCamera(!0),this.setCameraChanging(!0),this.update(!0)},this.updateFlyMove=function(A,e){var t=this.camera;this.dirtyCamera(!0),this.setCameraChanging(!0);var i=yh;A&i.FORWARD&&t.translateZ(-e),A&i.BACK&&t.translateZ(e),A&i.LEFT&&t.translateX(-e),A&i.RIGHT&&t.translateX(e),A&i.UP&&t.translateY(e),A&i.DOWN&&t.translateY(-e),this.flyOnWorld()},this.flyOnWorld=function(){var A=this.camera,e=A.up.clone();A.realUp&&A.up.copy(A.realUp),A.lookAt(A.target),A.realUp&&A.up.copy(e),i(),this.dispatchEvent({type:lh.ON_CAMERA_CHANGE,camera:this.camera}),this.dirtyCamera(!1),r.copy(A.position),a.copy(A.quaternion)},this.rotateForFly=function(A,e,t,i){var n=this.camera,o=n.position,r=n.target,a=r.clone().sub(o),s=new Ue(0,1,0),l=n.realUp||n.up,c=a.clone().cross(l).normalize();if(this.dirtyCamera(!0),this.setCameraChanging(!0),Ju.LockAxisZ&&(e=0),0!==e){var d=(new Oe).setFromAxisAngle(c,-e),h=a.clone();h.applyQuaternion(d);var u=h.angleTo(s);(u-=.5*Math.PI)<t||i<u||a.applyQuaternion(d)}if(0!==A){var p=(new Oe).setFromAxisAngle(s,-A);a.applyQuaternion(p)}r.addVectors(o,a),this.flyOnWorld()},this.fitAndRotateBySelection=function(){var A=this.viewer;A.setPointRotateMode(dh.SELECTION),A.zoomToSelection()},this.flyToPointWithParallelEye=function(A){var e=this.getWorldEye(),t=e.length(),i=e.clone();i.y=0,i.normalize(),i.setLength(t);var n=new Ue(0,0,1);this.camera.up=n,this.camera.realUp=n.clone(),this.camera.position.copy(A),this.camera.target.addVectors(this.camera.position,i),this.update(!0)},this.flyToPoint=function(A){var e=this.getWorldEye();this.camera.position.copy(A),this.camera.target.addVectors(this.camera.position,e),this.update(!0)},this.setRoamingWalkAbsoluteHeight=function(A){},this.setCameraHeight=function(A,e){this.cameraAbsoluteHeightEnabled=!1,this.cameraRelativeHeight=e,void 0===this.cameraConstraintHeights?this.cameraConstraintHeights=[]:this.cameraConstraintHeights.length=0;for(var t=0,i=A.length;t<i;t+=1)this.cameraConstraintHeights[t]=A[t]},this.setCameraAbsoluteHeight=function(A){this.cameraAbsoluteHeightEnabled=!0,this.cameraAbsoluteHeight=A},this.updateCameraHeight=function(){var A=this.scene,e=this.getCamera(),t=A.drawingToWorld(e.position),i=t.z,n=null,o=null;if(this.cameraAbsoluteHeightEnabled)void 0===this.cameraAbsoluteHeight&&(this.cameraAbsoluteHeight=i),n=this.cameraAbsoluteHeight;else if(void 0===this.cameraConstraintHeights)n=i;else{var r=kh.findRange(this.cameraConstraintHeights,i);if(n=this.cameraConstraintHeights[r],n+=this.cameraRelativeHeight,r<this.cameraConstraintHeights.length-1){var a=this.cameraConstraintHeights[r+1];a<n&&(n=a)}}n!==i&&(o=A.worldToDrawing({x:t.x,y:t.y,z:n}),this.setCameraPosition(o))},this.getRaycaster=function(A,e){var t=new $u,i=new Le;return this.mapWindowToViewport(A,e,i),t.setFromCamera(i,this.camera),t},this.translateCameraForWalk=function(A,e){var t=this.collisionManager;if(0!==A.x){if(!1===Ah.EnableHitDetection)return void this.stepCameraForWalk(yh.RIGHT,A.x*e);var i=1;A.x<0&&(i=-1);var n=this.hitTestRight(i);if(n){var o=this.viewer.modelManager.getNodeInfosByUserId(n.userId);t.hasCollision({type:o?o[0].type:null},n.distance)||this.stepCameraForWalk(yh.RIGHT,A.x*e)}else this.stepCameraForWalk(yh.RIGHT,A.x*e)}if(0!==A.z)this.goUpDownForWalk(A.z*e*.5);else{var r=e;if(0!==this.gravity){var a=Math.abs(this.gravity);r=r<a?.2*a:a}0<this.gravity?this.goUpDownForWalk(-r):this.gravity<0&&this.goUpDownForWalk(r)}if(0!==A.y){if(!1===Ah.EnableHitDetection)return void this.stepCameraForWalk(yh.BACK,A.y*e);var s=1;0<A.y&&(s=-1);var l=this.hitTestForward(s);if(l){var c=this.viewer.modelManager.getNodeInfosByUserId(l.userId);t.hasCollision({type:c?c[0].type:null},l.distance)||this.stepCameraForWalk(yh.BACK,A.y*e)}else this.stepCameraForWalk(yh.BACK,A.y*e)}},this.rotateCameraForWalk=function(A,e){0!==A.z&&(this.goTurnForWalk(-A.z*Math.PI*e),A.z=0),0!==A.x&&(this.goPitchForWalk(A.x*Math.PI),A.x=0)},this.zoomCameraForWalk=function(A){this.adjustCameraForDolly(A,null)},this.movePlane=function(A,e,t,i,n){if(void 0===n){var o=new En;o.setComponents(A.x,A.y,A.z,A.w),n=new Ue,o.coplanarPoint(n)}var r=new Ue(A.x,A.y,A.z),a=this.camera.getWorldDirection(new Ue),s=new En;s.setFromNormalAndCoplanarPoint(a,n);var l=this.getRaycaster(e.clientX,e.clientY),c=new Ue,d=this.getRaycaster(t.x,t.y),h=new Ue;if(l.ray.intersectPlane(s,c)&&d.ray.intersectPlane(s,h)){c.subVectors(c,h),c.projectOnVector(r);var u=c.length();if(c.dot(r)<0&&(u=-u),0!==u)return i&&(r.multiplyScalar(u),u=r.x+r.y+r.z),u}return null}};Object.assign(np.prototype,ou.prototype);var op=function(A,e){ti.call(this);var t={priority:5,pickableType:sh.UnPickable,globalSpace:!1,hoverEnabled:!1};this.name=A;var i=kh.extend({},t,e);this.priority=i.priority,this.pickableType=i.pickableType,this.globalSpace=i.globalSpace,this.boundingBox=null,this.hoverEnabled=i.hoverEnabled};(op.prototype=Object.create(ti.prototype)).constructor=op,Object.assign(op,ou),op.prototype.removeByName=function(A){for(var e=this.children,t=0,i=e.length;t<i;t+=1)if(e[t].name===A){e.splice(t,1);break}},op.prototype.clear=function(){this.children.length=0},op.prototype.isGlobalSpace=function(){return this.globalSpace},op.prototype.hasChild=function(A){for(var e=0,t=this.children.length;e<t;e+=1)if(this.children[e].name===A)return!0;return!1},op.prototype.isPickable=function(){return this.pickableType!==sh.UnPickable};var rp=function(A){cn.call(this),this.type="PhoneLightingMaterial",this.color=new hi(16777215),this.specular=new hi(1118481),this.shininess=30,this.emissive=new hi(0),this.map=null,this.defines={},this.uniforms=an.merge([Bn.common,Bn.lights,{diffuse:{value:new hi(16711680)},opacity:{value:1},specular:{value:new hi(1118481)},shininess:{value:30},emissive:{value:new hi(0)}}]),this.vertexShader=["varying vec3 vViewPosition;","varying vec3 vNormal;","#include <uv_pars_vertex>","void main() {","   #include <uv_vertex>","   #include <begin_vertex>","   #include <project_vertex>","   #include <beginnormal_vertex>","   #include <defaultnormal_vertex>","   vNormal = normalize( transformedNormal );","   vViewPosition = - mvPosition.xyz;","}"].join("\n"),this.fragmentShader=["uniform vec3 diffuse;","uniform float opacity;","uniform vec3 specular;","uniform float shininess;","uniform vec3 emissive;","#include <common>","#include <uv_pars_fragment>","#include <map_pars_fragment>","#include <packing>","#include <bsdfs>","#include <lights_pars>","#include <lights_phong_pars_fragment>","#include <specularmap_pars_fragment>","void main() {","   vec4 diffuseColor = vec4( diffuse, opacity );","#ifdef USE_MAP","   vec4 texelColor = texture2D( map, vUv );","   texelColor = mapTexelToLinear( texelColor );","   diffuseColor = vec4(texelColor.rgb, opacity);","#endif","   ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );","   vec3 totalEmissiveRadiance = emissive;","   float specularStrength = 1.0;","   #include <normal_flip>","   #include <normal_fragment>","   #include <lights_phong_fragment>","   #include <lights_template>","   vec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + reflectedLight.directSpecular + reflectedLight.indirectSpecular + totalEmissiveRadiance;","   gl_FragColor = vec4( outgoingLight, diffuseColor.a );","   #if defined( TONE_MAPPING )","       gl_FragColor.rgb = toneMapping( gl_FragColor.rgb );","   #endif","   gl_FragColor = linearToOutputTexel( gl_FragColor );","}"].join("\n"),this.lights=!0,this.defaultAttributeValues={color:[1,1,1],uv:[0,0],uv2:[0,0]},void 0!==A&&(void 0!==A.attributes&&console.error("PhoneLightingMaterial: attributes should now be defined in THREE.BufferGeometry instead."),this.setValues(A)),this.refreshUniforms()};((rp.prototype=Object.create(cn.prototype)).constructor=rp).prototype.isShaderMaterial=!0,rp.prototype.copy=function(A){return cn.prototype.copy.call(this,A),this.color.copy(A.color),this.specular.copy(A.specular),this.shininess=A.shininess,this.emissive.copy(A.emissive),this},rp.prototype.refreshUniforms=function(){this.uniforms.diffuse.value.set(this.color),this.uniforms.opacity.value=this.opacity,this.uniforms.specular.value.set(this.specular),this.uniforms.shininess.value=this.shininess,this.uniforms.emissive.value.set(this.emissive),this.uniforms.map.value=this.map};var ap=function(A,e){op.call(this,Ap.CLIPPLANE,{priority:20});var n=[];n.push("clipPlane_right"),n.push("clipPlane_left"),n.push("clipPlane_top"),n.push("clipPlane_bottom"),n.push("clipPlane_front"),n.push("clipPlane_back"),this.cubeSize=A.clone(),this.cubeSize.multiplyScalar(1.01),this.center=e.clone(),this.visible=!1,this.rotatable=!1,this.selectIndex=null,this.planeOffset=new Array(6),this.planeRotate=[0,0,0],this.uniforms={iClipPlane:{type:"i",value:0},vClipPlane:{type:"v4v",value:[new Je,new Je,new Je,new Je,new Je,new Je]}},this.clipplanes=null,this.calculation=!0,this.boundingBox=new ni,this.calculateClipBoundingBox=function(A){this.boundingBox.makeEmpty();for(var e=new Ue,t=0;t<A.length;t+=1){var i=A[t].coplanarPoint(e);0!==i.x&&(this.boundingBox.max.x<i.x?this.boundingBox.max.x=i.x:i.x<this.boundingBox.min.x&&(this.boundingBox.min.x=i.x)),0!==i.y&&(this.boundingBox.max.y<i.y?this.boundingBox.max.y=i.y:i.y<this.boundingBox.min.y&&(this.boundingBox.min.y=i.y)),0!==i.z&&(this.boundingBox.max.z<i.z?this.boundingBox.max.z=i.z:i.z<this.boundingBox.min.z&&(this.boundingBox.min.z=i.z))}},this.getClipBoundingBox=function(){return this.boundingBox},this.isVisible=function(){return this.visible},this.getPlaneNormal=function(A){var e=new Je,t=Math.floor(A/2);return e.setComponent(t,Math.pow(-1,A%2)),e.w=.5*-this.cubeSize.getComponent(t),this.planeOffset[A]=0,e},this.planeMaterial=new rp({color:6724044,opacity:.3,transparent:!0,side:gA,lights:!0}),this.planeHighLightMatrial=new rp({color:255,opacity:.3,transparent:!0,side:gA,lights:!0}),this.initPlaneModel=function(A){var e=Math.floor(A/2),t=A%2,i=new ji(new Kn(0===e?this.cubeSize.z:this.cubeSize.x,1===e?this.cubeSize.z:this.cubeSize.y),this.planeMaterial);i.name=n[A],i.customTag=!0,i.position.setComponent(e,Math.pow(-1,t)*this.cubeSize.getComponent(e)*.5),0===e?i.rotation.y=Math.pow(-1,t)*Math.PI*.5:1===e&&(i.rotation.x=Math.pow(-1,t)*Math.PI*.5),i.renderOrder=90,this.add(i)},this.initCapsBox=function(){var A=new nn(this.cubeSize.x,this.cubeSize.y,this.cubeSize.z);A.groups=null;var e=new ji(A,new rp({color:16776960,side:gA}));return e.matrixWorld=this.matrixWorld,e.matrix=this.matrix,e},this.initWireframes=function(){var A=[.5*-this.cubeSize.x,.5*-this.cubeSize.y,.5*-this.cubeSize.z,.5*this.cubeSize.x,.5*-this.cubeSize.y,.5*-this.cubeSize.z,.5*this.cubeSize.x,.5*this.cubeSize.y,.5*-this.cubeSize.z,.5*-this.cubeSize.x,.5*this.cubeSize.y,.5*-this.cubeSize.z,.5*-this.cubeSize.x,.5*-this.cubeSize.y,.5*this.cubeSize.z,.5*this.cubeSize.x,.5*-this.cubeSize.y,.5*this.cubeSize.z,.5*this.cubeSize.x,.5*this.cubeSize.y,.5*this.cubeSize.z,.5*-this.cubeSize.x,.5*this.cubeSize.y,.5*this.cubeSize.z],e=new Gi,t=new rp({color:16777215,lights:!0});e.setIndex([0,1,1,2,2,3,3,0,4,5,5,6,6,7,7,4,0,4,3,7,1,5,2,6]),e.addAttribute("position",new _i(A,3)),e.addAttribute("color",new _i([1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1],3)),e.computeBoundingSphere();var i=new Zr(e,t);i.name="Wireframes",i.customTag=!0,this.add(i)},this.updateClippingParams=function(A){},this.enable=function(A,e){this.visible=e,this.uniforms.iClipPlane.value=A?6:0,this.updateClippingParams(this.uniforms)},this.isEnabled=function(){return 0!==this.uniforms.iClipPlane.value};var t=function(A,e,t,i,n,o,r,a,s,l,c){this.enable=A,this.visible=e,this.rotatable=t,this.calculation=i,this.planeOffset=n.slice(0),this.planeRotate=o.slice(0),this.position=r,this.scale=a,this.quaternion=s,this.cubeSize=l,this.center=c};this.store=function(){return new t(!!this.uniforms.iClipPlane.value,this.visible,this.rotatable,this.calculation,this.planeOffset,this.planeRotate,this.position.clone(),this.scale.clone(),this.quaternion.clone(),this.cubeSize.clone(),this.center.clone())},this.restore=function(A){this.calculation=!0,this.calculationPlanes(A.cubeSize,A.center),this.enable(A.enable,A.visible),this.rotatable=A.rotatable,this.calculation=A.calculation;for(var e=0;e<6;e+=1)this.planeOffset[e]=A.planeOffset[e];for(var t=0;t<3;t+=1)this.planeRotate[t]=A.planeRotate[t];this.position.copy(A.position),this.scale.copy(A.scale),this.quaternion._w=A.quaternion._w,this.quaternion._x=A.quaternion._x,this.quaternion._y=A.quaternion._y,this.quaternion._z=A.quaternion._z,this.update()},this.reset=function(){this.calculation=!0;for(var A=0;A<6;A+=1)this.planeOffset[A]=0;for(A=0;A<3;A+=1)this.planeRotate[A]=0;this.position.copy(this.center),this.scale.copy(new Ue(1,1,1)),this.quaternion.copy(new Oe),this.update()},this.calculationPlanes=function(A,e){if(this.calculation){this.cubeSize.copy(A),this.center.copy(e);for(var t=this.children.length-1;0<=t;t-=1)this.remove(this.children[t]);for(t=0;t<6;t+=1)this.uniforms.vClipPlane.value[t]=this.getPlaneNormal(t),this.initPlaneModel(t);this.initWireframes(),this.clipplanes=this.uniforms.vClipPlane.value.slice(0),this.reset()}},this.update=function(){this.updateMatrixWorld();var A=new At;A.getInverse(this.matrix),A.transpose();for(var e=0;e<6;e+=1)this.uniforms.vClipPlane.value[e]=this.clipplanes[e].clone().applyMatrix4(A);this.updateClippingParams(this.uniforms)},this.offset=function(A,e){this.calculation=!1;var t=Math.floor(A/2);this.cubeSize.getComponent(t);A%2==0&&0<this.planeOffset[A]+e&&(e=-this.planeOffset[A]),A%2==1&&this.planeOffset[A]+e<0&&(e=-this.planeOffset[A]),this.planeOffset[A]+=e;for(var i=new Ue,n=0;n<6;n+=1){var o=this.clipplanes[n].clone(),r=this.planeOffset[n],a=new Ue(o.x*r,o.y*r,o.z*r);i.add(a)}var s=1+i.getComponent(t)/this.cubeSize.getComponent(t);if(0<(s=0===s?1e-5:s)){this.scale.setComponent(t,s);var l=this.uniforms.vClipPlane.value[A].clone(),c=new Ue(l.x,l.y,l.z);c.normalize();var d=new Ue(c.x*(a=e),c.y*a,c.z*a);A%2==1?this.position.sub(d.multiplyScalar(.5)):this.position.add(d.multiplyScalar(.5)),this.update()}else this.planeOffset[A]-=e};var i=new Oe,r=new Ue(1,0,0);this.rotX=function(A){this.calculation=!1,i.setFromAxisAngle(r,A),this.quaternion.multiply(i),this.update()};var a=new Ue(0,1,0);this.rotY=function(A){this.calculation=!1,i.setFromAxisAngle(a,A),this.quaternion.multiply(i),this.update()},this.setSectionBox=function(A,e){this.calculation=!0;var t=new Ue(e.x-A.x,e.y-A.y,e.z-A.z),i=new Ue(.5*(A.x+e.x),.5*(A.y+e.y),.5*(A.z+e.z));this.calculationPlanes(t,i)},this.calculateOffsetByBox=function(A,e){var t=e.x-this.center.x-.5*this.cubeSize.x;t<this.planeOffset[0]?(this.moveSectionPlane("left",this.center.x-.5*this.cubeSize.x-A.x),this.moveSectionPlane("right",t)):(this.moveSectionPlane("right",t),this.moveSectionPlane("left",this.center.x-.5*this.cubeSize.x-A.x));var i=e.y-this.center.y-.5*this.cubeSize.y;i<this.planeOffset[2]?(this.moveSectionPlane("bottom",this.center.y-.5*this.cubeSize.y-A.y),this.moveSectionPlane("top",i)):(this.moveSectionPlane("top",i),this.moveSectionPlane("bottom",this.center.y-.5*this.cubeSize.y-A.y));var n=e.z-this.center.z-.5*this.cubeSize.z;n<this.planeOffset[4]?(this.moveSectionPlane("back",this.center.z-.5*this.cubeSize.z-A.z),this.moveSectionPlane("front",n)):(this.moveSectionPlane("front",n),this.moveSectionPlane("back",this.center.z-.5*this.cubeSize.z-A.z))},this.getPlaneIndexByName=function(A){var e=-1;return"right"===A?e=0:"left"===A?e=1:"top"===A?e=2:"bottom"===A?e=3:"front"===A?e=4:"back"===A&&(e=5),e},this.moveSectionPlane=function(A,e){var t=this.getPlaneIndexByName(A);-1!==t&&(t%2!=0&&(e=-e),this.offset(t,e-this.planeOffset[t]))},this.recalculate=function(){return this.filter.getVisibleComponentsBbox()},this.setProcess=function(A,e){var t=this.getPlaneIndexByName(A),i=0;(t<2?i=this.cubeSize.x:t<4?i=this.cubeSize.y:t<6&&(i=this.cubeSize.z),1<e?e=1:e<0&&(e=0),-1!==t)&&(t%2!=1&&(e=-e),this.offset(t,e*i-this.planeOffset[t]))},this.getProcess=function(A){var e=this.getPlaneIndexByName(A);-1===e&&console.log("faceName is illegal");var t=0;e<2?t=this.cubeSize.x:e<4?t=this.cubeSize.y:e<6&&(t=this.cubeSize.z);var i=1;e%2!=1&&(i=-1);var n=i*this.planeOffset[e]/t;return 1<n?n=1:n<0&&(n=0),n};var s=new Ue(0,0,1);this.rotateSectionBox=function(A,e){"x"===A?this.planeRotate[0]=e:"y"===A?this.planeRotate[1]=e:"z"===A&&(this.planeRotate[2]=e),this.calculation=!0;var t=new Oe;t.setFromAxisAngle(r,this.planeRotate[0]);var i=new Oe;i.setFromAxisAngle(a,this.planeRotate[1]);var n=new Oe;n.setFromAxisAngle(s,this.planeRotate[2]);var o=new Oe;o.multiply(t),o.multiply(i),o.multiply(n),this.quaternion.copy(o),this.update()},this.highLight=function(){null!==this.selectIndex&&(this.children[this.selectIndex].material=this.planeHighLightMatrial)},this.cancelHighLight=function(){null!==this.selectIndex&&(this.children[this.selectIndex].material=this.planeMaterial,this.selectIndex=null)}};((ap.prototype=Object.create(op.prototype)).constructor=ap).prototype.init=function(){this.calculationPlanes(this.cubeSize,this.center)},ap.prototype.hitTest=function(A){var e=null,t=null;if(this.raycast(A),null!==this.selectIndex){var i=A.ray,n=new En,o=this.uniforms.vClipPlane.value[this.selectIndex];n.setComponents(o.x,o.y,o.z,o.w),e=i.distanceToPlane(n),t=i.direction.dot(n.normal)<0}return{sign:t,distance:e}},ap.prototype.raycast=function(A){if(this.visible){var e=[],t=null;this.selectIndex=null;for(var i=0;i<6;i+=1)if(this.children[i].raycast(A,e),0<e.length){var n=e.pop();t&&t.distance<=n.distance||(t=n,this.selectIndex=i),e=[]}}},Bn.line={linewidth:{value:1},resolution:{value:new Le(1,1)},dashScale:{value:1},dashSize:{value:1},gapSize:{value:1}},_n.line={uniforms:an.merge([Bn.common,Bn.fog,Bn.line]),vertexShader:"\n        #include <common>\n        #include <color_pars_vertex>\n        #include <fog_pars_vertex>\n        #include <logdepthbuf_pars_vertex>\n        #include <clipping_planes_pars_vertex>\n\n        uniform float linewidth;\n        uniform vec2 resolution;\n\n        attribute vec3 instanceStart;\n        attribute vec3 instanceEnd;\n\n        attribute vec3 instanceColorStart;\n        attribute vec3 instanceColorEnd;\n\n        varying vec2 vUv;\n\n        #ifdef USE_DASH\n\n            uniform float dashScale;\n            attribute float instanceDistanceStart;\n            attribute float instanceDistanceEnd;\n            varying float vLineDistance;\n\n        #endif\n\n        void trimSegment( const in vec4 start, inout vec4 end ) {\n\n            // trim end segment so it terminates between the camera plane and the near plane\n\n            // conservative estimate of the near plane\n            float a = projectionMatrix[ 2 ][ 2 ]; // 3nd entry in 3th column\n            float b = projectionMatrix[ 3 ][ 2 ]; // 3nd entry in 4th column\n            float nearEstimate = - 0.5 * b / a;\n\n            float alpha = ( nearEstimate - start.z ) / ( end.z - start.z );\n\n            end.xyz = mix( start.xyz, end.xyz, alpha );\n\n        }\n\n        void main() {\n\n            #ifdef USE_COLOR\n\n                vColor.xyz = ( position.y < 0.5 ) ? instanceColorStart : instanceColorEnd;\n\n            #endif\n\n            #ifdef USE_DASH\n\n                vLineDistance = ( position.y < 0.5 ) ? dashScale * instanceDistanceStart : dashScale * instanceDistanceEnd;\n\n            #endif\n\n            float aspect = resolution.x / resolution.y;\n\n            vUv = uv;\n\n            // camera space\n            vec4 start = modelViewMatrix * vec4( instanceStart, 1.0 );\n            vec4 end = modelViewMatrix * vec4( instanceEnd, 1.0 );\n\n            // special case for perspective projection, and segments that terminate either in, or behind, the camera plane\n            // clearly the gpu firmware has a way of addressing this issue when projecting into ndc space\n            // but we need to perform ndc-space calculations in the shader, so we must address this issue directly\n            // perhaps there is a more elegant solution -- WestLangley\n\n            bool perspective = ( projectionMatrix[ 2 ][ 3 ] == - 1.0 ); // 4th entry in the 3rd column\n\n            if ( perspective ) {\n\n                if ( start.z < 0.0 && end.z >= 0.0 ) {\n\n                    trimSegment( start, end );\n\n                } else if ( end.z < 0.0 && start.z >= 0.0 ) {\n\n                    trimSegment( end, start );\n\n                }\n\n            }\n\n            // clip space\n            vec4 clipStart = projectionMatrix * start;\n            vec4 clipEnd = projectionMatrix * end;\n\n            // ndc space\n            vec2 ndcStart = clipStart.xy / clipStart.w;\n            vec2 ndcEnd = clipEnd.xy / clipEnd.w;\n\n            // direction\n            vec2 dir = ndcEnd - ndcStart;\n\n            // account for clip-space aspect ratio\n            dir.x *= aspect;\n            dir = normalize( dir );\n\n            // perpendicular to dir\n            vec2 offset = vec2( dir.y, - dir.x );\n\n            // undo aspect ratio adjustment\n            dir.x /= aspect;\n            offset.x /= aspect;\n\n            // sign flip\n            if ( position.x < 0.0 ) offset *= - 1.0;\n\n            // endcaps\n            if ( position.y < 0.0 ) {\n\n                offset += - dir;\n\n            } else if ( position.y > 1.0 ) {\n\n                offset += dir;\n\n            }\n\n            // adjust for linewidth\n            offset *= linewidth;\n\n            // adjust for clip-space to screen-space conversion // maybe resolution should be based on viewport ...\n            offset /= resolution.y;\n\n            // select end\n            vec4 clip = ( position.y < 0.5 ) ? clipStart : clipEnd;\n\n            // back to clip space\n            offset *= clip.w;\n\n            clip.xy += offset;\n\n            gl_Position = clip;\n\n            vec4 mvPosition = ( position.y < 0.5 ) ? start : end; // this is an approximation\n\n            #include <logdepthbuf_vertex>\n            #include <clipping_planes_vertex>\n            #include <fog_vertex>\n\n        }\n        ",fragmentShader:"\n        uniform vec3 diffuse;\n        uniform float opacity;\n\n        #ifdef USE_DASH\n\n            uniform float dashSize;\n            uniform float gapSize;\n\n        #endif\n\n        varying float vLineDistance;\n\n        #include <common>\n        #include <color_pars_fragment>\n        #include <fog_pars_fragment>\n        #include <logdepthbuf_pars_fragment>\n        #include <clipping_planes_pars_fragment>\n\n        varying vec2 vUv;\n\n        void main() {\n\n            #include <clipping_planes_fragment>\n\n            #ifdef USE_DASH\n\n                if ( vUv.y < - 1.0 || vUv.y > 1.0 ) discard; // discard endcaps\n\n                if ( mod( vLineDistance, dashSize + gapSize ) > dashSize ) discard; // todo - FIX\n\n            #endif\n\n            if ( abs( vUv.y ) > 1.0 ) {\n\n                float a = vUv.x;\n                float b = ( vUv.y > 0.0 ) ? vUv.y - 1.0 : vUv.y + 1.0;\n                float len2 = a * a + b * b;\n\n                if ( len2 > 1.0 ) discard;\n\n            }\n\n            vec4 diffuseColor = vec4( diffuse, opacity );\n\n            #include <logdepthbuf_fragment>\n            #include <color_fragment>\n\n            gl_FragColor = vec4( diffuseColor.rgb, diffuseColor.a );\n\n            #include <premultiplied_alpha_fragment>\n            #include <tonemapping_fragment>\n            #include <encodings_fragment>\n            #include <fog_fragment>\n\n        }\n        "};var sp=function(A){cn.call(this,{type:"LineMaterial",uniforms:an.clone(_n.line.uniforms),vertexShader:_n.line.vertexShader,fragmentShader:_n.line.fragmentShader}),this.dashed=!1,Object.defineProperties(this,{color:{enumerable:!0,get:function(){return this.uniforms.diffuse.value},set:function(A){this.uniforms.diffuse.value=A}},linewidth:{enumerable:!0,get:function(){return this.uniforms.linewidth.value},set:function(A){this.uniforms.linewidth.value=A}},dashScale:{enumerable:!0,get:function(){return this.uniforms.dashScale.value},set:function(A){this.uniforms.dashScale.value=A}},dashSize:{enumerable:!0,get:function(){return this.uniforms.dashSize.value},set:function(A){this.uniforms.dashSize.value=A}},gapSize:{enumerable:!0,get:function(){return this.uniforms.gapSize.value},set:function(A){this.uniforms.gapSize.value=A}},resolution:{enumerable:!0,get:function(){return this.uniforms.resolution.value},set:function(A){this.uniforms.resolution.value.copy(A)}}}),this.setValues(A)};((sp.prototype=Object.create(cn.prototype)).constructor=sp).prototype.isLineMaterial=!0,sp.prototype.copy=function(A){return cn.prototype.copy.call(this,A),this.color.copy(A.color),this.linewidth=A.linewidth,this.resolution=A.resolution,this};var lp,cp,dp=function(){Rl.call(this),this.type="LineSegmentsGeometry";this.setIndex([0,2,1,2,3,1,2,4,3,4,5,3,4,6,5,6,7,5]),this.addAttribute("position",new _i([-1,2,0,1,2,0,-1,1,0,1,1,0,-1,0,0,1,0,0,-1,-1,0,1,-1,0],3)),this.addAttribute("uv",new _i([-1,2,1,2,-1,1,1,1,-1,-1,1,-1,-1,-2,1,-2],2))};dp.prototype=Object.assign(Object.create(Rl.prototype),{constructor:dp,isLineSegmentsGeometry:!0,applyMatrix:function(A){var e=this.attributes.instanceStart,t=this.attributes.instanceEnd;return void 0!==e&&(A.applyToBufferAttribute(e),A.applyToBufferAttribute(t),e.data.needsUpdate=!0),null!==this.boundingBox&&this.computeBoundingBox(),null!==this.boundingSphere&&this.computeBoundingSphere(),this},setPositions:function(A){var e=null;A instanceof Float32Array?e=A:Array.isArray(A)&&(e=new Float32Array(A));var t=new Id(e,6,1);return this.addAttribute("instanceStart",new Vr(t,3,0)),this.addAttribute("instanceEnd",new Vr(t,3,3)),this.computeBoundingBox(),this.computeBoundingSphere(),this},setColors:function(A){var e=null;A instanceof Float32Array?e=A:Array.isArray(A)&&(e=new Float32Array(A));var t=new Id(e,6,1);return this.addAttribute("instanceColorStart",new Vr(t,3,0)),this.addAttribute("instanceColorEnd",new Vr(t,3,3)),this},fromWireframeGeometry:function(A){return this.setPositions(A.attributes.position.array),this},fromEdgesGeometry:function(A){return this.setPositions(A.attributes.position.array),this},fromMesh:function(A){return this.fromWireframeGeometry(new ra(A.geometry)),this},fromLineSegements:function(A){var e=A.geometry;return e.isGeometry?this.setPositions(e.vertices):e.isBufferGeometry&&this.setPositions(e.position.array),this},computeBoundingBox:(cp=new ni,function(){null===this.boundingBox&&(this.boundingBox=new ni);var A=this.attributes.instanceStart,e=this.attributes.instanceEnd;void 0!==A&&void 0!==e&&(this.boundingBox.setFromBufferAttribute(A),cp.setFromBufferAttribute(e),this.boundingBox.union(cp))}),computeBoundingSphere:(lp=new Ue,function(){null===this.boundingSphere&&(this.boundingSphere=new oi),null===this.boundingBox&&this.computeBoundingBox();var A=this.attributes.instanceStart,e=this.attributes.instanceEnd;if(void 0!==A&&void 0!==e){var t=this.boundingSphere.center;this.boundingBox.getCenter(t);for(var i=0,n=0,o=A.count;n<o;n+=1)lp.fromBufferAttribute(A,n),i=Math.max(i,t.distanceToSquared(lp)),lp.fromBufferAttribute(e,n),i=Math.max(i,t.distanceToSquared(lp));this.boundingSphere.radius=Math.sqrt(i),isNaN(this.boundingSphere.radius)&&console.error("THREE.LineSegmentsGeometry.computeBoundingSphere(): Computed radius is NaN. The instanced position data is likely to have NaN values.",this)}}),toJSON:function(){},clone:function(){},copy:function(){return this}});var hp,up,pp=function(A,e){ji.call(this),this.type="LineSegments2",this.geometry=void 0!==A?A:new dp,this.material=void 0!==e?e:new sp({color:16777215*Math.random()})};pp.prototype=Object.assign(Object.create(ji.prototype),{constructor:pp,isLineSegments2:!0,computeLineDistances:(hp=new Ue,up=new Ue,function(){for(var A=this.geometry,e=A.attributes.instanceStart,t=A.attributes.instanceEnd,i=new Float32Array(2*e.data.count),n=0,o=0,r=e.data.count;n<r;n+=1,o+=2)hp.fromBufferAttribute(e,n),up.fromBufferAttribute(t,n),i[o]=0===o?0:i[o-1],i[o+1]=i[o]+hp.distanceTo(up);var a=new Id(i,2,1);return A.addAttribute("instanceDistanceStart",new Vr(a,1,0)),A.addAttribute("instanceDistanceEnd",new Vr(a,1,1)),this}),copy:function(){return this}});var gp=function(A,e){op.call(this,Ap.FILLCLIPPLANE,{priority:20}),this.cubeSize=A.clone(),this.originBoundingBox=(new ni).setFromCenterAndSize(e,A),this.boundingBox=this.originBoundingBox.clone(),this.center=e.clone(),this.length=.8*this.originBoundingBox.getSize(new Ue).length(),this.planeOffset=0,this.normalIndex=3,this.visible=!1,this.rotatable=!1,this.hit=!1,this.clipplane=new Je,this.renderClipPlane=new En,this.angleA=0,this.angleB=0,this.uniforms={iClipPlane:{value:0},vClipPlane:{value:new Array(new Je)}},this.planeMaterial=new rp({color:6724044,opacity:.3,transparent:!0,side:gA,lights:!0}),this.planeMaterial.visible=!1,this.planeHighLightMatrial=new rp({color:6724044,opacity:.3,transparent:!0,side:gA,lights:!0}),this.initPlaneModel=function(){for(var A=this.children.length-1;0<=A;A-=1)this.remove(this.children[A]);this.planeOffset=0;var e=this.length,t=new ji(new Kn(e,e),this.planeMaterial);t.name="fillClipPlane",t.customTag=!0,t.renderOrder=90,this.position.copy(this.center),this.clipplane.set(0,0,1,0),this.planeMesh=t,this.add(t)},this.initWireframes=function(){var A=.5*this.length,e=[-A,A,0,A,A,0,-A,-A,0,A,-A,0],t=new Gi,i=new rp({color:2003199,lights:!0});t.setIndex([0,1,1,3,3,2,2,0]),t.addAttribute("position",new _i(e,3));var n=new Zr(t,i);n.name="Wireframes",n.customTag=!0,this.wireframeMesh=n,this.add(n)},this.getCoordinate=function(){var A=.5*this.length,e=new Ue(-A,A,0);e.applyMatrix4(this.matrix);var t=new Ue(A,A,0);t.applyMatrix4(this.matrix);var i=new Ue(-A,-A,0);return i.applyMatrix4(this.matrix),{axisX:e.clone().sub(t).normalize(),axisY:e.clone().sub(i).normalize()}},this.initCapsPlane=function(){if(this.capPlane)return this.capPlane;var A=this.length,e=new ji(new Kn(A,A),new rp({color:16776960,side:gA,stencilWrite:!0,stencilFunc:515,stencilRef:1,stencilMask:255,stencilFail:Te,stencilZFail:Te,stencilZPass:Te})),t=this.planeMesh;e.matrixWorld=t.matrixWorld,e.matrix=this.matrix;for(var i=.5*this.length,n=.01*this.length,o=[],r=i-n;-i<r;r-=n)o.push(r,i,0),o.push(i,r,0);for(r=-i+n;r<i;r+=n)o.push(-i,r,0),o.push(r,-i,0);var a=new sp({color:2236962,stencilWrite:!0,stencilFunc:515,stencilRef:1,stencilMask:255,stencilFail:Te,stencilZFail:Te,stencilZPass:Te});a.linewidth=1,a.resolution.set(window.innerWidth,window.innerHeight),a.depthTest=!1;var s=new dp;s.setPositions(o);var l=new pp(s,a);return l.matrix=this.matrix,l.matrixWorld=t.matrixWorld,this.capPlane={planeMesh:e,lineMesh:l},this.capPlane},this.updateClippingParams=function(A){},this.getFillClipBoundingBox=function(){return this.boundingBox},this.calculateFillClipBoundingBox=function(A){this.boundingBox=this.originBoundingBox.clone(),0!==this.clipplane.x?1===this.clipplane.x?this.boundingBox.max.x=A.x:this.boundingBox.min.x=A.x:0!==this.clipplane.y?1===this.clipplane.y?this.boundingBox.max.y=A.y:this.boundingBox.min.y=A.y:0!==this.clipplane.z&&(1===this.clipplane.z?this.boundingBox.max.z=A.z:this.boundingBox.min.z=A.z)},this.enable=function(A,e){this.visible=e,this.uniforms.iClipPlane.value=A?1:0,this.update()},this.isEnabled=function(){return 0!==this.uniforms.iClipPlane.value},this.update=function(){this.updateMatrixWorld();var A=new At;A.getInverse(this.matrix),A.transpose(),this.uniforms.vClipPlane.value[0]=this.clipplane.clone().applyMatrix4(A),this.updateClippingParams(this.uniforms)},this.getClipPlane=function(){return this.clipplane.clone()},this.offset=function(A){var e=0;this.normalIndex<2?e=this.cubeSize.x:this.normalIndex<4?e=this.cubeSize.z:this.normalIndex<6&&(e=this.cubeSize.y),this.planeOffset+=A,Math.abs(this.planeOffset)>.5*e&&(this.planeOffset=0<this.planeOffset?.5*e:.5*-e);var t=this.uniforms.vClipPlane.value[0].clone(),i=new Ue(t.x,t.y,t.z);i.normalize();var n=new Ue(i.x*this.planeOffset,i.y*this.planeOffset,i.z*this.planeOffset);this.position.copy(this.center).add(n),this.update()},this.setOffset=function(A){var e=0;this.normalIndex<2?e=this.cubeSize.x:this.normalIndex<4?e=this.cubeSize.z:this.normalIndex<6&&(e=this.cubeSize.y),this.planeOffset=A,Math.abs(A)>.5*e&&(this.planeOffset=0<A?.5*e:.5*-e);var t=this.uniforms.vClipPlane.value[0].clone(),i=new Ue(t.x,t.y,t.z);i.normalize();var n=new Ue(i.x*this.planeOffset,i.y*this.planeOffset,i.z*this.planeOffset);this.position.copy(this.center).add(n),this.update()},this.changeNormal=function(A){this.quaternion.set(0,0,0,1),this.angleA=0,this.angleB=0,this.setNormal(A)},this.setNormal=function(A){var e=this.planeMesh,t=this.wireframeMesh;0===A?(this.clipplane.set(1,0,0,0),e.rotation.set(0,Math.PI/2,0),t.rotation.set(0,Math.PI/2,0)):1===A?(this.clipplane.set(-1,0,0,0),e.rotation.set(0,-Math.PI/2,0),t.rotation.set(0,-Math.PI/2,0)):2===A?(this.clipplane.set(0,0,-1,0),e.rotation.set(Math.PI,0,0),t.rotation.set(Math.PI,0,0)):3===A?(this.clipplane.set(0,0,1,0),e.rotation.set(0,0,0),t.rotation.set(0,0,0)):4===A?(this.clipplane.set(0,1,0,0),e.rotation.set(-Math.PI/2,0,0),t.rotation.set(-Math.PI/2,0,0)):5===A&&(this.clipplane.set(0,-1,0,0),e.rotation.set(Math.PI/2,0,0),t.rotation.set(Math.PI/2,0,0)),this.normalIndex=A,e.updateMatrixWorld(),t.updateMatrixWorld(),this.capPlane&&(this.capPlane.planeMesh.matrixWorld=e.matrixWorld,this.capPlane.lineMesh.matrixWorld=e.matrixWorld),this.update()};var t=new Oe,i=new Ue(1,0,0);this.rotX=function(A){t.setFromAxisAngle(i,A),this.quaternion.multiply(t),this.update()};var n=new Ue(0,1,0);this.rotY=function(A){t.setFromAxisAngle(n,A),this.quaternion.multiply(t),this.update()};var o=new Ue(0,0,1);this.rotateByAxis=function(A,e){t.setFromAxisAngle(A,e),this.quaternion.multiply(t)},this.rotateAngleOffset=function(A,e){var t=this.normalIndex;A=A%360/180*Math.PI,0===t||1===t?("y"===e&&this.rotateByAxis(o,A),"z"===e&&this.rotateByAxis(n,A)):2===t||3===t?("x"===e&&this.rotateByAxis(i,A),"z"===e&&this.rotateByAxis(n,A)):4!==t&&5!==t||("x"===e&&this.rotateByAxis(i,A),"y"===e&&this.rotateByAxis(o,A)),this.update()},this.setRotateAngle=function(A,e){this.quaternion.set(0,0,0,1);var t=this.normalIndex;e=(e=void 0===e?this.angleB:e%360)<0?360+e:e,this.angleA=A=(A=void 0===A?this.angleA:A%360)<0?360+A:A,this.angleB=e,A=A/180*Math.PI,e=e/180*Math.PI,0===t||1===t?(e=0===t?e:-e,this.rotateByAxis(o,A=0===t?-A:A),this.rotateByAxis(n,e)):2===t||3===t?(this.rotateByAxis(i,A),this.rotateByAxis(n,e)):4!==t&&5!==t||(e=3===t?e:-e,this.rotateByAxis(i,A=3===t?-A:A),this.rotateByAxis(o,e)),this.update()},this.getRotateAngle=function(){return{angleA:this.angleA,angleB:this.angleB}},this.highLight=function(){this.planeMesh.material=this.planeHighLightMatrial},this.cancelHighLight=function(){this.planeMesh.material=this.planeMaterial,this.hit=!1};var r=function(A,e,t,i,n,o,r,a,s){this.enable=A,this.visible=e,this.rotatable=t,this.planeOffset=i,this.position=n,this.scale=o,this.quaternion=r,this.cubeSize=a,this.center=s,this.normalIndex=normalIndex};this.store=function(){return new r(!!this.uniforms.iClipPlane.value,this.visible,this.rotatable,this.planeOffset,this.position.clone(),this.scale.clone(),this.quaternion.clone(),this.cubeSize.clone(),this.center.clone())},this.restore=function(A){this.enable(A.enable,A.visible),this.rotatable=A.rotatable,this.planeOffset=A.planeOffset,this.position.copy(A.position),this.scale.copy(A.scale),this.quaternion._w=A.quaternion._w,this.quaternion._x=A.quaternion._x,this.quaternion._y=A.quaternion._y,this.quaternion._z=A.quaternion._z,this.normalIndex=void 0===A.normalIndex?this.normalIndex:A.normalIndex,this.setNormal(this.normalIndex)},this.setProcess=function(A){var e=0;this.normalIndex<2?e=this.cubeSize.x:this.normalIndex<4?e=this.cubeSize.z:this.normalIndex<6&&(e=this.cubeSize.y),1<A?A=1:A<-1&&(A=-1),this.planeOffset=A*e*.5;var t=this.uniforms.vClipPlane.value[0].clone(),i=new Ue(t.x,t.y,t.z);i.normalize();var n=new Ue(i.x*this.planeOffset,i.y*this.planeOffset,i.z*this.planeOffset);this.position.copy(this.center).add(n),this.update()},this.restoreRotation=function(){this.quaternion.set(0,0,0,1),this.update()},this.getProcess=function(){var A=0;return this.normalIndex<2?A=this.cubeSize.x:this.normalIndex<4?A=this.cubeSize.z:this.normalIndex<6&&(A=this.cubeSize.y),this.planeOffset/A*2}};((gp.prototype=Object.create(op.prototype)).constructor=gp).prototype.init=function(){this.initPlaneModel(),this.initWireframes()},gp.prototype.hitTest=function(A){if(this.visible){var e=null,t=null;if(this.hit=this.raycast(A),this.hit){var i=A.ray,n=new En,o=this.uniforms.vClipPlane.value[0];n.setComponents(o.x,o.y,o.z,o.w),e=i.distanceToPlane(n),t=i.direction.dot(n.normal)<0}return{sign:t,distance:e}}this.hit=!1},gp.prototype.raycast=function(A,e){var t=[];return this.planeMesh.raycast(A,t),0<t.length};var fp=function(A,e){this.cls=A,this.size=e,this._pool=[],this.counter=0};fp.prototype.init=function(A){for(var e=0,t=this.size;e<t;e+=1){var i=new this.cls;i.init(A),this._pool[e]=i}},fp.prototype.resize=function(A,e){this.size=A,this.collect(),this.init(e)},fp.prototype.get=function(A){return this.counter<this.size?(this._pool[this.counter].spawn(A),this.counter+=1,this.counter-1):(Gh.log("the pool is full"),-1)},fp.prototype.clear=function(){for(var A=0,e=this.size;A<e;A+=1)this._pool[A].clear();this.counter=0},fp.prototype.destroy=function(){this.collect()},fp.prototype.collect=function(){this._pool=[],this.counter=0},fp.prototype.getObjects=function(){return this._pool};var mp,vp=function(){ti.call(this),this.type="Scene",this.autoUpdate=!1,this.tempVector3=new Ue,this.objectGroups=new op,this.add(this.objectGroups),this.geometryGroup=new op(Ap.GEOMETRY,{pickableType:sh.Geometry,globalSpace:!0}),this.geometryGroup.boundingBox=new ni,this.pool=new fp(Fu,0),this.expandScalar=1.02,this.clipPlanes=null,this.fillClipPlane=null,this.areaNode=null,this.extrudeBodyManager=null,this.axisGridManager=null,this.lightArray=[],this.lightHelperArray=[],this.lightHelper=!1,this.lightPreset(),this.selectedMeshes=[],this.nonSelectedMeshes=[],this.selectedInstanceMeshes=[],this.nonSelectedInstanceMeshes=[]};((vp.prototype=Object.create(ti.prototype)).constructor=vp).prototype.createCapStencilMaterials=function(){this.backMaterial||(this.backMaterial=xu.createStandardMaterial({color:16711680,colorWrite:!1,depthWrite:!1,side:IA,stencilWrite:!0,stencilFunc:Ke,stencilRef:1,stencilMask:255,stencilFail:Te,stencilZFail:Te,stencilZPass:7682}),this.frontMaterial=xu.createStandardMaterial({color:255,colorWrite:!1,depthWrite:!1,side:U,stencilWrite:!0,stencilFunc:Ke,stencilRef:1,stencilMask:255,stencilFail:Te,stencilZFail:Te,stencilZPass:7683}),this.backInstanceMaterial=xu.createStandardMaterial({color:16711680,colorWrite:!1,depthWrite:!1,side:IA}),this.backInstanceMaterial.defines.USE_INSTANCE="",this.backInstanceMaterial.defines.USE_INSTANCE_NORMAL="",this.frontInstanceMaterial=xu.createStandardMaterial({color:255,colorWrite:!1,depthWrite:!1,side:U}),this.frontInstanceMaterial.defines.USE_INSTANCE="",this.frontInstanceMaterial.defines.USE_INSTANCE_NORMAL="")},vp.prototype.destroy=function(){this.clearLight(),this.clearLightHelper(),this.sunLight&&(this.remove(this.sunLight),this.sunLight=null),this.fillLight0&&(this.remove(this.fillLight0),this.fillLight0=null),this.fillLight1&&(this.remove(this.fillLight1),this.fillLight1=null),this.fillLight2&&(this.remove(this.fillLight2),this.fillLight2=null),this.hemisphereLight&&(this.remove(this.hemisphereLight),this.hemisphereLight=null),this.dirLight&&(this.remove(this.dirLight),this.dirLight=null),this.clearAll(),this.pool.destroy(),this.pool=null},vp.prototype.resizePool=function(A){Ah.MergeComponent||(this.geometryGroup.clear(),this.pool.resize(A,{parent:this.geometryGroup}))},vp.prototype.clearAll=function(){this.pool.clear(),this.autoUpdate=!1},vp.prototype.getRootNode=function(){return this.geometryGroup},vp.prototype.getBoundingBox=(mp=new ni,function(){return mp.copy(this.geometryGroup.boundingBox),mp.applyMatrix4(this.geometryGroup.matrix),mp}),vp.prototype.getBoundingBoxWorld=function(){return this.geometryGroup.boundingBox.clone()},vp.prototype.getTransformMatrixGlobal=function(){return this.transformMatrix},vp.prototype.getMatrixGlobal=function(){return this.geometryGroup.matrix.clone()},vp.prototype.getGlobalScaleFactor=function(){return this.geometryGroup.matrix.elements[0]},vp.prototype.getMatrixWorldGlobal=function(){return this.geometryGroup.matrixWorld},vp.prototype.getRotationGlobal=function(){if(this.geometryGroup.matrix){var A=new At;A.extractRotation(this.geometryGroup.matrix);var e=new et;return e.setFromRotationMatrix(A),e}return null},vp.prototype.getTrackingPointFromBoundingBox=function(A,e){if(!this.geometryGroup.boundingBox)return null;var t=e.origin,i=this.getBoundingBox(),n=0,o=[new Ue,new Ue,new Ue,new Ue,new Ue,new Ue,new Ue,new Ue];o[0].set(i.min.x,i.min.y,i.min.z),o[1].set(i.min.x,i.min.y,i.max.z),o[2].set(i.min.x,i.max.y,i.min.z),o[3].set(i.min.x,i.max.y,i.max.z),o[4].set(i.max.x,i.min.y,i.min.z),o[5].set(i.max.x,i.min.y,i.max.z),o[6].set(i.max.x,i.max.y,i.min.z),o[7].set(i.max.x,i.max.y,i.max.z);for(var r=0;r<8;r+=1){var a=new Ue;a.subVectors(o[r],t);var s=a.dot(A);n<s&&(n=s)}var l=A.clone().multiplyScalar(n),c=t.clone().add(l),d=new En;return d.setFromNormalAndCoplanarPoint(A,c),e.intersectPlane(d,new Ue)},vp.prototype.getNearDepthByRect=function(){var a=new ni,s=1/0,l=new At,t=new Ue;function c(A){t.setFromMatrixPosition(A.matrixWorld),t.applyProjection(l);var e=t.z;s<=e||e<0||1<e||(s=e)}return function(o,A){function r(A){if(A instanceof Fu){if(!function(A,e){if(!e.boundingBox||e instanceof ji){var t=e.geometry;null===t.boundingBox&&t.computeBoundingBox(),a.copy(t.boundingBox),a.applyMatrix4(e.matrixWorld)}else a.copy(e.boundingBox),a.applyMatrix4(e.matrixWorld);return A.intersectsBox(a)}(o,A))return;c(A)}else if(A.worldBoundingBox){if(!o.intersectsBox(A.worldBoundingBox))return;c(A)}var e=A.children;if(e)for(var t=0,i=e.length;t<i;t+=1){var n=e[t];n.visible&&r(n)}}s=1/0,l.multiplyMatrices(A.projectionMatrix,A.matrixWorldInverse);for(var e=this.geometryGroup.children,t=0,i=e.length;t<i;t+=1){var n=e[t];n.visible&&r(n)}return s}}(),vp.prototype.getExpandScalar=function(){return this.expandScalar},vp.prototype.hasClipPlanes=function(){return null!==this.clipPlanes},vp.prototype.getClipPlanes=function(){if(null===this.clipPlanes){var A=this.getBoundingBox();this.clipPlanes=new ap(A.getSize(new Ue),A.getCenter(this.tempVector3)),this.objectGroups.add(this.clipPlanes)}return this.clipPlanes},vp.prototype.setClipPlanes=function(A){if(A){var e=this.getClipPlanes();A.setFromCenterAndSize(A.getCenter(new Ue),A.getSize(new Ue).multiplyScalar(this.expandScalar)),e.setSectionBox(A.min,A.max)}},vp.prototype.resetClipPlanes=function(){var A=this.getClipPlanes(),e=this.getBoundingBox();A.reset(),e.max.x!==-1/0&&e.max.y!==-1/0&&e.max.z!==-1/0&&e.min.x!==1/0&&e.min.y!==1/0&&e.min.z!==1/0?(e.setFromCenterAndSize(e.getCenter(new Ue),e.getSize(new Ue).multiplyScalar(this.expandScalar)),A.setSectionBox(e.min,e.max)):this.clipPlanes=null},vp.prototype.hasFillClipPlanes=function(){return null!=this.fillClipPlane},vp.prototype.getFillClipPlane=function(){if(null===this.fillClipPlane){var A=new ni;A.copy(this.geometryGroup.boundingBox),A.applyMatrix4(this.geometryGroup.matrix),this.fillClipPlane=new gp(A.getSize(new Ue),A.getCenter(new Ue)),this.objectGroups.add(this.fillClipPlane)}return this.fillClipPlane},vp.prototype.disableClipPlanes=function(){null!=this.clipPlanes&&(this.clipPlanes.enable(!1,!1),this.clipPlanes.update()),null!=this.fillClipPlane&&(this.fillClipPlane.enable(!1,!1),this.fillClipPlane.update())},vp.prototype.getAreaNode=function(){return this.areaNode},vp.prototype.getAxisGridManager=function(){return this.axisGridManager},vp.prototype.getExtrudeBodyManager=function(){return this.extrudeBodyManager},vp.prototype.shrinkScopeByClipPlane=function(A,e){if(this.clipPlanes&&this.clipPlanes.isEnabled()){var t=this.clipPlanes.hitTest(A);if(null===t.distance&&void 0===t.distance)return;t.sign?e.near<t.distance&&(e.near=t.distance):t.distance<e.far&&(e.far=t.distance)}},vp.prototype.updateWorldMatrix=function(A,e,t){var i=new At;i.compose(A,e,t),this.updateWorldMatrixByMatrix(i)},vp.prototype.updateWorldMatrixByMatrix=function(A){for(var e=this.objectGroups.children,t=0,i=e.length;t<i;t+=1)e[t].globalSpace&&(e[t].matrix.copy(A),e[t].matrixAutoUpdate=!1,e[t].updateMatrixWorld(!0))},vp.prototype.clearLight=function(){for(var A=0;A<this.lightArray.length;A+=1){this.remove(this.lightArray[A])}this.lightArray=[]},vp.prototype.defaultLightPreset=function(){var A=.3;this.hemisphereLight||(this.hemisphereLight=new wl(16777215,16777215,A*Ah.LightIntensityFactor)),Ah.EnableLightmap||(this.add(this.hemisphereLight),this.lightArray.push(this.hemisphereLight)),this.hemisphereLight.initIntensity=A,this.hemisphereLight.position.set(0,500,0),this.hemisphereLight.updateMatrixWorld(!0),A=.7,this.dirLight||(this.dirLight=new Fl(16777215,A*Ah.LightIntensityFactor)),Ah.EnableLightmap||(this.add(this.dirLight),this.lightArray.push(this.dirLight)),this.dirLight.initIntensity=A,this.dirLight.color.setHSL(.1,1,.95),this.dirLight.position.set(-1,.75,1),this.dirLight.position.multiplyScalar(50)},vp.prototype.updateDefaultLight=function(A){var e=this.dirLight;e.intensity=e.initIntensity*Ah.LightIntensityFactor,e.position.set(A.x,A.y,A.z),e.updateMatrixWorld(!0);var t=this.hemisphereLight;t.intensity=t.initIntensity*Ah.LightIntensityFactor},vp.prototype.setupCommonLight=function(){this.ambientLight||(this.ambientLight=new Ll(16777215,.6)),this.ambientLight.intensity=.3,this.add(this.ambientLight),this.lightArray.push(this.ambientLight),this.sunLight||(this.sunLight=new Fl(16777215,1)),this.add(this.sunLight),this.lightArray.push(this.sunLight),this.sunLight.color.setHex(14800580),this.sunLight.position.set(-100,160,100),this.sunLight.intensity=.72,this.sunLight.distance=300,this.sunLight.updateMatrixWorld()},vp.prototype.lightPreset01=function(){this.setupCommonLight(),this.fillLight01||(this.fillLight01=new Fl(16777215,1)),this.add(this.fillLight01),this.lightArray.push(this.fillLight01),this.fillLight01.color.setHex(16777215),this.fillLight01.position.set(100,100,100),this.fillLight01.intensity=1,this.fillLight01.updateMatrixWorld(),this.fillLight02||(this.fillLight02=new Fl(16777215,1)),this.add(this.fillLight02),this.lightArray.push(this.fillLight02),this.fillLight02.color.setHex(16777215),this.fillLight02.position.set(-100,100,-100),this.fillLight02.intensity=.24,this.fillLight02.updateMatrixWorld(),this.ambientLight.intensity=.6,this.sunLight.intensity=.9},vp.prototype.lightPreset02=function(){this.setupCommonLight(),this.fillLight01||(this.fillLight01=new Fl(16777215,1)),this.add(this.fillLight01),this.lightArray.push(this.fillLight01),this.fillLight01.position.set(60,80,130),this.fillLight01.intensity=.28,this.fillLight01.updateMatrixWorld(),this.fillLight02||(this.fillLight02=new Fl(16777215,1)),this.add(this.fillLight02),this.lightArray.push(this.fillLight02),this.fillLight02.color.setHex(8100788),this.fillLight02.position.set(100,80,-100),this.fillLight02.intensity=.22,this.fillLight02.updateMatrixWorld(),this.fillLight03||(this.fillLight03=new Fl(16777215,1)),this.add(this.fillLight03),this.lightArray.push(this.fillLight03),this.fillLight03.color.setHex(8100788),this.fillLight03.position.set(-140,80,-50),this.fillLight03.intensity=.18,this.fillLight03.updateMatrixWorld()},vp.prototype.lightPreset=function(){this.clearLight(),0===Ah.LightPreset?this.defaultLightPreset():1===Ah.LightPreset?this.lightPreset01():2===Ah.LightPreset?this.lightPreset02():(this.setupCommonLight(),this.sunLight.color.setHex(16777215),this.ambientLight.intensity=.72),this.lightHelper&&this.addLightHelper()},vp.prototype.clearLightHelper=function(){for(var A=0;A<this.lightHelperArray.length;A+=1){this.remove(this.lightHelperArray[A])}this.lightHelperArray=[]},vp.prototype.addLightHelper=function(){this.clearLightHelper();for(var A=0;A<this.lightArray.length;A+=1){var e=this.lightArray[A];if(e instanceof Fl){var t=new kd(e,200);this.add(t),this.lightHelperArray.push(t)}}},vp.prototype.updateLightHelper=function(){for(var A=0;A<this.lightHelperArray.length;A+=1){var e=this.lightHelperArray[A];e.update(),e.updateMatrixWorld(!0)}},vp.prototype.updateLights=function(A){var e=new Ue(0,1,0),t=Math.PI/4,i=A.position.clone();if(i.sub(A.target),i.normalize(),1===Ah.LightPreset){var n=i.clone().applyAxisAngle(e,-1.2*t);this.fillLight01.position.copy(n).normalize(),this.fillLight01.position.multiplyScalar(1e3),this.fillLight01.position.y=600,this.fillLight01.updateMatrixWorld(),n=i.clone().applyAxisAngle(e,Number(t)),this.fillLight02.position.copy(n).normalize(),this.fillLight02.position.multiplyScalar(1e3),this.fillLight02.position.y=600,this.fillLight02.updateMatrixWorld()}else if(3===Ah.LightPreset){var o=i.clone().applyAxisAngle(e,-2*t);this.sunLight.position.copy(o).normalize(),this.sunLight.position.multiplyScalar(1e3),this.sunLight.position.y=600,this.sunLight.updateMatrixWorld()}else 0===Ah.LightPreset&&this.updateDefaultLight(i);this.lightHelper&&this.updateLightHelper()},vp.prototype.getOrCreateGroup=function(A,e){for(var t=this.objectGroups.children,i=0,n=t.length;i<n;i+=1)if(t[i].name===A)return t[i];var o=new op(A,e);return o.isGlobalSpace()&&(o.matrix.copy(this.geometryGroup.matrix),o.matrixAutoUpdate=!1,o.updateMatrixWorld(!0)),this.objectGroups.add(o),o},vp.prototype.getGroup=function(A){for(var e=this.objectGroups.children,t=0,i=e.length;t<i;t+=1)if(e[t].name===A)return e[t];return null},vp.prototype.getGroups=function(){return this.objectGroups.children},vp.prototype.removeGroup=function(A){this.objectGroups.remove(A)},vp.prototype.removeGroupByName=function(A){this.objectGroups.removeByName(A)},vp.prototype.hasGroup=function(A){return this.objectGroups.hasChild(A)},vp.prototype.intersectToWorld=function(A){var e=this.getMatrixGlobal();A.worldPosition=lu.getWorldPositionOfMesh(A.point,e),A.worldBoundingBox=lu.getBoundingBoxWorldOfMesh(A.object,e)},vp.prototype.prepareScene=function(){},vp.prototype.parseRootNode=function(A){var e=this.geometryGroup,t=kh.box3FromObject(A.minBoundary,A.maxBoundary);null===e.boundingBox||e.boundingBox.isEmpty()?e.boundingBox=t:(e.boundingBox.expandByPoint(t.min),e.boundingBox.expandByPoint(t.max)),e.updateMatrixWorld(!0)},vp.prototype.intersectToWorld=function(A){var e=this.getMatrixGlobal();A.worldPosition=lu.getWorldPositionOfMesh(A.point,e),A.worldBoundingBox=lu.getBoundingBoxWorldOfMesh(A.object,e)},vp.prototype.worldToDrawing=function(A){var e=this.getMatrixGlobal(),t=new Ue(A.x,A.y,A.z);return t.applyMatrix4(e),t},vp.prototype.drawingToWorld=function(A){var e=this.getMatrixGlobal(),t=new At;t.getInverse(e);var i=new Ue(A.x,A.y,A.z);return i.applyMatrix4(t),i},vp.prototype.getBoundingBoxWorldByMesh=function(A){var e=this.getMatrixGlobal(),t=A.boundingBox;t||(A.geometry.boundingBox||A.geometry.computeBoundingBox(),t=A.geometry.boundingBox);var i=t.clone();i.applyMatrix4(A.matrixWorld);var n=new At;return n.getInverse(e),i.applyMatrix4(n),i},vp.prototype.getObjectPool=function(){return this.pool},vp.prototype.setBoundingBoxWorld=function(A){this.geometryGroup.boundingBox?this.geometryGroup.boundingBox.copy(A):this.geometryGroup.boundingBox=A},vp.prototype.getBoundingBoxOfGeometries=function(A){var e=new ni,t=[];if(Array.isArray(A))t=A;else for(var i in A)A.hasOwnProperty(i)&&t.push(i);for(var n=0,o=t.length;n<o;n+=1){var r=this.objectGroups.getObjectByProperty("key",t[n]);if(r){var a=r.geometry;if(a){a.boundingBox||a.computeBoundingBox();var s=a.boundingBox;if(s){var l=s.clone();r.matrixWorld&&l.applyMatrix4(r.matrixWorld),e.expandByPoint(l.min),e.expandByPoint(l.max)}}else Gh.log("empty geometry!")}}return e},vp.prototype.adjustInstanceVisibility=function(t){this.traverse(function(A){if((A instanceof ji||A instanceof Zr)&&A.geometry instanceof Rl){var e=A.visible;t&&!A.bVisible||(A.visible=t),A.bVisible=e}})},vp.prototype.adjustVisibility=function(t){this.traverse(function(A){if((A instanceof ji||A instanceof Zr)&&!(A.geometry instanceof Rl)){var e=A.visible;t&&!A.bVisible||(A.visible=t),A.bVisible=e}})},vp.prototype.changeVisibilityOfSelectedObjects=function(e){var s=this;e||(s.selectedMeshes.length=0,s.selectedInstanceMeshes.length=0);var r=s.selectedMeshes,n=s.selectedInstanceMeshes;this.traverse(function(A){(A instanceof ji||A instanceof Zr)&&(A.geometry instanceof Rl?e?function(A){for(var e=0,t=s.selectedInstanceMeshes.length;e<t;e+=1)if(A===s.selectedInstanceMeshes[e].object){for(var i=s.selectedInstanceMeshes[e].indices,n=A.geometry.getAttribute("vState").array,o=0,r=i.length;o<r;o+=1)n[i[o]]=Ih.SELECTED;A.geometry.getAttribute("vState").needsUpdate=!0}}(A):function(A){if(A.visible){for(var e=[],t=A.geometry.getAttribute("vState").array,i=0;i<t.length;i+=1)t[i]===Ih.SELECTED&&(e.push(i),t[i]=Ih.HIDDEN);e.length&&(A.geometry.getAttribute("vState").needsUpdate=!0,n.push({object:A,indices:e}))}}(A):e?function(A){for(var e=0,t=s.selectedMeshes.length;e<t;e+=1)if(A===s.selectedMeshes[e].object)for(var i=s.selectedMeshes[e].indices,n=0,o=i.length;n<o;n+=1){var r=i[n],a=A.geometry.groups[r.idx];a.start=r.start,a.count=r.count}}(A):function(A){if(A._indicesGroup&&A.visible){var e=[],t=A.geometry.groups;if(t&&t.length){for(var i=0,n=t.length;i<n;i+=1){var o=t[i];o.materialIndex===wh.SELECTED&&(e.push({idx:i,start:o.start,count:o.count}),o.start=0,o.count=0)}e.length&&r.push({object:A,indices:e})}}}(A))})},vp.prototype.changeVisibilityOfNonSelectedObjects=function(e){var s=this;e||(s.nonSelectedMeshes.length=0,s.nonSelectedInstanceMeshes.length=0);var r=s.nonSelectedMeshes,o=s.nonSelectedInstanceMeshes;this.traverse(function(A){(A instanceof ji||A instanceof Zr)&&(A.geometry instanceof Rl?e?function(A){for(var e=0,t=s.nonSelectedInstanceMeshes.length;e<t;e+=1)if(A===s.nonSelectedInstanceMeshes[e].object){for(var i=s.nonSelectedInstanceMeshes[e].indices,n=A.geometry.getAttribute("vState").array,o=0,r=i.length;o<r;o+=1)n[i[o].idx]=i[o].state;A.geometry.getAttribute("vState").needsUpdate=!0}}(A):function(A){if(A.visible){for(var e=[],t=A.geometry.getAttribute("vState").array,i=0,n=t.length;i<n;i+=1)t[i]!==Ih.SELECTED&&t[i]!==Ih.HIDDEN&&(e.push({idx:i,state:t[i]}),t[i]=Ih.HIDDEN);e.length&&(A.geometry.getAttribute("vState").needsUpdate=!0,o.push({object:A,indices:e}))}}(A):e?function(A){for(var e=0,t=s.nonSelectedMeshes.length;e<t;e+=1)if(A===s.nonSelectedMeshes[e].object){var i=s.nonSelectedMeshes[e].indices;if(null===i)A.visible=!0;else for(var n=0,o=i.length;n<o;n+=1){var r=i[n],a=A.geometry.groups[r.idx];a.start=r.start,a.count=r.count}}}(A):function(A){if(A._indicesGroup&&A.visible){var e=[],t=A.geometry.groups;if(t&&t.length){for(var i=0,n=t.length;i<n;i+=1){var o=t[i];o.materialIndex!==wh.SELECTED&&(e.push({idx:i,start:o.start,count:o.count}),o.start=0,o.count=0)}e.length?r.push({object:A,indices:e}):(A.visible=!1,r.push({object:A,indices:null}))}else A.visible=!1,r.push({object:A,indices:null})}}(A))})},vp.prototype.clearSelectedAndNonSelectedMeshes=function(){this.selectedMeshes.length=0,this.nonSelectedMeshes.length=0,this.selectedInstanceMeshes.length=0,this.nonSelectedInstanceMeshes.length=0},vp.prototype.setSkyBox=function(A,e){var t=A,i=e||[Mu.skyBoxLeft,Mu.skyBoxRight,Mu.skyBoxBack,Mu.skyBoxFront,Mu.skyBoxUp,Mu.skyBoxDown],n=this;(new $s).setPath(t).load(i,function(A){n.background=A})};var yp=function(A){this.selectionSet={},this.selectionMaterial=xu.createHighlightMaterial(),this.selectionMaterial.colorState=xh.SELECT,this.selectionMaterial.name="selection",this.selectionMaterial.refreshUniforms(),this.hoverId=void 0,this.hoverMaterialDefaultParams={color:14540253,opacity:.9,transparent:!0},this.hoverMaterial=xu.createStandardMaterial(this.hoverMaterialDefaultParams),this.hoverMaterial.name="hover",this.boxMaterialDefaultParams={color:16776960,opacity:1,transparent:!1},this.boxMaterial=new Yr(this.boxMaterialDefaultParams),this.boxMaterial.name="box",this.modelManager=A,this.blinkComponentIds={}};yp.prototype={constructor:yp,_dispatchChangeEvent:function(){var A=this.getSelection();if(Ah.EnableSelectionBoundingBox){var e=this.modelManager.scene.getOrCreateGroup("BoundingBox");if(A&&0<A.length){var t=this.modelManager.viewerImpl.getBoundingBoxByIds(A);if(t.isEmpty())return void(e.visible=!1);e.visible=!0;var i=e.getObjectByName("Box");if(!i){var n=new Uint16Array([0,1,1,2,2,3,3,0,4,5,5,6,6,7,7,4,0,4,1,5,2,6,3,7]),o=new Float32Array(24),r=new Gi;r.setIndex(new Ci(n,1)),r.addAttribute("position",new Ci(o,3)),(i=new Zr(r,this.boxMaterial)).name="Box",i.matrixAutoUpdate=!1,e.add(i)}var a=i.geometry.attributes.position,s=a.array,l=t.min,c=t.max;s[0]=c.x,s[1]=c.y,s[2]=c.z,s[3]=l.x,s[4]=c.y,s[5]=c.z,s[6]=l.x,s[7]=l.y,s[8]=c.z,s[9]=c.x,s[10]=l.y,s[11]=c.z,s[12]=c.x,s[13]=c.y,s[14]=l.z,s[15]=l.x,s[16]=c.y,s[17]=l.z,s[18]=l.x,s[19]=l.y,s[20]=l.z,s[21]=c.x,s[22]=l.y,s[23]=l.z,a.needsUpdate=!0}else e.visible=!1}else{var d=this.modelManager.scene.getObjectByName("BoundingBox");d&&(d.visible=!1)}this.modelManager.dispatchEvent({type:lh.ON_SELECTION_CHANGED,selectionList:A})},clearSelection:function(){var A=!1;for(var e in this.selectionSet)if(this.selectionSet.hasOwnProperty(e)){A=!0,this.selectionSet={};break}A&&(this.modelManager.clearSelection(),this._dispatchChangeEvent())},addSelection:function(A){if(A){for(var e=this.selectionSet,t=!1,i=A.length-1;0<=i;i-=1)e.hasOwnProperty(A[i])||(t=e[A[i]]=!0);t&&(this.modelManager.applySelection(),this._dispatchChangeEvent())}},setSelection:function(A){A||(A=[]);for(var e=[],t=A.length-1;0<=t;t-=1)this.modelManager.isUserIdExist(A[t])||e.push(A[t]);0<e.length&&this.modelManager.dispatchEvent({type:lh.ON_SELECTION_FAILED,failedId:e});var i=this.selectionSet={};for(t=A.length-1;0<=t;t-=1)i[A[t]]=!0;this.modelManager.applySelection(),this._dispatchChangeEvent()},removeSelection:function(A){var e=!1,t=this.selectionSet;if(A&&0<A.length)for(var i=0,n=A.length;i<n;i+=1){var o=A[i];t.hasOwnProperty(o)&&(delete t[o],e=!0)}e&&(this.modelManager.applySelection(),this._dispatchChangeEvent())},getSelection:function(){var A=[];for(var e in this.selectionSet)A.push(e);return A},getSelectionSet:function(){return this.selectionSet},isSelected:function(A){return this.selectionSet.hasOwnProperty(A)},setHoverId:function(A){this.hoverId=A,this.modelManager.applyHover()},clearHover:function(){this.hoverId=void 0,this.modelManager.clearHover()},getHoverMaterial:function(A){var e=this.hoverMaterial.clone();if(A&&A.hasOwnProperty("color")){var t=A.color.clone(),i=Math.max(t.r,Math.max(t.g,t.b));0===i&&(i=.5),t.r+=0===t.r?.3*i:.2*t.r,t.g+=0===t.g?.3*i:.2*t.g,t.b+=0===t.b?.3*i:.2*t.b,1<t.r&&(t.r=1),1<t.g&&(t.g=1),1<t.b&&(t.b=1),1===t.r&&1===t.g&&1===t.b&&(t.r=.87,t.g=.87,t.b=.87),e.color.setHex(t.getHex()),e.opacity=void 0!==A.opacity?A.opacity:this.hoverMaterialDefaultParams.opacity,e.transparent=void 0!==A.transparent?A.transparent:this.hoverMaterialDefaultParams.transparent,e.side=void 0!==A.side?A.side:this.hoverMaterialDefaultParams.side,void 0!==A.metalness&&(e.metalness=A.metalness),void 0!==A.roughness&&(e.roughness=A.roughness),void 0!==A.bumpMap&&(e.bumpMap=A.bumpMap),void 0!==A.alphaMap&&(e.alphaMap=A.alphaMap),void 0!==A.emissiveMap&&(e.emissiveMap=A.emissiveMap),void 0!==A.envMap&&(e.envMap=A.envMap),void 0!==A.envMapIntensity&&(e.envMapIntensity=A.envMapIntensity),null!=A.map&&(e.map=A.map,e.opacity*=.9,e.transparent=!0),e.needsUpdate=!0}return e},setSelectionColor:function(A,e){var t=this.selectionMaterial.opacity;e=void 0===e?t:e,"0x"+this.selectionMaterial.color.getHexString()===A&&t===e||(this.selectionMaterial.color.setHex(A),e&&(this.selectionMaterial.opacity=e),this.selectionMaterial.needsUpdate=!0,this.selectionMaterial.color.setHex(A),this.selectionMaterial.needsUpdate=!0)},getSelectionMaterial:function(){return this.selectionMaterial.clone()},setBlinkComponentsById:function(A){if(this.blinkComponentIds={},A&&0!==A.length){for(var e=A.length-1;0<=e;e-=1)this.blinkComponentIds[A[e]]=!0;this.modelManager.applyBlink()}},addBlinkComponentsById:function(A){if(A&&A.length){for(var e=this.blinkComponentIds,t=!1,i=A.length-1;0<=i;i-=1)e[A[i]]||(t=e[A[i]]=!0);t&&this.modelManager.applyBlink()}},clearBlinkComponentsById:function(A){if(A&&A.length){for(var e=!1,t=this.blinkComponentIds,i=0,n=A.length;i<n;i+=1){var o=A[i];t[o]&&(delete t[o],e=!0)}e&&this.modelManager.applyBlink()}},clearAllBlinkComponents:function(){var A=!1;kh.isOwnEmptyObject(this.blinkComponentIds)||(A=!0,this.blinkComponentIds={}),A&&this.modelManager.clearBlink()},getBlinkComponents:function(){return Object.keys(this.blinkComponentIds)},getBlinkComponentsIdMap:function(){return this.modelManager.getBlinkEnabled()?this.blinkComponentIds:null},getBlinkMaterial:function(A){return xu.getBlinkMaterial(A,this.modelManager.getBlinkColor())},getBoxMaterial:function(){return this.boxMaterial.clone()},setBoxColor:function(A,e){var t=this.boxMaterial.opacity;e=void 0===e?t:e,"0x"+this.boxMaterial.color.getHexString()===A&&t===e||(this.boxMaterial.color.setHex(A),e&&(this.boxMaterial.opacity=e),this.boxMaterial.needsUpdate=!0,this.boxMaterial.color.setHex(A),this.boxMaterial.needsUpdate=!0)}};var Cp=function(A){this.control=A,this.cameraControl=A.cameraControl,this.dim=this.cameraControl.getContainerDimensions(),this.pad=null,this.padSize=96,this.startPt=new Le,this.position=new Le,this.callback=null,this.intersect=null,this.init=function(){window.addEventListener("resize",this.padInitBind,!1),this.pad=document.createElement("div"),this.padInit(),this.cameraControl.domElement.appendChild(this.pad),this.addEventListener()},this.addEventListener=function(){this.pad.addEventListener("touchstart",this.padOnTouchStartBind,!1),this.pad.addEventListener("touchmove",this.padOnTouchMoveBind,!1),this.pad.addEventListener("touchend",this.padOnTouchEndBind,!1)},this.padInit=function(){null!==this.pad&&(this.pad.style.backgroundImage="url(images/selectPad.png)",this.pad.style.backgroundSize="100%",this.pad.style.position="absolute",this.pad.style.width=this.padSize.toString()+"px",this.pad.style.height=this.padSize.toString()+"px",this.pad.style.zIndex="10",this.pad.style.display="none")},this.showOverlay=function(A){this.position=A,this.pad.style.left=this.position.x.toString()+"px",this.pad.style.top=(this.position.y-this.dim.top).toString()+"px",this.pad.style.display="",this.pick()},this.hideOverlay=function(){this.pad.style.display="none"},this.pick=function(){var A=this.position.x,e=this.position.y,t=this.cameraControl,i=t.viewer.modelManager.sceneState,n=this,o=new Le(A,e),r=t.getIntersectContext(o);t.intersector.pick(r,function(A){if(i.clearSelection(),!A)return t.updateView(!0),void(n.intersect=null);var e=A.userId;t.viewer.getScene().intersectToWorld(A,t.viewer),i.addSelection([e]),n.intersect=A,t.updateView(!0)}),null!==n.intersect&&(n.intersect.cx=A,n.intersect.cy=e)},this.onTouchStart=function(A){1===A.touches.length&&(A.stopPropagation(),A.preventDefault(),this.startPt.set(A.touches[0].clientX,A.touches[0].clientY))},this.onTouchMove=function(A){if(1===A.touches.length){A.stopPropagation(),A.preventDefault();var e=A.touches[0].clientY-this.startPt.y;this.position.x+=A.touches[0].clientX-this.startPt.x,this.position.y+=e,this.pad.style.left=this.position.x.toString()+"px",this.pad.style.top=(this.position.y-this.dim.top).toString()+"px",this.startPt.set(A.touches[0].clientX,A.touches[0].clientY),this.pick(A)}},this.onTouchEnd=function(A){A.stopPropagation(),null!==this.callback?this.callback(this.intersect):console.log("selectPad click",this.intersect)},this.padInitBind=this.padInit.bind(this),this.padOnTouchStartBind=this.onTouchStart.bind(this),this.padOnTouchEndBind=this.onTouchEnd.bind(this),this.padOnTouchMoveBind=this.onTouchMove.bind(this),this.init()},Ip=function(A){this.cameraControl=A,this.scene=A.scene,this.timerId=null,this.lastIntersected=null};Ip.prototype={constructor:Ip,destroy:function(){this.cameraControl=null,this.scene=null},click:function(A,e){var t=this;this.timerId&&clearTimeout(this.timerId),this.timerId=setTimeout(function(){e&&!1===e.pickable&&(e=null),t.handleMousePick(A,!1,e)},500)},doubleClick:function(A){A.preventDefault(),this.timerId&&clearTimeout(this.timerId),this.handleMousePick(A,!0,null)},handleMousePick:function(t,i,A){var e=this.cameraControl,n=e.viewer.modelManager.sceneState,o=new Le(t.clientX,t.clientY),r=e.screenToCanvas(t.clientX,t.clientY),a=e.viewer.modelManager;function s(A,e){a.dispatchEvent({type:lh.ON_CLICK_PICK,event:t,doubleClick:i,canvasPos:{x:r.x,y:r.y},intersectInfo:A?{selectedObjectId:A.userId,modelKey:A.modelKey,objectType:A.objectType,selectable:e,worldPosition:A.worldPosition,worldBoundingBox:A.worldBoundingBox,point:A.point,index:A.index,innnerDebugging:A.innnerDebugging,object:A.object}:null})}var l=null;if(A)A.pickable&&(l=A.intersect);else{var c=e.getIntersectContext(o);l=e.intersector.pick(c,null)}if(!l){var d=n.getSelection();if(t.ctrlKey)return;return 0<d.length&&(n.clearSelection(),e.updateView(!0)),this.setSelectedIdsForOutline(n.getSelection()),void(A&&!A.pickable?((l=A.intersect).cx=o.x,l.cy=o.y,s(l,!1)):s(null))}var h=l.userId;if(zh.isMobileDevice()&&(e.pivot=l.point),this.scene.intersectToWorld(l),l.innnerDebugging=t.altKey,l.cx=o.x,l.cy=o.y,this.lastPickedUserId=h,i)Ah.EnableDemolishByDClick?(n.setSelection([h]),s(l,!0),e.updateView(!0)):(n.setSelection([h]),e.fitAndRotateBySelection(),s(l,!0));else{var u=n.getSelection();if(t.ctrlKey){var p=u.indexOf(h);-1===p?n.addSelection([h]):(u.splice(p,1),n.setSelection(u))}else-1===u.indexOf(h)?n.setSelection([h]):n.clearSelection();this.setSelectedIdsForOutline(n.getSelection()),s(l,!0),e.updateView(!0)}},handleShiftMeasure:function(c,h,u){var d=null,p=this.cameraControl,A=new Le(c.clientX,c.clientY),e=p.getIntersectContext(A);function g(A,e,t,i,n,o){var r=p.viewer.modelManager;if(null!==A){var a=p.scene.drawingToWorld(A);A.copy(a)}if(null!==t){var s=p.scene.drawingToWorld(t[0]),l=p.scene.drawingToWorld(t[1]);t[0].copy(s),t[1].copy(l)}r.dispatchEvent(d={type:lh.ON_MEASURE_PICK,event:c,pick:h,pickPoint:A,isAbsorbPoint:e,pickLine:t,pickPlane:i,userId:n,measureUnit:o})}return p.intersector.pick(e,function(A){if(A){var e="",t=A.object.modelKey;if(t){var i=p.viewer.modelManager.getModel(t);i&&i.originalLengthUnit&&(e=i.originalLengthUnit)}var n=new Ue;n.subVectors(A.point,u),n.normalize();var o=new Ue(1,0,0),r=new Ue(0,1,0),a=new Ue(0,0,1),s=o.dot(n),l=r.dot(n),c=a.dot(n),d=new Ue;d.copy(u);Math.abs(l)<.707?Math.abs(c)<Math.abs(s)?d.x=A.point.x:d.z=A.point.z:d.y=A.point.y,h&&u.copy(d),g(d,!1,null,!1,A.userId,e)}else g(null,!1,null,!1)}),d},handleMouseMeasure:function(d,X,Y){var h=null,J=this.cameraControl,Z=J.scene,A=new Le(d.clientX,d.clientY),$=J.getIntersectContext(A);function AA(A,e,t,i,n,o,r){var a=J.viewer.modelManager;if(null!==A){var s=J.scene.drawingToWorld(A);A.copy(s)}if(null!==t){var l=J.scene.drawingToWorld(t[0]),c=J.scene.drawingToWorld(t[1]);t[0].copy(l),t[1].copy(c)}(i||X||t||A)&&a.dispatchEvent(h={type:lh.ON_MEASURE_PICK,event:d,pick:X,pickPoint:A,isAbsorbPoint:e,pickLine:t,pickPlane:i,normal:n,userId:o,measureUnit:r})}return J.intersector.pick($,function(A){if(A){var e="",t=A.object.modelKey,i=null;t&&(i=J.viewer.modelManager.getModel(t))&&i.originalLengthUnit&&(e=i.originalLengthUnit);var n=A.point,o=A.object.geometry,r=(new At).extractRotation(A.object.matrix.clone()),a=A.object.matrixWorld.clone(),s=J.camera.projScreenMatrix,l=$.mouse,c=$.viewportSize,d=null;null!=A.indexInfo&&(d=A.indexInfo);var h=o.attributes.position.array,u=o.attributes.normal.array,p=[],g=0,f=0;d?(p=o.index.array,f=(g=d.indexStart)+d.indexCount,d.positionStart/3):(i&&i.merged&&a.multiply(A.matrix),f=(p=Qu(o.attributes.position.array,o.index.array)).length);for(var m=1/0,v=new Ue,y=[],C=[],I=kh.getMin(p.slice(g,f)),x=g;x<f;x+=1){var b=new Ue(h[3*p[x]],h[3*p[x]+1],h[3*p[x]+2]);b.applyMatrix4(a);var E=b.clone();E.applyMatrix4(s);var w=.5*(E.x-l.x)*c.width,M=.5*(E.y-l.y)*c.height;(D=Math.sqrt(w*w+M*M))<m&&(m=D,v.copy(b)),d&&C.push(p[x]-I)}var B=n.clone(),_=!1,S=null,T=!1;if(m<5)Z.hasGroup(Ap.MEASUREPICKPLANE)&&Z.removeGroupByName(Ap.MEASUREPICKPLANE),B=v.clone(),_=!0;else{var K=function(A,e,t){var i=new Ue;i.subVectors(e,A);var n=new Ue;n.subVectors(t,A);var o=i.dot(n);if(o<0)return A;var r=i.dot(i);if(r<o)return e;o/=r;var a=A.clone();return a.addScaledVector(i,o),a};m=1/0;var F=new Ue,L=new Ue;v=new Ue;var O=[];O=d?(y=h.slice(d.positionStart,d.positionStart+d.positionCount),ku(y,C)):(y=h,ku(o.attributes.position.array,o.index.array));for(x=0;x<O.length;x+=2){var U=new Ue(y[3*O[x]],y[3*O[x]+1],y[3*O[x]+2]);U.applyMatrix4(a);var N=new Ue(y[3*O[x+1]],y[3*O[x+1]+1],y[3*O[x+1]+2]);N.applyMatrix4(a);var R=K(U,N,n),P=R.clone();P.applyMatrix4(s);var D;w=.5*(P.x-l.x)*c.width,M=.5*(P.y-l.y)*c.height;(D=Math.sqrt(w*w+M*M))<m&&(m=D,F.copy(U),L.copy(N),v.copy(R))}if(C=y=null,m<5)Z.hasGroup(Ap.MEASUREPICKPLANE)&&Z.removeGroupByName(Ap.MEASUREPICKPLANE),(S=[]).push(F),S.push(L),B=v.clone();else{if(Ah.MeasureHighlightPlane){p=o.index.array;var Q=new At;Q.getInverse(a);var k=new Ue(n.x,n.y,n.z);k.applyMatrix4(Q);var z=zu(h,u,p,k,A.face.normal),V=new Gi;V.setIndex(z),V.addAttribute("position",o.attributes.position,3),V.addAttribute("normal",o.attributes.normal,3);var H=ku(h,z),G=new Gi;G.setIndex(H),G.addAttribute("position",o.attributes.position,3),Z.hasGroup(Ap.MEASUREPICKPLANE)&&Z.removeGroupByName(Ap.MEASUREPICKPLANE);var j=Z.getOrCreateGroup(Ap.MEASUREPICKPLANE,{priority:1,globalSpace:!0}),W=new ji(V,new yi({color:1170103,opacity:.1,transparent:!0}));W.applyMatrix(A.object.matrix),j.add(W);var q=new Zr(G,new Yr({color:1170103}));q.applyMatrix(A.object.matrix),j.add(q),j.updateMatrixWorld(!0),J.updateHighlight()}T=!0}}X&&Y.copy(B),AA(B,_,S,T,A.face.normal.clone().applyMatrix4(r),A.userId,e)}else Z.hasGroup(Ap.MEASUREPICKPLANE)&&Z.removeGroupByName(Ap.MEASUREPICKPLANE),AA(null,!1,null,!1)}),h},handleMouseHover:function(i){var n=this,o=this.cameraControl,r=o.viewer.modelManager.sceneState;if(Ah.Hover){var a=o.screenToCanvas(i.clientX,i.clientY),A=new Le(i.clientX,i.clientY),e=o.getIntersectContext(A);o.intersector.pick(e,function(A){function e(A){switch(A.objectType){case sh.Marker3d:A.object.setAttributeSize(A.index,A.currentSize);break;default:r.clearHover()}}if(A){var t=Ah.Hover||A.hoverEnabled;n.lastIntersected&&(n.lastIntersected.userId!==A.userId&&e(n.lastIntersected),n.lastIntersected.hoverEnabled&&s(null)),t&&(n.lastIntersected&&n.lastIntersected.userId===A.userId||(!function(A){switch(A.objectType){case sh.Marker3d:var e=A.object;A.currentSize=e.getAttributeSize(A.index),e.setAttributeSize(A.index,Math.floor(1.5*A.currentSize));break;default:r.setHoverId(Ah.EnableRenderPass?A.object.originalId:A.userId)}}(A),n.lastIntersected=A),s(A,!0)),o.updateHighlight()}else n.lastIntersected&&(e(n.lastIntersected),s(n.lastIntersected=null),o.updateHighlight())})}function s(A,e){var t=o.viewer.modelManager;null!==A&&n.scene.intersectToWorld(A),t.dispatchEvent({type:lh.ON_HOVER_PICK,event:i,canvasPos:{x:a.x,y:a.y},intersectInfo:A?{selectedObjectId:A.userId,objectType:A.objectType,selectable:e,modelKey:A.modelKey,worldPosition:A.worldPosition,worldBoundingBox:A.worldBoundingBox,point:A.point,innnerDebugging:A.innnerDebugging,object:A.object}:null})}},_canPick:function(){return this.cameraControl.viewer.modelManager.hasModelDataReady()},setSelectedIdsForOutline:function(A){this.cameraControl.viewer.composer&&this.cameraControl.viewer.composer.setSelectedIds(A)}};var xp=function(A,e){this.name=A,this.cameraControl=e,this.mouseButtons={ORBIT:pA.LEFT,PAN2:pA.MIDDLE,PAN:pA.RIGHT},this.StateType={NONE:-1,ROTATE:0,DOLLY:1,PAN:2},this.state=this.StateType.NONE,this.zoomSpeed=Math.pow(.95,.2),this.defaultMovementSpeed=.005*Ah.SceneSize,this.movementSpeed=this.defaultMovementSpeed,this.minMovementSpeed=.001,this.defaultKeyPanSpeed=2,this.keyPanSpeed=this.defaultKeyPanSpeed,this.minKeyPanSpeed=.01,this.wheelZoomFactor=45e-5};xp.prototype.getName=function(){return this.name},xp.prototype.destroy=function(){this.scene=null,this.domElement=null,this.cameraControl=null,this.mouseButtons=null},xp.prototype.onExit=function(){},xp.prototype.onEnter=function(){},xp.prototype.processMouseDown=function(A){},xp.processMouseMove=function(A){},xp.prototype.processMouseUp=function(A){},xp.prototype.processMouseWheel=function(A){},xp.prototype.processMouseDoubleClick=function(A){},xp.prototype.processKeyDown=function(A){},xp.prototype.processKeyUp=function(A){},xp.prototype.processTouchstart=function(A){},xp.prototype.processTouchmove=function(A){},xp.prototype.processTouchend=function(A){},xp.prototype.processHover=function(A){},xp.prototype.moveTo=function(A,e,t){},xp.prototype.rotateTo=function(A){},xp.prototype.dispatchEvent=function(A){this.cameraControl.viewer.modelManager.dispatchEvent(A)},xp.prototype.getDomElement=function(){return this.domElement},xp.prototype.getRendererDomElement=function(){return this.rendererDomElement},xp.prototype.updateButtons=function(A){void 0!==A.ORBIT&&(this.mouseButtons.ORBIT=A.ORBIT),void 0!==A.PAN&&(this.mouseButtons.PAN=A.PAN),void 0!==A.PAN2&&(this.mouseButtons.PAN2=A.PAN2),void 0!==A.ZOOM&&(this.mouseButtons.ZOOM=A.ZOOM)};var bp=function(A,e){xp.call(this,A,e),this.oldMouseX=-1,this.oldMouseY=-1,this.rotatePivot=null,this._rotateStart=new Le,this._rotateEnd=new Le,this._rotateDelta=new Le,this._lastTrackingPoint=null,this.rotateSpeed=1,this._dollyStart=new Le,this._dollyEnd=new Le,this._dollyDelta=new Le,this._dollyCenter=new Le,this.zoomSpeed=Math.pow(.95,.2),this.modelManager=e.viewer.modelManager,this._panStart=new Le,this._panEnd=new Le,this._panDelta=new Le,this._pan=new Ue,this._worldDimension=new Le,this.pickHelper=new Ip(e),this.intersectOfMouseDown=null,this.timeId=null,this.longTapFlag=!1,this.selectPad=(zh.isMobileDevice(),null),this.startPt=new Le;var t=this;this.longTap=function(){t.longTapFlag=!0,Gh.log("long tap"),t.selectPad&&t.selectPad.showOverlay(t.startPt)},this._reqid=0,this._animateBinded=this._animate.bind(this),this._clock=new _c,this._moving=!1};((bp.prototype=Object.create(xp.prototype)).constructor=bp).prototype.destroy=function(){xp.prototype.destroy.call(this),this.pickHelper.destroy(),this.pickHelper=null,this.intersectOfMouseDown=null,this.selectPad&&(this.selectPad=null),this.timeId=null},bp.prototype.beginPan=function(A,e){this._panStart.set(A,e),this._worldDimension=this.getWorldDimension(A,e)},bp.prototype.processMouseDown=function(A){this.oldMouseX=A.clientX,this.oldMouseY=A.clientY;var e=this.cameraControl;this.intersectOfMouseDown=null,A.preventDefault();var t="";if(A.button===this.mouseButtons.ORBIT){if(Ju.NoRotate)return;this.rotatePivot=e.calculatePivot(Ju.RotatePivotMode,{x:A.clientX,y:A.clientY}),this.state=this.StateType.ROTATE,this._rotateStart.set(A.clientX,A.clientY),this._lastTrackingPoint=null,t=mh.ORBIT}else if(A.button===this.mouseButtons.ZOOM){if(Ju.NoZoom)return;this.state=this.StateType.DOLLY,this._dollyStart.set(A.clientX,A.clientY),t=mh.ZOOM}else if(A.button===this.mouseButtons.PAN||A.button===this.mouseButtons.PAN2){if(Ju.NoPan)return;this._panStart.set(A.clientX,A.clientY),this._worldDimension=e.getWorldDimension(A.clientX,A.clientY),this.state=this.StateType.PAN,t=mh.PAN}this.dispatchEvent({type:lh.ON_CONTROL_BEGIN,name:t,control:this.name})},bp.prototype.processMouseMove=function(A){var e=this.cameraControl;switch(A.preventDefault(),this.state){case this.StateType.ROTATE:if(this._rotateEnd.set(A.clientX,A.clientY),this._rotateDelta.subVectors(this._rotateEnd,this._rotateStart),0===this._rotateDelta.x&&0===this._rotateDelta.y)return;this._rotateStart.copy(this._rotateEnd),e.processRotate(this._rotateDelta,this.rotatePivot);break;case this.StateType.DOLLY:if(this._dollyEnd.set(A.clientX,A.clientY),this._dollyDelta.subVectors(this._dollyEnd,this._dollyStart),0===this._dollyDelta.x&&0===this._dollyDelta.y)return;this.cameraControl.adjustCameraForDolly(0<this._dollyDelta.y?this.zoomSpeed:1/this.zoomSpeed,null),this._dollyStart.copy(this._dollyEnd);break;case this.StateType.PAN:if(this._panEnd.set(A.clientX,A.clientY),this._panDelta.subVectors(this._panEnd,this._panStart),0===this._panDelta.x&&0===this._panDelta.y)return;this.cameraControl.panOnWorld(this._panStart,this._panEnd,this._pan,this._worldDimension),this.cameraControl.adjustCameraForPan(this._pan),this._panStart.copy(this._panEnd)}this.state!==this.StateType.NONE&&this.cameraControl.update(!0)},bp.prototype.processMouseUp=function(A){if(this.state===this.StateType.NONE)return!1;this.intersectOfMouseDown=null;var e=this.cameraControl;this.oldMouseX===A.clientX&&this.oldMouseY===A.clientY||e.update(!0),this.state=this.StateType.NONE,this.rotatePivot=null,e.endOperation();var t="";return A.button===this.mouseButtons.ORBIT?t=mh.ORBIT:A.button===this.mouseButtons.ZOOM?t=mh.ZOOM:A.button!==this.mouseButtons.PAN&&A.button!==this.mouseButtons.PAN2||(t=mh.PAN),this.dispatchEvent({type:lh.ON_CONTROL_END,name:t,control:this.name}),!0},bp.prototype.processMouseWheel=function(A){var e=this.cameraControl;if(!Ju.NoZoom){A.preventDefault(),A.stopPropagation();var t=0;A.wheelDelta?t=A.wheelDelta:A.deltaY&&(t=40*-A.deltaY),720<Math.abs(t)&&(t=0<t?720:-720),t*=this.wheelZoomFactor,Ju.ReverseWheelDirection&&(t*=-1),e.zoom(t,A.clientX,A.clientY),e.delayHandle(),this.dispatchEvent({type:lh.ON_CONTROL_ZOOM})}},bp.prototype.processKeyDown=function(A){if(!Ju.NoKey&&!Ju.NoPan){var e=this.cameraControl,t=null;Ah.MergeComponent?(this.animationStarted||(this.animationStarted=!0,this._start()),t=!1):(t=!0,e.delayHandle());var i=!(this._moving=!0),n=this.movementSpeed*Ju.MovementSpeedRate,o=this.keyPanSpeed*Ju.MovementSpeedRate;switch(A.keyCode){case Yu.ZERO:this.keyPanSpeed=e.defaultKeyPanSpeed,this.movementSpeed=e.defaultMovementSpeed;break;case Yu.PLUS:this.keyPanSpeed*=1.1,this.movementSpeed*=1.1;break;case Yu.SUB:this.keyPanSpeed*=.9,this.keyPanSpeed<this.minKeyPanSpeed&&(this.keyPanSpeed=this.minKeyPanSpeed),this.movementSpeed*=.9,this.movementSpeed<this.minMovementSpeed&&(this.movementSpeed=this.minMovementSpeed);break;case Yu.Q:e.pan(0,o),i=!0;break;case Yu.E:e.pan(0,-o),i=!0;break;case Yu.LEFT:e.processRotate({x:-10,y:0},this.rotatePivot),i=!0;break;case Yu.A:e.pan(o,0),i=!0;break;case Yu.RIGHT:e.processRotate({x:10,y:0},this.rotatePivot),i=!0;break;case Yu.D:e.pan(-o,0),i=!0;break;case Yu.UP:e.processRotate({x:0,y:-10},this.rotatePivot),i=!0;break;case Yu.W:e.moveStraight(n,!A.shiftKey),i=!0;break;case Yu.DOWN:e.processRotate({x:0,y:10},this.rotatePivot),i=!0;break;case Yu.S:e.moveStraight(-n,!A.shiftKey),i=!0}i&&t&&e.update(!0)}},bp.prototype.processKeyUp=function(A){if(!Ju.NoKey&&!Ju.NoPan)switch(A.keyCode){case Yu.ESC:this.cameraControl.viewer.modelManager.sceneState.clearSelection(),this.pickHelper.lastPickedUserId=void 0,this.cameraControl.updateView(!0)}},bp.prototype.processTouchstart=function(A){this.startPt.set(A.touches[0].clientX,A.touches[0].clientY),this.timeId&&clearTimeout(this.timeId);var e=this.cameraControl;switch(this.timeId=setTimeout(this.longTap,400),this.selectPad&&this.selectPad.hideOverlay(),A.touches.length){case 1:if(Ju.NoRotate)return;this.rotatePivot=e.calculatePivot(Ju.RotatePivotMode,{x:A.touches[0].clientX,y:A.touches[0].clientY}),this._rotateStart.set(A.touches[0].clientX,A.touches[0].clientY),this.state=this.StateType.ROTATE;break;case 2:if(!Ju.NoZoom){var t=A.touches[0].clientX-A.touches[1].clientX,i=A.touches[0].clientY-A.touches[1].clientY;this._dollyStart.set(0,Math.sqrt(t*t+i*i))}if(!Ju.NoPan)this._panStart.set(.5*(A.touches[0].clientX+A.touches[1].clientX),.5*(A.touches[0].clientY+A.touches[1].clientY));break;default:this.state=this.StateType.NONE}},bp.prototype.processTouchmove=function(A){var e=this.cameraControl;switch(A.preventDefault(),A.touches.length){case 1:if(Ju.NoRotate)return;this._rotateEnd.set(A.touches[0].clientX,A.touches[0].clientY),this._rotateDelta.subVectors(this._rotateStart,this._rotateEnd);var t=this.cameraControl.getClientSize(),i=2*Math.PI*this._rotateDelta.x/t.x*this.rotateSpeed,n=2*Math.PI*this._rotateDelta.y/t.y*this.rotateSpeed;e.handleRotation(i,n,this.rotatePivot),this._rotateStart.copy(this._rotateEnd);break;case 2:if(e.clearTouchRotateState(),!Ju.NoZoom){var o=A.touches[0].clientX-A.touches[1].clientX,r=A.touches[0].clientY-A.touches[1].clientY,a=Math.sqrt(o*o+r*r);if(this._dollyEnd.set(0,a),this._dollyDelta.subVectors(this._dollyEnd,this._dollyStart),3<Math.abs(this._dollyDelta.y)){var s=0;0<this._dollyDelta.y?s=1/Math.pow(this.zoomSpeed,.5*this._dollyDelta.y):this._dollyDelta.y<0&&(s=Math.pow(this.zoomSpeed,.5*-this._dollyDelta.y)),this._dollyStart.copy(this._dollyEnd),e.touchDolly(.5*(A.touches[0].clientX+A.touches[1].clientX),.5*(A.touches[0].clientY+A.touches[1].clientY),s),this.state=this.StateType.DOLLY}}if(!Ju.NoPan){var l=.5*(A.touches[0].clientX+A.touches[1].clientX),c=.5*(A.touches[0].clientY+A.touches[1].clientY);if(this._panEnd.set(l,c),this._panDelta.subVectors(this._panEnd,this._panStart),Math.abs(this._panDelta.x)<3&&Math.abs(this._panDelta.y)<3)return;this._worldDimension=e.getWorldDimension(l,c),e.panOnWorld(this._panStart,this._panEnd,this._pan,this._worldDimension),e.adjustCameraForPan(this._pan),this._panStart.copy(this._panEnd),this.state=this.StateType.PAN}}e.touchUpdate()},bp.prototype.processTouchend=function(A){this.timeId&&clearTimeout(this.timeId),this.longTapFlag&&(this.longTapFlag=!1,A.preventDefault());var e=this.cameraControl;switch(A.touches.length){case 0:this.state=this.StateType.NONE,e.touchEndHandler(A);break;case 1:if(Ju.NoRotate)return;this._rotateStart.set(A.touches[0].clientX,A.touches[0].clientY),this.state=this.StateType.ROTATE}},bp.prototype.processHover=function(A){this.pickHelper.handleMouseHover(A)},bp.prototype.moveTo=function(A){if(void 0!==A){var e=this.cameraControl;if(!Ju.NoKey&&!Ju.NoPan){var t=this.movementSpeed*Ju.MovementSpeedRate,i=this.keyPanSpeed*Ju.MovementSpeedRate,n=yh;switch(A){case n.FORWARD:e.moveForward(t,!0);break;case n.BACK:e.moveBackward(t,!0);break;case n.LEFT:e.pan(i,0);break;case n.RIGHT:e.pan(-i,0);break;case n.UP:e.pan(0,i);break;case n.DOWN:e.pan(0,-i);break;default:A=n.NONE}A!==n.NONE&&e.update(!0,!0)}}},bp.prototype._updateMove=function(){this._moving&&(this._moving=!1,this.cameraControl.update(!0))},bp.prototype._animate=function(){this._reqid=requestAnimationFrame(this._animateBinded),this._updateMove()},bp.prototype._start=function(){this._animate()},bp.prototype._stop=function(){cancelAnimationFrame(this._reqid)},bp.prototype.onExit=function(){Ah.MergeComponent&&this.animationStarted&&(this._stop(),this.animationStarted=!1)};var Ep=function(A){bp.call(this,mh.ORBIT,A),this.mouseButtons={ORBIT:pA.LEFT,PAN2:pA.MIDDLE,PAN:pA.RIGHT}};(Ep.prototype=Object.create(bp.prototype)).constructor=Ep;var wp=function(A){Ep.call(this,A,mh.PICK)};((wp.prototype=Object.create(Ep.prototype)).constructor=wp).prototype.processMouseUp=function(A){A.preventDefault();var e=Math.abs(this.oldMouseX-A.clientX)<=1&&Math.abs(this.oldMouseY-A.clientY)<=1;if(A.button===pA.LEFT&&e)return this.pickHelper.click(A,this.intersectOfMouseDown),this.cameraControl.update(!0),void(this.intersectOfMouseDown=null);e||A.button!==this.mouseButtons.ORBIT&&A.button!==this.mouseButtons.PAN||this.cameraControl.update(!0),this.intersectOfMouseDown=null,this.state=this.StateType.NONE;var t="";A.button===this.mouseButtons.ORBIT?t=mh.ORBIT:A.button===this.mouseButtons.ZOOM?t=mh.ZOOM:A.button!==this.mouseButtons.PAN&&A.button!==this.mouseButtons.PAN2||(t=mh.PAN),this.dispatchEvent({type:lh.ON_CONTROL_END,name:t,Control:this.name})},wp.prototype.processMouseDoubleClick=function(A){A.button===pA.LEFT&&this.pickHelper.doubleClick(A)};var Mp=function(A){xp.call(this,mh.WALK,A),this.mouseButtons={ORBIT:pA.LEFT,PAN2:pA.MIDDLE,PAN:pA.RIGHT},this.pickHelper=new Ip(A),this.lastMousePoint=new Le,this._reqid=0,this._animateBinded=this._animate.bind(this),this._clock=new _c,this.moveState={up:0,down:0,left:0,right:0,forward:0,back:0,pitchUp:0,pitchDown:0,yawLeft:0,yawRight:0,rollLeft:0,rollRight:0},this.startPt=new Le,this.timeId=null,this.rotateSpeed=1,this._rotateStart=new Le,this._rotateEnd=new Le,this._rotateDelta=new Le,this._dollyStart=new Le,this._dollyEnd=new Le,this._dollyDelta=new Le,this._dollyCenter=new Le,this.zoomSpeed=Math.pow(.95,.2),this._panStart=new Le,this._panEnd=new Le,this._panDelta=new Le,this._pan=new Ue,this.selectPad=zh.isMobileDevice()?new Cp(this):null,this.moveVector=new Ue(0,0,0),this.rotationVector=new Ue(0,0,0),this.zoomDelta=0,this.rotateStart=new Le,this.rotateEnd=new Le,this.rotateDelta=new Le,this.firstRotate=!0,this.dragLook=!0,this.lockHeightEnabled=!1,this.isLockHeight=!1,this.lockedHeight=0,this.pickEnabled=!0;var e=A.viewer.getScene().getBoundingBoxWorld();this.defaultMovementSpeed=e?e.getSize(new Ue(0,0,0)).length()/10:1500,this.movementSpeed=this.defaultMovementSpeed};((Mp.prototype=Object.create(xp.prototype)).constructor=Mp).prototype._animate=function(){this._reqid=requestAnimationFrame(this._animateBinded),this.updateWalkMove()},Mp.prototype._start=function(){this._animate()},Mp.prototype._stop=function(){cancelAnimationFrame(this._reqid)},Mp.prototype._updateMovement=function(){this.moveVector.x=-this.moveState.left+this.moveState.right,this.moveVector.z=this.isLockHeight?0:-this.moveState.down+this.moveState.up,this.moveVector.y=-this.moveState.forward+this.moveState.back},Mp.prototype._updateRotation=function(){this.rotationVector.x=Ju.LockAxisZ?0:-this.moveState.pitchDown+this.moveState.pitchUp,this.rotationVector.z=-this.moveState.yawRight+this.moveState.yawLeft,this.rotationVector.y=-this.moveState.rollRight+this.moveState.rollLeft},Mp.prototype._doRotate=function(A){var e=this.cameraControl.getContainerDimensions(),t=e.height/2;this.moveState.yawLeft=-A.x/(e.width/2),this.moveState.pitchDown=A.y/t,this._updateRotation()},Mp.prototype.destroy=function(){xp.prototype.destroy.call(this),this.rotateStart=null,this.rotateEnd=null,this.rotateDelta=null,this.pickHelper.destroy(),this.pickHelper=null,this.lastMousePoint=null,this._clock=null},Mp.prototype.processMouseDown=function(A){if(A.preventDefault(),A.stopPropagation(),this.lastMousePoint.set(A.clientX,A.clientY),this.firstRotate=!1,A.button===this.mouseButtons.ORBIT){if(Ju.NoRotate)return;this.rotateStart.set(A.clientX,A.clientY),this.state=this.StateType.ROTATE,this.dispatchEvent({type:lh.ON_CONTROL_BEGIN,name:"look",control:this.name})}},Mp.prototype.processMouseUp=function(A){return A.preventDefault(),A.stopPropagation(),this.pickEnabled&&A.button===pA.LEFT&&Math.abs(this.lastMousePoint.x-A.clientX)<2&&Math.abs(this.lastMousePoint.y-A.clientY)<2?(this.state=this.StateType.NONE,void this.pickHelper.click(A)):(this.state===this.StateType.ROTATE&&(this.moveState.yawLeft=this.moveState.pitchDown=0,this.dispatchEvent({type:lh.ON_CONTROL_END,name:"look",control:this.name})),this.state=this.StateType.NONE,!0)},Mp.prototype.processMouseMove=function(A){A.preventDefault(),this.dragLook&&this.state===this.StateType.ROTATE&&(this.rotateEnd.set(A.clientX,A.clientY),this.rotateDelta.subVectors(this.rotateEnd,this.rotateStart),this.rotateStart.copy(this.rotateEnd),this._doRotate(this.rotateDelta))},Mp.prototype.processTouchstart=function(A){this.startPt.set(A.touches[0].clientX,A.touches[0].clientY),this.timeId&&clearTimeout(this.timeId);switch(this.timeId=setTimeout(this.longTap,400),this.selectPad&&this.selectPad.hideOverlay(),A.touches.length){case 1:if(Ju.NoRotate)return;this._rotateStart.set(A.touches[0].clientX,A.touches[0].clientY),this.state=this.StateType.ROTATE,console.log(this._rotateStart);break;case 2:if(!Ju.NoPan)this._panStart.set(.5*(A.touches[0].clientX+A.touches[1].clientX),.5*(A.touches[0].clientY+A.touches[1].clientY));break;default:this.state=this.StateType.NONE}},Mp.prototype.processTouchmove=function(A){this.timeId&&clearTimeout(this.timeId);var e=this.cameraControl;switch(A.preventDefault(),A.touches.length){case 1:if(Ju.NoRotate)return;this._rotateEnd.set(A.touches[0].clientX,A.touches[0].clientY),this._rotateDelta.subVectors(this._rotateStart,this._rotateEnd);var t=this.cameraControl.getClientSize(),i=2*Math.PI*this._rotateDelta.x/t.x*this.rotateSpeed,n=2*Math.PI*this._rotateDelta.y/t.y*this.rotateSpeed;e.touchUpdateRotation(i,n),this._rotateStart.copy(this._rotateEnd);break;case 2:if(e.clearTouchRotateState(),!Ju.NoPan){var o=.5*(A.touches[0].clientX+A.touches[1].clientX),r=.5*(A.touches[0].clientY+A.touches[1].clientY);if(this._panEnd.set(o,r),this._panDelta.subVectors(this._panEnd,this._panStart),Math.abs(this._panDelta.x)<3&&Math.abs(this._panDelta.y)<3)return;this._worldDimension=e.getWorldDimension(o,r),e.panOnWorld(this._panStart,this._panEnd,this._pan,this._worldDimension),e.adjustCameraForPan(this._pan),this._panStart.copy(this._panEnd),this.state=this.StateType.PAN}}e.touchUpdate()},Mp.prototype.processTouchend=function(A){this.timeId&&clearTimeout(this.timeId),this.longTapFlag&&(this.longTapFlag=!1,A.preventDefault());var e=this.cameraControl;switch(A.touches.length){case 0:this.state=this.StateType.NONE,e.touchEndHandler(A);break;case 1:if(Ju.NoRotate)return;this._rotateStart.set(A.touches[0].clientX,A.touches[0].clientY),this.state=this.StateType.ROTATE}},Mp.prototype.processHover=function(A){A.preventDefault(),this.dragLook||(this.firstRotate&&(this.firstRotate=!1,this.rotateStart.set(A.clientX,A.clientY)),this.rotateEnd.set(A.clientX,A.clientY),this.rotateDelta.subVectors(this.rotateEnd,this.rotateStart),this.rotateStart.copy(this.rotateEnd),this._doRotate(this.rotateDelta))},Mp.prototype.processKeyDown=function(A){if(!Ju.NoKey&&!A.altKey){var e=yh.NONE;switch(A.keyCode){case Yu.ZERO:case Yu.NUMPAD0:this.movementSpeed=this.defaultMovementSpeed;break;case Yu.PLUS:case Yu.NUMPADADD:this.movementSpeed*=1.1;break;case Yu.SUB:case Yu.NUMPADSUBTRACT:this.movementSpeed*=.9,this.movementSpeed<this.minMovementSpeed&&(this.movementSpeed=this.minMovementSpeed);break;case Yu.UP:case Yu.W:e=yh.FORWARD,this.moveState.forward=1;break;case Yu.DOWN:case Yu.S:e=yh.BACK,this.moveState.back=1;break;case Yu.LEFT:case Yu.A:e=yh.LEFT,this.moveState.left=1;break;case Yu.RIGHT:case Yu.D:e=yh.RIGHT,this.moveState.right=1;break;case Yu.Q:e=yh.UP,this.moveState.up=1;break;case Yu.E:e=yh.DOWN,this.moveState.down=1;break;case Yu.TAB:return this.moveVector.set(0,0,0),this.moveState.forward=0,this.moveState.back=0,this.moveState.left=0,this.moveState.right=0,this.moveState.up=0,void(this.moveState.down=0)}this._updateMovement(),this._updateRotation(),e!==yh.NONE&&this.dispatchEvent({type:lh.ON_CONTROL_KEYDOWN,event:A,direction:e,control:this.name})}},Mp.prototype.processKeyUp=function(A){if(!Ju.NoKey){var e=yh.NONE;switch(A.keyCode){case Yu.UP:case Yu.W:e=yh.FORWARD,this.moveState.forward=0;break;case Yu.DOWN:case Yu.S:e=yh.BACK,this.moveState.back=0;break;case Yu.LEFT:case Yu.A:e=yh.LEFT,this.moveState.left=0;break;case Yu.RIGHT:case Yu.D:e=yh.RIGHT,this.moveState.right=0;break;case Yu.Q:e=yh.UP,this.moveState.up=0;break;case Yu.E:e=yh.DOWN,this.moveState.down=0;break;default:e=yh.NONE}this._updateMovement(),this._updateRotation(),e!==yh.NONE&&this.dispatchEvent({type:lh.ON_CONTROL_KEYUP,event:A,direction:e,control:this.name})}},Mp.prototype.updateWalkMove=function(){var A=this._clock.getDelta(),e=this.cameraControl,t=e.camera.position.z;if(0!==this.moveVector.x||0!==this.moveVector.y||0!==this.moveVector.z||0!==this.rotationVector.x||0!==this.rotationVector.y||0!==this.rotationVector.z||0!==this.zoomDelta){var i=this.movementSpeed*Ju.WalkSpeedRate*A;if(!0===Ah.WalkingWithGravity&&(this.moveVector.z=0,e.computeManHeight(),e.computeGravity()),e.dirtyCamera(!0),0!==this.zoomDelta)e.zoomCameraForWalk(1+this.zoomDelta*A),this.zoomDelta=0;e.translateCameraForWalk(this.moveVector,i),e.rotateCameraForWalk(this.rotationVector,this.dragLook?1:2),e.flyOnWorld(!1),t!==e.camera.position.z&&e.viewer.modelManager.dispatchEvent({type:lh.ON_CAMERA_HEIGHT_CHANGED,cameraPosition:e.camera.position.clone()})}},Mp.prototype.onEnter=function(){var A,e,t,i,n=this.cameraControl.getCamera(),o=this.cameraControl.scene;n.isPerspective||(console.log("Current camera is Orthographic"),n.toPerspective()),o.getBoundingBox().containsPoint(n.position)&&n.position.z!==n.target.z&&(e=(A=n).target.clone().sub(A.position),t=e.length(),(i=e.clone()).y=0,i.normalize(),i.multiplyScalar(t),A.target.addVectors(n.position,i)),this._start()},Mp.prototype.onExit=function(){this._stop()},Mp.prototype.rotateTo=function(A){this._doRotate(A)},Mp.prototype.moveTo=function(A,e,t){if(void 0===t&&(t=!0),void 0===e&&(e=1),t)switch(A){case yh.FORWARD:this.moveState.forward=e;break;case yh.BACK:this.moveState.back=e;break;case yh.LEFT:this.moveState.left=e;break;case yh.RIGHT:this.moveState.right=e;break;case yh.UP:this.moveState.up=e;break;case yh.DOWN:this.moveState.down=e}else switch(A){case yh.FORWARD:this.moveState.forward=0;break;case yh.BACK:this.moveState.back=0;break;case yh.LEFT:this.moveState.left=0;break;case yh.RIGHT:this.moveState.right=0;break;case yh.UP:this.moveState.up=0;break;case yh.DOWN:this.moveState.down=0}this._updateMovement()},Mp.prototype.setHeightLocked=function(A){this.lockHeightEnabled&&this.isLockHeight!==A&&(this.isLockHeight=A)},Mp.prototype.setDragLook=function(A){this.dragLook!==A&&(this.firstRotate=!0,this.dragLook=A)};var Bp=function(A){this.name=A,this._mousePressed=!1};Bp.prototype.getName=function(){return this.name},Bp.prototype.onExit=function(){},Bp.prototype.processMouseDown=function(A){return!1},Bp.prototype.processMouseMove=function(A){return!1},Bp.prototype.processMouseUp=function(A){return!1},Bp.prototype.processMouseWheel=function(A){return!1},Bp.prototype.processMouseDoubleClick=function(A){return!1},Bp.prototype.processKeyDown=function(A){return!1},Bp.prototype.processKeyUp=function(A){switch(A.keyCode){case Yu.ESC:this._mousePressed=!1}return!1},Bp.prototype.processTouchstart=function(A){return!1},Bp.prototype.processTouchmove=function(A){return!1},Bp.prototype.processTouchend=function(A){return!1},Bp.prototype.processHover=function(A){return!1},Bp.prototype.onEvent=function(A){var e=!1;switch(A.type){case"touchmove":e=this.processTouchmove(A);break;case"touchstart":e=this.processTouchstart(A);break;case"touchend":e=this.processTouchend(A);break;case"keydown":e=this.processKeyDown(A);break;case"keyup":e=this.processKeyUp(A);break;case"mousewheel":case"DOMMouseScroll":e=this.processMouseWheel(A);break;case"mousedown":this._mousePressed=!0,e=this.processMouseDown(A);break;case"mousemove":e=this._mousePressed?this.processMouseMove(A):this.processHover(A);break;case"mouseup":this._mousePressed=!1,e=this.processMouseUp(A);break;case"dblclick":e=this.processMouseDoubleClick(A)}return e};var _p=function(o){Bp.call(this,vh.CLIP_BY_BOX),this.viewer=o,this.scene=o.getScene(),this.enablePick=!1,this.cameraControl=o.cameraControl,this.clipStartPoint=new Ue,this.startPt=new Le,this.onClipBox=!1;for(var r=[],A=0;A<6;A+=1)r.push(new En);var s=this.scene.getClipPlanes();s.updateClippingParams=function(A){if(0===A.iClipPlane.value)o.renderer.clippingPlanes=Object.freeze([]);else{for(var e=0,t=A.iClipPlane.value;e<t;e+=1){var i=A.vClipPlane.value[e],n=r[e];n.setComponents(-i.x,-i.y,-i.z,-i.w),n.normalize()}this.calculateClipBoundingBox(o.renderer.clippingPlanes=r)}},s.init(),this.selectIndex=null,this.planeDistance=0,this.offsetSpeed=.02,this.toggle=function(A,e){s.enable(A,e)},this.visible=function(A){s.visible=A},this.rotatable=function(A){s.rotatable=A},this.store=function(){return s.store()},this.restore=function(A){s.restore(A)},this.reset=function(){s.reset()},this.pointToScreen=function(A){var e=this.cameraControl.camera,t=new At;t.multiplyMatrices(e.projectionMatrix,e.matrixWorldInverse);var i=new Je(A.x,A.y,A.z,1);i.applyMatrix4(t);var n=new Le;n.x=(i.x/i.w+1)/2,n.y=1-(i.y/i.w+1)/2;var o=this.cameraControl.getContainerDimensions();return n.x=n.x*o.width+o.left,n.y=n.y*o.height+o.top,n},this.getPlaneDistanceInScreen=function(){if(null===this.selectIndex)return null;if(this.selectIndex<2){var A=s.center.clone(),e=s.center.clone();A.x-=s.cubeSize.x,e.x+=s.cubeSize.x;var t=this.pointToScreen(A),i=this.pointToScreen(e);return t.x-i.x}var n=s.center.clone(),o=s.center.clone();o.y-=s.cubeSize.y,n.y+=s.cubeSize.y;var r=this.pointToScreen(o),a=this.pointToScreen(n);return r.y-a.y},this.getPickPoint=function(A,e){var t=this.cameraControl.camera,i=this.cameraControl.getContainerDimensions(),n=(A-i.left)/i.width*2-1,o=(i.height-(e-i.top))/i.height*2-1,r=new $u;return r.setFromCamera(new Le(n,o),t),r.ray.intersectPlane(this.plane)},this.getSelectIndex=function(){return s.selectIndex},this._isVisible=function(){return s.visible},this.isRotate=function(){return s.rotatable},this.offset=function(A){var e=Math.floor(this.selectIndex/2);s.offset(this.selectIndex,3<this.selectIndex?this.selectIndex%2==1?-A*s.cubeSize.getComponent(e)*2:A*s.cubeSize.getComponent(e)*2:-A*s.cubeSize.getComponent(e)*2)},this.setSectionBox=function(A,e){var t=new ni(new Ue(A.x,A.y,A.z),new Ue(e.x,e.y,e.z));t.applyMatrix4(this.scene.getMatrixGlobal()),s.setSectionBox(t.min,t.max)},this.calculateOffsetByBox=function(A,e){var t=new ni(new Ue(A.x,A.y,A.z),new Ue(e.x,e.y,e.z));t.applyMatrix4(this.scene.getMatrixGlobal()),t.setFromCenterAndSize(t.getCenter(),t.getSize().multiplyScalar(this.scene.getExpandScalar())),s.calculateOffsetByBox(t.min,t.max)},this.moveSectionPlane=function(A,e){s.moveSectionPlane(A,e)},this.rotateSectionBox=function(A,e){s.rotateSectionBox(A,e)},this.rotate=function(A,e){2===this.selectIndex||3===this.selectIndex?s.rotX(e/180*Math.PI*.1):s.rotY(A/180*Math.PI*.1)},this.update=function(A){s.update(A)},this.cancelHighLight=function(){s.cancelHighLight()},this.highLight=function(){s.highLight()},this.setProcess=function(A,e){s.setProcess(A,e)},this.getProcess=function(A){return s.getProcess(A)}};((_p.prototype=Object.create(Bp.prototype)).constructor=_p).prototype.destroy=function(){this.cameraControl=null,this.intersectPoint=null,this.selectIndex=null,this.normal=null,this.plane=null,this.pickHelper=null,this.scene=null,this.viewer=null},_p.prototype.onExit=function(){this.toggle(!1,!1)},_p.prototype.processMouseDown=function(A){if(this.startPt.set(A.clientX,A.clientY),!this.enablePick&&A.button===pA.LEFT){var e=this.cameraControl.getRaycaster(A.clientX,A.clientY),t=this.scene.getClipPlanes().hitTest(e),i=this.cameraControl.getIntersectContext(new Le(A.clientX,A.clientY)),n=this.cameraControl.intersector.intersect(i,null,!0);if(null!==n&&n.distance<=t.distance)return Bp.prototype.processMouseDown(this,A);if(this.selectIndex=this.getSelectIndex(),this.planeDistance=this.getPlaneDistanceInScreen(),null!==this.selectIndex)return this.highLight(),this.cameraControl.needUpdateRenderList(!0),this.cameraControl.update(!0),this.enablePick=!0,this.clipStartPoint=e.ray.at(t.distance,this.clipStartPoint),!0}return Bp.prototype.processMouseDown(this,A)},_p.prototype.processHover=function(A){if(this.enablePick)return Bp.prototype.processHover(this,A);var e=!1,t=this.cameraControl.getRaycaster(A.clientX,A.clientY),i=this.scene.getClipPlanes(),n=this.getSelectIndex();null!==n&&this.cancelHighLight();i.hitTest(t);if(this.selectIndex=this.getSelectIndex(),null!==this.selectIndex){if(this.highLight(),!this.onClipBox)this.onClipBox=!0,this.cameraControl.viewer.modelManager.dispatchEvent({type:lh.ON_CLIP_HOVER,onClipBox:!0,event:A});e=!0}else if(this.onClipBox){this.onClipBox=!1,this.cameraControl.viewer.modelManager.dispatchEvent({type:lh.ON_CLIP_HOVER,onClipBox:!1,event:A})}return this.selectIndex!==n&&(this.cameraControl.needUpdateRenderList(!0),this.cameraControl.update(!0)),e},_p.prototype.processMouseUp=function(A){if(A.button===pA.LEFT){var e=this.cameraControl.getRaycaster(A.clientX,A.clientY),t=this.scene.getClipPlanes();null!==this.getSelectIndex()&&(this.cancelHighLight(),this.cameraControl.needUpdateRenderList(!0),this.cameraControl.update(!0));t.hitTest(e);if(this.selectIndex=this.getSelectIndex(),null!==this.selectIndex){if(this.highLight(),this.cameraControl.needUpdateRenderList(!0),this.cameraControl.update(!0),!this.onClipBox)this.onClipBox=!0,this.cameraControl.viewer.modelManager.dispatchEvent({type:lh.ON_CLIP_HOVER,onClipBox:!0,event:A})}else if(this.onClipBox){this.onClipBox=!1,this.cameraControl.viewer.modelManager.dispatchEvent({type:lh.ON_CLIP_HOVER,onClipBox:!1,event:A})}if(this.enablePick)return this.planeDistance=0,!(this.enablePick=!1)}return Bp.prototype.processMouseUp(this,A)},_p.prototype.processMouseMove=function(A){if(this.enablePick){if(this.isRotate())this.rotate(A.clientX-this.startPt.x,A.clientY-this.startPt.y),this.startPt.set(A.clientX,A.clientY);else if(!(A.clientX===this.startPt.x&&A.clientY===this.startPt.y)){var e=this.scene.getClipPlanes(),t=this.cameraControl.movePlane(e.clipplanes[this.selectIndex],A,this.startPt,!0,this.clipStartPoint);null!==t&&e.offset(this.selectIndex,t),this.startPt.set(A.clientX,A.clientY)}return this.cameraControl.update(!0),!0}return Bp.prototype.processMouseMove(this,A)},_p.prototype.processTouchstart=function(A){if(this.startPt.set(A.touches[0].clientX,A.touches[0].clientY),this.enablePick)return Bp.prototype.processTouchstart(this,A);var e=this.cameraControl.getRaycaster(A.touches[0].clientX,A.touches[0].clientY);return this.scene.getClipPlanes().hitTest(e),this.selectIndex=this.getSelectIndex(),this.planeDistance=this.getPlaneDistanceInScreen(),null!==this.selectIndex?(this.highLight(),this.cameraControl.needUpdateRenderList(!0),this.cameraControl.update(!0),this.update(),!0):void 0},_p.prototype.processTouchmove=function(A){if(null===this.selectIndex)return Bp.prototype.processTouchmove(this,A);if(this.isRotate())this.rotate(A.touches[0].clientX-this.startPt.x,A.touches[0].clientY-this.startPt.y),this.startPt.set(A.touches[0].clientX,A.touches[0].clientY);else{this.offset((this.selectIndex<2?A.touches[0].clientX-this.startPt.x:A.touches[0].clientY-this.startPt.y)/this.planeDistance),this.startPt.set(A.touches[0].clientX,A.touches[0].clientY)}return this.cameraControl.update(!0),this.update(),!0},_p.prototype.processTouchend=function(A){return this.selectIndex=null,this.planeDistance=0,this.enablePick&&(this.onUpdateUI({visible:!1}),this.startPt.x===A.touches[0].clientX&&this.startPt.y===A.touches[0].clientY&&this.pickHelper.click(A)),this.cameraControl.needUpdateRenderList(!0),this.cancelHighLight(),this.cameraControl.update(!0),this.update(),Bp.prototype.processTouchend(this,A)};var Sp=function(n){Bp.call(this,vh.CLIP_FILL),this.viewer=n,this.scene=n.getScene(),this.enablePick=!1,this.rotX=!0,this.onClipPlane=!1,this.cameraControl=n.cameraControl,this.startPt=new Le,this.endPt=new Le,this.frustum=new wn,this.modelManager=this.cameraControl.viewer.modelManager;var s=this.scene.getFillClipPlane();s.updateClippingParams=function(A){if(0===A.iClipPlane.value)n.renderer.clippingPlanes=Object.freeze([]);else{var e=[new En],t=A.vClipPlane.value[0],i=e[0];i.setComponents(-t.x,-t.y,-t.z,-t.w),i.normalize(),n.renderer.clippingPlanes=e,this.renderClipPlane=new En,this.renderClipPlane.setComponents(t.x,t.y,t.z,-t.w),this.renderClipPlane.normalize(),this.calculateFillClipBoundingBox(i.coplanarPoint(new Ue))}},s.init(),this.planeDistance=0,this.offsetSpeed=.02,this.toggle=function(A,e){s.enable(A,e),s.update()},this.visible=function(A){s.visible=A,s.update()},this.rotatable=function(A){s.rotatable=A,s.update()},this.hit=function(){return s.hit},this.pointToScreen=function(A){var e=this.cameraControl.camera,t=new At;t.multiplyMatrices(e.projectionMatrix,e.matrixWorldInverse);var i=new Je(A.x,A.y,A.z,1);i.applyMatrix4(t);var n=new Le;n.x=(i.x/i.w+1)/2,n.y=1-(i.y/i.w+1)/2;var o=this.cameraControl.getContainerDimensions();return n.x=n.x*o.width+o.left,n.y=n.y*o.height+o.top,n},this.getPlaneDistanceInScreen=function(){if(null===this.selectIndex)return null;if(this.selectIndex<2){var A=s.clipPlanes.center.clone(),e=s.clipPlanes.center.clone();A.x-=s.clipPlanes.cubeSize.x,e.x+=s.clipPlanes.cubeSize.x;var t=this.pointToScreen(A),i=this.pointToScreen(e);return t.x-i.x}var n=s.clipPlanes.center.clone(),o=s.clipPlanes.center.clone();o.y-=s.clipPlanes.cubeSize.y,n.y+=s.clipPlanes.cubeSize.y;var r=this.pointToScreen(o),a=this.pointToScreen(n);return r.y-a.y},this.getPickPoint=function(A,e){var t=this.cameraControl.camera,i=this.cameraControl.getContainerDimensions(),n=(A-i.left)/i.width*2-1,o=(i.height-(e-i.top))/i.height*2-1,r=new $u;return r.setFromCamera(new Le(n,o),t),r.ray.intersectPlane(this.plane)},this._isVisible=function(){return s.visible},this.isRotate=function(){return s.rotatable},this.offset=function(A){s.offset(A)},this.setOffset=function(A){s.setOffset(A)},this.rotate=function(A,e){this.rotX?s.rotX(e/180*Math.PI*.1):s.rotY(A/180*Math.PI*.1)},this.rotateAngleOffset=function(A,e){s.rotateAngleOffset(A,e)},this.setRotateAngle=function(A,e){s.setRotateAngle(A,e)},this.getRotateAngle=function(){return s.getRotateAngle()},this.changeNormal=function(A){s.changeNormal(A)},this.update=function(A){s.update(A)},this.cancelHighLight=function(){s.cancelHighLight()},this.highLight=function(){s.highLight()},this.store=function(){return s.store()},this.restore=function(A){s.restore(A)},this.setProcess=function(A){s.setProcess(A)},this.getProcess=function(){return s.getProcess()}};((Sp.prototype=Object.create(Bp.prototype)).constructor=Sp).prototype.destroy=function(){this.cameraControl=null,this.normal=null,this.plane=null,this.pickHelper=null,this.scene=null,this.viewer=null},Sp.prototype.onExit=function(){this.toggle(!1,!1)},Sp.prototype.processMouseDown=function(A){if(this.startPt.set(A.clientX,A.clientY),!this.enablePick&&A.button===pA.LEFT){var e=this.cameraControl.getRaycaster(A.clientX,A.clientY);if(this.scene.getFillClipPlane().hitTest(e),this.hit())return this.highLight(),this.cameraControl.needUpdateRenderList(!0),this.cameraControl.update(!0),!0}return Bp.prototype.processMouseDown(this,A)},Sp.prototype.processMouseUp=function(A){this.planeDistance=0;var e=!1;if(this.enablePick&&A.button===pA.LEFT)if(this.startPt.x===A.clientX&&this.startPt.y===A.clientY)this.pickHelper.click(A);else if(A.shiftKey||A.ctrlKey||A.altKey){this.endPt.set(A.clientX,A.clientY);var t=ah.Clear;A.ctrlKey?t=ah.Add:A.altKey&&(t=ah.Remove);var i=this;this.scene.pickByRect(this.frustum,t,function(){i.pickHelper.notifySelectionChanged(null,0,A)}),this.cameraControl.updateView(!0),e=!0}var n=this.cameraControl.getRaycaster(A.clientX,A.clientY);return this.scene.getFillClipPlane().hitTest(n),this.hit()?(this.highLight(),this.cameraControl.needUpdateRenderList(!0),this.cameraControl.update(!0),this.onClipPlane||(this.onClipPlane=!0,this.modelManager.dispatchEvent({type:lh.ON_CLIP_HOVER,onClipPlane:!0,event:A})),e=!0):(this.cancelHighLight(),this.cameraControl.needUpdateRenderList(!0),this.cameraControl.update(!0),this.onClipPlane&&(this.onClipPlane=!1,this.modelManager.dispatchEvent({type:lh.ON_CLIP_HOVER,onClipPlane:!1,event:A}))),e},Sp.prototype.processMouseMove=function(A){return this.modelManager.dispatchEvent({type:lh.ON_CLIP_MOUSE_MOVE,event:A}),Bp.prototype.processMouseMove(this,A)},Sp.prototype.processTouchstart=function(A){if(this.startPt.set(A.touches[0].clientX,A.touches[0].clientY),!this.enablePick){var e=this.cameraControl.getRaycaster(A.touches[0].clientX,A.touches[0].clientY);this.scene.getFillClipPlane().hitTest(e)}return this.hit()?(this.highLight(),this.cameraControl.needUpdateRenderList(!0),this.cameraControl.update(!0),!0):Bp.prototype.processTouchstart(this,A)},Sp.prototype.processTouchmove=function(A){if(this.hit()){if(this.isRotate())this.rotate(A.touches[0].clientX-this.startPt.x,A.touches[0].clientY-this.startPt.y),this.startPt.set(A.touches[0].clientX,A.touches[0].clientY);else{this.offset(Number(A.touches[0].clientX-this.startPt.x)),this.startPt.set(A.touches[0].clientX,A.touches[0].clientY)}return this.cameraControl.update(!0),!0}return Bp.prototype.processTouchmove(this,A)},Sp.prototype.processTouchend=function(A){return this.enablePick&&(this.onUpdateUI({visible:!1}),this.startPt.x===A.touches[0].clientX&&this.startPt.y===A.touches[0].clientY&&this.pickHelper.click(A)),this.cameraControl.needUpdateRenderList(!0),this.cancelHighLight(),this.cameraControl.update(!0),Bp.prototype.processTouchmove(this,A)},Sp.prototype.processHover=function(A){if(this.enablePick)return Bp.prototype.processHover(this,A);var e=!1,t=this.cameraControl.getRaycaster(A.clientX,A.clientY);return this.scene.getFillClipPlane().hitTest(t),this.hit()?(this.onClipPlane||(this.highLight(),this.cameraControl.needUpdateRenderList(!0),this.cameraControl.update(!0),this.onClipPlane=!0,this.modelManager.dispatchEvent({type:lh.ON_CLIP_HOVER,onClipPlane:!0,event:A})),e=!0):(this.onClipPlane&&(this.cancelHighLight(),this.cameraControl.needUpdateRenderList(!0),this.cameraControl.update(!0),this.onClipPlane=!1),this.modelManager.dispatchEvent({type:lh.ON_CLIP_HOVER,onClipPlane:!1,event:A})),e};var Tp=function(A,e,t){Bp.call(this,A),this.cameraControl=e,this.frustum=new wn,this.startPt=new Le,this.endPt=new Le,this.eventDispatcher=t};((Tp.prototype=Object.create(Bp.prototype)).constructor=Tp).prototype.onUpdateUI=function(A){this.eventDispatcher.dispatchEvent({type:lh.ON_CONTROL_UPDATEUI,data:A,editor:this.name})},Tp.prototype.updateFrustum=function(A,e){var t=this.startPt.x,i=this.endPt.x,n=this.startPt.y,o=this.endPt.y;if(i<t){var r=t;t=i,i=r}if(o<n){var a=n;n=o,o=a}if(i-t==0||o-n==0)return!1;var s=this.cameraControl,l=s.getContainerDimensions();return A&&s.computeFrustum(t,i,n,o,this.frustum,l),e&&this.onUpdateUI({visible:!0,dir:this.startPt.x<this.endPt.x,left:t-l.left,top:n-l.top,width:i-t,height:o-n}),!0};var Kp=function(A){Tp.call(this,vh.PICK_BY_RECT,A.cameraControl,A.modelManager),this.viewer=A,this.scene=A.getScene(),this.pickHelper=new Ip(this.cameraControl),this.activatePick=!1,this.pressKey=""};((Kp.prototype=Object.create(Tp.prototype)).constructor=Kp).prototype.destroy=function(){xp.prototype.destroy.call(this),this.pickHelper.destroy(),this.pickHelper=null},Kp.prototype.setPressKey=function(A){this.pressKey=A},Kp.prototype.processMouseDown=function(A){return A.preventDefault(),this.activatePick=A.ctrlKey||A.altKey,this.activatePick&&A.button===pA.LEFT?(this.startPt.set(A.clientX,A.clientY),!0):Tp.prototype.processMouseDown(this,A)},Kp.prototype.processMouseMove=function(A){return this.activatePick&&A.button===pA.LEFT?(this.endPt.set(A.clientX,A.clientY),this.updateFrustum(!1,!0),!0):Tp.prototype.processMouseMove(this,A)},Kp.prototype.processMouseUp=function(A){if(this.onUpdateUI({visible:!1}),this.activatePick&&A.button===pA.LEFT){if(this.activatePick=!1,Math.abs(this.startPt.x-A.clientX)<2&&Math.abs(this.startPt.y-A.clientY)<2)return this.pickHelper.click(A,null),!0;if(this.endPt.set(A.clientX,A.clientY),!this.updateFrustum(!0,!1))return this.pickHelper.click(A),!0;var e=ah.Clear,t=this.pressKey||A.ctrlKey&&"ctrl"||A.altKey&&"alt"||"";return"ctrl"===t?e=ah.Add:"alt"===t&&(e=ah.Remove),Eu.pickByRect(this.scene,this.frustum,e,this.cameraControl.viewer.modelManager,this.viewer,this.endPt.x<this.startPt.x),this.pickHelper.lastPickedUserId="",this.cameraControl.updateView(!0),!0}return Tp.prototype.processMouseUp(this,A)},Kp.prototype.processTouchstart=function(A){return A.preventDefault(),this.pressKey?(this.startPt.set(A.changedTouches[0].pageX,A.changedTouches[0].pageY),!0):Tp.prototype.processTouchstart(this,A)},Kp.prototype.processTouchmove=function(A){return this.pressKey?(this.endPt.set(A.changedTouches[0].pageX,A.changedTouches[0].pageY),this.updateFrustum(!1,!0),!0):Tp.prototype.processMouseMove(this,A)},Kp.prototype.processTouchend=function(A){this.onUpdateUI({visible:!1});var e=A.changedTouches[0].pageX,t=A.changedTouches[0].pageY;if(this.pressKey){if(Math.abs(this.startPt.x-e)<2&&Math.abs(this.startPt.y-t)<2)return this.pickHelper.click(A,null),!0;if(this.endPt.set(e,t),!this.updateFrustum(!0,!1))return this.pickHelper.click(A),!0;var i=ah.Clear,n=this.pressKey;return"ctrl"===n?i=ah.Add:"alt"===n&&(i=ah.Remove),Eu.pickByRect(this.scene,this.frustum,i,this.cameraControl.viewer.modelManager,this.viewer,this.endPt.x<this.startPt.x),this.pickHelper.lastPickedUserId="",this.cameraControl.updateView(!0),!0}return Tp.prototype.processTouchend(this,A)};var Fp=function(A){Tp.call(this,vh.ZOOM_BY_RECT,A.cameraControl,A.modelManager),this.scene=A.getScene(),this.activateZoom=!1};((Fp.prototype=Object.create(Tp.prototype)).constructor=Fp).prototype.processMouseDown=function(A){return A.button===pA.LEFT?(this.startPt.set(A.clientX,A.clientY),this.activateZoom=!0):Tp.prototype.processMouseDown.call(this,A)},Fp.prototype.processMouseMove=function(A){return this.activateZoom?(this.endPt.set(A.clientX,A.clientY),this.updateFrustum(!1,!0),!0):Tp.prototype.processMouseMove.call(this,A)},Fp.prototype.processMouseUp=function(A){return this.activateZoom?(this.activateZoom=!1,this.onUpdateUI({visible:!1}),this.endPt.set(A.clientX,A.clientY),this.updateFrustum(!0,!1)&&this.zoomToRectangle(),!0):Tp.prototype.processMouseUp.call(this,A)},Fp.prototype.zoomToRectangle=function(){var A=this.cameraControl.camera,e=this.cameraControl.camera.target,t=this.cameraControl.getContainerDimensions(),i=this.startPt.x,n=this.startPt.y,o=this.endPt.x,r=this.endPt.y,a=Math.abs(o-i),s=Math.abs(n-r);if(0!==a&&0!==s){var l=new Le((i+o)/2,(n+r)/2),c=A.position.clone(),d=e.clone().sub(c),h=d.length(),u=0,p=this.cameraControl.getIntersectContext(l),g=this.cameraControl.intersector.hitTest(p);if(g){var f=t.width/t.height<a/s?a/t.width:s/t.height,m=g.distanceTo(c)*f;d.normalize(),u=d.clone().negate().multiplyScalar(m)}else{var v={};v.left=Math.min(i,o),v.top=Math.min(n,r),v.right=Math.max(i,o),v.bottom=Math.max(n,r);var y=this.scene.getNearDepthByRect(this.frustum,A);if(y===1/0)return;var C=new Ue((i+o)/2,(n+r)/2,y),I=new Ue(v.left,v.top,y),x=this.clientToWorld(C),b=this.clientToWorld(I),E=x.clone().sub(b).length();g=x.clone(),d.normalize(),u=d.clone().negate().multiplyScalar(E)}c=g.clone().add(u),A.position.copy(c),e.copy(c).sub(u.clone().normalize().multiplyScalar(h)),this.cameraControl.updateView(!0)}},Fp.prototype.worldToClient=function(A){var e=this.cameraControl.camera,t=new Ue(A.x,A.y,A.z);return t.project(e),t},Fp.prototype.clientToWorld=function(A){var e=this.cameraControl.getContainerDimensions(),t=this.cameraControl.camera,i=new Ue;return i.x=A.x/e.width*2-1,i.y=-A.y/e.height*2+1,i.z=A.z,i.unproject(t),i};var Lp="http://www.w3.org/2000/svg",Op=function(){return document.createElementNS(Lp,"line")},Up=function(){return document.createElementNS(Lp,"path")},Np=function(A){var e=document.createElementNS(Lp,"circle");return e.setAttributeNS(null,"r",A||0),e.setAttributeNS(null,"fill","none"),e},Rp=function(){return document.createElementNS(Lp,"text")},Pp=function(){return document.createElementNS(Lp,"g")},Dp=function(A,e){var t=Math.pow(A[0]-e[0],2),i=Math.pow(A[1]-e[1],2),n=0;return 3===A.length&&3===e.length&&(n=Math.pow(A[2]-e[2],2)),Math.sqrt(t+i+n)},Qp=function(A){var e=Math.pow(A[0],2),t=Math.pow(A[1],2),i=0;2<A.length&&(i=Math.pow(A[2],2));var n=Math.sqrt(e+t+i),o=[A[0]/n,A[1]/n];return 2<A.length&&o.push(A[2]/n),o},kp=function(A,e){var t=0;return 2<A.length&&2<e.length&&(t=A[2]*e[2]),A[0]*e[0]+A[1]*e[1]+t},zp=function(A,e){var t=A[0],i=A[1],n=A[2],o=e[0],r=e[1],a=e[2];return[i*a-n*r,n*o-t*a,t*r-i*o]},Vp=function(A){return"mm"===A?1:"cm"===A?10:"m"===A?1e3:1},Hp=function(A,e,t,i){var n=Vp(A);i&&(n*=n);var o=Vp(e);return i&&(o*=o),t*n/o},Gp=function(A){this.svg=A,this.maxPointsNeed=0,this.pickedPoints=[],this.svgGroup=Pp(),this.svg.appendChild(this.svgGroup),this.unitOfModel=void 0,this.unitOnUI=void 0,this.precision=3,this.adjustOption=void 0,this.is3DMode=!1};Gp.prototype.addPickedPoint=function(A,e,t){return!this.isDone()&&(!!A&&(this.pickedPoints.push(A),e&&(this.unitOfModel=this.unitOfModel&&this.unitOfModel!==e?void 0:e),!0))},Gp.prototype.getAllPickedPoint=function(){return this.pickedPoints},Gp.prototype.draw=function(A,e,t){},Gp.prototype.adjustWithOption=function(A){(this.adjustOption=A)&&this.updateTexts()},Gp.prototype.unAdjustWithOption=function(A){this.adjustOption=void 0,this.updateTexts()},Gp.prototype.changeUnit=function(A){A&&(this.unitOnUI=A,this.updateTexts())},Gp.prototype.changePrecision=function(A){(this.precision=A)&&this.updateTexts()},Gp.prototype.updateTexts=function(){},Gp.prototype.remove=function(){this.svg&&this.svgGroup&&this.svgGroup.parentNode&&this.svg.removeChild(this.svgGroup)},Gp.prototype.add=function(){this.svg&&this.svgGroup&&this.svg.appendChild(this.svgGroup)},Gp.prototype.isDone=function(){return this.pickedPoints.length===this.maxPointsNeed},Gp.prototype.measureResult=function(){},Gp.prototype.createCircle=function(){var A=Np(5);return A.setAttributeNS(null,"fill","#ff9800"),A.setAttributeNS(null,"stroke","#ffffff"),A.setAttributeNS(null,"stroke-width",2),A.style.display="none",A},Gp.prototype.createLine=function(){var A=Op();return A.setAttributeNS(null,"stroke-width",2),A.setAttributeNS(null,"stroke","#ffff00"),A.style.display="none",A},Gp.prototype.createText=function(){var A=Rp();return A.style.fontSize="14",A.style.display="none",A.style.textAnchor="middle",A.setAttributeNS(null,"fill","#ffffff"),A},Gp.prototype.createPath=function(){var A=Up();return A.style.display="none",A.setAttributeNS(null,"fill","none"),A.setAttributeNS(null,"stroke","#0aea06"),A},Gp.prototype.resultToDisplayOfLength=function(A){var e=A,t=this.unitOfModel;return this.adjustOption&&(e=this.adjustOption.adjustLength(A),t=this.adjustOption.unit),this.unitOnUI&&(t&&(e=Hp(t,this.unitOnUI,e)),t=this.unitOnUI),t||(t=""),e=e.toFixed(this.precision),{value:Number(e),unit:t,text:e+t}};var jp=function(){this.group=Pp(),this.group.style.display="none";var A=Up();this.textBackground=A,this.group.appendChild(A),A=Up(),this.prefixTextBackground=A,this.prefixTextBackground.style.display="none",this.group.appendChild(A);var e=Rp();e.style.fontSize="12",e.style.textAnchor="middle",e.style.dominantBaseline="central",e.setAttributeNS(null,"fill","#ffffff"),this.group.appendChild(e),this.text=e,(e=Rp()).style.fontSize="12",e.style.textAnchor="middle",e.style.dominantBaseline="central",e.setAttributeNS(null,"fill","#ffffff"),this.group.appendChild(e),this.prefixText=e,this.textColor="#ffffff",this.prefixTextColor="#ffffff",this.textBackgroundColor="#ffffff",this.prefixTextBackgroundColor="blue",this.textContent=void 0,this.prefixTextContent=void 0,this.textPosition={x:0,y:0}};jp.prototype.draw=function(){this.group.style.display="",this.textContent&&(this.text.textContent=this.textContent),this.prefixTextContent&&(this.prefixText.textContent=this.prefixTextContent);var A=this.prefixText.getBBox(),e=this.text.getBBox(),t=5+e.width+5;this.prefixTextContent&&0<this.prefixTextContent.length&&(t=t+5+A.width+5);var i,n,o,r,a,s,l=this.textPosition.x-t/2,c=this.textPosition.y-(5+e.height+5)/2,d="M"+l+","+(c+(o=5))+"a"+o+","+o+" 0 0 1 "+o+","+-o+"h"+((i=t)-2*o)+"a"+o+","+o+" 0 0 1 "+o+","+o+"v"+((n=e.height+10)-2*o)+"a"+o+","+o+" 0 0 1 "+-o+","+o+"h"+(2*o-i)+"a"+o+","+o+" 0 0 1 "+-o+","+-o+"v"+(2*o-n)+"z";this.textBackground.setAttributeNS(null,"d",d),this.textBackground.setAttributeNS(null,"fill",this.textBackgroundColor),this.prefixTextContent&&0<this.prefixTextContent.length?(this.prefixTextBackground.setAttributeNS(null,"d",d="M"+l+","+(c+(s=5))+"a"+s+","+s+" 0 0 1 "+s+","+-s+"h"+((r=A.width+10)-s)+"v"+(a=A.height+10)+"h"+(s-r)+"a"+s+","+s+" 0 0 1 "+-s+","+-s+"v"+(2*s-a)+"z"),this.prefixTextBackground.setAttributeNS(null,"fill",this.prefixTextBackgroundColor),this.prefixTextBackground.style.display="",this.prefixText.setAttributeNS(null,"x",l+5+A.width/2),this.prefixText.setAttributeNS(null,"y",c+5+A.height/2),this.text.setAttributeNS(null,"x",l+15+A.width+e.width/2)):this.text.setAttributeNS(null,"x",l+5+e.width/2),this.text.setAttributeNS(null,"y",c+5+e.height/2),this.text.setAttributeNS(null,"fill",this.textColor),this.prefixText.setAttributeNS(null,"fill",this.prefixTextColor)},jp.prototype.setText=function(A,e){this.textContent=A,this.prefixTextContent=e},jp.prototype.setPosition=function(A,e){this.textPosition={x:A,y:e}};var Wp=function(A){Gp.call(this,A),this.maxPointsNeed=2,this.startCircle=this.createCircle(),this.startCircle.setAttributeNS(null,"fill","#ffffff"),this.endCircle=this.createCircle(),this.endCircle.setAttributeNS(null,"fill","#ffffff"),this.svgGroup.appendChild(this.startCircle),this.svgGroup.appendChild(this.endCircle),this.line=this.createLine(),this.line.setAttributeNS(null,"stroke","#ffffff"),this.line.setAttributeNS(null,"strokd-width",2),this.svgGroup.appendChild(this.line),this.text=new jp,this.text.textBackgroundColor="#ffffff",this.text.textColor="#000000",this.svgGroup.appendChild(this.text.group),this._distance=void 0};(Wp.prototype=Object.assign(Object.create(Gp.prototype),{constructor:Wp})).addPickedPoint=function(A,e,t){Gp.prototype.addPickedPoint.call(this,A,e,t)&&this.isDone()&&(this._enableSelect(),this._distance=Dp(this.pickedPoints[0],this.pickedPoints[1]))},Wp.prototype.draw=function(A,e){if(this.svgGroup.parentNode){var t=this.pickedPoints;if(0<t.length){A&&!this.isDone()&&(t=t.concat([A]));var i=t;if(e){for(var n=[],o=0,r=t.length;o<r;o+=1)n[o]=e(t[o]);i=n}var a=i[0],s=1<i.length?i[1]:a;if(this.startCircle.setAttributeNS(null,"cx",a[0]),this.startCircle.setAttributeNS(null,"cy",a[1]),this.startCircle.style.display="",this.line.setAttributeNS(null,"x1",a[0]),this.line.setAttributeNS(null,"y1",a[1]),this.line.setAttributeNS(null,"x2",s[0]),this.line.setAttributeNS(null,"y2",s[1]),this.line.style.display="",this.text.setPosition((a[0]+s[0])/2,(a[1]+s[1])/2),1<t.length){var l=Dp(t[0],t[1]);this._distance=l}this.endCircle.style.display=2===this.pickedPoints.length?(this.endCircle.setAttributeNS(null,"cx",s[0]),this.endCircle.setAttributeNS(null,"cy",s[1]),""):"none",this._updateText()}}},Wp.prototype.measureResult=function(){if(this.isDone()){var A={};if(A.distance=this._distance,this.adjustOption){var e=this.resultToDisplayOfLength(this._distance);A.unit=e.unit,A.value=e.value}return A}},Wp.prototype.adjustWithOption=function(A){Gp.prototype.adjustWithOption.call(this,A),this._updateText(),this._disableSelect()},Wp.prototype.changeUnit=function(A){Gp.prototype.changeUnit.call(this,A),A&&this._updateText()},Wp.prototype.changePrecision=function(A){Gp.prototype.changePrecision.call(this,A),A&&this._updateText()},Wp.prototype._enableSelect=function(){var e=this;this.startCircle.onmousedown=function(A){e.isDone()&&(e.pickedPoints=e.pickedPoints.slice(1),A.stopPropagation(),e._disableSelect())},this.endCircle.onmousedown=function(A){e.isDone()&&(e.pickedPoints=e.pickedPoints.slice(0,1),A.stopPropagation(),e._disableSelect())}},Wp.prototype._disableSelect=function(){this.startCircle.onmousedown=void 0,this.endCircle.onmousedown=void 0},Wp.prototype._updateText=function(){this.isDone()&&this._distance&&this.adjustOption&&(this.text.setText(this.resultToDisplayOfLength(this._distance).text),this.text.draw())};var qp=function(){this.unit=void 0,this.valueBeforeAdjust=void 0,this.valueAfterAdjust=void 0};qp.prototype.adjustLength=function(A){return this.valueAfterAdjust&&this.valueBeforeAdjust?A*this.valueAfterAdjust/this.valueBeforeAdjust:A},qp.prototype.adjustArea=function(A){return this.valueAfterAdjust&&this.valueBeforeAdjust?A*Math.pow(this.valueAfterAdjust/this.valueBeforeAdjust,2):A};var Xp=function(A){Gp.call(this,A),this.maxPointsNeed=3,this._angle=void 0,this.circle1=this.createCircle(),this.circle2=this.createCircle(),this.circle3=this.createCircle(),this.svgGroup.appendChild(this.circle1),this.svgGroup.appendChild(this.circle2),this.svgGroup.appendChild(this.circle3),this.line1=this.createLine(),this.line1.setAttributeNS(null,"stroke-width",2),this.svgGroup.appendChild(this.line1),this.line2=this.createLine(),this.line2.setAttributeNS(null,"stroke-width",2),this.svgGroup.appendChild(this.line2),this.arc=this.createPath(),this.svgGroup.appendChild(this.arc),this.angleText=new jp,this.angleText.textBackgroundColor="#009bff",this.svgGroup.appendChild(this.angleText.group)};(Xp.prototype=Object.assign(Object.create(Gp.prototype),{constructor:Xp})).addPickedPoint=function(A,e,t){if(Gp.prototype.addPickedPoint.call(this,A,e,t)&&this.isDone()){var i=this.pickedPoints[0],n=this.pickedPoints[1],o=this.pickedPoints[2],r=(a=[o[0]-n[0],o[1]-n[1],o[2]-n[2]],s=Qp([i[0]-n[0],i[1]-n[1],i[2]-n[2]]),l=Qp(a),c=kp(s,l),Math.acos(c)/Math.PI*180);this._angle=r}var a,s,l,c},Xp.prototype.draw=function(A,e,t){if(this.svgGroup.parentNode){var i=this.pickedPoints;if(0<i.length){A&&!this.isDone()&&(i=i.concat([A]));var n=i;if(e){for(var o=[],r=0,a=i.length;r<a;r+=1)o[r]=e(i[r]);n=o}if(1<=this.pickedPoints.length){var s=n[0],l=n[1];this.circle1.setAttributeNS(null,"cx",s[0]),this.circle1.setAttributeNS(null,"cy",s[1]),this.circle1.style.display="",(A||1<this.pickedPoints.length)&&(this.line1.setAttributeNS(null,"x1",s[0]),this.line1.setAttributeNS(null,"y1",s[1]),this.line1.setAttributeNS(null,"x2",l[0]),this.line1.setAttributeNS(null,"y2",l[1]),this.line1.style.display="")}if(2<=this.pickedPoints.length){var c=n[1],d=n[2];this.circle2.setAttributeNS(null,"cx",c[0]),this.circle2.setAttributeNS(null,"cy",c[1]),this.circle2.style.display="",(A||2<this.pickedPoints.length)&&(this.line2.setAttributeNS(null,"x1",c[0]),this.line2.setAttributeNS(null,"y1",c[1]),this.line2.setAttributeNS(null,"x2",d[0]),this.line2.setAttributeNS(null,"y2",d[1]),this.line2.style.display="")}if(3===this.pickedPoints.length){var h=n[2];this.circle3.setAttributeNS(null,"cx",h[0]),this.circle3.setAttributeNS(null,"cy",h[1]),this.circle3.style.display="";var u=n[0].slice(0,2),p=n[1].slice(0,2),g=n[2].slice(0,2),f=Dp(u,p),m=Dp(p,g),v=Math.min(Math.min(f,m),30),y=Qp([u[0]-p[0],u[1]-p[1]]),C=[p[0]+y[0]*v,p[1]+y[1]*v],I=Qp([g[0]-p[0],g[1]-p[1]]),x=[p[0]+I[0]*v,p[1]+I[1]*v],b=[(C[0]+x[0])/2,(C[1]+x[1])/2],E=[b[0]-p[0],b[1]-p[1]],w=[p[0]+(E=[1.5*E[0],1.5*E[1]])[0],p[1]+E[1]],M="M"+C[0]+","+C[1];M+="Q"+w[0]+","+w[1],this.arc.setAttributeNS(null,"d",M+=" "+x[0]+","+x[1]),this.arc.style.display="",this.angleText.setText(this._angle.toFixed(this.precision)+"°"),this.angleText.setPosition(w[0],w[1]),this.angleText.draw()}}}},Xp.prototype.measureResult=function(){return this._angle};var Yp=function(A){Gp.call(this,A),this.path=Up(),this.path.setAttributeNS(null,"fill","none"),this.path.setAttributeNS(null,"stroke","rgb(69,195,69)"),this.svgGroup.appendChild(this.path),this._isDone=!1,this._circles=[],this._area=-1,this.resultText=new jp,this.resultText.textBackgroundColor="#009bff",this.svgGroup.appendChild(this.resultText.group)};(Yp.prototype=Object.assign(Object.create(Gp.prototype),{constructor:Yp})).addPickedPoint=function(A,e,t){if(this._pointCanClosePath(A,t))this._isDone=!0,this._area=this.is3DMode?this._calculateArea3D():this._calculateArea2D();else if(Gp.prototype.addPickedPoint.call(this,A,e,t)){var i=this.createCircle();this.svgGroup.appendChild(i),this._circles.push(i)}},Yp.prototype.isDone=function(){return this._isDone},Yp.prototype.draw=function(A,e){if(this.svgGroup.parentNode){var t=this.pickedPoints;if(0<t.length){if(A&&!this.isDone()){if(this._pointCanClosePath(A,e)){var i=this.pickedPoints[0];A=[i[0],i[1],i[2]]}t=t.concat([A])}var n=t;if(e){for(var o=[],r=0,a=t.length;r<a;r+=1)o[r]=e(t[r]);n=o}var s=this._pathString(n);if(this.path.setAttributeNS(null,"d",s),this.isDone()){this.path.setAttributeNS(null,"fill","rgba(69,195,69,0.5)");var l=this._getPointsCenter(this.pickedPoints);e&&(l=e(l)),this.resultText.setPosition(l[0],l[1]),this.updateTexts()}for(var c=0,d=this._circles.length;c<d;c+=1){var h=this._circles[c],u=n[c];h.setAttributeNS(null,"cx",u[0]),h.setAttributeNS(null,"cy",u[1]),h.style.display=""}}}},Yp.prototype.measureResult=function(){return this._area},Yp.prototype.updateTexts=function(){this.isDone()&&(this.resultText.setText(this.resultToDisplayOfArea(this._area).text),this.resultText.draw())},Yp.prototype.resultToDisplayOfArea=function(A){var e=A,t=this.unitOfModel;return this.adjustOption&&(e=this.adjustOption.adjustArea(A),t=this.adjustOption.unit),this.unitOnUI&&(t&&(e=Hp(t,this.unitOnUI,e,!0)),t=this.unitOnUI),t||(t=""),e=e.toFixed(this.precision),"mm"===t?t="mm²":"m"===t?t="m²":"cm"===t&&(t="cm²"),{value:Number(e),unit:t,text:e+t}},Yp.prototype._pointCanClosePath=function(A,e){if(0<this.pickedPoints.length){var t=this.pickedPoints[0];e&&(t=e(t),A=e(A));var i=A[0]-t[0],n=A[1]-t[1];if(i*i+n*n+0<=200)return!0}return!1},Yp.prototype._pathString=function(A){if(!A||0===A.length)return"";for(var e="M"+A[0][0]+" "+A[0][1],t=1,i=A.length;t<i;t+=1)e=e+"L"+A[t][0]+" "+A[t][1];return this.isDone()&&(e+="Z"),e},Yp.prototype._calculateArea2D=function(){if(!this.isDone()||this.pickedPoints.length<3)return 0;for(var A=this.pickedPoints,e=this.pickedPoints[0],t=[],i=1,n=A.length;i<n;i+=1)t.push([A[i][0]-e[0],A[i][1]-e[1]]);for(var o=0,r=0,a=t.length;r<a-1;r+=1){var s=t[r],l=t[r+1];o+=s[0]*l[1]-s[1]*l[0]}return Math.abs(o/2)},Yp.prototype._calculateArea3D=function(){if(!this.isDone()||this.pickedPoints.length<3)return 0;for(var A=this.pickedPoints,e=this.pickedPoints[0],t=Qp(zp([this.pickedPoints[1][0]-e[0],this.pickedPoints[1][1]-e[1],this.pickedPoints[1][2]-e[2]],[this.pickedPoints[2][0]-e[0],this.pickedPoints[2][1]-e[1],this.pickedPoints[2][2]-e[2]])),i=0,n=1,o=A.length;n<o;n+=1){i+=kp(zp([this.pickedPoints[n-1][0]-e[0],this.pickedPoints[n-1][1]-e[1],this.pickedPoints[n-1][2]-e[2]],[this.pickedPoints[n][0]-e[0],this.pickedPoints[n][1]-e[1],this.pickedPoints[n][2]-e[2]]),t)}return Math.abs(i/2)},Yp.prototype._getPointsCenter=function(A){var e=A.length;return[A.reduce(function(A,e){return A+e[0]},0)/e,A.reduce(function(A,e){return A+e[1]},0)/e,A.reduce(function(A,e){return A+e[2]},0)/e]},Yp.prototype._crossProduct=function(A,e){var t=A[0],i=A[1],n=A[2],o=e[0],r=e[1],a=e[2];return[i*a-n*r,n*o-t*a,t*r-i*o]};var Jp=function(A){Gp.call(this,A),this.maxPointsNeed=2,this._drawPoints=[],this.startCircle=this.createCircle(),this.endCircle=this.createCircle(),this.svgGroup.appendChild(this.startCircle),this.svgGroup.appendChild(this.endCircle),this.distanceLine=this.createLine(),this.svgGroup.appendChild(this.distanceLine),this.deltaXLine=this.createLine(),this.deltaXLine.setAttributeNS(null,"stroke","#ec4545"),this.deltaXLine.setAttributeNS(null,"stroke-dasharray","6,4"),this.svgGroup.appendChild(this.deltaXLine),this.deltaYLine=this.createLine(),this.deltaYLine.setAttributeNS(null,"stroke","#45c345"),this.deltaYLine.setAttributeNS(null,"stroke-dasharray","6,4"),this.svgGroup.appendChild(this.deltaYLine),this.deltaZLine=this.createLine(),this.deltaZLine.setAttributeNS(null,"stroke","#5757da"),this.deltaZLine.setAttributeNS(null,"stroke-dasharray","6,4"),this.svgGroup.appendChild(this.deltaZLine),this.deltaXText=new jp,this.deltaXText.textColor="#ec4545",this.deltaXText.prefixTextBackgroundColor="#ec4545",this.svgGroup.appendChild(this.deltaXText.group),this.deltaYText=new jp,this.deltaYText.textColor="#45c345",this.deltaYText.prefixTextBackgroundColor="#45c345",this.svgGroup.appendChild(this.deltaYText.group),this.deltaZText=new jp,this.deltaZText.textColor="#5757da",this.deltaZText.prefixTextBackgroundColor="#5757da",this.svgGroup.appendChild(this.deltaZText.group),this.distanceText=new jp,this.distanceText.textBackgroundColor="#009bff",this.svgGroup.appendChild(this.distanceText.group),this._distance=void 0,this._deltaXDistance=void 0,this._deltaYDistance=void 0,this._deltaZDistance=void 0};(Jp.prototype=Object.assign(Object.create(Gp.prototype),{constructor:Jp})).addPickedPoint=function(A,e,t){if(Gp.prototype.addPickedPoint.call(this,A,e,t)&&(this._drawPoints.push(A),this.isDone())){if(3===A.length){var i=[];i[0]=this.pickedPoints[1][0],i[1]=this.pickedPoints[0][1],i[2]=this.pickedPoints[1][2];var n=[];n[0]=this.pickedPoints[1][0],n[1]=this.pickedPoints[0][1],n[2]=this.pickedPoints[0][2],this._drawPoints.push(i),this._drawPoints.push(n)}this._distance=Dp(this._drawPoints[0],this._drawPoints[1]),this._deltaYDistance=Dp(this._drawPoints[1],this._drawPoints[2]),this._deltaZDistance=Dp(this._drawPoints[2],this._drawPoints[3]),this._deltaXDistance=Dp(this._drawPoints[3],this._drawPoints[0])}},Jp.prototype.draw=function(A,e){if(this.svgGroup.parentNode){var t=this._drawPoints;if(0<t.length){A&&!this.isDone()&&(t=t.concat([A]));var i=t;if(e){for(var n=[],o=0,r=t.length;o<r;o+=1)n[o]=e(t[o]);i=n}var a=i[0],s=1<i.length?i[1]:a;if(this.startCircle.setAttributeNS(null,"cx",a[0]),this.startCircle.setAttributeNS(null,"cy",a[1]),this.startCircle.style.display="",this.distanceLine.setAttributeNS(null,"x1",a[0]),this.distanceLine.setAttributeNS(null,"y1",a[1]),this.distanceLine.setAttributeNS(null,"x2",s[0]),this.distanceLine.setAttributeNS(null,"y2",s[1]),this.distanceLine.style.display="",t.length<2)return;if(this.distanceText.setPosition((a[0]+s[0])/2,(a[1]+s[1])/2),!this.isDone()){var l=Dp(t[0],t[1]);this._distance=l}if(4===t.length){this.endCircle.style.display="",this.deltaYLine.style.display="",this.deltaXLine.style.display="",this.deltaZLine.style.display="",this.endCircle.setAttributeNS(null,"cx",s[0]),this.endCircle.setAttributeNS(null,"cy",s[1]);var c=i[2],d=i[3];this.deltaYLine.setAttributeNS(null,"x1",s[0]),this.deltaYLine.setAttributeNS(null,"y1",s[1]),this.deltaYLine.setAttributeNS(null,"x2",c[0]),this.deltaYLine.setAttributeNS(null,"y2",c[1]),this.deltaYText.setPosition((c[0]+s[0])/2,(c[1]+s[1])/2),this.deltaZLine.setAttributeNS(null,"x1",c[0]),this.deltaZLine.setAttributeNS(null,"y1",c[1]),this.deltaZLine.setAttributeNS(null,"x2",d[0]),this.deltaZLine.setAttributeNS(null,"y2",d[1]),this.deltaZText.setPosition((c[0]+d[0])/2,(c[1]+d[1])/2),this.deltaXLine.setAttributeNS(null,"x1",d[0]),this.deltaXLine.setAttributeNS(null,"y1",d[1]),this.deltaXLine.setAttributeNS(null,"x2",a[0]),this.deltaXLine.setAttributeNS(null,"y2",a[1]),this.deltaXText.setPosition((d[0]+a[0])/2,(d[1]+a[1])/2)}this.updateTexts()}}},Jp.prototype.measureResult=function(){if(this._distance)return[this._distance,this._deltaXDistance,this._deltaYDistance,this._deltaZDistance]},Jp.prototype.updateTexts=function(){this._distance&&(this.distanceText.setText(this.resultToDisplayOfLength(this._distance).text,void 0),this.distanceText.draw(),this.isDone()&&(0!==this._deltaXDistance&&(this.deltaXText.setText(this.resultToDisplayOfLength(this._deltaXDistance).text,"X"),this.deltaXText.draw()),0!==this._deltaYDistance&&(this.deltaYText.setText(this.resultToDisplayOfLength(this._deltaYDistance).text,"Y"),this.deltaYText.draw()),0!==this._deltaZDistance&&(this.deltaZText.setText(this.resultToDisplayOfLength(this._deltaZDistance).text,"Z"),this.deltaZText.draw())))};var Zp=function(A){this._points=[],this.svg=A;var e=Op();e.setAttributeNS(null,"stroke-width","2"),e.setAttributeNS(null,"stroke","#0aea06"),this._line=e};Zp.prototype.setupWithPoints=function(A,e){A&&e&&(this._points=[A,e])},Zp.prototype.remove=function(){this.svg&&this._line.parentNode&&this.svg.removeChild(this._line)},Zp.prototype.add=function(){this.svg&&this._line&&this.svg.appendChild(this._line)},Zp.prototype.isVisible=function(){return!!this._line.parentNode},Zp.prototype.draw=function(A){if(2===this._points.length){var e=A(this._points[0]),t=A(this._points[1]);this._line.setAttributeNS(null,"x1",e[0]),this._line.setAttributeNS(null,"y1",e[1]),this._line.setAttributeNS(null,"x2",t[0]),this._line.setAttributeNS(null,"y2",t[1])}};var $p,Ag,eg=function(A,e){this.x=A||0,this.y=e||0};Object.defineProperties(eg.prototype,{width:{get:function(){return this.x},set:function(A){this.x=A}},height:{get:function(){return this.y},set:function(A){this.y=A}}}),Object.assign(eg.prototype,{isVector2:!0,set:function(A,e){return this.x=A,this.y=e,this},setScalar:function(A){return this.x=A,this.y=A,this},setX:function(A){return this.x=A,this},setY:function(A){return this.y=A,this},setComponent:function(A,e){switch(A){case 0:this.x=e;break;case 1:this.y=e;break;default:throw new Error("index is out of range: "+A)}return this},getComponent:function(A){switch(A){case 0:return this.x;case 1:return this.y;default:throw new Error("index is out of range: "+A)}},clone:function(){return new this.constructor(this.x,this.y)},copy:function(A){return this.x=A.x,this.y=A.y,this},add:function(A,e){return void 0!==e?(console.warn("Vector2: .add() now only accepts one argument. Use .addVectors( a, b ) instead."),this.addVectors(A,e)):(this.x+=A.x,this.y+=A.y,this)},addScalar:function(A){return this.x+=A,this.y+=A,this},addVectors:function(A,e){return this.x=A.x+e.x,this.y=A.y+e.y,this},addScaledVector:function(A,e){return this.x+=A.x*e,this.y+=A.y*e,this},sub:function(A,e){return void 0!==e?(console.warn("Vector2: .sub() now only accepts one argument. Use .subVectors( a, b ) instead."),this.subVectors(A,e)):(this.x-=A.x,this.y-=A.y,this)},subScalar:function(A){return this.x-=A,this.y-=A,this},subVectors:function(A,e){return this.x=A.x-e.x,this.y=A.y-e.y,this},multiply:function(A){return this.x*=A.x,this.y*=A.y,this},multiplyScalar:function(A){return this.x*=A,this.y*=A,this},divide:function(A){return this.x/=A.x,this.y/=A.y,this},divideScalar:function(A){return this.multiplyScalar(1/A)},applyMatrix3:function(A){return this.x=A.elements[0]*this.x+A.elements[3]*this.y+A.elements[6],this.y=A.elements[1]*this.x+A.elements[4]*this.y+A.elements[7],this},min:function(A){return A.x<this.x&&(this.x=A.x),A.y<this.y&&(this.y=A.y),this},max:function(A){return this.x<A.x&&(this.x=A.x),this.y<A.y&&(this.y=A.y),this},clamp:function(A,e){return this.x=Math.max(A.x,Math.min(e.x,this.x)),this.y=Math.max(A.y,Math.min(e.y,this.y)),this},clampScalar:($p=new eg,Ag=new eg,function(A,e){return $p.set(A,A),Ag.set(e,e),this.clamp($p,Ag)}),clampLength:function(A,e){var t=this.length();return this.divideScalar(t||1).multiplyScalar(Math.max(A,Math.min(e,t)))},floor:function(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this},ceil:function(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this},round:function(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this},roundToZero:function(){return this.x=this.x<0?Math.ceil(this.x):Math.floor(this.x),this.y=this.y<0?Math.ceil(this.y):Math.floor(this.y),this},negate:function(){return this.x=-this.x,this.y=-this.y,this},dot:function(A){return this.x*A.x+this.y*A.y},cross:function(A){return this.x*A.y-this.y*A.x},lengthSq:function(){return this.x*this.x+this.y*this.y},length:function(){return Math.sqrt(this.x*this.x+this.y*this.y)},manhattanLength:function(){return Math.abs(this.x)+Math.abs(this.y)},normalize:function(){return this.divideScalar(this.length()||1)},angle:function(){var A=Math.atan2(this.y,this.x);return A<0&&(A+=2*Math.PI),A},distanceTo:function(A){return Math.sqrt(this.distanceToSquared(A))},distanceToSquared:function(A){var e=this.x-A.x,t=this.y-A.y;return e*e+t*t},manhattanDistanceTo:function(A){return Math.abs(this.x-A.x)+Math.abs(this.y-A.y)},setLength:function(A){return this.normalize().multiplyScalar(A)},lerp:function(A,e){return this.x+=(A.x-this.x)*e,this.y+=(A.y-this.y)*e,this},lerpVectors:function(A,e,t){return this.subVectors(e,A).multiplyScalar(t).add(A)},equals:function(A){return A.x===this.x&&A.y===this.y},fromArray:function(A,e){return void 0===e&&(e=0),this.x=A[e],this.y=A[e+1],this},toArray:function(A,e){return void 0===A&&(A=[]),void 0===e&&(e=0),A[e]=this.x,A[e+1]=this.y,A},rotateAround:function(A,e){var t=Math.cos(e),i=Math.sin(e),n=this.x-A.x,o=this.y-A.y;return this.x=n*t-o*i+A.x,this.y=n*i+o*t+A.y,this}});var tg,ig,ng,og,rg,ag=function(){this.elements=[1,0,0,0,1,0,0,0,1]};function sg(A,e){this.normal=void 0!==A?A:new Dh(1,0,0),this.constant=void 0!==e?e:0}ag.prototype.clear=function(){return this.elements=[1,0,0,0,1,0,0,0,1],this},ag.prototype.set=function(A,e,t,i,n,o,r,a,s){var l=this.elements;return l[0]=A,l[1]=i,l[2]=r,l[3]=e,l[4]=n,l[5]=a,l[6]=t,l[7]=o,l[8]=s,this},ag.prototype.clone=function(){return(new this.constructor).fromArray(this.elements)},ag.prototype.fromArray=function(A,e){void 0===e&&(e=0);for(var t=0;t<9;t+=1)this.elements[t]=A[t+e];return this},ag.prototype.multiply=function(A){return this.multiplyMatrices(this,A)},ag.prototype.multiplyMatrices=function(A,e){var t=A.elements,i=e.elements,n=this.elements,o=t[0],r=t[3],a=t[6],s=t[1],l=t[4],c=t[7],d=t[2],h=t[5],u=t[8],p=i[0],g=i[3],f=i[6],m=i[1],v=i[4],y=i[7],C=i[2],I=i[5],x=i[8];return n[0]=o*p+r*m+a*C,n[3]=o*g+r*v+a*I,n[6]=o*f+r*y+a*x,n[1]=s*p+l*m+c*C,n[4]=s*g+l*v+c*I,n[7]=s*f+l*y+c*x,n[2]=d*p+h*m+u*C,n[5]=d*g+h*v+u*I,n[8]=d*f+h*y+u*x,this},ag.prototype.scale=function(A,e){var t=this.elements;return t[0]*=A,t[3]*=A,t[6]*=A,t[1]*=e,t[4]*=e,t[7]*=e,this},ag.prototype.rotate=function(A){var e=Math.cos(A),t=Math.sin(A),i=this.elements,n=i[0],o=i[3],r=i[6],a=i[1],s=i[4],l=i[7];return i[0]=e*n+t*a,i[3]=e*o+t*s,i[6]=e*r+t*l,i[1]=-t*n+e*a,i[4]=-t*o+e*s,i[7]=-t*r+e*l,this},ag.prototype.translate=function(A,e){var t=this.elements;return t[0]+=A*t[2],t[3]+=A*t[5],t[6]+=A*t[8],t[1]+=e*t[2],t[4]+=e*t[5],t[7]+=e*t[8],this},ag.prototype.fromCanvasTransform=function(A,e,t,i,n,o){return this.set(A,t,n,e,i,o,0,0,1),this},ag.prototype.toCanvasTransform=function(){var A=this.elements;return[A[0],A[3],A[1],A[4],A[6],A[7]]},ag.prototype.getInverse=function(A,e){A&&A.isMatrix4&&console.error("THREE.Matrix3: .getInverse() no longer takes a Matrix4 argument.");var t=A.elements,i=this.elements,n=t[0],o=t[1],r=t[2],a=t[3],s=t[4],l=t[5],c=t[6],d=t[7],h=t[8],u=h*s-l*d,p=l*c-h*a,g=d*a-s*c,f=n*u+o*p+r*g;if(0===f){var m="THREE.Matrix3: .getInverse() can't invert matrix, determinant is 0";if(!0===e)throw new Error(m);return console.warn(m),this.identity()}var v=1/f;return i[0]=u*v,i[1]=(r*d-h*o)*v,i[2]=(l*o-r*s)*v,i[3]=p*v,i[4]=(h*n-r*c)*v,i[5]=(r*a-l*n)*v,i[6]=g*v,i[7]=(o*c-d*n)*v,i[8]=(s*n-o*a)*v,this},Object.assign(sg.prototype,{isPlane:!0,set:function(A,e){return this.normal.copy(A),this.constant=e,this},setComponents:function(A,e,t,i){return this.normal.set(A,e,t),this.constant=i,this},setFromNormalAndCoplanarPoint:function(A,e){return this.normal.copy(A),this.constant=-e.dot(this.normal),this},setFromCoplanarPoints:(og=new Dh,rg=new Dh,function(A,e,t){var i=og.subVectors(t,e).cross(rg.subVectors(A,e)).normalize();return this.setFromNormalAndCoplanarPoint(i,A),this}),clone:function(){return(new this.constructor).copy(this)},copy:function(A){return this.normal.copy(A.normal),this.constant=A.constant,this},normalize:function(){var A=1/this.normal.length();return this.normal.multiplyScalar(A),this.constant*=A,this},negate:function(){return this.constant*=-1,this.normal.negate(),this},distanceToPoint:function(A){return this.normal.dot(A)+this.constant},distanceToSphere:function(A){return this.distanceToPoint(A.center)-A.radius},projectPoint:function(A,e){return void 0===e&&(console.warn("THREE.Plane: .projectPoint() target is now required"),e=new Dh),e.copy(this.normal).multiplyScalar(-this.distanceToPoint(A)).add(A)},intersectLine:(ng=new Dh,function(A,e){void 0===e&&(console.warn("THREE.Plane: .intersectLine() target is now required"),e=new Dh);var t=A.delta(ng),i=this.normal.dot(t);if(0===i)return 0===this.distanceToPoint(A.start)?e.copy(A.start):void 0;var n=-(A.start.dot(this.normal)+this.constant)/i;return n<0||1<n?void 0:e.copy(t).multiplyScalar(n).add(A.start)}),intersectsLine:function(A){var e=this.distanceToPoint(A.start),t=this.distanceToPoint(A.end);return e<0&&0<t||t<0&&0<e},intersectsBox:function(A){return A.intersectsPlane(this)},intersectsSphere:function(A){return A.intersectsPlane(this)},coplanarPoint:function(A){return void 0===A&&(console.warn("THREE.Plane: .coplanarPoint() target is now required"),A=new Dh),A.copy(this.normal).multiplyScalar(-this.constant)},applyMatrix4:(tg=new Dh,ig=new ag,function(A,e){var t=e||ig.getNormalMatrix(A),i=this.coplanarPoint(tg).applyMatrix4(A),n=this.normal.applyMatrix3(t).normalize();return this.constant=-i.dot(n),this}),translate:function(A){return this.constant-=A.dot(this.normal),this},equals:function(A){return A.normal.equals(this.normal)&&A.constant===this.constant}});var lg=function(A,e){this._point=void 0,this._normal=void 0,this.viewer=e,this.svg=A;var t=document.createElementNS(Lp,"polygon");t.setAttribute("fill","rgba(10,234,6,0.2)"),t.setAttribute("stroke","#0aea06"),t.setAttribute("stroke-width",1),this._panel=t,this.hoverPanelSize={width:20,height:20}};lg.prototype.setupWithPoint=function(A,e){this._point=A,this._normal=e},lg.prototype.remove=function(){this.svg&&this._panel.parentNode&&this.svg.removeChild(this._panel)},lg.prototype.add=function(){this.svg&&this._panel&&this.svg.appendChild(this._panel)},lg.prototype.isVisible=function(){return!!this._panel.parentNode},lg.prototype.stretchOnDirection=function(A,e,t){var i=A.clone().add(e).multiplyScalar(.5),n=e.clone().sub(A).normalize();return[i.clone().sub(n.clone().multiplyScalar(t/2)),i.clone().add(n.clone().multiplyScalar(t/2))]},lg.prototype.draw=function(){var A=this.viewer.getScene().worldToDrawing(this._normal);A.normalize();var e=this.viewer.worldToClient(this._point),t=this.viewer.getScene().worldToDrawing(this._point),i=this.viewer.cameraControl,n=new sg;n.setFromNormalAndCoplanarPoint(A,t);var o=new eg(e.x-10,e.y-10),r=new eg(e.x+10,e.y-10),a=t,s=i.getRaycaster(o.x,o.y),l=new Dh,c=new Dh;if(s.ray.intersectPlane(n,l),(s=i.getRaycaster(r.x,r.y)).ray.intersectPlane(n,c),null!==l&&null!==c){var d=new Dh(1,0,0),h=new Dh(0,0,1),u=new Dh(0,1,0),p=Math.abs(A.clone().dot(d))<=.0025,g=Math.abs(A.clone().dot(u))<=.0025;if(p&&g)var f=d.clone(),m=u.clone();else f=h.clone().cross(A).normalize(),m=A.clone().cross(f).normalize();var v=l.distanceTo(c)/2,y=f.clone().multiplyScalar(v),C=m.clone().multiplyScalar(v),I=a.clone().sub(y).add(C),x=a.clone().add(y).add(C),b=a.clone().sub(y).sub(C),E=a.clone().add(y).sub(C),w=[];w.push(I,x,E,b);for(var M=[],B=i.getContainerDimensions(),_=0;_<w.length;_+=1){var S=new Dh(w[_].x,w[_].y,w[_].z);S.project(i.camera);var T={x:0,y:0,z:0};T.x=Math.floor(.5*(S.x+1)*B.width+.5),T.y=Math.floor(-.5*(S.y-1)*B.height+.5),T.z=S.z||0,M.push(new Dh(T.x,T.y,0))}var K=this.hoverPanelSize,F=M[0].distanceTo(M[1]),L=M[0].distanceTo(M[3])/K.height;if(1!==F/K.width){var O=this.stretchOnDirection(M[0],M[1],K.width),U=this.stretchOnDirection(M[2],M[3],K.width);M=O.concat(U)}if(1!==L){O=this.stretchOnDirection(M[0],M[3],K.height),U=this.stretchOnDirection(M[1],M[2],K.height);M=[O[0],U[0],U[1],O[1]]}for(var N="",R=0;R<M.length;R+=1)N+=M[R].x+",",N+=M[R].y+" ";this._panel.setAttribute("points",N)}};var cg=function(A){this._point=void 0,this.svg=A;var e=Np(5);e.setAttributeNS(null,"fill","#00ff00"),this._circle=e};cg.prototype.setupWithPoint=function(A){A&&(this._point=A)},cg.prototype.remove=function(){this.svg&&this._circle.parentNode&&this.svg.removeChild(this._circle)},cg.prototype.add=function(){this.svg&&this._circle&&this.svg.appendChild(this._circle)},cg.prototype.isVisible=function(){return!!this._circle.parentNode},cg.prototype.draw=function(A){if(this._point){var e=A(this._point);this._circle.setAttributeNS(null,"cx",e[0]),this._circle.setAttributeNS(null,"cy",e[1])}};var dg=function(){this.pointTransformer=void 0,this.parentDom=void 0,this.viewer=void 0,this.is3DMode=!1},hg="Distance",ug="Angle",pg="Adjust",gg="Area",fg=function(A){this.config=A,(this.config.viewer.measure=this).svg=this._createSVG(A.parentDom.clientWidth,A.parentDom.clientHeight),A.parentDom.appendChild(this.svg),this.setCurrentMode(hg),this.isOpen=!1,this.didEndMeasureCallback=void 0,this._items=[],this._adjustItem=void 0,this._adjustOption=void 0,this._precision=3,this._unitSetByUser=void 0,this._pickedLine=void 0,this._pickedPoint=void 0,this._pickedPanel=void 0,this.open()};fg.prototype.supportUnits=function(){return[{unit:"m",title:"米"},{unit:"cm",title:"厘米"},{unit:"mm",title:"毫米"}]},fg.prototype.open=function(){this.isOpen=!0,this._handleKeyUp=this._handleKeyUp.bind(this),document.addEventListener("keyup",this._handleKeyUp)},fg.prototype.close=function(){this.svg.parentNode.removeChild(this.svg),this.isOpen=!1,this.config.viewer.measure=void 0,document.removeEventListener("keyup",this._handleKeyUp)},fg.prototype.setCurrentMode=function(A){if(this._currentMode!==A&&(this._currentMode=A,this._currentMeasureItem&&(this._currentMeasureItem.remove(),this._currentMeasureItem=void 0)),this._currentMode===pg){var e=this._adjustItem?this._adjustItem:this._currentMeasureItem;(e||e instanceof Wp)&&e.isDone()&&(e.add(),e.draw(void 0,this.config.pointTransformer),this.didEndMeasureCallback&&this.didEndMeasureCallback(e.measureResult()))}else this._adjustItem&&this._adjustItem.remove()},fg.prototype.getCurrentMode=function(){return this._currentMode},fg.prototype.getCurrentUnit=function(){return this._unitSetByUser},fg.prototype.setUnit=function(A){if(A&&this._unitSetByUser!==A){this._unitSetByUser=A;for(var e=0,t=this._items.length;e<t;e+=1){this._items[e].changeUnit(A)}this._adjustOption&&(this._adjustOption.valueAfterAdjust=Hp(this._adjustOption.unit,A,this._adjustOption.valueAfterAdjust),this._adjustOption.unit=A)}},fg.prototype.getCurrentPrecision=function(){return this._precision},fg.prototype.setPrecision=function(A){if(A&&this._precision!==A){this._precision=A;for(var e=0,t=this._items.length;e<t;e+=1){this._items[e].changePrecision(A)}this._adjustItem&&this._adjustItem.changePrecision(A)}},fg.prototype.clearAllMeasure=function(){for(var A=0,e=this._items.length;A<e;A+=1){this._items[A].remove()}this._items=[]},fg.prototype.setAdjustForCurrentAdjustItem=function(A,e){if(A&&e&&this._currentMode===pg&&(this._currentMeasureItem&&this._currentMeasureItem instanceof Wp&&this._currentMeasureItem.isDone()&&(this._adjustItem&&this._adjustItem.remove(),this._adjustItem=this._currentMeasureItem,this._currentMeasureItem=void 0),this._adjustItem&&this._adjustItem.isDone())){var t=new qp;t.unit=A,t.valueBeforeAdjust=this._adjustItem.measureResult().distance,t.valueAfterAdjust=e,this._adjustOption=t;for(var i=0,n=this._items.length;i<n;i+=1){this._items[i].adjustWithOption(this._adjustOption)}this._adjustItem.adjustWithOption(this._adjustOption)}},fg.prototype.cancelCurrentAdjust=function(){if(this._adjustItem&&(this._adjustItem.remove(),this._adjustItem=void 0),this._currentMeasureItem instanceof Wp&&(this._currentMeasureItem.remove(),this._currentMeasureItem=void 0),this._adjustOption){for(var A=0,e=this._items.length;A<e;A+=1){this._items[A].unAdjustWithOption(this._adjustOption)}this._adjustOption=void 0}},fg.prototype.cancelCurrentMeasure=function(){!this._currentMeasureItem||this._currentMeasureItem instanceof Wp||(this._currentMeasureItem.remove(),this._currentMeasureItem=void 0)},fg.prototype.processIntersect=function(A){if(this.isOpen){if(!A)return this._hidePickedLine(),void this._hidePickedPoint();if(A.pickPoint){var e=[A.pickPoint.x,A.pickPoint.y,void 0===A.pickPoint.z?0:A.pickPoint.z],t=e;if(A.pick){if(this._currentMode===pg&&this._currentMeasureItem&&this._currentMeasureItem.isDone()&&(this._currentMeasureItem.remove(),this._currentMeasureItem=void 0),this._currentMeasureItem||this._createNewItem(),t=void 0,this._currentMeasureItem.addPickedPoint(e,A.measureUnit,this.config.pointTransformer),this._currentMeasureItem.draw(t,this.config.pointTransformer),this._currentMeasureItem.isDone()){this._currentMeasureItem instanceof Wp||!this._adjustOption||this._currentMeasureItem.adjustWithOption(this._adjustOption);var i=this._currentMeasureItem.measureResult();this._currentMeasureItem instanceof Wp||(this._items.push(this._currentMeasureItem),this._currentMeasureItem=void 0),this.didEndMeasureCallback&&this.didEndMeasureCallback(i)}}else this._currentMeasureItem&&this._currentMeasureItem.draw(t,this.config.pointTransformer);A.isAbsorbPoint?this._showPickedPoint(A.pickPoint):this._hidePickedPoint()}A.pickPlane?this._showPickedPanel(A.pickPoint,A.normal):this._hidePickedPanel(),A.pickLine?this._showPickedLine(A.pickLine[0],A.pickLine[1]):this._hidePickedLine()}},fg.prototype.update=function(){if(this.isOpen){for(var A=0,e=this._items.length;A<e;A+=1)this._items[A].draw(void 0,this.config.pointTransformer);this._currentMeasureItem&&this._currentMeasureItem.draw(void 0,this.config.pointTransformer),this._adjustItem&&this._adjustItem.draw(void 0,this.config.pointTransformer),this._pickedLine&&this._pickedLine.isVisible()&&this._pickedLine.draw(this.config.pointTransformer),this._pickedPanel&&this._pickedPanel.isVisible()&&this._pickedPanel.draw(this.config.pointTransformer)}},fg.prototype._createNewItem=function(){switch(this._currentMode){case hg:this._currentMeasureItem=new Jp(this.svg);break;case ug:this._currentMeasureItem=new Xp(this.svg);break;case pg:this._currentMeasureItem=new Wp(this.svg);break;case gg:this._currentMeasureItem=new Yp(this.svg)}this._currentMeasureItem&&(this._currentMeasureItem.is3DMode=this.config.is3DMode,this._currentMeasureItem instanceof Wp||(this._adjustOption&&this._currentMeasureItem.adjustWithOption(this._adjustOption),this._unitSetByUser&&this._currentMeasureItem.changeUnit(this._unitSetByUser)),this._currentMeasureItem.changePrecision(this._precision))},fg.prototype._showPickedLine=function(A,e){this._pickedLine||(this._pickedLine=new Zp(this.svg)),this._pickedLine.add(),this._pickedLine.setupWithPoints(A,e),this._pickedLine.draw(this.config.pointTransformer)},fg.prototype._hidePickedLine=function(){this._pickedLine&&this._pickedLine.remove()},fg.prototype._showPickedPoint=function(A){this._pickedPoint||(this._pickedPoint=new cg(this.svg)),this._pickedPoint.add(),this._pickedPoint.setupWithPoint(A),this._pickedPoint.draw(this.config.pointTransformer)},fg.prototype._hidePickedPoint=function(){this._pickedPoint&&this._pickedPoint.remove()},fg.prototype._showPickedPanel=function(A,e){this._pickedPanel||(this._pickedPanel=new lg(this.svg,this.config.viewer)),this._pickedPanel.add(),this._pickedPanel.setupWithPoint(A,e),this._pickedPanel.draw(this.config.pointTransformer)},fg.prototype._hidePickedPanel=function(){this._pickedPanel&&this._pickedPanel.remove()},fg.prototype._createSVG=function(A,e){var t=document.createElementNS(Lp,"svg");return t.style.width=A,t.style.height=e,t.style.position="absolute",t.style.left="0",t.style.top="0",t},fg.prototype._handleKeyUp=function(A){27===A.keyCode&&this.cancelCurrentMeasure()};var mg=function(A){Bp.call(this,vh.PICK_BY_MEASURE),this.controlManager=A.controlManager,this.pickHelper=new Ip(A.cameraControl),this.mouseDown=new Le,this.lastEvent=null,this.pick=!1,this.pickPoint=new Ue;var e=A.renderer.domElement.parentElement,t=new dg;t.parentDom=e,t.pointTransformer=A.getScreenCoordFromSceneCoord.bind(A),t.viewer=A,t.is3DMode=!0,this.measure=new fg(t);var i=this;A.cameraControl.addEventListener(lh.ON_CAMERA_CHANGE,function(){i.measure.update()})};((mg.prototype=Object.create(Bp.prototype)).constructor=mg).prototype.processMouseDown=function(A){return!!zh.isMobileDevice()||(A.button===pA.LEFT?(this.mouseDown.x=A.clientX,this.mouseDown.y=A.clientY,!1):Bp.prototype.processMouseDown.call(this,A))},mg.prototype.processMouseMove=function(A){return!1},mg.prototype.processMouseUp=function(A){if(zh.isMobileDevice())return!0;if(A.button!==pA.LEFT)return Bp.prototype.processMouseUp.call(this,A);if(2<new Le(A.clientX,A.clientY).distanceTo(this.mouseDown))return!0;var e=this.pickPoint.clone(),t=void 0;return t=A.shiftKey?this.pickHelper.handleShiftMeasure(A,!0,e):this.pickHelper.handleMouseMeasure(A,!0,e),this.measure.processIntersect(t),e.equals(this.pickPoint)||(this.pick=!this.pick,this.pickPoint.copy(e)),this.controlManager.isUpdateRenderList=!0},mg.prototype.processHover=function(A){if(zh.isMobileDevice())return!0;var e=void 0;return e=A.shiftKey?this.pickHelper.handleShiftMeasure(A,!1,this.pickPoint):this.pickHelper.handleMouseMeasure(A,!1,this.pickPoint),this.measure.processIntersect(e),!0},mg.prototype.processTouchstart=function(A){return this.mouseDown.x=A.touches[0].clientX,this.mouseDown.y=A.touches[0].clientY,A.clientX=A.touches[0].clientX,A.clientY=A.touches[0].clientY,this.lastEvent=A,Bp.prototype.processTouchstart.call(this,A)},mg.prototype.processTouchmove=function(A){return this.lastEvent=null,Bp.prototype.processTouchmove.call(this,A)},mg.prototype.processTouchend=function(A){if(null!==this.lastEvent){var e=this.pickHelper.handleMouseMeasure(this.lastEvent,!0,this.pickPoint);this.measure.processIntersect(e),this.controlManager.isUpdateRenderList=!0}return Bp.prototype.processTouchend.call(this,A)},mg.prototype.onExit=function(A){this.measure.close();var e=this.pickHelper.scene;e.hasGroup(Ap.MEASUREPICKPLANE)&&e.removeGroupByName(Ap.MEASUREPICKPLANE)};var vg=function(A){this.viewer=A};vg.prototype={construtor:vg,destroy:function(){this.viewer=null},update:function(A){var e=this.getControl();e&&(e.update(A),this.viewer.render())},getControl:function(){for(var A=this.viewer.controlManager.tools,e=0;e<A.length;e+=1)if(A[e].getName()===vh.CLIP_BY_BOX)return A[e];return null},setSectionBox:function(A,e){this.getControl().setSectionBox(A,e)},toggle:function(A,e){this.getControl().toggle(A,e)},setVisible:function(A){this.getControl().visible(A)},setRotatable:function(A){this.getControl().rotatable(A)},enablePick:function(A){this.getControl().enablePick=A},saveState:function(){return this.getControl().store()},loadState:function(A){this.getControl().restore(A)},reset:function(){this.viewer.getScene().resetClipPlanes()},recalculate:function(){return this.viewer.getFilter().getVisibleComponentsBbox()},setProcess:function(A,e){this.getControl().setProcess(A,e)},getProcess:function(A){return this.getControl().getProcess(A)}};var yg=function(A,e,t){Bp.call(this,vh.COMPONENT_TRANSFORM),this._callbackWrapper=void 0,this.transformControl=new Cg(A,e,t)};((yg.prototype=Object.create(Bp.prototype)).constructor=yg).prototype.transformComponent=function(A,e){if(A){var t=this.transformControl;e&&(this._callbackWrapper&&this.transformControl.removeEventListener("change",this._callbackWrapper),this._callbackWrapper=function(A){e(A)},this.transformControl.addEventListener("change",this._callbackWrapper)),this._saveComponentOriginalTransformState(A),!0!==t.showX&&(t.showX=!0),!0!==t.showY&&(t.showY=!0),!0!==t.showZ&&(t.showZ=!0),!0!==t.enabled&&(t.enabled=!0),t.attach(A)}},yg.prototype.cancelTransformComponent=function(A){!0===A&&this.restoreComponentOriginalTransformState(),this.transformControl.detach(),this._callbackWrapper&&this.transformControl.removeEventListener("change",this._callbackWrapper)},yg.prototype.switchToTranslateMode=function(){this.transformControl.setMode("translate")},yg.prototype.switchToRotateMode=function(){this.transformControl.setMode("rotate")},yg.prototype.switchToScaleMode=function(){this.transformControl.setMode("scale")},yg.prototype._saveComponentOriginalTransformState=function(A){if(!A.userData._originalTransformState){var e=A.position.clone(),t=A.quaternion.clone(),i=A.scale.clone(),n=A.matrix.clone(),o=A.matrixWorld.clone();A.userData._originalTransformState={position:e,quaternion:t,scale:i,matrix:n,matrixWorld:o}}},yg.prototype.restoreComponentOriginalTransformState=function(){var A=this.transformControl.object;if(!A)return!1;var e=A.userData._originalTransformState;return!!e&&(A.position.copy(e.position),A.quaternion.copy(e.quaternion),A.scale.copy(e.scale),A.matrix.copy(e.matrix),A.matrixWorld.copy(e.matrixWorld),this.transformControl.updateMatrixWorld(),!0)},yg.prototype.increaseTransformControlSize=function(){var A=this.transformControl;if(A.object&&A.visible){var e=A.size;if(e<3)return A.setSize(e+.1),!0}return!1},yg.prototype.decreaseTransformControlSize=function(){var A=this.transformControl;if(A.object&&A.visible){var e=A.size;if(.5<e)return A.setSize(e-.1),!0}return!1},yg.prototype.setTransformSpaceToLocalSpace=function(){var A=this.transformControl;return!(!A.object||!A.visible)&&(A.setSpace("local"),!0)},yg.prototype.setTransformSpaceToWorldSpace=function(){var A=this.transformControl;return!(!A.object||!A.visible)&&(A.setSpace("world"),!0)},yg.prototype.switchTransformSpace=function(){var A=this.transformControl;return!(!A.object||!A.visible)&&(A.setSpace("local"===A.space?"world":"local"),!0)},yg.prototype.showTransformOnAxis=function(A){var e=this.transformControl;if(e.object&&e.visible){var t=!1;switch(A){case"x":case"X":!0!==e.showX&&(e.showX=t=!0);break;case"y":case"Y":!0!==e.showY&&(e.showY=t=!0);break;case"z":case"Z":!0!==e.showZ&&(e.showZ=t=!0)}return t}return!1},yg.prototype.hideTransformOnAxis=function(A){var e=this.transformControl;if(e.object&&e.visible){var t=!1;switch(A){case"x":case"X":!1!==e.showX&&(e.showX=!(t=!0));break;case"y":case"Y":!1!==e.showY&&(e.showY=!(t=!0));break;case"z":case"Z":!1!==e.showZ&&(e.showZ=!(t=!0))}return t}return!1},yg.prototype.disableTransform=function(){var A=this.transformControl;return!(!A.object||!A.visible||!1===A.enabled)&&!(A.enabled=!1)},yg.prototype.enableTransform=function(){var A=this.transformControl;return!(!A.object||!A.visible||!0===A.enabled)&&(A.enabled=!0)},yg.prototype.processMouseDown=function(A){return!!this.transformControl.enabled&&(!!this.transformControl.mouseHover(A)&&this.transformControl.mouseDown(A))},yg.prototype.processMouseMove=function(A){return!!this.transformControl.enabled&&this.transformControl.mouseMove(A)},yg.prototype.processMouseUp=function(A){return!!this.transformControl.enabled&&this.transformControl.mouseUp(A)},yg.prototype.processHover=function(A){return!!this.transformControl.enabled&&this.transformControl.mouseHover(A)};var Cg=function(A,e,i){ti.call(this),i=void 0!==i?i:document,this.scene=A,this.visible=!1;var n=new Ig;this.add(n);var C=new xg;this.add(C);var o=this;g("camera",e),g("object",void 0),g("enabled",!0),g("axis",null),g("mode","translate"),g("translationSnap",null),g("rotationSnap",null),g("space","world"),g("size",1),g("dragging",!1),g("showX",!0),g("showY",!0),g("showZ",!0);var I={type:"change"},r={type:"mouseDown"},t={type:"mouseUp",mode:o.mode},x={type:"objectChange"},b=new $u,E=new Ue,w=new Ue,M=new Oe,B={X:new Ue(1,0,0),Y:new Ue(0,1,0),Z:new Ue(0,0,1)},_=new Ue,S=new Ue,T=new Ue,K=new Ue,F=new Ue,L=new Ue,O=0,a=new Ue,s=new Oe,l=new Ue,c=new Ue,d=new Oe,U=new Oe,N=new Ue,R=new Ue,h=new Oe,u=new Ue,P=new Ue,D=new Oe,Q=new Oe,p=new Ue,k=new Ue,z=new Ue,V=new Oe,H=new Ue;function g(e,A){var t=A;Object.defineProperty(o,e,{get:function(){return void 0!==t?t:A},set:function(A){t!==A&&(n[e]=C[e]=t=A,o.updateMatrixWorld(),o.dispatchEvent({type:e+"-changed",value:A}),o.dispatchEvent(I))}}),n[e]=C[e]=o[e]=A}function G(A){var e=A.changedTouches?A.changedTouches[0]:A,t=i.getBoundingClientRect();return{x:(e.clientX-t.left)/t.width*2-1,y:-(e.clientY-t.top)/t.height*2+1,button:A.button}}g("worldPosition",P),g("worldPositionStart",R),g("worldQuaternion",D),g("worldQuaternionStart",h),g("cameraPosition",a),g("cameraQuaternion",s),g("pointStart",_),g("pointEnd",S),g("rotationAxis",K),g("rotationAngle",O),g("eye",k),this.attach=function(A){A&&(A.userData.componentTransform_control||(this.scene.add(this),this.object=A,this.object.userData.componentTransform_control=this),this.visible=!0)},this.detach=function(){this.object&&(this.object.userData.componentTransform_control&&(this.object.userData.componentTransform_control=void 0,delete this.object.userData.componentTransform_control),this.object=void 0),this.parent&&this.parent.remove(this),this.scene=void 0,this.visible=!1,this.axis=null},this.updateMatrixWorld=function(){if(void 0!==this.object){this.object.updateMatrixWorld(),this.object.parent.matrixWorld.decompose(c,d,N),this.object.matrixWorld.decompose(P,D,p);var A=this.object.geometry;A.computeBoundingBox(),A.boundingBox.getCenter(P),P.applyMatrix4(this.object.matrixWorld),U.copy(d).inverse(),Q.copy(D).inverse()}this.camera.updateMatrixWorld(),this.camera.matrixWorld.decompose(a,s,l),this.camera instanceof hn?k.copy(a).sub(P).normalize():this.camera instanceof Tl?k.copy(a).normalize():this.camera instanceof Hu&&(this.camera.isPerspective?k.copy(a).sub(P).normalize():k.copy(a).normalize()),ti.prototype.updateMatrixWorld.call(this)},this.mouseHover=function(A){var e=G(A);if(void 0===this.object||!0===this.dragging||void 0!==e.button&&0!==e.button)return!1;b.setFromCamera(e,this.camera);var t=b.intersectObjects(n.picker[this.mode].children,!0)||!1;return t?(this.axis=t.object.name,!0):(this.axis=null,!1)},this.mouseDown=function(A){var e=G(A);if(void 0===this.object||!0===this.dragging||void 0!==e.button&&0!==e.button)return!1;if((0===e.button||void 0===e.button)&&null!==this.axis){b.setFromCamera(e,this.camera);var t=b.intersectObjects([C],!0)||!1;if(!1===t)return!1;if(t){var i=this.space;if("scale"===this.mode?i="local":"E"!==this.axis&&"XYZE"!==this.axis&&"XYZ"!==this.axis||(i="world"),"local"===i&&"rotate"===this.mode){var n=this.rotationSnap;"X"===this.axis&&n&&(this.object.rotation.x=Math.round(this.object.rotation.x/n)*n),"Y"===this.axis&&n&&(this.object.rotation.y=Math.round(this.object.rotation.y/n)*n),"Z"===this.axis&&n&&(this.object.rotation.z=Math.round(this.object.rotation.z/n)*n)}this.object.updateMatrixWorld(),this.object.parent.updateMatrixWorld(),this.object.matrix.decompose(z,V,H),this.object.matrixWorld.decompose(R,h,u),R.copy(P),_.copy(t.point).sub(R)}return this.dragging=!0,r.mode=this.mode,this.dispatchEvent(r),!0}},this.mouseMove=function(A){var e=G(A),t=this.axis,i=this.mode,n=this.object,o=this.space;if("scale"===i?o="local":"E"!==t&&"XYZE"!==t&&"XYZ"!==t||(o="world"),void 0===n||null===t||!1===this.dragging||void 0!==e.button&&0!==e.button)return!1;b.setFromCamera(e,this.camera);var r=b.intersectObjects([C],!0)||!1;if(!1===r)return!1;if(S.copy(r.point).sub(R),"translate"===i)T.copy(S).sub(_),"local"===o&&"XYZ"!==t&&T.applyQuaternion(Q),-1===t.indexOf("X")&&(T.x=0),-1===t.indexOf("Y")&&(T.y=0),-1===t.indexOf("Z")&&(T.z=0),"local"===o&&"XYZ"!==t?T.applyQuaternion(V).divide(N):T.applyQuaternion(U).divide(N),(c=n.matrix).setPosition(T.clone().add(z)),n.matrix=new At,n.applyMatrix(c),this.translationSnap&&("local"===o&&(n.position.applyQuaternion(M.copy(V).inverse()),-1!==t.search("X")&&(n.position.x=Math.round(n.position.x/this.translationSnap)*this.translationSnap),-1!==t.search("Y")&&(n.position.y=Math.round(n.position.y/this.translationSnap)*this.translationSnap),-1!==t.search("Z")&&(n.position.z=Math.round(n.position.z/this.translationSnap)*this.translationSnap),n.position.applyQuaternion(V)),"world"===o&&(n.parent&&n.position.add(E.setFromMatrixPosition(n.parent.matrixWorld)),-1!==t.search("X")&&(n.position.x=Math.round(n.position.x/this.translationSnap)*this.translationSnap),-1!==t.search("Y")&&(n.position.y=Math.round(n.position.y/this.translationSnap)*this.translationSnap),-1!==t.search("Z")&&(n.position.z=Math.round(n.position.z/this.translationSnap)*this.translationSnap),n.parent&&n.position.sub(E.setFromMatrixPosition(n.parent.matrixWorld))));else if("scale"===i){if(-1!==t.search("XYZ")){var a=S.length()/_.length();S.dot(_)<0&&(a*=-1),w.set(a,a,a)}else E.copy(_),w.copy(S),E.applyQuaternion(Q),w.applyQuaternion(Q),w.divide(E),-1===t.search("X")&&(w.x=1),-1===t.search("Y")&&(w.y=1),-1===t.search("Z")&&(w.z=1);var s=H.clone().multiply(w),l=new Ue;(y=this.object.geometry).computeBoundingBox(),y.boundingBox.getCenter(l);var c=n.matrix;n.matrix=new At;var d=(new At).makeTranslation(-l.x,-l.y,-l.z),h=(new At).makeScale(s.x,s.y,s.z),u=(new At).makeTranslation(l.x,l.y,l.z);c.multiply(u);var p=new Ue,g=new Oe,f=new Ue;c.decompose(p,g,f),c.compose(p,g,new Ue(1,1,1)),c.multiply(h),c.multiply(d),n.applyMatrix(c)}else if("rotate"===i){T.copy(S).sub(_);var m=20/P.distanceTo(E.setFromMatrixPosition(this.camera.matrixWorld));"E"===t?(K.copy(k),O=S.angleTo(_),F.copy(_).normalize(),L.copy(S).normalize(),O*=L.cross(F).dot(k)<0?1:-1):"XYZE"===t?(K.copy(T).cross(k).normalize(),O=T.dot(E.copy(K).cross(this.eye))*m):"X"!==t&&"Y"!==t&&"Z"!==t||(K.copy(B[t]),E.copy(B[t]),"local"===o&&E.applyQuaternion(D),O=T.dot(E.cross(k).normalize())*m),this.rotationSnap&&(O=Math.round(O/this.rotationSnap)*this.rotationSnap),this.rotationAngle=O;var v=new Oe;"local"===o&&"E"!==t&&"XYZE"!==t?(v.copy(V),v.multiply(M.setFromAxisAngle(K,O)).normalize()):(K.applyQuaternion(U),v.copy(M.setFromAxisAngle(K,O)),v.multiply(V).normalize());var y;l=new Ue;(y=this.object.geometry).computeBoundingBox(),y.boundingBox.getCenter(l);c=n.matrix;n.matrix=new At;d=(new At).makeTranslation(-l.x,-l.y,-l.z),h=(new At).makeRotationFromQuaternion(v),u=(new At).makeTranslation(l.x,l.y,l.z);c.multiply(u);p=new Ue,g=new Oe,f=new Ue;c.decompose(p,g,f),c.compose(p,new Oe,f),c.multiply(h),c.multiply(d),n.applyMatrix(c)}return n.updateMatrix(),n.updateMatrixWorld(),this.updateMatrixWorld(),this.dispatchEvent(I),this.dispatchEvent(x),!0},this.mouseUp=function(A){var e=G(A);return(void 0===e.button||0===e.button)&&(this.dragging&&null!==this.axis&&(t.mode=this.mode,this.dispatchEvent(t)),this.dragging=!1,void 0===e.button&&(this.axis=null),!0)},this.getMode=function(){return o.mode},this.setMode=function(A){o.mode=A},this.setTranslationSnap=function(A){o.translationSnap=A},this.setRotationSnap=function(A){o.rotationSnap=A},this.setSize=function(A){o.size=A},this.setSpace=function(A){o.space=A},this.update=function(){console.warn("THREE.TransformControls: update function has been depricated.")}};Cg.prototype=Object.assign(Object.create(ti.prototype),{constructor:Cg,isTransformControls:!0});var Ig=function(){ti.call(this);var A=new yi({depthTest:!(this.type="TransformControlsGizmo"),depthWrite:!1,transparent:!0,side:gA,fog:!1}),e=new Yr({depthTest:!1,depthWrite:!1,transparent:!0,linewidth:1,fog:!1}),t=A.clone();t.opacity=.15;var i=A.clone();i.opacity=.33;var n=A.clone();n.color.set(16711680);var o=A.clone();o.color.set(65280);var r=A.clone();r.color.set(255);var a=A.clone();a.opacity=.25;var s=a.clone();s.color.set(16776960);var l=a.clone();l.color.set(65535);var c=a.clone();c.color.set(16711935),A.clone().color.set(16776960);var d=e.clone();d.color.set(16711680);var h=e.clone();h.color.set(65280);var u=e.clone();u.color.set(255);var p=e.clone();p.color.set(65535);var g=e.clone();g.color.set(16711935);var f=e.clone();f.color.set(16776960);var m=e.clone();m.color.set(7895160);var v=f.clone(),y=new hs(0,.05,.2,12,1,!(v.opacity=.25)),C=new nn(.125,.125,.125),I=new Gi;I.addAttribute("position",new _i([0,0,0,1,0,0],3));var x,b=function(A,e){for(var t=new Gi,i=[],n=0;n<=64*e;++n)i.push(0,Math.cos(n/32*Math.PI)*A,Math.sin(n/32*Math.PI)*A);return t.addAttribute("position",new _i(i,3)),t},E={X:[[new ji(y,n),[1,0,0],[0,0,-Math.PI/2],null,"fwd"],[new ji(y,n),[1,0,0],[0,0,Math.PI/2],null,"bwd"],[new Jr(I,d)]],Y:[[new ji(y,o),[0,1,0],null,null,"fwd"],[new ji(y,o),[0,1,0],[Math.PI,0,0],null,"bwd"],[new Jr(I,h),null,[0,0,Math.PI/2]]],Z:[[new ji(y,r),[0,0,1],[Math.PI/2,0,0],null,"fwd"],[new ji(y,r),[0,0,1],[-Math.PI/2,0,0],null,"bwd"],[new Jr(I,u),null,[0,-Math.PI/2,0]]],XYZ:[[new ji(new pa(.1,0),a),[0,0,0],[0,0,0]]],XY:[[new ji(new Fn(.295,.295),s),[.15,.15,0]],[new Jr(I,f),[.18,.3,0],null,[.125,1,1]],[new Jr(I,f),[.3,.18,0],[0,0,Math.PI/2],[.125,1,1]]],YZ:[[new ji(new Fn(.295,.295),l),[0,.15,.15],[0,Math.PI/2,0]],[new Jr(I,p),[0,.18,.3],[0,0,Math.PI/2],[.125,1,1]],[new Jr(I,p),[0,.3,.18],[0,-Math.PI/2,0],[.125,1,1]]],XZ:[[new ji(new Fn(.295,.295),c),[.15,0,.15],[-Math.PI/2,0,0]],[new Jr(I,g),[.18,0,.3],null,[.125,1,1]],[new Jr(I,g),[.3,0,.18],[0,-Math.PI/2,0],[.125,1,1]]]},w={X:[[new ji(new hs(.2,0,1,4,1,!1),t),[.6,0,0],[0,0,-Math.PI/2]]],Y:[[new ji(new hs(.2,0,1,4,1,!1),t),[0,.6,0]]],Z:[[new ji(new hs(.2,0,1,4,1,!1),t),[0,0,.6],[Math.PI/2,0,0]]],XYZ:[[new ji(new pa(.2,0),t)]],XY:[[new ji(new Fn(.4,.4),t),[.2,.2,0]]],YZ:[[new ji(new Fn(.4,.4),t),[0,.2,.2],[0,Math.PI/2,0]]],XZ:[[new ji(new Fn(.4,.4),t),[.2,0,.2],[-Math.PI/2,0,0]]]},M={START:[[new ji(new pa(.01,2),i),null,null,null,"helper"]],END:[[new ji(new pa(.01,2),i),null,null,null,"helper"]],DELTA:[[new Jr((x=new Gi,x.addAttribute("position",new _i([0,0,0,1,1,1],3)),x),i),null,null,null,"helper"]],X:[[new Jr(I,i.clone()),[-1e3,0,0],null,[1e6,1,1],"helper"]],Y:[[new Jr(I,i.clone()),[0,-1e3,0],[0,0,Math.PI/2],[1e6,1,1],"helper"]],Z:[[new Jr(I,i.clone()),[0,0,-1e3],[0,-Math.PI/2,0],[1e6,1,1],"helper"]]},B={X:[[new Jr(b(1,.5),d)],[new ji(new pa(.04,0),n),[0,0,.99],null,[1,3,1]]],Y:[[new Jr(b(1,.5),h),null,[0,0,-Math.PI/2]],[new ji(new pa(.04,0),o),[0,0,.99],null,[3,1,1]]],Z:[[new Jr(b(1,.5),u),null,[0,Math.PI/2,0]],[new ji(new pa(.04,0),r),[.99,0,0],null,[1,3,1]]],E:[[new Jr(b(1.25,1),v),null,[0,Math.PI/2,0]],[new ji(new hs(.03,0,.15,4,1,!1),v),[1.17,0,0],[0,0,-Math.PI/2],[1,1,.001]],[new ji(new hs(.03,0,.15,4,1,!1),v),[-1.17,0,0],[0,0,Math.PI/2],[1,1,.001]],[new ji(new hs(.03,0,.15,4,1,!1),v),[0,-1.17,0],[Math.PI,0,0],[1,1,.001]],[new ji(new hs(.03,0,.15,4,1,!1),v),[0,1.17,0],[0,0,0],[1,1,.001]]],XYZE:[[new Jr(b(1,1),m),null,[0,Math.PI/2,0]]]},_={AXIS:[[new Jr(I,i.clone()),[-1e3,0,0],null,[1e6,1,1],"helper"]]},S={X:[[new ji(new Ea(1,.1,4,24),t),[0,0,0],[0,-Math.PI/2,-Math.PI/2]]],Y:[[new ji(new Ea(1,.1,4,24),t),[0,0,0],[Math.PI/2,0,0]]],Z:[[new ji(new Ea(1,.1,4,24),t),[0,0,0],[0,0,-Math.PI/2]]],E:[[new ji(new Ea(1.25,.1,2,24),t)]],XYZE:[[new ji(new ts(.7,10,8),t)]]},T={X:[[new ji(C,n),[.8,0,0],[0,0,-Math.PI/2]],[new Jr(I,d),null,null,[.8,1,1]]],Y:[[new ji(C,o),[0,.8,0]],[new Jr(I,h),null,[0,0,Math.PI/2],[.8,1,1]]],Z:[[new ji(C,r),[0,0,.8],[Math.PI/2,0,0]],[new Jr(I,u),null,[0,-Math.PI/2,0],[.8,1,1]]],XY:[[new ji(C,s),[.85,.85,0],null,[2,2,.2]],[new Jr(I,f),[.855,.98,0],null,[.125,1,1]],[new Jr(I,f),[.98,.855,0],[0,0,Math.PI/2],[.125,1,1]]],YZ:[[new ji(C,l),[0,.85,.85],null,[.2,2,2]],[new Jr(I,p),[0,.855,.98],[0,0,Math.PI/2],[.125,1,1]],[new Jr(I,p),[0,.98,.855],[0,-Math.PI/2,0],[.125,1,1]]],XZ:[[new ji(C,c),[.85,0,.85],null,[2,.2,2]],[new Jr(I,g),[.855,0,.98],null,[.125,1,1]],[new Jr(I,g),[.98,0,.855],[0,-Math.PI/2,0],[.125,1,1]]],XYZX:[[new ji(new nn(.125,.125,.125),a),[1.1,0,0]]],XYZY:[[new ji(new nn(.125,.125,.125),a),[0,1.1,0]]],XYZZ:[[new ji(new nn(.125,.125,.125),a),[0,0,1.1]]]},K={X:[[new ji(new hs(.2,0,.8,4,1,!1),t),[.5,0,0],[0,0,-Math.PI/2]]],Y:[[new ji(new hs(.2,0,.8,4,1,!1),t),[0,.5,0]]],Z:[[new ji(new hs(.2,0,.8,4,1,!1),t),[0,0,.5],[Math.PI/2,0,0]]],XY:[[new ji(C,t),[.85,.85,0],null,[3,3,.2]]],YZ:[[new ji(C,t),[0,.85,.85],null,[.2,3,3]]],XZ:[[new ji(C,t),[.85,0,.85],null,[3,.2,3]]],XYZX:[[new ji(new nn(.2,.2,.2),t),[1.1,0,0]]],XYZY:[[new ji(new nn(.2,.2,.2),t),[0,1.1,0]]],XYZZ:[[new ji(new nn(.2,.2,.2),t),[0,0,1.1]]]},F={X:[[new Jr(I,i.clone()),[-1e3,0,0],null,[1e6,1,1],"helper"]],Y:[[new Jr(I,i.clone()),[0,-1e3,0],[0,0,Math.PI/2],[1e6,1,1],"helper"]],Z:[[new Jr(I,i.clone()),[0,0,-1e3],[0,-Math.PI/2,0],[1e6,1,1],"helper"]]},L=function(A){var e=new ti;for(var t in A)for(var i=A[t].length;i--;){var n=A[t][i][0].clone(),o=A[t][i][1],r=A[t][i][2],a=A[t][i][3],s=A[t][i][4];n.name=t,n.tag=s,o&&n.position.set(o[0],o[1],o[2]),r&&n.rotation.set(r[0],r[1],r[2]),a&&n.scale.set(a[0],a[1],a[2]),n.updateMatrix();var l=n.geometry.clone();l.applyMatrix(n.matrix),n.geometry=l,n.renderOrder=1/0,n.position.set(0,0,0),n.rotation.set(0,0,0),n.scale.set(1,1,1),e.add(n)}return e},O=new Ue(0,0,0),U=new et,N=new Ue(0,1,0),R=new Ue(0,0,0),P=new At,D=new Oe,Q=new Oe,k=new Oe,z=new Ue(1,0,0),V=new Ue(0,1,0),H=new Ue(0,0,1);this.gizmo={},this.picker={},this.helper={},this.add(this.gizmo.translate=L(E)),this.add(this.gizmo.rotate=L(B)),this.add(this.gizmo.scale=L(T)),this.add(this.picker.translate=L(w)),this.add(this.picker.rotate=L(S)),this.add(this.picker.scale=L(K)),this.add(this.helper.translate=L(M)),this.add(this.helper.rotate=L(_)),this.add(this.helper.scale=L(F)),this.picker.translate.visible=!1,this.picker.rotate.visible=!1,this.picker.scale.visible=!1,this.updateMatrixWorld=function(){var A=this.space;"scale"===this.mode&&(A="local");var e="local"===A?this.worldQuaternion:k;this.gizmo.translate.visible="translate"===this.mode,this.gizmo.rotate.visible="rotate"===this.mode,this.gizmo.scale.visible="scale"===this.mode,this.helper.translate.visible="translate"===this.mode,this.helper.rotate.visible="rotate"===this.mode,this.helper.scale.visible="scale"===this.mode;var t=[];t=(t=(t=t.concat(this.picker[this.mode].children)).concat(this.gizmo[this.mode].children)).concat(this.helper[this.mode].children);for(var i=0;i<t.length;i++){var n=t[i];n.visible=!0,n.rotation.set(0,0,0),n.position.copy(this.worldPosition);var o=this.worldPosition.distanceTo(this.cameraPosition);if(n.scale.set(1,1,1).multiplyScalar(o*this.size/7),"helper"!==n.tag){if(n.quaternion.copy(e),"translate"===this.mode||"scale"===this.mode){"X"!==n.name&&"XYZX"!==n.name||.99<Math.abs(N.copy(z).applyQuaternion(e).dot(this.eye))&&(n.scale.set(1e-10,1e-10,1e-10),n.visible=!1),"Y"!==n.name&&"XYZY"!==n.name||.99<Math.abs(N.copy(V).applyQuaternion(e).dot(this.eye))&&(n.scale.set(1e-10,1e-10,1e-10),n.visible=!1),"Z"!==n.name&&"XYZZ"!==n.name||.99<Math.abs(N.copy(H).applyQuaternion(e).dot(this.eye))&&(n.scale.set(1e-10,1e-10,1e-10),n.visible=!1),"XY"===n.name&&Math.abs(N.copy(H).applyQuaternion(e).dot(this.eye))<.2&&(n.scale.set(1e-10,1e-10,1e-10),n.visible=!1),"YZ"===n.name&&Math.abs(N.copy(z).applyQuaternion(e).dot(this.eye))<.2&&(n.scale.set(1e-10,1e-10,1e-10),n.visible=!1),"XZ"===n.name&&Math.abs(N.copy(V).applyQuaternion(e).dot(this.eye))<.2&&(n.scale.set(1e-10,1e-10,1e-10),n.visible=!1),-1!==n.name.search("X")&&(N.copy(z).applyQuaternion(e).dot(this.eye)<0?"fwd"===n.tag?n.visible=!1:n.scale.x*=-1:"bwd"===n.tag&&(n.visible=!1)),-1!==n.name.search("Y")&&(N.copy(V).applyQuaternion(e).dot(this.eye)<0?"fwd"===n.tag?n.visible=!1:n.scale.y*=-1:"bwd"===n.tag&&(n.visible=!1)),-1!==n.name.search("Z")&&(N.copy(H).applyQuaternion(e).dot(this.eye)<0?"fwd"===n.tag?n.visible=!1:n.scale.z*=-1:"bwd"===n.tag&&(n.visible=!1))}else"rotate"===this.mode&&(Q.copy(e),N.copy(this.eye).applyQuaternion(D.copy(e).inverse()),-1!==n.name.search("E")&&n.quaternion.setFromRotationMatrix(P.lookAt(this.eye,R,V)),"X"===n.name&&(D.setFromAxisAngle(z,Math.atan2(-N.y,N.z)),D.multiplyQuaternions(Q,D),n.quaternion.copy(D)),"Y"===n.name&&(D.setFromAxisAngle(V,Math.atan2(N.x,N.z)),D.multiplyQuaternions(Q,D),n.quaternion.copy(D)),"Z"===n.name&&(D.setFromAxisAngle(H,Math.atan2(N.y,N.x)),D.multiplyQuaternions(Q,D),n.quaternion.copy(D)));n.visible=n.visible&&(-1===n.name.indexOf("X")||this.showX),n.visible=n.visible&&(-1===n.name.indexOf("Y")||this.showY),n.visible=n.visible&&(-1===n.name.indexOf("Z")||this.showZ),n.visible=n.visible&&(-1===n.name.indexOf("E")||this.showX&&this.showY&&this.showZ),n.material._opacity=n.material._opacity||n.material.opacity,n.material._color=n.material._color||n.material.color.clone(),n.material.color.copy(n.material._color),n.material.opacity=n.material._opacity,this.enabled?this.axis&&(n.name===this.axis?n.material.opacity=1:this.axis.split("").some(function(A){return n.name===A})?n.material.opacity=1:n.material.opacity*=.25,n.material.color.lerp(new hi(1,1,1),.5)):(n.material.opacity*=.5,n.material.color.lerp(new hi(1,1,1),.5))}else n.visible=!1,"AXIS"===n.name?(n.position.copy(this.worldPositionStart),n.visible=!!this.axis,"X"===this.axis&&(D.setFromEuler(U.set(0,0,0)),n.quaternion.copy(e).multiply(D),.9<Math.abs(N.copy(z).applyQuaternion(e).dot(this.eye))&&(n.visible=!1)),"Y"===this.axis&&(D.setFromEuler(U.set(0,0,Math.PI/2)),n.quaternion.copy(e).multiply(D),.9<Math.abs(N.copy(V).applyQuaternion(e).dot(this.eye))&&(n.visible=!1)),"Z"===this.axis&&(D.setFromEuler(U.set(0,Math.PI/2,0)),n.quaternion.copy(e).multiply(D),.9<Math.abs(N.copy(H).applyQuaternion(e).dot(this.eye))&&(n.visible=!1)),"XYZE"===this.axis&&(D.setFromEuler(U.set(0,Math.PI/2,0)),N.copy(this.rotationAxis),n.quaternion.setFromRotationMatrix(P.lookAt(R,N,V)),n.quaternion.multiply(D),n.visible=this.dragging),"E"===this.axis&&(n.visible=!1)):"START"===n.name?(n.position.copy(this.worldPositionStart),n.visible=this.dragging):"END"===n.name?(n.position.copy(this.worldPosition),n.visible=this.dragging):"DELTA"===n.name?(n.position.copy(this.worldPositionStart),n.quaternion.copy(this.worldQuaternionStart),O.set(1e-10,1e-10,1e-10).add(this.worldPositionStart).sub(this.worldPosition).multiplyScalar(-1),O.applyQuaternion(this.worldQuaternionStart.clone().inverse()),n.scale.copy(O),n.visible=this.dragging):(n.quaternion.copy(e),n.position.copy(this.dragging?this.worldPositionStart:this.worldPosition),this.axis&&(n.visible=-1!==this.axis.search(n.name)))}ti.prototype.updateMatrixWorld.call(this)}};Ig.prototype=Object.assign(Object.create(ti.prototype),{constructor:Ig,isTransformControlsGizmo:!0});var xg=function(){ji.call(this,new Fn(1e5,1e5,2,2),new yi({visible:!1,wireframe:!0,side:gA,transparent:!0,opacity:.1})),this.type="TransformControlsPlane";var e=new Ue(1,0,0),t=new Ue(0,1,0),i=new Ue(0,0,1),n=new Ue,o=new Ue,r=new Ue,a=new At,s=new Oe;this.updateMatrixWorld=function(){var A=this.space;switch(this.position.copy(this.worldPosition),"scale"===this.mode&&(A="local"),e.set(1,0,0).applyQuaternion("local"===A?this.worldQuaternion:s),t.set(0,1,0).applyQuaternion("local"===A?this.worldQuaternion:s),i.set(0,0,1).applyQuaternion("local"===A?this.worldQuaternion:s),r.copy(t),this.mode){case"translate":case"scale":switch(this.axis){case"X":r.copy(this.eye).cross(e),o.copy(e).cross(r);break;case"Y":r.copy(this.eye).cross(t),o.copy(t).cross(r);break;case"Z":r.copy(this.eye).cross(i),o.copy(i).cross(r);break;case"XY":o.copy(i);break;case"YZ":o.copy(e);break;case"XZ":r.copy(i),o.copy(t);break;case"XYZ":case"E":o.set(0,0,0)}break;case"rotate":default:o.set(0,0,0)}0===o.length()?this.quaternion.copy(this.cameraQuaternion):(a.lookAt(n.set(0,0,0),o,r),this.quaternion.setFromRotationMatrix(a)),ti.prototype.updateMatrixWorld.call(this)}};xg.prototype=Object.assign(Object.create(ji.prototype),{constructor:xg,isTransformControlsPlane:!0});var bg=function(A){xp.call(this,mh.FLY,A),this.lookSpeed=.001,this.constrainPitch=!0,this.pitchMin=Fe.degToRad(5)-.5*Math.PI,this.pitchMax=.5*Math.PI-this.pitchMin,this.pitchDeltaTotal=0,this.moveState=yh.NONE,this.rotateStart=new Le,this.rotateEnd=new Le,this.rotateDelta=new Le,this._panStart=new Le,this._panEnd=new Le,this._panDelta=new Le,this._pan=new Ue,this._worldDimension=new Le,this.lastMousePoint=new Le,this.isLockHeight=!1,this.lockedHeight=0,this.pickHelper=new Ip(A),this.intersectOfMouseDown=null};((bg.prototype=Object.create(xp.prototype)).constructor=bg).prototype.destroy=function(){this.cameraControl=null,this.scene=null},bg.prototype.processMouseDown=function(A){A.preventDefault(),A.stopPropagation(),this.lastMousePoint.set(A.clientX,A.clientY);var e=this.cameraControl;if(this.intersectOfMouseDown=null,A.button===this.mouseButtons.ORBIT){if(Ju.NoRotate)return;this.rotateStart.set(A.clientX,A.clientY),this.state=this.StateType.ROTATE,this.dispatchEvent({type:lh.ON_CONTROL_BEGIN,name:"look",control:this.name})}else if(A.button===this.mouseButtons.PAN||A.button===this.mouseButtons.PAN2){if(Ju.NoPan)return;this._panStart.set(A.clientX,A.clientY),this._worldDimension=e.getWorldDimension(A.clientX,A.clientY),this.intersectOfMouseDown=e.getLastIntersect(),this.state=this.StateType.PAN,this.isLockHeight&&(this.lockedHeight=A.clientY)}},bg.prototype.doPan=function(A,e){var t=this.cameraControl;this._panEnd.set(A,this.isLockHeight?this.lockedHeight:e),this._panDelta.subVectors(this._panEnd,this._panStart),0===this._panDelta.x&&0===this._panDelta.y||(t.panOnWorld(this._panStart,this._panEnd,this._pan,this._worldDimension),t.adjustCameraForPan(this._pan),this._panStart.copy(this._panEnd),t.update(!0))},bg.prototype.processMouseMove=function(A){var e=this.cameraControl;(A.preventDefault(),this.state===this.StateType.ROTATE)?(this.rotateEnd.set(A.clientX,A.clientY),this.rotateDelta.subVectors(this.rotateEnd,this.rotateStart),this.rotateStart.copy(this.rotateEnd),(0!==this.rotateDelta.x||0!==this.rotateDelta.y)&&e.rotateForFly(this.rotateDelta.x*this.lookSpeed,this.rotateDelta.y*this.lookSpeed,this.pitchMin,this.pitchMax)):this.state===this.StateType.PAN&&this.doPan(A.clientX,A.clientY)},bg.prototype.processMouseUp=function(A){if(A.preventDefault(),A.stopPropagation(),A.button!==pA.LEFT||this.lastMousePoint.x!==A.clientX||this.lastMousePoint.y!==A.clientY){this.intersectOfMouseDown=null;var e=this.cameraControl;switch(this.state){case this.StateType.ROTATE:this.rotateDelta.set(0,0);e.rotateForFly(0,0,this.pitchMin,this.pitchMax),this.dispatchEvent({type:lh.ON_CONTROL_END,name:"look",control:this.name});break;case this.StateType.PAN:this.doPan(A.clientX,A.clientY)}e.endOperation(),this.state=this.StateType.NONE}else this.pickHelper.click(A,this.intersectOfMouseDown)},bg.prototype.processHover=function(A){this.pickHelper.handleMouseHover(A)},bg.prototype.processMouseWheel=function(A){A.preventDefault(),A.stopPropagation();var e=this.cameraControl;if(!Ju.NoZoom){var t=A.wheelDelta||A.detail;t=10<Math.abs(t)?t:40*-t,t*=5e-4,Ju.ReverseWheelDirection&&(t*=-1),this.cameraControl.delayHandle();var i=e.getContainerDimensions();e.zoom(t,i.left+.5*i.width,i.top+.5*i.height)}},bg.prototype.processKeyDown=function(A){if(!Ju.NoKey&&!A.altKey){var e=yh,t=e.NONE;switch(A.keyCode){case Yu.ZERO:this.movementSpeed=this.defaultMovementSpeed;break;case Yu.PLUS:this.movementSpeed*=1.1;break;case Yu.SUB:this.movementSpeed*=.9,this.movementSpeed<this.minMovementSpeed&&(this.movementSpeed=this.minMovementSpeed);break;case Yu.UP:case Yu.W:t=e.FORWARD;break;case Yu.DOWN:case Yu.S:t=e.BACK;break;case Yu.LEFT:case Yu.A:t=e.LEFT;break;case Yu.RIGHT:case Yu.D:t=e.RIGHT;break;case Yu.Q:t=e.UP;break;case Yu.E:t=e.DOWN}t!==e.NONE&&(this.moveState|=t,this.dispatchEvent({type:lh.ON_CONTROL_KEYDOWN,event:A,state:t,direction:e,control:this.name}),this.cameraControl.delayHandle(),this.cameraControl.updateFlyMove(this.moveState,this.movementSpeed*Ju.MovementSpeedRate))}},bg.prototype.processKeyUp=function(A){if(!Ju.NoKey){var e=yh,t=e.NONE;switch(A.keyCode){case Yu.UP:case Yu.W:t=e.FORWARD;break;case Yu.DOWN:case Yu.S:t=e.BACK;break;case Yu.LEFT:case Yu.A:t=e.LEFT;break;case Yu.RIGHT:case Yu.D:t=e.RIGHT;break;case Yu.Q:t=e.UP;break;case Yu.E:t=e.DOWN}t!==e.NONE&&(this.dispatchEvent({type:lh.ON_CONTROL_KEYUP,event:A,state:t,direction:e,control:this.name}),this.moveState&=~t)}},bg.prototype.moveTo=function(A){this.cameraControl.updateFlyMove(A,this.movementSpeed*Ju.MovementSpeedRate)};var Eg=function(A){bp.call(this,mh.PAN,A),this.mouseButtons={ORBIT:pA.RIGHT,PAN2:pA.MIDDLE,PAN:pA.LEFT}};(Eg.prototype=Object.create(bp.prototype)).constructor=Eg;var wg=function(){this.control=null,this.controls={},this.tools=[],this.domElement=null,this.enabled=!0;var r=!(this.isUpdateRenderList=!0),a=this;function e(A){if(a.enabled){for(var e,t,i,n=a.tools,o=n.length-1;0<=o;o-=1)if(n[o].onEvent(A)){switch(A.type){case"mouseup":r=!1}return}switch(A.type){case"touchmove":a.control.processTouchmove(A);break;case"touchstart":a.control.processTouchstart(A);break;case"touchend":a.control.processTouchend(A);break;case"keydown":a.control.processKeyDown(A);break;case"keyup":a.control.processKeyUp(A);break;case"wheel":case"mousewheel":case"DOMMouseScroll":a.cameraChange=!0,a.control.processMouseWheel(A);break;case"mousedown":i=A,a.setFocuse(),a.isUpdateRenderList=!(r=!0),a.control?a.control.processMouseDown(i):Gh.warn("control is null");break;case"mousemove":t=A,r?(a.isUpdateRenderList=!1,a.cameraChange=!0,a.control.processMouseMove(t)):a.control.processHover(t);break;case"mouseup":e=A,a.isUpdateRenderList=!0,r&&(a.control.processMouseUp(e),r=!1);break;case"dblclick":a.control.processMouseDoubleClick(A)}}else a.cameraChange=!1}this.setFocuse=function(){if(a.domElement){var A=a.domElement.querySelector(".main-canvas");A&&A.focus&&A.focus()}},this.getCameraControl=function(){return this.cameraControl},this.registerDomEventListeners=function(A){(this.domElement=A).addEventListener("contextmenu",function(A){A.preventDefault()},!1),A.addEventListener("mousedown",e,!1),A.addEventListener("mousewheel",e,!1),A.addEventListener("DOMMouseScroll",e,!1),A.addEventListener("wheel",e,!1),A.addEventListener("dblclick",e,!1),window.addEventListener("mousemove",e,!1),window.addEventListener("mouseup",e,!1),A.addEventListener("touchstart",e,!1),A.addEventListener("touchend",e,!1),A.addEventListener("touchmove",e,!1),window.addEventListener("touchmove",function(A){},!1),A.addEventListener("keydown",e,!1),A.addEventListener("keyup",e,!1),this.setFocuse()},this.unregisterDomEventListeners=function(A){A.removeEventListener("contextmenu",function(A){A.preventDefault()},!1),A.removeEventListener("mousedown",e,!1),A.removeEventListener("mousewheel",e,!1),A.removeEventListener("DOMMouseScroll",e,!1),A.removeEventListener("dblclick",e,!1),window.removeEventListener("mousemove",e,!1),window.removeEventListener("mouseup",e,!1),A.removeEventListener("touchstart",e,!1),A.removeEventListener("touchend",e,!1),A.removeEventListener("touchmove",e,!1),A.removeEventListener("keydown",e,!1),A.removeEventListener("keyup",e,!1)}};wg.prototype={constructor:wg,destroy:function(){for(var A in this.control=null,this.controls){this.controls[A].destroy()}this.controls={}},getCurrentControlName:function(){return this.control?this.control.name:""},_getControlByName:function(A,e){var t=this.controls[e];if(t)return t;var i=mh;this.viewer=A,this.cameraControl=A.cameraControl;var n=A.cameraControl;switch(e){case i.ORBIT:t=new Ep(n);break;case i.PICK:t=new wp(n);break;case i.PAN:t=new Eg(n);break;case i.FLY:t=new bg(n);break;case i.WALK:t=new Mp(n);break;default:t=null,Gh.error("invalid control name")}return t&&(this.controls[t.name=e]=t),t},getCurrentControlMode:function(){return this.control},setControlMode:function(A,e){var t=this._getControlByName(A,e);t&&this.control!==t&&(null!==this.control&&(this.control.dispatchEvent({type:lh.ON_CONTROL_EXIST,name:this.control.getName()}),this.dispatchEvent({type:lh.ON_CONTROL_EXIST,name:this.control.getName()}),this.control.onExit()),this.control=t,this.control.onEnter(),this.control.dispatchEvent({type:lh.ON_CONTROL_ENTER,name:this.control.getName()}),this.dispatchEvent({type:lh.ON_CONTROL_ENTER,name:this.control.getName()}))},getToolByName:function(A){for(var e=this.tools.length,t=0;t<e;t+=1)if(this.tools[t].name===A)return this.tools[t]},enableTool:function(A,e){for(var t=vh,i=this.tools,n=0,o=i.length;n<o;n+=1)if(i[n].name===e)return;var r=null;switch(e){case t.PICK_BY_RECT:r=new Kp(A);break;case t.ZOOM_BY_RECT:r=new Fp(A);break;case t.CLIP_BY_BOX:r=new _p(A);break;case t.CLIP_FILL:r=new Sp(A);break;case t.PICK_BY_MEASURE:r=new mg(A);break;case t.COMPONENT_TRANSFORM:r=new yg(A.getScene(),A.camera,A.domElement)}r&&i.push(r)},disableTool:function(A){for(var e=this.tools,t=0,i=e.length;t<i;t+=1)if(e[t].name===A){e[t].onExit(),e.splice(t,1);break}},setInteractiveState:function(A){this.enabled=A}},Object.assign(wg.prototype,ou.prototype);var Mg=function(A,e){this.coordinateSystem=A,this.viewer=A.viewer,this.drawingImpl=e,this.viewportOffset=this.viewer.domElement.getBoundingClientRect(),this.cameraControl=this.viewer.cameraControl,this.fillClipPlane=this.viewer.getScene().getFillClipPlane(),this.initialize()};Mg.prototype.initialize=function(){this.arrowMouseDown=!1,this.circleXMouseDown=!1,this.circleYMouseDown=!1,this.firstClickDown=!0,this.firstRotate=!0,this.lineOut=!0,this.arrowOut=!0,this.translateStartPt=new Le,this.translateEndPt=new Le,this.rotateAngleA=0,this.rotateAngleB=0,this.config=this.coordinateSystem.config},Mg.prototype.registerArrowEvents=function(){var A=this.drawingImpl.getDrawable("axisZ"),o=this,e=this.config.colors;A.onmouseover=function(){!0!==o.circleXMouseDown&&!0!==o.circleYMouseDown&&(o.drawingImpl.setColor("axisZ",e.highLight),o.drawingImpl.fill("arrow",e.highLight),o.drawingImpl.setColor("tipArcX",e.default),o.drawingImpl.fill("cubeX",e.default),o.drawingImpl.setColor("tipArcY",e.default),o.drawingImpl.fill("cubeY",e.default),o.lineOut=!1)},A.onmouseout=function(){!0!==o.circleXMouseDown&&!0!==o.circleYMouseDown&&!1===o.arrowMouseDown&&!0===o.arrowOut&&(o.drawingImpl.setColor("axisZ",e.arrow),o.drawingImpl.fill("arrow",e.arrow),o.drawingImpl.setColor("tipArcX",e.tipArcX),o.drawingImpl.fill("cubeX",e.cubeX),o.drawingImpl.setColor("tipArcY",e.tipArcY),o.drawingImpl.fill("cubeY",e.cubeY),o.lineOut=!0)},A.onmousedown=function(A){o.arrowMouseDown=!0,o.lineOut=!1;var e=o.config.colors;o.drawingImpl.setColor("axisZ",e.highLight),o.drawingImpl.fill("arrow",e.highLight),o.coordinateSystem.colorUpdate=!1,o.translateStartPt.set(A.clientX,A.clientY)};var t=this.drawingImpl.getDrawable("arrow");t.onmouseover=function(){if(!0!==o.circleXMouseDown&&!0!==o.circleYMouseDown){o.arrowOut=!1;var A=o.config.colors;o.drawingImpl.fill("arrow",A.highLight),o.drawingImpl.setColor("axisZ",A.highLight),o.drawingImpl.setColor("tipArcX",A.default),o.drawingImpl.fill("cubeX",A.default),o.drawingImpl.setColor("tipArcY",A.default),o.drawingImpl.fill("cubeY",A.default)}},t.onmouseout=function(){if(!0!==o.circleXMouseDown&&!0!==o.circleYMouseDown&&!1===o.arrowMouseDown&&!0===o.lineOut){o.arrowOut=!0;var A=o.config.colors;o.drawingImpl.setColor("axisZ",A.arrow),o.drawingImpl.fill("arrow",A.arrow),o.drawingImpl.setColor("tipArcX",A.tipArcX),o.drawingImpl.fill("cubeX",A.cubeX),o.drawingImpl.setColor("tipArcY",A.tipArcY),o.drawingImpl.fill("cubeY",A.cubeY)}},t.onmousedown=function(A){o.arrowMouseDown=!0,o.arrowOut=!1;var e=o.config.colors;o.drawingImpl.setColor("axisZ",e.highLight),o.drawingImpl.fill("arrow",e.highLight),o.translateStartPt.set(A.clientX,A.clientY)},document.onmousemove=function(A){if(!0===o.arrowMouseDown){if(!(A.clientX===o.translateStartPt.x&&A.clientY===o.translateStartPt.y)){var e=o.fillClipPlane.renderClipPlane,t=e.normal.clone();t.w=e.constant;var i=o.cameraControl.movePlane(t,A,o.translateStartPt,!1,o.fillClipPlane.position.clone());null!==i&&o.fillClipPlane.offset(i),o.translateStartPt.set(A.clientX,A.clientY),o.cameraControl.update(!0)}o.coordinateSystem.update();var n=o.config.colors;o.drawingImpl.setColor("axisZ",n.highLight),o.drawingImpl.fill("arrow",n.highLight),o.drawingImpl.setColor("tipArcX",n.default),o.drawingImpl.fill("cubeX",n.default),o.drawingImpl.setColor("tipArcY",n.default),o.drawingImpl.fill("cubeY",n.default),A.preventDefault(),A.stopPropagation()}},document.onmouseup=function(){if(!1!==o.arrowMouseDown){o.arrowMouseDown=!1,o.coordinateSystem.colorUpdate=!0;var A=o.config.colors;o.drawingImpl.setColor("axisZ",A.arrow),o.drawingImpl.fill("arrow",A.arrow),o.drawingImpl.setColor("tipArcX",A.tipArcX),o.drawingImpl.fill("cubeX",A.cubeX),o.drawingImpl.setColor("tipArcY",A.tipArcY),o.drawingImpl.fill("cubeY",A.cubeY),Ah.ClippingCaps=!0,o.viewer.render()}}},Mg.prototype.registerCircleXEvents=function(){var A=this,e=this.config.colors,t=this.drawingImpl.getDrawable("tipArcX");t.onmousedown=function(){A.circleXMouseDown=!0,A.drawingImpl.setColor("axisZ",e.default),A.drawingImpl.fill("arrow",e.default),A.enableCircleXMovement()},t.onmouseout=function(){!1===A.circleXMouseDown&&(A.drawingImpl.setColor("axisZ",e.arrow),A.drawingImpl.fill("arrow",e.arrow),A.drawingImpl.setColor("tipArcY",e.tipArcY),A.drawingImpl.fill("cubeY",e.cubeY),A.coordinateSystem.circleToArc("tipArcX"))},document.addEventListener("mouseup",function(){!0===A.circleXMouseDown&&(Ah.ClippingCaps=!0,A.viewer.render()),A.circleXMouseDown=!1,A.firstClickDown=!0,A.firstRotate=!1,A.lastRotateX=0,A.lastRotateY=0,A.drawingImpl.show("tipArcY",!0),A.drawingImpl.show("axisY",!0),A.drawingImpl.show("axisZ",!0),A.drawingImpl.show("cubeY",!0),A.coordinateSystem.update(),A.drawingImpl.show("dashLineX",!1),A.drawingImpl.setColor("axisZ",e.arrow),A.drawingImpl.fill("arrow",e.arrow)})},Mg.prototype.registerCircleYEvents=function(){var A=this,e=this.config.colors,t=this.drawingImpl.getDrawable("tipArcY");t.onmousedown=function(){A.circleYMouseDown=!0,A.drawingImpl.setColor("axisZ",e.default),A.drawingImpl.fill("arrow",e.default),A.enableCircleYMovement()},t.onmouseout=function(){!1===A.circleYMouseDown&&(A.drawingImpl.setColor("axisZ",e.arrow),A.drawingImpl.fill("arrow",e.arrow),A.coordinateSystem.circleToArc("tipArcY"),A.drawingImpl.setColor("tipArcX",e.tipArcX),A.drawingImpl.fill("cubeX",e.cubeX))},document.addEventListener("mouseup",function(){!0===A.circleYMouseDown&&(Ah.ClippingCaps=!0,A.viewer.render()),A.circleYMouseDown=!1,A.drawingImpl.show("tipArcX",!0),A.drawingImpl.show("cubeX",!0),A.coordinateSystem.update(),A.drawingImpl.show("dashLineY",!1),A.drawingImpl.setColor("axisZ",e.arrow),A.drawingImpl.fill("arrow",e.arrow)})},Mg.prototype.enableCircleXMovement=function(){var h=this,u=this.config.colors;document.addEventListener("mousemove",function(A){if(!0===h.circleXMouseDown){h.drawingImpl.show("dashLineX",!0),h.drawingImpl.setColor("axisZ",u.default),h.drawingImpl.fill("arrow",u.default),Ah.ClippingCaps=!1;var e=h.fillClipPlane.normalIndex,t=h.viewportOffset,i=new Le(A.clientX-t.left,A.clientY-t.top),n=h.calcRotateAngleIndex(i,h.coordinateSystem.discretePointsX);!0===h.firstClickDown&&(h.lastIndex=n);var o=2*(n-h.lastIndex);3<e&&(o=-o),h.drawingImpl.show("tipArcY",!1),h.coordinateSystem.updateAxisZ();var r=h.fillClipPlane.renderClipPlane.normal.clone(),a=h.coordinateSystem.getCoordinateAxis(),s=h.config.styles;h.coordinateSystem.drawClipPlaneCircle("tipArcZ",a.start.clone(),s.auxCircleRadius,h.coordinateSystem.dirX,r);var l=h.coordinateSystem.drawingToCanvas(a.start.clone()),c=h.coordinateSystem.drawingToCanvas(a.endY.clone());h.coordinateSystem.drawAxisY(l,c,u.highLight),h.coordinateSystem.drawCubeX("cubeX",c,s.cubeRadius),h.drawingImpl.show("cubeY",!1);var d="x";e<2&&(d="y"),h.fillClipPlane.rotateAngleOffset(o,d),h.coordinateSystem.backwardCoordinate(),!0===h.firstClickDown?h.firstClickDown=!1:h.lastIndex=n,h.translateStartPt.set(A.clientX,A.clientY),h.viewer.render(),A.preventDefault(),A.stopPropagation()}})},Mg.prototype.enableCircleYMovement=function(){var h=this,u=this.config.colors;document.addEventListener("mousemove",function(A){if(!0===h.circleYMouseDown){h.drawingImpl.show("dashLineY",!0),h.drawingImpl.setColor("axisZ",u.default),h.drawingImpl.fill("arrow",u.default),Ah.ClippingCaps=!1;var e=h.fillClipPlane.normalIndex,t=h.viewportOffset,i=new Le(A.clientX-t.left,A.clientY-t.top),n=h.calcRotateAngleIndex(i,h.coordinateSystem.discretePointsY);!0===h.firstClickDown&&(h.lastIndex=n);var o=2*(n-h.lastIndex);3<e&&(o=-o),h.drawingImpl.show("tipArcX",!1),h.coordinateSystem.updateAxisZ();var r=h.fillClipPlane.renderClipPlane.normal.clone(),a=h.coordinateSystem.getCoordinateAxis(),s=h.config.styles;h.coordinateSystem.drawClipPlaneCircle("tipArcZ",a.start.clone(),s.auxCircleRadius,h.coordinateSystem.dirX.clone(),r.clone());var l=h.coordinateSystem.drawingToCanvas(a.start.clone()),c=h.coordinateSystem.drawingToCanvas(a.endX.clone());h.coordinateSystem.drawAxisX(l,c,u.highLight),h.coordinateSystem.drawCubeY("cubeY",c,s.cubeRadius),h.drawingImpl.show("cubeX",!1);var d="z";3<e&&(d="y"),h.fillClipPlane.rotateAngleOffset(o,d),h.coordinateSystem.backwardCoordinate(),!0===h.firstClickDown?h.firstClickDown=!1:h.lastIndex=n,h.translateStartPt.set(A.clientX,A.clientY),h.viewer.render(),A.preventDefault(),A.stopPropagation()}})},Mg.prototype.registerTipArcXEvents=function(){var A=this,e=this.config.colors,t=this.drawingImpl.getDrawable("tipArcX");t.onmouseover=function(){!1===A.circleYMouseDown&&(A.coordinateSystem.arcToCircle("tipArcX"),A.drawingImpl.setColor("tipArcY",e.default),A.drawingImpl.fill("cubeY",e.default),A.drawingImpl.setColor("axisZ",e.default),A.drawingImpl.fill("arrow",e.default),A.registerCircleXEvents())},t.onmouseout=function(){!1===A.circleXMouseDown&&A.coordinateSystem.circleToArc("tipArcX")}},Mg.prototype.registerTipArcYEvents=function(){var A=this,e=this.config.colors,t=this.drawingImpl.getDrawable("tipArcY");t.onmouseover=function(){!1===A.circleXMouseDown&&(A.coordinateSystem.arcToCircle("tipArcY"),A.drawingImpl.setColor("tipArcX",e.default),A.drawingImpl.fill("cubeX",e.default),A.drawingImpl.setColor("axisZ",e.default),A.drawingImpl.fill("arrow",e.default),A.registerCircleYEvents())},t.onmouseout=function(){!1===A.circleYMouseDown&&A.coordinateSystem.circleToArc("tipArcY")}},Mg.prototype.calcRotateAngleIndex=function(A,e){for(var t=this.createLine(A,this.coordinateSystem.cOrigin),i=-1,n=Number.POSITIVE_INFINITY,o=0;o<90;o+=1){var r=e[o].clone(),a=this.disPointToLine(r,t);a<n&&(n=a,i=o)}var s=90+i;return e[i].clone().distanceTo(A)<e[s].clone().distanceTo(A)?i:s},Mg.prototype.createLine=function(A,e){var t={};if(A.x===e.x)t.A=1,t.B=0,t.C=-A.x;else{var i=(e.y-A.y)/(e.x-A.x),n=e.y-i*e.x;t.A=i,t.B=-1,t.C=n}return t},Mg.prototype.disPointToLine=function(A,e){return Math.abs(e.A*A.x+e.B*A.y+e.C)/Math.sqrt(e.A*e.A+e.B*e.B)};var Bg=function(){return{colors:{tipArcX:"#0000FF",cubeX:"#0000FF",tipArcY:"#FF0000",cubeY:"#FF0000",highLight:"#FFFF00",tipLine:"#4dc0ff",arrow:"#4dc0ff",default:"#A9A9A9"},styles:{dashArray:"10 8",originRadius:5,auxCircleRadius:.1,tipLineLength:.1,cubeRadius:5,axisXWidth:2,axisYWidth:2,axisZWidth:3,axisXLength:.1,axisYLength:.1,axisZLength:.14,segments:180,tipArcLeftCounts:45,tipArcRightCounts:45}}},_g=function(A,e){this.coordinateSystem=A,this.viewer=e,this.container=this.viewer.domElement.querySelector("div:first-child"),this.mapDrawables={},this.initialize()};_g.prototype.initialize=function(){this.xmlns="http://www.w3.org/2000/svg";var A=document.createElement("div");A.style.left="0px",A.style.top="0px",A.style.width=this.container.offsetWidth+"px",A.style.height=this.container.offsetHeight+"px",A.style.position="absolute",this.group=document.createElementNS(this.xmlns,"svg"),this.group.setAttribute("width",String(this.container.offsetWidth)),this.group.setAttribute("height",String(this.container.offsetHeight)),A.appendChild(this.group),this.container.appendChild(A)},_g.prototype.makeCircle=function(A,e){var t=this.mapDrawables;void 0===t[A]&&(t[A]=document.createElementNS(this.xmlns,"circle"),this.group.appendChild(t[A]));var i=t[A];i.style.fill=e.color||"#FF0000",i.setAttribute("r",String(e.radius)),i.setAttribute("transform","translate("+e.center.x+","+e.center.y+")")},_g.prototype.show=function(A,e){var t=this.getDrawable(A);t&&(t.style.display=e?"block":"none")},_g.prototype.fill=function(A,e){this.getDrawable(A).style.fill=e?"block":"none"},_g.prototype.makeLine=function(A,e){var t=this.mapDrawables;void 0===t[A]&&(t[A]=document.createElementNS(this.xmlns,"line"),this.group.appendChild(t[A]));var i=t[A];i.setAttribute("stroke",e.color||"#000000"),i.setAttribute("stroke-width",e.width||3),i.setAttribute("x1",String(e.start.x)),i.setAttribute("y1",String(e.start.y)),i.setAttribute("x2",String(e.end.x)),i.setAttribute("y2",String(e.end.y))},_g.prototype.makeDashLine=function(A,e){this.makeLine(A,e),this.mapDrawables[A].setAttribute("stroke-dasharray",e.dashArray)},_g.prototype.makePolyline=function(A,e){var t=null,i=this.mapDrawables;void 0===i[A]&&(i[A]=document.createElementNS(this.xmlns,"polyline"),this.group.appendChild(i[A])),(t=i[A]).setAttribute("stroke",e.color||"#A9A9A9"),t.setAttribute("stroke-width",e.width||3),t.style.fill="none",t.setAttribute("points",e.points)},_g.prototype.makeDefs=function(A){var e=this.mapDrawables;void 0===e[A]&&(e[A]=document.createElementNS(this.xmlns,"defs"),void 0===e.marker&&(e.marker=this.makeMarker(),e[A].appendChild(e.marker)),this.group.appendChild(e[A]))},_g.prototype.makeMarker=function(){var A=document.createElementNS(this.xmlns,"marker");A.setAttribute("id","arrow"),A.setAttribute("viewBox","0 0 10 10"),A.setAttribute("refX","5"),A.setAttribute("refY","5"),A.setAttribute("markerWidth","6"),A.setAttribute("markerHeight","6"),A.setAttribute("orient","auto-start-reverse");var e=document.createElementNS(this.xmlns,"path");return e.setAttribute("d","M 0 0 L 10 5 L 0 10 z"),e.style.fill="#11DAB7",A.appendChild(this.mapDrawables.arrow=e),A},_g.prototype.getDrawable=function(A){return this.mapDrawables[A]},_g.prototype.attach=function(){this.getDrawable("axisZ").setAttribute("marker-end","url(#arrow)")},_g.prototype.setColor=function(A,e){this.getDrawable(A).setAttribute("stroke",e)},_g.prototype.fill=function(A,e){this.getDrawable(A).style.fill=e},_g.prototype.hideAll=function(A){this.group.style.display=!0===A?"none":"block"},_g.prototype.destroy=function(){for(var A=this.group.children,e=0;e<A.length;e+=1)this.group.removeChild(A[e]);this.group.parentNode.removeChild(this.group)};var Sg=function(A){this.viewer=A,this.enable=!0,this.cameraControl=A.cameraControl,this.fillClipPlane=A.getScene().getFillClipPlane(),this.container=A.domElement.querySelector("div:first-child"),this.config=new Bg,this.drawingImpl=new _g(this,A),this.coordinateAction=new Mg(this,this.drawingImpl),this.initialize()};Sg.prototype.initialize=function(){this.enable=!0,this.boundingBox=new Bd,this.bRegisterArrowEvent=!1,this.bRegisterAuxCircleEvent=!1,this.mapDrawableName={ORIGIN:"origin",AXISX:"axisX",AXISY:"axisY",CUBEX:"cubeX",CUBEY:"cubeY",AXISZ:"axisZ",ARROW:"arrow",DASHLINE:"dashLine",TIPARC_X:"tipArcX",TIPARC_Y:"tipArcY",TIPARC_Z:"tipArcZ",DASHLINE_X:"dashLineX",DASHLINE_Y:"dashLineY"}},Sg.prototype.saveTransform=function(A){this.savedCamera=A.clone()},Sg.prototype.drawingToCanvas=function(A){var e=Zu.drawingToCanvas(this.cameraControl.camera,A,this.container.offsetWidth,this.container.offsetHeight);return new Le(e.x,e.y)},Sg.prototype.getCoordinateAxis=function(){var A=this.fillClipPlane.renderClipPlane.normal.clone(),e=this.fillClipPlane.getCoordinate(),t=e.axisY.clone(),i=A.clone().cross(t.clone());3<this.fillClipPlane.normalIndex&&(t=(i=e.axisX.clone()).clone().cross(A.clone()));var n=this.config.styles,o=this.fillClipPlane.position.clone(),r=this.cameraControl.getCamera().position.clone().sub(o).length(),a=o.clone().add(i.clone().multiplyScalar(n.axisXLength*r)),s=o.clone().add(t.clone().multiplyScalar(n.axisYLength*r)),l=o.clone().add(A.clone().multiplyScalar(n.axisZLength*r));return this.dirX=i,this.dirY=t,{start:o,endX:a,endY:s,endZ:l}},Sg.prototype.drawOrigin=function(A,e){this.drawingImpl.makeCircle(this.mapDrawableName.ORIGIN,{center:A,radius:e,color:this.config.colors.default})},Sg.prototype.drawAxisX=function(A,e,t){this.drawingImpl.makeLine(this.mapDrawableName.AXISX,{start:A,end:e,width:this.config.styles.axisXWidth,color:t||this.config.colors.default})},Sg.prototype.drawAxisY=function(A,e,t){var i=this.config;this.drawingImpl.makeLine(this.mapDrawableName.AXISY,{start:A,end:e,width:i.styles.axisYWidth,color:t||i.colors.default})},Sg.prototype.drawAxisZ=function(A,e){var t=this.config;this.drawingImpl.makeLine(this.mapDrawableName.AXISZ,{start:A,end:e,width:t.styles.axisZWidth,color:t.colors.arrow}),this.drawingImpl.attach(),!1===this.bRegisterArrowEvent&&(this.coordinateAction.registerArrowEvents(),this.bRegisterArrowEvent=!0)},Sg.prototype.updateAxisZ=function(){var A=this.getCoordinateAxis(),e=this.drawingToCanvas(A.start.clone()),t=this.drawingToCanvas(A.endZ.clone());this.drawingImpl.makeLine(this.mapDrawableName.AXISZ,{start:e,end:t,color:this.config.colors.default})},Sg.prototype.drawArrow=function(A,e){var t=this.mapDrawableName;this.drawingImpl.makeLine(t.AXISZ,{start:A,end:e}),this.drawingImpl.attach(),this.drawingImpl.setColor(t.AXISZ,this.config.colors.default),!1===this.bRegisterArrowEvent&&(this.coordinateAction.registerArrowEvents(),this.bRegisterArrowEvent=!0)},Sg.prototype.drawClipPlaneCircle=function(A,e,t,i,n){for(var o={center:e.clone(),radius:t,normal:i.clone(),rotateAxis:n.clone()},r=this.config.styles.segments,a=this.discreteCircle(o,r),s="",l=0;l<r;l+=1)s+=a[l].x+","+a[l].y,s+=" ";s+=a[0].x+","+a[0].y,this.drawingImpl.makePolyline(A,{points:s+=" ",color:this.config.colors.default,width:2})},Sg.prototype.drawTipArc=function(A,e,t,i,n){var o={center:e.clone(),radius:t,normal:i.clone(),rotateAxis:n.clone()},r=this.config.styles,a=r.tipArcRightCounts,s=r.tipArcLeftCounts,l=r.segments,c=this.discreteCircle(o,l);A===this.mapDrawableName.TIPARC_X?(this.discretePointsX=c,a=r.tipArcLeftCounts,s=r.tipArcRightCounts):this.discretePointsY=c;for(var d="",h=l-a-1;h<l;h+=1)d+=c[h].x+","+c[h].y,d+=" ";for(var u=0;u<=s;u+=1)d+=c[u].x+","+c[u].y,d+=" ";var p={points:d,color:this.config.colors.tipArcX};A===this.mapDrawableName.TIPARC_X?(this.drawingImpl.makePolyline(A,p),this.coordinateAction.registerTipArcXEvents()):A===this.mapDrawableName.TIPARC_Y&&(p.color=this.config.colors.tipArcY,this.drawingImpl.makePolyline(A,p),this.coordinateAction.registerTipArcYEvents())},Sg.prototype.drawTipLine=function(A,e,t){var i=this.drawingToCanvas(e.clone()),n=this.drawingToCanvas(t.clone()),o=this.config;this.drawingImpl.makeDashLine(A,{start:i,end:n,color:o.colors.tipLine,dashArray:o.styles.dashArray}),this.drawingImpl.show(A,!1)},Sg.prototype.drawCubeX=function(A,e,t){this.drawingImpl.makeCircle(A,{center:e,radius:t,color:this.config.colors.cubeX})},Sg.prototype.drawCubeY=function(A,e,t,i){this.drawingImpl.makeCircle(A,{center:e,radius:t,color:i||this.config.colors.cubeY})},Sg.prototype.discreteCircle=function(A,e){for(var t=A.center.clone(),i=A.radius,n=A.rotateAxis.clone(),o=A.normal.clone(),r=[],a=0;a<e;a+=1){o.applyAxisAngle(n,2*Math.PI/e);var s=t.clone().add(o.clone().multiplyScalar(i)),l=this.drawingToCanvas(s.clone());r.push(l)}return r},Sg.prototype.arcToCircle=function(A){var e="",t=this.discretePointsX;A===this.mapDrawableName.TIPARC_Y&&(t=this.discretePointsY);for(var i=0,n=t.length;i<n;i+=1)e+=t[i].x+","+t[i].y,e+=" ";e+=t[0].x+","+t[0].y,this.drawingImpl.makePolyline(A,{points:e+=" ",color:this.config.colors.highLight})},Sg.prototype.circleToArc=function(A){var e=this.config.styles,t=e.tipArcLeftCounts,i=e.tipArcRightCounts,n=e.segments,o=this.discretePointsX,r={color:this.config.colors.tipArcX};A===this.mapDrawableName.TIPARC_Y&&(o=this.discretePointsY,r.color=this.config.colors.tipArcY,t=e.tipArcRightCounts,i=e.tipArcLeftCounts);for(var a="",s=n-t-1;s<n;s+=1)a+=o[s].x+","+o[s].y,a+=" ";for(var l=0;l<=i;l+=1)a+=o[l].x+","+o[l].y,a+=" ";r.points=a,this.drawingImpl.makePolyline(A,r)},Sg.prototype.update=function(){if(this.enable){var A=this.fillClipPlane.position.clone(),e=this.cameraControl.getCamera().position.clone().sub(A).length(),t=this.getCoordinateAxis(),i=this.drawingToCanvas(t.start.clone()),n=this.drawingToCanvas(t.endX.clone()),o=this.drawingToCanvas(t.endY.clone()),r=this.drawingToCanvas(t.endZ.clone());void 0===this.createRefs&&(this.drawingImpl.makeDefs("refs"),this.createRefs=!0),this.cOrigin=i.clone(),this.drawAxisZ(i,r),this.drawAxisX(i,n),this.drawAxisY(i,o);var a=this.config.styles,s=this.mapDrawableName,l=this.fillClipPlane.renderClipPlane.normal.clone();this.drawClipPlaneCircle(s.TIPARC_Z,t.start.clone(),a.auxCircleRadius*e,this.dirX,l),this.drawTipArc(s.TIPARC_X,t.start.clone(),a.auxCircleRadius*e,l,this.dirX),this.drawTipArc(s.TIPARC_Y,t.start.clone(),a.auxCircleRadius*e,l,this.dirY);var c=t.start.clone().add(this.dirX.clone().multiplyScalar(a.tipLineLength*e)),d=t.start.clone().sub(this.dirX.clone().multiplyScalar(a.tipLineLength*e));this.drawTipLine(s.DASHLINE_X,c,d);var h=t.start.clone().add(this.dirY.clone().multiplyScalar(a.tipLineLength*e)),u=t.start.clone().sub(this.dirY.clone().multiplyScalar(a.tipLineLength*e));this.drawTipLine(s.DASHLINE_Y,h,u),this.drawOrigin(i,a.originRadius);var p=this.discretePointsX[44].clone();this.drawCubeX(s.CUBEX,p,a.cubeRadius);var g=this.discretePointsY[134].clone();this.drawCubeY(s.CUBEY,g,a.cubeRadius),this.updateBbox()}else this.hide(!0)},Sg.prototype.hide=function(A){this.drawingImpl.hideAll(A)},Sg.prototype.enabled=function(A){this.enable=A},Sg.prototype.destroy=function(){this.drawingImpl.destroy()},Sg.prototype.updateBbox=function(){this.boundingBox.makeEmpty();for(var A=0;A<this.discretePointsX.length;A+=1){var e=this.discretePointsX[A].clone();this.boundingBox.expandByPoint(e)}for(A=0;A<this.discretePointsY.length;A+=1){e=this.discretePointsY[A].clone();this.boundingBox.expandByPoint(e)}var t=this.getCoordinateAxis(),i=this.drawingToCanvas(t.start.clone()),n=this.drawingToCanvas(t.endZ.clone());this.boundingBox.expandByPoint(i),this.boundingBox.expandByPoint(n),this.boundingBox.expandByScalar(5)},Sg.prototype.insideBoundingBox=function(A){return this.boundingBox.containsPoint(A.clone())},Sg.prototype.backwardCoordinate=function(){var A=this.cameraControl.camera.position,e=this.cameraControl.camera.target.clone().sub(A.clone()).normalize(),t=this.fillClipPlane.renderClipPlane.normal.clone();e.angleTo(t);Math};var Tg={Forward:0,Reverse:1},Kg={X:0,Y:4,Z:2},Fg=function(A){var e=A.viewer;if(e){if(e._sectionBox&&e._sectionBox.exit(),e._sectionPlane)return e._sectionPlane;(e._sectionPlane=this).id=A.id,this._opt=A,this.mode=A.mode,this._plane=A.plane,this._direction=A.direction,this._progress=A.progress,this.init(),this.setPlane(A.plane)}else console.log("domElement must not be empty.")};Fg.prototype={init:function(){this.enableCoordinate=!0;var A=this._opt.viewer.getViewerImpl();this.coordinateSystem=new Sg(A),A.controlManager.enableTool(A,vh.CLIP_FILL),this._sectionTool=A.getScene().getFillClipPlane(),this._sectionTool.enable(!0,!0),this.hookEvens()},hookEvens:function(){var t=this,i=this.coordinateSystem,A=this._opt.viewer.getViewerImpl();A.getDomElement();A.registerEventListener(lh.ON_CLIP_HOVER,function(A){if(!1!==t.enableCoordinate)if(A.onClipPlane)i.enable&&(i.update(),i.hide(!1));else{var e=new Le(A.event.clientX,A.event.clientY);i.insideBoundingBox(e)?i.hide(!1):i.hide(!0)}}),A.registerEventListener(lh.ON_CLIP_MOUSE_DOWN,function(A){}),A.registerEventListener(lh.ON_CLIP_MOUSE_MOVE,function(A){i.update()}),A.registerEventListener(lh.ON_CONTROL_ZOOM,function(A){i.update()})},exit:function(){var A=this._opt.viewer.getViewerImpl(),e=A.getScene().getFillClipPlane();A.controlManager.disableTool(vh.CLIP_FILL),e.enable(!1,!1),this.coordinateSystem.destroy(),this._sectionTool=null,this._opt.viewer._sectionPlane=null},setProgress:function(A){var e=1-A/50;this._progress=A,this._sectionTool.setProcess(e)},getProgress:function(){return 50*(1-this._sectionTool.getProcess())},setPlane:function(A){var e=Tg[this._direction]+Kg[A];this._plane=A,this._sectionTool.changeNormal(e),this.setProgress(this._opt.progress)},getPlane:function(){return this._plane},setDirection:function(A){var e=Tg[A]+Kg[this._plane];this._direction=A,this._sectionTool.changeNormal(e),this.setProgress(this._opt.progress)},getDirection:function(){return this._direction},setRotateAngle:function(A,e){this._sectionTool.setRotateAngle(A,e)},getRotateAngle:function(){return this._sectionTool.getRotateAngle()},hidePlane:function(){this._sectionTool.visible=!1,this.enableCoordinate=!1,this.coordinateSystem.hide(!0)},showPlane:function(){this._sectionTool.visible=!0,this.enableCoordinate=!0},reset:function(){this.setPlane(this._opt.plane),this.setDirection(this._opt.direction),this.setProgress(this._opt.progress)},getState:function(){return this._sectionTool.store()},setState:function(A){this._sectionTool.restore(A)}};var Lg=function(){this.leftChild=null,this.rightChild=null,this.boundingBox=null,this.level=-1,this.components=[]};Lg.prototype.init=function(A){if(A&&(void 0!==A.axis&&(this.level=A.axis),A.left&&(this.leftChild=new Lg,this.leftChild.init(A.left[0]?A.left[0]:A.left)),A.right&&(this.rightChild=new Lg,this.rightChild.init(A.right[0]?A.right[0]:A.right)),A.box&&!A.items&&(this.boundingBox=new ni((new Ue).fromArray(A.box.min),(new Ue).fromArray(A.box.max))),A.items))for(var e=0;e<A.items.length;e+=1)this.components.push(A.items[e].key)},Lg.prototype.intersect=function(A,e){if(this.boundingBox){if(!1===A.intersectsBox(this.boundingBox))return;this.leftChild&&this.leftChild.intersect(A,e),this.rightChild&&this.rightChild.intersect(A,e)}else for(var t=0;t<this.components.length;t+=1)e.push(this.components[t])},Lg.prototype.frustumIntersect=function(A,e,t){if(this.boundingBox){var i=this.boundingBox;if(t&&!t.equals(ih)&&(i=this.boundingBox.clone()).applyMatrix4(),!1===A.intersectsBox(i))return;this.leftChild&&this.leftChild.frustumIntersect(A,e),this.rightChild&&this.rightChild.frustumIntersect(A,e)}else for(var n=0;n<this.components.length;n+=1)e.push(this.components[n])},Lg.prototype.destroy=function(){this.leftChild&&this.leftChild.destroy(),this.rightChild&&this.rightChild.destroy(),this.leftChild=null,this.rightChild=null,this.boundingBox=null,this.level=-1,this.components=[]};var Og=function(){};Og.prototype=kh.extend(!0,{},ou.prototype,{init:function(A){this.marks={},this.allOids=[],this.components=new ti,A.modelManager.scene.add(this.components),this.SelectedMark={},this.mouse=new Le,this.lastX=0,this.lastY=0,this.active=!0,this.viewer=A},enabled:function(){this.mousedown=this.viewer.domElement.addEventListener("mousedown",this.onMouseDown.bind(this),!1),this.mouseup=this.viewer.domElement.addEventListener("mouseup",this.onMouseUp.bind(this),!1)},disabled:function(){this.mousedown=this.viewer.domElement.removeEventListener("mousedown",this.onMouseDown.bind(this),!1),this.mouseup=this.viewer.domElement.removeEventListener("mouseup",this.onMouseUp.bind(this),!1)},touchEnabled:function(){this.touchstart=document.getElementById(this.viewer.uuid).addEventListener("touchstart",this.onTouchStart.bind(this),!1),this.touchend=document.getElementById(this.viewer.uuid).addEventListener("touchend",this.onTouchEnd.bind(this),!1)},touchDisabled:function(){this.touchstart=this.viewer.domElement.removeEventListener("touchstart",this.onTouchStart.bind(this),!1),this.touchend=this.viewer.domElement.removeEventListener("touchend",this.onTouchEnd.bind(this),!1)},onMouseDown:function(A){this.mouse.x=this.lastX=A.clientX,this.mouse.y=this.lastY=A.clientY},onMouseUp:function(A){var e=[A.clientX,A.clientY];(this.lastX<e[0]?e[0]-this.lastX<5:this.lastX-e[0]<5)&&(this.lastY<e[1]?e[1]-this.lastY<5:this.lastY-e[1]<5)&&(this.mouse.x=this.lastX=e[0],this.mouse.y=this.lastY=e[1],this.pick("pick"))},onTouchStart:function(A){this.mouse.x=this.lastX=A.changedTouches[0].clientX,this.mouse.y=this.lastY=A.changedTouches[0].clientY},onTouchEnd:function(A){(this.lastX<A.changedTouches[0].clientX?A.changedTouches[0].clientX-this.lastX<5:this.lastX-A.changedTouches[0].clientX<5)&&(this.lastY<A.changedTouches[0].clientY?A.changedTouches[0].clientY-this.lastY<5:this.lastY-A.changedTouches[0].clientY<5)&&(this.mouse.x=this.lastX=A.changedTouches[0].clientX,this.mouse.y=this.lastY=A.changedTouches[0].clientY,this.pick("pick"))},pick:function(){var A=this.viewer.cameraControl.getIntersectContext(this.mouse),e=new $u;e.setFromCamera(A.mouse,A.camera),e.camera=A.camera,e._camera=A.camera,e.viewportSize=A.viewportSize;var t=e.intersectObjects(this.components.children);t&&this.SelectedMark!==t.object?(this.SelectedMark=t.object,this.dispatchEvent({type:"updated",added:{objects:this.SelectedMark}})):(this.SelectedMark={},this.dispatchEvent({type:"updated",removed:{objects:this.SelectedMark}}))},getClickCoordsWithinElement:function(A){var e=[0,0];if(A){for(var t=A.target,i=0,n=0;t.offsetParent;)i+=t.offsetLeft,n+=t.offsetTop,t=t.offsetParent;e[0]=A.pageX-i,e[1]=A.pageY-n}else A=window.event,e.x=A.x,e.y=A.y;return e},listentoSelectMarks:function(A){var e=this;this.addEventListener("updated",function(){e.SelectedMark!=={}?A(e.SelectedMark.key,e.SelectedMark):A(null,null)})},hasTheSameId:function(A){if(""!==A.id)for(var e=0;e<this.allOids.length;e+=1)if(A.id===this.allOids[e])return{data:"标签id重复"}},findMark:function(A){if(this.marks[A])for(var e in this.components.children)if(this.components.children[e].key===A)return this.components.children[e]},idsToArray:function(A){return null==A?{data:"未选中mark"}:(Array.isArray(A)||(A=[A]),A)},removeIdAndInfo:function(A){var e=this.allOids.indexOf(A);this.allOids.splice(e,1),delete this.marks[A]},remove:function(A){if(A=this.idsToArray(A),!Array.isArray(A))return A;for(var e=0;e<A.length;e+=1){var t=this.findMark(A[e]);t&&this.components.remove(t),this.removeIdAndInfo(A[e])}this.viewer.render()},hide:function(A){if(A=this.idsToArray(A),!Array.isArray(A))return A;for(var e=0;e<A.length;e+=1){var t=this.findMark(A[e]);t&&(t.visible=!1)}this.viewer.render()},show:function(A){var e=null;if(A){A=this.idsToArray(A);for(var t=0;t<A.length;t+=1){(e=this.findMark(A[t]))&&(e.visible=!0)}}else for(var i in this.components.children)(e=this.components.children[i])&&(e.visible=!0);this.viewer.render()},isolation:function(A){if(0<this.allOids.length){A=this.idsToArray(A);this.show();for(var e=this.allOids.concat(),t=0;t<A.length;t+=1){var i=A[t];if(-1===this.allOids.indexOf(i))return{data:"mark不存在"};for(var n=0;n<e.length;n+=1)if(i===e[n]){e.splice(n,1);break}}var o=null;for(n=0;n<e.length;n+=1)(o=this.findMark(e[n]))&&(o.visible=!1);this.viewer.render()}}});var Ug=function(A){this.defaultSettings={id:"",startPosition:[0,0,0],endPosition:[0,0],color:[255,0,0],colorLine:[0,0,0],draggable:!0,componentId:"",domElement:null,title:"标签"},this.init(A);var e=this;A.cameraControl.addEventListener(lh.ON_CAMERA_CHANGE,function(){e._update()})};Ug.prototype=kh.extend(!0,{},Og.prototype,{constructor:Ug,add:function(A,e){var t=Object.assign({},this.defaultSettings,A),i=this.hasTheSameId(t);if(i)return i;""===t.id&&(t.id=Fe.generateUUID()),this.marks[t.id]=Object.assign({},t);var n=this.viewer.getScreenCoordFromSceneCoord(t.startPosition),o=t.endPosition.concat(),r=[];Array.isArray(t.colorLine)&&(t.colorLine="rgb("+t.colorLine[0]+","+t.colorLine[1]+","+t.colorLine[2]+")");var a=document.createElement("div");(a.id="labelStart"+t.id,a.className="labelStart",a.style.cssText="border:2px solid "+t.colorLine+"; border-radius:5px; -moz-border-radius:5px; height: 4px;width: 4px;position: absolute;margin-left: -3px;margin-top: -3px;top:"+n[1]+"px;left:"+n[0]+"px;background-color:"+t.colorLine+";",this.viewer.domElement.appendChild(a),Array.isArray(t.color))&&(t.color="rgb("+t.color[0]+","+t.color[1]+","+t.color[2]+")");var s=document.createElement("div");s.id=t.id,s.className="labelingDiv",s.style.cssText="border:2px solid "+t.colorLine+";text-align:center;border-radius:5px;-moz-border-radius:5px;min-width: 66px;position: absolute;width:-webkit-fit-content;width: -moz-fit-content;background-color:"+t.color+";",this.viewer.domElement.appendChild(s);var l=document.createElement("span");l.id="labelTitle"+t.id,l.className="labelTitle",l.onmouseover=function(){l.style.cursor="move"},l.onmouseout=function(){l.style.cursor="auto"},l.style.cssText="display:block;padding:2%;text-align:center;color: #000000;white-space:nowrap",l.innerText=t.title,s.appendChild(l),o[0]<0&&(o[0]=5),o[1]<0&&(o[1]=5),this.viewer.domElement.offsetWidth-s.offsetWidth<o[0]&&(o[0]=this.viewer.domElement.offsetWidth-s.offsetWidth),this.viewer.domElement.offsetHeight-s.offsetHeight<o[1]&&(o[1]=this.viewer.domElement.offsetHeight-s.offsetHeight),s.style.cssText+="left:"+o[0]+"px; top:"+o[1]+"px",t.domElement&&s.appendChild(t.domElement),r[1]=n[0]<o[0]?n[1]<o[1]?(r[0]=o[0],o[1]):(r[0]=o[0],o[1]+s.offsetHeight):n[1]<o[1]?(r[0]=o[0]+s.offsetWidth,o[1]):(r[0]=o[0]+s.offsetWidth,o[1]+s.offsetHeight);var c=n[0]-r[0],d=n[1]-r[1],h=Math.sqrt(c*c+d*d),u=Math.atan(d/c)/Math.PI*180;0<c||(0<d?u+=180:u-=180);var p=document.createElement("div");p.id="labelLine"+t.id,p.className="labelLine",p.style.cssText=" height: 2px;position: absolute;transform-origin: left center;width:"+h+"px;-ms-transform:rotateZ("+u+"deg);-moz-transform:rotateZ("+u+"deg);-webkit-transform:rotateZ("+u+"deg);-o-transform:rotateZ("+u+"deg);transform:rotateZ("+u+"deg);left:"+r[0]+"px;top:"+r[1]+"px;background-color:"+t.colorLine+";",this.viewer.domElement.appendChild(p),t.draggable&&this._enableDrag(s),this.allOids.push(t.id),"function"==typeof e&&e(t.id)},_update:function(){for(var A in this.marks){var e=this.viewer.getScreenCoordFromSceneCoord(this.marks[A].startPosition),t=this.marks[A].endPosition.concat(),i=[],n=document.getElementById(A);i[1]=e[0]<t[0]?e[1]<t[1]?(i[0]=t[0],t[1]):(i[0]=t[0],t[1]+n.offsetHeight):e[1]<t[1]?(i[0]=t[0]+n.offsetWidth,t[1]):(i[0]=t[0]+n.offsetWidth,t[1]+n.offsetHeight);var o=e[0]-i[0],r=e[1]-i[1],a=Math.sqrt(o*o+r*r),s=Math.atan(r/o)/Math.PI*180;0<o||(0<r?s+=180:s-=180),document.getElementById("labelStart"+A).style.cssText+=";top:"+e[1]+"px; left:"+e[0]+"px",document.getElementById("labelLine"+A).style.cssText+=";width:"+a+"px;transform-origin: left center;-ms-transform:rotateZ("+s+"deg);-moz-transform:rotateZ("+s+"deg);-webkit-transform:rotateZ("+s+"deg);-o-transform:rotateZ("+s+"deg);transform:rotateZ("+s+"deg);left:"+i[0]+"px; top:"+i[1]+"px"}},_enableDrag:function(n){var i=this,o=n,r=n.id,A=o.querySelector("#labelTitle"+r),a=this.viewer.domElement,s=a.offsetLeft,l=a.offsetTop;A.addEventListener("mousedown",function(A){A.preventDefault(),o.setAttribute("offset-left",A.offsetX),o.setAttribute("offset-top",A.offsetY),o.setAttribute("allow-drag","true"),[n.style.left,n.style.top]}),document.addEventListener("mousemove",function(A){if("true"===o.getAttribute("allow-drag")){A.preventDefault();var e=A.clientX-parseInt(o.getAttribute("offset-left"),10)-parseInt(o.style.borderWidth,10)-s,t=A.clientY-parseInt(o.getAttribute("offset-top"),10)-parseInt(o.style.borderWidth,10)-l;t<0&&(t=5),a.offsetHeight-o.offsetHeight<t&&(t=a.offsetHeight-o.offsetHeight),e<0&&(e=5),a.offsetWidth-o.offsetWidth<e&&(e=a.offsetWidth-o.offsetWidth),o.style.cssText+=";left:"+e+"px;top:"+t+"px",this.marks[r].endPosition=[e,t],this._update()}}.bind(this)),document.addEventListener("mouseup",function(A){"true"===o.getAttribute("allow-drag")&&(A.preventDefault(),o.setAttribute("allow-drag","false"))}),A.addEventListener("touchstart",function(A){A.preventDefault();var e=parseInt(o.style.left,10),t=parseInt(o.style.top,10),i=A.targetTouches[0].clientY;o.setAttribute("offset-left",A.targetTouches[0].clientX-e),o.setAttribute("offset-top",i-t),o.setAttribute("allow-drag","true"),[n.style.left,n.style.top]}),document.addEventListener("touchmove",function(A){if("true"===o.getAttribute("allow-drag")){A.preventDefault();var e=A.targetTouches[0].clientX-parseInt(o.getAttribute("offset-left"),10)-parseInt(o.style.borderWidth,10)-s,t=A.targetTouches[0].clientY-parseInt(o.getAttribute("offset-top"),10)-parseInt(o.style.borderWidth,10)-l;t<0&&(t=5),i.viewer.domElement.offsetHeight-o.offsetHeight<t&&(t=i.viewer.domElement.offsetHeight-o.offsetHeight),e<0&&(e=5),i.viewer.domElement.offsetWidth-o.offsetWidth<e&&(e=i.viewer.domElement.offsetWidth-o.offsetWidth),o.style.cssText+=";left:"+e+"px;top:"+t+"px",i.marks[r].endPosition=[e,t],i._update()}}),document.addEventListener("touchend",function(A){"true"===o.getAttribute("allow-drag")&&(A.preventDefault(),o.setAttribute("allow-drag","false"))})},updateMark:function(A,e){if(!this.marks[A])return{id:A,data:"该标签不存在"};var t=Object.assign({},this.marks[A],e);this.marks[A]=Object.assign({},t);var i=this.viewer.getScreenCoordFromSceneCoord(t.startPosition),n=t.endPosition.concat(),o=[];Array.isArray(t.colorLine)&&(t.colorLine="rgb("+t.colorLine[0]+","+t.colorLine[1]+","+t.colorLine[2]+")"),document.getElementById("labelStart"+A).style.cssText="border:2px solid "+t.colorLine+"; border-radius:5px; -moz-border-radius:5px; height: 4px;width: 4px;position: absolute;margin-left: -3px;margin-top: -3px;top:"+i[1]+"px;left:"+i[0]+"px;background-color:"+t.colorLine+";",Array.isArray(t.color)&&(t.color="rgb("+t.color[0]+","+t.color[1]+","+t.color[2]+")");var r=document.getElementById(A);r.style.cssText="border:2px solid "+t.colorLine+";text-align:center;border-radius:5px;-moz-border-radius:5px;min-width: 66px;position: absolute;width:-webkit-fit-content;width: -moz-fit-content;background-color:"+t.color+";";var a=document.getElementById("labelTitle"+A);a.innerText=t.title,n[0]<0&&(n[0]+=5),n[1]<0&&(n[1]+=5),this.viewer.domElement.offsetWidth-r.offsetWidth<n[0]&&(n[0]=this.viewer.domElement.offsetWidth-r.offsetWidth),this.viewer.domElement.offsetHeight-r.offsetHeight<n[1]&&(n[1]=this.viewer.domElement.offsetHeight-r.offsetHeight),r.style.cssText+="left:"+n[0]+"px; top:"+n[1]+"px";var s=a.nextElementSibling||a.nextSibling;s&&r.removeChild(s),t.domElement&&r.appendChild(t.domElement),t.draggable&&this._enableDrag(r),o[1]=i[0]<n[0]?i[1]<n[1]?(o[0]=n[0],n[1]):(o[0]=n[0],n[1]+r.offsetHeight):i[1]<n[1]?(o[0]=n[0]+r.offsetWidth,n[1]):(o[0]=n[0]+r.offsetWidth,n[1]+r.offsetHeight);var l=i[0]-o[0],c=i[1]-o[1],d=Math.sqrt(l*l+c*c),h=Math.atan(c/l)/Math.PI*180;0<l||(0<c?h+=180:h-=180),document.getElementById("labelLine"+A).style.cssText="height: 2px;position: absolute;transform-origin: left center;width:"+d+"px;-ms-transform:rotateZ("+h+"deg);-moz-transform:rotateZ("+h+"deg);-webkit-transform:rotateZ("+h+"deg);-o-transform:rotateZ("+h+"deg);transform:rotateZ("+h+"deg);left:"+o[0]+"px;top:"+o[1]+"px;background-color:"+t.colorLine+";"},updateColor:function(A,e){Array.isArray(A)||(A=[A]);for(var t=0;t<A.length;t+=1){var i=A[t];if(!this.marks[i])return{id:i,data:"该标签不存在"};Array.isArray(e)?document.getElementById(i).style.cssText+=";background-color:rgb("+e[0]+","+e[1]+","+e[2]+")":document.getElementById(i).style.cssText+=";background-color:"+e,this.marks[i].color=e}},updateTitle:function(A,e){Array.isArray(A)||(A=[A]);for(var t=0;t<A.length;t+=1){var i=A[t];if(!this.marks[i])return{id:i,data:"该标签不存在"};document.getElementById("labelTitle"+i).innerText=e,this.marks[i].title=e}},updateDomElement:function(A,e){if(this.marks[A]){var t=document.getElementById(A),i=t.querySelector(".labelTitle"),n=i.nextElementSibling||i.nextSibling;return n&&t.removeChild(n),e&&t.appendChild(e),this.marks[A].domElement=e,!0}return{id:A,data:"该标签不存在"}},remove:function(A){A=this.idsToArray(A);for(var e=0;e<A.length;e+=1){var t=A[e];if(!this.marks[t])return{id:t,data:"该标签不存在"};delete this.marks[t],this.viewer.domElement.removeChild(document.getElementById("labelLine"+t)),this.viewer.domElement.removeChild(document.getElementById("labelStart"+t)),this.viewer.domElement.removeChild(document.getElementById(t));var i=this.allOids.indexOf(t);this.allOids.splice(i,1)}},hide:function(A){A=this.idsToArray(A);for(var e=0;e<A.length;e+=1){var t=A[e];if(!this.marks[t])return{id:t,data:"该标签不存在"};document.getElementById("labelLine"+t).style.display="none",document.getElementById("labelStart"+t).style.display="none",document.getElementById(t).style.display="none"}},show:function(A){if(A){A=this.idsToArray(A);for(var e=0;e<A.length;e+=1){var t=A[e];if(!this.marks[t])return{id:t,data:"该标签不存在"};document.getElementById("labelLine"+t).style.display="block",document.getElementById("labelStart"+t).style.display="block",document.getElementById(t).style.display="block"}}else for(var i=this.allOids.concat(),n=0;n<i.length;n+=1)document.getElementById("labelLine"+i[n]).style.display="block",document.getElementById("labelStart"+i[n]).style.display="block",document.getElementById(i[n]).style.display="block"},isolation:function(A){if(0<this.allOids.length){A=this.idsToArray(A),this.show();for(var e=this.allOids.concat(),t=0;t<A.length;t+=1){var i=A[t];if(!this.marks[i])return{data:"mark不存在"};for(var n=0;n<e.length;n+=1)if(i===e[n]){e.splice(n,1);break}}for(var o=0;o<e.length;o+=1)document.getElementById("labelLine"+e[o]).style.display="none",document.getElementById("labelStart"+e[o]).style.display="none",document.getElementById(e[o]).style.display="none"}}});var Ng=function(A){this.defaultSettings={id:"",URL:"",side:2,scale:1,width:1,height:1,opacity:1,transparent:!1,alwaysVisible:!1,useImageSize:!0,color:[1,1,1],emissive:[0,0,0],position:[0,0,0],face:"z",useFaceMatrix:!0,matrix:[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1]},this.faceMatrix={x:[0,1,0,0,0,0,1,0,1,0,0,0,0,0,0,1],y:[1,0,0,0,0,0,1,0,0,-1,0,0,0,0,0,1],z:[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1]},this.init(A),this.enabled()};Ng.prototype=kh.extend(!0,{},Og.prototype,{constructor:Ng,add:function(A,n){var o=this,r=Object.assign({},this.defaultSettings,A),e=this.hasTheSameId(r);if(e)return e;var a=1,s=1,l=null;(new Al).load(r.URL,function(A){var e=new ws({color:new hi(r.color[0],r.color[1],r.color[2]),emissive:new hi(r.emissive[0],r.emissive[1],r.emissive[2]),map:A,depthTest:!r.alwaysVisible,side:r.side,opacity:r.opacity,transparent:r.transparent});a=r.useImageSize&&e.map&&e.map.image&&e.map.image.width?e.map.image.width:r.width,s=r.useImageSize&&e.map&&e.map.image&&e.map.image.width?e.map.image.height:r.height;var t=new ji(new Fn(1,1,1,1),e);l=r.useFaceMatrix?o.faceMatrix[r.face]:r.matrix;var i=(new At).fromArray(l);t.applyMatrix(i),t.scale.set(r.scale*a,r.scale*s,1),r.position.isVector3?t.position.copy(r.position):t.position.set(r.position[0],r.position[1],r.position[2]),t.updateMatrixWorld(),o.components.add(t),o.viewer.render(),""!==r.id?(t.key=r.id,o.marks[r.id]=r,o.allOids.push(r.id)):(t.key=t.uuid,r.id=t.uuid,o.marks[t.uuid]=r,o.allOids.push(t.uuid)),"function"==typeof n&&n(t.key)},function(){},function(A){o.dispatchEvent({type:ch.LOAD_TEXTURE_ERROR,data:"加载材质出错"})})},updateMark:function(i,A){var n=this,o=this.findMark(i);if(o){o.applyMatrix((new At).getInverse(o.matrix));var r=Object.assign({},n.marks[i],A),a=1,s=1,l=null;(new Al).load(r.URL,function(A){var e=new ws({color:new hi(r.color[0],r.color[1],r.color[2]),emissive:new hi(r.emissive[0],r.emissive[1],r.emissive[2]),map:A,depthTest:!r.alwaysVisible,side:r.side,opacity:r.opacity,transparent:r.transparent});a=r.useImageSize&&e.map&&e.map.image&&e.map.image.width?e.map.image.width:r.width,s=r.useImageSize&&e.map&&e.map.image&&e.map.image.width?e.map.image.height:r.height,o.material=e,l=r.useFaceMatrix?n.faceMatrix[r.face]:r.matrix;var t=(new At).fromArray(l);o.applyMatrix(t),o.scale.set(r.scale*a,r.scale*s,1),r.position.isVector3?o.position.copy(r.position):o.position.set(r.position[0],r.position[1],r.position[2]),o.updateMatrixWorld(),n.viewer.render(),console.log(o),n.marks[i]=r},function(){},function(A){n.dispatchEvent({type:ch.LOAD_TEXTURE_ERROR,data:"加载材质出错"})})}}});var Rg=function(A){this.defaultSettings={id:"",url:"",width:1,height:1,scale:1,alwaysVisible:!1,position:[0,0,0],componentId:"",useImageSize:!0},this.init(A),this.enabled()};Rg.prototype=kh.extend(!0,{},Og.prototype,{constructor:Rg,add:function(A,i){var n=this;!A.url&&A.URL&&(A.url=A.URL);var o=Object.assign({},this.defaultSettings,A),e=this.hasTheSameId(o);if(e)return e;var r=1,a=1;(new Al).load(o.URL||o.url,function(A){var e=new Hr({map:A,color:16777215,depthTest:!o.alwaysVisible});r=o.useImageSize&&e.map&&e.map.image&&e.map.image.width?e.map.image.width:o.width,a=o.useImageSize&&e.map&&e.map.image&&e.map.image.width?e.map.image.height:o.height;var t=new Gr(e);t.scale.set(o.scale*r,o.scale*a,1),o.position.isVector3?t.position.copy(o.position):t.position.set(o.position[0],o.position[1],o.position[2]),n.components.add(t),t.updateMatrixWorld(!0),n.viewer.render(),""!==o.id?(t.key=o.id,n.marks[o.id]=o,n.allOids.push(o.id)):(t.key=t.uuid,o.id=t.uuid,n.marks[t.uuid]=o,n.allOids.push(t.uuid)),"function"==typeof i&&i(t.key)},function(){},function(A){n.dispatchEvent({type:ch.LOAD_TEXTURE_ERROR,data:"加载材质出错"})})},updateMark:function(t,A){var i=this,n=this.findMark(t);if(n){var o=Object.assign({},i.marks[t],A),r=1,a=1;(new Al).load(o.URL||o.url,function(A){var e=new Hr({map:A,color:16777215,depthTest:!o.alwaysVisible});r=o.useImageSize&&e.map&&e.map.image&&e.map.image.width?e.map.image.width:o.width,a=o.useImageSize&&e.map&&e.map.image&&e.map.image.width?e.map.image.height:o.height,n.material=e,n.scale.set(o.scale*r,o.scale*a,1),o.position.isVector3?n.position.copy(o.position):n.position.set(o.position[0],o.position[1],o.position[2]),n.updateMatrixWorld(),i.viewer.render(),i.marks[t]=o},function(){},function(A){i.dispatchEvent({type:ch.LOAD_TEXTURE_ERROR,data:"加载材质出错"})})}}});var Pg=function(l){var c=this;this.Marks=new ti,l.modelManager.scene.add(c.Marks),this.SelectedMark={},this.components={};var d={id:"",name:"mark",scale:20,alwaysVisible:!(this.allOids=[]),color:[99,99,99],wordColor:[0,0,0],position:[0,0,0]},n=new Le,t=0,i=0;function o(A){var e=[0,0];if(A){for(var t=A.target,i=0,n=0;t.offsetParent;)i+=t.offsetLeft,n+=t.offsetTop,t=t.offsetParent;e[0]=A.pageX-i,e[1]=A.pageY-n}else A=window.event,e.x=A.x,e.y=A.y;return e}function r(A){var e=new $u,t=new Ue(n.x/l.domElement.clientWidth*2-1,-n.y/l.domElement.clientHeight*2+1,.5);e.setFromCamera(t,l.camera);var i=e.intersectObjects(c.Marks.children);i&&0<i.length&&c.SelectedMark!==i[0].object?(c.SelectedMark=i[0].object,c.dispatchEvent("updated",{added:{objects:c.SelectedMark}})):(c.SelectedMark={},c.dispatchEvent("updated",{removed:{objects:c.SelectedMark}}))}function A(A){var e=o(A);n.x=t=e[0],n.y=i=e[1]}function e(A){var e=o(A);(t<e[0]?e[0]-t<5:t-e[0]<5)&&(i<e[1]?e[1]-i<5:i-e[1]<5)&&(n.x=t=e[0],n.y=i=e[1],r())}function a(A){n.x=t=A.changedTouches[0].clientX,n.y=i=A.changedTouches[0].clientY}function s(A){(t<A.changedTouches[0].clientX?A.changedTouches[0].clientX-t<5:t-A.changedTouches[0].clientX<5)&&(i<A.changedTouches[0].clientY?A.changedTouches[0].clientY-i<5:i-A.changedTouches[0].clientY<5)&&(n.x=t=A.changedTouches[0].clientX,n.y=i=A.changedTouches[0].clientY,r())}this.active=!0,c.domElement=l.domElement,this.enabled=function(){this.mousedown=l.domElement.addEventListener("mousedown",A,!1),this.mouseup=l.domElement.addEventListener("mouseup",e,!1)},this.disabled=function(){this.mousedown=l.domElement.removeEventListener("mousedown",A,!1),this.mouseup=l.domElement.removeEventListener("mouseup",e,!1)},this.touchEnabled=function(){this.touchstart=l.domElement.addEventListener("touchstart",a,!1),this.touchend=l.domElement.addEventListener("touchend",s,!1)},this.touchDisabled=function(){this.touchstart=l.domElement.removeEventListener("touchstart",a,!1),this.touchend=l.domElement.removeEventListener("touchend",s,!1)},this.enabled(),this.add=function(A,e){var t=Object.assign({},d,A);if(""!==t.id)for(var i=0;i<c.allOids.length;i+=1)if(t.id===c.allOids[i])return{data:"标签id重复"};(t.position.isVector3||(t.position=new Ue(t.position[0],t.position[1],t.position[2])),Array.isArray(t.color))&&(t.color="rgb("+t.color[0]+","+t.color[1]+","+t.color[2]+")");Array.isArray(t.wordColor)&&(t.wordColor="rgb("+t.wordColor[0]+","+t.wordColor[1]+","+t.wordColor[2]+")");var n=document.createElement("canvas");n.width=28*t.name.length,n.height=150;var o=n.getContext("2d");o.fillStyle="rgba(255, 255, 255, 0)",o.lineWidth=2,o.strokeStyle=t.color,o.strokeRect(5,0,n.width-5,30),o.moveTo(5,141),o.lineTo(5,30),o.stroke(),o.fillStyle=t.color,o.beginPath(),o.arc(5,145,4,0,2*Math.PI),o.fill(),o.fillRect(10,5,n.width-15,20),o.font="bold 18px Arial",o.fillStyle=t.wordColor,o.textAlign="center",o.fillText(t.name,n.width/2,20);var r=new Ye(n);r.needsUpdate=!0;var a=new Hr({map:r,color:16777215,depthTest:t.alwaysVisible}),s=new Gr(a);s.center.x=0,s.center.y=0,s.scale.set(t.scale*a.map.image.width,t.scale*a.map.image.height,1),s.position.copy(t.position),s.updateMatrixWorld(),c.Marks.add(s),l.render(),""!==t.id?(s.key=t.id,c.components[t.id]=t,c.allOids.push(t.id)):(s.key=s.uuid,t.id=s.uuid,c.components[s.uuid]=t,c.allOids.push(s.uuid)),"function"==typeof e&&e(s.key)},this.updateMark=function(A,e){if(c.components[A]){var t=Object.assign({},c.components[A],e),i=null;for(var n in c.Marks.children)if(c.Marks.children[n].key===A){i=c.Marks.children[n];break}if(i){if(t.position.isVector3||(t.position=new Ue(t.position[0],t.position[1],t.position[2])),Array.isArray(t.color))t.color="rgb("+t.color[0]+","+t.color[1]+","+t.color[2]+")";if(Array.isArray(t.wordColor))t.wordColor="rgb("+t.color[0]+","+t.color[1]+","+t.color[2]+")";var o=document.createElement("canvas");o.width=28*t.name.length,o.height=150;var r=o.getContext("2d");r.fillStyle="rgba(255, 255, 255, 0)",r.lineWidth=2,r.strokeStyle=t.color,r.strokeRect(5,0,o.width-5,30),r.moveTo(5,141),r.lineTo(5,30),r.stroke(),r.fillStyle=t.color,r.beginPath(),r.arc(5,145,4,0,2*Math.PI),r.fill(),r.fillRect(10,5,o.width-15,20),r.font="bold 18px Arial",r.fillStyle=t.wordColor,r.textAlign="center",r.fillText(t.name,o.width/2,20);var a=new Ye(o);a.needsUpdate=!0;var s=new Hr({map:a,color:16777215,depthTest:t.alwaysVisible});i.material=s,i.scale.set(t.scale*i.material.map.image.width,t.scale*i.material.map.image.height,1),i.position.copy(t.position),i.updateMatrixWorld(),l.render(),c.components[A]=t}}},this.remove=function(A){if(null==A)return{data:"未选中mark"};Array.isArray(A)||(A=[A]);for(var e=0;e<A.length;e+=1){var t=c.allOids.indexOf(A[e]);for(var i in c.allOids.splice(t,1),c.Marks.children)if(c.Marks.children[i].key===A[e]){c.Marks.remove(c.Marks.children[i]);break}delete c.components[A[e]]}},this.hide=function(A){if(null==A)return{data:"未选中mark"};Array.isArray(A)||(A=[A]);for(var e=null,t=0;t<A.length;t+=1){for(var i in c.Marks.children)if(c.Marks.children[i].key===A[t]){e=c.Marks.children[i];break}e&&(e.visible=!1)}},this.show=function(A){var e=null;if(A){Array.isArray(A)||(A=[A]);for(var t=0;t<A.length;t+=1){for(var i in c.Marks.children)if(c.Marks.children[i].key===A[t]){e=c.Marks.children[i];break}e&&(e.visible=!0)}}else for(var i in c.Marks.children)(e=c.Marks.children[i])&&(e.visible=!0)},this.isolation=function(A){if(null==A)return{data:"未选中mark"};if(c.show(),0<c.allOids.length){var e=c.allOids.concat();Array.isArray(A)||(A=[A]);for(var t=0;t<A.length;t+=1){var i=A[t];if(-1===c.allOids.indexOf(i))return{data:"mark不存在"};for(var n=0;n<e.length;n+=1)if(i===e[n]){e.splice(n,1);break}}var o=null;for(n=0;n<e.length;n+=1){for(var r in c.Marks.children)if(c.Marks.children[r].key===e[n]){o=c.Marks.children[r];break}o&&(o.visible=!1)}}},this.listentoSelectMarks=function(A){c.addEventListener("updated",function(){c.SelectedMark!=={}?A(c.SelectedMark.key?c.SelectedMark.key:c.SelectedMark.uuid,c.SelectedMark):A(null,null)})}};Object.assign(Pg.prototype,ou.prototype);var Dg=function(l){var c=this;this.Marks=new ti,l.modelManager.scene.add(c.Marks),this.SelectedMark={},this.components={};var d={id:"",name:"mark",scale:20,width:1,height:1,alwaysVisible:!(this.allOids=[]),useImageSize:!0,color:"#000000",position:[0,0,0]},n=new Le,t=0,i=0;function o(A){var e=[0,0];if(A){for(var t=A.target,i=0,n=0;t.offsetParent;)i+=t.offsetLeft,n+=t.offsetTop,t=t.offsetParent;e[0]=A.pageX-i,e[1]=A.pageY-n}else A=window.event,e.x=A.x,e.y=A.y;return e}function r(A){var e=new $u,t=new Ue(n.x/l.domElement.clientWidth*2-1,-n.y/l.domElement.clientHeight*2+1,.5);e.setFromCamera(t,l.camera);var i=e.intersectObjects(c.Marks.children);i&&0<i.length&&c.SelectedMark!==i[0].object?(c.SelectedMark=i[0].object,c.dispatchEvent("updated",{added:{objects:c.SelectedMark}})):(c.SelectedMark={},c.dispatchEvent("updated",{removed:{objects:c.SelectedMark}}))}function A(A){var e=o(A);n.x=t=e[0],n.y=i=e[1]}function e(A){var e=o(A);(t<e[0]?e[0]-t<5:t-e[0]<5)&&(i<e[1]?e[1]-i<5:i-e[1]<5)&&(n.x=t=e[0],n.y=i=e[1],r())}function a(A){n.x=t=A.changedTouches[0].clientX,n.y=i=A.changedTouches[0].clientY}function s(A){(t<A.changedTouches[0].clientX?A.changedTouches[0].clientX-t<5:t-A.changedTouches[0].clientX<5)&&(i<A.changedTouches[0].clientY?A.changedTouches[0].clientY-i<5:i-A.changedTouches[0].clientY<5)&&(n.x=t=A.changedTouches[0].clientX,n.y=i=A.changedTouches[0].clientY,r())}this.active=!0,c.domElement=l.domElement,this.enabled=function(){this.mousedown=l.domElement.addEventListener("mousedown",A,!1),this.mouseup=l.domElement.addEventListener("mouseup",e,!1)},this.disabled=function(){this.mousedown=l.domElement.removeEventListener("mousedown",A,!1),this.mouseup=l.domElement.removeEventListener("mouseup",e,!1)},this.touchEnabled=function(){this.touchstart=l.domElement.addEventListener("touchstart",a,!1),this.touchend=l.domElement.addEventListener("touchend",s,!1)},this.touchDisabled=function(){this.touchstart=l.domElement.removeEventListener("touchstart",a,!1),this.touchend=l.domElement.removeEventListener("touchend",s,!1)},this.enabled(),this.add=function(A,e){var t=Object.assign({},d,A);if(""!==t.id)for(var i=0;i<c.allOids.length;i+=1)if(t.id===c.allOids[i])return{data:"标签id重复"};var n=document.createElement("canvas");n.width=24*t.name.length,n.height=32;var o=n.getContext("2d");o.lineWidth=3,o.strokeStyle="#0000FF",o.strokeRect(0,0,n.width,32),o.fillStyle="#FFFFFF",o.fillRect(3,3,n.width-6,26),o.font=" bold 24px Arial",o.fillStyle=t.color,o.textAlign="center",o.fillText(t.name,n.width/2,26),console.log(n.width);var r=new Ye(n);r.needsUpdate=!0;var a=new Hr({map:r,color:16777215,depthTest:t.alwaysVisible}),s=new Gr(a);s.scale.set(t.scale*a.map.image.width,t.scale*a.map.image.height,1),t.position.isVector3?s.position.copy(t.position):s.position.set(t.position[0],t.position[1],t.position[2]),s.updateMatrixWorld(),c.Marks.add(s),l.render(),""!==t.id?(s.key=t.id,c.components[t.id]=s,c.allOids.push(t.id)):(s.key=s.uuid,c.components[s.uuid]=s,c.allOids.push(s.uuid)),"function"==typeof e&&e(s.key)},this.updateMark=function(A,e){var t=Object.assign({},d,e),i=null;if(c.components[A]){i=c.components[A];var n=document.createElement("canvas");n.width=24*t.name.length,n.height=32;var o=n.getContext("2d");o.lineWidth=3,o.strokeStyle="#0000FF",o.strokeRect(0,0,n.width,32),o.fillStyle="#FFFFFF",o.fillRect(3,3,n.width-6,26),o.font=" bold 24px Arial",o.fillStyle=t.color,o.textAlign="center",o.fillText(t.name,n.width/2,26);var r=new Ye(n);r.needsUpdate=!0;var a=new Hr({map:r,color:16777215,depthTest:t.alwaysVisible});i.material=a,i.scale.set(t.scale*i.material.map.image.width,t.scale*i.material.map.image.height,1),t.position.isVector3?i.position.copy(t.position):i.position.set(t.position[0],t.position[1],t.position[2]),i.updateMatrixWorld(),l.render()}},this.remove=function(A){if(null==A)return{data:"未选中mark"};Array.isArray(A)||(A=[A]);for(var e=null,t=0;t<A.length;t+=1){e=c.components[A[t]];var i=c.allOids.indexOf(A[t]);c.allOids.splice(i,1),c.Marks.remove(e)}},this.hide=function(A){if(null==A)return{data:"未选中mark"};Array.isArray(A)||(A=[A]);for(var e=null,t=0;t<A.length;t+=1)(e=c.components[A[t]])&&(e.visible=!1)},this.show=function(A){var e=null;if(A){Array.isArray(A)||(A=[A]);for(var t=0;t<A.length;t+=1)(e=c.components[A[t]])&&(e.visible=!0)}else for(var i in c.components)(e=c.components[i])&&(e.visible=!0)},this.isolation=function(A){if(null==A)return{data:"未选中mark"};if(c.show(),0<c.allOids.length){var e=c.allOids.concat();Array.isArray(A)||(A=[A]);for(var t=0;t<A.length;t+=1){var i=A[t];if(-1===c.allOids.indexOf(i))return{data:"mark不存在"};for(var n=0;n<e.length;n+=1)if(i===e[n]){e.splice(n,1);break}}var o=null;for(n=0;n<e.length;n+=1)(o=c.components[e[n]])&&(o.visible=!1)}},this.listentoSelectMarks=function(A){c.addEventListener("updated",function(){c.SelectedMark!=={}?A(c.SelectedMark.key?c.SelectedMark.key:c.SelectedMark.uuid,c.SelectedMark):A(null,null)})}};Object.assign(Dg.prototype,ou.prototype);var Qg=function(A,e){var d=A.toolId,t=A.Flag,f=A.viewer,i=e.toolbarTop,m=function(A){var e=f.viewerImpl.getBoundingBoxByIds([A]);return e.max.distanceTo(e.min)/10},v=this;this.deleteListener=null,this.addListener=null,this.updateListener=null;var y=iu.window({title:"标签",id:"markWindow"+d,width:356,height:848,closeOnEsc:!(this.imageSize=100),closeButton:!0,afterWindowHide:function(){var A=document.getElementById("mark"+d);t.mark=!1,A&&(A.style.backgroundColor="",A.querySelector(".yj-icon").className="yj-icon label-icon"),document.getElementById("markColorModal"+d)&&(document.getElementById("markColorModal"+d).style.display="none"),f.viewerImpl.cameraControl.dispatchEvent(lh.ON_CAMERA_CHANGE)},content:'<div class="mark"><div class="first-floor"><table><tr><td style="font-size: 14px;ling-height:28px ">标签类型:</td><td><select><option value="dom">文字标签</option><option value="sprite">精灵标签</option></select></td></tr></table></div><div class="second-floor dom " style="border: none"><table><tr><td style="font-size: 14px;ling-height:28px ">标签样式:</td></tr><tr><td>标题:</td><td><input class="title" type="text"/></td></tr><tr><td>背景色:</td><td><div style=" width:56px;height:28px;background: rgba(0,0,0,0.20);"><input style="display:none" class="markColorInput"/><div  class="colorRect" style="width: 16px; height: 16px;background-color:#FF0000;display:inline-block;margin:6px;"></div><button class="showColorModal" style="width:28px;height:28px;background-color:rgba(0,0,0,0);display: inline-block;border:none;position: relative;"><img style="position:absolute;left:2px;top:2px;" src='+Mu.downArrow+' /></button></div></td></tr><tr><td colspan="2">标签位置(点击模型获取):</td></tr><tr><td><label>X:</label></td><td><input class="startX" type="text"/></td></tr><tr><td><label>Y:</label></td><td><input class="startY" type="text"/></td></tr><tr><td><label>Z:</label></td><td><input class="startZ" type="text"/></td></tr><tr><td>构件:</td><td><input class="component" type="text" disabled/></td></tr><tr><td title="用于添加标签的备注，表现形式为文本编辑框">备注栏数:</td><td><input class="text-tab" type="text"/></td></tr></table></div><div class="second-floor sprite" style="display: none;border: none;"><table><tr><td style="font-size: 14px;ling-height:28px ">标签样式:</td></tr><tr><td>图标选择:</td><td><div class="picture"><div class="chosed-pic" data-chosed-url='+Mu.fire+" ><img src="+Mu.fire+' /><button class="show-pic-list" style="width:28px;height:28px;background-color:rgba(0,0,0,0);display: inline-block;border:none;position: relative;"><img style="position:absolute;left:2px;top:2px;" src='+Mu.downArrow+' /></button></div><ul style="display: none;" class="pic-list"><li><img src='+Mu.fire+" /></li><li><img src="+Mu.in+" /></li><li><img src="+Mu.info+" /></li><li><img src="+Mu.wall+" /></li><li><img src="+Mu.window+" /></li><li><img src="+Mu.livingRoom+" /></li><li><img src="+Mu.kitchen+' /></li></ul></div></td></tr><tr><td>标签大小:</td><td><input class="size" type="text" placeholder="请输入图标缩放比例(默认为1)"/></td></tr><tr><td  colspan="2">标签位置(点击模型获取):</td></tr><tr><td>X:</td><td><input class="startX" type="text"/></td></tr><tr><td>Y:</td><td><input class="startY" type="text"/></td></tr><tr><td>Z:</td><td><input class="startZ" type="text"/></td></tr><tr><td>构件:</td><td><input class="component" type="text" disabled/></td></tr></table></div><div class="second-floor plane" style="display: none;border: none;"><table><tr><td style="font-size: 14px;ling-height:28px ">标签样式:</td></tr><tr><td>图标选择:</td><td><div class="picture"><div class="chosed-pic" data-chosed-url='+Mu.fire+" ><img src="+Mu.fire+' /><button class="show-pic-list" style="width:28px;height:28px;background-color:rgba(0,0,0,0);display: inline-block;border:none;position: relative;"><img style="position:absolute;left:2px;top:2px;" src='+Mu.downArrow+' /></button></div><ul style="display: none;" class="pic-list"><li><img src='+Mu.fire+" /></li><li><img src="+Mu.in+" /></li><li><img src="+Mu.info+" /></li><li><img src="+Mu.wall+" /></li><li><img src="+Mu.window+" /></li><li><img src="+Mu.livingRoom+" /></li><li><img src="+Mu.kitchen+' /></li></ul></div></td></tr><tr><td>标签大小:</td><td><input class="size" type="text" placeholder="请输入图标缩放比例(默认为1)"/></td></tr><tr><td  colspan="2">标签位置(点击模型获取):</td></tr><tr><td>X:</td><td><input class="startX" type="text"/></td></tr><tr><td>Y:</td><td><input class="startY" type="text"/></td></tr><tr><td>Z:</td><td><input class="startZ" type="text"/></td></tr><tr><td>构件:</td><td><input class="component" type="text" disabled/></td></tr><tr style=\'display: none\'><td>标签所在面:</td><td class=\'face\'><input type="text"/></td></tr></table></div><div class="third-floor"><button class="addMark" style="margin-right:7px;">添加标签</button><button class="showList" style="margin-left:7px;">展示标签列表</button></div><div class="forth-floor" style="display: none;"><span style="font-size: 14px;ling-height:28px " ">标签列表:</span><div class="tables"><table class="dom"><thead><tr><td colspan="6">文字标签列表</td></tr></thead><tbody></tbody></table><table class="sprite"><thead><tr><td colspan="6">精灵标签列表</td></tr></thead><tbody></tbody></table></div></div></div>'});y.$el.addClass("markWindow");var n=function(A){if(A.intersectInfo){var e="",t=function A(e){if(e.intersectInfo){f.viewerImpl.modelManager.removeEventListener(lh.ON_CLICK_PICK,A);var t=f.viewerImpl.camera,i=e.intersectInfo.point.clone(),n=t.position.clone(),o=i.clone().sub(n),r=o.length(),a=f.viewerImpl.getBoundingBoxByIds([e.intersectInfo.selectedObjectId]),s=new ri(n,i.sub(n).normalize()).intersectBox(a),l=Math.min(a.max.x-s.x,s.x-a.min.x),c=Math.min(a.max.y-s.y,s.y-a.min.y),d=Math.min(a.max.z-s.z,s.z-a.min.z),h=Math.min(l,c,d);return{point:e.intersectInfo.point,distance:r,face:h===l?"x":h===c?"y":"z",eye:o,box:a}}}(A),i=document.getElementById("updateMark"+d);jh.hasClass(i,"hide")?(e=y.$el.querySelector(".mark .first-floor select").value,y.$el.querySelector(".mark ."+e+" .startX ").value=A.intersectInfo.point.x,y.$el.querySelector(".mark ."+e+" .startY ").value=A.intersectInfo.point.y,y.$el.querySelector(".mark ."+e+" .startZ ").value=A.intersectInfo.point.z,y.$el.querySelector(".mark ."+e+" .component ").value=A.intersectInfo.selectedObjectId,"plane"===e&&(y.$el.querySelector(".mark ."+e+"  .face ").value=t.face)):(e="block"===i.querySelector(".dom").style.display?"dom":"block"===i.querySelector(".sprite").style.display?"sprite":"plane",i.querySelector("."+e+"  .startX ").value=A.intersectInfo.point.x,i.querySelector("."+e+"  .startY ").value=A.intersectInfo.point.y,i.querySelector("."+e+"  .startZ ").value=A.intersectInfo.point.z,i.querySelector("."+e+"  .component ").value=A.intersectInfo.selectedObjectId,"plane"===e&&(i.querySelector("."+e+"  .face ").value=t.face))}},h=new Ug(f.viewerImpl),u=new Rg(f.viewerImpl),p=new Ng(f.viewerImpl),o=y.$el.querySelector(".mark .dom .markColorInput"),r=new wu(o,{hasOpacity:!1});o.value="rgb(255,0,0)";var C=r.element;C.id="markColorModal"+d,C.className="markColorModal",document.getElementById("mark"+d).parentNode.appendChild(C);var g=iu.prompt({title:"修改标签",id:"updateMark"+d,width:356,height:400,closeOnEsc:!1,closeButton:!1,buttons:{ok:{class:"lobibox-btn lobibox-btn-default",text:"确定",closeOnClick:!0},cancel:{class:"lobibox-btn lobibox-btn-cancel",text:"取消",closeOnClick:!0}},content:'<div class="updateMarkPrompt"><div class="dom "><div style="margin-left:10px;"><table><tr><td>标签id:</td><td><input class="markId" type="text" disabled/></td></tr><tr><td>标题:</td><td><input class="title" type="text"/></td></tr><tr><td>背景色:</td><td><div style=" width:56px;height:28px;background: rgba(0,0,0,0.20);"><input style="display:none" class="markColorInput"/><div  class="colorRect" style="width: 16px; height: 16px;background-color:#FF0000;display:inline-block;margin:6px;"></div><button class="showColorModal" style="width:28px;height:28px;background-color:rgba(0,0,0,0);display: inline-block;border:none;outline: none;position: relative;"><img style="position:absolute;left:2px;top:2px;" src='+Mu.downArrow+' /></button></div></td></tr><tr><td colspan="2">标签位置(点击模型获取):</td></tr><tr><td><label>X:</label></td><td><input class="startX" type="text"/></td></tr><tr><td><label>Y:</label></td><td><input class="startY" type="text"/></td></tr><tr><td><label>Z:</label></td><td><input class="startZ" type="text"/></td></tr><tr><td>构件:</td><td><input class="component" type="text" disabled/></td></tr><tr><td title="用于添加标签的备注，表现形式为文本编辑框">备注栏数:</td><td><input class="text-tab" type="text"/></td></tr></table></div></div><div class="sprite"><div style="margin-left:10px;"><table><tr><td>标签id:</td><td><input class="markId" type="text" disabled/></td></tr><tr><td>图标选择:</td><td><div class="picture"><div class="chosed-pic" data-chosed-url='+Mu.fire+"><img src="+Mu.fire+' /><button class="show-pic-list" style="width:28px;height:28px;background-color:rgba(0,0,0,0);display: inline-block;border:none;position: relative;"><img style="position:absolute;left:2px;top:2px;" src='+Mu.downArrow+' /></button></div><ul style="display: none;" class="pic-list"><li><img src='+Mu.fire+" /></li><li><img src="+Mu.in+" /></li><li><img src="+Mu.info+" /></li><li><img src="+Mu.wall+" /></li><li><img src="+Mu.window+" /></li><li><img src="+Mu.livingRoom+" /></li><li><img src="+Mu.kitchen+' /></li></ul></div></td></tr><tr><td>标签大小:</td><td><input class="size" type="text" placeholder="请输入图标缩放比例(默认为1)"/></td></tr></tr><tr><td colspan="2">标签位置(点击模型获取):</td></tr><tr><td>X:</td><td><input class="startX" type="text"/></td></tr><tr><td>Y:</td><td><input class="startY" type="text"/></td></tr><tr><td>Z:</td><td><input class="startZ" type="text"/></td></tr><tr><td>构件:</td><td><input class="component" type="text" disabled/></td></tr></table></div></div><div class="plane"><div style="margin-left:10px;"><table><tr><td>标签id:</td><td><input class="markId" type="text" disabled/></td></tr><tr><td>图标选择:</td><td><div class="picture"><div class="chosed-pic" data-chosed-url='+Mu.fire+" ><img src="+Mu.fire+' /><button class="show-pic-list" style="width:28px;height:28px;background-color:rgba(0,0,0,0);display: inline-block;border:none;position: relative;"><img style="position:absolute;left:2px;top:2px;" src='+Mu.downArrow+' /></button></div><ul style="display: none;" class="pic-list"><li><img src='+Mu.fire+" /></li><li><img src="+Mu.in+" /></li><li><img src="+Mu.info+" /></li><li><img src="+Mu.wall+" /></li><li><img src="+Mu.window+" /></li><li><img src="+Mu.livingRoom+" /></li><li><img src="+Mu.kitchen+' /></li></ul></div></td></tr><tr><td>标签大小:</td><td><input class="size" type="text" placeholder="请输入图标缩放比例(默认为1)"/></td></tr></tr><tr><td colspan="2">标签位置(点击模型获取):</td></tr><tr><td>X:</td><td><input class="startX" type="text"/></td></tr><tr><td>Y:</td><td><input class="startY" type="text"/></td></tr><tr><td>Z:</td><td><input class="startZ" type="text"/></td></tr><tr><td>构件:</td><td><input class="component" type="text" disabled/></td></tr><tr style=\'display: none\'><td>标签所在面:</td><td class=\'face\'><input type="text"/></td></tr></table></div></div></div>'});g.setPosition({left:f.viewportDiv.offsetWidth-g.width-5,top:60}),g.promptHide(),g.$el.addClass("updateMark"),C.querySelector(".btn-yes").addEventListener("click",function(){var A=document.getElementById("updateMark"+d);jh.hasClass(A,"hide")?y.$el.querySelector(".mark .dom .colorRect").style.backgroundColor=o.value:g.$el.querySelector(".updateMarkPrompt .dom .colorRect").style.backgroundColor=o.value});var a=iu.confirm({title:"请再次确认:",id:"confirm-mark"+d,width:356,height:87,closeOnEsc:!1,closeButton:!1,iconClass:!1,msg:"是否要删除此标签？"});a.setPosition({left:(iu.viewport.offsetWidth-a.$options.width)/2,top:5}),a.confirmHide(),jh.addEventListener(i.querySelector("#mark"+d),"click",function(){t.mark?(y.windowHide(),f.viewerImpl.modelManager.removeEventListener(lh.ON_CLICK_PICK,n),g.promptHide(),C.style.display="none"):(document.getElementById("mark"+d).querySelector(".yj-icon").className="yj-icon label-icon active",t.mark=!t.mark,y.windowShow(),f.viewerImpl.modelManager.addEventListener(lh.ON_CLICK_PICK,n))});for(var s=y.$el.querySelectorAll(".lobibox .lobibox-body .showColorModal"),l=0;l<s.length;l+=1)s[l].addEventListener("click",function(){C.style.display="none"===C.style.display?"block":"none"});for(var c=g.$el.querySelectorAll(".lobibox .lobibox-body .showColorModal"),I=0;I<c.length;I+=1)c[I].addEventListener("click",function(){C.style.display="none"===C.style.display?"block":"none"});for(var x=y.$el.querySelectorAll(".lobibox .lobibox-body .picture .chosed-pic"),b=0;b<x.length;b+=1)x[b].addEventListener("click",function(){var A=this.parentElement.lastChild;A.style.display="none"===A.style.display?"block":"none"});for(var E=y.$el.querySelectorAll(".lobibox .lobibox-body .picture .file-choose span"),w=0;w<E.length;w+=1)E[w].addEventListener("click",function(){this.parentElement.querySelector("input").click()});for(var M=y.$el.querySelectorAll(".lobibox .lobibox-body .picture .pic-list li"),B=0;B<M.length;B+=1)M[B].addEventListener("click",function(){var A=this.parentElement.parentElement.querySelector(".chosed-pic"),e=this.querySelector("img").getAttribute("src");A.dataset.chosedUrl=e,A.querySelector("img").setAttribute("src",e),A.parentElement.lastChild.style.display="none"});y.$el.querySelector(".mark .first-floor select").addEventListener("change",function(){for(var A=this.value,e=y.$el.querySelectorAll(".mark .second-floor"),t=0;t<e.length;t+=1)e[t].style.display="none";y.$el.querySelector(".mark  ."+A).style.display="block",C.style.display="none"}),y.$el.querySelector(".mark .third-floor .showList").addEventListener("click",function(){var A=y.$el.querySelector(".mark .forth-floor");this.innerHTML="none"===A.style.display?(A.style.display="block","隐藏标签列表"):(A.style.display="none","展示标签列表")}),y.$el.querySelector(".mark .third-floor .addMark").addEventListener("click",function(){C.style.display="none";var t=y.$el.querySelector(".mark .first-floor select").value,A=[],i=null;if("dom"===t){var e=y.$el.querySelector(".mark .dom .title ").value;""===e&&(e="标签");var n=xu.getColorArrayFromRGBA(y.$el.querySelector(".mark .dom .colorRect").style.backgroundColor),o=parseInt(y.$el.querySelector(".mark .dom .text-tab ").value,0),r=null;if(10<o)return void nu("warning","备注栏不可超过10个",5e3);if(0<o){r=document.createElement("div");for(var a=0;a<o;a+=1)r.innerHTML+='<input type="text" style="margin:10px 5px;display:block;border:1px solid #000000;"/>'}var s=y.$el.querySelector(".mark .dom .component ").value;if(A[0]=Number(y.$el.querySelector(".mark .dom .startX ").value),A[1]=Number(y.$el.querySelector(".mark .dom .startY ").value),A[2]=Number(y.$el.querySelector(".mark .dom .startZ ").value),isNaN(A[0])||isNaN(A[1])||isNaN(A[2]))return void nu("warning","标签位置错误，无法新建标签",5e3);var l=f.getScreenCoordFromSceneCoord(A);i={title:e,color:n,startPosition:[A[0],A[1],A[2]],endPosition:[l[0]+100,l[1]-200],domElement:r,componentId:s}}else if("sprite"===t){try{var c=y.$el.querySelector(".mark .sprite .chosed-pic").dataset.chosedUrl}catch(A){return void nu("warning","未选择标签图标",5e3)}var d=Number(y.$el.querySelector(".mark .sprite .size ").value);d&&0<=d||(d=1);var h=y.$el.querySelector(".mark .sprite .component ").value;if(h&&(v.imageSize=m(h)),A[0]=Number(y.$el.querySelector(".mark .sprite .startX ").value),A[1]=Number(y.$el.querySelector(".mark .sprite .startY ").value),A[2]=Number(y.$el.querySelector(".mark .sprite .startZ ").value),isNaN(A[0])||isNaN(A[1])||isNaN(A[2]))return void nu("warning","标签位置错误，无法新建标签",5e3);i={url:c,scale:d,useImageSize:!1,width:v.imageSize,height:v.imageSize,position:A,alwaysVisible:!0,componentId:h}}else{try{c=y.$el.querySelector(".mark .plane .chosed-pic").dataset.chosedUrl}catch(A){return void v.message("warning","未选择标签图标",5e3)}var u=Number(y.$el.querySelector(".mark .plane .size ").value);u&&0<=u||(u=1);var p=y.$el.querySelector(".mark .plane .component ").value;if(p&&(v.imageSize=m(p)),A[0]=Number(y.$el.querySelector(".mark .plane .startX ").value),A[1]=Number(y.$el.querySelector(".mark .plane .startY ").value),A[2]=Number(y.$el.querySelector(".mark .plane .startZ ").value),isNaN(A[0])||isNaN(A[1])||isNaN(A[2]))return void v.message("warning","标签位置错误，无法新建标签",5e3);var g=y.$el.querySelector(".mark .plane .face").value;g||(g="x"),i={URL:c,scale:u,useImageSize:!1,width:v.imageSize,height:v.imageSize,position:A,alwaysVisible:!0,componentId:p,transparent:!0,face:g,useFaceMatrix:!0}}"function"==typeof v.addListener?v.addListener(t,i,function(A,e){A&&v.add(t,e||i)}):v.add(t,i)}),y.$el.querySelector(".forth-floor").addEventListener("click",function(A){switch(A.target.className){case"deleteMark":v.markDelete(A);break;case"updateMark":v.markUpdate(A);break;case"info":if("聚焦"===A.target.innerText){var e="",t=jh.closest(A.target,"tr"),i=t.querySelector(".id").innerHTML,n=jh.closest(t,"table").className;if("dom"===n?e=h.marks[i].componentId:"sprite"===n?e=u.marks[i].componentId:"plane"===n&&(e=p.marks[i].componentId),!e)return void nu("warning","该标签没有关联构件！",5e3);for(var o=document.querySelectorAll("#markWindow"+d+" .forth-floor .info"),r=0;r<o.length;r+=1)o[r].innerText="聚焦";A.target.innerText="失焦",function(A){var e=f.viewerImpl.getBoundingBoxByIds([A]);if(e.min.x!==-1/0&&e.min.x!==1/0){var t=e.getCenter(new Ue),i=f.viewerImpl.camera.getWorldDirection(),n=e.max.distanceTo(e.min),o=new Ue;o.copy(i),o.setLength(n);var r=new Ue;r.subVectors(t,o),f.flyTo({position:r,target:t,up:f.viewerImpl.camera.up},function(){f.viewerImpl.cameraControl.dispatchEvent(lh.ON_CAMERA_CHANGE)}),f.highlightComponentsByKey([A]),f.closeTransparentComponentsByKey([A]),f.transparentOtherComponentsByKey([A])}else nu("warning","该构件不存在！",5e3)}(e)}else A.target.innerText="聚焦",f.clearTransparentList(),f.clearHighlightList();break;default:if(jh.hasClass(A.target,"hideOrShow")){var a=jh.closest(A.target,"tr"),s=a.querySelector(".id").innerHTML,l=jh.closest(a,"table").className,c=null;c="dom"===l?h:"sprite"===l?u:h,A.target.innerHTML=jh.hasClass(A.target,"hideMark")?(c.hide(s),A.target.classList.remove("hideMark"),A.target.classList.add("showMark"),"显示"):(c.show(s),A.target.classList.remove("showMark"),A.target.classList.add("hideMark"),"隐藏")}}}),y.setPosition({left:"",right:5,top:60}),y.windowHide(),this.add=function(A,e){switch(A){case"dom":this.addDOMMark(e);break;case"sprite":this.addSpriteMark(e);break;case"plane":this.addPlaneMark(e)}},this.addDOMMark=function(e){h.add(e,function(A){y.$el.querySelector(".mark .forth-floor .dom tbody").innerHTML+="<tr markId='"+A+'\'><td class="id" title="'+A+'" width="60px">'+A+'</td><td class="markTitle" title="'+e.title+'" width="60px">'+e.title+'</td><td><button class="info">聚焦</button></td><td><button class="hideOrShow hideMark">隐藏</button></td><td><button class="deleteMark">删除</button></td><td><button class="updateMark">修改</button></td></tr>'})},this.addSpriteMark=function(e){u.add(e,function(A){y.$el.querySelector(".mark .forth-floor .sprite tbody").innerHTML+="<tr markId='"+A+'\'><td class="id" title="'+A+'" width="60px">'+A+'</td><td  class="img" width="60px"><img class="markImg" style="width:18px;height:18px;margin-left:10px;" src="'+e.url+'"/></td><td><button class="info">聚焦</button></td><td><button class="hideOrShow hideMark">隐藏</button></td><td><button class="deleteMark">删除</button></td><td><button class="updateMark">修改</button></td></tr>'})},this.addPlaneMark=function(e){p.add(e,function(A){y.$el.querySelector(".mark .forth-floor .plane tbody").innerHTML+="<tr markId='"+A+'\'><td class="id" title="'+A+'" width="60px">'+A+'</td><td  class="img" width="60px"><img class="markImg" style="width:18px;height:18px;margin-left:10px;" src="'+e.URL+'"/></td><td><button class="info">构件</button></td><td><button class="hideOrShow hideMark">隐藏</button></td><td><button class="deleteMark">删除</button></td><td><button class="updateMark">修改</button></td></tr>'})},this.markDelete=function(A){var e=jh.closest(A.target,"tr"),t=e.querySelector(".id").innerHTML,i=jh.closest(e,"table").className;a.confirmShow();var n="";"dom"===i?n="文字标签":"sprite"===i?n="精灵标签":"plane"===i&&(n="平面标签"),document.querySelector("#confirm-mark"+d+" .lobibox-body-text").innerHTML="是否要删除编号为["+t+"]的"+n+"？",document.querySelector("#confirm-mark"+d+" .lobibox-btn-yes").onclick=function(){"function"==typeof v.deleteListener?v.deleteListener(i,t,function(A){A&&v.delete(i,t)}):v.delete(i,t),a.confirmHide()},document.querySelector("#confirm-mark"+d+" .lobibox-btn-no").onclick=function(){a.confirmHide()}},this.delete=function(A,e){var t=null;if("dom"===A){if(t=h){t.remove(e);var i=y.$el.querySelector(".mark .forth-floor .dom tbody"),n=document.querySelector("tr[markId='"+e+"']");i.removeChild(n)}}else if("sprite"===A){if(t=u){t.remove(e);var o=y.$el.querySelector(".mark .forth-floor .sprite tbody"),r=document.querySelector("tr[markId='"+e+"']");o.removeChild(r)}}else if("plane"===A&&(t=p)){t.remove(e);var a=y.$el.querySelector(".mark .forth-floor .plane tbody"),s=document.querySelector("tr[markId='"+e+"']");a.removeChild(s)}},this.markUpdate=function(A){var e=jh.closest(A.target,"tr"),a=e.querySelector(".id").innerHTML,s=jh.closest(e,"table").className;g.promptShow();var l=document.getElementById("updateMark"+d);if(l.style.cssText+="z-index:"+(Number(document.getElementById("markWindow"+d).style.zIndex)+1),"dom"===s){for(var t=l.querySelectorAll(".sprite , .plane"),i=0;i<t.length;i+=1)t[i].style.display="none";l.querySelector(".dom ").style.display="block",l.querySelector(".dom .markId").value=a,l.querySelector(".dom .title").value=h.marks[a].title,l.querySelector(".dom .startX").value=h.marks[a].startPosition[0],l.querySelector(".dom .startY").value=h.marks[a].startPosition[1],l.querySelector(".dom .startZ").value=h.marks[a].startPosition[2],l.querySelector(".dom .component").value=h.marks[a].componentId,h.marks[a].domElement&&(l.querySelector(".dom .text-tab").value=h.marks[a].domElement.querySelectorAll("input").length),l.querySelector(".dom .colorRect").style.backgroundColor=xu.getRGBAFromColorArray(h.marks[a].color),l.querySelector(".lobibox-btn-default").onclick=function(){var A=l.querySelector(".dom .title").value;""===A&&(A="标签");var e=xu.getColorArrayFromRGBA(l.querySelector(".dom .colorRect").style.backgroundColor),t=[];if(t[0]=l.querySelector(".dom .startX").value,t[1]=l.querySelector(".dom .startY").value,t[2]=l.querySelector(".dom .startZ").value,isNaN(t[0])||isNaN(t[1])||isNaN(t[2]))nu("warning","标签位置无效，无法更新标签",5e3);else{var i=parseInt(l.querySelector(".dom .text-tab ").value,0),n=null;if(i>10)nu("warning","备注栏不可超过10个",5e3);else{if(0<i){n=document.createElement("div");for(var o=0;o<i;o+=1)n.innerHTML+='<input type="text" style="margin:10px 5px;display:block;border:1px solid #000000;"/>'}var r={title:A,color:e,startPosition:t,domElement:n,componentId:l.querySelector(".dom .component").value};"function"==typeof v.updateListener?v.updateListener(s,a,r,function(A,e){A&&v.update(s,a,e||r)}):v.update(s,a,r),g.promptHide(),C.style.display="none"}}}}else if("sprite"===s){for(var n=l.querySelectorAll(".dom , .plane"),o=0;o<n.length;o+=1)n[o].style.display="none";l.querySelector(".sprite ").style.display="block",l.querySelector(".sprite .markId").value=a,l.querySelector(".sprite .picture .chosed-pic").dataset.chosedUrl=u.marks[a].url,l.querySelector(".sprite .picture .chosed-pic img").setAttribute("src",u.marks[a].url),l.querySelector(".sprite .size").value=u.marks[a].scale,l.querySelector(".sprite .startX").value=u.marks[a].position[0],l.querySelector(".sprite .startY").value=u.marks[a].position[1],l.querySelector(".sprite .startZ").value=u.marks[a].position[2],l.querySelector(".sprite .component").value=u.marks[a].componentId,l.querySelector(".lobibox-btn-default").onclick=function(){try{var A=l.querySelector(".sprite .picture .chosed-pic").dataset.chosedUrl}catch(A){return void nu("warning","未选择标签图标",5e3)}var e=l.querySelector(".sprite .size").value;e&&0<=e||(e=1);var t=[];if(t[0]=Number(l.querySelector(".sprite .startX ").value),t[1]=Number(l.querySelector(".sprite .startY ").value),t[2]=Number(l.querySelector(" .sprite .startZ ").value),isNaN(t[0])||isNaN(t[1])||isNaN(t[2]))nu("warning","标签位置无效，无法更新标签",5e3);else{var i=l.querySelector(".sprite .component").value;i&&(v.imageSize=m(i));var n={url:A,scale:e,position:t,useImageSize:!1,width:v.imageSize,height:v.imageSize,alwaysVisible:!0,componentId:i};"function"==typeof v.updateListener?v.updateListener(s,a,n,function(A,e){A&&v.update(s,a,e||n)}):v.update(s,a,n),g.promptHide()}}}else if("plane"===s){for(var r=l.querySelectorAll(".dom , .sprite"),c=0;c<r.length;c+=1)r[c].style.display="none";l.querySelector(".plane ").style.display="block",l.querySelector(".plane .markId").value=a,l.querySelector(".plane .picture .chosed-pic").dataset.chosedUrl=p.marks[a].URL,l.querySelector(".plane .picture .chosed-pic img").setAttribute("src",p.marks[a].URL),l.querySelector(".plane .size").value=p.marks[a].scale,l.querySelector(".plane .startX").value=p.marks[a].position[0],l.querySelector(".plane .startY").value=p.marks[a].position[1],l.querySelector(".plane .startZ").value=p.marks[a].position[2],l.querySelector(".plane .component").value=p.marks[a].componentId,l.querySelector(".plane .face").value=p.marks[a].face,l.querySelector(".lobibox-btn-default").onclick=function(){try{var A=l.querySelector(".plane .picture .chosed-pic").dataset.chosedUrl}catch(A){return void nu("warning","未选择标签图标",5e3)}var e=l.querySelector(".plane .size").value;e&&0<=e||(e=1);var t=[];if(t[0]=Number(l.querySelector(".plane .startX ").value),t[1]=Number(l.querySelector(".plane .startY ").value),t[2]=Number(l.querySelector(" .plane .startZ ").value),isNaN(t[0])||isNaN(t[1])||isNaN(t[2]))nu("warning","标签位置无效，无法更新标签",5e3);else{var i=l.querySelector(".plane .component").value;i&&(v.imageSize=m(i));var n=y.$el.querySelector(".updateMarkPrompt .plane .face").value;n||(n="x");var o={URL:A,scale:e,position:t,useImageSize:!1,width:v.imageSize,height:v.imageSize,alwaysVisible:!0,face:n,componentId:i};"function"==typeof v.updateListener?v.updateListener(s,a,o,function(A,e){A&&v.update(s,a,e||o)}):v.update(s,a,o),g.promptHide()}}}l.querySelector(".lobibox-btn-cancel").onclick=function(){g.promptHide(),C.style.display="none"}},this.update=function(A,e,t){"dom"===A?v.updateDOMMark(e,t):"sprite"===A?v.updateSpriteMark(e,t):"plane"===A&&v.updatePlaneMark(e,t)},this.hide=function(A,e){var t=document.querySelector("tr[markId='"+e+"']");if(t){var i=t.querySelector(".hideOrShow");i.classList.remove("hideMark"),i.classList.add("showMark"),i.innerHTML="显示"}"dom"===A?h.hide(e):"sprite"===A&&u.hide(e)},this.show=function(A,e){var t=document.querySelector("tr[markId='"+e+"']");if(t){var i=t.querySelector(".hideOrShow");i.classList.remove("showMark"),i.classList.add("hideMark"),i.innerHTML="显示"}"dom"===A?h.show(e):"sprite"===A&&u.show(e)},this.updateDOMMark=function(A,e){var t=document.querySelector("tr[markId='"+A+"']");t&&(t.querySelector(".markTitle").innerHTML=e.title,t.querySelector(".markTitle").setAttribute("title",e.title)),h.updateMark(A,e)},this.updateSpriteMark=function(A,e){var t=document.querySelector("tr[markId='"+A+"']");t&&t.querySelector(".markImg").setAttribute("src",e.url),u.updateMark(A,e)},this.updatePlaneMark=function(A,e){var t=document.querySelector("tr[markId='"+A+"']");t&&t.querySelector(".markImg").setAttribute("src",e.URL),p.updateMark(A,e)},this.getDOMMark=function(){return h},this.getSpriteMark=function(){return u},this.getPlaneMark=function(){return p}},kg=function(S){this.Measurement={pointMove:new Ue,pointPick:[],pointPickToScreen:[],pointAssist:[],pointAssistToScreen:[],needUpdatedObjects:[],pickLineP1:new Ue,pickLineP2:new Ue,planeSquare:{},planeVolume:{},measureWindow:{}},this.renderer=S.viewerImpl.modelManager.renderer,this.scene=S.viewerImpl.modelManager.scene,this.camera=S.viewerImpl.camera.cameraPerspective,this.cameraControl=S.viewerImpl.cameraControl,this.intersect=null,this.domElement=S.viewerImpl.domElement,this.viewer=S.viewerImpl,this.SVG=document.getElementById("svgid"+S.getViewerImpl().uuid),this.SVGRect=S.SVGRect;var T=this;function A(){T.updatePos()}function e(){var A=S.getScreenCoordFromSceneCoord(T.Measurement.pickLineP1),e=S.getScreenCoordFromSceneCoord(T.Measurement.pickLineP2),t=new Le(A[0],A[1]),i=new Le(e[0],e[1]);T.SVGRect.createMoveLine(t,i)}this.movePoint=function(A){if(A.pickLine||A.pickPlane||A.pickPoint){T.SVGRect.deleteCircle();var a=S.viewerImpl.cameraControl.screenToCanvas(A.event.clientX,A.event.clientY);T.SVGRect.creatMoveCircle(a);var e=T.cameraControl.getIntersectContext(new Le(A.event.clientX,A.event.clientY));if(T.cameraControl.intersector.pick(e,function(A){for(var e=A.object.geometry,t=e.attributes.position.array,i=e.attributes.position.count,n=0;n<i;n+=1){var o=new Ue(t[3*n],t[3*n+1],t[3*n+2]);o.applyMatrix4(A.object.matrixWorld);var r=S.getScreenCoordFromSceneCoord(o);Math.sqrt((r[0]-a.x)*(r[0]-a.x)+(r[1]-a.y)*(r[1]-a.y))<15&&(T.Measurement.pointMove=o,T.SVGRect.changeMoveCircleStyle(r))}}),A.pickLine){T.Measurement.pickLineP1=A.pickLine[0],T.Measurement.pickLineP2=A.pickLine[1];var t=S.getScreenCoordFromSceneCoord(A.pickLine[0].clone()),i=S.getScreenCoordFromSceneCoord(A.pickLine[1].clone()),n=new Le(t[0],t[1]),o=new Le(i[0],i[1]);T.SVGRect.createMoveLine(n,o)}}},this.pickPoint=function(A){if(A.pickLine||A.pickPlane||A.pickPoint){T.Measurement.needUpdatedObjects.length<1||(T.SVGRect.deleteCircle(),T.SVGRect.deleteMoveLine(),T.SVGRect.deleteLineAndCircle(),T.Measurement.pointPick=[],T.Measurement.pointPickToScreen=[],T.Measurement.pointAssist=[],T.Measurement.pointAssistToScreen=[],T.Measurement.needUpdatedObjects=[],T.updatePos());new Ue,new Ue,new Ue,new Ue;var e=null,t=A.pickPoint,i=(new Le).fromArray(S.getScreenCoordFromSceneCoord(t));T.Measurement.pointPick.push(t),T.Measurement.pointPickToScreen.push(i);var n=T.Measurement.pointPickToScreen.length;if(T.SVGRect.creatPickCircle(i,n-1),n%2==0&&0<n){var o=new Ue(T.Measurement.pointPick[n-1].x,T.Measurement.pointPick[n-2].y,T.Measurement.pointPick[n-2].z),r=new Ue(T.Measurement.pointPick[n-1].x,T.Measurement.pointPick[n-2].y,T.Measurement.pointPick[n-1].z);T.Measurement.pointAssist.push(o),T.Measurement.pointAssist.push(r);var a=S.getScreenCoordFromSceneCoord(o),s=S.getScreenCoordFromSceneCoord(r),l=new Le(a[0],a[1]),c=new Le(s[0],s[1]);T.SVGRect.creatLine(T.Measurement.pointPickToScreen[n-2],l,"red","red"+(n-1)),T.SVGRect.creatLine(c,T.Measurement.pointPickToScreen[n-1],"green","green"+(n-1)),T.SVGRect.creatLine(l,c,"blue","blue"+(n-1)),T.SVGRect.creatLine(T.Measurement.pointPickToScreen[n-1],T.Measurement.pointPickToScreen[n-2],"yellow","yellow"+(n-1)),T.Measurement.needUpdatedObjects.push({point1:T.Measurement.pointPick[n-2],point2:T.Measurement.pointPick[n-1],asPot1:T.Measurement.pointAssist[n-2],asPot2:T.Measurement.pointAssist[n-1]});var d=Math.abs(T.Measurement.pointPick[n-1].x-T.Measurement.pointPick[n-2].x),h=Math.abs(T.Measurement.pointPick[n-1].y-T.Measurement.pointPick[n-2].y),u=Math.abs(T.Measurement.pointPick[n-1].z-T.Measurement.pointPick[n-2].z),p=T.Measurement.pointPick[n-1].distanceTo(T.Measurement.pointPick[n-2]);e={dx:d.toFixed(3),dy:h.toFixed(3),dz:u.toFixed(3),dis:p.toFixed(3)}}return e}},this.clear=function(){T.SVGRect.deleteCircle(),T.SVGRect.deleteMoveLine(),T.SVGRect.deleteLineAndCircle(),T.Measurement.pointPick=[],T.Measurement.pointPickToScreen=[],T.Measurement.pointAssist=[],T.Measurement.pointAssistToScreen=[],T.Measurement.needUpdatedObjects=[],T.cameraControl.removeEventListener(lh.ON_CAMERA_CHANGE,A),T.cameraControl.removeEventListener(lh.ON_CAMERA_CHANGE,e)},this.updatePos=function(){var A=T.Measurement.pointPick.length,e=T.Measurement.pointAssist.length,t=T.Measurement.needUpdatedObjects;if(e)for(var i=0;i<t.length;i+=1){var n=2*i,o=S.getScreenCoordFromSceneCoord(t[i].point1),r=S.getScreenCoordFromSceneCoord(t[i].point2),a=new Le(o[0],o[1]),s=new Le(r[0],r[1]);T.Measurement.pointPickToScreen[n]=a,T.Measurement.pointPickToScreen[n+1]=s;var l=S.getScreenCoordFromSceneCoord(t[i].asPot1),c=S.getScreenCoordFromSceneCoord(t[i].asPot2),d=new Le(l[0],l[1]),h=new Le(c[0],c[1]);T.Measurement.pointAssistToScreen[n]=d,T.Measurement.pointAssistToScreen[n+1]=h;var u=T.Measurement.pointPickToScreen[n].x,p=T.Measurement.pointPickToScreen[n].y,g=T.Measurement.pointPickToScreen[n+1].x,f=T.Measurement.pointPickToScreen[n+1].y,m=T.Measurement.pointAssistToScreen[n].x,v=T.Measurement.pointAssistToScreen[n].y,y=T.Measurement.pointAssistToScreen[n+1].x,C=T.Measurement.pointAssistToScreen[n+1].y,I=document.getElementById("circlePick"+S.getViewerImpl().uuid+n),x=document.getElementById("circlePick"+S.getViewerImpl().uuid+(n+1));I.setAttribute("cx",u),I.setAttribute("cy",p),x.setAttribute("cx",g),x.setAttribute("cy",f);var b=document.getElementById("pickline"+S.getViewerImpl().uuid+"red"+(n+1)),E=document.getElementById("pickline"+S.getViewerImpl().uuid+"green"+(n+1)),w=document.getElementById("pickline"+S.getViewerImpl().uuid+"blue"+(n+1)),M=document.getElementById("pickline"+S.getViewerImpl().uuid+"yellow"+(n+1));b.setAttribute("x1",u),b.setAttribute("y1",p),b.setAttribute("x2",m),b.setAttribute("y2",v),E.setAttribute("x1",y),E.setAttribute("y1",C),E.setAttribute("x2",g),E.setAttribute("y2",f),w.setAttribute("x1",m),w.setAttribute("y1",v),w.setAttribute("x2",y),w.setAttribute("y2",C),M.setAttribute("x1",u),M.setAttribute("y1",p),M.setAttribute("x2",g),M.setAttribute("y2",f)}if(A%2==1&&A!==e){var B=S.getScreenCoordFromSceneCoord(T.Measurement.pointPick[A-1]),_=new Le(B[0],B[1]);u=(T.Measurement.pointPickToScreen[A-1]=_).x,p=_.y;(I=document.getElementById("circlePick"+S.getViewerImpl().uuid+(A-1))).setAttribute("cx",u),I.setAttribute("cy",p)}},this.addEventListener=function(){T.cameraControl.addEventListener(lh.ON_CAMERA_CHANGE,A),T.cameraControl.addEventListener(lh.ON_CAMERA_CHANGE,e)}};Object.assign(kg.prototype,ou.prototype);var zg=function(A,e,t,i,n){var a=A.toolId,o=A.Flag,s=A.viewer;function l(A,e){e<A.length&&s.flyTo(A[e],function(){l(A,e+=1)})}n.querySelector("#collision"+a).addEventListener("click",function(A){"walk"===s.viewerImpl.controlManager.control.name&&(Ah.EnableHitDetection=!Ah.EnableHitDetection),s.viewerImpl.controlManager.setFocuse()}),n.querySelector("#gravity"+a).addEventListener("click",function(){"walk"===s.viewerImpl.controlManager.control.name&&(Ah.WalkingWithGravity=!Ah.WalkingWithGravity),s.viewerImpl.controlManager.setFocuse()});var c={},d=[],h=iu.window({title:"漫游路径",id:"pathRoam"+a,width:356,height:848,closeOnEsc:!1,closeButton:!0,afterWindowHide:function(){var A=document.getElementById("roam"+a);o.roam=!1,A&&(A.style.backgroundColor="",A.querySelector(".yj-icon").className="yj-icon roam-icon")},content:'<div class="path-roaming"><div class="first-floor"><button class="addPath" style="width:300px;">展示路径添加面板</button></div><div class="second-floor" style="display:none;border: none"><p style="font-size: 14px;ling-height:30px "><b>Tips</b>:一条路径由多个视角组成，调整场景后点击【保存视角】按钮保存当前视角，保存多个视角后点击【保存路径】按钮完成路径设置。</p><div class="viewList"><table><thead><tr><td>名称</td><td colspan=\'3\'><input  class="name" type="text"/></td></tr></thead><tbody></tbody></table></div><div class="saveBtns"><button class="savePath" >保存路径</button><button class="saveView">保存视角</button></div></div><div class="third-floor"><span style="font-size: 14px;ling-height:28px ">路径列表:</span><div><table class="pathList" style=\'word-wrap: break-word; word-break: break-all;table-layout: fixed;\'><tbody></tbody></table></div></div></div>'});h.$el.addClass("pathRoam");var r=null;t.addEventListener("click",function(){if(o.roam)return r&&r.destroy(),document.getElementById("instructions"+a)&&s.viewerImpl.domElement.removeChild(document.getElementById("instructions"+a)),n.style.display="none",this.style.backgroundColor="",this.querySelector(".yj-icon").className="yj-icon roam-icon",o.roam=!1,s.viewerImpl.controlManager.setControlMode(s.viewerImpl,"pick"),void(h&&h.windowHide&&h.windowHide());o.measurement&&(document.getElementById("measurement"+a).style.backgroundColor="",document.getElementById("measurement"+a).querySelector(".yj-icon").className="yj-icon measurement-icon",nu("info","漫游模式下将关闭测量功能",2e3),e.exitMeasure&&e.exitMeasure()),o.sectioning&&(document.getElementById("sectioning"+a).style.backgroundColor="",document.getElementById("sectioning"+a).querySelector(".yj-icon").className="yj-icon sectioning-icon",nu("info","漫游模式下将关闭剖切功能",2e3),s.viewerImpl.controlManager.disableTool(vh.CLIP_BY_BOX),o.sectioning=!1),o.multiple&&(document.getElementById("multiple"+a).style.backgroundColor="",document.getElementById("multiple"+a).querySelector(".yj-icon").className="yj-icon multiple-icon",nu("info","漫游模式下将关闭框选功能",2e3),s.viewerImpl.controlManager.disableTool(vh.PICK_BY_RECT),o.multiple=!1),s.render(),this.style.backgroundColor="#1f89de",this.querySelector(".yj-icon").className="yj-icon roam-icon active",o.roam=!o.roam,r=iu.prompt({title:"漫游",id:"roamChoose"+a,width:356,height:87,closeOnEsc:!1,closeButton:!1,afterWindowHide:function(){var A=document.getElementById("roam"+a);o.roam=!1,A&&(A.style.backgroundColor=""),r.destroy(),r=null},buttons:{ok:{class:"lobibox-btn lobibox-btn-default",text:"自由漫游",closeOnClick:!0},cancel:{class:"lobibox-btn lobibox-btn-cancel",text:"路径漫游",closeOnClick:!0}}});var A=document.getElementById("roamChoose"+a);A.querySelector(".lobibox-body").style.display="none",A.querySelector(".lobibox-btn-default").addEventListener("click",function(){r.destroy(),r=null;var A=document.createElement("div");A.id="instructions"+a,A.style.cssText+="position:absolute;left:0;top:0;width:100%;height:100%;background:rgba(80,80,80,0.3);margin:0;padding:0;",A.innerHTML='<div class="roam"><div style="font-size:40px; width:100%;text-align: center">点击进入沉浸式浏览</div><div class="first-floor"><span>移动方向</span><div><img src='+Mu.sxzy+"  /><img src="+Mu.wasd+' /></div></div><div class="second-floor"><div class="height"><span>高度</span><div><img  class="left" src='+Mu.Q+' /><img  class="right" src='+Mu.E+' /></div></div><div class="direct"><span>视角</span><div><img  class="center" src='+Mu.mouseLeft+' /></div></div><div class="speed"><span>速度</span><div><img  class="left" src='+Mu.add+' /><img class="right" src='+Mu.plus+" /></div></div></div></div>",s.viewerImpl.domElement.appendChild(A),A.onclick=function(){s.viewerImpl.domElement.removeChild(A),s.viewerImpl.domElement.querySelector(".main-canvas").focus(),s.viewerImpl.controlManager.setControlMode(s.viewerImpl,"walk"),n.style.display="block"}}),A.querySelector(".lobibox-btn-cancel").addEventListener("click",function(){r.destroy(),r=null,h.windowShow()})}),h.$el.querySelector(".path-roaming .first-floor .addPath").addEventListener("click",function(){var A=h.$el.querySelector(".path-roaming .second-floor");this.innerHTML="none"===A.style.display?(A.style.display="block","隐藏添加路径面板"):(A.style.display="none","展示添加路径面板")}),h.$el.querySelector(".path-roaming .second-floor .savePath").addEventListener("click",function(){if(1>d.length)nu("warning","没有可保存路径",5e3);else{var A=h.$el.querySelector(".path-roaming .second-floor .name").value;A=A.trim()||jh.trim(A);var e=Fe.generateUUID();c[e]={},""===A&&(A="路径"),c[e].name=A,c[e].camera=d,h.$el.querySelector(".path-roaming .pathList tbody").innerHTML+="<tr data-key="+e+'><td class="name">'+A+'</td><td><button class="deletePath" data-index>删除</button></td><td><button class="roamPath">漫游</button></td></tr>',d=[],h.$el.querySelector(".path-roaming .second-floor .viewList .name").value="",h.$el.querySelector(".path-roaming .second-floor .viewList table tbody").innerHTML=""}}),h.$el.querySelector(".path-roaming .second-floor .saveView").addEventListener("click",function(){var A={};A.position=s.viewerImpl.camera.position.clone(),A.target=s.viewerImpl.camera.target.clone(),A.up={x:0,y:0,z:1},d.push(A);var e=d.length;h.$el.querySelector(".path-roaming .second-floor .viewList table tbody").innerHTML+="<tr data-index="+(e-1)+'><td class="name">视角'+e+'</td><td><button class="deleteView">删除</button></td><td><button class="updateView">修改</button></td><td><button class="checkView">查看</button></td></tr>'});var u=iu.confirm({title:"请再次确认:",id:"confirm-path"+a,width:356,height:87,closeOnEsc:!1,closeButton:!1,iconClass:!1,msg:"是否要删除此视角？"});return u.setPosition({left:(iu.viewport.offsetWidth-u.$options.width)/2,top:5}),u.confirmHide(),h.$el.addEventListener("click",function(A){if("deleteView"===A.target.className){var t=(o=jh.closest(A.target,"tr")).dataset.index;u.confirmShow(),document.querySelector("#confirm-path"+a+" .lobibox-body-text").innerHTML="是否要删除编号为["+(Number(t)+1)+"]的视角？",document.querySelector("#confirm-path"+a+" .lobibox-btn-yes").onclick=function(){d.splice(t,1),h.$el.querySelector(".path-roaming .second-floor .viewList tbody").removeChild(o);for(var A=h.$el.querySelectorAll(".path-roaming .second-floor .viewList tbody tr"),e=0;e<A.length;e+=1)A[e].dataset.index=e,A[e].querySelector(".name").innerHTML="视角"+(e+1);u.confirmHide()},document.querySelector("#confirm-path"+a+" .lobibox-btn-no").onclick=function(){u.confirmHide()}}else if("updateView"===A.target.className){var e=jh.closest(A.target,"tr").dataset.index;u.confirmShow(),document.querySelector("#confirm-path"+a+" .lobibox-body-text").innerHTML="是否要修改编号为["+(Number(e)+1)+"]的视角为当前视角？",document.querySelector("#confirm-path"+a+" .lobibox-btn-yes").onclick=function(){var A={};A.position=s.viewerImpl.camera.position.clone(),A.target=s.viewerImpl.camera.target.clone(),A.up={x:0,y:0,z:1},d[e]=A,u.confirmHide()},document.querySelector("#confirm-path"+a+" .lobibox-btn-no").onclick=function(){u.confirmHide()}}else if("checkView"===A.target.className){var i=jh.closest(A.target,"tr").dataset.index;s.flyTo(d[i])}else if("roamPath"===A.target.className){var n=jh.closest(A.target,"tr").dataset.key;l(c[n].camera,0)}else if("deletePath"===A.target.className){var o,r=(o=jh.closest(A.target,"tr")).dataset.key;u.confirmShow(),document.querySelector("#confirm-path"+a+" .lobibox-body-text").innerHTML="是否要删除名称为["+c[r].name+"]的路径？",document.querySelector("#confirm-path"+a+" .lobibox-btn-yes").onclick=function(){h.$el.querySelector(".path-roaming .pathList tbody").removeChild(o),delete c[r],u.confirmHide()},document.querySelector("#confirm-path"+a+" .lobibox-btn-no").onclick=function(){u.confirmHide()}}}),h},Vg=function(A,r,e){var I=this;this.lobibox=new tu,A?(this.element=document.getElementById(A),this.lobibox.viewport=document.querySelector("#"+A)):this.element=document,this.change=!1;var t=function(){this.storage=null};t.prototype={init:function(){var A;this.storage=(A=!1,"object"===Bh(window.localStorage)?A=localStorage:"object"===Bh(window.globalStorage)&&(A=window.globalStorage),A)},getStorage:function(){return this.storage},save:function(A,e){var t=this.storage,i=!1;return!1!==t&&(i=t.setItem(A,e)),i},load:function(A){var e=this.storage,t=!1;return!1!==e&&(t=e.getItem(A)),t}},I.model=I.model||{},I.model.StorageModel=t;(s=function(){this.name="Mouse",this.option={},this.mouseShape=null,this.init=function(A,e){this.setOption({lineWidth:1,strokeStyle:A.strokeStyle,radius:Math.ceil(A.lineWidth/2),opacity:100}),this.setPoints(e),this.setMouseShape(new I.model.shapeModel.CircleStroke),this.initMouseShape(),this.setImage()},this.paint=function(A){this.getMouseShape().paint(A)}}).prototype={getName:function(){return this.name},setOption:function(A){return"object"===Bh(A)?(kh.extend(!0,this.option,A),this.getOption()):null},getOption:function(){return kh.extend(!0,{},this.option)},getMouseShape:function(){return this.mouseShape},setMouseShape:function(A){return this.mouseShape=A},setPoints:function(A){this.setOption(A)},initMouseShape:function(){this.getMouseShape().init(this.getOption())},setImage:function(){var t=this.getName();return[].map.call(document.querySelectorAll("#canvas-mouse"),function(A,e){A.setAttribute("data-mouse",t)}),!0}},(i=function(){this.name="Cross",this.init=function(A,e){var t=this.getName();this.setOption({length:10,lineHeight:1,opacity:100,strokeStyle:A.strokeStyle,lineJoin:A.lineJoin,lineCap:A.lineCap,shadowOffsetX:A.shadowOffsetX,shadowOffsetY:A.shadowOffsetY,shadowBlur:A.shadowBlur,shadowColor:A.shadowColor}),this.setPoints(e),this.setMouseShape(new I.model.shapeModel[t]),this.initMouseShape(),this.setImage()},this.paint=function(A){this.getMouseShape().paint(A)}}).prototype=new s,(l=function(){this.name="Pen"}).prototype=new s,(n=function(){this.name="Eraser",this.init=function(A,e){this.setOption({strokeStyle:"#000",opacity:A.opacity,radius:Math.ceil(A.lineWidth/2,10),lineJoin:A.lineJoin,lineCap:A.lineCap,shadowOffsetX:A.shadowOffsetX,shadowOffsetY:A.shadowOffsetY,shadowBlur:A.shadowBlur,shadowColor:A.shadowColor}),this.setPoints(e),this.setMouseShape(new I.model.shapeModel.CircleStroke),this.initMouseShape(),this.setImage()},this.paint=function(A){this.getMouseShape().paint(A)}}).prototype=new s,(c=function(){this.name="Text",this.init=function(A,e){this.setImage()},this.paint=function(A){}}).prototype=new s,(a=function(){this.name="FloodFill",this.init=function(A,e){this.setOption({strokeStyle:"#000",opacity:90,radius:Math.ceil(A.lineWidth/2,10)}),this.setPoints(e),this.setMouseShape(new I.model.shapeModel.CircleStroke),this.initMouseShape(),this.setImage()},this.paint=function(A){this.getMouseShape().paint(A)}}).prototype=new s,(o=function(){this.name="EyeDropper",this.init=function(A,e){this.setOption({strokeStyle:"#000",opacity:90,radius:Math.ceil(A.lineWidth/2,10)}),this.setPoints(e),this.setMouseShape(new I.model.shapeModel.CircleStroke),this.initMouseShape(),this.setImage()},this.paint=function(A){this.getMouseShape().paint(A)}}).prototype=new s,I.model=I.model||{},I.model.mouseModel=I.model.mouseModel||{},I.model.mouseModel.Mouse=s,I.model.mouseModel.Cross=i,I.model.mouseModel.Pen=l,I.model.mouseModel.Eraser=n,I.model.mouseModel.Text=c,I.model.mouseModel.FloodFill=a,I.model.mouseModel.EyeDropper=o;var i,n,o,a,s,l,c,d={list:[],add:function(A){return this.list.push({x:Math.round(A.x),y:Math.round(A.y)}),this.list},getStart:function(){return this.list[0]},getEnd:function(){return this.list[this.list.length-1]},getList:function(){return this.list},init:function(){return this.list=[],this.list}};I.model=I.model||{},I.model.PointList=d;var h,u,p,g,f,m,v,y,C,x,b,E,w,M,B,_,S,T,K;(function(){var A,e,t,i,n,o,r,a,s,l,c,d,h,u,p,g,f,m,v,y;function C(A,e,t,i,n){var o=i/.75/2,r=n/2;return A.beginPath(),A.moveTo(e,t-r),A.bezierCurveTo(e+o,t-r,e+o,t+r,e,t+r),A.bezierCurveTo(e-o,t+r,e-o,t-r,e,t-r),A.closePath(),A}(f=function(){this.name="Shape",this.option={}}).prototype={init:function(A){this.initOption(A)},getName:function(){return this.name},initOption:function(A){this.option={},this.setOption(A)},setOption:function(A){return kh.extend(!0,this.option,A),this.option},getOption:function(){return this.option},repaint:function(A){this.paint(A)},setAttributes:function(A){}},(l=function(){this.name="FillStroke",this.setAttributes=function(A){var e=this.getOption();A.strokeStyle=e.strokeStyle,A.fillStyle=e.fillStyle,A.lineWidth=e.lineWidth,A.globalAlpha=e.opacity/100,A.lineJoin=e.lineJoin,A.lineCap=e.lineCap,A.shadowOffsetX=e.shadowOffsetX,A.shadowOffsetY=e.shadowOffsetY,A.shadowBlur=e.shadowBlur,A.shadowColor=e.shadowColor}}).prototype=new f,(h=function(){this.name="Line",this.paint=function(A){var e=this.getOption();A.save(),this.setAttributes(A),A.beginPath(),A.moveTo(e.startX,e.startY),A.lineTo(e.endX,e.endY),A.closePath(),A.stroke(),A.restore()}}).prototype=new l,(i=function(){this.name="CurveClosed",this.paint=function(A){var e=this.getOption().list,t=e[0],i=e.length,n=0;for(A.save(),this.setAttributes(A),A.beginPath(),A.moveTo(t.x,t.y);n<i;n+=1)A.lineTo(e[n].x,e[n].y);A.closePath(),A.fill(),A.stroke(),A.restore()}}).prototype=new l,(p=function(){this.name="Rect",this.paint=function(A){var e=this.getOption();A.save(),this.setAttributes(A),A.fillRect(e.left,e.top,e.width,e.height),A.strokeRect(e.left,e.top,e.width,e.height),A.restore()}}).prototype=new l,(A=function(){this.name="Circle",this.paint=function(A){var e=this.getOption();A.save(),this.setAttributes(A),A.beginPath(),A.arc(e.x,e.y,e.radius,0,2*Math.PI,!0),A.closePath(),A.fill(),A.stroke(),A.restore()}}).prototype=new l,(o=function(){this.name="Ellipes",this.paint=function(A){var e=this.getOption(),t=e.x,i=e.y,n=e.width,o=e.height;A.save(),this.setAttributes(A),C(A,t,i,n,o),A.fill(),A.stroke(),A.restore()}}).prototype=new l,(m=function(){this.name="Stroke",this.setAttributes=function(A){var e=this.getOption();A.strokeStyle=e.strokeStyle,A.lineWidth=e.lineWidth,A.globalAlpha=e.opacity/100,A.lineJoin=e.lineJoin,A.lineCap=e.lineCap,A.shadowOffsetX=e.shadowOffsetX,A.shadowOffsetY=e.shadowOffsetY,A.shadowBlur=e.shadowBlur,A.shadowColor=e.shadowColor}}).prototype=new f,(u=function(){this.name="Pen",this.paint=function(A){var e=this.getOption().list,t=e[0],i=e.length,n=0;for(A.save(),this.setAttributes(A),A.beginPath(),A.moveTo(t.x,t.y);n<i;n+=1)A.lineTo(e[n].x,e[n].y);A.stroke(),A.restore()}}).prototype=new m,(n=function(){this.name="CurveClosedStroke",this.paint=function(A){var e=this.getOption().list,t=e[0],i=e.length,n=0;for(A.save(),this.setAttributes(A),A.beginPath(),A.moveTo(t.x,t.y);n<i;n+=1)A.lineTo(e[n].x,e[n].y);A.closePath(),A.stroke(),A.restore()}}).prototype=new m,(g=function(){this.name="RectStroke",this.paint=function(A){var e=this.getOption();A.save(),this.setAttributes(A),A.strokeRect(e.left,e.top,e.width,e.height),A.restore()}}).prototype=new m,(e=function(){this.name="CircleStroke",this.paint=function(A){var e=this.getOption();A.save(),this.setAttributes(A),A.beginPath(),A.arc(e.x,e.y,e.radius,0,2*Math.PI,!0),A.closePath(),A.stroke(),A.restore()}}).prototype=new m,(r=function(){this.name="EllipesStroke",this.paint=function(A){var e=this.getOption(),t=e.x,i=e.y,n=e.width,o=e.height;A.save(),this.setAttributes(A),C(A,t,i,n,o),A.stroke(),A.restore()}}).prototype=new m,(a=function(){this.name="Eraser",this.paint=function(A){var e=this.getOption(),t=e.list,i=t[0],n=t.length,o=0;for(A.save(),A.strokeStyle=e.color,A.lineWidth=e.lineWidth,A.shadowOffsetX=e.shadowOffsetX,A.shadowOffsetY=e.shadowOffsetY,A.shadowBlur=e.shadowBlur,A.shadowColor=e.shadowColor,A.lineJoin=e.lineJoin,A.lineCap=e.lineCap,A.globalAlpha=e.opacity/100,A.beginPath(),A.moveTo(i.x,i.y);o<n;o+=1)A.lineTo(t[o].x,t[o].y);A.stroke(),A.restore()}}).prototype=new f,(c=function(){this.name="FloodFill",this.paint=function(A){var e=this.getOption(),l=e.allowance,c=e.fillStyle?e.fillStyle:"rgba(0,0,0,1)",t=c.indexOf("(")+1,i=c.slice(t,-1).split(","),n={r:parseInt(i[0],10),g:parseInt(i[1],10),b:parseInt(i[2],10),a:Math.ceil(255*(i[3]||1))},d=e.x,h=e.y,u=e.width,p=e.height,o=A.getImageData(0,0,u,p),g=o.data,r=4*(u*h+d),f={r:g[r],g:g[r+1],b:g[r+2],a:g[r+3]/255},m=[{x:d,y:h}];try{!function(A,e){var t=null,i=null,n=null,o=null,r=null,a=null,s={};for(Gh.time("floodFill");0!==m.length;)a=m.pop(),s[t=4*(u*a.y+a.x)]=!0,n=g[t+1],o=g[t+2],r=g[t+3]/255,((i=g[t])!==e.r||n!==e.g||o!==e.b||255*r!==e.a)&&Math.abs(i-f.r)<l&&Math.abs(n-f.g)<l&&Math.abs(o-f.b)<l&&Math.abs(r-f.a)<l/256&&(g[t]=e.r,g[t+1]=e.g,g[t+2]=e.b,g[t+3]=e.a,!s[t-4]&&0<d&&m.push({x:a.x-1,y:a.y}),!s[t+4]&&d<u&&m.push({x:a.x+1,y:a.y}),!s[t-4*u]&&0<h&&m.push({x:a.x,y:a.y-1}),!s[t+4*u]&&h<p&&m.push({x:a.x,y:a.y+1}));Gh.timeEnd("floodFill"),c=r=o=n=i=t=a=null}(0,n)}catch(A){window.console.log(A.message)}g=null,A.save(),A.putImageData(o,0,0),A.restore()}}).prototype=new f,(s=function(){this.name="EyeDropper",this.paint=function(A){var e=this.getOption(),t=document.querySelector("#tool-wrap .tool .color"),i=A.getImageData(e.x,e.y,1,1).data,n="rgba(".concat(i[0],",",i[1],",",i[2],",",i[3]/255,")");t.value=n,jh.css(document.querySelector("#tool-wrap #colorOperatorDiv"),{"background-color":n})},this.repaint=function(){}}).prototype=new f,(t=function(){this.name="Cross",this.paint=function(A){var e=this.getOption(),t=e.x,i=e.y,n=e.length,o=t-n,r=i,a=t+n,s=i,l=t,c=i-n,d=t,h=i+n;A.save(),A.strokeStyle=e.strokeStyle,A.lineWidth=e.lineWidth,A.shadowOffsetX=e.shadowOffsetX,A.shadowOffsetY=e.shadowOffsetY,A.shadowBlur=e.shadowBlur,A.shadowColor=e.shadowColor,A.lineJoin=e.lineJoin,A.lineCap=e.lineCap,A.globalAlpha=e.opacity/100,A.beginPath(),A.moveTo(o,r),A.lineTo(a,s),A.moveTo(l,c),A.lineTo(d,h),A.closePath(),A.stroke(),A.restore()}}).prototype=new f,(v=function(){this.name="Text",this.setAttributes=function(A){var e=this.getOption();A.shadowOffsetX=e.shadowOffsetX,A.shadowOffsetY=e.shadowOffsetY,A.shadowBlur=e.shadowBlur,A.shadowColor=e.shadowColor,A.strokeStyle=e.strokeStyle,A.fillStyle=e.fillStyle,A.globalAlpha=e.opacity/100,A.font=e.italic+" "+e.bold+" "+e.size+"px "+e.family,A.lineWidth=e.border,A.textAlign=e.textAlign},this.paint=function(A){var e=this.getOption(),t=e.x,i=e.y,n=e.text;A.save(),this.setAttributes(A),"string"==typeof n&&(n=n.match(/[\n\r]/)?n.split(/\r\n|\r|\n/g):[n]);for(var o=0;o<n.length;o+=1)A.fillText(n[o],t,i+e.size*o),A.strokeText(n[o],t,i+e.size*o);A.restore()}}).prototype=new f,(y=function(){this.name="TextStroke",this.paint=function(A){var e=this.getOption(),t=e.x,i=e.y,n=e.text;A.save(),this.setAttributes(A),A.strokeText(n,t,i),A.restore()}}).prototype=new v,(d=function(){this.name="ImageShape",this.paint=function(A){var e=this.getOption(),t=e.x,i=e.y,n=e.src,o=e.width,r=e.height,a=new Image,s=this;a.src=n,a.onload=function(){A.save(),s.setAttributes(A),A.drawImage(a,t,i,o,r),A.restore()}}}).prototype=new f,(I=I||{}).model=I.model||{},I.model.shapeModel=I.model.shapeModel||{},I.model.shapeModel.Line=h,I.model.shapeModel.CurveClosed=i,I.model.shapeModel.Rect=p,I.model.shapeModel.Circle=A,I.model.shapeModel.Pen=u,I.model.shapeModel.CurveClosedStroke=n,I.model.shapeModel.RectStroke=g,I.model.shapeModel.CircleStroke=e,I.model.shapeModel.Eraser=a,I.model.shapeModel.FloodFill=c,I.model.shapeModel.EyeDropper=s,I.model.shapeModel.Cross=t,I.model.shapeModel.Ellipes=o,I.model.shapeModel.EllipesStroke=r,I.model.shapeModel.Text=v,I.model.shapeModel.TextStroke=y,I.model.shapeModel.ImageShape=d})(),(K=function(A){this.name="Tool",this.className="shape",this.mouse="Mouse",this.option={strokeStyle:"#000",fillStyle:"#000",lineWidth:1},void 0!==A&&kh.extend(!0,this.option,A)}).prototype={getClassName:function(){return this.className},getName:function(){return this.name},setOption:function(A){return"object"===Bh(A)?(kh.extend(!0,this.option,A),this.getOption()):null},getOption:function(){return kh.extend(!0,{},this.option)},getMouse:function(){return this.mouse}},(B=function(){this.name="Shape",this.mouse="Cross",this.initAttributes=function(){for(var A=document.querySelector("#tool-shape-attribute-panel"),e=A.querySelector(".width").value,t=A.querySelector(".opacity").value,i=document.querySelector("#tool-wrap .tool .color").value,n=A.querySelector(".shadow-offsetx").value,o=A.querySelector(".shadow-offsety").value,r=A.querySelector(".shadow-blur").value,a=A.querySelector(".shadow-color").value,s=A.getElementsByTagName("radio"),l=void 0,c=void 0,d=0;d<s.length;d+=1)"line-join"===s[d].name&&(l=s[d].value),"line-cap"===s[d].name&&(c=s[d].value);return this.setOption({lineWidth:e,opacity:t,strokeStyle:i,fillStyle:i,lineJoin:l,lineCap:c,shadowOffsetX:n,shadowOffsetY:o,shadowBlur:r,shadowColor:a})}}).prototype=new K,(b=function(){this.name="Line",this.init=function(){this.initAttributes()},this.setPoint=function(A){var e=A.getStart(),t=A.getEnd();return this.setOption({startX:e.x,startY:e.y,endX:t.x,endY:t.y})}}).prototype=new B,(g=function(){this.name="CurveClosed",this.init=function(){this.initAttributes()},this.setPoint=function(A){var e=A.getList();return this.option.list=[],this.setOption({list:e})}}).prototype=new B,(w=function(){this.name="Rect",this.init=function(){this.initAttributes()},this.setPoint=function(A){var e=A.getStart(),t=A.getEnd(),i=e.x,n=e.y;return this.setOption({left:i,top:n,width:t.x-i,height:t.y-n})}}).prototype=new B,(h=function(){this.name="Circle",this.init=function(){this.initAttributes()},this.setPoint=function(A){var e=A.getStart(),t=A.getEnd(),i=(e.x+t.x)/2,n=(e.y+t.y)/2,o=Math.abs(Math.sqrt(Math.pow(e.x,2)+Math.pow(e.y,2))-Math.sqrt(Math.pow(t.x,2)+Math.pow(t.y,2)))/2;return this.setOption({x:i,y:n,radius:o})}}).prototype=new B,(m=function(){this.name="Ellipes",this.init=function(){this.initAttributes()},this.setPoint=function(A){var e=A.getStart(),t=A.getEnd(),i=(e.x+t.x)/2,n=(e.y+t.y)/2,o=Math.abs(e.x-t.x),r=Math.abs(e.y-t.y);return this.setOption({x:i,y:n,width:o,height:r})}}).prototype=new B,(_=function(){this.name="Stroke",this.mouse="Cross",this.initAttributes=function(){for(var A=document.querySelector("#tool-stroke-attribute-panel"),e=A.querySelector(".width").value,t=A.querySelector(".opacity").value,i=document.querySelector("#tool-wrap .tool .color").value,n=A.querySelector(".shadow-offsetx").value,o=A.querySelector(".shadow-offsety").value,r=A.querySelector(".shadow-blur").value,a=A.querySelector(".shadow-color").value,s=A.getElementsByTagName("radio"),l=void 0,c=void 0,d=0;d<s.length;d+=1)"line-join"===s[d].name&&(l=s[d].value),"line-cap"===s[d].name&&(c=s[d].value);return this.setOption({lineWidth:e,opacity:t,strokeStyle:i,lineJoin:l,lineCap:c,shadowOffsetX:n,shadowOffsetY:o,shadowBlur:r,shadowColor:a})}}).prototype=new K,(E=function(){this.name="Pen",this.mouse="Pen",this.init=function(){this.initAttributes()},this.setPoint=function(A){var e=A.getList();return this.option.list=[],this.setOption({list:e})}}).prototype=new _,(f=function(){this.name="CurveClosedStroke",this.mouse="Cross"}).prototype=new E,(M=function(){this.name="RectStroke",this.init=function(){this.initAttributes()},this.setPoint=function(A){var e=A.getStart(),t=A.getEnd(),i=e.x,n=e.y;return this.setOption({left:i,top:n,width:t.x-i,height:t.y-n})}}).prototype=new _,(u=function(){this.name="CircleStroke",this.init=function(){this.initAttributes()},this.setPoint=function(A){var e=A.getStart(),t=A.getEnd(),i=(e.x+t.x)/2,n=(e.y+t.y)/2,o=Math.abs(Math.sqrt(Math.pow(e.x,2)+Math.pow(e.y,2))-Math.sqrt(Math.pow(t.x,2)+Math.pow(t.y,2)))/2;return this.setOption({x:i,y:n,radius:o})}}).prototype=new _,(v=function(){this.name="EllipesStroke",this.init=function(){this.initAttributes()},this.setPoint=function(A){var e=A.getStart(),t=A.getEnd(),i=(e.x+t.x)/2,n=(e.y+t.y)/2,o=Math.abs(e.x-t.x),r=Math.abs(e.y-t.y);return this.setOption({x:i,y:n,width:o,height:r})}}).prototype=new _,(y=function(){this.name="Eraser",this.mouse="Eraser",this.init=function(){for(var A=document.querySelector("#tool-eraser-attribute-panel"),e=A.querySelector(".size")?A.querySelector(".size").value:void 0,t=A.querySelector(".opacity")?A.querySelector(".opacity").value:void 0,i=A.querySelector(".shadow-offsetx")?A.querySelector(".shadow-offsetx").value:void 0,n=A.querySelector(".shadow-offsety")?A.querySelector(".shadow-offsety").value:void 0,o=A.querySelector(".shadow-blur")?A.querySelector(".shadow-blur").value:void 0,r=A.querySelector(".shadow-color")?A.querySelector(".shadow-color").value:void 0,a=A.getElementsByTagName("radio"),s=void 0,l=void 0,c=0;c<a.length;c+=1)"line-join"===a[c].name&&(s=a[c].value),"line-cap"===a[c].name&&(l=a[c].value);return this.setOption({opacity:t,lineWidth:e,color:"#fff",shadowOffsetX:i,shadowOffsetY:n,shadowBlur:o,shadowColor:r,lineJoin:s,lineCap:l})},this.setPoint=function(A){var e=A.getList();return this.option.list=[],this.setOption({list:e})}}).prototype=new K,(x=function(){this.name="FloodFill",this.mouse="FloodFill",this.init=function(){var A=document.querySelector("#tool-flood-fill-attribute-panel"),e=document.querySelector("#tool-wrap .tool .color").value,t=parseInt(A.querySelector(".allowance").value,10),i=I.canvas.currentCanvasContainer.getCanvas(),n=i.getWidth(),o=i.getHeight();return this.setOption({fillStyle:e,width:n,height:o,allowance:t})},this.setPoint=function(A){var e=A.getEnd();return this.setOption({x:e.x,y:e.y})}}).prototype=new K,(C=function(){this.name="EyeDropper",this.mouse="EyeDropper",this.init=function(){return this.setOption({})},this.setPoint=function(A){var e=A.getEnd();return this.setOption({x:e.x,y:e.y})}}).prototype=new K,(p=function(){this.name="Cross",this.init=function(){return this.setOption({lineWidth:1,strokeStyle:"#000000",length:10})},this.setPoint=function(A){var e=A.getEnd();return this.setOption({x:e.x,y:e.y})}}).prototype=new K,(S=function(){this.name="Text",this.mouse="Text",this.init=function(){this.initAttributes()},this.initAttributes=function(){var A=document.querySelector("#tool-text-attribute-panel"),e=A.querySelector(".opacity").value,t=A.querySelector(".text").value,i=A.querySelector(".size").value,n=A.querySelector(".border").value,o=A.querySelector(".font").value,r=document.querySelector("#tool-wrap .tool .color").value,a=A.querySelector(".shadow-offsetx").value,s=A.querySelector(".shadow-offsety").value,l=A.querySelector(".shadow-blur").value,c=A.querySelector(".shadow-color").value,d="checked"===A.querySelector(".bold").getAttribute("checked")?"bold":"",h="checked"===A.querySelector(".italic").getAttribute("checked")?"italic":"";return this.setOption({strokeStyle:r,opacity:e,fillStyle:r,text:t,size:i,border:n,family:o,bold:d,italic:h,shadowOffsetX:a,shadowOffsetY:s,shadowBlur:l,shadowColor:c})},this.setPoint=function(A){var e=A.getStart(),t=A.getEnd(),i=e.x;return this.setOption({x:i,y:e.y,textAlign:t.x<i?"right":"left"})}}).prototype=new K,(T=function(){this.name="TextStroke"}).prototype=new S,(I=I||{}).model=I.model||{},I.model.toolModel=I.model.toolModel||{},I.model.toolModel.Line=b,I.model.toolModel.CurveClosed=g,I.model.toolModel.Rect=w,I.model.toolModel.Circle=h,I.model.toolModel.Pen=E,I.model.toolModel.CurveClosedStroke=f,I.model.toolModel.RectStroke=M,I.model.toolModel.CircleStroke=u,I.model.toolModel.Eraser=y,I.model.toolModel.FloodFill=x,I.model.toolModel.EyeDropper=C,I.model.toolModel.Cross=p,I.model.toolModel.Ellipes=m,I.model.toolModel.EllipesStroke=v,I.model.toolModel.Text=S,I.model.toolModel.TextStroke=T;this.init=function(){I.initImgDiv(),I.initCanvas(),I.initTitleDiv(),I.initTool(),I.initTopTool(),I.Index.init(),I.Nav.init(),I.Tool.init(),I.Canvas.init()},this.initTool=function(){jh.append(I.element,'<div id="tool-wrap" class="tool-wrap" style="\nwidth: 300px;\n    position: absolute;\n    height: 100px;\n    left: 50%;\n    transform: translateX(-50%);\n    bottom: -10px;">\n        <div class="tool-panel" style="    display: flex;">\n            <div class="" style="height: 42px"></div>\n            <div class="shape wrap yj-group">\n                <button class="line yj-but" title="直线" data-tool="shape" data-tool-class="Line"></button>\n                <button class="curve-closed yj-but" title="闭合曲线" data-tool="shape"\n                        data-tool-class="CurveClosed"></button>\n                <button class="rect yj-but" title="矩形" data-tool="shape" data-tool-class="Rect"></button>\n                <button class="circle yj-but" title="圆" data-tool="shape" data-tool-class="Circle"></button>\n                <button class="ellipes yj-but" title="椭圆" data-tool="shape" data-tool-class="Ellipes"></button>\n                <button class="arrow yj-but" title="箭头(未实现)" data-tool="shape" data-tool-class="Arrow"></button>\n                <div id="tool-shape-attribute-panel" class="tool-attribute-panel" title="形状属性面板">\n                    <form>\n                        <fieldset>\n                            <legend>属性</legend>\n                            <label>尺寸：<input class="width" type="range" min="1" max="100" value="1"\n                                             data-attr="lineWidth"/><span>1</span></label>\n                            <label>不透明度：<input class="opacity" type="range" max="100" value="100"\n                                               data-attr="opacity"/><span>100</span></label>\n                        </fieldset>\n                        <fieldset>\n                            <legend>阴影</legend>\n                            <label>阴影水平偏移量：<input class="shadow-offsetx" type="range" min="-10" max="10" value="0"\n                                                  data-attr="shadowOffsetX"/><span>0</span></label>\n                            <label>阴影竖直偏移量：<input class="shadow-offsety" type="range" min="-10" max="10" value="0"\n                                                  data-attr="shadowOffsetY"/><span>0</span></label>\n                            <label>阴影模糊：<input class="shadow-blur" type="range" min="0" max="10" value="0"\n                                               data-attr="shadowBlur"/><span>0</span></label>\n                            <label>阴影颜色：<input class="shadow-color" type="color" data-attr="shadowColor"/></label>\n                        </fieldset>\n                    </form>\n                </div>\n            </div>\n            <div class="stroke wrap yj-group">\n                <button class="pen yj-but" title="铅笔" data-tool="stroke" data-tool-class="Pen"></button>\n                <button class="curve-closed-stroke yj-but" title="闭合曲线" data-tool="stroke"\n                        data-tool-class="CurveClosedStroke"></button>\n                <button class="rect-stroke yj-but" title="矩形" data-tool="stroke" data-tool-class="RectStroke"></button>\n                <button class="circle-stroke yj-but" title="圆形" data-tool="stroke"\n                        data-tool-class="CircleStroke"></button>\n                <button class="ellipes-stroke yj-but" title="椭圆" data-tool="stroke"\n                        data-tool-class="EllipesStroke"></button>\n                <button class="arrow-stroke yj-but" title="箭头(未实现)" data-tool="stroke"\n                        data-tool-class="ArrowStroke"></button>\n                <div id="tool-stroke-attribute-panel" class="tool-attribute-panel" title="轮廓属性面板">\n                    <form>\n                        <fieldset>\n                            <legend>属性</legend>\n                            <label>尺寸：<input class="width" type="range" min="1" max="100" value="1"\n                                             data-attr="lineWidth"/><span>1</span></label>\n                            <label>不透明度：<input class="opacity" type="range" max="100" value="100"\n                                               data-attr="opacity"/><span>100</span></label>\n                        </fieldset>\n                        <fieldset>\n                            <legend>阴影</legend>\n                            <label>阴影水平偏移量：<input class="shadow-offsetx" type="range" min="-10" max="10" value="0"\n                                                  data-attr="shadowOffsetX"/><span>0</span></label>\n                            <label>阴影竖直偏移量：<input class="shadow-offsety" type="range" min="-10" max="10" value="0"\n                                                  data-attr="shadowOffsetY"/><span>0</span></label>\n                            <label>阴影模糊：<input class="shadow-blur" type="range" min="0" max="10" value="0"\n                                               data-attr="shadowBlur"/><span>0</span></label>\n                            <label>阴影颜色：<input class="shadow-color" type="color" data-attr="shadowColor"/></label>\n                        </fieldset>\n                    </form>\n                </div>\n            </div>\n            <div class="eraser wrap">\n                <div id="tool-eraser-attribute-panel" class="tool-attribute-panel" title="橡皮属性面板">\n                    <form>\n                        <fieldset>\n                            <legend>属性</legend>\n                            <label>尺寸：<input class="size" type="range" min="1" max="100" data-attr="lineWidth"\n                                             value="1"/><span>1</span></label>\n                            <label>不透明度：<input class="opacity" type="range" max="100" value="100"\n                                               data-attr="opacity"/><span>100</span></label>\n                        </fieldset>\n                    </form>\n                </div>\n            </div>\n            <div class="flood-fill wrap">\n                <div id="tool-flood-fill-attribute-panel" class="tool-attribute-panel" title="油漆桶属性面板">\n                    <form>\n                        <fieldset>\n                            <legend>属性</legend>\n                            <label>限制：<input class="allowance" type="range" min="1" max="200" data-attr="allowance"\n                                             value="1"/><span>1</span></label>\n                        </fieldset>\n                    </form>\n                </div>\n            </div>\n            <div class="text wrap yj-group">\n                <button class="text yj-but" title="文本" data-tool="text" data-tool-class="Text"></button>\n                <button class="text-stroke yj-but" title="文本轮廓" data-tool="text" data-tool-class="TextStroke"></button>\n                <div id="tool-text-attribute-panel" class="tool-attribute-panel" title="文字属性面板">\n                    <form>\n                        <label>文本: <input class="text" type="text" placeholder="输入要输入的文字" data-attr="text"/></label>\n                        <fieldset>\n                            <legend>属性</legend>\n                            <label>字体:\n                                <select class="font" data-attr="family">\n                                    <option selected="true" class="serif" value="serif">serif</option>\n                                    <option class="sans-serif" value="sans-serif">sans-serif</option>\n                                    <option class="arail" value="Arial">Arial</option>\n                                    <option class="arial-black" value="Arial Black">Arial Black</option>\n                                    <option class="terminal" value="Terminal">Terminal</option>\n                                    <option class="verdana" value="Verdana">Verdana</option>\n                                    <option class="fangzhengshuti" value="方正舒体">方正舒体</option>\n                                    <option class="fangzhengyaoti" value="方正姚体">方正姚体</option>\n                                    <option class="heiti" value="黑体">黑体</option>\n                                    <option class="huawencaiyun" value="华文彩云">华文彩云</option>\n                                    <option class="huawenhupo" value="华文琥珀">华文琥珀</option>\n                                    <option class="huawenxinwei" value="华文新魏">华文新魏</option>\n                                    <option class="huawenzhongsong" value="华文中宋">华文中宋</option>\n                                    <option class="kaiti" value="楷体_GB2312">楷体_GB2312</option>\n                                    <option class="lishu" value="隶书">隶书</option>\n                                    <option class="songti" value="宋体">宋体</option>\n                                    <option class="weiruanyahei" value="微软黑体">微软黑体</option>\n                                    <option class="youyuan" value="幼圆">幼圆</option>\n                                </select>\n                            </label>\n                            <label class="checkbox"><b>粗体:</b>\n                                <input class="bold" type="checkbox" value="bold" data-attr="bold">\n                            </label>\n                            <label class="checkbox"><i>斜体 :</i>\n                                <input class="italic" type="checkbox" value="italic" data-attr="italic">\n                            </label>\n                            <label>字体大小：<input class="size" type="range" min="8" max="100" data-attr="size" value="10"/><span>10</span><span>px</span></label>\n                            <label>边界：<input class="border" type="range" min="1" max="100" data-attr="border"\n                                             value="1"/><span>1</span><span></span></label>\n                            <label>不透明度：<input class="opacity" type="range" max="100" data-attr="opacity"\n                                               value="100"/><span>100</span></label>\n                        </fieldset>\n                        <fieldset>\n                            <legend>阴影</legend>\n                            <label>阴影水平偏移量：<input class="shadow-offsetx" type="range" min="-10" max="10" value="0"\n                                                  data-attr="shadowOffsetX"/><span>0</span></label>\n                            <label>阴影竖直偏移量：<input class="shadow-offsety" type="range" min="-10" max="10" value="0"\n                                                  data-attr="shadowOffsetY"/><span>0</span></label>\n                            <label>阴影模糊：<input class="shadow-blur" type="range" min="0" max="10" value="0"\n                                               data-attr="shadowBlur"/><span>0</span></label>\n                            <label>阴影颜色：<input class="shadow-color" type="color" data-attr="shadowColor"/></label>\n                        </fieldset>\n                    </form>\n                </div>\n            </div>\n        </div>\n        <div class="tool yj-group" style="\n height: 40px;\n    width: 335px;\n    display: flex;\n    margin-top: 3px;">\n            <div class="yj-group" style="    display: flex;\n    margin-left: 0px;">\n                <button class="select  yj-but" title="选择工具(未实现)"></button>\n                <button class="eraser yj-but" title="橡皮擦工具" data-current-tool="Eraser"\n                        data-tool-panel="eraser"></button>\n                <button class="flood-fill yj-but" title="填充工具" data-current-tool="FloodFill"\n                        data-tool-panel="flood-fill"></button>\n                <button class="eye-dropper yj-but" title="吸管工具" data-current-tool="EyeDropper"\n                        data-tool-panel="eye-dropper"></button>\n                <div class="" id="colorModal" style="\n        height: 42px;\n        background: rgba(128,128,128,.8);\n        width: 40px;\n        border-radius: 4px;">\n                    <div class="" style="\n             margin-left: 5px;\n             margin-top: 6px;" title="选择颜色">\n                        <input class="color"/>\n                    </div>\n                </div>\n            </div>\n            <div class="yj-group" style=" display: flex;">\n                <button class="shape active yj-but" title="形状工具" data-current-tool="Line"\n                        data-tool-panel="shape"></button>\n                <button class="stroke yj-but" title="轮廓工具" data-current-tool="Pen" data-tool-panel="stroke"></button>\n                <button class="text yj-but" title="文字工具" data-tool-panel="text" data-current-tool="Text"></button>\n            </div>\n            <div class="yj-group" style=" display: flex;">\n                <button id="nav-file-import-img" class="image yj-but" title="插入图片"></button>\n            </div>\n        </div>\n    </div>')},this.initCanvas=function(){jh.append(I.element,'    <div class="container-fluid" style="">\n        <canvas width="1900" height="887" class="canvas-paint canvas-negative"></canvas>\n        <canvas width="1900" height="887" class="canvas-paint canvas-layer"></canvas>\n        <canvas width="1900" height="887" class="canvas-paint canvas-buffer"></canvas>\n        <canvas width="1900" height="887" id="canvas-mouse" class="canvas-paint canvas-mouse"></canvas>\n    </div>')},this.initTopTool=function(){jh.append(I.element,'<div class="tool" style="position: absolute;right: 10px;height: 42px; top: 5px;">\n        <div class="yj-group" style="height: 100%;">\n            <button type="button" id="nav-file-save" class="yj-but save" title="保存(ctrl+s)"></button>\n            <button type="button" id="nav-file-saveAs" class="yj-but saveAs" title="另存为"></button>\n            <button type="button" id="nav-edit-undo" class="yj-but undo" title="撤销(ctrl+z)"></button>\n            <button type="button" id="edit-exit" class="yj-but exit" title="退出"></button>\n        </div>\n    </div>'),jh.addEventListener(document.querySelectorAll("#edit-exit"),"click",I.exit)},this.initTitleDiv=function(){jh.append(I.element,' <div class=\'postilTitle\'>\n    <div class="postilTitleDiv"><span class="titleText" >文件编号-文件名-版本</span></div>\n    </div>')},this.initImgDiv=function(){jh.append(I.element,'    <div id="myModal" class="modal hide " tabindex="-1" role="dialog" aria-labelledby="myModalLabel" aria-hidden="true">\n        <div class="modal-header">\n            <button type="button" class="close" data-dismiss="modal" aria-hidden="true">×</button>\n            <h3 id="myModalLabel">保存图片-右键-图片另存为</h3>\n        </div>\n        <div class="modal-body">\n            <p><img id="save-image" src="" style="outline: 1px solid #ff0"></p>\n        </div>\n        <div class="modal-footer">\n            <button class="btn" data-dismiss="modal" aria-hidden="true">关闭</button>\n        </div>\n    </div>');var A=document.querySelector("#myModal");jh.addEventListener(A.querySelector(".close"),"click",function(){jh.addClass(A,"hide"),jh.remove(document.querySelector(".modal-backdrop"))}),jh.addEventListener(A.querySelector(".btn"),"click",function(){jh.addClass(A,"hide"),jh.remove(document.querySelector(".modal-backdrop"))});jh.append(I.element,' <div id="image-modal" class="modal hide" tabindex="-1" role="dialog" aria-labelledby="myModalLabel"\n         aria-hidden="true">\n        <div class="modal-header">\n            <button type="button" class="close" data-dismiss="modal" aria-hidden="true">×</button>\n            <h3 id="myModalLabel">导入图片</h3>\n        </div>\n        <div class="modal-body">\n            <form>\n                <fieldset>\n                    <legend>导入图片</legend>\n                    <label><input id="image-modal-file" type="file" accept="image/jpg,image/jpeg,image/png"/></label>\n                </fieldset>\n                <fieldset>\n                    <legend>属性</legend>\n                    <label>x坐标 <input id="image-modal-x" type="number" min="0" max="2000" value="10"/></label>\n                    <label>y坐标 <input id="image-modal-y" type="number" min="0" max="2000" value="10"/></label>\n                    <br>                    <label>宽度 <input id="image-modal-width" type="number" min="0" max="2000" value="800"/></label>\n                    <label>高度 <input id="image-modal-height" type="number" min="0" max="2000" value="600"/></label>\n                </fieldset>\n                <fieldset>\n                    <legend>预览</legend>\n                    <figure>\n                        <img id="image-modal-view"/>\n                    </figure>\n                </fieldset>\n            </form>\n        </div>\n        <div class="modal-footer">\n            <button class="btn but-cancel" data-dismiss="modal" aria-hidden="true">取消</button>\n            <button id="image-modal-ok" class="btn btn-primary" data-dismiss="modal" aria-hidden="true">插入</button>\n        </div>\n    </div>');var e=document.querySelector("#image-modal");jh.addEventListener(e.querySelector(".close"),"click",function(){jh.addClass(e,"hide"),jh.remove(document.querySelector(".modal-backdrop"))}),jh.addEventListener(e.querySelector(".but-cancel"),"click",function(){jh.addClass(e,"hide"),jh.remove(document.querySelector(".modal-backdrop"))}),jh.addEventListener(e.querySelector(".btn-primary"),"click",function(){jh.addClass(e,"hide"),jh.remove(document.querySelector(".modal-backdrop"))})},this.setTitle=function(t){[].map.call(document.querySelectorAll(".titleText"),function(A,e){A.textContent=t})},this.getTitle=function(){return document.querySelector(".titleText").textContent},this.exit=function(){I.hide(),r.postilExit()},this.hide=function(){I.element.style.display="none"},this.show=function(){I.element.style.display="block"},this.clear=function(){I.canvas.mouseCanvasContainer.getCanvas().clear(),I.canvas.bufferCanvasContainer.getCanvas().clear(),I.canvas.currentCanvasContainer.getCanvas().clear(),I.canvas.negativeCanvasContainer.getCanvas().clear(),I.change=!1},this.updateSize=function(A,e){I.canvas.currentCanvasContainer.getCanvas().updateSize(A,e),I.canvas.bufferCanvasContainer.getCanvas().updateSize(A,e),I.canvas.mouseCanvasContainer.getCanvas().updateSize(A,e),I.canvas.negativeCanvasContainer.getCanvas().updateSize(A,e)},this.bindEvent=function(){},this.getCoordsWithinElement=function(A){var e=[0,0];if(A){for(var t=A.target,i=0,n=0;t.offsetParent;)i+=t.offsetLeft-t.scrollLeft,n+=t.offsetTop-t.scrollTop,t=t.offsetParent;e[0]=Math.round(A.pageX-i),e[1]=Math.round(A.pageY-n)}else A=window.event,e[0]=Math.round(A.x),e[0]=Math.round(A.y);return e},this.Index={init:function(){this.bindEvent()},bindEvent:function(){var A=I.element,s=null,l=null;jh.bind(A,"keydown",function(A){A.ctrlKey&&90===A.keyCode&&(jh.simulateEvent(document.querySelector("#nav-edit-undo"),"click"),A.preventDefault())}),jh.bind(A,"keydown",function(A){A.ctrlKey&&83===A.keyCode&&(jh.simulateEvent(document.querySelector("#nav-file-save"),"click"),A.preventDefault())}),jh.bind(A,"keydown",function(A){A.ctrlKey&&68===A.keyCode&&(jh.simulateEvent(document.querySelector("#nav-edit-clear"),"click"),A.preventDefault())}),jh.bind(A,"keydown",function(A){A.ctrlKey&&69===A.keyCode&&(jh.simulateEvent(document.querySelector("#nav-file-export"),"click"),A.preventDefault())}),jh.bind(document,"resize",function(A){var e=I.canvas,t=e.currentCanvasContainer.getCanvas(),i=e.bufferCanvasContainer.getCanvas(),n=e.mouseCanvasContainer.getCanvas(),o=I.canvas.negativeCanvasContainer.getCanvas();t.updateSize(),i.updateSize(),n.updateSize(),o.updateSize()}),jh.delegate(I.element,"#negative-modal-file","change",function(A){var e=A.target.files,t=new FileReader;t.readAsDataURL(e[0]),t.onload=function(){var A=document.querySelector("#negative-modal").querySelector("#negative-modal-view");A.setAttribute("src",s=t.result),jh.bind(A,"load",function(){var A=document.querySelector("#negative-modal"),e=A.querySelector("#negative-modal-width"),t=A.querySelector("#negative-modal-height");e.value=parseInt(jh.getStyleValue(this,"width"),0),t.value=parseInt(jh.getStyleValue(this,"height"),0)})}}),jh.delegate(I.element,"#negative-modal-ok","click",function(A){var e=I.canvas.negativeCanvasContainer.getCanvas(),t=new I.model.shapeModel.ImageShape,i=document.querySelector("#negative-modal"),n=i.querySelector("#negative-modal-x").value,o=i.querySelector("#negative-modal-y").value,r=parseInt(i.querySelector("#negative-modal-width").value,0),a=parseInt(i.querySelector("#negative-modal-height").value,0);t.init({x:n,y:o,width:r,height:a,src:s}),e.paint(t)}),jh.delegate(I.element,"#image-modal-file","change",function(A){var e=A.target.files,t=new FileReader;t.readAsDataURL(e[0]),t.onload=function(){var A=document.querySelector("#image-modal").querySelector("#image-modal-view");A.setAttribute("src",l=t.result),jh.bind(A,"load",function(){var A=document.querySelector("#image-modal"),e=A.querySelector("#image-modal-width"),t=A.querySelector("#image-modal-height");e.value=parseInt(jh.getStyleValue(this,"width"),0),t.value=parseInt(jh.getStyleValue(this,"height"),0)})}}),jh.delegate(I.element,"#image-modal-ok","click",function(A){var e=I.canvas.currentCanvasContainer.getCanvas(),t=new I.model.shapeModel.ImageShape,i=document.querySelector("#image-modal"),n=i.querySelector("#image-modal-x").value,o=i.querySelector("#image-modal-y").value,r=parseInt(i.querySelector("#image-modal-width").value,0),a=parseInt(i.querySelector("#image-modal-height").value,0);t.init({x:n,y:o,width:r,height:a,src:l}),e.paint(t)})}},this.Canvas={clickStatus:!1,pointList:Object.create(d),getPointList:function(){return this.pointList},getClickStatus:function(){return this.clickStatus},setClickStatus:function(A){return this.clickStatus=A=A||!1},init:function(){var A=document.querySelectorAll(".canvas-negative")[0],e=new O,t=Object.create(L),i=document.querySelectorAll(".canvas-layer")[0],n=new O,o=Object.create(L),r=document.querySelectorAll(".canvas-buffer")[0],a=new O,s=Object.create(L),l=document.querySelectorAll(".canvas-mouse")[0],c=new O,d=Object.create(L);e.init(A,"negativeCanvas"),t.init(e),I.canvas=I.canvas||{},I.canvas.negativeCanvasContainer=t,n.init(i,"currentCanvas"),o.init(n),I.canvas=I.canvas||{},I.canvas.currentCanvasContainer=o,a.init(r,"bufferCanvas"),s.init(a),I.canvas=I.canvas||{},I.canvas.bufferCanvasContainer=s,c.init(l,"mouseCanvas"),d.init(c),I.canvas=I.canvas||{},I.canvas.mouseCanvasContainer=d,this.bindEvent()},bindEvent:function(){var A=I.element,h=I.canvas.mouseCanvasContainer.getCanvas(),u=I.canvas.bufferCanvasContainer.getCanvas(),s=I.canvas.currentCanvasContainer.getCanvas(),p=h.getLeft(),g=h.getTop(),f=this,m=I.tool.currentToolContainer.getTool();jh.delegate(A,"#canvas-mouse","mousemove",function(A){var e=I.getCoordsWithinElement(A),t=null,i=null,n="",o=null,r=null,a=f.getClickStatus(),s="",l=null,c=null;"shape"===m.getClassName()&&(t={x:e[0],y:e[1]},s=m.getMouse(),l=m.getOption(),(c=new I.model.mouseModel[s]).init(l,t),h.clear(),h.paint(c),a&&(n=m.getName(),(i=f.getPointList()).add(t),r=m.setPoint(i),"FloodFill"!==(o=new I.model.shapeModel[n]).getName()&&(o.init(r),u.clear(),u.paint(o))))}),jh.delegate(A,"#canvas-mouse","mousedown",function(A){var e=I.getCoordsWithinElement(A),t={x:e[0],y:e[1]};f.getPointList();f.getPointList().init(),f.getPointList().add(t),f.setClickStatus(!0)}),jh.delegate(A,"#canvas-mouse","mouseup",function(A){var e=I.getCoordsWithinElement(A),t={x:e[0],y:e[1]},i=f.getPointList(),n=m.getName(),o=null,r=null;"shape"===m.getClassName()&&(f.getPointList().add(t),f.setClickStatus(!1),o=new I.model.shapeModel[n],r=m.setPoint(i),o.init(r),s.paint(o),u.clear())}),jh.delegate(A,"#canvas-mouse","mouseleave",function(A){h.clear()}),jh.delegate(A,"#canvas-mouse","mouseenter",function(A){h.clear(),m=I.tool.currentToolContainer.getTool()}),document.getElementById("canvas-mouse").addEventListener("touchmove",function(A){var e=null,t=null,i="",n=null,o=null,r=f.getClickStatus(),a="",s=null,l=null,c=m.getClassName(),d=A.changedTouches[0];A.preventDefault(),"shape"===c&&(e={x:d.pageX-p,y:d.pageY-g},a=m.getMouse(),s=m.getOption(),(l=new I.model.mouseModel[a]).init(s,e),h.clear(),h.paint(l),r&&(i=m.getName(),(t=f.getPointList()).add(e),o=m.setPoint(t),(n=new I.model.shapeModel[i]).init(o),u.clear(),u.paint(n)))},!1),document.getElementById("canvas-mouse").addEventListener("touchstart",function(A){var e=A.touches[0],t={x:e.pageX-p,y:e.pageY-g};f.getPointList();A.preventDefault(),f.getPointList().init(),f.getPointList().add(t),f.setClickStatus(!0)},!1),document.getElementById("canvas-mouse").addEventListener("touchend",function(A){var e=A.changedTouches[0],t={x:e.pageX-p,y:e.pageY-g},i=f.getPointList(),n=m.getName(),o=null,r=null,a=m.getClassName();A.preventDefault(),"shape"===a&&(f.getPointList().add(t),f.setClickStatus(!1),o=new I.model.shapeModel[n],r=m.setPoint(i),o.init(r),s.paint(o),u.clear())},!1)}},this.Nav={init:function(){this.bindEvent()},bindEvent:function(){var o=I.element;jh.delegate(o,"#nav-file-export","click",function(A){var e=I.canvas.currentCanvasContainer.getCanvas(),t=I.canvas.negativeCanvasContainer.getCanvas(),i=document.createElement("canvas");i.width=e.width,i.height=e.height;var n=i.getContext("2d");n.drawImage(t.getCanvas(),0,0),n.drawImage(e.getCanvas(),0,0),document.querySelectorAll("#save-image")[0].src=i.toDataURL(),jh.append(o,"<div class='modal-backdrop'></div>"),[].map.call(document.querySelectorAll("#myModal"),function(A,e){jh.removeClass(A,"hide")})}),jh.delegate(o,"#nav-file-saveAs","click",function(A){var e=I.canvas.currentCanvasContainer.getCanvas(),t=I.canvas.negativeCanvasContainer.getCanvas(),i=document.createElement("canvas");i.width=e.width,i.height=e.height;var n=i.getContext("2d");n.drawImage(t.getCanvas(),0,0),n.drawImage(e.getCanvas(),0,0),document.querySelectorAll("#save-image")[0].src=i.toDataURL(),jh.append(o,"<div class='modal-backdrop'></div>"),[].map.call(document.querySelectorAll("#myModal"),function(A,e){jh.removeClass(A,"hide")})}),jh.delegate(o,"#nav-file-save","click",function(A){var e=I.canvas.currentCanvasContainer.getCanvas(),t=I.canvas.negativeCanvasContainer.getCanvas();e.save(),t.save();var i=I.lobibox.alert("success",{msg:"保存成功",title:"保存",backdrop:!0,buttons:{yes:{closeOnClick:!1,text:"关闭"}},callback:function(A,e){A.destroy(),r.postilSave()}}),n=(new Date).getTime()-I.lobibox.alert.startTime;i.$el.style.zIndex=n+2}),jh.delegate(o,"#nav-file-open","click",function(A){jh.append(o,"<div class='modal-backdrop'></div>"),[].map.call(document.querySelectorAll("#image-modal"),function(A,e){jh.removeClass(A,"hide")})}),jh.delegate(o,"#nav-file-import-img","click",function(A){jh.append(o,"<div class='modal-backdrop'></div>"),[].map.call(document.querySelectorAll("#image-modal"),function(A,e){jh.removeClass(A,"hide")})}),jh.delegate(o,"#nav-edit-undo","click",function(A){I.canvas.currentCanvasContainer.getCanvas().undo(),r.undo()}),jh.delegate(o,"#nav-edit-clear","click",function(A){I.canvas.currentCanvasContainer.getCanvas().clear()}),jh.delegate(o,"#nav-edit-clear-negative","click",function(A){I.canvas.negativeCanvasContainer.getCanvas().clear()}),jh.delegate(o,"#nav-edit-convert","click",function(A){I.canvas.currentCanvasContainer.getCanvas().convert()}),jh.delegate(o,"#nav-edit-flipx","click",function(A){I.canvas.currentCanvasContainer.getCanvas().flipX()}),jh.delegate(o,"#nav-edit-flipy","click",function(A){I.canvas.currentCanvasContainer.getCanvas().flipY()})}};var F;(F=function(){this.currentOpenAttributePanel=null,this.colorPicker=void 0,this.attributePanelWindow=void 0}).prototype={init:function(){this.bindEvent(),this.initAttributePanel(),this.initColor(),I.tool=I.tool||{},I.tool.currentToolContainer=Object.create(I.model.ToolContainerModel),I.tool.currentToolContainer.init(new I.model.toolModel.Line)},initAttributePanel:function(){document.querySelector("#tool-wrap");var A=document.querySelector("#tool-shape-attribute-panel"),t=document.createElement("div");this.attributePanelWindow=I.lobibox.window({title:"属性面板",width:334,height:415,closeOnEsc:!(t.className="tool-attribute-panel-content"),closeButton:!0,afterWindowHide:function(A){},content:t}),this.attributePanelWindow.setPosition({left:"",right:35,bottom:120}),this.attributePanelWindow.windowHide();var e=document.querySelectorAll(".tool-attribute-panel");[].map.call(e,function(A,e){A.style.display="none",t.appendChild(A)}),this.setCurrentAttributePanel(A),this.openAttributePanel(A)},initColor:function(){var e=document.querySelector("#tool-wrap .tool .color");this.colorPicker=new wu(e),e.style.display="none";var A=e.parentNode;jh.append(A,'<div id="colorOperatorDiv"></div>');var t=A.querySelector("#colorOperatorDiv"),i=this.colorPicker.element;i.id="toolColorModal",i.className="colorModal",i.style.cssText+="margin-left:"+t.offsetLeft+"px;bottom:50px",t.addEventListener("click",function(A){i.focus(),i.style.display="block"===i.style.display?"none":"block",A.stopPropagation?A.stopPropagation():A.cancelBubble=!0}),document.addEventListener("click",function(A){}),jh.addEventListener(e,"change",function(A){jh.css(t,{"background-color":e.value})}),e.parentNode.parentNode.appendChild(i)},openAttributePanel:function(A){document.querySelector("#tool-wrap"),document.querySelector(".tool-attribute-panel-content");var e=document.querySelectorAll(".tool-attribute-panel"),t=A||this.getCurrentAttributePanel();t&&([].map.call(e,function(A,e){A.style.display=A.id==t.id?"block":"none"}),this.attributePanelWindow.windowShow())},getCurrentAttributePanel:function(){return this.currentOpenAttributePanel},setCurrentAttributePanel:function(A){return void 0!==A&&(this.currentOpenAttributePanel=A,!0)},bindEvent:function(){var A=document.querySelector("#tool-wrap"),l=this;jh.delegate(A.querySelector(".tool"),"button","click",function(A){if("nav-file-import-img"===this.id)l.attributePanelWindow.$el.style.zIndex=888;else{var e=document.querySelector("#tool-wrap"),t=this.getAttribute("data-tool-panel"),i=e.querySelector(".tool-panel ."+t),n=e.querySelectorAll(".tool-panel .wrap"),o=document.querySelector("#tool-"+t+"-attribute-panel"),r=this.getAttribute("data-current-tool");[].map.call(e.querySelectorAll(".tool button.active"),function(A,e){jh.removeClass(A,"active")}),jh.addClass(this,"active");for(var a=0;a<n.length;a+=1)n[a].style.display="none";if(i&&(i.style.display="block"),o){var s=o.getAttribute("title")?o.getAttribute("title"):"属性面板";I.Tool.attributePanelWindow.setTitle(s)}if(l.setCurrentAttributePanel(o),l.openAttributePanel(o),!r)return;-1===r.indexOf("Arrow")?I.tool.currentToolContainer.init(new I.model.toolModel[r]):console.log("currentTool： 箭头没有原型类实现")}}),jh.delegate(A.querySelectorAll(".tool-panel .wrap"),"button","click",function(A){var e=this.getAttribute("data-tool"),t=this.getAttribute("data-tool-class"),i=document.querySelector("#tool-wrap .tool button[data-tool-panel='"+e+"']");i.setAttribute("data-current-tool",t),jh.simulateEvent(i,"click")}),jh.delegate(A,".color","change",function(A){var e=this.value;I.tool.currentToolContainer.getTool().setOption({fillStyle:e,strokeStyle:e})}),jh.delegate(document.querySelectorAll(".tool-attribute-panel"),"select","change",function(A){var e=A.target,t=e.getAttribute("data-attr"),i=e.value,n=I.tool.currentToolContainer.getTool(),o={};o[t]=i,n.setOption(o)}),[].map.call(I.element.querySelectorAll("input"),function(A,e){var t=A.getAttribute("type");"checkbox"!==t&&"radio"!==t&&jh.addEventListener(A,"change",function(A){var e=A.target,t=e.getAttribute("data-attr"),i=e.value,n=I.tool.currentToolContainer.getTool(),o={},r=e.parentNode.querySelector("span");r&&(r.textContent=i),o[t]=i,n.setOption(o)})}),[].map.call(I.element.querySelectorAll(".tool-attribute-panel input"),function(A,e){"checkbox"===A.getAttribute("type")&&jh.addEventListener(A,"change",function(A){var e=A.target,t=e.getAttribute("data-attr"),i=e.value,n=e.getAttribute("checked"),o=I.tool.currentToolContainer.getTool(),r={};r[t]=!0===n?i:"",o.setOption(r),window.console.log(n)})}),[].map.call(I.element.querySelectorAll(".tool-attribute-panel input"),function(A,e){"radio"===A.getAttribute("type")&&jh.addEventListener(A,"change",function(A){var e=A.target,t=e.attr("data-attr"),i=e.val(),n=I.tool.currentToolContainer.getTool(),o={};o[t]=i,n.setOption(o)})})}},this.Tool=new F;var L={canvas:null,init:function(A){this.setCanvas(A)},setCanvas:function(A){return this.canvas=A,!0},getCanvas:function(){return this.canvas}};I.model=I.model||{},I.model.CanvasContainerModel=L;var O=function(){this.canvas=null,this.documentName="",this.pictureName="",this.name="Canvas",this.shapeList=[],this.convertStatus="source-over",this.flipXStatus=!1,this.flipYStatus=!1,this.width=1e3,this.height=400,this.context2D=null,this.top=0,this.left=0};O.prototype={init:function(A,e){this.initCanvas(A),this.initHeight(),this.initWidth(),this.initLeft(),this.initTop(),this.initContext2D(),this.initName(e),this.load()},initName:function(A){this.setName(A)},setName:function(A){this.name=A},setDocumentName:function(A){this.documentName=A},setPictureName:function(A){this.pictureName=A},getDocumentName:function(){return this.documentName},getPictureName:function(){return this.pictureName},getName:function(){return this.name},initCanvas:function(A){this.setCanvas(A)},setCanvas:function(A){return null!=A&&(this.canvas=A,!0)},getCanvas:function(){return this.canvas},initContext2D:function(){this.setContext2D()},getContext2D:function(){return this.context2D},setContext2D:function(A){A=A||this.getCanvas().getContext("2d"),this.context2D=A},clearContext:function(){var A=this.getHeight(),e=this.getWidth(),t=this.getContext2D();return t.clearRect(0,0,e,A),t},initLeft:function(){this.updateLeft()},updateLeft:function(){var A;return A=function(A){for(var e=A.offsetLeft,t=A.offsetParent;null!==t;)e+=t.offsetLeft,t=t.offsetParent;return e}(this.getCanvas()),this.left=A},getLeft:function(){return this.left},initTop:function(){this.updateTop()},updateTop:function(){var A;return A=function(A){for(var e=A.offsetTop,t=A.offsetParent;null!==t;)e+=t.offsetTop,t=t.offsetParent;return e}(this.getCanvas()),this.top=A},getTop:function(){return this.top},updateSize:function(A,e){this.updateHeight(e),this.updateWidth(A),this.repaint()},initHeight:function(){this.updateHeight()},updateHeight:function(A){var e=this.getCanvas(),t=parseInt(jh.getStyleValue(e.parentNode,"height"));return A&&(t=A),e.setAttribute("height",t),this.setHeight(t)},setHeight:function(A){return this.height=A=A||600},getHeight:function(){return this.height},initWidth:function(){this.updateWidth()},updateWidth:function(A){var e=this.getCanvas(),t=parseInt(jh.getStyleValue(e.parentNode,"width"));return A&&(t=A),e.setAttribute("width",t),this.setWidth(t)},setWidth:function(A){return this.width=A=A||600,this.width},getWidth:function(){return this.width},initShapeList:function(){this.clearShapeList()},getShapeList:function(){return kh.extend(!0,[],this.shapeList)},setShapeList:function(A){return this.clearShapeList(),kh.extend(!0,this.shapeList,A),A},addShape:function(A){this.shapeList.push(A)},deleteShape:function(){this.shapeList.pop()},clearShapeList:function(){this.shapeList=[]},paint:function(A){this.addShape(A),A.paint(this.getContext2D()),"negativeCanvas"!=this.name&&"currentCanvas"!=this.name||(I.change=!0)},repaint:function(){var A,e=this.shapeList,t=e.length,i=0;for(A=this.clearContext();i<t;i+=1)e[i].paint(A);0<t&&("negativeCanvas"!=this.name&&"currentCanvas"!=this.name||(I.change=!0))},undo:function(){this.deleteShape(),this.repaint()},clear:function(){this.clearContext(),this.clearShapeList()},convert:function(){var A=this.getContext2D(),e=A.globalCompositeOperation,t="source-over"===this.convertStatus?"destination-over":"source-over";A.globalCompositeOperation=this.convertStatus=t,this.repaint(),A.globalCompositeOperation=e},save:function(A){var e=new I.model.StorageModel,t=[],i=this.shapeList,n=i.length,o=0,r=this.getName(),a="";if(r=r+"-"+this.getDocumentName()+"-"+this.getPictureName(),null!=A&&(r=A),e.init(),!1!==e.getStorage()){for(;o<n;o+=1)t[o]={name:i[o].getName(),option:i[o].getOption()};a=window.JSON.stringify(t),e.save(r,a)}},load:function(A){var e,t,i=new I.model.StorageModel,n=[],o=0,r=this.getName(),a=this.getDocumentName(),s=this.getPictureName(),l=this.shapeList;if(r=r+"-"+a+"-"+s,null!=A&&(r=A),i.init(),!1!==i.getStorage()){for(t=i.load(r)||"[]",e=(n=window.JSON.parse(t)).length;o<e;o+=1)l[o]=new I.model.shapeModel[n[o].name],l[o].init(n[o].option);this.repaint()}},autoSave:function(A){var e=this;window.setInterval(function(){e.save()},A)},flipX:function(){var A=this.getContext2D(),e=this.getWidth();A.save(),this.flipXStatus?this.flipXStatus=!1:(this.flipXStatus=!0,A.translate(e,0),A.scale(-1,1)),this.repaint(),A.restore()},flipY:function(){var A=this.getContext2D(),e=this.getHeight();A.save(),this.flipYStatus?this.flipYStatus=!1:(this.flipYStatus=!0,A.translate(0,e),A.scale(1,-1)),this.repaint(),A.restore()}},I.model=I.model||{},I.model.CanvasModel=O;(I=I||{}).model=I.model||{},I.model.ToolContainerModel={tool:null,init:function(A){A.init(),this.setTool(A)},setTool:function(A){return this.tool=A,!0},getTool:function(){return this.tool}}},Hg=function(A,e){var a=A.toolId,t=A.Flag,c=A.viewer,i=e.toolbarTop,d=this;d.viewer=c,d.postilInfo={},this.editingPostilObj=void 0,this.editingNodeDom=void 0,this.postilDelConf=!0,this.eventDispatcher=new ou;var h=0;this.deleteListener=null,this.addListener=null,this.renameListener=null,this.updateListener=null,this.exitListener=null,this.saveListener=null,this.openListener=null,this.restoreToPostilListener=null;var n=document.createElement("div");n.className="postil-content",jh.append(n,'<div class="postil"><div class="postil-body"></div></div><div class="labeling-footer"><button class="but-new-create" id="postilAdd'+a+'">新建批注</button></div></div>'),d.postilWindow=iu.window({title:"批注",width:334,height:688,closeOnEsc:!1,closeButton:!0,afterWindowHide:function(){var A=document.getElementById("postil"+a);t.postil=!1,A&&(A.style.backgroundColor="",A.querySelector(".yj-icon").className="yj-icon postil-icon")},content:n}),d.postilWindow.setPosition({left:"",right:5,top:60}),d.postilWindow.windowHide(),jh.addEventListener(i.querySelector("#postil"+a),"click",function(A){if(t.postil)A.target.parentNode.style.backgroundColor="",A.target.className="yj-icon postil-icon active",d.postilWindow.windowHide();else{d.load([]),t.postil=!t.postil,d.postilWindow.windowShow();var e=c.viewerImpl.modelManager.sceneState;A.target.parentNode.style.backgroundColor="#1f89de",A.target.className="yj-icon postil-icon active",e.getSelection()}}),jh.append(document.querySelector("body"),'<div id="postilEdit'+a+'"  style="height: 100%;width:100%;overflow: hidden"></div>'),document.querySelector("#postilEdit"+a).style.display="none",this.edit=new Vg("postilEdit"+a,this,c,a),d.edit.init(),jh.addEventListener(d.postilWindow.$el.querySelector(".postil-body"),"click",function(A){switch(A.target.className){case"postil-node-delete":d.postilDelete(A);break;case"postil-node-img":d.postilflyto(A);break;case"postil-node-button-update":d.postilUpdate(A);break;case"postil-node-button-edit":d.postilEdit(A)}}),jh.addEventListener(d.postilWindow.$el.querySelector(".postil-body"),"dblclick",function(A){switch(A.target.className){case"postil-node-name":d.postilRename(A)}}),this.makePostils=function(){var A,e,t,i,n,o=c.viewerImpl.modelManager.getModelSnapshotPhoto();A=o.imgURL;var r=o.width,a=o.height,s=c.viewerImpl.getSceneState();e=s.camera,t=s.state,i=s.selection.concat(),n=s.modelSelection.concat();var l=h;return h+=1,{cameraState:e,componentState:t,highlightComponentsKeys:i,highlightModelsKeys:n,imageURL:A,width:r,height:a,num:l,code:(new Date).getTime().toString(),name:"批注"+l}},this.clear=function(){[].map.call(d.postilWindow.$el.querySelectorAll(".postil .postil-body"),function(A,e){A.innerHTML=""}),d.postilInfo={},d.postilDelConf=!0},this.load=function(A){Array.isArray(A)&&A.forEach(function(A){d.add(A)})},jh.addEventListener(d.postilWindow.$el.querySelector("#postilAdd"+a),"click",function(A){var t=d.makePostils();"function"==typeof d.addListener?d.addListener(t,function(A,e){A&&d.add(e||t)}):d.add(t)}),this.add=function(A){var e=A.imageURL,t=A.width,i=A.height,n=A.code,o=A.name,r=A.num;if(A.cameraState&&A.componentState&&e&&n&&t&&i){for(var a=d.postilWindow.$el.querySelectorAll(".postil-node"),s=0;s<a.length;s+=1)jh.css(a[s],{border:"2px"});var l='<div class="postil-node" code="'+n+'" imgid="'+n+'"  style="margin-bottom:20px;" num="'+r+'"><div class="postil-node-header"><span class="postil-node-name" title="双击以重命名">'+o+'</span><span class="postil-node-delete" title="删除批注">×</span></div><div class="postil-node-body" title="点击以浏览模型批注"><img class="postil-node-img" width="100%" height='+parseInt(i*(300/t),0)+'px" src="'+e+'"></div><div class="postil-node-footer"><div><button class="postil-node-button-update" yhtype="update" style="right: 70px" title="将当前模型视角更新到此批注">更新</button></div><div><button class="postil-node-button-edit" yhtype="edit" style="right: 22px" title="查看/编辑批注">编辑</button></div></div>';[].map.call(d.postilWindow.$el.querySelectorAll(".postil-body"),function(A,e){jh.append(A,l)}),d.postilInfo[n]=A}},this.postilEdit=function(A){var e=document.querySelector("#postilEdit"+a);e.style.display="block",e.style.height=d.viewer.viewerImpl.getDomElement().style.height,e.style.width=d.viewer.viewerImpl.getDomElement().style.width;var t=A.target.parentNode.parentNode.parentNode.getAttribute("imgid");"function"==typeof d.openListener?d.openListener(t,function(A){A&&d.open(t)}):d.open(t)},this.open=function(A){document.querySelector("#postilEdit"+a).style.display="block";var e=d.postilWindow.$el.querySelector("div[imgid='"+A+"']");if(e){var t=(this.editingNodeDom=e).querySelector(".postil-node-name").textContent;d.editingPostilObj=d.postilInfo[A],d.edit.setTitle(t),jh.showOrHideElement(c.viewport,!1),d.edit.canvas.currentCanvasContainer.getCanvas().setDocumentName(A),d.edit.canvas.currentCanvasContainer.getCanvas().setPictureName(A),d.edit.canvas.negativeCanvasContainer.getCanvas().setDocumentName(A),d.edit.canvas.negativeCanvasContainer.getCanvas().setPictureName(A);var i=d.edit.canvas.negativeCanvasContainer.getCanvas(),n=new d.edit.model.shapeModel.ImageShape,o=e.children[1].children[0].naturalWidth,r=e.children[1].children[0].naturalHeight;n.init({x:0,y:0,width:o,height:r,src:e.children[1].children[0].src}),d.edit.clear(),i.paint(n),d.edit.updateSize(o,r)}},this.postilUpdate=function(A){var i=A.target.parentNode.parentNode.parentNode.getAttribute("imgid"),n=d.makePostils();"function"==typeof d.updateListener?d.updateListener(i,n,function(A,e,t){A&&d.update(e||i,t||n)}):d.update(i,n)},this.update=function(A,e){var t=d.postilInfo[A];t&&(t.cameraState=e.cameraState,t.componentState=e.componentState,t.highlightComponentsKeys=e.highlightComponentsKeys,t.highlightModelsKeys=e.highlightModelsKeys,t.imageURL=e.imageURL);var i=d.postilWindow.$el.querySelector("div[imgid='"+A+"']");if(i){var n=i.querySelector(".postil-node-img");n&&(n.src=e.imageURL)}},this.postilDelete=function(A){var t=A.target.parentNode.parentNode.getAttribute("imgid");if(d.postilDelConf){var e=iu.alert("info",{msg:"删除不可恢复，确认删除？",title:"删除确认",backdrop:!0,buttons:{yes:{closeOnClick:!1,text:"删除并不再提示"},no:{closeOnClick:!1,text:"删除"}},callback:function(A,e){"no"!==e&&"yes"!==e||("yes"===e&&(d.postilDelConf=!1),"function"==typeof d.deleteListener?d.deleteListener(t,function(A){A&&d.delete(t)}):d.delete(t)),A.destroy()}}),i=(new Date).getTime()-iu.window.startTime;[].map.call(d.postilWindow.$el.querySelectorAll(".lobibox-backdrop"),function(A,e){jh.css(A,{"z-index":i})}),e.$el.style.zIndex=i+2}else"function"==typeof d.deleteListener?d.deleteListener(t,function(A){A&&d.delete(t)}):d.delete(t)},this.delete=function(A){var e=d.postilWindow.$el.querySelector("div[imgid='"+A+"']");e&&e.remove(),delete d.postilInfo[A]},this.postilRename=function(A){c.viewerImpl.cameraControl.enabled=!1;var e=A.target,i=e.parentNode.parentNode.getAttribute("imgid"),n=e.innerText,o=document.createElement("input");o.type="text",o.value=n,e.innerText="",jh.append(e,o),o.focus(),o.select(),o.addEventListener("blur",function(A){var t=A.target;t.removeEventListener("blur",function(){}),t.value!==n&&""!==jh.trim(t.value)?"function"==typeof d.renameListener?d.renameListener(i,t.value,function(A,e){A?d.rename(i,e||t.value):t.parentNode.innerText=n}):d.rename(i,t.value):t.parentNode.innerText=n,o.remove(),c.viewerImpl.cameraControl.enabled=!0})},this.rename=function(A,e){var t=d.postilWindow.$el.querySelector("div[imgid='"+A+"']");if(t){var i=t.querySelector(".postil-node-name");i&&(i.innerText=e)}d.postilInfo[A].name=e},this.postilflyto=function(A){for(var e=d.postilWindow.$el.querySelectorAll(".postil-node"),t=0;t<e.length;t+=1)jh.css(e[t],{border:"2px"});var i=A.target.parentNode.parentNode.getAttribute("code");"function"==typeof d.restoreToPostilListener?d.restoreToPostilListener(i,function(A){d.restoreToPostil(i)}):d.restoreToPostil(i)},this.restoreToPostil=function(A){var e=d.postilInfo[A];if(e){c.viewerImpl.setSceneState({camera:e.cameraState,state:e.componentState,selection:e.highlightComponentsKeys,modelSelection:e.highlightModelsKeys});var t=d.postilWindow.$el.querySelector("div[imgid='"+A+"']");t&&jh.css(t,{border:"2px solid #002553"})}},this.postilSave=function(){"function"==typeof d.saveListener?d.saveListener(this.editingPostilObj.code,function(A){A&&d.save()}):d.save()},this.save=function(){d.edit.canvas.currentCanvasContainer.getCanvas().save(),d.edit.canvas.negativeCanvasContainer.getCanvas().save();var A=d.edit.canvas.currentCanvasContainer.getCanvas(),e=d.edit.canvas.negativeCanvasContainer.getCanvas(),t=document.createElement("canvas");t.width=A.width,t.height=A.height;var i=t.getContext("2d");i.drawImage(e.getCanvas(),0,0),i.drawImage(A.getCanvas(),0,0);var n=t.toDataURL();this.editingNodeDom.children[1].children[0].setAttribute("src",d.editingPostilObj.imageURL=n),d.eventDispatcher.dispatchEvent({type:"POSTIL-EDIT-SAVE",event:event,data:d.editingPostilObj})},this.undo=function(){d.eventDispatcher.dispatchEvent({type:"POSTIL-EDIT-UNDO",event:event})},this.postilExit=function(){"function"==typeof d.exitListener?d.exitListener(this.editingPostilObj.code,function(A){A&&d.exit()}):d.exit()},this.exit=function(){d.edit.canvas.currentCanvasContainer.getCanvas().clear(),d.edit.canvas.negativeCanvasContainer.getCanvas().clear(),d.edit.canvas.currentCanvasContainer.getCanvas().setDocumentName(""),d.edit.canvas.currentCanvasContainer.getCanvas().setPictureName(""),d.edit.canvas.negativeCanvasContainer.getCanvas().setDocumentName(""),d.edit.canvas.negativeCanvasContainer.getCanvas().setPictureName(""),d.clearPostilStorage(),d.edit.hide(),d.editingPostilObj=void 0,document.querySelector("#"+c.viewport).style.display="block",d.eventDispatcher.dispatchEvent({type:"POSTIL-EDIT-CLOSE"})},this.clearPostilStorage=function(){for(var A=localStorage.length,e=[],t=0;t<A;t+=1){var i=localStorage.key(t);-1===i.indexOf("currentCanvas-")&&-1===i.indexOf("negativeCanvas-")||e.push(i)}e.map(function(A,e){return localStorage.removeItem(A)})},this.clearPostilStorage(),this.getPostilByKey=function(A){return d.postilInfo?d.postilInfo[A]:null},this.getAllPostil=function(){return d.postilInfo?d.postilInfo:null}},Gg=function(A,e){var t=document.getElementById("svgBar"+e),n=this;if(!t){this.svg=document.createElementNS("http://www.w3.org/2000/svg","svg"),this.svg.setAttribute("id","svgBar"+e),this.svg.setAttribute("style","width: 100%; height: 10px; position:absolute; left: 0; top:0;"),A.appendChild(this.svg);var i=new Number(2).toString(),o=A.clientWidth.toString(),r=(A.clientWidth-2).toString();this.backBar=document.createElementNS("http://www.w3.org/2000/svg","line"),this.backBar.setAttribute("id","backBar"+e),this.backBar.setAttribute("class","progressBar"),this.backBar.setAttribute("x1",i),this.backBar.setAttribute("y1","1"),this.backBar.setAttribute("x2",o),this.backBar.setAttribute("y2","1"),this.backBar.setAttribute("stroke","#CFF9FE"),this.backBar.setAttribute("stroke-width","7"),this.backBar.setAttribute("stroke-linecap","round"),this.frontBar=document.createElementNS("http://www.w3.org/2000/svg","line"),this.frontBar.setAttribute("id","frontBar"+e),this.frontBar.setAttribute("class","progressBar"),this.frontBar.setAttribute("x1",i),this.frontBar.setAttribute("y1","1"),this.frontBar.setAttribute("x2",o),this.frontBar.setAttribute("y2","1"),this.frontBar.setAttribute("stroke","#58BDFD"),this.frontBar.setAttribute("stroke-dasharray",r),this.frontBar.setAttribute("stroke-dashoffset",r),this.frontBar.setAttribute("stroke-width","7"),this.frontBar.setAttribute("stroke-linecap","round"),this.svg.appendChild(this.backBar),this.svg.appendChild(this.frontBar)}this.setProgressBar=function(A,e){var t=A/e,i=r-r*t;n.svg.style.display="",n.frontBar.setAttribute("stroke-dashoffset",i.toString()),t<1||setTimeout(function(){n.deleteProgressBar()},500)},this.deleteProgressBar=function(){document.getElementsByClassName("progressBar");n.svg.style.display="none"}},jg=function(A,e){var t=A.toolId,i=A.Flag,c=A.viewer,n=e.toolbarTop,d=this,h=0;this.snapshotInfo={},this.snapshotDelConf=!0,this.deleteListener=null,this.addListener=null,this.renameListener=null,this.updateListener=null,this.annotationListener=null,this.restoreToSnapshotListener=null;var o=document.createElement("div");o.className="snapshot-content",jh.append(o,'<button class="snapshot-play">播放模型快照</button><div class="snapshot"><div class="snapshot-body"></div></div><div class="labeling-footer"><button class="but-new-create" id="add'+t+'">新建快照</button></div></div>'),this.snapshotWindow=iu.window({title:"快照",width:334,height:688,closeOnEsc:!1,closeButton:!0,afterWindowHide:function(){var A=document.getElementById("snapshot"+t);i.snapshot=!1,A&&(A.style.backgroundColor="",A.querySelector(".yj-icon").className="yj-icon snapshot-icon")},content:o}),d.snapshotWindow.setPosition({left:"",right:5,top:60}),d.snapshotWindow.windowHide(),jh.addEventListener(n.querySelector("#snapshot"+t),"click",function(A){if(i.snapshot)d.snapshotInfo=void 0,A.target.parentNode.style.backgroundColor="",A.target.className="yj-icon snapshot-icon",d.snapshotWindow.windowHide();else{d.load([]),i.snapshot=!i.snapshot,d.snapshotWindow.windowShow();var e=c.viewerImpl.modelManager.sceneState;A.target.parentNode.style.backgroundColor="#1f89de",A.target.className="yj-icon snapshot-icon active",e.getSelection()}}),jh.addEventListener(d.snapshotWindow.$el.querySelector("#add"+t),"click",function(A){var t=d.makeSnapshots();"function"==typeof d.addListener?d.addListener(t,function(A,e){A&&d.add(e||t)}):d.add(t)}),this.clear=function(){[].map.call(d.snapshotWindow.$el.querySelectorAll(".snapshot .snapshot-body"),function(A,e){A.innerHTML=""}),d.snapshotInfo={},d.snapshotDelConf=!0},this.load=function(A){Array.isArray(A)&&A.forEach(function(A){d.add(A)})},this.makeSnapshots=function(){var A,e,t,i,n,o=c.viewerImpl.modelManager.getModelSnapshotPhoto();A=o.imgURL;var r=o.width,a=o.height,s=c.viewerImpl.getSceneState();e=s.camera,t=s.state,i=s.selection.concat(),n=s.modelSelection.concat();var l=h;return h+=1,{cameraState:e,componentState:t,highlightComponentsKeys:i,highlightModelsKeys:n,imageURL:A,width:r,height:a,num:l,code:(new Date).getTime().toString(),name:"快照"+l,description:"无注释"}},jh.addEventListener(d.snapshotWindow.$el.querySelector(".snapshot-body"),"click",function(A){switch(A.target.className){case"snapshot-node-delete":d.snapshotsDelete(A);break;case"snapshot-node-img":d.snapshotsflyto(A);break;case"snapshot-node-annotation":d.snapshotsAnnotation(A);break;case"snapshot-node-button-update":d.snapshotUpdate(A)}}),jh.addEventListener(d.snapshotWindow.$el.querySelector(".snapshot-body"),"dblclick",function(A){switch(A.target.className){case"snapshot-node-name":d.snapshotsRename(A)}}),this.add=function(A){var e=A.imageURL,t=A.width,i=A.height,n=A.code,o=A.name,r=A.num,a=A.description;if(A.cameraState&&A.componentState&&e&&n&&t&&i){for(var s=d.snapshotWindow.$el.querySelectorAll(".snapshot-node"),l=0;l<s.length;l+=1)jh.css(s[l],{border:"2px"});var c='<div class="snapshot-node" code="'+n+'" imgid="'+n+'"  style="margin-bottom:20px;" num="'+r+'"><div class="snapshot-node-header"><span class="snapshot-node-name" title="双击以重命名">'+o+'</span><span class="snapshot-node-delete" title="删除快照">×</span></div><div class="snapshot-node-body" title="点击以浏览模型快照"><img class="snapshot-node-img" width="100%" height='+parseInt(i*(300/t),0)+'px" src="'+e+'"></div><div class="snapshot-node-footer"><span class="snapshot-node-annotation" title="点击以修改注释">'+a+'</span><button class="snapshot-node-button-update" yhtype="update" title="将当前模型视角更新到此快照">更新</button></div>';[].map.call(d.snapshotWindow.$el.querySelectorAll(".snapshot-body"),function(A,e){jh.append(A,c)}),d.snapshotInfo[n]=A}},this.snapshotsflyto=function(A){for(var e=d.snapshotWindow.$el.querySelectorAll(".snapshot-node"),t=0;t<e.length;t+=1)jh.css(e[t],{border:"2px"});var i=A.target.parentNode.parentNode.getAttribute("code");"function"==typeof d.restoreToSnapshotListener?d.restoreToSnapshotListener(i,function(A){d.restoreToSnapshot(i)}):d.restoreToSnapshot(i)},this.restoreToSnapshot=function(A){var e=d.snapshotInfo[A];if(e){c.viewerImpl.setSceneState({camera:e.cameraState,state:e.componentState,selection:e.highlightComponentsKeys,modelSelection:e.highlightModelsKeys});var t=d.snapshotWindow.$el.querySelector("div[imgid='"+A+"']");t&&jh.css(t,{border:"2px solid #002553"})}},this.snapshotsPlay=function(){var o=null;function r(A){var e=d.snapshotWindow.$el.querySelectorAll(".snapshot-node");if(0!==e.length){var t,i=e[A].getAttribute("imgid");if(void 0===d.snapshotInfo[i])A<e.length&&r(A+1);else{for(var n=0;n<e.length;n+=1)jh.css(e[n],{border:"2px"});jh.css(e[A],{border:"2px solid #002553"}),c.viewerImpl.setSceneState({camera:d.snapshotInfo[i].cameraState,state:d.snapshotInfo[i].componentState,selection:d.snapshotInfo[i].highlightComponentsKeys,modelSelection:d.snapshotInfo[i].highlightModelsKeys}),A<e.length-1?o=setTimeout((t=A+1,function(){r(t)}),1e3):[].map.call(d.snapshotWindow.$el.querySelectorAll(".snapshot-play"),function(A,e){A.innerHTML="播放模型快照"})}A<e.length||[].map.call(d.snapshotWindow.$el.querySelectorAll(".snapshot-play"),function(A,e){A.innerText="播放模型快照"})}else[].map.call(d.snapshotWindow.$el.querySelectorAll(".snapshot-play"),function(A,e){A.innerText="播放模型快照"})}return function(A){if("播放模型快照"===A.target.innerText){A.target.innerText="停止播放";r(0)}else"停止播放"===A.target.innerText&&(A.target.innerText="播放模型快照",o&&clearTimeout(o))}}(),jh.addEventListener(d.snapshotWindow.$el.querySelector(".snapshot-play"),"click",function(A){d.snapshotsPlay(A)}),this.snapshotsDelete=function(A){var t=A.target.parentNode.parentNode.getAttribute("imgid");if(d.snapshotDelConf){var e=iu.alert("info",{msg:"删除不可恢复，确认删除？",title:"删除确认",backdrop:!0,buttons:{yes:{closeOnClick:!1,text:"删除并不再提示"},no:{closeOnClick:!1,text:"删除"}},callback:function(A,e){"no"!==e&&"yes"!==e||("yes"===e&&(d.snapshotDelConf=!1),"function"==typeof d.deleteListener?d.deleteListener(t,function(A){A&&d.delete(t)}):d.delete(t)),A.destroy()}}),i=(new Date).getTime()-iu.window.startTime;[].map.call(d.snapshotWindow.$el.querySelectorAll(".lobibox-backdrop"),function(A,e){jh.css(A,{"z-index":i})}),e.$el.style.zIndex=i+2}else"function"==typeof d.deleteListener?d.deleteListener(t,function(A){A&&d.delete(t)}):d.delete(t)},this.delete=function(A){var e=d.snapshotWindow.$el.querySelector("div[imgid='"+A+"']");e&&e.remove(),delete d.snapshotInfo[A]},this.snapshotsRename=function(A){c.viewerImpl.cameraControl.enabled=!1;var e=A.target,i=e.parentNode.parentNode.getAttribute("imgid"),n=e.innerText,o=document.createElement("input");o.type="text",o.value=n,e.innerText="",jh.append(e,o),o.focus(),o.select(),o.addEventListener("blur",function(A){var t=A.target;t.removeEventListener("blur",function(){}),t.value!==n&&""!==jh.trim(t.value)?"function"==typeof d.renameListener?d.renameListener(i,t.value,function(A,e){A?d.rename(i,e||t.value):t.parentNode.innerText=n}):d.rename(i,t.value):t.parentNode.innerText=n,o.remove(),c.viewerImpl.cameraControl.enabled=!0})},this.rename=function(A,e){var t=d.snapshotWindow.$el.querySelector("div[imgid='"+A+"']");if(t){var i=t.querySelector(".snapshot-node-name");i&&(i.innerText=e)}d.snapshotInfo[A].name=e},this.snapshotUpdate=function(A){var i=A.target.parentNode.parentNode.getAttribute("imgid"),n=d.makeSnapshots();"function"==typeof d.updateListener?d.updateListener(i,n,function(A,e,t){A&&d.update(e||i,t||n)}):d.update(i,n)},this.update=function(A,e){var t=d.snapshotInfo[A];t&&(t.cameraState=e.cameraState,t.componentState=e.componentState,t.highlightComponentsKeys=e.highlightComponentsKeys,t.highlightModelsKeys=e.highlightModelsKeys,t.imageURL=e.imageURL);var i=d.snapshotWindow.$el.querySelector("div[imgid='"+A+"']");if(i){var n=i.querySelector(".snapshot-node-img");n&&(n.src=e.imageURL)}},this.snapshotsAnnotation=function(A){var t=A.target,n=t.parentNode.parentNode.getAttribute("imgid"),o=t.innerHTML,r=iu.prompt("text",{title:"添加/修改-注释/说明",value:t.innerHTML,multiline:!0,modal:!0,backdrop:!0,lines:6,attrs:{placeholder:"无注释"},buttons:{ok:{class:"btn btn-info",closeOnClick:!1,text:"确定"},cancel:{class:"btn btn-danger",closeOnClick:!1,text:"取消"}},callback:function(A,e){if("ok"===e){var i=r.getValue();i!==o&&""!==jh.trim(i)?"function"==typeof d.annotationListener?d.annotationListener(n,i,function(A,e,t){A&&d.annotation(e||n,t||i)}):d.annotation(n,i):t.innerHTML=o,A.destroy()}else"cancel"===e&&A.destroy()}}),i=(new Date).getTime()-iu.window.startTime;[].map.call(d.snapshotWindow.$el.querySelectorAll(".lobibox-backdrop"),function(A,e){jh.css(A,{"z-index":i})}),r.$el.style.zIndex=i+2},this.annotation=function(A,e){var t=d.snapshotWindow.$el.querySelector("div[imgid='"+A+"']");if(t){var i=t.querySelector(".snapshot-node-annotation");i&&(i.innerText=e)}d.snapshotInfo[A].description=e},this.getSnapshotByKey=function(A){return d.snapshotInfo?d.snapshotInfo[A]:null},this.getAllSnapshot=function(){return d.snapshotInfo?d.snapshotInfo:null}},Wg=function(MA,A){var BA=this;iu.viewport=document.querySelector("#"+MA.viewport),MA.getViewerImpl().getModelManager().addEventListener(lh.ON_LOAD_ERROR,function(A){nu("error",A.message||"加载出现错误",!1)}),MA.getViewerImpl().getModelManager().addEventListener(lh.ON_LOAD_INVALID_SCENE,function(A){nu("error","key为 "+A.modelKey+" 的模型信息不合法",!1)}),MA.getViewerImpl().getModelManager().addEventListener(lh.ON_NETWORK_ERROR,function(A){nu("error",A.message||"网络连接错误",!1)}),MA.getViewerImpl().getModelManager().addEventListener(lh.NO_PERMISSION,function(A){nu("error",A.message||"权限不足",!1)}),MA.getViewerImpl().getModelManager().addEventListener(lh.ACCOUNT_NO_EXIST,function(A){nu("error",A.message||"无法获取账户",!1)}),MA.getViewerImpl().getModelManager().addEventListener(lh.ON_LOAD_EMPTY_SCENE,function(A){nu("error","key为 "+A.modelKey+" 的模型场景为空，请生成场景",!1)}),MA.getViewerImpl().getModelManager().addEventListener(ch.PARSEFAILE,function(A){nu("error","key为 "+A.modelKey+" 的模型解析失败",!1)}),MA.getViewerImpl().getModelManager().addEventListener(ch.PARSING,function(A){nu("error","key为 "+A.modelKey+" 的模型解析中",!1)}),MA.getViewerImpl().getModelManager().addEventListener(ch.SCENE_NOTHING_TO_LOAD,function(A){nu("error","key为 "+A.modelKey+" 的模型没有可加载的内容",!1)});var _A=MA.viewerImpl.uuid,SA={roam:!1,sectioning:!1,multiple:!1,fullScreen:!1,attribute:!1,search:!1,measurement:!1,modelTree:!1,treeDataLoad:!1,snapshot:!1,postil:!1,mark:!1},TA={home:!0,fit:!0,restore:!0,roam:!0,multiple:!0,transparent:!1,hide:!0,isolation:!0,sectioning:!0,modelPartition:!0,wireframe:!0,color:!0,setting:!0,modelTree:!1,attribute:!0,search:!1,measurement:!0,snapshot:!0,postil:!0,mark:!0},KA={Flag:SA,lobibox:iu,toolId:_A,viewer:MA};this.progressBar=new Gg(MA.viewerImpl.domElement,_A);var o={};MA.getViewerImpl().modelManager.addEventListener(lh.ON_LOAD_PROGRESS,function(A){o[A.progress.modelKey]=[A.progress.total,A.progress.loaded];var e=0,t=0;for(var i in o)if(o.hasOwnProperty(i)){var n=o[i];e+=n[0],t+=n[1]}BA.progressBar.setProgressBar(t,e)}),MA.getViewerImpl().modelManager.addEventListener(lh.ON_LOAD_COMPLETE,function(A){delete o[A.modelKey],0===Object.keys(o).length&&BA.progressBar.setProgressBar(1,1)});var FA=MA.viewerImpl.getScene();this.undoList=[],this.redoList=[],this.maxUndoListLength=10;var r,h,u,p,LA=0;function a(A){var e=BA.undoList[A-1];if(e)switch(e.type){case"隐藏":MA.showComponentsByKey(e.data);break;case"隔离":MA.closeIsolateComponentsByKey(e.data);break;case"修改颜色":MA.closeColorfulComponentsByKey(e.data.key);break;case"框选添加":MA.closeHighlightComponentsByKey(e.data);break;case"框选移除":MA.highlightComponentsByKey(e.data);break;case"修改线框":MA.closeWireFrameComponentsByKey(e.data)}}function s(A){var e=BA.redoList[A];if(e)switch(e.type){case"隐藏":MA.hideComponentsByKey(e.data);break;case"隔离":MA.isolateComponentsByKey(e.data);break;case"修改颜色":MA.colorfulComponentsByKey(e.data.key,e.data.color,e.data.opacity);break;case"框选添加":MA.highlightComponentsByKey(e.data);break;case"框选移除":MA.closeHighlightComponentsByKey(e.data);break;case"修改线框":MA.wireFrameComponentsByKey(e.data)}}function l(A){if(void 0!==A.target.undoNum){var e=Number(A.target.undoNum);1===e&&nu("info","无法再撤销、重做。请使用ctrl+z或ctrl+shift+z",3e3),isNaN(e)||BA.undoOrRedo(e)}}this.className="Tool",this.getToolId=function(){return _A},this.getFlag=function(){return SA},this.createTool=function(A){BA.options=kh.extend(!0,{},TA,A);var e=document.createElement("div");e.id="my-tool"+_A,e.className="yj-tool",MA.viewerImpl.domElement.appendChild(e),BA.toolbar=e;var t=document.createElement("div");t.className="yj-group",e.appendChild(t);var i=document.createElement("button");i.className="yj-but",i.title="初始化",i.id="home"+_A;var n=document.createElement("div");n.classList.add("yj-icon"),n.classList.add("home-icon"),i.appendChild(n),BA.options.home&&t.appendChild(i);var o=document.createElement("button");o.className="yj-but",o.title="聚焦",o.id="fit"+_A;var r=document.createElement("div");r.classList.add("yj-icon"),r.classList.add("fit-icon"),o.appendChild(r),BA.options.fit&&t.appendChild(o);var a=document.createElement("button");a.className="yj-but",a.title="复位",a.id="restore"+_A;var s=document.createElement("div");s.classList.add("yj-icon"),s.classList.add("restore-icon"),a.appendChild(s);var l=document.createElement("ul");l.className="restoreModal",l.style.cssText+="display: none;",l.id="restoreModal"+_A;for(var c=0;c<6;c+=1){var d=document.createElement("li");d.className="input-group-addon",l.appendChild(d);var h=document.createElement("input");h.type="checkbox",h.className=5===c?"checkAll":"check",d.appendChild(h);var u=document.createElement("label");switch(d.appendChild(u),c){case 0:h.id="showSet"+_A,u.setAttribute("for","showSet"+_A),u.innerHTML="复位构件可见设置";break;case 1:h.id="highlightSet"+_A,u.setAttribute("for","highlightSet"+_A),u.innerHTML="复位构件高亮设置";break;case 2:h.id="viewSet"+_A,u.setAttribute("for","viewSet"+_A),u.innerHTML="复位模型视角设置";break;case 3:h.id="wireframeSet"+_A,u.setAttribute("for","wireframeSet"+_A),u.innerHTML="复位构件线框设置";break;case 4:h.id="colorSet"+_A,u.setAttribute("for","colorSet"+_A),u.innerHTML="复位构件颜色设置";break;case 5:h.id="checkAll"+_A,u.setAttribute("for","checkAll"+_A),u.innerHTML="全选";var p=document.createElement("input");p.type="button",p.id="reset"+_A,p.className="reset",p.value="复位选中项",d.appendChild(p)}}var g=document.createElement("ul");g.className="history",g.id="history"+_A,g.style.cssText+="display: none;";var f=document.createElement("span");f.innerText="历史记录",f.style.cssText+="color:white",g.appendChild(f),BA.options.restore&&(t.appendChild(a),t.appendChild(l),t.appendChild(g),l.style.cssText+="margin-left:"+a.style.left-l.style.width/2+"px");var m=document.createElement("button");m.className="yj-but",m.title="漫游",m.id="roam"+_A;var v=document.createElement("div");v.classList.add("yj-icon"),v.classList.add("roam-icon"),m.appendChild(v);var y=document.createElement("div");y.classList.add("roamModal"),y.classList.add("clearfix"),y.id="roamModal"+_A,y.innerHTML='<div class="roamDistance"><div><span class="distance-info">提示信息</span></div><div class="subtract">-</div><div class="distanceRangeParent"><input type="range" class="distanceRange" step="0.01" min="0.01" max="2" value="1"/></div><div class="add">+</div></div><div class="roamHeight"><div><span class="height-info">提示信息</span></div><div class="subtract">-</div><div class="heightRangeParent"><input type="range" class="heightRange" step="0.01" min="0" max="1"/></div><div class="add">+</div></div>';var C=document.createElement("div");C.className="roamOnOff",C.innerHTML='<div><div class="collisionControl"><span>碰撞:</span><input type="checkbox" id="collision'+_A+'" class=\'collision\' name="switch">    <label for="collision'+_A+'" class="choose-label"></label></div><div class="gravityControl"><span>重力:</span><input type="checkbox" id="gravity'+_A+'" class=\'gravity\' name="switch">    <label for="gravity'+_A+'" class="choose-label"></label></div></div>',BA.options.roam&&(t.appendChild(m),t.appendChild(y),t.appendChild(C),y.style.cssText+="margin-left:"+m.style.left-y.style.width/2+"px");var I=document.createElement("div");I.className="yj-group",e.appendChild(I);var x=null;BA.options.multiple&&(x=function(A,e){var t=A.toolId,i=A.Flag,n=A.viewer,o=document.createElement("button");o.className="yj-but",o.title="框选",o.id="multiple"+t;var r=document.createElement("div");r.classList.add("yj-icon"),r.classList.add("multiple-icon"),o.appendChild(r);var a=null;return o.addEventListener("click",function(){if(i.multiple)return this.style.backgroundColor="",this.querySelector(".yj-icon").className="yj-icon multiple-icon",i.multiple=!1,a&&a.remove(),a=null,void n.viewerImpl.controlManager.disableTool(vh.PICK_BY_RECT);i.roam&&(document.getElementById("roam"+t).style.backgroundColor="",document.getElementById("roam"+t).querySelector(".yj-icon").className="yj-icon roam-icon",nu("info","框选模式下将关闭漫游功能",2e3),e.exitRoam()),i.measurement&&(document.getElementById("measurement"+t).style.backgroundColor="",document.getElementById("measurement"+t).querySelector(".yj-icon").className="yj-icon measurement-icon",nu("info","框选模式下将关闭测量功能",2e3),e.exitMeasure&&e.exitMeasure()),i.sectioning&&(document.getElementById("sectioning"+t).style.backgroundColor="",document.getElementById("sectioning"+t).querySelector(".yj-icon").className="yj-icon sectioning-icon",nu("info","框选模式下将关闭剖切功能",2e3),n.viewerImpl.controlManager.disableTool(vh.CLIP_BY_BOX),i.sectioning=!1),n.render(),a=nu("info","按住'Ctrl'键,框选模式为增选;按住'Alt'键,框选模式为减选",5e3),this.style.backgroundColor="#1f89de",this.querySelector(".yj-icon").className="yj-icon multiple-icon active",i.multiple=!i.multiple,n.viewerImpl.controlManager.enableTool(n.viewerImpl,vh.PICK_BY_RECT)}),o}(KA,this),I.appendChild(x));var b=document.createElement("button");b.className="yj-but",b.title="构件透明化",b.id="transparent"+_A;var E=document.createElement("div");E.classList.add("yj-icon"),E.classList.add("transparent-icon"),b.appendChild(E);var w=document.createElement("div");w.classList.add("transparentModal"),w.classList.add("clearfix"),w.id="transparentModal"+_A;var M=document.createElement("div");w.appendChild(M);var B=document.createElement("span");B.innerHTML="提示信息",B.className="transparent-info",M.appendChild(B),(Q=document.createElement("div")).className="subtract",Q.innerHTML="-",w.appendChild(Q);var _=document.createElement("div");_.className="transparentRangeParent",w.appendChild(_);var S=document.createElement("input");S.type="range",S.className="transparentRange",S.setAttribute("step","0.01"),S.setAttribute("min","0"),S.setAttribute("max","1"),_.appendChild(S),(V=document.createElement("div")).className="add",V.innerHTML="+",w.appendChild(V),BA.options.transparent&&(I.appendChild(b),I.appendChild(w),w.style.cssText+="margin-left:"+b.style.left-w.style.width/2+"px");var T=document.createElement("button");T.className="yj-but",T.title="构件隐藏",T.id="hide"+_A;var K=document.createElement("div");K.classList.add("yj-icon"),K.classList.add("hide-icon"),T.appendChild(K),BA.options.hide&&I.appendChild(T);var F=document.createElement("button");F.className="yj-but",F.title="构件隔离",F.id="insulate"+_A;var L=document.createElement("div");L.classList.add("yj-icon"),L.classList.add("insulate-icon"),F.appendChild(L),BA.options.isolation&&I.appendChild(F);var O=document.createElement("button");O.className="yj-but",O.title="模型剖切",O.id="sectioning"+_A;var U=document.createElement("div");U.classList.add("yj-icon"),U.classList.add("sectioning-icon"),O.appendChild(U),BA.options.sectioning&&I.appendChild(O);var N=document.createElement("button");N.className="yj-but",N.title="模型分解",N.id="modelPartition"+_A;var R=document.createElement("div");R.classList.add("yj-icon"),R.classList.add("modelPartition-icon"),N.appendChild(R);var P=document.createElement("div");P.classList.add("modelPartitionModal"),P.id="modelPartitionModal"+_A,P.style.cssText+="display: none;";var D=document.createElement("div");P.appendChild(D);var Q,k=document.createElement("span");k.innerHTML="提示信息",k.className="modelPartition-info",D.appendChild(k),(Q=document.createElement("div")).className="subtract",Q.innerHTML="-",P.appendChild(Q);var z=document.createElement("div");z.className="modelPartitionRangeParent",P.appendChild(z);var V,H=document.createElement("input");H.type="range",H.className="modelPartitionRange",H.setAttribute("value","1"),H.setAttribute("name","points"),H.setAttribute("step","0.01"),H.setAttribute("min","1"),H.setAttribute("max","3"),z.appendChild(H),(V=document.createElement("div")).className="add",V.innerHTML="+",P.appendChild(V),BA.options.modelPartition&&(I.appendChild(N),I.appendChild(P),w.style.cssText+="margin-left:"+N.style.left-P.style.width/2+"px");var G=document.createElement("button");G.className="yj-but",G.title="构件线框化",G.id="wireframe"+_A;var j=document.createElement("div");j.classList.add("yj-icon"),j.classList.add("wireframe-icon"),G.appendChild(j),BA.options.wireframe&&I.appendChild(G);var W=document.createElement("button");W.className="yj-but",W.title="构件变色",W.id="color"+_A,W.style.borderRadius="0 6px 6px 0";var q=document.createElement("div");q.classList.add("yj-icon"),q.classList.add("color-icon"),W.appendChild(q);var X=document.createElement("input");X.style.cssText+="display:none;",X.className="toolColorInput",W.appendChild(X);var Y=new wu(X,{hasOpacity:!0}).element;Y.id="colorModal"+_A,Y.className="colorModal",BA.options.color&&(I.appendChild(W),I.appendChild(Y),Y.style.cssText+="margin-left:"+W.offsetLeft+"px"),Y.querySelector(".btn-yes").addEventListener("click",function(){var A=MA.getHighlightComponentsKey(),e=xu.getHexStringFromRGB(X.value),t=xu.getColorArrayFromRGBA(X.value)[3];BA.push({type:"修改颜色",data:{key:A,color:e,opacity:t}}),MA.colorfulComponentsByKey(A,e,t)});var J=document.createElement("div");J.className="yj-group",e.appendChild(J);var Z=document.createElement("button");Z.className="yj-but",Z.title="设置",Z.id="set"+_A,Z.style.borderRadius="6px";var $=document.createElement("div");$.classList.add("yj-icon"),$.classList.add("set-icon"),Z.appendChild($);var AA=document.createElement("div");AA.className="setModal",AA.id="setModal"+_A;var eA=document.createElement("div");eA.className="sceneColorDiv",eA.title="选择背景颜色",AA.appendChild(eA);var tA=document.createElement("button");tA.id="sceneColorSet"+_A,tA.className="sceneColorSet",eA.appendChild(tA);var iA=document.createElement("input");iA.style.cssText+="display:none;",iA.className="sceneColorInput",eA.appendChild(iA);var nA=new wu(iA,{hasOpacity:!0}).element;function oA(){l&&(l.style.display="none"),w&&(w.style.display="none"),P&&(P.style.display="none"),Y&&(Y.style.display="none"),AA&&(AA.style.display="none"),g&&(g.style.display="none")}nA.id="sceneColorModal"+_A,nA.className="sceneColorModal",nA.querySelector(".btn-yes").addEventListener("click",function(){oA();var A=xu.getHexStringFromRGB(iA.value),e=xu.getColorArrayFromRGBA(iA.value)[3];MA.setSceneBackGroundColor(A,e)}),nA.querySelector(".btn-no").addEventListener("click",function(){oA()});var rA=document.createElement("div");rA.className="fullScreenDiv",rA.title="全屏显示",AA.appendChild(rA);var aA=document.createElement("button");function sA(A){A.stopPropagation?A.stopPropagation():A.cancelBubble=!0}aA.className="fullScreen",aA.id="Fullscreen"+_A,rA.appendChild(aA),BA.options.setting&&(J.appendChild(Z),J.appendChild(AA),AA.appendChild(nA),nA.style.cssText+="margin-left:"+(Z.offsetWidth+5)+"px;"),document.addEventListener("click",function(A){oA()}),document.addEventListener("keydown",function(A){27===(A.keyCode?A.keyCode:A.which)&&(SA.roam&&m.click(),SA.measurement&&document.querySelector("#measurement"+_A).click(),SA.multiple&&x&&x.click(),SA.sectioning&&O.click()),(A.keyCode?A.keyCode:A.which)===Yu.Z&&(!0===A.ctrlKey&&!0===A.shiftKey&&BA.undoOrRedo(LA+1),!0===A.ctrlKey&&!1===A.shiftKey&&BA.undoOrRedo(LA-1))}),i.addEventListener("click",function(){BA.clearUndoList(),MA.resetScene()}),o.addEventListener("click",function(){MA.adaptiveSize()}),a.addEventListener("click",function(A){"none"===l.style.display&&oA(),l.addEventListener("click",function(A){sA(A)}),g.addEventListener("click",function(A){sA(A)}),l.style.display="none"===l.style.display?"block":"none",g.style.display="none"===g.style.display?"block":"none",sA(A)}),document.getElementById("reset"+_A).addEventListener("click",function(){var A=document.getElementById("showSet"+_A).checked,e=document.getElementById("highlightSet"+_A).checked,t=document.getElementById("viewSet"+_A).checked,i=document.getElementById("wireframeSet"+_A).checked,n=document.getElementById("colorSet"+_A).checked,o={};o.visible=A,o.selected=e,o.wireframed=i,o.colorfully=n,o.view=t,MA.resetScene(o)});var lA=document.querySelectorAll("input[type=checkbox].check");document.querySelector("input[type=checkbox].checkAll").addEventListener("click",function(){for(var A=0;A<lA.length;A+=1)lA[A].checked=this.checked});for(var cA=0;cA<lA.length;cA+=1)lA[cA].addEventListener("click",function(){document.querySelector("input[type=checkbox].checkAll").checked=lA.length===document.querySelectorAll("input[type=checkbox].check:checked").length});this.pathRoam=zg(KA,this,m,0,C),BA.pathRoam.setPosition({left:"",right:5,top:60}),BA.pathRoam.windowHide();var dA=w.querySelector(".subtract"),hA=w.querySelector(".add"),uA=w.querySelector(".transparentRange");b.addEventListener("click",function(A){if("none"===w.style.display&&oA(),w.addEventListener("click",function(A){sA(A)}),w.style.display="none"===w.style.display?"block":"none",MA.getHighlightComponentsKey().length<1)nu("warning","未选中构件",2e3),w.style.display="none";else{uA.value=1,document.querySelector(".transparent-info").innerText="透明度： "+100..toFixed(0)+"%"}sA(A)});var pA=zh.isIE11();uA.addEventListener(pA?"change":"input",function(A){var e=MA.getHighlightComponentsKey();document.querySelector(".transparent-info").innerHTML="透明度： "+(100*Number(uA.value)).toFixed(0)+"%",MA.transparentComponentsByKey(e,Number(uA.value),!1)}),dA.addEventListener("click",function(){var A=Number(uA.value),e=Number(uA.getAttribute("step"));uA.value=A-e;var t=MA.getHighlightComponentsKey();document.querySelector(".transparent-info").innerHTML="透明度： "+(100*Number(uA.value)).toFixed(0)+"%",MA.transparentComponentsByKey(t,Number(uA.value),!1)}),hA.addEventListener("click",function(){var A=Number(uA.value),e=Number(uA.getAttribute("step"));uA.value=A+e;var t=MA.getHighlightComponentsKey();document.querySelector(".transparent-info").innerHTML="透明度： "+(100*Number(uA.value)).toFixed(0)+"%",MA.transparentComponentsByKey(t,Number(uA.value),!1)}),T.addEventListener("click",function(){var A=MA.getHighlightComponentsKey();A.length<1?nu("warning","未选中构件",2e3):(BA.push({type:"隐藏",data:A}),MA.hideComponentsByKey(A))}),F.addEventListener("click",function(){var A=MA.getHighlightComponentsKey();A.length<1?nu("warning","未选中构件",2e3):(BA.push({type:"隔离",data:A}),MA.isolateComponentsByKey(A))});var gA=document.createElement("div");gA.className="section-body";var fA=document.createElement("div");fA.style.cssText+="color: #ff6700;top: 10px;height: 60px;text-align: center;font-size: 16px;",gA.appendChild(fA);var mA=document.createElement("span");mA.innerHTML="是否显示剖切框",fA.appendChild(mA);var vA=document.createElement("input");vA.type="radio",vA.name="UIControl",vA.value=1,vA.checked="checked",fA.appendChild(vA);var yA=document.createElement("span");yA.innerHTML="显示",fA.appendChild(yA);var CA=document.createElement("input");CA.type="radio",CA.name="UIControl",CA.value=0,CA.checked="",fA.appendChild(CA);var IA=document.createElement("span");IA.innerHTML="不显示",fA.appendChild(IA);var xA=document.createElement("button");xA.innerHTML="确定",xA.type="button",xA.style.cssText+="width:80px;height:30px;border-radius:10px;display:block;margin:0 auto;",gA.appendChild(xA),this.sectionWindow=iu.window({title:"剖切",id:"sectionWindow",width:334,height:405,closeOnEsc:!1,closeButton:!0,afterWindowHide:function(){SA.sectioning=!1,document.getElementById("sectioning"+_A).style.backgroundColor="",vA.checked="checked",CA.checked="",MA.viewerImpl.controlManager.disableTool(vh.CLIP_BY_BOX),FA.clipPlanes=null,MA.render()},content:gA}),BA.sectionWindow.setPosition({left:"",right:5,top:60}),BA.sectionWindow.windowHide(),O.addEventListener("click",function(){if(SA.sectioning)return this.style.backgroundColor="",this.querySelector(".yj-icon").className="yj-icon sectioning-icon",BA.sectionWindow.windowHide(),SA.sectioning=!1,void MA.disableSectionBox();SA.multiple&&(document.getElementById("multiple"+_A).style.backgroundColor="",document.getElementById("multiple"+_A).querySelector(".yj-icon").className="yj-icon multiple-icon",nu("info","剖切模式下将关闭框选功能",2e3),MA.viewerImpl.controlManager.disableTool(vh.PICK_BY_RECT),SA.multiple=!1),SA.roam&&(document.getElementById("roam"+_A).style.backgroundColor="",document.getElementById("roam"+_A).querySelector(".yj-icon").className="yj-icon roam-icon",nu("info","剖切模式下将关闭漫游功能",2e3),BA.exitRoam()),SA.measurement&&(document.getElementById("measurement"+_A).style.backgroundColor="",document.getElementById("measurement"+_A).querySelector(".yj-icon").className="yj-icon measurement-icon",nu("info","剖切模式下将关闭测量功能",2e3),BA.exitMeasure&&BA.exitMeasure()),MA.render(),this.style.backgroundColor="#1f89de",this.querySelector(".yj-icon").className="yj-icon sectioning-icon active",BA.sectionWindow.windowShow(),SA.sectioning=!SA.sectioning,MA.enableSectionBox(),xA.addEventListener("click",function(){0<document.querySelector("#sectionWindow input[type=radio]:checked").value?MA.showSectionBox():MA.hideSectionBox()})});var bA=P.querySelector(".subtract"),EA=P.querySelector(".add"),wA=P.querySelector(".modelPartitionRange");N.addEventListener("click",function(A){SA.roam&&(document.getElementById("roam"+_A).style.backgroundColor="",nu("info","模型分解模式下将关闭漫游功能",2e3),BA.exitRoam()),MA.render(),"none"===P.style.display&&oA(),P.addEventListener("click",function(A){sA(A)}),P.style.display="none"===P.style.display?"block":"none",k.innerText="离散系数： "+wA.value,sA(A)}),wA.addEventListener("change",function(A){document.querySelector(".modelPartition-info").innerText="离散系数： "+wA.value;var e=MA.getViewerImpl().modelManager.getModelKeys(),t=Number(wA.value);isNaN(t)||MA.modelsExplosion({modelKey:e,coefficientX:t,coefficientY:t,coefficientZ:t})}),bA.addEventListener("click",function(){var A=wA.value,e=Number(wA.getAttribute("step"));wA.value=Number(A)-e,document.querySelector(".modelPartition-info").innerText="离散系数： "+wA.value;var t=MA.getViewerImpl().modelManager.getModelKeys(),i=Number(wA.value);isNaN(i)||MA.modelsExplosion({modelKey:t,coefficientX:i,coefficientY:i,coefficientZ:i})}),EA.addEventListener("click",function(){var A=wA.value,e=Number(wA.getAttribute("step"));wA.value=Number(A)+e,document.querySelector(".modelPartition-info").innerText="离散系数： "+wA.value;var t=MA.getViewerImpl().modelManager.getModelKeys(),i=Number(wA.value);isNaN(i)||MA.modelsExplosion({modelKey:t,coefficientX:i,coefficientY:i,coefficientZ:i})}),G.addEventListener("click",function(){var A=MA.getHighlightComponentsKey();A.length<1?nu("warning","未选中构件",2e3):(BA.push({type:"修改线框",data:A}),MA.wireFrameComponentsByKey(A,!0))}),W.addEventListener("click",function(A){"none"===Y.style.display&&oA(),Y.addEventListener("click",function(A){sA(A)}),Y.style.display="none"===Y.style.display?"block":"none",MA.getHighlightComponentsKey().length<1&&(nu("warning","未选中构件",2e3),Y.style.display="none"),sA(A)}),Z.addEventListener("click",function(A){"none"===AA.style.display&&oA(),AA.addEventListener("click",function(A){sA(A)}),AA.style.display="none"===AA.style.display?"block":"none",nA.style.display="none",sA(A)}),tA.addEventListener("click",function(A){nA.addEventListener("click",function(A){sA(A)}),nA.style.display="none"===nA.style.display?"block":"none",sA(A)}),aA.addEventListener("click",function(A){oA();var e=document.getElementById("Fullscreen"+_A);SA.fullScreen?(SA.fullScreen=!1,Su.exitFullScreen(),e.className="fullScreen",e.title="全屏显示"):(SA.fullScreen=!0,Su.fullScreen(MA.viewportDiv),e.className="cancelFullScreen",e.title="取消全屏")}),e.style.cssText+="margin-left:"+-e.clientWidth/2+"px",MA.viewportDiv.focus(),BA.createTool2()},this.createTool2=function(){var A=document.createElement("div");A.id="my-tool2"+_A,A.className="yj-tool2",MA.viewerImpl.domElement.appendChild(A),this.toolbarTop=A;var e=document.createElement("div");e.className="yj-group",A.appendChild(e);var t=document.createElement("button");t.className="yj-but",t.title="模型树",t.id="modelTree"+_A;var i=document.createElement("div");i.classList.add("yj-icon"),i.classList.add("modelTree-icon"),t.appendChild(i),BA.options.modelTree&&e.appendChild(t);var n=document.createElement("button");n.className="yj-but",n.title="构件属性",n.id="attribute"+_A;var o=document.createElement("div");o.classList.add("yj-icon"),o.classList.add("attribute-icon"),n.appendChild(o),BA.options.attribute&&(e.appendChild(n),this.attributeWindow=function(A){var e=A.lobibox,t=A.toolId,i=A.Flag,n=document.createElement("div");n.className="tab-body",n.id="tab-properties"+t;var o=document.createElement("table");o.classList.add("sx-table"),o.classList.add("table-no-top"),n.appendChild(o);var r=document.createElement("thead");o.appendChild(r);var a=document.createElement("tbody");o.appendChild(a);var s=document.createElement("tr");s.className="noprop",a.appendChild(s);var l=document.createElement("td");return l.innerText="尚未选择构件",s.appendChild(l),e.window({title:"属性",width:334,height:688,closeOnEsc:!1,closeButton:!0,afterWindowHide:function(){var A=document.getElementById("attribute"+t);i.attribute=!1,A&&(A.style.backgroundColor="",A.querySelector(".yj-icon").className="yj-icon attribute-icon")},content:n})}(KA),BA.attributeWindow.setPosition({left:"",right:5,top:60}),BA.attributeWindow.windowHide(),n.addEventListener("click",function(){if(SA.attribute)this.style.backgroundColor="",BA.attributeWindow.windowHide();else{SA.attribute=!SA.attribute,this.style.backgroundColor="#1f89de",this.querySelector(".yj-icon").className="yj-icon attribute-icon active",BA.attributeWindow.windowShow();var A=MA.viewerImpl.modelManager.sceneState;A.getSelection()&&BA.showComponentAttribute(A.getSelection()[0])}}));var r=document.createElement("button");r.className="yj-but",r.title="查询",r.id="search"+_A;var a=document.createElement("div");a.classList.add("yj-icon"),a.classList.add("search-icon"),r.appendChild(a);var s=document.createElement("button");s.className="yj-but",s.title="模型测量",s.id="measurement"+_A;var l=document.createElement("div");l.classList.add("yj-icon"),l.classList.add("measurement-icon"),s.appendChild(l),BA.options.measurement&&(e.appendChild(s),s.addEventListener("click",function(A){SA.measurement?(SA.measurement=!1,this.style.backgroundColor="",this.querySelector(".yj-icon").className="yj-icon measurement-icon",MA.viewerImpl.controlManager.disableTool(vh.PICK_BY_MEASURE)):(SA.measurement=!0,this.style.backgroundColor="#1f89de",this.querySelector(".yj-icon").className="yj-icon measurement-icon active",MA.viewerImpl.controlManager.enableTool(MA.viewerImpl,vh.PICK_BY_MEASURE))}));var c=document.createElement("div");c.className="yj-group",A.appendChild(c);var d=document.createElement("button");d.className="yj-but",d.title="添加标签",d.id="mark"+_A;var h=document.createElement("div");h.classList.add("yj-icon"),h.classList.add("label-icon"),d.appendChild(h),BA.options.mark&&(c.appendChild(d),BA.mark=new Qg(KA,this));for(var u=document.querySelectorAll("button"),p=0;p<u.length;p+=1)u[p].addEventListener("mouseover",function(A){this.style.backgroundColor="#1f89de"}),u[p].addEventListener("mouseout",function(A){1<this.id.split(_A).length&&(SA[this.id.split(_A)[0]]||(this.style.backgroundColor=""))});if(MA.viewerImpl.modelManager.addEventListener(lh.ON_CLICK_PICK,function(A){SA.attribute&&(A.intersectInfo?BA.showComponentAttribute(MA.viewerImpl.modelManager.sceneState.getSelection()[0]):BA.showComponentAttribute())}),BA.options.snapshot){jh.append(c,'<button type="button" class="yj-but" title="快照" id="snapshot'+_A+'"><div class="yj-icon snapshot-icon" ></div></button>');var g=document.getElementById("snapshot"+_A);g.addEventListener("mouseover",function(A){this.style.backgroundColor="#1f89de"}),g.addEventListener("mouseout",function(A){SA[this.id.split(_A)[0]]||(this.style.backgroundColor="")}),BA.snapshot=new jg(KA,this)}if(BA.options.postil){jh.append(c,'<button type="button" class="yj-but" title="批注" id="postil'+_A+'"><div class="yj-icon postil-icon" ></div></button>');var f=document.getElementById("postil"+_A);f.addEventListener("mouseover",function(A){this.style.backgroundColor="#1f89de"}),f.addEventListener("mouseout",function(A){SA[this.id.split(_A)[0]]||(this.style.backgroundColor="")}),BA.postil=new Hg(KA,this)}MA.viewportDiv.focus()},this.showComponentAttribute=(r="",h=document.getElementById("tab-properties"+_A),u=function(A,e,t){var i=document.createElement("tr");t.parentNode.appendChild(i),i.appendChild(document.createElement("td")),i.querySelector("td").innerHTML=A;var n=document.createElement("td"),o=null===e?"":e,r=document.createElement("span");r.classList.add("value"),r.classList.add("nonEditable"),r.innerHTML=o,n.appendChild(r),i.appendChild(n)},p=function(A,e){var t=document.createElement("tr");t.className="sx-active",h.querySelector("table tbody").appendChild(t);var i=document.createElement("td");for(var n in i.colSpan=2,i.style.fontSize="14px",t.appendChild(i),i.appendChild(document.createElement("b")),i.firstElementChild.innerHTML=A,e)u(n,e[n],t)},function(A){if(h=document.querySelector("#tab-properties"+_A),A!==r){if(void 0===A){var e=h.querySelectorAll("table tbody tr");h.querySelector("table tbody").removeChild(e[0]),h.querySelector("table tbody").innerHTML="";var t=document.createElement("tr");t.className="noprop";var i=document.createElement("td");return i.setAttribute("colspan","2"),i.innerHTML="未选中构件",t.appendChild(i),h.querySelector("table tbody").appendChild(t),void(r=A)}r=A,h.querySelector("table tbody").innerHTML="";var n=MA.viewerImpl.getModelByComponentKey(r),o="";n&&(o=n.projectKey),BA.getComponentAttribute({key:r,projectKey:o},function(A){if(h.querySelector("table tbody").innerHTML="",null===A){var e=document.createElement("tr");e.className="noprop";var t=document.createElement("td");return t.innerHTML="没有属性",e.appendChild(t),void h.querySelector("table tbody").appendChild(e)}if(void 0===A){var i=document.createElement("tr");i.className="noprop";var n=document.createElement("td");return n.innerHTML="属性加载失败",i.appendChild(n),void h.querySelector("table tbody").appendChild(i)}var o=document.createElement("tr");o.className="noprop";var r=document.createElement("th");o.appendChild(r);var a=document.createElement("span");a.classList.add("value"),a.classList.add("nonEditable"),a.innerHTML="名称",r.appendChild(a);var s=document.createElement("th");o.appendChild(s);var l=document.createElement("span");l.classList.add("value"),l.classList.add("nonEditable"),l.innerHTML="值",s.appendChild(l),h.querySelector("table tbody").appendChild(o);var c=A;for(var d in c)"object"===Bh(c[d])?p(d,c[d]):"string"==typeof c[d]&&u(d,c[d],o)})}}),this.undoOrRedo=function(A){A<BA.maxUndoListLength||(A=BA.maxUndoListLength),A<0&&(A=0);var e=document.querySelectorAll(".history_li");if(A<LA)for(var t=LA;A<=t;t-=1){a(t+1);var i=e[t];i&&(i.classList.remove("history_redo"),i.classList.add("history_undo"))}if(LA<A)for(var n=LA;n<A;n+=1){s(n);var o=e[n];o&&(o.classList.remove("history_undo"),o.classList.add("history_redo"))}LA=A},this.clearUndoList=function(){LA=0,BA.undoList=[],BA.redoList=[];var A=document.querySelector(".history");if(A){A.innerHTML="";var e=document.createElement("span");e.innerText="历史记录",e.style.cssText+="color:white",A.appendChild(e)}},this.push=function(A){if(LA<BA.undoList.length&&(BA.undoList.splice(LA,BA.maxUndoListLength),BA.redoList.splice(LA,BA.maxUndoListLength)),BA.undoList.length<BA.maxUndoListLength||(BA.undoList.shift(),BA.redoList.shift(),LA-=1),BA.maxUndoListLength-(LA+=1),BA.undoList.push(A),BA.redoList.push(A),BA.options.restore){var e=document.querySelector(".history");if(e){e.innerHTML="";var t=document.createElement("span");t.innerText="历史记录",t.style.cssText+="color:white",e.appendChild(t);for(var i=0;i<LA;i+=1){var n=document.createElement("li");n.innerHTML=BA.undoList[i].type,n.undoNum=i+1,n.title="点击执行撤销或重做",n.className="history_li history_redo",n.addEventListener("click",l),e.appendChild(n)}}}},MA.getViewerImpl().getModelManager().addEventListener(lh.ON_RECTPICK_ADD,function(A){A.list&&BA.push({type:"框选添加",data:A.list})}),MA.getViewerImpl().getModelManager().addEventListener(lh.ON_RECTPICK_REMOVE,function(A){A.list&&BA.push({type:"框选移除",data:A.list})}),this.getComponentAttribute=function(A,e){MA.getComponentsAttributeByKey(A.key,function(A){A&&e(A.attribute)})},this.exitMeasure=function(){if(SA.measurement){var A=document.getElementById("measurement"+_A);A&&jh.fireEvent(A,"click")}},this.exitRoam=function(){if(SA.roam){var A=document.getElementById("roam"+_A);A&&(jh.fireEvent(A,"click"),SA.roam=!1)}}},qg=function(A){this.viewer=A,this.viewportDIV=A.viewerImpl.renderer.domElement.parentElement,this.creatSVG=function(){document.getElementById("svgid"+this.viewer.getViewerImpl().uuid)||(this.svg=document.createElementNS("http://www.w3.org/2000/svg","svg"),this.svg.setAttribute("id","svgid"+this.viewer.getViewerImpl().uuid),this.svg.setAttribute("style","width: 100%; height: 100%; position:absolute; left: 0; top:0;"),this.viewportDIV.appendChild(this.svg))},this.creatRect=function(A){var e=A.data.left,t=A.data.top,i=A.data.width,n=A.data.height,o=A.data.visible;this.deleteRect(),o&&(this.rect=document.createElementNS("http://www.w3.org/2000/svg","rect"),this.rect.setAttribute("id","rectid"+this.viewer.getViewerImpl().uuid),this.rect.setAttribute("x",e),this.rect.setAttribute("y",t),this.rect.setAttribute("width",i),this.rect.setAttribute("height",n),this.rect.setAttribute("style","fill:#0DFFB2;stroke-width:2;stroke:rgb(0,255,0);fill-opacity:0.1;stroke-opacity:0.9"),this.svg.appendChild(this.rect))},this.deleteRect=function(){var A=document.getElementById("rectid"+this.viewer.getViewerImpl().uuid);A&&this.svg.removeChild(A)},this.deleteSVG=function(){if(this.svg){var A=document.getElementById("rectid"+this.viewer.getViewerImpl().uuid);A&&this.svg.removeChild(A),this.viewportDIV.removeChild(this.svg)}},this.creatMoveCircle=function(A){var e=A.x,t=A.y;this.circleMov=document.createElementNS("http://www.w3.org/2000/svg","circle"),this.circleMov.setAttribute("id","circleMove"+this.viewer.getViewerImpl().uuid),this.circleMov.setAttribute("cx",e),this.circleMov.setAttribute("cy",t),this.circleMov.setAttribute("r","5"),this.circleMov.setAttribute("style","fill:#500A11;stroke-width:2;stroke:rgb(0,255,0);fill-opacity:0.9;stroke-opacity:0.9"),this.svg.appendChild(this.circleMov)},this.changeMoveCircleStyle=function(A){var e=document.getElementById("circleMove"+this.viewer.getViewerImpl().uuid);e.setAttribute("cx",A[0]),e.setAttribute("cy",A[1]),e.setAttribute("style","fill:#00ff00;stroke-width:1;stroke:rgb(60,240,240);fill-opacity:0.9;stroke-opacity:0.9")},this.deleteCircle=function(){var A=document.getElementById("circleMove"+this.viewer.getViewerImpl().uuid);A&&this.svg.removeChild(A)},this.createMoveLine=function(A,e){var t=A.x,i=A.y,n=e.x,o=e.y;this.deleteMoveLine(),this.moveline=document.createElementNS("http://www.w3.org/2000/svg","line"),this.moveline.setAttribute("id","moveLine"+this.viewer.getViewerImpl().uuid),this.moveline.setAttribute("class","moveLine"),this.moveline.setAttribute("x1",t),this.moveline.setAttribute("y1",i),this.moveline.setAttribute("x2",n),this.moveline.setAttribute("y2",o),this.moveline.setAttribute("stroke","#0AEA06"),this.moveline.setAttribute("stroke-width","2"),this.svg.appendChild(this.moveline)},this.deleteMoveLine=function(){var A=document.getElementById("moveLine"+this.viewer.getViewerImpl().uuid);A&&this.svg.removeChild(A)},this.creatPickCircle=function(A,e){var t=A.x,i=A.y;this.circlePic=document.createElementNS("http://www.w3.org/2000/svg","circle"),this.circlePic.setAttribute("id","circlePick"+this.viewer.getViewerImpl().uuid+e),this.circlePic.setAttribute("class","circlePick"),this.circlePic.setAttribute("cx",t),this.circlePic.setAttribute("cy",i),this.circlePic.setAttribute("r","5"),this.circlePic.setAttribute("style","fill:#00ff00;stroke-width:1;stroke:rgb(60,240,240);fill-opacity:0.9;stroke-opacity:0.9"),this.svg.appendChild(this.circlePic)},this.creatLine=function(A,e,t,i){var n=A.x,o=A.y,r=e.x,a=e.y;this.line=document.createElementNS("http://www.w3.org/2000/svg","line"),this.line.setAttribute("id","pickline"+this.viewer.getViewerImpl().uuid+i),this.line.setAttribute("class","pickline"),this.line.setAttribute("x1",n),this.line.setAttribute("y1",o),this.line.setAttribute("x2",r),this.line.setAttribute("y2",a),this.line.setAttribute("stroke",t),this.line.setAttribute("stroke-width","2"),this.svg.appendChild(this.line)},this.deleteLineAndCircle=function(){for(var A=this.svg.getElementsByClassName("pickline"),e=this.svg.getElementsByClassName("circlePick");A.length;)this.svg.removeChild(A[A.length-1]);for(;e.length;)this.svg.removeChild(e[e.length-1])}},Xg=function(A,i){var n=this;this.viewer=A,this.preRotationHandle=i,this.mouseButtons={LEFT:pA.LEFT,RIGHT:pA.RIGHT},this.visible=!0,this.isAnimationFinish=!0,this.pickedColor=16763094,this.width=0,this.height=0,this.isDisable=!1;var o=null,r=null,e=0,a=1,s=2,t=220,l=150,c=80,d=1,h=2,u=5,p=6,g=3,f=4,m="Home",v="Bottom",y="Top",C="Left",I="Right",x="Front",b="Back",E="Bottom_Front",w="Bottom_Back",M="Bottom_Right",B="Bottom_Left",_="Top_Front",S="Top_Back",T="Top_Right",K="Top_Left",F="LeftFront",L="LeftBack",O="RightFront",U="RightBack",N="Bottom_FrontRight",R="Bottom_FrontLeft",P="Bottom_BackLeft",D="Bottom_BackRight",Q="Top_FrontRight",k="Top_FrontLeft",z="Top_BackLeft",V="Top_BackRight",H=1e-4,G=new ii,j=new Tl(-l/2,l/2,l/2,-l/2,-l/2,l/2),W=new $u,q=new fr,Y=new fr,J=new fr;q.add(Y),q.add(J),this._cube=q;var X=!1,Z=!1,$=new Le,AA=new Le,eA=new Le,tA=new Le,iA=!1,nA="",oA=null,rA=-1,aA=!1;this.uninit=function(){this.removeDomEventListeners(),o&&(o.removeChild(r.domElement),o=null)},this.enable=function(){o&&r&&!r.domElement.parentNode&&(o.appendChild(r.domElement),this.addDomEventListeners())},this.disable=function(){o&&r&&r.domElement.parentNode&&(this.removeDomEventListeners(),o.removeChild(r.domElement))};!function(){var A=new Yr({color:0,side:IA}),e=new en;e.vertices.push(new Ue(-40,40,40),new Ue(40,40,40));var t=new Jr(e,A);J.add(t);var i=new en;i.vertices.push(new Ue(40,40,40),new Ue(40,40,-40));var n=new Jr(i,A);J.add(n);var o=new en;o.vertices.push(new Ue(40,40,-40),new Ue(-40,40,-40));var r=new Jr(o,A);J.add(r);var a=new en;a.vertices.push(new Ue(-40,40,-40),new Ue(-40,40,40));var s=new Jr(a,A);J.add(s);var l=new en;l.vertices.push(new Ue(-40,40,-40),new Ue(-40,-40,-40));var c=new Jr(l,A);J.add(c);var d=new en;d.vertices.push(new Ue(40,40,-40),new Ue(40,-40,-40));var h=new Jr(d,A);J.add(h);var u=new en;u.vertices.push(new Ue(40,40,40),new Ue(40,-40,40));var p=new Jr(u,A);J.add(p);var g=new en;g.vertices.push(new Ue(-40,40,40),new Ue(-40,-40,40));var f=new Jr(g,A);J.add(f);var m=new en;m.vertices.push(new Ue(-40,-40,40),new Ue(40,-40,40));var v=new Jr(m,A);J.add(v);var y=new en;y.vertices.push(new Ue(40,-40,40),new Ue(40,-40,-40));var C=new Jr(y,A);J.add(C);var I=new en;I.vertices.push(new Ue(40,-40,-40),new Ue(-40,-40,-40));var x=new Jr(I,A);J.add(x);var b=new en;b.vertices.push(new Ue(-40,-40,-40),new Ue(-40,-40,40));var E=new Jr(b,A);J.add(E);var w=new Al;w.load(Mu.front,function(A){var e=new ji(new Fn(60,60),new yi({map:A,color:16777215,side:gA}));e.position.set(40,0,0),e.rotation.y=.5*Math.PI,e.rotation.x=.5*Math.PI,e.name="Front",Y.add(e)}),w.load(Mu.back,function(A){var e=new ji(new Fn(60,60),new yi({map:A,color:16777215,side:gA}));e.position.set(-40,0,0),e.rotation.y=.5*Math.PI,e.rotation.x=.5*Math.PI,e.name="Back",Y.add(e)}),w.load(Mu.left,function(A){var e=new ji(new Fn(60,60),new yi({map:A,color:16777215,side:gA}));e.position.set(0,-40,0),e.rotation.x=.5*Math.PI,e.name="Left",Y.add(e)}),w.load(Mu.right,function(A){var e=new ji(new Fn(60,60),new yi({map:A,color:16777215,side:gA}));e.position.set(0,40,0),e.rotation.x=.5*Math.PI,e.name="Right",Y.add(e)}),w.load(Mu.top,function(A){var e=new ji(new Fn(60,60),new yi({map:A,color:16777215,side:gA}));e.position.set(0,0,40),e.rotation.z=.5*Math.PI,e.name="Top",Y.add(e)}),w.load(Mu.bottom,function(A){var e=new ji(new Fn(60,60),new yi({map:A,color:16777215,side:gA}));e.position.set(0,0,-40),e.rotation.z=.5*Math.PI,e.name="Bottom",Y.add(e)});var M=new nn(10,60,10),B=new ji(M,new yi({color:16777215}));B.position.set(35,0,35),B.name="Top_Front",Y.add(B);var _=new ji(M,new yi({color:16777215}));_.position.set(35,0,-35),_.name="Bottom_Front",Y.add(_);var S=new ji(M,new yi({color:16777215}));S.position.set(-35,0,35),S.name="Top_Back",Y.add(S);var T=new ji(M,new yi({color:16777215}));T.position.set(-35,0,-35),T.name="Bottom_Back",Y.add(T);var K=new nn(60,10,10),F=new ji(K,new yi({color:16777215}));F.position.set(0,-35,35),F.name="Top_Left",Y.add(F);var L=new ji(K,new yi({color:16777215}));L.position.set(0,-35,-35),L.name="Bottom_Left",Y.add(L);var O=new ji(K,new yi({color:16777215}));O.position.set(0,35,35),O.name="Top_Right",Y.add(O);var U=new ji(K,new yi({color:16777215}));U.position.set(0,35,-35),U.name="Bottom_Right",Y.add(U);var N=new nn(10,10,60),R=new ji(N,new yi({color:16777215}));R.position.set(35,-35,0),R.name="LeftFront",Y.add(R);var P=new ji(N,new yi({color:16777215}));P.position.set(35,35,0),P.name="RightFront",Y.add(P);var D=new ji(N,new yi({color:16777215}));D.position.set(-35,-35,0),D.name="LeftBack",Y.add(D);var Q=new ji(N,new yi({color:16777215}));Q.position.set(-35,35,0),Q.name="RightBack",Y.add(Q);var k=new nn(10,10,10),z=new ji(k,new yi({color:16777215}));z.position.set(35,-35,35),z.name="Top_FrontLeft",Y.add(z);var V=new ji(k,new yi({color:16777215}));V.position.set(35,-35,-35),V.name="Bottom_FrontLeft",Y.add(V);var H=new ji(k,new yi({color:16777215}));H.position.set(35,35,35),H.name="Top_FrontRight",Y.add(H);var G=new ji(k,new yi({color:16777215}));G.position.set(35,35,-35),G.name="Bottom_FrontRight",Y.add(G);var j=new ji(k,new yi({color:16777215}));j.position.set(-35,-35,35),j.name="Top_BackLeft",Y.add(j);var W=new ji(k,new yi({color:16777215}));W.position.set(-35,-35,-35),W.name="Bottom_BackLeft",Y.add(W);var q=new ji(k,new yi({color:16777215}));q.position.set(-35,35,35),q.name="Top_BackRight",Y.add(q);var X=new ji(k,new yi({color:16777215}));X.name="Bottom_BackRight",X.position.set(-35,35,-35),Y.add(X)}(),G.add(q);var sA=function(A){for(var e=(Z=A)?.8:1,t=q.children,i=0;i<t.length;i+=1)for(var n=t[i].children,o=0;o<n.length;o+=1)n[o].material.transparent=A,n[o].material.opacity=e};sA(!1);var lA=function(){oA&&oA.material.color.set(oA.currentColor),oA=null},cA=function(A){if(void 0!==o){var e=jh.getDomOffsetToClient(o),t=new Le;if(t.x=A.x-e.left,t.y=A.y-e.top,0<t.x&&t.x<n.width&&0<t.y&&t.y<n.height)return tA.x=t.x/n.width*2-1,tA.y=-t.y/n.height*2+1,!0}return!1},dA=function(){var A=new Ue(tA.x,tA.y,.5);W.setFromCamera(A,j);var e,t=W.intersectObjects(q.children[0].children);t?oA!==(e=t.object)&&(oA&&oA.material.color.set(oA.currentColor),(oA=e).currentColor=oA.material.color.clone(),""!==oA.name&&oA.material.color.set(n.pickedColor)):lA()};this.mouseUp=function(A){A.stopPropagation();var e=new Le(A.clientX,A.clientY),t=cA(e);return X?(X=!1,AA.set(e.x,e.y),eA.subVectors(AA,$),this.preRotationHandle&&!this.preRotationHandle()||(this.viewer.rotateCamera(eA),$.copy(AA))):t&&A.button===n.mouseButtons.LEFT&&oA&&(rA=-1,function(A){var e=-1;switch(A){case m:e=rh.Home;break;case y:e=rh.Top;break;case v:e=rh.Bottom;break;case E:e=rh.BottomFront;break;case w:e=rh.BottomBack;break;case M:e=rh.BottomRight;break;case B:e=rh.BottomLeft;break;case N:e=rh.BottomFrontRight;break;case R:e=rh.BottomFrontLeft;break;case P:e=rh.BottomBackLeft;break;case D:e=rh.BottomBackRight;break;case _:e=rh.TopFront;break;case S:e=rh.TopBack;break;case T:e=rh.TopRight;break;case K:e=rh.TopLeft;break;case Q:e=rh.TopFrontRight;break;case k:e=rh.TopFrontLeft;break;case z:e=rh.TopBackLeft;break;case V:e=rh.TopBackRight;break;case x:e=rh.Front;break;case b:e=rh.Back;break;case C:e=rh.Left;break;case I:e=rh.Right;break;case F:e=rh.FrontLeft;break;case L:e=rh.BackLeft;break;case O:e=rh.FrontRight;break;case U:e=rh.BackRight}rA=e}(oA.name),-1!==rA&&(i(rA),null!=rA&&n.viewer.rotateCameraByViewCubeSide(rA))),t},this.mouseMove=function(A){A.stopPropagation();var e=!1,t=new Le(A.clientX,A.clientY),i=cA(t);if(X)AA.set(t.x,t.y),eA.subVectors(AA,$),this.preRotationHandle&&!this.preRotationHandle()||(this.viewer.rotateCamera(eA),$.copy(AA));else if(i){if(Z&&(sA(!1),e=!0),dA(),oA){if(""!==oA.name){var n=oA.name;nA!==n&&(nA=n,e=iA=!0)}}else""!==nA&&(nA="",e=!(iA=!1));e&&this.render(),aA=!0}else aA&&(aA=!1,iA&&(lA(),e=!(iA=!1)),e&&this.render());return i},this.mouseDown=function(A){A.preventDefault(),A.stopPropagation();var e=new Le(A.clientX,A.clientY),t=cA(e);return t&&A.button===n.mouseButtons.LEFT&&(X=!1),t},this.onMouseDownBinded=this.mouseDown.bind(this),this.onMouseMoveBinded=this.mouseMove.bind(this),this.onMouseUpBinded=this.mouseUp.bind(this),this.addDomEventListeners=function(){o&&(o.addEventListener("contextmenu",function(A){A.preventDefault()},!1),o.addEventListener("mousedown",this.onMouseDownBinded,!1),window.addEventListener("mousemove",this.onMouseMoveBinded,!1),o.addEventListener("mouseup",this.onMouseUpBinded,!1))},this.removeDomEventListeners=function(){o&&(o.removeEventListener("contextmenu",function(A){A.preventDefault()},!1),o.removeEventListener("mousedown",this.onMouseDownBinded,!1),window.removeEventListener("mousemove",this.onMouseMoveBinded,!1),window.removeEventListener("mouseup",this.onMouseUpBinded,!1))};var hA=function(A){switch(A){case e:n.width=t,n.height=t;break;case a:n.width=l,n.height=l;break;case s:default:n.width=c,n.height=c}o.style.width=n.width+"px",o.style.height=n.height+"px"};this.resize=function(A,e,t){hA(A<200||t?s:a),r.setSize(this.width,this.height)};this.init=function(A){var e;o=document.createElement("div"),(e=o).style.position="absolute",e.style.display="block",e.style.outline="0",e.style.left="20px",e.style.top="20px",e.style.opacity=".6",e.style.webkitTransition="opacity .2s ease",e.style.mozTransition="opacity .2s ease",e.style.msTransform="opacity .2s ease",e.style.oTransform="opacity .2s ease",e.style.transition="opacity .2s ease",A.appendChild(o),r=new Dr({antialias:!0,alpha:!0,preserveDrawingBuffer:!0}),o.appendChild(r.domElement),this.resize(A.offsetWidth,A.offsetHeight,this.viewer.isMobile),this.addDomEventListeners()};var uA=function(A,e,t){return e<A?A-e<=t:e-A<=t};this.render=function(){if(this.visible&&!this.isDisable&&r){var A=this.viewer.getActiveCameraInfo(),e=A.quaternion.clone().inverse();this._cube.quaternion.copy(e),-1===rA&&(rA=function(A,e){var t=A.clone();t.normalize();var i=e.clone();if(i.normalize(),uA(t.x,0,H)&&uA(t.y,-1,H)&&uA(t.z,0,H)&&uA(i.x,0,H)&&uA(i.y,0,H)&&uA(i.z,-1,H))return d;if(uA(t.x,0,H)&&uA(t.y,1,H)&&uA(t.z,0,H)){if(uA(i.x,0,H)&&uA(i.y,0,H)&&uA(i.z,1,H))return h;if(uA(i.x,1,H)&&uA(i.y,0,H)&&uA(i.z,0,H))return h}return uA(t.x,0,H)&&uA(t.y,0,H)&&uA(t.z,-1,H)&&uA(i.x,0,H)&&uA(i.y,1,H)&&uA(i.z,0,H)?u:uA(t.x,0,H)&&uA(t.y,0,H)&&uA(t.z,1,H)&&uA(i.x,0,H)&&uA(i.y,1,H)&&uA(i.z,0,H)?p:uA(t.x,-1,H)&&uA(t.y,0,H)&&uA(t.z,0,H)&&uA(i.x,0,H)&&uA(i.y,1,H)&&uA(i.z,0,H)?g:uA(t.x,1,H)&&uA(t.y,0,H)&&uA(t.z,0,H)&&uA(i.x,0,H)&&uA(i.y,1,H)&&uA(i.z,0,H)?f:-1}(A.dir,j.up)),r.autoClear=!0,r.render(G,j)}}},Yg=function(A,e,t){this.model=A,this.defaultManager=e,this.instancedManager=t,this.model=A,this.loaded=!1,this.dataReady=!1};Yg.prototype.dispose=function(){this.defaultManager.destroy(),this.defaultManager=null,this.instancedManager.destroy(),this.instancedManager=null,this.model=null},Yg.prototype.destroy=function(){this.dispose()},Yg.prototype.prepareData=function(A){if(!this.dataReady){if(!this.model.getModelDescriptor().parseItemData(this.model))return!1;this.dataReady=!0,this.settleData(A)}},Yg.prototype.prepare=function(A){},Yg.prototype.needUpdate=function(){return!0},Yg.prototype.updateNodes=function(){this.needUpdate(),this.defaultManager.updateNodes(this.model),Ah.Instance&&this.instancedManager.updateNodes(this.model)},Yg.prototype.rebuildIndicesforLightmap=function(){this.defaultManager.rebuildIndices(this.model)},Yg.prototype.isDataReady=function(){return this.loaded},Yg.prototype.isHidden=function(){var A=this.model;return!A.visible&&(A.manager.scene.removeGroupByName(A._getWireframeGroupName()),!0)},Yg.prototype.isLoaded=function(){return this.loaded},Yg.prototype.settleData=function(A){},Yg.prototype.addNodeInfoToOctantMap=function(){},Yg.prototype.applyFilter=function(){this.isLoaded()&&(this.defaultManager.applyFilter(this.model),Ah.Instance&&this.instancedManager.applyFilter(this.model))},Yg.prototype.applySelection=function(){this.isLoaded()&&(this.defaultManager.applySelection(this.model),Ah.Instance&&this.instancedManager.applySelection(this.model))},Yg.prototype.clearSelection=function(){this.isLoaded()&&(this.defaultManager.clearSelection(this.model),Ah.Instance&&this.instancedManager.clearSelection(this.model))},Yg.prototype.applyHover=function(){this.isLoaded()&&(this.defaultManager.applyHover(this.model),Ah.Instance&&this.instancedManager.applyHover(this.model))},Yg.prototype.clearHover=function(){this.isLoaded()&&(this.defaultManager.clearHover(this.model),Ah.Instance&&this.instancedManager.clearHover(this.model))},Yg.prototype.applyBlink=function(){this.isLoaded()&&(this.defaultManager.applyBlink(this.model),Ah.Instance&&this.instancedManager.applyBlink(this.model))},Yg.prototype.clearBlink=function(){this.isLoaded()&&(this.defaultManager.clearBlink(this.model),Ah.Instance&&this.instancedManager.clearBlink(this.model))},Yg.prototype.applyReplacement=function(){this.isLoaded()&&(this.defaultManager.applyReplacement(this.model),Ah.Instance&&this.instancedManager.applyReplacement(this.model))},Yg.prototype.getMeshesByUserIds=function(A,e){this.isLoaded()&&(this.defaultManager.getMeshesByUserIds(this.model,A,e),Ah.Instance&&(this.instancedManager.getMeshesByUserId(this.model,A),this.instancedManager.getMeshesByUserId(this.model,e)))},Yg.prototype.adjustVisibility=function(A){this.defaultManager.adjustVisibility(this.model,A)},Yg.prototype.changeVisibilityOfSelectedObjects=function(A){this.defaultManager.changeVisibilityOfSelectedObjects(this.model,A)},Yg.prototype.changeVisibilityOfNonSelectedObjects=function(A){this.defaultManager.changeVisibilityOfNonSelectedObjects(this.model,A)},Yg.prototype.adjustInstanceVisibility=function(A){this.instancedManager.adjustVisibility(this.model,A)},Yg.prototype.changeInstanceVisibilityOfSelectedObjects=function(A){this.instancedManager.changeVisibilityOfSelectedObjects(this.model,A)},Yg.prototype.changeInstanceVisibilityOfNonSelectedObjects=function(A){this.instancedManager.changeVisibilityOfNonSelectedObjects(this.model,A)},Yg.prototype.restoreVisibilityOfObjects=function(){this.defaultManager.restoreVisibilityOfObjects(),this.instancedManager.restoreVisibilityOfObjects()},Yg.prototype.getBlinkMaterials=function(){var A=[],e=this.model.materialManager.instanceMaterials;for(var t in e)for(var i=e[t],n=0,o=i.length;n<o;n+=1)A.push(i[n]);return A=A.concat(this.defaultManager.meshManager.getBlinkMaterials())},Yg.prototype.disposeBufferAfterVbo=function(){this.isLoaded()&&(this.defaultManager.disposeBufferAfterVbo(),this.instancedManager.disposeBufferAfterVbo())},Yg.prototype.unloadComponents=function(A){};var Jg=function(A,e,t){Yg.call(this,A,e,t)};(Jg.prototype=Object.create(Yg.prototype)).prepare=function(A){this.isLoaded()&&!this.isHidden()&&(this.model.enableLightmap===Ah.EnableLightmap&&this.model.lightmapIntensity===Ah.LightmapIntensity||(this.model.enableLightmap=Ah.EnableLightmap,this.model.lightmapIntensity=Ah.LightmapIntensity,this.rebuildIndicesforLightmap(),this.updateNodes()),this.model.getMaterialManager()._updateTextureMapping())},Jg.prototype.settleData=function(A){this.addNodeInfoToOctantMap(),this.createMeshNodes(A)},Jg.prototype.addNodeInfoToOctantMap=function(){var t=this.model.manager,i=this.model.getEncodedDatabagId();this.model.getModelDescriptor().traverseNodeInfos(function(A,e){t.addNodeInfoToOctantMap(i,A,e)})},Jg.prototype.createMeshNodes=function(A){var e=this,t=this.model;this.instancedManager.createMeshNodes(t,t.getModelDescriptor().getInstancedUserIds()),this.defaultManager.asyncCreateMeshNodes(t,t.getModelDescriptor().getStandardUserIds(),function(){t.getMaterialManager()._updateTextureMapping(),e.updateNodes(),e.clearCachedData(t),e.loaded=!0,A&&A()})},Jg.prototype.clearCachedData=function(A){A.getLoader().destroyReader(),A.getModelDescriptor().clearReferencedMeshCache(),this.defaultManager.clearCachedData(),this.instancedManager.clearCachedData()};var Zg=function(A,e,t){Yg.call(this,A,e,t)};Object.assign(Zg.prototype,Yg.prototype),Zg.prototype.prepare=function(A){this.isLoaded()&&!this.isHidden()&&(this.model.getMaterialManager()._updateTextureMapping(),this.defaultManager.cullNodes(this.model,A),this.updateNodes())},Zg.prototype.settleData=function(A){this.createMeshNodes(A)},Zg.prototype.createMeshNodes=function(A){var e=this.model,t=this;this.instancedManager.createMeshNodes(this.model,this.model.getModelDescriptor().getInstancedUserIds()),this.defaultManager.asyncCreateMeshNodes(e,e.getModelDescriptor().getStandardUserIds(),function(){e.getMaterialManager()._updateTextureMapping(),t.updateNodes(),e.getLoader().destroyReader(),e.getModelDescriptor().clearReferencedMeshCache(),t.loaded=!0,A&&A()})},Zg.prototype.disposeBufferAfterVbo=function(){};var $g=function(){this.className="FilterAction"};$g.prototype.getClassName=function(){return this.className},$g.prototype.applyFilter=function(A){};var Af=function(){$g.call(this),this.className="IdsFilterAction",this.ids=[]};(Af.prototype=Object.create($g.prototype)).arrayToMap=function(A){for(var e={},t=0;t<A.length;t+=1){var i=A[t];e[i]=i}return e},(Af.prototype.constructor=Af).prototype.setIds=function(A){this.ids=A};var ef=function(A,e){Af.call(this),this.className="VisibleIdsFA",this.flag=A,this.isVisible=e};((ef.prototype=Object.create(Af.prototype)).constructor=ef).prototype.applyFilter=function(A){Array.isArray(this.ids)?(A.setVisible(this.ids,this.isVisible,this.flag),A.calculateVisibleComponentsBbox()):console.warn("Ids should be type of array.")};var tf=function(A,e){Af.call(this),this.className="OverrideIdsFA",this.flag=A,this.material=e};((tf.prototype=Object.create(Af.prototype)).constructor=tf).prototype.applyFilter=function(A){Array.isArray(this.ids)?A.setMaterial(this.ids,this.material,this.flag):console.warn("Ids should be type of array.")};var nf=function(A,e){Af.call(this),this.className="WireframeIdsFA",this.flag=A,this.material=e};((nf.prototype=Object.create(Af.prototype)).constructor=nf).prototype.applyFilter=function(A){Array.isArray(this.ids)?A.setMaterial(this.ids,this.material,this.flag):console.warn("Ids should be type of array.")};var of=function(A){Af.call(this),this.className="IsolateIdsFA",this.isolateHide=A};((of.prototype=Object.create(Af.prototype)).constructor=of).prototype.applyFilter=function(A){Array.isArray(this.ids)?(A.clearIsolates(),this.isolateHide?(A.setIsolateHide(this.ids,!0,!1),A.calculateVisibleComponentsBbox()):A.setIsolateTransparent(this.ids,!0,!1)):console.warn("Ids should be type of array.")};var rf=function(A,e){Af.call(this),this.className="TransparentIdsFA",this.flag=A,this.isOpaque=e};((rf.prototype=Object.create(Af.prototype)).constructor=rf).prototype.applyFilter=function(A){Array.isArray(this.ids)?A.setTransparent(this.ids,!this.isOpaque,this.flag):console.warn("Ids should be type of array.")};var af=function(){$g.call(this),this.className="ConditionFilterAction",this.conditions=null};(af.prototype=Object.create($g.prototype)).constructor=af;var sf=function(A,e){af.call(this),this.className="VisibleConditionFA",this.flag=A,this.isVisible=e};((sf.prototype=Object.create(af.prototype)).constructor=sf).prototype.applyFilter=function(t){var i=this;Array.isArray(this.conditions)?(t.matchConditions(this.conditions,function(A,e){i.flag===e&&(t.setVisible(A,i.isVisible),A=null)}),t.calculateVisibleComponentsBbox()):console.warn("Conditions should be type of array.")};var lf=function(A,e){af.call(this),this.className="OverrideConditionFA",this.flag=A,this.material=e};((lf.prototype=Object.create(af.prototype)).constructor=lf).prototype.applyFilter=function(t,A){var i=this;Array.isArray(this.conditions)?t.matchConditions(this.conditions,function(A,e){i.flag===e&&(t.setMaterial(A,i.material),A=null)}):console.warn("Conditions should be type of array.")};var cf=function(A,e){af.call(this),this.className="TransparentConditionFA",this.flag=A,this.isOpaque=e};((cf.prototype=Object.create(af.prototype)).constructor=cf).prototype.applyFilter=function(t){var i=this;Array.isArray(this.conditions)?t.matchConditions(this.conditions,function(A,e){i.flag===e&&(t.setTransparent(A,!i.isOpaque),A=null)}):console.warn("Conditions should be type of array.")};var df=function(A){af.call(this),this.className="IsolateConditionFA",this.isolateHide=A};((df.prototype=Object.create(af.prototype)).constructor=df).prototype.applyFilter=function(t){t.clearIsolates();var i=this.isolateHide;Array.isArray(this.conditions)?t.matchConditions(this.conditions,function(A,e){!0!==e&&(i?(t.setIsolateHide(A,!e),t.calculateVisibleComponentsBbox()):t.setIsolateTransparent(A,!e)),A=null}):console.warn("Conditions should be type of array.")};var hf=function(A){this._activeFilterList=[],this._filterResultModes={},this._defaultReturnValue=A,this._filterPriority=null};hf.prototype.setFilterMode=function(A){this._filterResultModes=A},hf.prototype.setFilterPriority=function(A){this._filterPriority=A},hf.prototype.addBaseFilter=function(A){var e=this._activeFilterList,t=e.indexOf(A);if(null===this._filterPriority)-1===t?e.push(A):t!==e.length-1&&(e.splice(t,1),e.push(A));else if(0===e.length)e.push(A);else{-1!==t&&t!==e.length-1&&e.splice(t,1);for(var i=this._filterPriority[A.getType()],n=0,o=e.length;n<o;n+=1)if(this._filterPriority[e[n].getType()]>i){e.splice(n,0,A);break}n===o&&e.push(A)}},hf.prototype.removeBaseFilter=function(A){var e=this._activeFilterList.indexOf(A);-1!==e&&this._activeFilterList.splice(e,1)},hf.prototype.isEmpty=function(){return 0===this._activeFilterList.length},hf.prototype.hasFilterNotIn=function(A){for(var e=this._activeFilterList,t=e.length-1;0<=t;t-=1){if(void 0===A._filterResultModes[e[t].getType()])return!0}return!1},hf.prototype.apply=function(A){for(var e=Eh,t=null,i=this._activeFilterList.length-1;0<=i;i-=1)switch(this._filterResultModes[(t=this._activeFilterList[i]).getType()]){case e.MATCH_RETURN_TRUE:if(t.match(A))return!0;break;case e.MATCH_RETURN_FALSE:if(t.match(A))return!1;break;case e.NOMATCH_RETURN_TRUE:if(!t.match(A))return!0;break;case e.NOMATCH_RETURN_FALSE:if(!t.match(A))return!1;break;default:return!1}return this._defaultReturnValue},hf.prototype.getApplyFilterId=function(A){for(var e=Eh,t=null,i=this._activeFilterList.length-1;0<=i;i-=1)switch(this._filterResultModes[(t=this._activeFilterList[i]).getType()]){case e.MATCH_RETURN_TRUE:case e.MATCH_RETURN_FALSE:if(t.match(A))return t.getType();break;case e.NOMATCH_RETURN_TRUE:case e.NOMATCH_RETURN_FALSE:if(!t.match(A))return t.getType();break;default:return-1}return-1},Math.log2=Math.log2||function(A){return Math.log(A)/Math.LN2},"function"!=typeof String.prototype.startsWith&&(String.prototype.startsWith=function(A){return this.slice(0,A.length)===A}),Array.prototype.remove||Object.defineProperty(Array.prototype,"remove",{enumerable:!1,value:function(A){var e=this.indexOf(A);-1<e&&this.splice(e,1)}}),"undefined"!=typeof window&&zh.isIE11()&&function(){function A(A,e){e=e||{bubbles:!1,cancelable:!1,detail:void 0};var t=document.createEvent("CustomEvent");return t.initCustomEvent(A,e.bubbles,e.cancelable,e.detail),t}A.prototype=window.CustomEvent.prototype,window.CustomEvent=A}(),"function"!=typeof String.prototype.startsWith&&(String.prototype.startsWith=function(A){return this.slice(0,A.length)===A}),"function"!=typeof String.prototype.endsWith&&(String.prototype.endsWith=function(A){return-1!==this.indexOf(A,this.length-A.length)}),"undefined"!=typeof window&&(window.BlobBuilder=window.BlobBuilder||window.WebKitBlobBuilder||window.MozBlobBuilder||window.MSBlobBuilder),Number.isInteger=Number.isInteger||function(A){return"number"==typeof A&&isFinite(A)&&Math.floor(A)===A},String.prototype.repeat=String.prototype.repeat||function(A){if(A<1)return"";for(var e="",t=this.valueOf();1<A;)1&A&&(e+=t),A>>=1,t+=t;return e+t},Array.prototype.fill||Object.defineProperty(Array.prototype,"fill",{enumerable:!1,value:function(A,e,t){t=void 0===t?this.length:t;for(var i=e=void 0===e?0:e;i<t;i+=1)this[i]=A}}),Int32Array.prototype.lastIndexOf=Int32Array.prototype.lastIndexOf||function(A,e){return Array.prototype.lastIndexOf.call(this,A,e)},Array.prototype.find||Object.defineProperty(Array.prototype,"find",{enumerable:!1,value:function(A,e){for(var t=this.length,i=0;i<t;i+=1){var n=this[i];if(A.call(e,n,i,this))return n}}}),"function"!=typeof Object.assign&&Object.defineProperty(Object,"assign",{value:function(A,e){if(null==A)throw new TypeError("Cannot convert undefined or null to object");for(var t=Object(A),i=1;i<arguments.length;i+=1){var n=arguments[i];if(null!=n)for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(t[o]=n[o])}return t},writable:!0,configurable:!0}),ArrayBuffer.prototype.slice||(ArrayBuffer.prototype.slice=function(A,e){if(!e||this.byteLength<e?e=this.byteLength:e<0&&(e=this.byteLength+e)<0&&(e=0),A<0&&(A=this.byteLength+A)<0&&(A=0),e<=A)return new ArrayBuffer;for(var t=e-A,i=new Uint8Array(this,A,t),n=new Uint8Array(t),o=0;o<t;o+=1)n[o]=i[o];return n.buffer}),Float32Array.prototype.slice||(Float32Array.prototype.slice=Float32Array.prototype.subarray),Uint32Array.prototype.slice||(Uint32Array.prototype.slice=Uint32Array.prototype.subarray),Int32Array.prototype.slice||(Int32Array.prototype.slice=Int32Array.prototype.subarray),Int16Array.prototype.slice||(Int16Array.prototype.slice=Int16Array.prototype.subarray);var uf,pf,gf="function"==typeof Symbol&&"symbol"===Bh(Symbol.iterator)?function(A){return Bh(A)}:function(A){return A&&"function"==typeof Symbol&&A.constructor===Symbol&&A!==Symbol.prototype?"symbol":Bh(A)};HTMLElement.prototype.tap=function(e){var t=0;this.addEventListener("touchstart",function(A){t=Date.now()}),this.addEventListener("touchend",function(A){Date.now()-t<200&&e(A)})},(Boolean(window.ActiveXObject)||"ActiveXObject"in window)&&(HTMLElement.prototype.remove=function(){var A=this.parentNode||this.parentElement;A&&A.removeChild(this)},window.Element&&((pf=Element.prototype).matches=pf.matches||pf.matchesSelector||pf.webkitMatchesSelector||pf.msMatchesSelector||function(A){for(var e=(this.parentNode||this.document).querySelectorAll(A),t=-1;e[t+=1]&&e[t]!==this;);return Boolean(e[t])}),window.Element&&((uf=Element.prototype).closest=uf.closest||function(A){for(var e=this;e.matches&&!e.matches(A);)e=e.parentNode;return e.matches?e:null})),SVGElement.prototype.getClass=HTMLElement.prototype.getClass=function(A){return this.getAttribute("class")},SVGElement.prototype.hasClass=HTMLElement.prototype.hasClass=function(A){var e=this.getClass();return!!e&&-1<(e&&e.split(" ")).indexOf(A)},SVGElement.prototype.addClass=HTMLElement.prototype.addClass=function(A){var e=this.getClass(),t=e&&e.split(" ");return e?-1===t.indexOf(A)&&(t.push(A),e=t.join(" "),this.setAttribute("class",String(e))):this.setAttribute("class",String(A)),this},SVGElement.prototype.removeClass=HTMLElement.prototype.removeClass=function(A){if(!this.hasClass(A))return this;var e=this.getClass().replace(A,"").trim();return e?this.setAttribute("class",String(e)):this.removeAttribute("class"),this},SVGElement.prototype.toggleClass=HTMLElement.prototype.toggleClass=function(A,e){this.getClass();var t=this.hasClass(A);return null!=e?(e&&!t&&this.addClass(A),e||this.removeClass(A)):t?this.removeClass(A):this.addClass(A),!t},Object.defineProperty(Array.prototype,"getObjectByAttribute",{enumerable:!1,value:function(A,e){for(var t=this.length,i=0;i<t;i+=1)if(this[i][A]===e)return this[i];return!1}}),Object.defineProperty(Array.prototype,"removeObjectByAttribute",{enumerable:!1,value:function(A,e){for(var t=this,i=t.length,n=0;n<i;n+=1)if(t[n][A]===e)return t=t.splice(n,1);return!1}}),Object.defineProperty(Array.prototype,"getAllObjectByAttribute",{enumerable:!1,value:function(A,e){for(var t=this.length,i=0,n=[];i<t;i+=1)this[i][A]===e&&n.push(this[i]);return n}}),Object.defineProperty(Array.prototype,"removeByValue",{enumerable:!1,value:function(A){for(var e=this.length-1;0<=e;e-=1)this[e]===A&&this.splice(e,1);return this}}),Object.defineProperty(Array.prototype,"insert",{enumerable:!1,value:function(A,e){return this.splice(A,0,e),this}}),SVGElement.prototype.setCss=HTMLElement.prototype.setCss=function(A){if(A)for(var e in A)this.style[e]=A[e]},SVGElement.prototype.getCss=HTMLElement.prototype.getCss=function(){return this.style};var ff=function(A,e){this._type=A,this._name=e,this._enabled=!1,this._items={},this._relatedCompoundFilterList=[]};ff.prototype.getType=function(){return this._type},ff.prototype.getName=function(){return this._name},ff.prototype.get=function(){return this._items},ff.prototype.getAll=function(){return this._items},ff.prototype.clearAll=function(){this._items={},this._enabled&&(this._enabled=!1,this.enableStateChanged())},ff.prototype.clear=function(){this.clearAll()},ff.prototype.isEmpty=function(){return!this._enabled},ff.prototype.forceEnable=function(){this._enabled||(this._enabled=!0,this.enableStateChanged())},ff.prototype.setByData=function(A){!function(A){if(null===A)return!0;if("object"!==(void 0===A?"undefined":gf(A)))return!0;for(var e in A)if(A.hasOwnProperty(e))return!1;return!0}(A)?(this._items=A,this._enabled||(this._enabled=!0,this.enableStateChanged())):(this._items={},this._enabled&&(this._enabled=!1,this.enableStateChanged()))},ff.prototype.match=function(A){return!1},ff.prototype.registerToCompoundFilter=function(A){this._relatedCompoundFilterList.push(A)},ff.prototype.enableStateChanged=function(){for(var A=0,e=this._relatedCompoundFilterList.length;A<e;A+=1)this._enabled?this._relatedCompoundFilterList[A].addBaseFilter(this):this._relatedCompoundFilterList[A].removeBaseFilter(this)};var mf=function(A,e){ff.call(this,A,e)};((mf.prototype=Object.create(ff.prototype)).constructor=mf).prototype.match=function(A){var e=A.userData;return!e||function(A,e){for(var t=!1,i=0,n=A.length;i<n;i+=1){t=!0;var o=A[i];for(var r in o){if(!Array.isArray(o[r])&&e[r]!==o[r]){t=!1;break}if(Array.isArray(o[r])&&-1===o[r].indexOf(e[r])){t=!1;break}}if(t)return!0}return!1}(this._items,e)};var vf=function(A,e){ff.call(this,A,e)};((vf.prototype=Object.create(ff.prototype)).constructor=vf).prototype.add=function(A){var e=this._items;if(A&&0<A.length){for(var t=0,i=A.length;t<i;t+=1)e[A[t]]=!0;this._enabled||(this._enabled=!0,this.enableStateChanged())}},vf.prototype.remove=function(A){var e=this._items;if(A&&0<A.length){for(var t=0,i=A.length;t<i;t+=1){var n=A[t];e.hasOwnProperty(n)&&delete e[n]}0===Object.keys(e).length&&this._enabled&&(this._enabled=!1,this.enableStateChanged())}};var yf=function(A,e){vf.call(this,A,e)};((yf.prototype=Object.create(vf.prototype)).constructor=yf).prototype.match=function(A){var e=A.name;if(e){var t=e.indexOf(".");if(-1!==t){var i=e.substring(0,t);return!!this._items[i]}}var n=A.userData;if(n&&(i=n.sceneId))return!!this._items[i];return!1};var Cf=function(A,e){vf.call(this,A,e)};((Cf.prototype=Object.create(vf.prototype)).constructor=Cf).prototype.match=function(A){return!!this._items[A.name]};var If=function(){this.defaultWireframeColor={color:new hi(0,0,0),opacity:.4},this.wireframeMaterial=new yi(this.defaultWireframeColor),!1===Ah.TranslucentDepthDisabled&&(this.wireframeMaterial.transparent=!0),this.instanceWireframeMaterial=xu.createInstanceMaterial(xu.getMaterialParameters(this.wireframeMaterial)),!1===Ah.TranslucentDepthDisabled&&(this.instanceWireframeMaterial.transparent=!0),this.wireframeGeometries={}};If.prototype.destroy=function(){this.wireframeMaterial=null,this.instanceWireframeMaterial=null,this.wireframeGeometries=null},If.prototype.setWireframeColor=function(A,e){this.wireframeMaterial.color=A,this.wireframeMaterial.opacity=e,this.wireframeMaterial.transparent=1!==e,this.instanceWireframeMaterial.color=A,this.instanceWireframeMaterial.opacity=e,this.instanceWireframeMaterial.transparent=1!==e},If.prototype.getWireframeColor=function(){var A=this.wireframeMaterial.color.clone();return A.opacity=this.wireframeMaterial.opacity,A},If.prototype.restoreWireframeColor=function(){var A=this.defaultWireframeColor;this.setWireframeColor(A.color,A.opacity)};var xf=function(){new If;var A=[{name:"scene",param:{name:"scene",color:8947848,opacity:.4,transparent:!0,side:gA}},{name:"darkRed",param:{name:"darkRed",color:10496040,opacity:1,transparent:!1,side:gA}},{name:"lightBlue",param:{name:"lightBlue",color:1275840,opacity:1,transparent:!1,side:gA}},{name:"black",param:{name:"black",color:0,opacity:.3,transparent:!0,side:gA}},{name:"add",param:{name:"add",color:65280,opacity:1,transparent:!0,side:gA}},{name:"delete",param:{name:"delete",color:16711680,opacity:.5,transparent:!0,side:gA}},{name:"beforeEdit",param:{name:"beforeEdit",color:16432389,opacity:.5,transparent:!0,side:gA}},{name:"afterEdit",param:{name:"afterEdit",color:16432389,opacity:1,transparent:!0,side:gA}},{name:"wireframe",param:{name:"wireframe",color:0,opacity:1,transparent:!1,wireframe:!0,side:gA}}],n={};n.selection=xu.createHighlightMaterial(),n.selection.name="selection";for(var e=0,t=A.length;e<t;e+=1){var i=A[e];n[i.name]=xu.createStandardMaterial(i.param)}n.red=n.delete,n.green=n.add,n.yellow=n.beforeEdit,n.blue=n.selection;var o={color:8947848,opacity:.2,transparent:!0,side:gA},r=xu.createStandardMaterial(o);r.name="isolate";var a={color:8947848,opacity:.2,transparent:!0,side:gA},s=xu.createStandardMaterial(a);s.name="looming";var l={color:15293,side:gA},c=xu.createStandardMaterial(l);c.name="selected",this.getDefaultMaterialName=function(){return"lightBlue"},this.get=function(A){return n[A]},this.getAll=function(){return n},this.add=function(A){var e,t=null,i={};return A&&A.hasOwnProperty("color")&&(i.color=A.color,i.side=gA,A.hasOwnProperty("opacity")&&(i.opacity=A.opacity,i.transparent=1!==A.opacity)),e=this._getMaterialName(A),(t=n[e])||(i.name=e,t=xu.createStandardMaterial(i),n[e]=t),e},this.remove=function(A){var e;e=this._getMaterialName(A),n[e]&&delete n[e]},this.has=function(A){return!!n[A]},this.getMaterialNameByColor=function(A){var e;return e=this._getMaterialName(A),n[e]?e:this.add(A)},this.getMaterialNameByWireframe=function(A){var e;return(e=this._getMaterialName(A))&&!n[e]?this.add(A):e},this.addOverrideMaterial=function(A){if(A){var e=A.name;n[e]||(n[e]=A)}},this.getMaterialParamsFromName=function(A){var e={},t=A.split("_");return e.opacity="mat"===t[0]?(e.color=parseInt(t[1],0),1):(e.color=parseInt(t[0],0),parseFloat(t[1],0)),e},this._getMaterialName=function(A){var e=null;return A&&A.hasOwnProperty("color")?e=A.hasOwnProperty("opacity")?A.color+"_"+A.opacity:"mat_"+A.color:A&&A.hasOwnProperty("wireframe")?A.wireframe&&(e="wireframe"):e="mat_"+A,e},this.setFrozonMaterial=function(A){s.color.setHex(void 0!==A.color?A.color:a.color),s.opacity=void 0!==A.opacity?A.opacity:a.opacity,s.transparent=void 0!==A.transparent?A.transparent:a.transparent,s.side=void 0!==A.side?A.side:a.side,s.needsUpdate=!0},this.getFrozonMaterial=function(){return s},this.setSelectedMaterial=function(A){c.color.setHex(void 0!==A.color?A.color:l.color),c.opacity=void 0!==A.opacity?A.opacity:l.opacity,c.transparent=void 0!==A.transparent?A.transparent:l.transparent,c.side=void 0!==A.side?A.side:l.side,c.needsUpdate=!0},this.getSelectedMaterial=function(){return c},this.setIsolateMaterial=function(A){r.color.setHex(void 0!==A.color?A.color:o.color),r.opacity=void 0!==A.opacity?A.opacity:o.opacity,r.transparent=void 0!==A.transparent?A.transparent:o.transparent,r.side=void 0!==A.side?A.side:o.side,r.needsUpdate=!0},this.getIsolateMaterial=function(){return r},this.resetIsolateMaterial=function(){r.color.setHex(o.color),r.opacity=o.opacity,r.transparent=o.transparent,r.side=o.side,r.needsUpdate=!0}},bf=function(A,e){ff.call(this,A,e)};((bf.prototype=Object.create(ff.prototype)).constructor=bf).prototype.match=function(A){return null!==this.getMatchItem(A)},bf.prototype.getMatchItem=function(A){var e=this._items,t=A.userData,i=!1;if(t)for(var n=e.length,o=0;o<n;o+=1){var r=e[o],a=r.condition;for(var s in i=!0,a)if(a[s]!==t[s]){i=!1;break}if(i)return r}return null};var Ef=function(A,e){ff.call(this,A,e)};((Ef.prototype=Object.create(ff.prototype)).constructor=Ef).prototype.remove=function(A,e){var t=this._items[A];if(t&&e&&0<e.length){for(var i=0,n=e.length;i<n;i+=1){var o=e[i];t.hasOwnProperty(o)&&delete t[o]}kh.isEmptyObject(this._items)&&this._enabled&&(this._enabled=!1,this.enableStateChanged())}},Ef.prototype.add=function(A,e,t){var i=this._items,n=i[A];if(e&&0<e.length){void 0===t&&(t=!0),n||(n=i[A]={});for(var o=0,r=e.length;o<r;o+=1)n[e[o]]=t;this._enabled||(this._enabled=!0,this.enableStateChanged())}},Ef.prototype.clear=function(A){var e=this._items;e.hasOwnProperty(A)&&(delete e[A],kh.isEmptyObject(e)&&this._enabled&&(this._enabled=!1,this.enableStateChanged()))};var wf=function(A,e){ff.call(this,A,e)};((wf.prototype=Object.create(Ef.prototype)).constructor=wf).prototype.match=function(A){return null!==this.getMatchItem(A)},wf.prototype.getMatchItem=function(A){var e=this._items,t=A.name;for(var i in e){var n=e[i];if(n[t])return n[t]}return null};var Mf=function(A,e){ff.call(this,A,e)};((Mf.prototype=Object.create(Ef.prototype)).constructor=Mf).prototype.match=function(A){return null!==this.getMatchItem(A)},Mf.prototype.getMatchItem=function(A){var e=this._items,t=A.userData;if(t)for(var i in e){var n=e[i],o=t[i];if(o&&void 0!==n[o])return n[o]}return null};var Bf=function(){var l=Eh,c={IDFILTER_OFFSET:0,FILE_VISIBLE:0,FILE_HIDDEN:1,VISIBLE:2,HIDDEN:3,TRANSLUCENT:4,TRANSLUCENT_OTHERS:5,WIREFRAME:24,COLORFUL:25,RENDER_PROMOTION:6,IDFILTER_ENDOFFSET:6,ISOLATEFILTER_OFFSET:7,ISOLATE_HIDDEN:7,ISOLATE_HIDDEN_OTHERS:8,ISOLATE_TRANSLUCENT:9,ISOLATE_TRANSLUCENT_OTHERS:10,ISOLATEFILTER_ENDOFFSET:10,USERFILTER_OFFSET:11,USER_HIDDEN:11,USER_OVERRIDE:12,USER_WITH_BOARDLINE:13,USERFILTER_ENDOFFSET:13,CONDITIONFILTER_OFFSET:14,CONDITION_HIDDEN_OTHERS:14,CONDITION_TRANSLUCENT_OTHERS:15,CONDITION_OVERRIDE:16,CONDITION_BORDERLINE:26,CONDITIONFILTER_ENDOFFSET:16,ISOLATECONDITIONFILTER_OFFSET:17,ISOLATE_CONDITION_HIDDEN:17,ISOLATE_CONDITION_HIDDEN_OTHERS:18,ISOLATE_CONDITION_TRANSLUCENT:19,ISOLATE_CONDITION_TRANSLUCENT_OTHERS:20,ISOLATECONDITIONFILTER_ENDOFFSET:20,FROZENFILTER:21,FROZENCONDITIONFILTER:22,OVERRIDEFILTER:23,BASICFILTER_COUNT:23},d=new hf(!0),h=new hf(!0),u=new hf(!1),p=new hf(!0),g=new hf(!1),f=new hf(!1),m=new hf(!1),v=[],y=null,C=null,e=fh.DISABLED,o=new xf;!function(){v[c.FILE_VISIBLE]=new yf(c.FILE_VISIBLE,"FILE_VISIBLE"),v[c.FILE_HIDDEN]=new yf(c.FILE_HIDDEN,"FILE_HIDDEN"),v[c.VISIBLE]=new Cf(c.VISIBLE,"VISIBLE"),v[c.HIDDEN]=new Cf(c.HIDDEN,"HIDDEN"),v[c.TRANSLUCENT]=new Cf(c.TRANSLUCENT,"TRANSLUCENT"),v[c.TRANSLUCENT_OTHERS]=new Cf(c.TRANSLUCENT_OTHERS,"TRANSLUCENT_OTHERS"),v[c.RENDER_PROMOTION]=new Cf(c.RENDER_PROMOTION,"RENDER_PROMOTION"),v[c.WIREFRAME]=new Cf(c.WIREFRAME,"WIREFRAME"),v[c.COLORFUL]=new Cf(c.COLORFUL,"COLORFUL"),v[c.ISOLATE_HIDDEN]=new Cf(c.ISOLATE_HIDDEN,"ISOLATE_HIDDEN"),v[c.ISOLATE_HIDDEN_OTHERS]=new Cf(c.ISOLATE_HIDDEN_OTHERS,"ISOLATE_HIDDEN_OTHERS"),v[c.ISOLATE_TRANSLUCENT]=new Cf(c.ISOLATE_TRANSLUCENT,"ISOLATE_TRANSLUCENT"),v[c.ISOLATE_TRANSLUCENT_OTHERS]=new Cf(c.ISOLATE_TRANSLUCENT_OTHERS,"ISOLATE_TRANSLUCENT_OTHERS"),v[c.USER_HIDDEN]=new Mf(c.USER_HIDDEN,"USER_HIDDEN"),v[c.USER_OVERRIDE]=new Mf(c.USER_OVERRIDE,"USER_OVERRIDE"),v[c.CONDITION_BORDERLINE]=new mf(c.CONDITION_BORDERLINE,"CONDITION_BORDERLINE"),v[c.CONDITION_HIDDEN_OTHERS]=new mf(c.CONDITION_HIDDEN_OTHERS,"CONDITION_HIDDEN_OTHERS"),v[c.CONDITION_TRANSLUCENT_OTHERS]=new mf(c.CONDITION_TRANSLUCENT_OTHERS,"CONDITION_TRANSLUCENT_OTHERS"),v[c.CONDITION_OVERRIDE]=new bf(c.CONDITION_OVERRIDE,"CONDITION_OVERRIDE"),v[c.ISOLATE_CONDITION_HIDDEN]=new mf(c.ISOLATE_CONDITION_HIDDEN,"ISOLATE_CONDITION_HIDDEN"),v[c.ISOLATE_CONDITION_HIDDEN_OTHERS]=new mf(c.ISOLATE_CONDITION_HIDDEN_OTHERS,"ISOLATE_CONDITION_HIDDEN_OTHERS"),v[c.ISOLATE_CONDITION_TRANSLUCENT]=new mf(c.ISOLATE_CONDITION_TRANSLUCENT,"ISOLATE_CONDITION_TRANSLUCENT"),v[c.ISOLATE_CONDITION_TRANSLUCENT_OTHERS]=new mf(c.ISOLATE_CONDITION_TRANSLUCENT_OTHERS,"ISOLATE_CONDITION_TRANSLUCENT_OTHERS"),C=new Cf(c.FROZENFILTER,"FROZENFILTER"),v[c.FROZENCONDITIONFILTER]=new mf(c.FROZENCONDITIONFILTER,"FROZENCONDITIONFILTER"),v[c.FROZENFILTER]=C,y=new wf(c.OVERRIDEFILTER,"OVERRIDEFILTER"),v[c.OVERRIDEFILTER]=y;var A=null,e={};for(A in e[c.HIDDEN]=l.MATCH_RETURN_FALSE,e[c.VISIBLE]=l.NOMATCH_RETURN_FALSE,e[c.USER_HIDDEN]=l.MATCH_RETURN_FALSE,e[c.CONDITION_HIDDEN_OTHERS]=l.NOMATCH_RETURN_FALSE,e[c.ISOLATE_HIDDEN]=l.MATCH_RETURN_FALSE,e[c.ISOLATE_HIDDEN_OTHERS]=l.NOMATCH_RETURN_FALSE,e[c.ISOLATE_CONDITION_HIDDEN_OTHERS]=l.NOMATCH_RETURN_FALSE,d.setFilterMode(e),e)v[A].registerToCompoundFilter(d);var t={};for(A in t[c.FROZENFILTER]=l.MATCH_RETURN_FALSE,t[c.FROZENCONDITIONFILTER]=l.MATCH_RETURN_FALSE,t[c.TRANSLUCENT]=l.MATCH_RETURN_FALSE,t[c.TRANSLUCENT_OTHERS]=l.NOMATCH_RETURN_FALSE,t[c.CONDITION_TRANSLUCENT_OTHERS]=l.NOMATCH_RETURN_FALSE,t[c.ISOLATE_TRANSLUCENT]=l.MATCH_RETURN_FALSE,t[c.ISOLATE_TRANSLUCENT_OTHERS]=l.NOMATCH_RETURN_FALSE,t[c.ISOLATE_CONDITION_TRANSLUCENT_OTHERS]=l.NOMATCH_RETURN_FALSE,p.setFilterMode(t),t)v[A].registerToCompoundFilter(p);var i={};i[c.ISOLATE_TRANSLUCENT]=l.MATCH_RETURN_TRUE,i[c.ISOLATE_TRANSLUCENT_OTHERS]=l.NOMATCH_RETURN_TRUE,i[c.ISOLATE_CONDITION_TRANSLUCENT_OTHERS]=l.NOMATCH_RETURN_TRUE,i[c.CONDITION_TRANSLUCENT_OTHERS]=l.NOMATCH_RETURN_TRUE,i[c.TRANSLUCENT]=l.MATCH_RETURN_TRUE,i[c.TRANSLUCENT_OTHERS]=l.NOMATCH_RETURN_TRUE,i[c.OVERRIDEFILTER]=l.MATCH_RETURN_TRUE,i[c.USER_OVERRIDE]=l.MATCH_RETURN_TRUE,i[c.CONDITION_OVERRIDE]=l.MATCH_RETURN_TRUE,i[c.FROZENFILTER]=l.MATCH_RETURN_TRUE,i[c.FROZENCONDITIONFILTER]=l.MATCH_RETURN_TRUE;var n={};for(A in n[c.ISOLATE_TRANSLUCENT]=5,n[c.ISOLATE_TRANSLUCENT_OTHERS]=5,n[c.ISOLATE_CONDITION_TRANSLUCENT_OTHERS]=5,n[c.CONDITION_TRANSLUCENT_OTHERS]=5,n[c.TRANSLUCENT]=5,n[c.TRANSLUCENT_OTHERS]=5,n[c.OVERRIDEFILTER]=0,n[c.USER_OVERRIDE]=0,n[c.CONDITION_OVERRIDE]=0,n[c.FROZENFILTER]=3,n[c.FROZENCONDITIONFILTER]=3,h.setFilterMode(i),h.setFilterPriority(n),i)v[A].registerToCompoundFilter(h);var o={};for(A in o[c.OVERRIDEFILTER]=l.MATCH_RETURN_TRUE,o[c.USER_OVERRIDE]=l.MATCH_RETURN_TRUE,o[c.CONDITION_OVERRIDE]=l.MATCH_RETURN_TRUE,o[c.CONDITION_TRANSLUCENT_OTHERS]=l.MATCH_RETURN_TRUE,u.setFilterMode(o),o)v[A].registerToCompoundFilter(u);var r={};for(A in r[c.FILE_VISIBLE]=l.NOMATCH_RETURN_TRUE,r[c.FILE_HIDDEN]=l.MATCH_RETURN_TRUE,g.setFilterMode(r),r)v[A].registerToCompoundFilter(g);var a={};for(A in a[c.RENDER_PROMOTION]=l.MATCH_RETURN_TRUE,a[c.ISOLATE_CONDITION_TRANSLUCENT_OTHERS]=l.MATCH_RETURN_TRUE,f.setFilterMode(a),a)v[A].registerToCompoundFilter(f);var s={};for(A in s[c.CONDITION_BORDERLINE]=l.MATCH_RETURN_TRUE,m.setFilterMode(s),s)v[A].registerToCompoundFilter(m)}(),this.getMaterialSelector=function(){return o},this.getBasicFilterList=function(){return v},this.getFilterType=function(){return c},this.saveState=function(){for(var A={},e=null,t=0,i=v.length;t<i;t+=1)A[(e=v[t]).getName()]=e.getAll();return A.sceneState=this.getSceneState(),A.version="1.0",A},this.loadState=function(A){if(this.clearAll(),A.hasOwnProperty("version")){if("1.0"===A.version){for(var e={},t=0,i=v.length;t<i;t+=1)e[v[t].getName()]=t;for(var n in A)"sceneState"!==n&&"version"!==n&&(e.hasOwnProperty(n)?v[e[n]].setByData(A[n]):Gh.warn("Warning: Not supported filter '"+n+"'"))}}else for(var o in A)"sceneState"!==o&&(o<2?v[o].setByData(A[o]):2<o?o<c.BASICFILTER_COUNT+2&&v[o-1].setByData(A[o]):2!==o&&"2"!==o||Gh.warn("Warning: Old version filter data! The selection state is out of the filter, can not restore it."));this.setSceneState(A.sceneState)},this.clear=function(){for(var A=0,e=v.length;A<e;A+=1){var t=v[A].getType();t!==c.FROZENFILTER&&t!==c.CONDITION_BORDERLINE&&v[A].clearAll()}this.setSceneState(fh.DISABLED)},this.clearAll=function(){for(var A=0,e=v.length;A<e;A+=1)v[A].clearAll();this.setSceneState(fh.DISABLED)},this.clearIsolate=function(){this.clearAllIsolateList(),this.clearAllIsolateConditions()},this.clearFrozenList=function(){C.clearAll()},this.addToFrozenList=function(A){C.add(A)},this.removeFromFrozenList=function(A){C.remove(A)},this.setFrozenList=function(A){this.clearFrozenList(),this.addToFrozenList(A)},this.setFrozenConditions=function(A){v[c.FROZENCONDITIONFILTER].setByData(A)},this.getFrozenConditions=function(){return v[c.FROZENCONDITIONFILTER].getAll()},this.clearFrozenConditions=function(){v[c.FROZENCONDITIONFILTER].clear()},this.clearFrozen=function(){this.clearFrozenList(),this.clearFrozenConditions()},this.clearAllIdList=function(){var A=null;for(A=c.IDFILTER_OFFSET;A<=c.IDFILTER_ENDOFFSET;A+=1)v[A].clearAll()},this.clearIdList=function(A){var e=c.IDFILTER_OFFSET+A;e<c.IDFILTER_OFFSET||c.IDFILTER_ENDOFFSET<e||v[e].clear()},this.addToIdList=function(A,e){var t=c.IDFILTER_OFFSET+A;t<c.IDFILTER_OFFSET||c.IDFILTER_ENDOFFSET<t||v[t].add(e)},this.removeFromIdList=function(A,e){var t=c.IDFILTER_OFFSET+A;t<c.IDFILTER_OFFSET||c.IDFILTER_ENDOFFSET<t||v[t].remove(e)},this.setIdList=function(A,e){this.clearIdList(A),this.addToIdList(A,e)},this.clearAllOverrideList=function(){y.clearAll()},this.clearOverrideList=function(A){y.clear(A)},this.addToOverrideList=function(A,e,t){e&&0<e.length&&(o.has(t)||(t=o.getDefaultMaterialName()),y.add(A,e,t))},this.removeFromOverrideList=function(A,e){y.remove(A,e)},this.setOverrideList=function(A,e,t){this.clearOverrideList(A),this.addToOverrideList(A,e,t)},this.addToOverrideListByColor=function(A,e,t){var i=o.add(t);y.add(A,e,i)},this.setOverrideListByColor=function(A,e,t){this.clearOverrideList(A),this.addToOverrideListByColor(A,e,t)},this.clearAllUserList=function(){var A=null;for(A=c.USERFILTER_OFFSET;A<=c.USERFILTER_ENDOFFSET;A+=1)v[A].clearAll()},this.clearUserListByType=function(A){var e=c.USERFILTER_OFFSET+A;e<c.USERFILTER_OFFSET||c.USERFILTER_ENDOFFSET<e||v[e].clearAll()},this.clearUserList=function(A,e){var t=c.USERFILTER_OFFSET+A;t<c.USERFILTER_OFFSET||c.USERFILTER_ENDOFFSET<t||v[t].clear(e)},this.addToUserList=function(A,e,t,i){var n=c.USERFILTER_OFFSET+A;n<c.USERFILTER_OFFSET||c.USERFILTER_ENDOFFSET<n||v[n].add(e,t,i)},this.removeFromUserList=function(A,e,t){var i=c.USERFILTER_OFFSET+A;i<c.USERFILTER_OFFSET||c.USERFILTER_ENDOFFSET<i||v[i].remove(e,t)},this.setUserList=function(A,e,t,i){this.clearUserList(A,e),this.addToUserList(A,e,t,i)},this.isIsolate=function(){var A=null;for(A=c.ISOLATEFILTER_OFFSET;A<=c.ISOLATEFILTER_ENDOFFSET;A+=1)if(!v[A].isEmpty())return!0;return!1},this.isFiltering=function(){return!!this.isIsolate()||!(v[c.HIDDEN].isEmpty()&&v[c.VISIBLE].isEmpty()&&v[c.TRANSLUCENT].isEmpty()&&v[c.TRANSLUCENT_OTHERS].isEmpty()&&this.getSceneState()===fh.DISABLED)},this.setFrozonMaterial=function(A){o.setFrozonMaterial(A)},this.getFrozonMaterial=function(){return o.getFrozonMaterial()},this.setSelectedMaterial=function(A){o.setSelectedMaterial(A)},this.getSelectedMaterial=function(){return o.getSelectedMaterial()},this.setIsolateMaterial=function(A){o.setIsolateMaterial(A)},this.getIsolateMaterial=function(){return o.getIsolateMaterial()},this.resetIsolateMaterial=function(){o.resetIsolateMaterial()},this.clearAllIsolateList=function(){var A=null;for(A=c.ISOLATEFILTER_OFFSET;A<=c.ISOLATEFILTER_ENDOFFSET;A+=1)v[A].clear()},this.clearIsolateList=function(A){var e=c.ISOLATEFILTER_OFFSET+A;e<c.ISOLATEFILTER_OFFSET||c.ISOLATEFILTER_ENDOFFSET<e||v[e].clear()},this.addToIsolateList=function(A,e){var t=c.ISOLATEFILTER_OFFSET+A;t<c.ISOLATEFILTER_OFFSET||c.ISOLATEFILTER_ENDOFFSET<t||v[t].add(e)},this.removeFromIsolateList=function(A,e){var t=c.ISOLATEFILTER_OFFSET+A;t<c.ISOLATEFILTER_OFFSET||c.ISOLATEFILTER_ENDOFFSET<t||v[t].remove(e)},this.setIsolateList=function(A,e){this.clearIsolateList(A),this.addToIsolateList(A,e)},this.setIsolateConditions=function(A,e){var t=c.ISOLATECONDITIONFILTER_OFFSET+e;t<c.ISOLATECONDITIONFILTER_OFFSET||c.ISOLATECONDITIONFILTER_ENDOFFSET<t||v[t].setByData(A)},this.getIsolateConditions=function(A){var e=null,t=c.ISOLATECONDITIONFILTER_OFFSET+A;return t<c.ISOLATECONDITIONFILTER_OFFSET||c.ISOLATECONDITIONFILTER_ENDOFFSET<t||(e=v[t].getAll()),e},this.clearIsolateConditions=function(A){var e=c.ISOLATECONDITIONFILTER_OFFSET+A;e<c.ISOLATECONDITIONFILTER_OFFSET||c.ISOLATECONDITIONFILTER_ENDOFFSET<e||v[e].clear()},this.clearAllIsolateConditions=function(){var A=null;for(A=c.ISOLATECONDITIONFILTER_OFFSET;A<=c.ISOLATECONDITIONFILTER_ENDOFFSET;A+=1)v[A].clearAll()},this.setConditions=function(A,e){var t=c.CONDITIONFILTER_OFFSET+A;t<c.CONDITIONFILTER_OFFSET||c.CONDITIONFILTER_ENDOFFSET<t||v[t].setByData(e)},this.getConditions=function(A){var e=null,t=c.CONDITIONFILTER_OFFSET+A;return t<c.CONDITIONFILTER_OFFSET||c.CONDITIONFILTER_ENDOFFSET<t||(e=v[t].get()),e},this.clearConditions=function(A){var e=c.CONDITIONFILTER_OFFSET+A;e<c.CONDITIONFILTER_OFFSET||c.CONDITIONFILTER_ENDOFFSET<e||v[e].clearAll()},this.clearAllConditions=function(){var A=null;for(A=c.CONDITIONFILTER_OFFSET;A<=c.CONDITIONFILTER_ENDOFFSET;A+=1)v[A].clear()},this.makeSceneTranslucent=function(){this.setSceneState(fh.TRANSLUCENT)},this.cancelSceneTranslucent=function(){this.setSceneState(fh.DISABLED)},this.hideScene=function(){this.setSceneState(fh.HIDDEN)},this.showScene=function(){this.setSceneState(fh.DISABLED)},this.setSceneState=function(A){e=A},this.getSceneState=function(){return e},this.cancelTranslucent=function(){this.clearIdList(hh.TRANSLUCENT),this.clearIdList(hh.TRANSLUCENT_OTHERS)},this._addIdsToFilter=function(A,e){var t=c.IDFILTER_OFFSET+A;t<c.IDFILTER_OFFSET||c.IDFILTER_ENDOFFSET<t||v[t].add(e)},this.hideByIds=function(A){this._addIdsToFilter(hh.HIDDEN,A)},this.showByIds=function(A){this._addIdsToFilter(hh.VISIBLE,A)},this.makeTranslucentByIds=function(A){this._addIdsToFilter(hh.TRANSLUCENT,A)},this.makeTranslucentOthersByIds=function(A){this._addIdsToFilter(hh.TRANSLUCENT_OTHERS,A)},this._isVisible=function(A){return this.getSceneState()!==fh.HIDDEN&&d.apply(A)},this._isSelectable=function(A){return this.getSceneState()!==fh.TRANSLUCENT&&p.apply(A,this.getSceneState())},this._isSelectableById=function(A){return!C.get()[A]},this.getMaterialNameByColor=function(A){return o.getMaterialNameByColor(A)},this.getMaterialNameByWireframe=function(A){return o.getMaterialNameByWireframe(A)},this.addOverrideMaterial=function(A){o.addOverrideMaterial(A)},this.getMaterialByName=function(A){return o.get(A)},this._getOverrideMaterial=function(A){if(this.getSceneState()===fh.TRANSLUCENT)return o.get("scene");var e=h.getApplyFilterId(A),t=null,i="";switch(e){case c.ISOLATE_TRANSLUCENT:case c.ISOLATE_TRANSLUCENT_OTHERS:case c.ISOLATE_CONDITION_TRANSLUCENT_OTHERS:t=this.getIsolateMaterial();break;case c.CONDITION_TRANSLUCENT_OTHERS:case c.TRANSLUCENT:case c.TRANSLUCENT_OTHERS:t=o.get("scene");break;case c.FROZENFILTER:case c.FROZENCONDITIONFILTER:break;case c.OVERRIDEFILTER:case c.USER_OVERRIDE:case c.CONDITION_OVERRIDE:var n=v[e].getMatchItem(A);i=n.hasOwnProperty("color")?o.getMaterialNameByColor(n.color):n.material?n.material:n}return t||""===i||(o.has(i)||(i=o.getDefaultMaterialName()),t=o.get(i)),t},this._getMaterialName=function(A){if(this.getSceneState()===fh.TRANSLUCENT)return"scene";var e=h.getApplyFilterId(A),t="";switch(e){case c.ISOLATE_TRANSLUCENT:case c.ISOLATE_TRANSLUCENT_OTHERS:case c.ISOLATE_CONDITION_TRANSLUCENT_OTHERS:t=this.getIsolateMaterial().name;break;case c.CONDITION_TRANSLUCENT_OTHERS:case c.TRANSLUCENT:case c.TRANSLUCENT_OTHERS:t="scene";break;case c.FROZENFILTER:case c.FROZENCONDITIONFILTER:break;case c.OVERRIDEFILTER:case c.USER_OVERRIDE:case c.CONDITION_OVERRIDE:var i=v[e].getMatchItem(A);t=i.hasOwnProperty("color")?o.getMaterialNameByColor(i.color):i.material?i.material:i}return t},this._getMaterialByName=function(A){return A instanceof vi?A:"isolate"===A?o.getIsolateMaterial():"looming"===A||"scene"===A?o.getFrozonMaterial():"selected"===A?o.getSelectedMaterial():o.get(A)},this._hasHighPriorityOverrideMaterial=function(A){return this.getSceneState()===fh.TRANSLUCENT||u.apply(A)},this._hasOverrideMaterial=function(A){return this.getSceneState()===fh.TRANSLUCENT||u.apply(A)||h.apply(A)},this._isHiddenFileId=function(A){return g.apply(A)},this._hasHiddenFileIdFilter=function(){return!g.isEmpty()},this._hasVisibleFilter=function(){return this.getSceneState()===fh.HIDDEN||!d.isEmpty()},this._hasSelectableFilter=function(){return this.getSceneState()===fh.TRANSLUCENT||!p.isEmpty()},this._hasOverrideMaterialFilter=function(){return this.getSceneState()===fh.TRANSLUCENT||!h.isEmpty()},this._hasLowPriorityOverride=function(){return h.hasFilterNotIn(u)},this._isRenderPromotion=function(A){return f.apply(A)},this._hasRenderPromotionFilter=function(){return!f.isEmpty()},this._isRenderWithBoardline=function(A){return m.apply(A)},this._hasRenderWithBoardlineFilter=function(){return!m.isEmpty()},this._getFilterObjectsKeys=function(A){var e=v[A].get(),t=[];for(var i in e)t.push(i);return t}},_f=function(A){this.materialSelector=A;var p=function(A){var e=[];for(var t in A)!0===A[t]&&e.push(t);return e};this.saveState=function(A){var e=A.getIsolateFilterAction(),t=A.getModelIsolateFilterAction(),i=A.getFilterActionList(),n={isolateAction:e,modelIsolateAction:t,modelActions:A.getModelFilterActionList(),actions:i,sceneState:A.getSceneState(),version:"1.0"};return JSON.stringify(n)},this.createAction=function(A){var e=A.className,t=null;switch(e){case"IsolateIdsFA":(t=new of(A.isolateHide)).ids=A.ids;break;case"VisibleIdsFA":(t=new ef(A.flag,A.isVisible)).ids=A.ids;break;case"OverrideIdsFA":if(n=A.material){var i=this.materialSelector.getMaterialNameByColor({opacity:A.material.opacity,color:A.material.color});n=this.materialSelector.get(i)}(t=new tf(A.flag,n)).ids=A.ids;break;case"TransparentIdsFA":(t=new rf(A.flag,A.isOpaque)).ids=A.ids;break;case"VisibleConditionFA":(t=new sf(A.flag,A.isVisible)).conditions=A.conditions;break;case"OverrideConditionFA":var n;if(n=A.material){i=this.materialSelector.getMaterialNameByColor({opacity:n.opacity,color:n.color});n=this.materialSelector.get(i)}(t=new lf(A.flag,n)).conditions=A.conditions;break;case"TransparentConditionFA":(t=new cf(A.flag,A.isOpaque)).conditions=A.conditions;break;case"IsolateConditionFA":(t=new df(A.isolateHide)).conditions=A.conditions;break;default:Gh.warn("Warning: Not supported filterAction '"+e+"'")}return t},this.createActionByOldFilter=function(A,e){var t=[];switch(A){case"CONDITION_OVERRIDE":for(var i=[],n=0;n<e.length;n+=1){var o=e[n];i.push(o.condition)}var r=this.materialSelector.add(h=o.color),a=this.materialSelector.get(r);(u=new lf(!0,a)).conditions=i,t.push(u);break;case"CONDITION_TRANSLUCENT_OTHERS":(u=new cf(!1,!1)).conditions=e,t.push(u);break;case"ISOLATE_CONDITION_HIDEEN_OTHERS":(u=new df(!0)).conditions=e,t.push(u);break;case"ISOLATE_CONDITION_TRANSLUCENT_OTHERS":(u=new df(!1)).conditions=e,t.push(u);break;case"ISOLATE_HIDDEN_OTHERS":(u=new of(!0)).ids=p(e),t.push(u);break;case"ISOLATE_TRANSLUCENT_OTHERS":(u=new of(!1)).ids=p(e),t.push(u);break;case"OVERRIDEFILTER":for(var s in e)if(e.hasOwnProperty(s)){var l=[],c=e[s];for(var d in c)l.push(d);var h=this.materialSelector.getMaterialParamsFromName(c[d]);r=this.materialSelector.add(h),a=this.materialSelector.get(r);(u=new tf(!0,a)).ids=l,t.push(u)}break;case"TRANSLUCENT":(u=new rf(!0,!1)).ids=p(e),t.push(u);break;case"TRANSLUCTANT_OTHERS":(u=new rf(!1,!1)).ids=p(e),t.push(u);break;case"VISIBLE":var u;(u=new ef(!0,!0)).ids=p(e),t.push(u);break;default:Gh.warn("Warning: Not supported filter '"+A+"'")}return t},this.loadState=function(A,e){e.clearFilterActionList(),e.clearModelFilterActionList(),e.getObjectInfoManager().resetAll(),e.getModelInfoManager().resetAll();var t=JSON.parse(A);if(t.hasOwnProperty("version")&&"1.0"===t.version){var i=t.isolateAction;if(i){var n=this.createAction(i);e.pushBack(n)}for(var o=t.actions,r=0;r<o.length;r+=1){n=this.createAction(o[r]);e.pushBack(n)}var a=t.modelIsolateAction;if(a){n=this.createAction(a);e.pushModelBack(n)}for(var s=t.modelActions,l=0;l<s.length;l+=1){n=this.createAction(s[l]);e.pushModelBack(n)}}e.setSceneState(t.sceneState)}},Sf=function(){var l={},c=[],d=!1,h=!1,u=!1,p=!1,g=!1,A=new ni;this.init=function(A){},this.clearData=function(){},this.getObjectsMap=function(){},this.add=function(A){l[A]={state:uh.Visible,modelKey:A,material:null},c=Object.keys(l)},this.remove=function(A){delete l[A],c=Object.keys(l)},this.calculateVisibleComponentsBbox=function(){},this.getVisibleComponentsBbox=function(){return A.isEmpty()&&this.calculateVisibleComponentsBbox(),A},this.arrayToMap=function(A){for(var e={},t=0;t<A.length;t+=1){var i=A[t];e[i]=i}return e},this.isMatchConditions=function(A,e){for(var t=!0,i=0,n=e.length;i<n;i+=1){var o=e[i];for(var r in o){if(!Array.isArray(o[r])&&A[r]!==o[r]){t=!1;break}if(Array.isArray(o[r])&&-1===o[r].indexOf(A[r])){t=!1;break}}if(!0===t)break;i<e.length-1&&(t=!0)}return t},this.matchConditions=function(A,e){},this.setVisible=function(A,e,t){var i=function(A){e?A.state=uh.Visible:(h=!0,A.state&=~uh.Visible)};if(void 0===t||!0===t)for(var n=0,o=A.length;n<o;n+=1)l.hasOwnProperty(A[n])&&i(l[A[n]]);else for(var r=this.arrayToMap(A),a=0,s=c.length;a<s;a+=1)r.hasOwnProperty(c[a])||i(l[c[a]])},this.isVisible=function(A){if(l.hasOwnProperty(A))return l[A].state&0<uh.Visible},this.clearVisible=function(){for(var A in h=!1,l){if(l.hasOwnProperty(A))l[A].state=uh.Visible}},this.hideAll=function(){for(var A in h=!0,l){if(l.hasOwnProperty(A))l[A].state&=~uh.Visible}},this.setTransparent=function(A,e,t){var i=function(A){e?(A.state|=uh.Transparent,p=d=!0):A.state&=~uh.Transparent};if(void 0===t||!0===t)for(var n=0,o=A.length;n<o;n+=1)l.hasOwnProperty(A[n])&&i(l[A[n]]);else for(var r=this.arrayToMap(A),a=0,s=c.length;a<s;a+=1)r.hasOwnProperty(c[a])||i(l[c[a]])},this.isTransparent=function(A){if(l.hasOwnProperty(A)){var e=l[A],t=0<(e.state&uh.Transparent);return t=t||0<(e.state&uh.TransparentByIsolate)}},this.clearTransparent=function(){for(var A in p=!1,l){if(l.hasOwnProperty(A))l[A].state&=~uh.Transparent}},this.setMaterial=function(A,e,t){if(void 0===t||!0===t)for(var i=0,n=A.length;i<n;i+=1){if(l.hasOwnProperty(A[i]))l[A[i]].material=e,d=!0}else for(var o=this.arrayToMap(A),r=0,a=c.length;r<a;r+=1){if(!o.hasOwnProperty(c[r]))l[c[r]].material=e,d=!0}},this.getMaterial=function(A){if(l.hasOwnProperty(A))return l[A].material},this.clearMaterial=function(){for(var A in l){l[A].material=null}},this.setIsolateHide=function(A,e,t){var i=function(A){e?(u=!0,A.state|=uh.HideByIsolate):A.state&=~uh.HideByIsolate};if(void 0===t||!0===t)for(var n=0,o=A.length;n<o;n+=1)l.hasOwnProperty(A[n])&&i(l[A[n]]);else for(var r=this.arrayToMap(A),a=0,s=c.length;a<s;a+=1)r.hasOwnProperty(c[a])||i(l[c[a]])},this.isIsolateHide=function(A){if(l.hasOwnProperty(A))return 0<(l[A].state&uh.HideByIsolate)},this.setIsolateTransparent=function(A,e,t){var i=function(A){e?(A.state|=uh.TransparentByIsolate,g=d=!0):A.state&=~uh.TransparentByIsolate};if(void 0===t||!0===t)for(var n=0,o=A.length;n<o;n+=1)l.hasOwnProperty(A[n])&&i(l[A[n]]);else for(var r=this.arrayToMap(A),a=0,s=c.length;a<s;a+=1)r.hasOwnProperty(c[a])||i(l[c[a]])},this.isIsolateTransparent=function(A){if(l.hasOwnProperty(A))return 0<(l[A].state&uh.TransparentByIsolate)},this.clearIsolateHide=function(){u=!1;var A=Object.keys(l);0<A.length&&this.setIsolateHide(A,!1)},this.clearIsolates=function(){u=g=!1;var A=Object.keys(l);0<A.length&&(this.setIsolateHide(A,!1),this.setIsolateTransparent(A,!1))},this.clearTransparentByIsolate=function(){for(var A in g=!1,l){if(l.hasOwnProperty(A))l[A].state&=~uh.TransparentByIsolate}},this.isHidden=function(A){if(l.hasOwnProperty(A)){var e=l[A],t=0==(e.state&uh.Visible);return t=t||0<(e.state&uh.HideByIsolate)}},this.isFrozen=function(A){if(l.hasOwnProperty(A)){var e=l[A],t=0<(e.state&uh.Transparent);return t=t||0<(e.state&uh.TransparentByIsolate)}},this.resetAll=function(){for(var A in l)l.hasOwnProperty(A)&&(l[A].state=uh.Visible,l[A].material=null);h=u=d=!1,p=g=!1},this.hasOverrideMaterial=function(A){return void 0===A?d:l.hasOwnProperty(A)?null!==l[A].material||this.isTransparent(A):void 0},this.hasObjectHidden=function(){return h||u},this.hasObjectCantSelected=function(){return h||p||g},this.hasObjectTransparent=function(){return p||g}},Tf=function(){var t={},i={};this.init=function(A){for(var e in t=A)i.hasOwnProperty(e)&&!kh.isEmptyObject(i[e])||(i[e]=Object.keys(t[e]))},this.reinit=function(A){for(var e in i={},t=A)i[e]=Object.keys(A[e])},this.clear=function(){t={},i={}},this.getObjectsMap=function(){return t},this.getObjectIds=function(A){return i.hasOwnProperty(A)?i[A]:[]}},Kf=function(){var g=new Tf,f=!1,m=!1,v=!1,y=!1,C=!1,l=new ni;this.init=function(A){g.init(A)},this.reinit=function(A){g.reinit(A)},this.clearData=function(){g.clear()},this.getObjectsMap=function(){return g.getObjectsMap()},this.calculateVisibleComponentsBbox=function(){l.makeEmpty();var A=g.getObjectsMap();for(var e in A)for(var t=A[e],i=g.getObjectIds(e),n=null,o=0,r=i.length;o<r;o+=1){var a=i[o];if(!this.isHidden(a)){n=n||t[a][0].model.getModelMatrix();var s=t[a][0].boundingBox.clone().applyMatrix4(n);s.isEmpty()||(l.expandByPoint(s.min),l.expandByPoint(s.max))}}},this.getVisibleComponentsBbox=function(){return l.isEmpty()&&this.calculateVisibleComponentsBbox(),l},this.arrayToMap=function(A){for(var e={},t=0;t<A.length;t+=1){var i=A[t];e[i]=i}return e},this.isMatchConditions=function(A,e){for(var t=!0,i=0,n=e.length;i<n;i+=1){var o=e[i];for(var r in o){if(!Array.isArray(o[r])&&A[r]!==o[r]){t=!1;break}if(Array.isArray(o[r])&&-1===o[r].indexOf(A[r])){t=!1;break}}if(!0===t)break;i<e.length-1&&(t=!0)}return t},this.matchConditions=function(A,e){var t=g.getObjectsMap();for(var i in t)for(var n=[],o=[],r=t[i],a=g.getObjectIds(i),s=0,l=a.length;s<l;s+=1){var c=a[s],d=r[c][0].userData||{};d.elementId=r[c][0].userId,this.isMatchConditions(d,A)?n.push(c):o.push(c)}e&&e(n,!0),e&&e(o,!1)},this.getMatchIds=function(A){var e=g.getObjectsMap(),t=[];for(var i in e)for(var n=e[i],o=g.getObjectIds(i),r=0,a=o.length;r<a;r+=1){var s=o[r],l=n[s][0].userData||{};l.elementId=n[s][0].userId,!0===this.isMatchConditions(l,A)&&t.push(s)}return t},this.setVisible=function(A,e,t){var i=function(A){e?A.state=uh.Visible:(m=!0,A.state&=~uh.Visible)},n=g.getObjectsMap();for(var o in n){var r=n[o];if(void 0===t||!0===t)for(var a=0,s=A.length;a<s;a+=1){if(r.hasOwnProperty(p=A[a])){var l=r[p][0];i(l)}}else{for(var c=this.arrayToMap(A),d=g.getObjectIds(o),h=0,u=d.length;h<u;h+=1){var p;c.hasOwnProperty(p=d[h])||i(l=r[p][0])}c=null}}},this.isVisible=function(A){var e=g.getObjectsMap();for(var t in e){var i=e[t];if(i.hasOwnProperty(A))return i[A][0].state&0<uh.Visible}},this.clearVisible=function(){var A=g.getObjectsMap();for(var e in m=!1,A)for(var t=A[e],i=g.getObjectIds(e),n=0,o=i.length;n<o;n+=1){t[i[n]][0].state=uh.Visible}},this.hideAll=function(){var A=g.getObjectsMap();for(var e in m=!0,A)for(var t=A[e],i=g.getObjectIds(e),n=0,o=i.length;n<o;n+=1){t[i[n]][0].state&=~uh.Visible}},this.setTransparent=function(A,e,t){var i=function(A){e?(A.state|=uh.Transparent,y=f=!0):A.state&=~uh.Transparent},n=g.getObjectsMap();for(var o in n){var r=n[o];if(void 0===t||!0===t)for(var a=0,s=A.length;a<s;a+=1){if(r.hasOwnProperty(p=A[a])){var l=r[p][0];i(l)}}else{for(var c=this.arrayToMap(A),d=g.getObjectIds(o),h=0,u=d.length;h<u;h+=1){var p;c.hasOwnProperty(p=d[h])||i(l=r[p][0])}c=null}}},this.isTransparent=function(A){var e=g.getObjectsMap();for(var t in e){var i=e[t];if(i.hasOwnProperty(A)){var n=i[A][0],o=0<(n.state&uh.Transparent);return o=o||0<(n.state&uh.TransparentByIsolate)}}},this.clearTransparent=function(){var A=g.getObjectsMap();for(var e in y=!1,A)for(var t=A[e],i=g.getObjectIds(e),n=0,o=i.length;n<o;n+=1){t[i[n]][0].state&=~uh.Transparent}},this.setMaterial=function(A,e,t){var i=g.getObjectsMap();for(var n in i){var o=i[n];if(void 0===t||!0===t)for(var r=0,a=A.length;r<a;r+=1){if(o.hasOwnProperty(u=A[r])){var s=o[u][0];s.material=e,f=!0}}else{for(var l=this.arrayToMap(A),c=g.getObjectIds(n),d=0,h=c.length;d<h;d+=1){var u;l.hasOwnProperty(u=c[d])||((s=o[u][0]).material=e,f=!0)}l=null}}},this.getMaterial=function(A){var e=g.getObjectsMap();for(var t in e){var i=e[t];if(i.hasOwnProperty(A))return i[A][0].material}},this.clearMaterial=function(){var A=g.getObjectsMap();for(var e in A){var t=A[e];for(var i in t)t[i][0].material=null}},this.clearMaterialByKey=function(A){var e=g.getObjectsMap();for(var t in e){var i=e[t];for(var n in i)-1!==A.indexOf(n)&&(i[n][0].material=null)}},this.setIsolateHide=function(A,e,t){var i=function(A){e?(v=!0,A.state|=uh.HideByIsolate):A.state&=~uh.HideByIsolate},n=g.getObjectsMap();for(var o in n){var r=n[o];if(void 0===t||!0===t)for(var a=0,s=A.length;a<s;a+=1){if(r.hasOwnProperty(p=A[a])){var l=r[p][0];i(l)}}else{for(var c=this.arrayToMap(A),d=g.getObjectIds(o),h=0,u=d.length;h<u;h+=1){var p;c.hasOwnProperty(p=d[h])||i(l=r[p][0])}c=null}}},this.isIsolateHide=function(A){var e=g.getObjectsMap();for(var t in e){var i=e[t];if(i.hasOwnProperty(A))return 0<(i[A][0].state&uh.HideByIsolate)}},this.setIsolateTransparent=function(A,e,t){var i=function(A){e?(A.state|=uh.TransparentByIsolate,C=f=!0):A.state&=~uh.TransparentByIsolate},n=g.getObjectsMap();for(var o in n){var r=n[o];if(void 0===t||!0===t)for(var a=0,s=A.length;a<s;a+=1){if(r.hasOwnProperty(p=A[a])){var l=r[p][0];i(l)}}else{for(var c=this.arrayToMap(A),d=g.getObjectIds(o),h=0,u=d.length;h<u;h+=1){var p;c.hasOwnProperty(p=d[h])||i(l=r[p][0])}c=null}}},this.isIsolateTransparent=function(A){var e=g.getObjectsMap();for(var t in e){var i=e[t];if(i.hasOwnProperty(A))return 0<(i[A][0].state&uh.TransparentByIsolate)}},this.clearIsolateHide=function(){var A=g.getObjectsMap();for(var e in v=!1,A){var t=g.getObjectIds(e);0<t.length&&this.setIsolateHide(t,!1)}},this.clearIsolates=function(){var A=g.getObjectsMap();for(var e in v=C=!1,A){var t=g.getObjectIds(e);0<t.length&&(this.setIsolateHide(t,!1),this.setIsolateTransparent(t,!1))}},this.clearTransparentByIsolate=function(){var A=g.getObjectsMap();for(var e in C=!1,A)for(var t=A[e],i=g.getObjectIds(e),n=0,o=i.length;n<o;n+=1){t[i[n]][0].state&=~uh.TransparentByIsolate}},this.isHidden=function(A){var e=g.getObjectsMap();for(var t in e){var i=e[t];if(i.hasOwnProperty(A)){var n=i[A][0],o=0==(n.state&uh.Visible);return o=o||0<(n.state&uh.HideByIsolate)}}},this.isFrozen=function(A){var e=g.getObjectsMap();for(var t in e){var i=e[t];if(i.hasOwnProperty(A)){var n=i[A][0],o=0<(n.state&uh.Transparent);return o=o||0<(n.state&uh.TransparentByIsolate)}}},this.resetAll=function(){var A=g.getObjectsMap();for(var e in A)for(var t=A[e],i=g.getObjectIds(e),n=0,o=i.length;n<o;n+=1){var r=i[n];t[r][0].state=uh.Visible,t[r][0].material=null}m=v=f=!1,y=C=!1},this.hasOverrideMaterial=function(A){var e=g.getObjectsMap();if(void 0===A)return f;for(var t in e){var i=e[t];if(i.hasOwnProperty(A))return null!==i[A][0].material||this.isTransparent(A)}},this.hasObjectHidden=function(){return m||v},this.hasObjectCantSelected=function(){return m||y||C},this.hasObjectTransparent=function(){return y||C}},Ff=function(){this._filterImpl=new Bf;var n=[],t=[],i=null,o=null,A=this._filterImpl.getMaterialSelector(),r=new Kf,a=new Sf,e=new _f(A);this.setSceneStateHelper=function(A){},this.getFilterActionList=function(){return n},this.getModelFilterActionList=function(){return t},this.addModel=function(A){a.add(A)},this.removeModel=function(A){a.remove(A)},this.clearFilterActionList=function(){n=[]},this.clearModelFilterActionList=function(){t=[]},this.initFilterManager=function(A){r.init(A)},this.reinitFilterManager=function(A){r.reinit(A)};var s=!(this.clearFilterManager=function(){r.clearData()});this.isStateChanged=function(){return s},this.enableStateChanged=function(){s=!0},this.diableStateChanged=function(){s=!1},this.getIsolateFilterAction=function(){return i},this.getModelIsolateFilterAction=function(){return o},this.setIsolateAction=function(A){(i=A).apply()},this.getVisibleComponentsBbox=function(){return r.getVisibleComponentsBbox()},this.pushBack=function(A){var e=A.getClassName();"IsolateIdsFA"===e||"IsolateConditionFA"===e?i=A:n.push(A),s=!0,A.applyFilter(r)},this.pushModelBack=function(A){var e=A.getClassName();"IsolateIdsFA"===e||"IsolateConditionFA"===e?o=A:t.push(A),s=!0,A.applyFilter(a)};var l=function(A){for(var e=[],t=0;t<n.length;){var i=n[t];A===i.getClassName()?(e=e.concat(i.ids),n.splice(t,1)):t+=1}return e},c=function(A){for(var e=0;e<t.length;){A===t[e].getClassName()?t.splice(e,1):e+=1}};this.showAll=function(){l("VisibleIdsFA"),l("VisibleConditionFA"),r.clearVisible(),r.calculateVisibleComponentsBbox(),this.enableStateChanged()},this.showAllModel=function(){c("VisibleIdsFA"),a.clearVisible(),this.enableStateChanged()},this.hideAll=function(){var A=new ef(!1,!1);A.ids=[],this.pushBack(A)},this.hideAllModel=function(){var A=new ef(!1,!1);A.ids=[],this.pushModelBack(A)},this.getObjectInfoManager=function(){return r},this.getModelInfoManager=function(){return a},this.getMatchIds=function(A){return r.getMatchIds(A)},this._isVisible=function(A){return!r.isHidden(A.userId)},this._isModelVisible=function(A){return!a.isHidden(A)},this._isTransparent=function(A){return r.isTransparent(A.userId)},this._isModelTransparent=function(A){return a.isTransparent(A)},this._isSelectable=function(A){return!!Ah.EnableSelectionByTranslucent||!r.isFrozen(A.userId)},this._isSelectableById=function(A){return!!Ah.EnableSelectionByTranslucent||!r.isFrozen(A)},this._getOverrideMaterial=function(A){var e=A.userId;return r.isFrozen(e)?this._filterImpl.getFrozonMaterial():r.getMaterial(e)},this._getModelOverrideMaterial=function(A){return a.isFrozen(A)?this._filterImpl.getFrozonMaterial():a.getMaterial(A)},this._getMaterialName=function(A){return this._filterImpl._getMaterialName(A)},this._getMaterialByName=function(A){return this._filterImpl._getMaterialByName(A)},this._hasOverrideMaterial=function(A){return r.hasOverrideMaterial(A.userId)},this._hasModelOverrideMaterial=function(A){return a.hasOverrideMaterial(A)},this._hasHighPriorityOverrideMaterial=function(A){return this._filterImpl._hasHighPriorityOverrideMaterial(A)},this._isHiddenFileId=function(A){return this._filterImpl._isHiddenFileId(A)},this._isRenderPromotion=function(A){return this._filterImpl._isRenderPromotion(A)},this._isRenderWithBoardline=function(A){return this._filterImpl._isRenderWithBoardline(A)},this._hasHiddenFileIdFilter=function(){return this._filterImpl._hasHiddenFileIdFilter()},this._hasVisibleFilter=function(){return r.hasObjectHidden()},this._hasSelectableFilter=function(){return r.hasObjectCantSelected()},this._hasTransparentFilter=function(){return r.hasObjectTransparent()},this._hasOverrideMaterialFilter=function(){return r.hasOverrideMaterial()},this._hasModelVisibleFilter=function(){return a.hasObjectHidden()},this._hasModelSelectableFilter=function(){return a.hasObjectCantSelected()},this._hasModelTransparentFilter=function(){return a.hasObjectTransparent()},this._hasModelOverrideMaterialFilter=function(){return a.hasOverrideMaterial()},this._hasLowPriorityOverride=function(){return this._filterImpl._hasLowPriorityOverride()},this._hasRenderPromotionFilter=function(){return this._filterImpl._hasRenderPromotionFilter()},this._hasRenderWithBoardlineFilter=function(){return this._filterImpl._hasRenderWithBoardlineFilter()},this.saveState=function(){return e.saveState(this)},this.loadState=function(A){e.loadState(A,this)},this.clear=function(){r.resetAll(),s=!0},this.clearAll=function(){return this.enableStateChanged(),this._filterImpl.clearAll()},this.clearIsolate=function(){r.clearIsolates()},this.clearFrozenList=function(){return this.enableStateChanged(),this._filterImpl.clearFrozenList()},this.addToFrozenList=function(A){return this.enableStateChanged(),this._filterImpl.addToFrozenList(A)},this.removeFromFrozenList=function(A){return this.enableStateChanged(),this._filterImpl.removeFromFrozenList(A)},this.setFrozenList=function(A){return this.enableStateChanged(),this._filterImpl.setFrozenList(A)},this.setFrozenConditions=function(A){this.enableStateChanged(),this._filterImpl.setFrozenConditions(A)},this.getFrozenConditions=function(){return this._filterImpl.getFrozenConditions()},this.clearFrozenConditions=function(){this.enableStateChanged(),this._filterImpl.clearFrozenConditions()},this.clearFrozen=function(){this.enableStateChanged(),this.clearFrozenList(),this.clearFrozenConditions()},this.clearAllIdList=function(){return this.enableStateChanged(),this._filterImpl.clearAllIdList()},this.clearIdList=function(A){return this.enableStateChanged(),this._filterImpl.clearIdList(A)},this.addToIdList=function(A,e){return this.enableStateChanged(),this._filterImpl.addToIdList(A,e)},this.removeFromIdList=function(A,e){return this.enableStateChanged(),this._filterImpl.removeFromIdList(A,e)},this.setIdList=function(A,e){return this.enableStateChanged(),this._filterImpl.setIdList(A,e)},this.clearAllOverrideList=function(){l("OverrideIdsFA"),l("OverrideConditionFA"),r.clearMaterial(),this.enableStateChanged()},this.clearModelAllOverrideList=function(){c("OverrideIdsFA"),a.clearMaterial(),this.enableStateChanged()},this.clearOverrideList=function(A){return this.enableStateChanged(),this._filterImpl.clearOverrideList(A)},this.addToOverrideList=function(A,e,t){return this.enableStateChanged(),this._filterImpl.addToOverrideList(A,e,t)},this.removeFromOverrideList=function(A,e){return this.enableStateChanged(),this._filterImpl.removeFromOverrideList(A,e)},this.setOverrideList=function(A,e,t){return this.enableStateChanged(),this._filterImpl.setOverrideList(A,e,t)},this.addToOverrideListByColor=function(A,e){var t=null;if(e){var i=this._filterImpl.getMaterialNameByColor(e);t=this._filterImpl.getMaterialByName(i)}var n=new tf(!0,t);n.ids=A,this.pushBack(n)},this.addToModelOverrideListByColor=function(A,e){var t=null;if(e){var i=this._filterImpl.getMaterialNameByColor(e);t=this._filterImpl.getMaterialByName(i)}var n=new tf(!0,t);n.ids=A,this.pushModelBack(n)},this.addToOverrideListByConditions=function(A,e){var t=null;if(e){var i=this._filterImpl.getMaterialNameByColor(e);t=this._filterImpl.getMaterialByName(i)}var n=new lf(!0,t);n.conditions=A,this.pushBack(n)},this.addToOverrideListByConditions=function(A,e){var t=null;if(e){var i=this._filterImpl.getMaterialNameByColor(e);t=this._filterImpl.getMaterialByName(i)}var n=new lf(!0,t);n.conditions=A,this.pushBack(n)},this.addToOverrideListByMaterial=function(A,e){this._filterImpl.addOverrideMaterial(e);var t=new lf(!0,e);t.conditions=A,this.pushBack(t)},this.addToOverrideListByMaterialAndId=function(A,e){this._filterImpl.addOverrideMaterial(e);var t=new tf(!0,e);t.ids=A,this.pushBack(t)},this.setOverrideListByColor=function(A,e,t){for(var i=0;i<e.length;i+=1){var n=this._filterImpl.getMaterialNameByColor(t),o=this._filterImpl.getMaterialByName(n);r.setMaterial(e[i],o)}},this.clearAllWireframeList=function(){var A=[];A=A.concat(l("WireframeIdsFA")),r.clearMaterialByKey(A),this.enableStateChanged()},this.addToWireframeByWireframe=function(A,e){var t=null;if(e){var i=this._filterImpl.getMaterialNameByWireframe(e);t=this._filterImpl.getMaterialByName(i)}var n=new nf(!0,t);n.ids=A,this.pushBack(n)},this.clearAllUserList=function(){return this.enableStateChanged(),this._filterImpl.clearAllUserList()},this.clearUserListByType=function(A){return this.enableStateChanged(),this._filterImpl.clearUserListByType(A)},this.clearUserList=function(A,e){return this.enableStateChanged(),this._filterImpl.clearUserList(A,e)},this.addToUserList=function(A,e,t,i){return this.enableStateChanged(),this._filterImpl.addToUserList(A,e,t,i)},this.removeFromUserList=function(A,e,t){this.enableStateChanged(),this._filterImpl.removeFromUserList(A,e,t)},this.setUserList=function(A,e,t,i){this.enableStateChanged(),this._filterImpl.setUserList(A,e,t,i)},this.isIsolate=function(){var A=r.getObjectsMap();for(var e in A){if(A.hasOwnProperty(e))var t=A[e];for(var i in t){var n=r.isIsolateHide(i);if(n|=r.isIsolateTransparent(i))return!0}}return!1},this.isFiltering=function(){var A=0<this.filterActionList.length;return this.isIsolate()||A},this.setIsolateMaterial=function(A){this.enableStateChanged(),this._filterImpl.setIsolateMaterial(A)},this.getIsolateMaterial=function(){return this._filterImpl.getIsolateMaterial()},this.resetIsolateMaterial=function(){this.enableStateChanged(),this._filterImpl.resetIsolateMaterial()},this.clearAllIsolateList=function(){r.clearIsolates()},this.clearIsolation=function(){r.clearIsolates(),s=!(i=null)},this.clearModelIsolation=function(){a.clearIsolates(),s=!(o=null)},this.addToIsolateList=function(A,e){var t=new of("HideOthers"===e);t.ids=A.concat(),this.pushBack(t),this.clearFilterActionList()},this.removeFromIsolateList=function(A){i&&Array.isArray(A)&&(A.forEach(function(A){i.ids.remove(A)}),i.ids.length<1?(r.clearIsolates(),i=null):i.applyFilter(r),this.enableStateChanged())},this.removeModelFromIsolateList=function(A){o&&Array.isArray(A)&&(A.forEach(function(A){o.ids.remove(A)}),o.ids.length<1?(a.clearIsolates(),o=null):o.applyFilter(a),this.enableStateChanged())},this.setIsolateList=function(A,e){var t=new of(e);t.ids=A.concat(),this.pushBack(t)},this.setModelIsolateList=function(A,e){var t=new of(e);t.ids=A.concat(),this.pushModelBack(t)},this.setIsolateConditions=function(A,e){var t=new df(e===ph.HIDDEN_OTHERS);t.conditions=A,this.pushBack(t),this.clearFilterActionList()},this.getIsolateConditions=function(A){return this._filterImpl.getIsolateConditions(A)},this.clearIsolateConditions=function(A){this.enableStateChanged(),this._filterImpl.clearIsolateConditions(A)},this.clearAllIsolateConditions=function(){this.enableStateChanged(),this._filterImpl.clearAllIsolateConditions()},this.setConditions=function(A,e){if(0===A){r.hideAll();var t=new sf(!0,!0);t.conditions=e,this.pushBack(t)}3===A&&this._filterImpl.setConditions(A,e)},this.getConditions=function(A){return this._filterImpl.getConditions(A)},this.clearConditions=function(A){this.enableStateChanged(),this._filterImpl.clearConditions(A)},this.clearAllConditions=function(){this.enableStateChanged(),this._filterImpl.clearAllConditions()},this.makeSceneTranslucent=function(){this.enableStateChanged(),this._filterImpl.makeSceneTranslucent()},this.cancelSceneTranslucent=function(){this.enableStateChanged(),this._filterImpl.cancelSceneTranslucent()},this.hideScene=function(){this.enableStateChanged(),this._filterImpl.hideScene()},this.showScene=function(){this.enableStateChanged(),this._filterImpl.showScene()},this.setSceneState=function(A){this.enableStateChanged(),this._filterImpl.setSceneState(A)},this.getSceneState=function(){return this._filterImpl.getSceneState()},this.cancelHidden=function(){this.enableStateChanged(),this._filterImpl.cancelHidden()},this.cancelTranslucent=function(){this.enableStateChanged(),this._filterImpl.cancelTranslucent()},this.hideByIds=function(A){var e=new ef(!0,!1);e.ids=A,this.pushBack(e)},this.hideModelByIds=function(A){var e=new ef(!0,!1);e.ids=A,this.pushModelBack(e)},this.hideByConditions=function(A){var e=new sf(!0,!1);e.conditions=A,this.pushBack(e)},this.hideOthersByConditions=function(A){var e=new sf(!1,!1);e.conditions=A,this.pushBack(e)},this.showByIds=function(A){var e=new ef(!0,!0);e.ids=A,this.pushBack(e)},this.showModelByIds=function(A){var e=new ef(!0,!0);e.ids=A,this.pushModelBack(e)},this.showByConditions=function(A){var e=new sf(!0,!0);e.conditions=A,this.pushBack(e)},this.makeTranslucentByIds=function(A){var e=new rf(!0,!1);e.ids=A,this.pushBack(e)},this.makeModelTranslucentByIds=function(A){var e=new rf(!0,!1);e.ids=A,this.pushModelBack(e)},this.makeTranslucentByConditions=function(A){var e=new cf(!0,!1);e.conditions=A,this.pushBack(e)},this.opaqueByIds=function(A){var e=new rf(!0,!0);e.ids=A,this.pushBack(e)},this.opaqueModelByIds=function(A){var e=new rf(!0,!0);e.ids=A,this.pushModelBack(e)},this.opaqueByConditions=function(A){var e=new cf(!0,!0);e.conditions=A,this.pushBack(e)},this.setFrozonMaterial=function(A){this._filterImpl.setFrozonMaterial(A),this.enableStateChanged()},this.makeTranslucentOthersByIds=function(A){var e=new rf(!1,!1);e.ids=A,this.pushBack(e)},this.makeTranslucentOthersModelByIds=function(A){var e=new rf(!1,!1);e.ids=A,this.pushModelBack(e)},this.opaqueAll=function(){l("TransparentIdsFA"),l("TransparentConditionFA"),r.clearTransparent(),this.enableStateChanged()},this.opaqueAllModel=function(){c("TransparentIdsFA"),c("TransparentConditionFA"),a.clearTransparent(),this.enableStateChanged()},this.getFilterType=function(){return this._filterImpl._getFilterType()},this._getFilterObjectsKeys=function(A){return this._filterImpl._getFilterObjectsKeys(A)}},Lf=function(){this.size=0,this.counter=0,this.expansion=1,this._pool=null};function Of(A,e){var t=A.__state.conversionName.toString(),i=Math.round(A.r),n=Math.round(A.g),o=Math.round(A.b),r=A.a,a=Math.round(A.h),s=A.s.toFixed(1),l=A.v.toFixed(1);if(e||"THREE_CHAR_HEX"===t||"SIX_CHAR_HEX"===t){for(var c=A.hex.toString(16);c.length<6;)c="0"+c;return"#"+c}return"CSS_RGB"===t?"rgb("+i+","+n+","+o+")":"CSS_RGBA"===t?"rgba("+i+","+n+","+o+","+r+")":"HEX"===t?"0x"+A.hex.toString(16):"RGB_ARRAY"===t?"["+i+","+n+","+o+"]":"RGBA_ARRAY"===t?"["+i+","+n+","+o+","+r+"]":"RGB_OBJ"===t?"{r:"+i+",g:"+n+",b:"+o+"}":"RGBA_OBJ"===t?"{r:"+i+",g:"+n+",b:"+o+",a:"+r+"}":"HSV_OBJ"===t?"{h:"+a+",s:"+s+",v:"+l+"}":"HSVA_OBJ"===t?"{h:"+a+",s:"+s+",v:"+l+",a:"+r+"}":"unknown format"}Lf.prototype.init=function(A,e){this.classType=A,this._pool=[],this._expand(e)},Lf.prototype._expand=function(A){this.size+=A;for(var e=0;e<A;e+=1)this._pool.push(new this.classType)},Lf.prototype.acquire=function(){return this.counter<this.size||(this.expansion=Math.round(1.2*this.expansion)+1,this._expand(this.expansion)),this._pool[this.counter++]},Lf.prototype.clear=function(){this.counter=0},Lf.prototype.destroy=function(){for(var A=0,e=this.size;A<e;A+=1)this._pool[A].destroy();this.counter=0,this.size=0,this.expansion=1,this._pool=null},Lf.prototype.getObjects=function(){return this._pool};var Uf=Array.prototype.forEach,Nf=Array.prototype.slice,Rf={BREAK:{},extend:function(t){return this.each(Nf.call(arguments,1),function(e){(this.isObject(e)?Object.keys(e):[]).forEach(function(A){this.isUndefined(e[A])||(t[A]=e[A])}.bind(this))},this),t},defaults:function(t){return this.each(Nf.call(arguments,1),function(e){(this.isObject(e)?Object.keys(e):[]).forEach(function(A){this.isUndefined(t[A])&&(t[A]=e[A])}.bind(this))},this),t},compose:function(){var t=Nf.call(arguments);return function(){for(var A=Nf.call(arguments),e=t.length-1;0<=e;e--)A=[t[e].apply(this,A)];return A[0]}},each:function(A,e,t){if(A)if(Uf&&A.forEach&&A.forEach===Uf)A.forEach(e,t);else if(A.length===A.length+0){var i,n=void 0;for(n=0,i=A.length;n<i;n++)if(n in A&&e.call(t,A[n],n)===this.BREAK)return}else for(var o in A)if(e.call(t,A[o],o)===this.BREAK)return},defer:function(A){setTimeout(A,0)},debounce:function(i,n,o){var r=void 0;return function(){var A=this,e=arguments;var t=o||!r;clearTimeout(r),r=setTimeout(function(){r=null,o||i.apply(A,e)},n),t&&i.apply(A,e)}},toArray:function(A){return A.toArray?A.toArray():Nf.call(A)},isUndefined:function(A){return void 0===A},isNull:function(A){return null===A},isNaN:function(A){function e(){return A.apply(this,arguments)}return e.toString=function(){return A.toString()},e}(function(A){return isNaN(A)}),isArray:Array.isArray||function(A){return A.constructor===Array},isObject:function(A){return A===Object(A)},isNumber:function(A){return A===A+0},isString:function(A){return A===A+""},isBoolean:function(A){return!1===A||!0===A},isFunction:function(A){return"[object Function]"===Object.prototype.toString.call(A)}},Pf=[{litmus:Rf.isString,conversions:{THREE_CHAR_HEX:{read:function(A){var e=A.match(/^#([A-F0-9])([A-F0-9])([A-F0-9])$/i);return null!==e&&{space:"HEX",hex:parseInt("0x"+e[1].toString()+e[1].toString()+e[2].toString()+e[2].toString()+e[3].toString()+e[3].toString(),0)}},write:Of},SIX_CHAR_HEX:{read:function(A){var e=A.match(/^#([A-F0-9]{6})$/i);return null!==e&&{space:"HEX",hex:parseInt("0x"+e[1].toString(),0)}},write:Of},CSS_RGB:{read:function(A){var e=A.match(/^rgb\(\s*(.+)\s*,\s*(.+)\s*,\s*(.+)\s*\)/);return null!==e&&{space:"RGB",r:parseFloat(e[1]),g:parseFloat(e[2]),b:parseFloat(e[3])}},write:Of},CSS_RGBA:{read:function(A){var e=A.match(/^rgba\(\s*(.+)\s*,\s*(.+)\s*,\s*(.+)\s*,\s*(.+)\s*\)/);return null!==e&&{space:"RGB",r:parseFloat(e[1]),g:parseFloat(e[2]),b:parseFloat(e[3]),a:parseFloat(e[4])}},write:Of}}},{litmus:Rf.isNumber,conversions:{HEX:{read:function(A){return{space:"HEX",hex:A,conversionName:"HEX"}},write:function(A){return A.hex}}}},{litmus:Rf.isArray,conversions:{RGB_ARRAY:{read:function(A){return 3===A.length&&{space:"RGB",r:A[0],g:A[1],b:A[2]}},write:function(A){return[A.r,A.g,A.b]}},RGBA_ARRAY:{read:function(A){return 4===A.length&&{space:"RGB",r:A[0],g:A[1],b:A[2],a:A[3]}},write:function(A){return[A.r,A.g,A.b,A.a]}}}},{litmus:Rf.isObject,conversions:{RGBA_OBJ:{read:function(A){return!!(Rf.isNumber(A.r)&&Rf.isNumber(A.g)&&Rf.isNumber(A.b)&&Rf.isNumber(A.a))&&{space:"RGB",r:A.r,g:A.g,b:A.b,a:A.a}},write:function(A){return{r:A.r,g:A.g,b:A.b,a:A.a}}},RGB_OBJ:{read:function(A){return!!(Rf.isNumber(A.r)&&Rf.isNumber(A.g)&&Rf.isNumber(A.b))&&{space:"RGB",r:A.r,g:A.g,b:A.b}},write:function(A){return{r:A.r,g:A.g,b:A.b}}},HSVA_OBJ:{read:function(A){return!!(Rf.isNumber(A.h)&&Rf.isNumber(A.s)&&Rf.isNumber(A.v)&&Rf.isNumber(A.a))&&{space:"HSV",h:A.h,s:A.s,v:A.v,a:A.a}},write:function(A){return{h:A.h,s:A.s,v:A.v,a:A.a}}},HSV_OBJ:{read:function(A){return!!(Rf.isNumber(A.h)&&Rf.isNumber(A.s)&&Rf.isNumber(A.v))&&{space:"HSV",h:A.h,s:A.s,v:A.v}},write:function(A){return{h:A.h,s:A.s,v:A.v}}}}}],Df=void 0,Qf=void 0,kf=function(){Qf=!1;var t=1<arguments.length?Rf.toArray(arguments):arguments[0];return Rf.each(Pf,function(A){if(A.litmus(t))return Rf.each(A.conversions,function(A,e){if(Df=A.read(t),!1===Qf&&!1!==Df)return(Qf=Df).conversionName=e,Df.conversion=A,Rf.BREAK}),Rf.BREAK}),Qf},zf=void 0,Vf={hsv_to_rgb:function(A,e,t){var i=Math.floor(A/60)%6,n=A/60-Math.floor(A/60),o=t*(1-e),r=t*(1-n*e),a=t*(1-(1-n)*e),s=[[t,a,o],[r,t,o],[o,t,a],[o,r,t],[a,o,t],[t,o,r]][i];return{r:255*s[0],g:255*s[1],b:255*s[2]}},rgb_to_hsv:function(A,e,t){var i=Math.min(A,e,t),n=Math.max(A,e,t),o=n-i,r=void 0;return 0===n?{h:NaN,s:0,v:0}:(r=A===n?(e-t)/o:e===n?2+(t-A)/o:4+(A-e)/o,(r/=6)<0&&(r+=1),{h:360*r,s:o/n,v:n/255})},rgb_to_hex:function(A,e,t){var i=this.hex_with_component(0,2,A);return i=this.hex_with_component(i,1,e),i=this.hex_with_component(i,0,t)},component_from_hex:function(A,e){return A>>8*e&255},hex_with_component:function(A,e,t){return t<<(zf=8*e)|A&~(255<<zf)}},Hf="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(A){return typeof A}:function(A){return A&&"function"==typeof Symbol&&A.constructor===Symbol&&A!==Symbol.prototype?"symbol":typeof A},Gf=function(A,e){if(!(A instanceof e))throw new TypeError("Cannot call a class as a function")},jf=function(){function i(A,e){for(var t=0;t<e.length;t++){var i=e[t];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(A,i.key,i)}}return function(A,e,t){return e&&i(A.prototype,e),t&&i(A,t),A}}(),Wf=function A(e,t,i){null===e&&(e=Function.prototype);var n=Object.getOwnPropertyDescriptor(e,t);if(void 0===n){var o=Object.getPrototypeOf(e);return null===o?void 0:A(o,t,i)}if("value"in n)return n.value;var r=n.get;return void 0!==r?r.call(i):void 0},qf=function(A,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);A.prototype=Object.create(e&&e.prototype,{constructor:{value:A,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(A,e):A.__proto__=e)},Xf=function(A,e){if(!A)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?A:e},Yf=function(){function A(){if(Gf(this,A),this.__state=kf.apply(this,arguments),!1===this.__state)throw new Error("Failed to interpret color arguments");this.__state.a=this.__state.a||1}return jf(A,[{key:"toString",value:function(){return Of(this)}},{key:"toHexString",value:function(){return Of(this,!0)}},{key:"toOriginal",value:function(){return this.__state.conversion.write(this)}}]),A}();function Jf(A,e,t){Object.defineProperty(A,e,{get:function(){return"RGB"===this.__state.space||Yf.recalculateRGB(this,e,t),this.__state[e]},set:function(A){"RGB"!==this.__state.space&&(Yf.recalculateRGB(this,e,t),this.__state.space="RGB"),this.__state[e]=A}})}function Zf(A,e){Object.defineProperty(A,e,{get:function(){return"HSV"===this.__state.space||Yf.recalculateHSV(this),this.__state[e]},set:function(A){"HSV"!==this.__state.space&&(Yf.recalculateHSV(this),this.__state.space="HSV"),this.__state[e]=A}})}Yf.recalculateRGB=function(A,e,t){if("HEX"===A.__state.space)A.__state[e]=Vf.component_from_hex(A.__state.hex,t);else{if("HSV"!==A.__state.space)throw new Error("Corrupted color state");Rf.extend(A.__state,Vf.hsv_to_rgb(A.__state.h,A.__state.s,A.__state.v))}},Yf.recalculateHSV=function(A){var e=Vf.rgb_to_hsv(A.r,A.g,A.b);Rf.extend(A.__state,{s:e.s,v:e.v}),Rf.isNaN(e.h)?Rf.isUndefined(A.__state.h)&&(A.__state.h=0):A.__state.h=e.h},Yf.COMPONENTS=["r","g","b","h","s","v","hex","a"],Jf(Yf.prototype,"r",2),Jf(Yf.prototype,"g",1),Jf(Yf.prototype,"b",0),Zf(Yf.prototype,"h"),Zf(Yf.prototype,"s"),Zf(Yf.prototype,"v"),Object.defineProperty(Yf.prototype,"a",{get:function(){return this.__state.a},set:function(A){this.__state.a=A}}),Object.defineProperty(Yf.prototype,"hex",{get:function(){return"HEX"!==!this.__state.space&&(this.__state.hex=Vf.rgb_to_hex(this.r,this.g,this.b)),this.__state.hex},set:function(A){this.__state.space="HEX",this.__state.hex=A}});var $f=function(){function t(A,e){Gf(this,t),this.initialValue=A[e],this.domElement=document.createElement("div"),this.object=A,this.property=e,this.__onChange=void 0,this.__onFinishChange=void 0}return jf(t,[{key:"onChange",value:function(A){return this.__onChange=A,this}},{key:"onFinishChange",value:function(A){return this.__onFinishChange=A,this}},{key:"setValue",value:function(A){return this.object[this.property]=A,this.__onChange&&this.__onChange.call(this,A),this.updateDisplay(),this}},{key:"getValue",value:function(){return this.object[this.property]}},{key:"updateDisplay",value:function(){return this}},{key:"isModified",value:function(){return this.initialValue!==this.getValue()}}]),t}(),Am={};Rf.each({HTMLEvents:["change"],MouseEvents:["click","mousemove","mousedown","mouseup","mouseover"],KeyboardEvents:["keydown"]},function(A,e){Rf.each(A,function(A){Am[A]=e})});var em=/(\d+(\.\d+)?)px/;function tm(A){if("0"===A||Rf.isUndefined(A))return 0;var e=A.match(em);return Rf.isNull(e)?0:parseFloat(e[1])}var im={makeSelectable:function(A,e){void 0!==A&&void 0!==A.style&&(A.onselectstart=e?function(){return!1}:function(){},A.style.MozUserSelect=e?"auto":"none",A.style.KhtmlUserSelect=e?"auto":"none",A.unselectable=e?"on":"off")},makeFullscreen:function(A,e,t){var i=t,n=e;Rf.isUndefined(n)&&(n=!0),Rf.isUndefined(i)&&(i=!0),A.style.position="absolute",n&&(A.style.left=0,A.style.right=0),i&&(A.style.top=0,A.style.bottom=0)},fakeEvent:function(A,e,t,i){var n=t||{},o=Am[e];if(!o)throw new Error("Event type "+e+" not supported.");var r=document.createEvent(o);switch(o){case"MouseEvents":r.initMouseEvent(e,n.bubbles||!1,n.cancelable||!0,window,n.clickCount||1,0,0,n.x||n.clientX||0,n.y||n.clientY||0,!1,!1,!1,!1,0,null);break;case"KeyboardEvents":var a=r.initKeyboardEvent||r.initKeyEvent;Rf.defaults(n,{cancelable:!0,ctrlKey:!1,altKey:!1,shiftKey:!1,metaKey:!1,keyCode:void 0,charCode:void 0}),a(e,n.bubbles||!1,n.cancelable,window,n.ctrlKey,n.altKey,n.shiftKey,n.metaKey,n.keyCode,n.charCode);break;default:r.initEvent(e,n.bubbles||!1,n.cancelable||!0)}Rf.defaults(r,i),A.dispatchEvent(r)},bind:function(A,e,t,i){return A.addEventListener?A.addEventListener(e,t,i||!1):A.attachEvent&&A.attachEvent("on"+e,t),im},unbind:function(A,e,t,i){return A.removeEventListener?A.removeEventListener(e,t,i||!1):A.detachEvent&&A.detachEvent("on"+e,t),im},addClass:function(A,e){if(void 0===A.className)A.className=e;else if(A.className!==e){var t=A.className.split(/ +/);-1===t.indexOf(e)&&(t.push(e),A.className=t.join(" ").replace(/^\s+/,"").replace(/\s+$/,""))}return im},removeClass:function(A,e){if(e)if(A.className===e)A.removeAttribute("class");else{var t=A.className.split(/ +/),i=t.indexOf(e);-1!==i&&(t.splice(i,1),A.className=t.join(" "))}else A.className=void 0;return im},hasClass:function(A,e){return new RegExp("(?:^|\\s+)"+e+"(?:\\s+|$)").test(A.className)||!1},getWidth:function(A){var e=getComputedStyle(A);return tm(e["border-left-width"])+tm(e["border-right-width"])+tm(e["padding-left"])+tm(e["padding-right"])+tm(e.width)},getHeight:function(A){var e=getComputedStyle(A);return tm(e["border-top-width"])+tm(e["border-bottom-width"])+tm(e["padding-top"])+tm(e["padding-bottom"])+tm(e.height)},getOffset:function(A){var e=A,t={left:0,top:0};if(e.offsetParent)for(;t.left+=e.offsetLeft,t.top+=e.offsetTop,e=e.offsetParent;);return t},isActive:function(A){return A===document.activeElement&&(A.type||A.href)}},nm=function(A){function n(A,e){Gf(this,n);var t=Xf(this,(n.__proto__||Object.getPrototypeOf(n)).call(this,A,e)),i=t;return t.__prev=t.getValue(),t.__checkbox=document.createElement("input"),t.__checkbox.setAttribute("type","checkbox"),im.bind(t.__checkbox,"change",function(){i.setValue(!i.__prev)},!1),t.domElement.appendChild(t.__checkbox),t.updateDisplay(),t}return qf(n,$f),jf(n,[{key:"setValue",value:function(A){var e=Wf(n.prototype.__proto__||Object.getPrototypeOf(n.prototype),"setValue",this).call(this,A);return this.__onFinishChange&&this.__onFinishChange.call(this,this.getValue()),this.__prev=this.getValue(),e}},{key:"updateDisplay",value:function(){return this.__prev=!0===this.getValue()?(this.__checkbox.setAttribute("checked","checked"),this.__checkbox.checked=!0):this.__checkbox.checked=!1,Wf(n.prototype.__proto__||Object.getPrototypeOf(n.prototype),"updateDisplay",this).call(this)}}]),n}(),om=function(A){function a(A,e,t){Gf(this,a);var i=Xf(this,(a.__proto__||Object.getPrototypeOf(a)).call(this,A,e)),n=t,o=i;if(i.__select=document.createElement("select"),Rf.isArray(n)){var r={};Rf.each(n,function(A){r[A]=A}),n=r}return Rf.each(n,function(A,e){var t=document.createElement("option");t.innerHTML=e,t.setAttribute("value",A),o.__select.appendChild(t)}),i.updateDisplay(),im.bind(i.__select,"change",function(){o.setValue(this.options[this.selectedIndex].value)}),i.domElement.appendChild(i.__select),i}return qf(a,$f),jf(a,[{key:"setValue",value:function(A){var e=Wf(a.prototype.__proto__||Object.getPrototypeOf(a.prototype),"setValue",this).call(this,A);return this.__onFinishChange&&this.__onFinishChange.call(this,this.getValue()),e}},{key:"updateDisplay",value:function(){return im.isActive(this.__select)?this:(this.__select.value=this.getValue(),Wf(a.prototype.__proto__||Object.getPrototypeOf(a.prototype),"updateDisplay",this).call(this))}}]),a}(),rm=function(A){function o(A,e){Gf(this,o);var t=Xf(this,(o.__proto__||Object.getPrototypeOf(o)).call(this,A,e)),i=t;function n(){i.setValue(i.__input.value)}return t.__input=document.createElement("input"),t.__input.setAttribute("type","text"),im.bind(t.__input,"keyup",n),im.bind(t.__input,"change",n),im.bind(t.__input,"blur",function(){i.__onFinishChange&&i.__onFinishChange.call(i,i.getValue())}),im.bind(t.__input,"keydown",function(A){13===A.keyCode&&this.blur()}),t.updateDisplay(),t.domElement.appendChild(t.__input),t}return qf(o,$f),jf(o,[{key:"updateDisplay",value:function(){return im.isActive(this.__input)||(this.__input.value=this.getValue()),Wf(o.prototype.__proto__||Object.getPrototypeOf(o.prototype),"updateDisplay",this).call(this)}}]),o}();function am(A){var e=A.toString();return-1<e.indexOf(".")?e.length-e.indexOf(".")-1:0}var sm=function(A){function o(A,e,t){Gf(this,o);var i=Xf(this,(o.__proto__||Object.getPrototypeOf(o)).call(this,A,e)),n=t||{};return i.__min=n.min,i.__max=n.max,i.__step=n.step,i.__impliedStep=Rf.isUndefined(i.__step)?0===i.initialValue?1:Math.pow(10,Math.floor(Math.log(Math.abs(i.initialValue))/Math.LN10))/10:i.__step,i.__precision=am(i.__impliedStep),i}return qf(o,$f),jf(o,[{key:"setValue",value:function(A){var e=A;return void 0!==this.__min&&e<this.__min?e=this.__min:void 0!==this.__max&&this.__max<e&&(e=this.__max),void 0!==this.__step&&e%this.__step!=0&&(e=Math.round(e/this.__step)*this.__step),Wf(o.prototype.__proto__||Object.getPrototypeOf(o.prototype),"setValue",this).call(this,e)}},{key:"min",value:function(A){return this.__min=A,this}},{key:"max",value:function(A){return this.__max=A,this}},{key:"step",value:function(A){return this.__step=A,this.__impliedStep=A,this.__precision=am(A),this}}]),o}();var lm=function(A){function l(A,e,t){Gf(this,l);var i=Xf(this,(l.__proto__||Object.getPrototypeOf(l)).call(this,A,e,t));i.__truncationSuspended=!1;var n=i,o=void 0;function r(){n.__onFinishChange&&n.__onFinishChange.call(n,n.getValue())}function a(A){var e=o-A.clientY;n.setValue(n.getValue()+e*n.__impliedStep),o=A.clientY}function s(){im.unbind(window,"mousemove",a),im.unbind(window,"mouseup",s),r()}return i.__input=document.createElement("input"),i.__input.setAttribute("type","text"),im.bind(i.__input,"change",function(){var A=parseFloat(n.__input.value);Rf.isNaN(A)||n.setValue(A)}),im.bind(i.__input,"blur",function(){r()}),im.bind(i.__input,"mousedown",function(A){im.bind(window,"mousemove",a),im.bind(window,"mouseup",s),o=A.clientY}),im.bind(i.__input,"keydown",function(A){13===A.keyCode&&(n.__truncationSuspended=!0,this.blur(),n.__truncationSuspended=!1,r())}),i.updateDisplay(),i.domElement.appendChild(i.__input),i}return qf(l,sm),jf(l,[{key:"updateDisplay",value:function(){var A,e;return this.__input.value=this.__truncationSuspended?this.getValue():(A=this.getValue(),e=Math.pow(10,this.__precision),Math.round(A*e)/e),Wf(l.prototype.__proto__||Object.getPrototypeOf(l.prototype),"updateDisplay",this).call(this)}}]),l}();function cm(A,e,t,i,n){return i+(A-e)/(t-e)*(n-i)}var dm=function(A){function d(A,e,t,i,n){Gf(this,d);var o=Xf(this,(d.__proto__||Object.getPrototypeOf(d)).call(this,A,e,{min:t,max:i,step:n})),r=o;function a(A){A.preventDefault();var e=r.__background.getBoundingClientRect();return r.setValue(cm(A.clientX,e.left,e.right,r.__min,r.__max)),!1}function s(){im.unbind(window,"mousemove",a),im.unbind(window,"mouseup",s),r.__onFinishChange&&r.__onFinishChange.call(r,r.getValue())}function l(A){var e=A.touches[0].clientX,t=r.__background.getBoundingClientRect();r.setValue(cm(e,t.left,t.right,r.__min,r.__max))}function c(){im.unbind(window,"touchmove",l),im.unbind(window,"touchend",c),r.__onFinishChange&&r.__onFinishChange.call(r,r.getValue())}return o.__background=document.createElement("div"),o.__foreground=document.createElement("div"),im.bind(o.__background,"mousedown",function(A){document.activeElement.blur(),im.bind(window,"mousemove",a),im.bind(window,"mouseup",s),a(A)}),im.bind(o.__background,"touchstart",function(A){if(1!==A.touches.length)return;im.bind(window,"touchmove",l),im.bind(window,"touchend",c),l(A)}),im.addClass(o.__background,"slider"),im.addClass(o.__foreground,"slider-fg"),o.updateDisplay(),o.__background.appendChild(o.__foreground),o.domElement.appendChild(o.__background),o}return qf(d,sm),jf(d,[{key:"updateDisplay",value:function(){var A=(this.getValue()-this.__min)/(this.__max-this.__min);return this.__foreground.style.width=100*A+"%",Wf(d.prototype.__proto__||Object.getPrototypeOf(d.prototype),"updateDisplay",this).call(this)}}]),d}(),hm=function(A){function o(A,e,t){Gf(this,o);var i=Xf(this,(o.__proto__||Object.getPrototypeOf(o)).call(this,A,e)),n=i;return i.__button=document.createElement("div"),i.__button.innerHTML=void 0===t?"Fire":t,im.bind(i.__button,"click",function(A){return A.preventDefault(),n.fire(),!1}),im.addClass(i.__button,"button"),i.domElement.appendChild(i.__button),i}return qf(o,$f),jf(o,[{key:"fire",value:function(){this.__onChange&&this.__onChange.call(this),this.getValue().call(this.object),this.__onFinishChange&&this.__onFinishChange.call(this,this.getValue())}}]),o}(),um=function(A){function p(A,e){Gf(this,p);var t=Xf(this,(p.__proto__||Object.getPrototypeOf(p)).call(this,A,e));t.__color=new Yf(t.getValue()),t.__temp=new Yf(0);var o=t;t.domElement=document.createElement("div"),im.makeSelectable(t.domElement,!1),t.__selector=document.createElement("div"),t.__selector.className="selector",t.__saturation_field=document.createElement("div"),t.__saturation_field.className="saturation-field",t.__field_knob=document.createElement("div"),t.__field_knob.className="field-knob",t.__field_knob_border="2px solid ",t.__hue_knob=document.createElement("div"),t.__hue_knob.className="hue-knob",t.__hue_field=document.createElement("div"),t.__hue_field.className="hue-field",t.__input=document.createElement("input"),t.__input.type="text",t.__input_textShadow="0 1px 1px ",im.bind(t.__input,"keydown",function(A){13===A.keyCode&&c.call(this)}),im.bind(t.__input,"blur",c),im.bind(t.__selector,"mousedown",function(){im.addClass(this,"drag").bind(window,"mouseup",function(){im.removeClass(o.__selector,"drag")})}),im.bind(t.__selector,"touchstart",function(){im.addClass(this,"drag").bind(window,"touchend",function(){im.removeClass(o.__selector,"drag")})});var i,n=document.createElement("div");function r(A){h(A),im.bind(window,"mousemove",h),im.bind(window,"touchmove",h),im.bind(window,"mouseup",s),im.bind(window,"touchend",s)}function a(A){u(A),im.bind(window,"mousemove",u),im.bind(window,"touchmove",u),im.bind(window,"mouseup",l),im.bind(window,"touchend",l)}function s(){im.unbind(window,"mousemove",h),im.unbind(window,"touchmove",h),im.unbind(window,"mouseup",s),im.unbind(window,"touchend",s),d()}function l(){im.unbind(window,"mousemove",u),im.unbind(window,"touchmove",u),im.unbind(window,"mouseup",l),im.unbind(window,"touchend",l),d()}function c(){var A=kf(this.value);!1!==A?(o.__color.__state=A,o.setValue(o.__color.toOriginal())):this.value=o.__color.toString()}function d(){o.__onFinishChange&&o.__onFinishChange.call(o,o.__color.toOriginal())}function h(A){-1===A.type.indexOf("touch")&&A.preventDefault();var e=o.__saturation_field.getBoundingClientRect(),t=A.touches&&A.touches[0]||A,i=(t.clientX-e.left)/(e.right-e.left),n=1-(t.clientY-e.top)/(e.bottom-e.top);return 1<n?n=1:n<0&&(n=0),1<i?i=1:i<0&&(i=0),o.__color.v=n,o.__color.s=i,o.setValue(o.__color.toOriginal()),!1}function u(A){-1===A.type.indexOf("touch")&&A.preventDefault();var e=o.__hue_field.getBoundingClientRect(),t=1-((A.touches&&A.touches[0]||A).clientY-e.top)/(e.bottom-e.top);return 1<t?t=1:t<0&&(t=0),o.__color.h=360*t,o.setValue(o.__color.toOriginal()),!1}return Rf.extend(t.__selector.style,{width:"122px",height:"102px",padding:"3px",backgroundColor:"#222",boxShadow:"0px 1px 3px rgba(0,0,0,0.3)"}),Rf.extend(t.__field_knob.style,{position:"absolute",width:"12px",height:"12px",border:t.__field_knob_border+(t.__color.v<.5?"#fff":"#000"),boxShadow:"0px 1px 3px rgba(0,0,0,0.5)",borderRadius:"12px",zIndex:1}),Rf.extend(t.__hue_knob.style,{position:"absolute",width:"15px",height:"2px",borderRight:"4px solid #fff",zIndex:1}),Rf.extend(t.__saturation_field.style,{width:"100px",height:"100px",border:"1px solid #555",marginRight:"3px",display:"inline-block",cursor:"pointer"}),Rf.extend(n.style,{width:"100%",height:"100%",background:"none"}),gm(n,"top","rgba(0,0,0,0)","#000"),Rf.extend(t.__hue_field.style,{width:"15px",height:"100px",border:"1px solid #555",cursor:"ns-resize",position:"absolute",top:"3px",right:"3px"}),(i=t.__hue_field).style.background="",i.style.cssText+="background: -moz-linear-gradient(top,  #ff0000 0%, #ff00ff 17%, #0000ff 34%, #00ffff 50%, #00ff00 67%, #ffff00 84%, #ff0000 100%);",i.style.cssText+="background: -webkit-linear-gradient(top,  #ff0000 0%,#ff00ff 17%,#0000ff 34%,#00ffff 50%,#00ff00 67%,#ffff00 84%,#ff0000 100%);",i.style.cssText+="background: -o-linear-gradient(top,  #ff0000 0%,#ff00ff 17%,#0000ff 34%,#00ffff 50%,#00ff00 67%,#ffff00 84%,#ff0000 100%);",i.style.cssText+="background: -ms-linear-gradient(top,  #ff0000 0%,#ff00ff 17%,#0000ff 34%,#00ffff 50%,#00ff00 67%,#ffff00 84%,#ff0000 100%);",i.style.cssText+="background: linear-gradient(top,  #ff0000 0%,#ff00ff 17%,#0000ff 34%,#00ffff 50%,#00ff00 67%,#ffff00 84%,#ff0000 100%);",Rf.extend(t.__input.style,{outline:"none",textAlign:"center",color:"#fff",border:0,fontWeight:"bold",textShadow:t.__input_textShadow+"rgba(0,0,0,0.7)"}),im.bind(t.__saturation_field,"mousedown",r),im.bind(t.__saturation_field,"touchstart",r),im.bind(t.__field_knob,"mousedown",r),im.bind(t.__field_knob,"touchstart",r),im.bind(t.__hue_field,"mousedown",a),im.bind(t.__hue_field,"touchstart",a),t.__saturation_field.appendChild(n),t.__selector.appendChild(t.__field_knob),t.__selector.appendChild(t.__saturation_field),t.__selector.appendChild(t.__hue_field),t.__hue_field.appendChild(t.__hue_knob),t.domElement.appendChild(t.__input),t.domElement.appendChild(t.__selector),t.updateDisplay(),t}return qf(p,$f),jf(p,[{key:"updateDisplay",value:function(){var e=kf(this.getValue());if(!1!==e){var t=!1;Rf.each(Yf.COMPONENTS,function(A){if(!Rf.isUndefined(e[A])&&!Rf.isUndefined(this.__color.__state[A])&&e[A]!==this.__color.__state[A])return t=!0,{}},this),t&&Rf.extend(this.__color.__state,e)}Rf.extend(this.__temp.__state,this.__color.__state),this.__temp.a=1;var A=this.__color.v<.5||.5<this.__color.s?255:0,i=255-A;Rf.extend(this.__field_knob.style,{marginLeft:100*this.__color.s-7+"px",marginTop:100*(1-this.__color.v)-7+"px",backgroundColor:this.__temp.toHexString(),border:this.__field_knob_border+"rgb("+A+","+A+","+A+")"}),this.__hue_knob.style.marginTop=100*(1-this.__color.h/360)+"px",this.__temp.s=1,this.__temp.v=1,gm(this.__saturation_field,"left","#fff",this.__temp.toHexString()),this.__input.value=this.__color.toString(),Rf.extend(this.__input.style,{backgroundColor:this.__color.toHexString(),color:"rgb("+A+","+A+","+A+")",textShadow:this.__input_textShadow+"rgba("+i+","+i+","+i+",.7)"})}}]),p}(),pm=["-moz-","-o-","-webkit-","-ms-",""];function gm(e,t,i,n){e.style.background="",Rf.each(pm,function(A){e.style.cssText+="background: "+A+"linear-gradient("+t+", "+i+" 0%, "+n+" 100%); "})}var fm=function(A,e){var t=e||document,i=document.createElement("style");i.type="text/css",i.innerHTML=A;var n=t.getElementsByTagName("head")[0];try{n.appendChild(i)}catch(A){}},mm=function(A,e){var t=A[e];return Rf.isArray(arguments[2])||Rf.isObject(arguments[2])?new om(A,e,arguments[2]):Rf.isNumber(t)?Rf.isNumber(arguments[2])&&Rf.isNumber(arguments[3])?Rf.isNumber(arguments[4])?new dm(A,e,arguments[2],arguments[3],arguments[4]):new dm(A,e,arguments[2],arguments[3]):Rf.isNumber(arguments[4])?new lm(A,e,{min:arguments[2],max:arguments[3],step:arguments[4]}):new lm(A,e,{min:arguments[2],max:arguments[3]}):Rf.isString(t)?new rm(A,e):Rf.isFunction(t)?new hm(A,e,""):Rf.isBoolean(t)?new nm(A,e):null};var vm=window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||window.oRequestAnimationFrame||window.msRequestAnimationFrame||function(A){setTimeout(A,1e3/60)},ym=function(){function e(){Gf(this,e),this.backgroundElement=document.createElement("div"),Rf.extend(this.backgroundElement.style,{backgroundColor:"rgba(0,0,0,0.8)",top:0,left:0,display:"none",zIndex:"1000",opacity:0,WebkitTransition:"opacity 0.2s linear",transition:"opacity 0.2s linear"}),im.makeFullscreen(this.backgroundElement),this.backgroundElement.style.position="fixed",this.domElement=document.createElement("div"),Rf.extend(this.domElement.style,{position:"fixed",display:"none",zIndex:"1001",opacity:0,WebkitTransition:"-webkit-transform 0.2s ease-out, opacity 0.2s linear",transition:"transform 0.2s ease-out, opacity 0.2s linear"}),document.body.appendChild(this.backgroundElement),document.body.appendChild(this.domElement);var A=this;im.bind(this.backgroundElement,"click",function(){A.hide()})}return jf(e,[{key:"show",value:function(){var A=this;this.backgroundElement.style.display="block",this.domElement.style.display="block",this.domElement.style.opacity=0,this.domElement.style.webkitTransform="scale(1.1)",this.layout(),Rf.defer(function(){A.backgroundElement.style.opacity=1,A.domElement.style.opacity=1,A.domElement.style.webkitTransform="scale(1)"})}},{key:"hide",value:function(){var e=this,A=function A(){e.domElement.style.display="none",e.backgroundElement.style.display="none",im.unbind(e.domElement,"webkitTransitionEnd",A),im.unbind(e.domElement,"transitionend",A),im.unbind(e.domElement,"oTransitionEnd",A)};im.bind(this.domElement,"webkitTransitionEnd",A),im.bind(this.domElement,"transitionend",A),im.bind(this.domElement,"oTransitionEnd",A),this.backgroundElement.style.opacity=0,this.domElement.style.opacity=0,this.domElement.style.webkitTransform="scale(1.1)"}},{key:"layout",value:function(){this.domElement.style.left=window.innerWidth/2-im.getWidth(this.domElement)/2+"px",this.domElement.style.top=window.innerHeight/2-im.getHeight(this.domElement)/2+"px"}}]),e}();fm(function(A){if(A&&"undefined"!=typeof window){var e=document.createElement("style");return e.setAttribute("type","text/css"),e.innerHTML=A,document.head.appendChild(e),A}}(".dg ul{list-style:none;margin:0;padding:0;width:100%;clear:both}.dg.ac{position:fixed;top:0;left:0;right:0;height:0;z-index:0}.dg:not(.ac) .main{overflow:hidden}.dg.main{-webkit-transition:opacity .1s linear;-o-transition:opacity .1s linear;-moz-transition:opacity .1s linear;transition:opacity .1s linear}.dg.main.taller-than-window{overflow-y:auto}.dg.main.taller-than-window .close-button{opacity:1;margin-top:-1px;border-top:1px solid #2c2c2c}.dg.main ul.closed .close-button{opacity:1 !important}.dg.main:hover .close-button,.dg.main .close-button.drag{opacity:1}.dg.main .close-button{-webkit-transition:opacity .1s linear;-o-transition:opacity .1s linear;-moz-transition:opacity .1s linear;transition:opacity .1s linear;border:0;line-height:19px;height:20px;cursor:pointer;text-align:center;background-color:#000}.dg.main .close-button.close-top{position:relative}.dg.main .close-button.close-bottom{position:absolute}.dg.main .close-button:hover{background-color:#111}.dg.a{float:right;margin-right:15px;overflow-y:visible}.dg.a.has-save>ul.close-top{margin-top:0}.dg.a.has-save>ul.close-bottom{margin-top:27px}.dg.a.has-save>ul.closed{margin-top:0}.dg.a .save-row{top:0;z-index:1002}.dg.a .save-row.close-top{position:relative}.dg.a .save-row.close-bottom{position:fixed}.dg li{-webkit-transition:height .1s ease-out;-o-transition:height .1s ease-out;-moz-transition:height .1s ease-out;transition:height .1s ease-out;-webkit-transition:overflow .1s linear;-o-transition:overflow .1s linear;-moz-transition:overflow .1s linear;transition:overflow .1s linear}.dg li:not(.folder){cursor:auto;height:27px;line-height:27px;padding:0 4px 0 5px}.dg li.folder{padding:0;border-left:4px solid rgba(0,0,0,0)}.dg li.title{cursor:pointer;margin-left:-4px}.dg .closed li:not(.title),.dg .closed ul li,.dg .closed ul li>*{height:0;overflow:hidden;border:0}.dg .cr{clear:both;padding-left:3px;height:27px;overflow:hidden}.dg .property-name{cursor:default;float:left;clear:left;width:40%;overflow:hidden;text-overflow:ellipsis}.dg .c{float:left;width:60%;position:relative}.dg .c input[type=text]{border:0;margin-top:4px;padding:3px;width:100%;float:right}.dg .has-slider input[type=text]{width:30%;margin-left:0}.dg .slider{float:left;width:66%;margin-left:-5px;margin-right:0;height:19px;margin-top:4px}.dg .slider-fg{height:100%}.dg .c input[type=checkbox]{margin-top:7px}.dg .c select{margin-top:5px}.dg .cr.function,.dg .cr.function .property-name,.dg .cr.function *,.dg .cr.boolean,.dg .cr.boolean *{cursor:pointer}.dg .cr.color{overflow:visible}.dg .selector{display:none;position:absolute;margin-left:-9px;margin-top:23px;z-index:10}.dg .c:hover .selector,.dg .selector.drag{display:block}.dg li.save-row{padding:0}.dg li.save-row .button{display:inline-block;padding:0px 6px}.dg.dialogue{background-color:#222;width:460px;padding:15px;font-size:13px;line-height:15px}#dg-new-constructor{padding:10px;color:#222;font-family:Monaco, monospace;font-size:10px;border:0;resize:none;box-shadow:inset 1px 1px 1px #888;word-wrap:break-word;margin:12px 0;display:block;width:440px;overflow-y:scroll;height:100px;position:relative}#dg-local-explain{display:none;font-size:11px;line-height:17px;border-radius:3px;background-color:#333;padding:8px;margin-top:10px}#dg-local-explain code{font-size:10px}#dat-gui-save-locally{display:none}.dg{color:#eee;font:11px 'Lucida Grande', sans-serif;text-shadow:0 -1px 0 #111}.dg.main::-webkit-scrollbar{width:5px;background:#1a1a1a}.dg.main::-webkit-scrollbar-corner{height:0;display:none}.dg.main::-webkit-scrollbar-thumb{border-radius:5px;background:#676767}.dg li:not(.folder){background:#1a1a1a;border-bottom:1px solid #2c2c2c}.dg li.save-row{line-height:25px;background:#dad5cb;border:0}.dg li.save-row select{margin-left:5px;width:108px}.dg li.save-row .button{margin-left:5px;margin-top:1px;border-radius:2px;font-size:9px;line-height:7px;padding:4px 4px 5px 4px;background:#c5bdad;color:#fff;text-shadow:0 1px 0 #b0a58f;box-shadow:0 -1px 0 #b0a58f;cursor:pointer}.dg li.save-row .button.gears{background:#c5bdad url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAsAAAANCAYAAAB/9ZQ7AAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAQJJREFUeNpiYKAU/P//PwGIC/ApCABiBSAW+I8AClAcgKxQ4T9hoMAEUrxx2QSGN6+egDX+/vWT4e7N82AMYoPAx/evwWoYoSYbACX2s7KxCxzcsezDh3evFoDEBYTEEqycggWAzA9AuUSQQgeYPa9fPv6/YWm/Acx5IPb7ty/fw+QZblw67vDs8R0YHyQhgObx+yAJkBqmG5dPPDh1aPOGR/eugW0G4vlIoTIfyFcA+QekhhHJhPdQxbiAIguMBTQZrPD7108M6roWYDFQiIAAv6Aow/1bFwXgis+f2LUAynwoIaNcz8XNx3Dl7MEJUDGQpx9gtQ8YCueB+D26OECAAQDadt7e46D42QAAAABJRU5ErkJggg==) 2px 1px no-repeat;height:7px;width:8px}.dg li.save-row .button:hover{background-color:#bab19e;box-shadow:0 -1px 0 #b0a58f}.dg li.folder{border-bottom:0}.dg li.title{padding-left:16px;background:#000 url(data:image/gif;base64,R0lGODlhBQAFAJEAAP////Pz8////////yH5BAEAAAIALAAAAAAFAAUAAAIIlI+hKgFxoCgAOw==) 6px 10px no-repeat;cursor:pointer;border-bottom:1px solid rgba(255,255,255,0.2)}.dg .closed li.title{background-image:url(data:image/gif;base64,R0lGODlhBQAFAJEAAP////Pz8////////yH5BAEAAAIALAAAAAAFAAUAAAIIlGIWqMCbWAEAOw==)}.dg .cr.boolean{border-left:3px solid #806787}.dg .cr.color{border-left:3px solid}.dg .cr.function{border-left:3px solid #e61d5f}.dg .cr.number{border-left:3px solid #2FA1D6}.dg .cr.number input[type=text]{color:#2FA1D6}.dg .cr.string{border-left:3px solid #1ed36f}.dg .cr.string input[type=text]{color:#1ed36f}.dg .cr.function:hover,.dg .cr.boolean:hover{background:#111}.dg .c input[type=text]{background:#303030;outline:none}.dg .c input[type=text]:hover{background:#3c3c3c}.dg .c input[type=text]:focus{background:#494949;color:#fff}.dg .c .slider{background:#303030;cursor:ew-resize}.dg .c .slider-fg{background:#2FA1D6;max-width:100%}.dg .c .slider:hover{background:#3c3c3c}.dg .c .slider:hover .slider-fg{background:#44abda}\n"));var Cm="Default",Im=function(){try{return!!window.localStorage}catch(A){return!1}}(),xm=void 0,bm=!0,Em=void 0,wm=!1,Mm=[],Bm=function e(A){var t=this,i=A||{};this.domElement=document.createElement("div"),this.__ul=document.createElement("ul"),this.domElement.appendChild(this.__ul),im.addClass(this.domElement,"dg"),this.__folders={},this.__controllers=[],this.__rememberedObjects=[],this.__rememberedObjectIndecesToControllers=[],i=Rf.defaults(i,{closeOnTop:!(this.__listening=[]),autoPlace:!0,width:e.DEFAULT_WIDTH}),i=Rf.defaults(i,{resizable:i.autoPlace,hideable:i.autoPlace}),Rf.isUndefined(i.load)?i.load={preset:Cm}:i.preset&&(i.load.preset=i.preset),Rf.isUndefined(i.parent)&&i.hideable&&Mm.push(this),i.resizable=Rf.isUndefined(i.parent)&&i.resizable,i.autoPlace&&Rf.isUndefined(i.scrollable)&&(i.scrollable=!0);var n,o=Im&&"true"===localStorage.getItem(Lm(this,"isLocal")),r=void 0,a=void 0;if(Object.defineProperties(this,{parent:{get:function(){return i.parent}},scrollable:{get:function(){return i.scrollable}},autoPlace:{get:function(){return i.autoPlace}},closeOnTop:{get:function(){return i.closeOnTop}},preset:{get:function(){return t.parent?t.getRoot().preset:i.load.preset},set:function(A){t.parent?t.getRoot().preset=A:i.load.preset=A,function(A){for(var e=0;e<A.__preset_select.length;e++)A.__preset_select[e].value===A.preset&&(A.__preset_select.selectedIndex=e)}(this),t.revert()}},width:{get:function(){return i.width},set:function(A){Nm(t,i.width=A)}},name:{get:function(){return i.name},set:function(A){i.name=A,a&&(a.innerHTML=i.name)}},closed:{get:function(){return i.closed},set:function(A){i.closed=A,i.closed?im.addClass(t.__ul,e.CLASS_CLOSED):im.removeClass(t.__ul,e.CLASS_CLOSED),this.onResize(),t.__closeButton&&(t.__closeButton.innerHTML=A?e.TEXT_OPEN:e.TEXT_CLOSED)}},load:{get:function(){return i.load}},useLocalStorage:{get:function(){return o},set:function(A){Im&&((o=A)?im.bind(window,"unload",r):im.unbind(window,"unload",r),localStorage.setItem(Lm(t,"isLocal"),A))}}}),Rf.isUndefined(i.parent)){if(this.closed=i.closed||!1,im.addClass(this.domElement,e.CLASS_MAIN),im.makeSelectable(this.domElement,!1),Im&&o){t.useLocalStorage=!0;var s=localStorage.getItem(Lm(this,"gui"));s&&(i.load=JSON.parse(s))}this.__closeButton=document.createElement("div"),this.__closeButton.innerHTML=e.TEXT_CLOSED,im.addClass(this.__closeButton,e.CLASS_CLOSE_BUTTON),i.closeOnTop?(im.addClass(this.__closeButton,e.CLASS_CLOSE_TOP),this.domElement.insertBefore(this.__closeButton,this.domElement.childNodes[0])):(im.addClass(this.__closeButton,e.CLASS_CLOSE_BOTTOM),this.domElement.appendChild(this.__closeButton)),im.bind(this.__closeButton,"click",function(){t.closed=!t.closed})}else{void 0===i.closed&&(i.closed=!0);var l=document.createTextNode(i.name);im.addClass(l,"controller-name"),a=_m(t,l);im.addClass(this.__ul,e.CLASS_CLOSED),im.addClass(a,"title"),im.bind(a,"click",function(A){return A.preventDefault(),t.closed=!t.closed,!1}),i.closed||(this.closed=!1)}i.autoPlace&&(Rf.isUndefined(i.parent)&&(bm&&(Em=document.createElement("div"),im.addClass(Em,"dg"),im.addClass(Em,e.CLASS_AUTO_PLACE_CONTAINER),document.body.appendChild(Em),bm=!1),Em.appendChild(this.domElement),im.addClass(this.domElement,e.CLASS_AUTO_PLACE)),this.parent||Nm(t,i.width)),this.__resizeHandler=function(){t.onResizeDebounced()},im.bind(window,"resize",this.__resizeHandler),im.bind(this.__ul,"webkitTransitionEnd",this.__resizeHandler),im.bind(this.__ul,"transitionend",this.__resizeHandler),im.bind(this.__ul,"oTransitionEnd",this.__resizeHandler),this.onResize(),i.resizable&&function(e){var t=void 0;function i(A){return A.preventDefault(),e.width+=t-A.clientX,e.onResize(),t=A.clientX,!1}function n(){im.removeClass(e.__closeButton,Bm.CLASS_DRAG),im.unbind(window,"mousemove",i),im.unbind(window,"mouseup",n)}function A(A){return A.preventDefault(),t=A.clientX,im.addClass(e.__closeButton,Bm.CLASS_DRAG),im.bind(window,"mousemove",i),im.bind(window,"mouseup",n),!1}e.__resize_handle=document.createElement("div"),Rf.extend(e.__resize_handle.style,{width:"6px",marginLeft:"-3px",height:"200px",cursor:"ew-resize",position:"absolute"}),im.bind(e.__resize_handle,"mousedown",A),im.bind(e.__closeButton,"mousedown",A),e.domElement.insertBefore(e.__resize_handle,e.domElement.firstElementChild)}(this),this.saveToLocalStorageIfPossible=r=function(){Im&&"true"===localStorage.getItem(Lm(t,"isLocal"))&&localStorage.setItem(Lm(t,"gui"),JSON.stringify(t.getSaveObject()))},i.parent||((n=t.getRoot()).width+=1,Rf.defer(function(){n.width-=1}))};function _m(A,e,t){var i=document.createElement("li");return e&&i.appendChild(e),t?A.__ul.insertBefore(i,t):A.__ul.appendChild(i),A.onResize(),i}function Sm(A){im.unbind(window,"resize",A.__resizeHandler),A.saveToLocalStorageIfPossible&&im.unbind(window,"unload",A.saveToLocalStorageIfPossible)}function Tm(A,e){var t=A.__preset_select[A.__preset_select.selectedIndex];t.innerHTML=e?t.value+"*":t.value}function Km(A,e){var t=A.getRoot(),i=t.__rememberedObjects.indexOf(e.object);if(-1!==i){var n=t.__rememberedObjectIndecesToControllers[i];if(void 0===n&&(t.__rememberedObjectIndecesToControllers[i]=n={}),n[e.property]=e,t.load&&t.load.remembered){var o=t.load.remembered,r=void 0;if(o[A.preset])r=o[A.preset];else{if(!o[Cm])return;r=o[Cm]}if(r[i]&&void 0!==r[i][e.property]){var a=r[i][e.property];e.initialValue=a,e.setValue(a)}}}}function Fm(A,e,t,i){if(void 0===e[t])throw new Error('Object "'+e+'" has no property "'+t+'"');var n=void 0;if(i.color)n=new um(e,t);else{var o=[e,t].concat(i.factoryArgs);n=mm.apply(A,o)}i.before instanceof $f&&(i.before=i.before.__li),Km(A,n),im.addClass(n.domElement,"c");var r=document.createElement("span");im.addClass(r,"property-name"),r.innerHTML=n.property;var a=document.createElement("div");a.appendChild(r),a.appendChild(n.domElement);var s=_m(A,a,i.before);return im.addClass(s,Bm.CLASS_CONTROLLER_ROW),im.addClass(s,n instanceof um?"color":Hf(n.getValue())),function(n,e,o){if(o.__li=e,o.__gui=n,Rf.extend(o,{options:function(A){if(1<arguments.length){var e=o.__li.nextElementSibling;return o.remove(),Fm(n,o.object,o.property,{before:e,factoryArgs:[Rf.toArray(arguments)]})}if(Rf.isArray(A)||Rf.isObject(A)){var t=o.__li.nextElementSibling;return o.remove(),Fm(n,o.object,o.property,{before:t,factoryArgs:[A]})}},name:function(A){return o.__li.firstElementChild.firstElementChild.innerHTML=A,o},listen:function(){return o.__gui.listen(o),o},remove:function(){return o.__gui.remove(o),o}}),o instanceof dm){var i=new lm(o.object,o.property,{min:o.__min,max:o.__max,step:o.__step});Rf.each(["updateDisplay","onChange","onFinishChange","step","min","max"],function(A){var e=o[A],t=i[A];o[A]=i[A]=function(){var A=Array.prototype.slice.call(arguments);return t.apply(i,A),e.apply(o,A)}}),im.addClass(e,"has-slider"),o.domElement.insertBefore(i.domElement,o.domElement.firstElementChild)}else if(o instanceof lm){var A=function(A){if(Rf.isNumber(o.__min)&&Rf.isNumber(o.__max)){var e=o.__li.firstElementChild.firstElementChild.innerHTML,t=-1<o.__gui.__listening.indexOf(o);o.remove();var i=Fm(n,o.object,o.property,{before:o.__li.nextElementSibling,factoryArgs:[o.__min,o.__max,o.__step]});return i.name(e),t&&i.listen(),i}return A};o.min=Rf.compose(A,o.min),o.max=Rf.compose(A,o.max)}else o instanceof nm?(im.bind(e,"click",function(){im.fakeEvent(o.__checkbox,"click")}),im.bind(o.__checkbox,"click",function(A){A.stopPropagation()})):o instanceof hm?(im.bind(e,"click",function(){im.fakeEvent(o.__button,"click")}),im.bind(e,"mouseover",function(){im.addClass(o.__button,"hover")}),im.bind(e,"mouseout",function(){im.removeClass(o.__button,"hover")})):o instanceof um&&(im.addClass(e,"color"),o.updateDisplay=Rf.compose(function(A){return e.style.borderLeftColor=o.__color.toString(),A},o.updateDisplay),o.updateDisplay());o.setValue=Rf.compose(function(A){return n.getRoot().__preset_select&&o.isModified()&&Tm(n.getRoot(),!0),A},o.setValue)}(A,s,n),A.__controllers.push(n),n}function Lm(A,e){return document.location.href+"."+e}function Om(A,e,t){var i=document.createElement("option");i.innerHTML=e,i.value=e,A.__preset_select.appendChild(i),t&&(A.__preset_select.selectedIndex=A.__preset_select.length-1)}function Um(A,e){e.style.display=A.useLocalStorage?"block":"none"}function Nm(A,e){A.domElement.style.width=e+"px",A.__save_row&&A.autoPlace&&(A.__save_row.style.width=e+"px"),A.__closeButton&&(A.__closeButton.style.width=e+"px")}function Rm(i,n){var o={};return Rf.each(i.__rememberedObjects,function(A,e){var t={};Rf.each(i.__rememberedObjectIndecesToControllers[e],function(A,e){t[e]=n?A.initialValue:A.getValue()}),o[e]=t}),o}Bm.toggleHide=function(){wm=!wm,Rf.each(Mm,function(A){A.domElement.style.display=wm?"none":""})},Bm.CLASS_AUTO_PLACE="a",Bm.CLASS_AUTO_PLACE_CONTAINER="ac",Bm.CLASS_MAIN="main",Bm.CLASS_CONTROLLER_ROW="cr",Bm.CLASS_TOO_TALL="taller-than-window",Bm.CLASS_CLOSED="closed",Bm.CLASS_CLOSE_BUTTON="close-button",Bm.CLASS_CLOSE_TOP="close-top",Bm.CLASS_CLOSE_BOTTOM="close-bottom",Bm.CLASS_DRAG="drag",Bm.DEFAULT_WIDTH=245,Bm.TEXT_CLOSED="关闭控制器",Bm.TEXT_OPEN="打开控制器",Bm._keydownHandler=function(A){"text"===document.activeElement.type||72!==A.which&&72!==A.keyCode||Bm.toggleHide()},im.bind(window,"keydown",Bm._keydownHandler,!1),Rf.extend(Bm.prototype,{add:function(A,e){return Fm(this,A,e,{factoryArgs:Array.prototype.slice.call(arguments,2)})},addColor:function(A,e){return Fm(this,A,e,{color:!0})},remove:function(A){this.__ul.removeChild(A.__li),this.__controllers.splice(this.__controllers.indexOf(A),1);var e=this;Rf.defer(function(){e.onResize()})},destroy:function(){if(this.parent)throw new Error("Only the root GUI should be removed with .destroy(). For subfolders, use gui.removeFolder(folder) instead.");this.autoPlace&&Em.removeChild(this.domElement);var e=this;Rf.each(this.__folders,function(A){e.removeFolder(A)}),im.unbind(window,"keydown",Bm._keydownHandler,!1),Sm(this)},addFolder:function(A){if(void 0!==this.__folders[A])throw new Error('You already have a folder in this GUI by the name "'+A+'"');var e={name:A,parent:this};e.autoPlace=this.autoPlace,this.load&&this.load.folders&&this.load.folders[A]&&(e.closed=this.load.folders[A].closed,e.load=this.load.folders[A]);var t=new Bm(e);this.__folders[A]=t;var i=_m(this,t.domElement);return im.addClass(i,"folder"),t},removeFolder:function(e){this.__ul.removeChild(e.domElement.parentElement),delete this.__folders[e.name],this.load&&this.load.folders&&this.load.folders[e.name]&&delete this.load.folders[e.name],Sm(e);var A=this;Rf.each(e.__folders,function(A){e.removeFolder(A)}),Rf.defer(function(){A.onResize()})},open:function(){this.closed=!1},close:function(){this.closed=!0},hide:function(){this.domElement.style.display="none"},show:function(){this.domElement.style.display=""},onResize:function(){var e=this.getRoot();if(e.scrollable){var A=im.getOffset(e.__ul).top,t=0;Rf.each(e.__ul.childNodes,function(A){e.autoPlace&&A===e.__save_row||(t+=im.getHeight(A))}),e.__ul.style.height=window.innerHeight-A-20<t?(im.addClass(e.domElement,Bm.CLASS_TOO_TALL),window.innerHeight-A-20+"px"):(im.removeClass(e.domElement,Bm.CLASS_TOO_TALL),"auto")}e.__resize_handle&&Rf.defer(function(){e.__resize_handle.style.height=e.__ul.offsetHeight+"px"}),e.__closeButton&&(e.__closeButton.style.width=e.width+"px")},onResizeDebounced:Rf.debounce(function(){this.onResize()},50),remember:function(){if(Rf.isUndefined(xm)&&((xm=new ym).domElement.innerHTML='<div id="dg-save" class="dg dialogue">\n\n  Here\'s the new load parameter for your <code>GUI</code>\'s constructor:\n\n  <textarea id="dg-new-constructor"></textarea>\n\n  <div id="dg-save-locally">\n\n    <input id="dg-local-storage" type="checkbox"/> Automatically save\n    values to <code>localStorage</code> on exit.\n\n    <div id="dg-local-explain">The values saved to <code>localStorage</code> will\n      override those passed to <code>dat.GUI</code>\'s constructor. This makes it\n      easier to work incrementally, but <code>localStorage</code> is fragile,\n      and your friends may not see the same values you do.\n\n    </div>\n\n  </div>\n\n</div>'),this.parent)throw new Error("You can only call remember on a top level GUI.");var e=this;Rf.each(Array.prototype.slice.call(arguments),function(A){0===e.__rememberedObjects.length&&function(t){var A=t.__save_row=document.createElement("li");im.addClass(t.domElement,"has-save"),t.__ul.insertBefore(A,t.__ul.firstChild),im.addClass(A,"save-row");var e=document.createElement("span");e.innerHTML="&nbsp;",im.addClass(e,"button gears");var i=document.createElement("span");i.innerHTML="Save",im.addClass(i,"button"),im.addClass(i,"save");var n=document.createElement("span");n.innerHTML="New",im.addClass(n,"button"),im.addClass(n,"save-as");var o=document.createElement("span");o.innerHTML="Revert",im.addClass(o,"button"),im.addClass(o,"revert");var r=t.__preset_select=document.createElement("select");t.load&&t.load.remembered?Rf.each(t.load.remembered,function(A,e){Om(t,e,e===t.preset)}):Om(t,Cm,!1);if(im.bind(r,"change",function(){for(var A=0;A<t.__preset_select.length;A++)t.__preset_select[A].innerHTML=t.__preset_select[A].value;t.preset=this.value}),A.appendChild(r),A.appendChild(e),A.appendChild(i),A.appendChild(n),A.appendChild(o),Im){var a=document.getElementById("dg-local-explain"),s=document.getElementById("dg-local-storage"),l=document.getElementById("dg-save-locally");l.style.display="block","true"===localStorage.getItem(Lm(t,"isLocal"))&&s.setAttribute("checked","checked"),Um(t,a),im.bind(s,"change",function(){t.useLocalStorage=!t.useLocalStorage,Um(t,a)})}var c=document.getElementById("dg-new-constructor");im.bind(c,"keydown",function(A){!A.metaKey||67!==A.which&&67!==A.keyCode||xm.hide()}),im.bind(e,"click",function(){c.innerHTML=JSON.stringify(t.getSaveObject(),void 0,2),xm.show(),c.focus(),c.select()}),im.bind(i,"click",function(){t.save()}),im.bind(n,"click",function(){var A=prompt("Enter a new preset name.");A&&t.saveAs(A)}),im.bind(o,"click",function(){t.revert()})}(e),-1===e.__rememberedObjects.indexOf(A)&&e.__rememberedObjects.push(A)}),this.autoPlace&&Nm(this,this.width)},getRoot:function(){for(var A=this;A.parent;)A=A.parent;return A},getSaveObject:function(){var t=this.load;return t.closed=this.closed,0<this.__rememberedObjects.length&&(t.preset=this.preset,t.remembered||(t.remembered={}),t.remembered[this.preset]=Rm(this)),t.folders={},Rf.each(this.__folders,function(A,e){t.folders[e]=A.getSaveObject()}),t},save:function(){this.load.remembered||(this.load.remembered={}),this.load.remembered[this.preset]=Rm(this),Tm(this,!1),this.saveToLocalStorageIfPossible()},saveAs:function(A){this.load.remembered||(this.load.remembered={},this.load.remembered[Cm]=Rm(this,!0)),this.load.remembered[A]=Rm(this),this.preset=A,Om(this,A,!0),this.saveToLocalStorageIfPossible()},revert:function(e){Rf.each(this.__controllers,function(A){this.getRoot().load.remembered?Km(e||this.getRoot(),A):A.setValue(A.initialValue),A.__onFinishChange&&A.__onFinishChange.call(A,A.getValue())},this),Rf.each(this.__folders,function(A){A.revert(A)}),e||Tm(this.getRoot(),!1)},listen:function(A){var e=0===this.__listening.length;this.__listening.push(A),e&&function A(e){0!==e.length&&vm.call(window,function(){A(e)});Rf.each(e,function(A){A.updateDisplay()})}(this.__listening)},updateDisplay:function(){Rf.each(this.__controllers,function(A){A.updateDisplay()}),Rf.each(this.__folders,function(A){A.updateDisplay()})}});var Pm=Bm,Dm=function(A,e){this.model=e,this.loader=A,this.mapNodeInfoByCategory={},this.mapNodeInfoByUserId={},this.mapNodeInfoByComponentId={},this.referencedMeshCache={},this.nodeInfosOnGeometryId=null,this.componentCount=0,this.meshCache={},this.allBones={}};Dm.EnumNodeItemType={SYMBOL:0,MESH:1,TUBE:2,PIPE:3,BOX:4,BOX_M:5,PIPE_M:6,MESH_REF:7,LINE:8},Dm.NodeInfoCategory={INSTANCED:0,STANDARD:1},Dm.EnumDataType={NONE:0,MERGE_DATA:1,LAYER:2,LAYER_SCENE:3,ANIMATION:4},Dm.EnumKeyframeTrackType={position:"position",scale:"scale",quaternion:"quaternion",weights:"weights"},Dm.prototype.destroy=function(){this.mapNodeInfoByCategory=null,this.mapNodeInfoByUserId=null,this.mapNodeInfoByComponentId=null,this.referencedMeshCache=null,this.nodeInfosOnGeometryId=null},Dm.prototype.clearReferencedMeshCache=function(){if(!Ah.DEBUG){for(var A in this.referencedMeshCache)delete this.referencedMeshCache[A];this.referencedMeshCache=null}},Dm.prototype.cacheReferencedMeshBufferData=function(A,e){this.referencedMeshCache.geometries||(this.referencedMeshCache.geometries={}),this.referencedMeshCache.geometries[A]=e},Dm.prototype.cacheReferencedMeshBoneBufferData=function(A,e){this.referencedMeshCache.bones||(this.referencedMeshCache.bones={}),this.referencedMeshCache.bones[A]=e},Dm.prototype.cacheReferencedMeshClipsData=function(A){this.referencedMeshCache.clips=A},Dm.prototype.cacheReferencedMeshNodesData=function(A){this.referencedMeshCache.nodes=A},Dm.prototype.cacheReferencedMeshComponentData=function(A,e){this.referencedMeshCache.components||(this.referencedMeshCache.components={}),this.referencedMeshCache.components[A]=e},Dm.prototype.cacheReferencedMeshMaterialData=function(A,e){this.referencedMeshCache.materials||(this.referencedMeshCache.materials={}),this.referencedMeshCache.materials[A]=e},Dm.prototype.getReferencedMeshBufferData=function(){return this.referencedMeshCache.geometries},Dm.prototype.getReferencedMeshBufferById=function(A){return this.referencedMeshCache.geometries?this.referencedMeshCache.geometries[A]:null},Dm.prototype.cacheReferencedMeshMpkIds=function(A,e){this.referencedMeshCache.mpkIds||(this.referencedMeshCache.mpkIds={}),this.referencedMeshCache.mpkIds[A]||(this.referencedMeshCache.mpkIds[A]=[]),this.referencedMeshCache.mpkIds[A].push(e)},Dm.prototype.clearReferencedMeshCacheByMpkIdxs=function(A,e){if(this.referencedMeshCache.mpkIds)for(var t=0,i=A.length;t<i;t+=1){var n=A[t],o=this.referencedMeshCache.mpkIds[n];if(o){for(var r=0,a=o.length;r<a;r+=1)e&&e(o[r]),delete this.referencedMeshCache[o[r]];delete this.referencedMeshCache.mpkIds[n]}}},Dm.prototype.parseItemData=function(A,e){"1.0"!==A.dataVersion&&void 0!==A.dataVersion||(Gh.time("升级几何结构"),this._updateV1ToV2(A),A.dataVersion="2.0",Gh.timeEnd("升级几何结构")),this._readMaterialBuffer222(A),A.hasAnimation&&Ah.EnableAnimation?(this._parseClips(),this._parseBones()):(this._parseGeo(),this._parseInstanced());var t=this.loader.getSceneReaderArray();if(!t)return Gh.log("Empty scene"),!1;var i=this.referencedMeshCache;if(Gh.time("_readItemData"),!i.geometries||Object.keys(i.geometries).length<=0)return!0;if(e)for(var n=0,o=e.length;n<o;n+=1)i.components[e[n]]&&this._readItemData(t,e[n],e[n],void 0,0);else for(var r in i.components)this._readItemData(t,r,r,void 0,0);return A.hasAnimation&&Ah.EnableAnimation&&this._parseNodes(),Gh.timeEnd("_readItemData"),!(t=null)},Dm.prototype._readItemData=function(A,e,t){var i=this.referencedMeshCache.components[e];void 0!==i&&(oh[i.type]||-1!==i.geoId&&(this.model.merged?this._readMeshInfo(A,t,i,null):this._readMeshInfo2(A,t,i,null)))},Dm.prototype._readSymbolInfo=function(A,e,t){var i=this.loader.getSymbolReader();if(i){var n=i.header.symbolCount,o=t.toData,r=A.getMatrixInfo(t.matrixId).matrix.clone(),a={matrix:r,ItemId:t.ItemId,originalId:t.originalId,userDataId:t.userDataId,materialId:t.materialId};if(0<=o&&o<n)for(var s=i.getSymbolInfo(o),l=s.itemIndex;l<s.itemCount;l+=1){var c=i.getItemInfo(l);c.type!==Dm.EnumNodeItemType.SYMBOL&&this._readMeshInfo(i,e,c,a)}i=a=r=null}},Dm.prototype._readMeshInfo=function(A,e,t,i){var n=this.loader,o=this.model.materialManager.materials,r=null,a=null,s=null;if(s=null===i?(r=t.userDataId,a=t.originalId,t.materialId||t.matId):(r=i.userDataId,a=i.originalId,-1<i.materialId?i.materialId:t.materialId),t.materials||(t.materials=[]),0<t.materials.length)for(var l=0;l<t.materials.length;l+=1){var c=null;if(c=this._getMeshNodeAttr(A,t,1<t.materials.length,l),!o[s=t.materials[l]]){var d=su[t.type]?su[t.type].color:void 0;d||(Gh.log("Material not found for type: ",t.type),d=su.DEFAULT.color),d||(Gh.log("Default material not found for type: ",t.type),d=[1,1,1,1]);var h=new hi(d[0],d[1],d[2]),u=s||h.getHexString()+"_"+d[3],p=o[u];p||(Gh.warn("缺少材质 "+s),p=new ws({color:h}),d[3]<1&&(p.transparent=!0,p.opacity=d[3]),p.side=gA,o[u]=p)}if(o[s].aoMap){var g=this.getReferencedMeshBufferById(c.geometryId);g&&(g.uv2=g.uv)}if(!c)return;var f=n.getUserDataReader(),m=f?f.getUserData(r):null,v=t.key;c.type=t.type,c.userId=v,c.name=t.name,c.userDataId=r,c.originalId=a,c.materialId=s,c.originMId=s,c.userData=m,c.categoryId=0,c.componentId=v,c.instanceOrNot=!(!Ah.Instance||!this.instancedComponent[v]),c.state=uh.Visible,c.material=null,this._classifyNodeInfo(c),c=null}else{var y=null,C=su[t.type]?su[t.type].color:void 0;C||(Gh.log("Material not found for type: ",t.type),C=su.DEFAULT.color),C||(Gh.log("Default material not found for type: ",t.type),C=[1,1,1,1]);var I=new hi(C[0],C[1],C[2]),x=I.getHexString()+"_"+C[3],b=o[x];if(b||(b=new ws({color:I}),C[3]<1&&(b.transparent=!0,b.opacity=C[3]),b.side=gA,o[x]=b),t.materials.push(x),y=this._getMeshNodeAttr(A,t,!1,0),s=t.materials[0],!y)return;var E=t.key;y.type=t.type,y.userId=E,y.name=t.name,y.originalId=a,y.materialId=s,y.originMId=s,y.userData={},y.categoryId=0,y.componentId=E,y.instanceOrNot=!(!Ah.Instance||!this.instancedComponent[E]),y.state=uh.Visible,y.material=null,this._classifyNodeInfo(y),y=null}},Dm.prototype._readMeshInfo2=function(A,e,t,i){var n=this.loader,o=null,r=null,a=null;a=null===i?(o=t.userDataId,r=t.originalId,t.materials||t.matId):(o=i.userDataId,r=i.originalId,-1<i.materialId?i.materialId:t.materialId);var s=null;if(s=this._getMeshNodeAttr(A,t,!1)){var l=n.getUserDataReader(),c=l?l.getUserData(o):null,d=t.key;s.type=t.type,s.userId=d,s.name=t.name,s.originalId=r,s.materialId=a,s.originMId=a,s.userData=c,s.categoryId=0,s.componentId=d,s.state=uh.Visible,s.material=null,this._classifyNodeInfo(s),s=null}},Dm.prototype._getMeshNodeAttrOfPipe=function(A,e,t){var i=A.getMatrixInfo(e.matrixId).matrix.clone(),n=kh.TemporaryMatrix;n.copy(i);var o=A.getGeomPipeInfo(e.toData),r=o.startPt,a=o.endPt,s=new Ue;s.subVectors(a,r);var l=s.length();s.normalize();var c=o.radius;1<c||(c=100);var d=new Ue(0,1,0),h=new Ue(c,l,c),u=(new Oe).setFromUnitVectors(d,s),p=r.clone().addScaledVector(s,.5*l),g=(new At).compose(p,u,h);return i.multiply(g),t&&(i.multiplyMatrices(t.matrix,i),n.multiplyMatrices(t.matrix,n)),o=null,{nodeId:(t?t.ItemId+"_"+e.ItemId:e.ItemId)+"_pipe",geometryId:"pipe",boundingBox:e.boundingBox.clone().applyMatrix4(n),matrix:i,finalState:!0}},Dm.prototype._getMeshNodeAttrOfTube=function(A,e,t){var i=this._getMeshNodeAttrOfPipe(A,e,t);return i.nodeId+="_tube",i.geometryId="tube",i},Dm.prototype._getMeshNodeAttrOfBox=function(A,e,t){var i=A.getMatrixInfo(e.matrixId).matrix.clone(),n=kh.TemporaryMatrix;n.copy(i);var o=e.boundingBox,r=o.getSize(),a=o.getCenter(),s=(new At).scale(new Ue(r.x,r.y,r.z));return s.setPosition(a),i.multiply(s),t&&(i.multiplyMatrices(t.matrix,i),n.multiplyMatrices(t.matrix,n)),{nodeId:(t?t.ItemId+"_"+e.ItemId:e.ItemId)+"_box",geometryId:"box",boundingBox:e.boundingBox.clone().applyMatrix4(n),matrix:i,finalState:!0}},Dm.prototype._getMeshNodeAttrOfBoxM=function(A,e,t){var i=A.getMatrixInfo(e.matrixId).matrix.clone();return t&&i.multiplyMatrices(t.matrix,i),{nodeId:(t?t.ItemId+"_"+e.ItemId:e.ItemId)+"_boxM",geometryId:"boxM",boundingBox:e.boundingBox.clone().applyMatrix4(i),matrix:i,uvArrayBuffer:A.getGeomBoxUvInfo(e.toData),finalState:!0}},Dm.prototype._getMeshNodeAttrOfPipeM=function(A,e,t){var i=A.getMatrixInfo(e.matrixId).matrix.clone();return t&&i.multiplyMatrices(t.matrix,i),{nodeId:(t?t.ItemId+"_"+e.ItemId:e.ItemId)+"_pipeM",geometryId:"pipeM",boundingBox:e.boundingBox.clone().applyMatrix4(i),matrix:i,uvArrayBuffer:A.getGeomPipeUvInfo(e.toData),finalState:!0}},Dm.prototype._getMeshNodeAttrOfMeshRef=function(A,e,t){return{nodeId:"refMesh|"+(t?t.ItemId+"_"+e.ItemId:e.ItemId),geometryId:e.toData,boundingBox:e.boundingBox.clone(),matrix:A.getMatrixInfo(e.matrixId).matrix.clone(),matrixParent:t?t.matrix:null,finalState:!1,transformed:!1,shared:!0}},Dm.prototype._getMeshNodeAttr=function(A,e,t,i){var n=new At;n.fromArray(e.matrix||[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1]);var o=t?e.key+"_"+i:e.key,r=t?e.geoId+"_"+i:e.geoId;if(-1!==r){var a=new ni,s=this.getReferencedMeshBufferById(e.geoId);return s&&s.position?(a=lu.getBoundingBoxByBuffer(s.position)).applyMatrix4(n):Gh.warn("no position "),{nodeId:o,guid:e.guid,geometryId:r,originalGeometryId:e.geoId,matrix:n,boundingBox:a,model:this.model}}},Dm.prototype._getLineNodeAttr=function(A,e,t){var i=null,n=null;return i=-1!==e.matrixId?(n=!1,A.getMatrixInfo(e.matrixId).matrix.clone()):(n=!0,new At),{nodeId:t?"line-"+t.ItemId+"-"+e.ItemId:"line-"+e.ItemId,geometryId:"line-"+e.toData,boundingBox:e.boundingBox.clone(),matrix:i,matrixParent:t?t.matrix:null,finalState:!1,transformed:n}},Dm.prototype._classifyNodeInfo=function(A){this._cacheNodeInfoByComponentId(A),this._cacheNodeInfoByUserId(A),this._cacheNodeInfoByCategory(A)},Dm.prototype._cacheNodeInfoByComponentId=function(A){void 0===this.mapNodeInfoByComponentId[A.componentId]&&(this.mapNodeInfoByComponentId[A.componentId]=[]),this.mapNodeInfoByComponentId[A.componentId].push(A)},Dm.prototype._clearNodeInfoCacheWithComponentId=function(A){if(A)for(var e=0,t=A.length;e<t;e+=1)delete this.mapNodeInfoByComponentId[A[e]];else this.mapNodeInfoByComponentId={}},Dm.prototype._clearNodeInfoCacheWithUserId=function(A){if(A)for(var e=0,t=A.length;e<t;e+=1)delete this.mapNodeInfoByUserId[A[e]];else this.mapNodeInfoByUserId={}},Dm.prototype._clearNodeInfoCacheWithCategory=function(A){if(A)for(var e=this.mapNodeInfoByCategory[Dm.NodeInfoCategory.INSTANCED],t=this.mapNodeInfoByCategory[Dm.NodeInfoCategory.STANDARD],i=0,n=A.length;i<n;i+=1)e&&delete e[A[i]],t&&delete t[A[i]];else this.mapNodeInfoByCategory={}},Dm.prototype.clearNodeInfoCache=function(){this._clearNodeInfoCacheWithComponentId(),this._clearNodeInfoCacheWithUserId(),this._clearNodeInfoCacheWithCategory()},Dm.prototype.clearNodeInfoCacheByComponentsKey=function(A){this._clearNodeInfoCacheWithComponentId(A),this._clearNodeInfoCacheWithUserId(A),this._clearNodeInfoCacheWithCategory(A)},Dm.prototype.getNodeInfosWithComponentId=function(){return this.mapNodeInfoByComponentId},Dm.prototype.getNodeInfosByComponentId=function(A){return this.mapNodeInfoByComponentId[A]},Dm.prototype._cacheNodeInfoByUserId=function(A){void 0===this.mapNodeInfoByUserId[A.userId]&&(this.mapNodeInfoByUserId[A.userId]=[]),this.mapNodeInfoByUserId[A.userId].push(A)},Dm.prototype.getNodeInfosByUserId=function(A){return this.mapNodeInfoByUserId[A]},Dm.prototype.getNodeInfosWithUserId=function(){return this.mapNodeInfoByUserId},Dm.prototype._cacheNodeInfoByCategory=function(A){var e=null;void 0===this.mapNodeInfoByCategory[e=A.instanceOrNot?Dm.NodeInfoCategory.INSTANCED:Dm.NodeInfoCategory.STANDARD]&&(this.mapNodeInfoByCategory[e]={}),void 0===this.mapNodeInfoByCategory[e][A.userId]&&(this.mapNodeInfoByCategory[e][A.userId]=[]),this.mapNodeInfoByCategory[e][A.userId].push(A)},Dm.prototype.getNodeInfosByCategory=function(A){return this.mapNodeInfoByCategory[A]},Dm.prototype.getStandardNodeInfos=function(){return this.getNodeInfosByCategory(Dm.NodeInfoCategory.STANDARD)},Dm.prototype.getInstancedNodeInfos=function(){return this.getNodeInfosByCategory(Dm.NodeInfoCategory.INSTANCED)},Dm.prototype.getStandardUserIds=function(){return this.getStandardNodeInfos()?Object.keys(this.getStandardNodeInfos()):null},Dm.prototype.getInstancedUserIds=function(){return this.getInstancedNodeInfos()?Object.keys(this.getInstancedNodeInfos()):null},Dm.prototype.traverseNodeInfos=function(A){if(A)for(var e in this.mapNodeInfoByComponentId)for(var t=this.mapNodeInfoByComponentId[e],i=0,n=t.length;i<n;i+=1)A(e,t[i])},Dm.prototype.getUserIdsByCategory=function(A,e){var t=[],i=null;if(i=e===Dm.NodeInfoCategory.INSTANCED?this.getInstancedNodeInfos():this.getStandardNodeInfos())for(var n=0,o=A.length;n<o;n+=1)i[A[n]]&&t.push(A[n]);return t},Dm.prototype.getInstancedUserIdsByCategory=function(A){return this.getUserIdsByCategory(A,Dm.NodeInfoCategory.INSTANCED)},Dm.prototype.getStandardUserIdsByCategory=function(A){return this.getUserIdsByCategory(A,Dm.NodeInfoCategory.STANDARD)},Dm.prototype.getNodeInfosOnBMpkGeometryId=function(){return this.nodeInfosOnGeometryId||this.cacheNodeInfosOnGeometryId(),this.nodeInfosOnGeometryId},Dm.prototype.cacheNodeInfosOnGeometryId=function(){var A=this.getStandardNodeInfos();for(var e in this.nodeInfosOnGeometryId={},A)for(var t=A[e],i=0,n=t.length;i<n;i+=1){var o=this.loader.convertToBMpkGeometryId(t[i].geometryId);void 0!==o&&(t[i].geometryId=o),this.nodeInfosOnGeometryId[t[i].geometryId]||(this.nodeInfosOnGeometryId[t[i].geometryId]=[]),this.nodeInfosOnGeometryId[t[i].geometryId].push(t[i])}},Dm.prototype.updateNodeInfosByIds=function(A){},Dm.prototype._isRegularShape=function(A){var e=A.type===Dm.EnumNodeItemType.TUBE||A.type===Dm.EnumNodeItemType.PIPE||A.type===Dm.EnumNodeItemType.BOX||A.type===Dm.EnumNodeItemType.BOX_M||A.type===Dm.EnumNodeItemType.PIPE_M;return Ah.SharedMeshInstanceEnable&&(e=e||A.type===Dm.EnumNodeItemType.MESH_REF),e},Dm.prototype.getOctreeRoots=function(A){var e=this.loader,t=e.getOctreeRootNodeOuter();t&&A.push(t);var i=e.getOctreeRootNodeInner();i&&A.push(i)},Dm.prototype.getCellCount=function(){return this.componentCount},Dm.prototype._parseInstanced=function(){this.instancedComponent={};var A={},e={},t=this.referencedMeshCache;for(var i in t.components)if(t.components.hasOwnProperty(i)){var n=t.components[i],o=n.geoId;if(-1===o){Gh.debug("实体没有几何");continue}if(void 0===A[o]&&(A[o]=[],e[o]={}),A[o].push({componentId:i}),!n.materials){n.materials=[];continue}for(var r=0;r<n.materials.length;r+=1){var a=n.materials[r];e[o][a]||(e[o][a]=[]),e[o][a].push({componentId:i,matrix:n.matrix})}}for(var s in A)if(A.hasOwnProperty(s))if(A[s].length>1)for(r=0;r<A[s].length;r+=1)this.instancedComponent[A[s][r].componentId]=!0;else delete A[s],delete e[s]},Dm.prototype._parseBones=function(){var A=this.referencedMeshCache;for(var e in A._offsetMatrix||(A._offsetMatrix={}),A.geometries){var t=A.geometries[e];t.position.length!==t.normal.length&&(t.normal=t.normal.length===t.index.length?this._computeVertexNormalsFromFaceNormals(t.normal,t.index,t.position.length):this._computeVertexNormalsFromIndex(t.index,t.position));var i=A.bones[e];if(i){t.skinIndex=i.skinIndex,t.skinWeight=i.skinWeight;var n=i.name;i.offsetMatrix.length/16!==n.length&&Gh.debug("bones的name数量与Matrix数量不符！");for(var o=0;o<n.length;o+=1)A._offsetMatrix[n[o]]=(new At).fromArray(i.offsetMatrix,16*o)}}},Dm.prototype._parseClips=function(){for(var A=this.referencedMeshCache.clips,e=[],t=0,i=A.length;t<i;t+=1){for(var n=[],o=A[t],r=0,a=o.tracks.length;r<a;r+=1){var s=o.tracks[r],l=null;switch(s.type){case Dm.EnumKeyframeTrackType.weights:l=Rs;break;case Dm.EnumKeyframeTrackType.quaternion:l=Ds;break;case Dm.EnumKeyframeTrackType.position:case Dm.EnumKeyframeTrackType.scale:default:l=ks}if(0===o.ticksPerSec){o.ticksPerSec=1e3;for(var c=0;c<s.times.length;c+=1)s.times[c]/=o.ticksPerSec}var d=new l(fd.sanitizeNodeName(s.name)+"."+s.type,s.times,s.values,2301);n.push(d)}var h=new zs(void 0!==o.name?o.name:"animation_"+t,o.duration/o.ticksPerSec,n);e.push(h)}this.model.animations=e},Dm.prototype._parseNodes=function(){var A=this.referencedMeshCache;A.allBones=[],A.offsetMatrix=[];var e=function A(e,t){var i=null;"node"===e.type?i=new ti:"bone"===e.type&&(i=new Xr,t.allBones[e.name]=i),i.name=fd.sanitizeNodeName(e.name),i.matrix.fromArray(e.transformation||[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1]),i.matrix.decompose(i.position,i.quaternion,i.scale);for(var n=0;n<e.children.length;n+=1){var o=A(e.children[n],t);o&&i.add(o)}for(var r=0;r<e.meshes.length;r+=1){var a=e.meshes[r];t.model._getHandler().defaultManager.meshManager._readBufferInfo(t.model,[t.model.modelKey+"_"+e.meshes[r]]);var s=t.model._getHandler().defaultManager.meshManager._makeSkinMesh(t.model,[t.model.modelKey+"_"+e.meshes[r]],function(A){});(t.meshCache[a]=s).name=e.name,i.add(s)}return i}(A.nodes,this);for(var t in A.geometries){var i=this.meshCache[t];if(i&&i.isSkinnedMesh){for(var n=[],o=[],r=0;r<A.bones[t].name.length;r+=1){var a=A.bones[t].name[r],s=A._offsetMatrix[a],l=this.allBones[a];s&&l&&(n.push(l),o.push(s))}var c=new qr(n,o);i.bind(c,i.matrixWorld)}}this.model.nodes=e,this.model.manager.getScene().onBeforeRender=function(A,e,t,i){e.updateMatrixWorld(!0)},this.model.group.add(e),(c=new Fd(e)).visible=!1,this.model.skeleton=c,this.model.group.add(c),this.model.mixer=new yd(e),this.model.actions=[];for(var d=0;d<this.model.animations.length;d+=1){var h=this.model.mixer.clipAction(this.model.animations[d]);this.model.actions.push(h)}},Dm.prototype._parseGeo=function(){Gh.time("处理几何:按材质拆分构件");var d=this.referencedMeshCache;for(var h in d.geometries){var u=d.geometries[h];if(u.position.length!==u.normal.length&&(u.normal=u.normal.length===u.index.length?this._computeVertexNormalsFromFaceNormals(u.normal,u.index,u.position.length):this._computeVertexNormalsFromIndex(u.index,u.position)),void 0!==u.materialIndex){for(var A=void 0,e=[],t=null,i=0;i<u.materialIndex.length;i+=1){var n=u.materialIndex[i];n!==t&&(t=n,void 0!==A&&(A.count=3*i-A.start,e.push(A)),A={start:3*i,materialIndex:t})}if(void 0!==A&&(A.count=3*u.materialIndex.length-A.start,e.push(A)),1===e.length){d.geometries[h+"_"+e[0].materialIndex]=u}else{for(var p={},o=0;o<e.length;o+=1){var r=e[o];void 0===p[r.materialIndex]&&(p[r.materialIndex]={index:[],count:0}),p[r.materialIndex].index.push({start:r.start,count:r.count}),p[r.materialIndex].count+=r.count}var a=function(){f={},m=p[g];for(var A=0,e=new Uint32Array(m.count),t=0;t<m.index.length;t+=1){var i=m.index[t],n=u.index.slice(i.start,i.start+i.count);e.set(n,A),A+=i.count}v={},e.forEach(function(A,e){v[A]||(v[A]=[]),v[A].push(e)});var o=Object.keys(v).length;y=new Float32Array(3*o),C=new Float32Array(3*o),I=new Float32Array(2*o);var r=b=x=0;for(var a in v)if(v.hasOwnProperty(a)){a=Number(a);var s=u.position.slice(3*a,3*a+3),l=u.normal.slice(3*a,3*a+3);if(0<u.uv.length){var c=u.uv.slice(2*a,2*a+2);I.set(c,b),b+=2}y.set(s,x),C.set(l,x),x+=3,v[a].forEach(function(A){e[A]=r}),r+=1}f.index=e,f.position=y,f.normal=C,u.uv&&0<u.uv.length&&(f.uv=I),d.geometries[h+"_"+g]=f};for(var g in p){var f,m,v,y,C,I,x,b;a()}}}}Gh.timeEnd("处理几何:按材质拆分构件")},Dm.prototype._computeVertexNormalsFromFaceNormals=function(A,e,t){for(var i=new Float32Array(t),n=0,o=0,r=0,a=0,s=0,l=0,c=0;c<A.length;c+=3)s=A[c+1],l=A[c+2],o=3*e[c+1],r=3*e[c+2],i[n=3*e[c]]=a=A[c],i[n+1]=s,i[n+2]=l,i[o]=a,i[o+1]=s,i[o+2]=l,i[r]=a,i[r+1]=s,i[r+2]=l;return i},Dm.prototype._computeVertexNormalsFromIndex=function(A,e){var t=new Float32Array(e.length);if(e){var i=0,n=0,o=0,r=new Ue,a=new Ue,s=new Ue,l=new Ue,c=new Ue;if(A)for(var d=A,h=0;h<d.length;h+=3)n=3*d[h+1],o=3*d[h+2],r.fromArray(e,i=3*d[h]),a.fromArray(e,n),s.fromArray(e,o),l.subVectors(s,a),c.subVectors(r,a),l.cross(c),t[i]+=l.x,t[i+1]+=l.y,t[i+2]+=l.z,t[n]+=l.x,t[n+1]+=l.y,t[n+2]+=l.z,t[o]+=l.x,t[o+1]+=l.y,t[o+2]+=l.z;else for(var u=0,p=e.length;u<p;u+=9)r.fromArray(e,u),a.fromArray(e,u+3),s.fromArray(e,u+6),l.subVectors(s,a),c.subVectors(r,a),l.cross(c),t[u]=l.x,t[u+1]=l.y,t[u+2]=l.z,t[u+3]=l.x,t[u+4]=l.y,t[u+5]=l.z,t[u+6]=l.x,t[u+7]=l.y,t[u+8]=l.z}return t},Dm.prototype._readMaterialBuffer222=function(A){var e=A.materialManager,t=e.materials,i=e.textures,n=this.referencedMeshCache.materials;for(var o in n){var r=n[o];if(!r)return null;var a=xu.createStandardMaterial();if(a.name=r.name||o,a.key=o,r.emissive&&a.emissive&&(1===r.emissive[0]&&1===r.emissive[1]&&1===r.emissive[2]||a.emissive.setRGB(r.emissive[0],r.emissive[1],r.emissive[2])),r.color?a.color.setRGB(r.color[0],r.color[1],r.color[2]):a.color.setRGB(.72,.72,.72),r.tint&&a.color.setRGB(r.tint[0],r.tint[1],r.tint[2]),r.specular&&a.specular&&a.specular.setRGB(r.specular[0],r.specular[1],r.specular[2]),r.map)if(void 0!==r.mapOffsetY&&0!==r.mapOffsetY||void 0!==r.mapOffsetX&&0!==r.mapOfsfetX||void 0!==r.mapScaleX&&1!==r.mapScaleX||void 0!==r.mapScaleY&&1!==r.mapScaleY||void 0!==r.mapWAngle&&0!==r.mapWAngle){var s=r.mapOffsetX+"_"+r.mapOffsetY+"_"+r.mapScaleX+"_"+r.mapScaleY+"_"+r.mapWAngle+"_"+r.map;if(i[s])a.map=i[s];else(u=new Ye).wrapS=u.wrapT=B,u.image=i[r.map].image?i[r.map].image:null,u.needsUpdate=!0,u.image&&(u.offset.x=r.mapOffsetX?r.mapOffsetX:0,u.offset.y=r.mapOffsetY?r.mapOffsetY:0,u.repeat.x=r.mapScaleX?r.mapScaleX:1,u.repeat.y=r.mapScaleY?r.mapScaleY:1,u.rotation=r.mapWAngle?r.mapWAngle:0,a.map=i[s]=u)}else a.map=i[r.map]?i[r.map]:null;if(r.aoMap)if(void 0!==r.aoMapOffsetY&&0!==r.aoMapOffsetY||void 0!==r.aoMapOffsetX&&0!==r.aoMapOfsfetX||void 0!==r.aoMapScaleX&&1!==r.aoMapScaleX||void 0!==r.aoMapScaleY&&1!==r.aoMapScaleY||void 0!==r.aoMapWAngle&&0!==r.aoMapWAngle){var l=r.aoMapOffsetX+"_"+r.aoMapOffsetY+"_"+r.aoMapScaleX+"_"+r.aoMapScaleY+"_"+r.aoMapWAngle+"_"+r.aoMap;if(i[l])a.aoMap=i[l];else(u=new Ye).wrapS=u.wrapT=B,u.image=i[r.aoMap]&&i[r.aoMap].image?i[r.aoMap].image:null,u.needsUpdate=!0,u.image&&(u.offset.x=r.aoMapOffsetX?r.aoMapOffsetX:0,u.offset.y=r.aoMapOffsetY?r.aoMapOffsetY:0,u.repeat.x=r.aoMapScaleX?r.aoMapScaleX:1,u.repeat.y=r.aoMapScaleY?r.aoMapScaleY:1,u.rotation=r.aoMapWAngle?r.aoMapWAngle:0,a.aoMap=i[l]=u)}else a.aoMap=i[r.aoMap]?i[r.aoMap]:null;if(void 0!==r.aoMapIntensity&&(a.aoMapIntensity=r.aoMapIntensity),r.envMap)if(void 0!==r.envMapOffsetY&&0!==r.envMapOffsetY||void 0!==r.envMapOffsetX&&0!==r.envMapOfsfetX||void 0!==r.envMapScaleX&&1!==r.envMapScaleX||void 0!==r.envMapScaleY&&1!==r.envMapScaleY||void 0!==r.envMapWAngle&&0!==r.envMapWAngle){var c=r.envMapOffsetX+"_"+r.envMapOffsetY+"_"+r.envMapScaleX+"_"+r.envMapScaleY+"_"+r.envMapWAngle+"_"+r.envMap;if(i[c])a.envMap=i[c];else(u=new Ye).wrapS=u.wrapT=B,u.image=i[r.envMap].image?i[r.envMap].image:null,u.needsUpdate=!0,u.image&&(u.offset.x=r.envMapOffsetX?r.envMapOffsetX:0,u.offset.y=r.envMapOffsetY?r.envMapOffsetY:0,u.repeat.x=r.envMapScaleX?r.envMapScaleX:1,u.repeat.y=r.envMapScaleY?r.envMapScaleY:1,u.rotation=r.envMapWAngle?r.envMapWAngle:0,a.envMap=i[c]=u)}else a.envMap=i[r.envMap]?i[r.envMap]:null;if(r.lightMap)if(void 0!==r.lightMapOffsetY&&0!==r.lightMapOffsetY||void 0!==r.lightMapOffsetX&&0!==r.lightMapOfsfetX||void 0!==r.lightMapScaleX&&1!==r.lightMapScaleX||void 0!==r.lightMapScaleY&&1!==r.lightMapScaleY||void 0!==r.lightMapWAngle&&0!==r.lightMapWAngle){var d=r.lightMapOffsetX+"_"+r.lightMapOffsetY+"_"+r.lightMapScaleX+"_"+r.lightMapScaleY+"_"+r.lightMapWAngle+"_"+r.lightMap;if(i[d])a.lightMap=i[d];else(u=new Ye).wrapS=u.wrapT=B,u.image=i[r.lightMap].image?i[r.lightMap].image:null,u.needsUpdate=!0,u.image&&(u.offset.x=r.lightMapOffsetX?r.lightMapOffsetX:0,u.offset.y=r.lightMapOffsetY?r.lightMapOffsetY:0,u.repeat.x=r.lightMapScaleX?r.lightMapScaleX:1,u.repeat.y=r.lightMapScaleY?r.lightMapScaleY:1,u.rotation=r.lightMapWAngle?r.lightMapWAngle:0,a.lightMap=i[d]=u)}else a.lightMap=i[r.lightMap]?i[r.lightMap]:null;if(void 0!==r.lightMapIntensity&&(a.lightMapIntensity=r.lightMapIntensity),r.emissiveMap)if(void 0!==r.emissiveMapOffsetY&&0!==r.emissiveMapOffsetY||void 0!==r.emissiveMapOffsetX&&0!==r.emissiveMapOfsfetX||void 0!==r.emissiveMapScaleX&&1!==r.emissiveMapScaleX||void 0!==r.emissiveMapScaleY&&1!==r.emissiveMapScaleY||void 0!==r.emissiveMapWAngle&&0!==r.emissiveMapWAngle){var h=r.emissiveMapOffsetX+"_"+r.emissiveMapOffsetY+"_"+r.emissiveMapScaleX+"_"+r.emissiveMapScaleY+"_"+r.emissiveMapWAngle+"_"+r.emissiveMap;if(i[h])a.emissiveMap=i[h];else(u=new Ye).wrapS=u.wrapT=B,u.image=i[r.emissiveMap].image?i[r.emissiveMap].image:null,u.needsUpdate=!0,u.image&&(u.offset.x=r.emissiveMapOffsetX?r.emissiveMapOffsetX:0,u.offset.y=r.emissiveMapOffsetY?r.emissiveMapOffsetY:0,u.repeat.x=r.emissiveMapScaleX?r.emissiveMapScaleX:1,u.repeat.y=r.emissiveMapScaleY?r.emissiveMapScaleY:1,u.rotation=r.emissiveMapWAngle?r.emissiveMapWAngle:0,a.emissiveMap=i[h]=u)}else a.emissiveMap=i[r.emissiveMap]?i[r.emissiveMap]:null;if(void 0!==r.emissiveIntensity&&(a.emissiveIntensity=r.emissiveIntensity),r.specularMap)if(void 0!==r.specularMapOffsetY&&0!==r.specularMapOffsetY||void 0!==r.specularMapOffsetX&&0!==r.specularMapOfsfetX||void 0!==r.specularMapScaleX&&1!==r.specularMapScaleX||void 0!==r.specularMapScaleY&&1!==r.specularMapScaleY||void 0!==r.specularMapWAngle&&0!==r.specularMapWAngle){var u,p=r.specularMapOffsetX+"_"+r.specularMapOffsetY+"_"+r.specularMapScaleX+"_"+r.specularMapScaleY+"_"+r.specularMapWAngle+"_"+r.specularMap;if(i[p])a.specularMap=i[p];else(u=new Ye).wrapS=u.wrapT=B,u.image=i[r.specularMap].image?i[r.specularMap].image:null,u.needsUpdate=!0,u.image&&(u.offset.x=r.specularMapOffsetX?r.specularMapOffsetX:0,u.offset.y=r.specularMapOffsetY?r.specularMapOffsetY:0,u.repeat.x=r.specularMapScaleX?r.specularMapScaleX:1,u.repeat.y=r.specularMapScaleY?r.specularMapScaleY:1,u.rotation=r.specularMapWAngle?r.specularMapWAngle:0,a.specularMap=i[p]=u)}else a.specularMap=i[r.specularMap]?i[r.specularMap]:null;void 0!==r.shininess&&(a.shininess=r.shininess),void 0!==r.opacity&&(a.opacity=r.opacity,r.opacity<1&&(a.transparent=!0),0<r.opacity||(a.opacity=.1)),a.side=gA,t[o]=a}},Dm.prototype._updateV1ToV2=function(A){var e=this.referencedMeshCache.components,t=this.referencedMeshCache.geometries,i=this.referencedMeshCache.materials;for(var n in e)if(e.hasOwnProperty(n)){var o=e[n],r=o.matId,a=t[o.geoId];if(o.materials)continue;if(o.materials=[],!a)continue;var s=i[r];if(!s)continue;var l=this._updateMaterialV1ToV2(r,s);if(l)for(var c in a.materialIndex=l.materialIndex,o.materials=l.materialId,l.materials)l.materials.hasOwnProperty(c)&&(this.referencedMeshCache.materials[c]=l.materials[c])}},Dm.prototype._updateMaterialV1ToV2=function(A,e){var t={},i=[],n={};if(!e)return null;for(var o=e.color,r=e.colorIndex,a=e.texture,s=e.textureIndex,l=0;l<o.length;l+=4){var c={};c.color=[o[l],o[l+1],o[l+2]],c.opacity=Math.floor(100*o[l+3])/100,c.transparent=o[l+3]<1;var d=(255*c.color[0]<<16^255*c.color[1]<<8^255*c.color[2]<<0)+"_"+c.opacity;n[d]=c,i.push(d)}if(0!==a.length&&r.length===s.length)for(var h=-1,u=0;u<s.length;u+=1){if(h!==r[u])if(h=r[u],-1!==s[u])n[i[r[u]]].map=a[s[u]]}return t.materials=n,t.materialId=i,t.materialIndex=r,t},Dm.prototype.addMeshToInfoMap=function(A,e,t,i){var n=this.getNodeInfosByComponentId(A);Array.isArray(n)&&n.forEach(function(A){A.nodeId===e&&(A.mesh=t,A.index=i)})};var Qm=new function(A,e,t){var i=this,n=!1,o=0,r=0;this.onStart=void 0,this.onLoad=A,this.onProgress=e,this.onError=t,this.itemStart=function(A){r+=1,!1===n&&"function"==typeof i.onStart&&i.onStart(A,o,r),n=!0},this.itemEnd=function(A){o+=1,"function"==typeof i.onProgress&&i.onProgress(A,o,r),o===r&&(n=!1,"function"==typeof i.onLoad&&i.onLoad())},this.itemError=function(A){"function"==typeof i.onError&&i.onError(A)}},km=function(A){this.manager=null!=A?A:Qm,this.model=A.model,this.cacheViable=!0,this.modelKey=A.model.modelKey};Object.assign(km.prototype,{_load:function(l,c,e,d){void 0===l&&(l=""),null!=this.path&&(l=this.path+l);var h=this,A=l.match(/^data:(.*?)(;base64)?,(.*)$/);if(A){var t=A[1],i=Boolean(A[2]),n=A[3];n=window.decodeURIComponent(n),i&&(n=window.atob(n));try{var o=null,r=(this.responseType||"").toLowerCase();switch(r){case"arraybuffer":case"blob":o=new ArrayBuffer(n.length);for(var a=new Uint8Array(o),s=0;s<n.length;s+=1)a[s]=n.charCodeAt(s);"blob"===r&&(o=new Blob([o],{type:t}));break;case"document":var u=new DOMParser;o=u.parseFromString(n,t);break;case"json":o=JSON.parse(n);break;default:o=n}window.setTimeout(function(){c&&c(o),h.manager.itemEnd(l)},0)}catch(A){window.setTimeout(function(){d&&d(A),h.manager.itemEnd(l),h.manager.itemError(l)},0)}}else{var p=new XMLHttpRequest;for(var g in p.open("GET",l,!0),p.addEventListener("load",function(A){var e=A.target.response;if(200===this.status){var t=h.model.getStorage();if(null==e&&(d&&d(A),h.manager.itemEnd(l),h.manager.itemError(l)),!(e instanceof ArrayBuffer||e instanceof Array||e instanceof Blob||e instanceof Object))try{e=JSON.parse(e)}catch(A){}if(e instanceof Blob&&zh.isIOSDevice()){var i=new FileReader;i.readAsDataURL(e),i.onloadend=function(A){t&&h.cacheViable&&t.put(l,A.target.result,h.modelKey,function(){h.manager.progress.loaded+=1},function(){h.manager.progress.failed+=1}),c&&c(A.target.result)}}else{if(t&&h.cacheViable)if(e.byteLength&&12e7<e.byteLength){for(var n=[],o=Math.floor(e.byteLength/4e7),r=0;r<=o;r+=1){h.manager.progress.total+=1;var a=null;a=r===o?e.slice(4e7*r):e.slice(4e7*r,4e7*(r+1));var s=l+"_"+r;n.push(s),t.put(s,a,h.modelKey,function(){h.manager.progress.loaded+=1},function(){h.manager.progress.failed+=1})}t.put(l,{split:!0,list:n,length:e.byteLength},h.modelKey,function(){},function(){})}else t.put(l,e,h.modelKey,function(){h.manager.progress.loaded+=1},function(){h.manager.progress.failed+=1});c&&c(e)}h.manager.itemEnd(l)}else 0===this.status?(Gh.warn("THREE.FileLoader: HTTP Status 0 received."),c&&c(e),h.manager.itemEnd(l)):(d&&d(A),h.manager.itemEnd(l),h.manager.itemError(l))},!1),"function"==typeof e&&p.addEventListener("progress",function(A){e(A)},!1),p.addEventListener("error",function(A){d&&d(A),h.manager.itemEnd(l),h.manager.itemError(l)},!1),void 0!==this.responseType&&(p.responseType=this.responseType),void 0!==this.withCredentials&&(p.withCredentials=this.withCredentials),p.overrideMimeType&&p.overrideMimeType(void 0!==this.mimeType?this.mimeType:"text/plain"),this.requestHeader)p.setRequestHeader(g,this.requestHeader[g]);p.send(null)}return h.manager.itemStart(l),p},load:function(A,e,t,i){void 0===A&&(A=""),null!=this.path&&(A=this.path+A);return this._load.call(this,A,e,t,i)},setPath:function(A){return this.path=A,this},setResponseType:function(A){return this.responseType=A,this},setWithCredentials:function(A){return this.withCredentials=A,this},setMimeType:function(A){return this.mimeType=A,this},setCacheViable:function(A){return this.cacheViable=A,this},setRequestHeader:function(A){return this.requestHeader=A,this}});var zm={Url:function(A,e,t){this.serverUrl=A,this.modelKey=e,this.dbName=t}};zm.Url.prototype.projectUrl=function(A){return this.offLine?this.serverUrl+"/"+this.modelKey+"/resource/scene/scene.json":this.serverUrl+"/api/"+this.dbName+"/models?modelKey="+(A||this.modelKey)},zm.Url.prototype.sceneUrl=function(A){return this.serverUrl+this.modelKey+"/scene/scene_"+(A=A||0)+Ah.ZipResourcePostfix},zm.Url.prototype.sceneIdUrl=function(){return this.serverUrl+this.modelKey+"/scene/scene_id"+Ah.ZipResourcePostfix},zm.Url.prototype.userIdUrl=function(){return this.serverUrl+this.modelKey+"/scene/user_id"+Ah.ZipResourcePostfix},zm.Url.prototype.octreeUrl=function(A){return this.serverUrl+this.modelKey+"/scene/octree_"+A+Ah.ZipResourcePostfix},zm.Url.prototype.symbolUrl=function(){return this.serverUrl+this.modelKey+"/symbol/symbol"+Ah.ZipResourcePostfix},zm.Url.prototype.mpkUrl=function(A){return this.offLine?this.serverUrl+"/"+this.modelKey+"/resource/data/"+A:this.apiVersion<1.6?this.serverUrl+"/api/"+this.dbName+"/files?fileKey="+A:this.serverUrl+"/data?fileKey="+A},zm.Url.prototype.bonesUrl=function(A){return this.offLine?this.serverUrl+"/"+this.modelKey+"/resource/data/"+A:this.apiVersion<1.6?this.serverUrl+"/api/"+this.dbName+"/files?fileKey="+A:this.serverUrl+"/data?fileKey="+A},zm.Url.prototype.nodesUrl=function(A){return this.offLine?this.serverUrl+"/"+this.modelKey+"/resource/data/"+A:this.apiVersion<1.6?this.serverUrl+"/api/"+this.dbName+"/files?fileKey="+A:this.serverUrl+"/data?fileKey="+A},zm.Url.prototype.clipsUrl=function(A){return this.offLine?this.serverUrl+"/"+this.modelKey+"/resource/data/"+A:this.apiVersion<1.6?this.serverUrl+"/api/"+this.dbName+"/files?fileKey="+A:this.serverUrl+"/data?fileKey="+A},zm.Url.prototype.kdTreeUrl=function(A){return this.offLine?this.serverUrl+"/"+this.modelKey+"/resource/data/"+A:this.apiVersion<1.6?this.serverUrl+"/api/"+this.dbName+"/files?fileKey="+A:this.serverUrl+"/data?fileKey="+A},zm.Url.prototype.attributeUrl=function(){if(this.offLine)return this.serverUrl+"/"+this.modelKey+"/resource/attribute/attribute.json"},zm.Url.prototype.meshIdUrl=function(){return this.serverUrl+this.modelKey+"/mpk/mesh_id"+Ah.ZipResourcePostfix},zm.Url.prototype.materialUrl=function(){return this.serverUrl+this.modelKey+"/material/material"+Ah.ZipResourcePostfix},zm.Url.prototype.materialIdUrl=function(){return this.serverUrl+this.modelKey+"/material/material_id"+Ah.ZipResourcePostfix},zm.Url.prototype.userDataUrl=function(){return this.serverUrl+this.modelKey+"/userdata/userdata"+Ah.ZipResourcePostfix},zm.Url.prototype.textureUrl=function(A){return this.offLine?this.serverUrl+"/"+this.modelKey+"/resource/data/"+A:this.apiVersion<1.6?this.serverUrl+"/api/"+this.dbName+"/files?fileKey="+A:this.serverUrl+"/data?fileKey="+A};var Vm=function(A){this.compArr=[],this.compArr=A,Gh.debug(this.compArr)};Vm.prototype={constructor:Vm,getComponent:function(A){}};var Hm={geoHeader:function(A){var e=new Int32Array(A);this.geoCount=e[0],this.headerBuffer=e.slice(1,4*this.geoCount+1)},GeometryReader:function(A,e){this.geomMap=[],this.geoCount=new Uint32Array(A,0,1)[0];var t=this.geoCount,i=[],n=0,o=null,r=null,a=null,s=null,l=null,c=null,d=null,h=0,u=null,p=0,g=null,f=0,m=null,v=0,y=null,C=0,I=null;if("2.0"===e)for(var x=0;x<t;x+=1)i={},n=4*(1+7*t),r=(o=new Uint32Array(A,4*(1+7*x),7))[0],a=o[2],s=o[3],l=o[4],c=o[5],d=o[6],h=n+o[1],u=new Float32Array(A.slice(h,4*a+h)),p=4*a+h,g=new Float32Array(A.slice(p,p+4*s)),f=p+4*s,m=new Uint32Array(A.slice(f,f+4*l)),v=f+4*l,y=new Float32Array(A.slice(v,v+4*c)),C=v+4*c,I=new Int16Array(A.slice(C,C+2*d)),i.position=u,i.normal=g,i.index=m,i.uv=y,i.materialIndex=I,i.geoId=r,this.geomMap.push(i);else for(var b=0;b<t;b+=1)i={},n=4*(1+6*t),r=(o=new Uint32Array(A,4*(1+6*b),6))[0],a=o[2],s=o[3],l=o[4],c=o[5],h=n+o[1],u=new Float32Array(A.slice(h,4*a+h)),p=4*a+h,g=new Float32Array(A.slice(p,p+4*s)),f=p+4*s,m=new Uint32Array(A.slice(f,f+4*l)),v=f+4*l,y=new Float32Array(A.slice(v,v+4*c)),i.position=u,i.normal=g,i.index=m,i.uv=y,i.geoId=r,this.geomMap.push(i);Gh.debug(this.geomMap)},BoneReader:function(A,e){this.boneMap=[],this.boneCount=new Uint32Array(A,0,1)[0];for(var t=this.boneCount,i=[],n=0,o=null,r=null,a=null,s=null,l=null,c=null,d=0,h=null,u=0,p=null,g=0,f=null,m=0,v=[],y="[]",C=0;C<t;C+=1){i={},n=4*(1+5*t),r=(o=new Uint32Array(A,4*(1+5*C),5))[0],a=o[2],l=s=o[3],c=o[4],d=n+o[1],h=new Float32Array(A.slice(d,4*a+d)),u=4*a+d,p=new Uint16Array(A.slice(u,u+2*s)),g=u+2*s,f=new Float32Array(A.slice(g,g+4*l)),m=g+4*l;var I=new Uint8Array(A.slice(m,m+c));y=zh.isIE11()?kh.decodeUTF8(I):new TextDecoder("utf-8").decode(I);try{v=JSON.parse(y)}catch(A){Gh.error("解析name出错：",A)}i.offsetMatrix=h,i.skinIndex=p,i.skinWeight=f,i.name=v,i.geoId=r,this.boneMap.push(i)}Gh.debug(this.boneMap)}};Hm.GeometryReader.prototype={constructor:Hm.GeometryReader,getPositionBuffer:function(A){return this.geos[A].position},getIndexBuffer:function(A){return this.geos[A].index},getNormalBuffer:function(A){return this.geos[A].normal},getUVBuffer:function(A){return[]}};var Gm=function(A,e){if(this.materialMap=[],"2.0"===e)this.materialMap=A;else for(var t=this.materialCount=new Uint32Array(A,0,1)[0],i=4*(1+6*t),n=0;n<t;n+=1){var o=new Uint32Array(A,4*(1+6*n),6),r=o[0],a=o[1],s=o[2],l=o[3],c=o[4],d=o[5],h=new Float32Array(A.slice(i+a,4*s+i+a)),u=new Int16Array(A.slice(4*s+i+a,4*s+i+a+2*l)),p=new Uint8Array(A.slice(4*s+i+a+2*l,4*s+i+a+2*l+c)),g=4*s+i+a+2*l+c,f=new Int16Array(A.slice(g,g+2*d)),m="[]";m=zh.isIE11()?kh.decodeUTF8(p):new TextDecoder("utf-8").decode(p);var v=[];try{v=JSON.parse(m)}catch(A){Gh.error("解析纹理出错：",A)}var y={};y.matId=r,y.color=h,y.colorIndex=u,y.texture=v,y.textureIndex=f,this.materialMap.push(y)}Gh.debug(this.materialMap)},jm=function(A){this.MaxThreadCount=A||8,this.todoList=[],this.doingCount=0,this.addItem=function(A){void 0!==A&&this.todoList.push(A)},this.run=function(e,t,i){if(this.doingCount<=0)if(0!==this.todoList.length){var n=this.todoList,o=n.length;this.todoList=[],this.doingCount=o;for(var r=Math.min(this.MaxThreadCount,Ah.ConcurrencyRequestCount,o),a=this,A=0;A<r;A+=1)s(A)}else i();function s(A){A<o?(t(a.doingCount,o),e(n[A],A+r,s)):a.doingCount<1&&(a.run(e,t,i),t(a.doingCount,o),i())}}},Wm=function(A,e){this.type=e,this.manager=A,this.worker=new jm(4),this.working=!0};Wm.prototype={constructor:Wm,addTask:function(A){this.worker.addItem(A)},processTasks:function(i,A,e){var n=this,o=this.worker;this.worker.run(function(A,e,t){n.working&&i(A,function(){o.doingCount-=1,t(e)})},A=A||function(){},e=e||function(){})},stop:function(){this.working=!1},start:function(){this.working=!0}},zm.ModelGroupLoader=function(A,e){Gs.call(this),this.model=A,this.offLine=e.offLine,this.dataVersion=null,this.modelDataVersion={},this.defaultLevel="level5",this.storage=A.getStorage(),this.taskComponentManager=new Wm(this,"component"),this.taskGeometrieManager=new Wm(this,"geometrie"),this.taskMaterialManager=new Wm(this,"material"),this.taskTexturesManager=new Wm(this,"textures"),this.modelKeys=e.modelKeys,this.url=new zm.Url(e.serverUrl,e.modelKey,e.dbName),this.url.offLine=this.offLine,this.loader=new km(this),this.Textureloader=new km(this),this.jsonLoader=new km(this),this.loadTaskCount=0,this.maxLoadTaskCount=0,this.octreeRootNode=null,this.octreeRootNodeI=null,this.symbolReader=null,this.userIdReader=null,this.userDataReader=null,this.sceneReader=null,this.progress={total:0,loaded:0,failed:0},this.fileKeyFromModelKey={}},zm.ModelGroupLoader.prototype=Object.create(Gs.prototype),zm.ModelGroupLoader.prototype.constructor=zm.ModelLoader,zm.ModelGroupLoader.prototype.getStorage=function(){return this.storage},zm.ModelGroupLoader.prototype._onTaskFinished=function(){var A=this.model;this.loadTaskCount+=1;var e=this.dealProgressSegment(A,this.loadTaskCount);this.notifyProgress&&A.dispatchEventEx({type:lh.ON_LOAD_PROGRESS,progress:{total:this.maxLoadTaskCount,loaded:e,modelKey:A.modelKey},modelKey:A.modelKey});this.loadTaskCount<this.maxLoadTaskCount||(Gh.timeEnd("数据加载时间"),this._dataLoaded=!0,this._loadingOnDemand=!1,A.prepareData())},zm.ModelGroupLoader.prototype.dealProgressSegment=function(A,e){return Ah.MergeComponent?A.isLayerData()?this._loadingOnDemand?e*A.progressPercentage.load:e:e*A.progressPercentage.load:e},zm.ModelGroupLoader.prototype.getDataProvider=function(A){return Ah.DataProvider===bh.MERGED?bh.MERGED:Ah.DataProvider===bh.LAYER&&A.layers?bh.LAYER:bh.DEFAULT},zm.ModelGroupLoader.prototype._loadScene=function(A,e,t){var i=this;A.setResponseType("arraybuffer"),A.load(e.sceneUrl(t),function(A){var e=new zm.SceneReader(A),t=e.header.blockId;t<i.sceneCount&&(i.sceneReader[t]=e),e=null,i._onTaskFinished()})},zm.ModelGroupLoader.prototype.parseScene=function(a,s){for(var A=this.url,e=this.loader,l=this,c=this.model,d=[],h=[],u=[],p=[],g=[],f=[],m=[],v=[],t=function(A){var e=a[A].scene,t=a[A].dataVersion,i=a[A].modelKey;if(!(e&&e.components&&e.geometries&&e.materials&&e.textures))return c.emptyScene=!0,Gh.error("scene is null,modelKey is ",i),c.dispatchEventEx({type:lh.ON_LOAD_EMPTY_SCENE,modelKey:i}),{v:void 0};var n=0,o=0,r=0;if(y=e.components.length||0,C=e.geometries.length||0,I=e.materials.length||0,x=e.textures.length||0,b=[],E=[],w=[],M=[],B=[],_=[],S=e.textures,T=[],"2.0"!==t){for(K=0;K<y;K+=1)e.components[K].fileKey?b.push(e.components[K].fileKey):c.dispatchEventEx({type:ch.SCENE_NOT_CLOSE,modelKey:i});for(F=0;F<C;F+=1)e.geometries[F].fileKey?E.push(e.geometries[F].fileKey):c.dispatchEventEx({type:ch.SCENE_NOT_CLOSE,modelKey:i});for(L=0;L<I;L+=1)e.materials[L].fileKey?w.push(e.materials[L].fileKey):c.dispatchEventEx({type:ch.SCENE_NOT_CLOSE,modelKey:i})}else b=e.components,E=e.geometries,w=e.materials;if(0<e.trees.length)for(O=0;O<e.trees.length;O+=1)"partition"===(U=e.trees[O]).type&&T.push(U.fileKey);s&&(n=s.bones.length,r=o=1,M=s.bones,B.push(s.clips),_.push(s.nodes)),l.maxLoadTaskCount+=y,l.maxLoadTaskCount+=C,l.maxLoadTaskCount+=I,l.maxLoadTaskCount+=x,l.maxLoadTaskCount+=n,l.maxLoadTaskCount+=o,l.maxLoadTaskCount+=r,l.maxLoadTaskCount+=T.length,b.forEach(function(A){l.fileKeyFromModelKey[A]=i}),E.forEach(function(A){l.fileKeyFromModelKey[A]=i}),w.forEach(function(A){l.fileKeyFromModelKey[A]=i}),M.forEach(function(A){l.fileKeyFromModelKey[A]=i}),B.forEach(function(A){l.fileKeyFromModelKey[A]=i}),_.forEach(function(A){l.fileKeyFromModelKey[A]=i}),S.forEach(function(A){l.fileKeyFromModelKey[A]=i}),T.forEach(function(A){l.fileKeyFromModelKey[A]=i}),d=d.concat(b),h=h.concat(E),u=u.concat(w),p=p.concat(M),g=g.concat(B),f=f.concat(_),m=m.concat(S),v=v.concat(T)},i=l.maxLoadTaskCount=0;i<a.length;i+=1){var y,C,I,x,b,E,w,M,B,_,S,T,K,F,L,O,U,n=t(i);if("object"===Bh(n))return n.v}if(l.progress.total+=l.maxLoadTaskCount,l.maxLoadTaskCount<1)return Gh.info("Nothing to load ",c.modelKey),void c.dispatchEventEx({type:ch.SCENE_NOTHING_TO_LOAD,modelKey:c.modelKey});Gh.time("数据加载时间"),l._loadComponent(e,A,d),l._loadGeometrie(e,A,h),l._loadMaterial(e,A,u),l._loadTextures(e,A,m),l._loadKDTree(e,A,v),l._loadClips(e,A,g),l._loadBones(e,A,p),l._loadNodes(e,A,f),l.offLine&&l.loadAttribute()},zm.ModelGroupLoader.prototype._loadSymbol=function(A,e){var t=this;A.setResponseType("arraybuffer"),A.load(e.symbolUrl(),function(A){t.symbolReader=new zm.SymbolReader(A),t._onTaskFinished()})},zm.ModelGroupLoader.prototype._loadOctreeInner=function(A,e,t){var i=this;A.load(e.octreeUrl("i"),function(A){i._parseOctree(A,t,!0),i._onTaskFinished()})},zm.ModelGroupLoader.prototype._loadOctreeOuter=function(A,e,t){var i=this;A.load(e.octreeUrl("o"),function(A){i._parseOctree(A,t,!1),i._onTaskFinished()})},zm.ModelGroupLoader.prototype._loadUserId=function(A,e){var t=this;A.setResponseType("arraybuffer"),A.load(e.userIdUrl(),function(A){t.userIdReader=new zm.IdReader(A),t._onTaskFinished()},void 0,function(A){Gh.error(A),t._onTaskFinished()})},zm.ModelGroupLoader.prototype._loadUserData=function(A,e){var t=this;A.setResponseType(""),A.load(e.userDataUrl(),function(A){t.userDataReader=new zm.UserDataReader(A),t._onTaskFinished()})},zm.ModelGroupLoader.prototype._loadMpks=function(A,e,t){for(var i=this.taskManager,n=0;n<t;n+=1)i.addTask(n);i.processTasks()},zm.ModelGroupLoader.prototype._loadGeometrie=function(A,e,t){var s=this;if(Ah.getDataFromIndexedDB&&!this.offLine){var i=this.url,n=[],o=[];n.push(o);for(var r=0,a=0;a<t.length;a+=1)r<50||(n.push(o=[]),r=0),r+=1,o.push(i.mpkUrl(t[a]));var l=this.model.getStorage();if(l)for(var c=function(A,e){var a=n[e];l.getBatch(a,function(e){for(var A=function(A){if(-1===(o=a[A].indexOf("fileKey=")))return Gh.error("url is net has fileKey"),{v:void 0};var t=a[A].slice(o+8);if(e[a[A]])if(!0===e[a[A]].split){var i=e[a[A]].list,n=new Uint8Array(e[a[A]].length);l.getBatch(i,function(A){for(var e=0;e<i.length;e+=1)A[i[e]]?n.set(new Uint8Array(A[i[e]]),4e7*e):Gh.error("获取分割几何失败");s._parseGeometrie(n.buffer,t),Gh.debug("load geo from local"),s._onTaskFinished()},function(){Gh.error("获取分割几何失败")})}else s._parseGeometrie(e[a[A]],t),Gh.debug("load geo from local"),s._onTaskFinished();else{if(r=s.taskGeometrieManager,-1===a[A].indexOf("fileKey="))return Gh.error("url is net has fileKey"),{v:void 0};r.addTask(t),Gh.debug("load geo from net")}},t=0;t<a.length;t+=1){var o,r,i=A(t);if("object"===Bh(i))return i.v}s.taskGeometrieManager.processTasks(s.loadGeometrie.bind(s))},function(){for(var A=s.taskGeometrieManager,e=0;e<t.length;e+=1)A.addTask(t[e]);A.processTasks(s.loadGeometrie.bind(s))})},d=0,h=n.length;d<h;d+=1)c(0,d)}else{for(var u=this.taskGeometrieManager,p=0;p<t.length;p+=1)u.addTask(t[p]);u.processTasks(s.loadGeometrie.bind(s))}},zm.ModelGroupLoader.prototype._loadKDTree=function(A,e,t){var r=this;if(Ah.getDataFromIndexedDB&&!this.offLine){var i=this.url,n=[],o=[];n.push(o);for(var a=0,s=0;s<t.length;s+=1)a<50||(n.push(o=[]),a=0),a+=1,o.push(i.mpkUrl(t[s]));var l=this.model.getStorage();if(l)for(var c=function(A,e){var o=n[e];l.getBatch(o,function(A){for(var e=0;e<o.length;e+=1){var t=o[e].indexOf("fileKey=");if(-1===t)return void Gh.error("url is net has fileKey");var i=o[e].slice(t+8);if(A[o[e]])r._parseKDTree(A[o[e]],i),Gh.debug("load kdtree from local"),r._onTaskFinished();else{var n=r.taskComponentManager;if(-1===o[e].indexOf("fileKey="))return void Gh.error("url is net has fileKey");n.addTask(i),n.processTasks(r.loadKDTree.bind(r)),Gh.debug("load kdtree from net")}}},function(){for(var A=r.taskComponentManager,e=0;e<t.length;e+=1)A.addTask(t[e]);A.processTasks(r.loadKDTree.bind(r))})},d=0,h=n.length;d<h;d+=1)c(0,d)}else{for(var u=this.taskComponentManager,p=0;p<t.length;p+=1)u.addTask(t[p]);u.processTasks(r.loadKDTree.bind(r))}},zm.ModelGroupLoader.prototype._loadBones=function(A,e,t){var n=this;if(Ah.getDataFromIndexedDB&&!this.offLine){for(var i=this.url,o=[],r=0;r<t.length;r+=1)o.push(i.bonesUrl(t[r]));var a=this.model.getStorage();a&&a.getBatch(o,function(A){for(var e=0;e<o.length;e+=1){var t=o[e].indexOf("fileKey=");if(-1===t)return void Gh.error("url is net has fileKey");var i=o[e].slice(t+8);if(A[o[e]])n._parseBones(A[o[e]],i),Gh.debug("load Bones from local"),n._onTaskFinished();else{if(-1===o[e].indexOf("fileKey="))return void Gh.error("url is net has fileKey");n.loadBones(o[e].slice(t+8),function(){}),Gh.debug("load Bones from net")}}},function(){for(var A=0;A<t.length;A+=1)n.loadBones(t[A],function(){})})}else{for(var s=this.taskComponentManager,l=0;l<t.length;l+=1)s.addTask(t[l]);s.processTasks(n.loadBones.bind(n))}},zm.ModelGroupLoader.prototype._loadClips=function(A,e,t){var n=this;if(Ah.getDataFromIndexedDB&&!this.offLine){for(var i=this.url,o=[],r=0;r<t.length;r+=1)o.push(i.clipsUrl(t[r]));var a=this.model.getStorage();a&&a.getBatch(o,function(A){for(var e=0;e<o.length;e+=1){var t=o[e].indexOf("fileKey=");if(-1===t)return void Gh.error("url is net has fileKey");var i=o[e].slice(t+8);if(A[o[e]])n._parseClips(A[o[e]],i),Gh.debug("load Clips from local"),n._onTaskFinished();else{if(-1===o[e].indexOf("fileKey="))return void Gh.error("url is net has fileKey");n.loadClips(o[e].slice(t+8),function(){}),Gh.debug("load Clips from net")}}},function(){for(var A=0;A<t.length;A+=1)n.loadClips(t[A],function(){})})}else{for(var s=this.taskComponentManager,l=0;l<t.length;l+=1)s.addTask(t[l]);s.processTasks(n.loadClips.bind(n))}},zm.ModelGroupLoader.prototype._loadNodes=function(A,e,t){var n=this;if(Ah.getDataFromIndexedDB&&!this.offLine){for(var i=this.url,o=[],r=0;r<t.length;r+=1)o.push(i.nodesUrl(t[r]));var a=this.model.getStorage();a&&a.getBatch(o,function(A){for(var e=0;e<o.length;e+=1){var t=o[e].indexOf("fileKey=");if(-1===t)return void Gh.error("url is net has fileKey");var i=o[e].slice(t+8);if(A[o[e]])n._parseNodes(A[o[e]],i),Gh.debug("load Nodes from local"),n._onTaskFinished();else{if(-1===o[e].indexOf("fileKey="))return void Gh.error("url is net has fileKey");n.loadNodes(o[e].slice(t+8),function(){}),Gh.debug("load Nodes from net")}}},function(){for(var A=0;A<t.length;A+=1)n.loadNodes(t[A],function(){})})}else{for(var s=this.taskComponentManager,l=0;l<t.length;l+=1)s.addTask(t[l]);s.processTasks(n.loadNodes.bind(n))}},zm.ModelGroupLoader.prototype._loadComponent=function(A,e,t){var r=this;if(Ah.getDataFromIndexedDB&&!this.offLine){var i=this.url,n=[],o=[];n.push(o);for(var a=0,s=0;s<t.length;s+=1)a<50||(n.push(o=[]),a=0),a+=1,o.push(i.mpkUrl(t[s]));var l=this.model.getStorage();if(l)for(var c=function(A,e){var o=n[e];l.getBatch(o,function(A){for(var e=0;e<o.length;e+=1){var t=o[e].indexOf("fileKey=");if(-1===t)return void Gh.error("url is net has fileKey");var i=o[e].slice(t+8);if(A[o[e]])r._parseComponent(A[o[e]],i),Gh.debug("load com from local"),r._onTaskFinished();else{var n=r.taskComponentManager;if(-1===o[e].indexOf("fileKey="))return void Gh.error("url is net has fileKey");n.addTask(i),n.processTasks(r.loadComponent.bind(r)),Gh.debug("load com from net")}}},function(){for(var A=r.taskComponentManager,e=0;e<t.length;e+=1)A.addTask(t[e]);A.processTasks(r.loadComponent.bind(r))})},d=0,h=n.length;d<h;d+=1)c(0,d)}else{for(var u=this.taskComponentManager,p=0;p<t.length;p+=1)u.addTask(t[p]);u.processTasks(r.loadComponent.bind(r))}},zm.ModelGroupLoader.prototype._loadMaterial=function(A,e,t){var o=this;if(Ah.getDataFromIndexedDB&&!this.offLine){for(var i=this.url,r=[],n=0;n<t.length;n+=1)r.push(i.mpkUrl(t[n]));var a=this.model.getStorage();a&&a.getBatch(r,function(A){for(var e=0;e<r.length;e+=1){var t=r[e].indexOf("fileKey=");if(-1===t)return void Gh.error("url is net has fileKey");var i=r[e].slice(t+8);if(A[r[e]])o._parseMaterial(A[r[e]],i),Gh.debug("load mat from local"),o._onTaskFinished();else{var n=o.taskMaterialManager;if(-1===r[e].indexOf("fileKey="))return void Gh.error("url is net has fileKey");n.addTask(i),n.processTasks(o.loadMaterial.bind(o)),Gh.debug("load mat from net")}}},function(){for(var A=o.taskMaterialManager,e=0;e<t.length;e+=1)A.addTask(t[e]);A.processTasks(o.loadMaterial.bind(o))})}else{for(var s=this.taskMaterialManager,l=0;l<t.length;l+=1)s.addTask(t[l]);s.processTasks(o.loadMaterial.bind(o))}},zm.ModelGroupLoader.prototype._loadTextures=function(A,e,t){var s=this.model.materialManager.textures,l=this;if(Ah.getDataFromIndexedDB&&!this.offLine){for(var i=this.url,c=[],n=0;n<t.length;n+=1)c.push(i.mpkUrl(t[n]));var o=this.model.getStorage();o&&o.getBatch(c,function(e){for(var t=0;t<c.length;t+=1)if(e[c[t]]){var A=c[t].indexOf("fileKey=");if(-1===A)return void Gh.error("url is net has fileKey");var i=c[t].slice(A+8),n=new Ye;Gh.debug("load tex from local"),s[i]=n;var o=document.createElement("img");n.wrapS=n.wrapT=B,o.onload=function(A){"string"!=typeof e[c[t]]&&window.URL.revokeObjectURL(o.src),l.model.textureNeedsUpdate=!0,l._onTaskFinished()},o.onerror=function(A){l.model.dispatchEventEx({type:ch.LOAD_TEXTURE_ERROR})},o.src="string"==typeof e[c[t]]?e[c[t]]:window.URL.createObjectURL(e[c[t]]),n.image=o,n.needsUpdate=!0}else{var r=l.taskTexturesManager,a=c[t].indexOf("fileKey=");if(-1===a)return void Gh.error("url is net has fileKey");r.addTask(c[t].slice(a+8)),r.processTasks(l.loadTextures.bind(l)),Gh.debug("load tex from net")}},function(){for(var A=l.taskTexturesManager,e=0;e<t.length;e+=1)A.addTask(t[e]);A.processTasks(l.loadTextures.bind(l))})}else{for(var r=this.taskTexturesManager,a=0;a<t.length;a+=1)r.addTask(t[a]);r.processTasks(l.loadTextures.bind(l))}},zm.ModelGroupLoader.prototype._parseGeometrie=function(A,e){for(var t=this.fileKeyFromModelKey[e]||"",i=new Hm.GeometryReader(A,this.modelDataVersion[t]),n=this.model.getModelDescriptor(),o=i.geoCount,r=0;r<o;r+=1){var a=i.geomMap[r];void 0!==a.position&&void 0!==a.index&&void 0!==a.normal?n.cacheReferencedMeshBufferData(t+a.geoId,a):Gh.error("Error Geometry!")}i=null},zm.ModelGroupLoader.prototype._parseMaterial=function(A,e){var t=this.model.getModelDescriptor(),i=new Gm(A,this.modelDataVersion[this.fileKeyFromModelKey[e]||""]);if(Array.isArray(i.materialMap)){var n=i.materialCount;if(n<0)return;for(var o=0;o<n;o+=1){var r=i.materialMap[o];t.cacheReferencedMeshMaterialData(r.matId,r)}}else for(var a in i.materialMap)t.cacheReferencedMeshMaterialData(a,i.materialMap[a]);i=null},zm.ModelGroupLoader.prototype._parseComponent=function(A,e){if(A){for(var t=new Vm(A),i=t.compArr.length,n=this.model.getModelDescriptor(),o=this.fileKeyFromModelKey[e]||"",r=0;r<i;r+=1){var a=t.compArr[r];-1!==a.geoId&&(a.geoId=o+a.geoId,this.model.submodel[o]=this.model.submodel[o]||[],this.model.submodel[o].push(a.key)),n.cacheReferencedMeshComponentData(a.key,a)}t=null}else Gh.error("没有数据")},zm.ModelGroupLoader.prototype._parseKDTree=function(A,e){var t={};if(t="string"==typeof A?JSON.parse(A):A,this.model.kdTreeNode=this.model.kdTreeNode||[],t){var i=new Lg;i.init(t),this.model.kdTreeNode.push(i)}},zm.ModelGroupLoader.prototype._parseNodes=function(A,e){var t=this.model.getModelDescriptor(),i={};i="string"==typeof A?JSON.parse(A):A,Gh.debug("nodes",i),t.cacheReferencedMeshNodesData(i)},zm.ModelGroupLoader.prototype._parseClips=function(A,e){var t=this.model.getModelDescriptor(),i={};i="string"==typeof A?JSON.parse(A):A,Gh.debug("clips",i),t.cacheReferencedMeshClipsData(i)},zm.ModelGroupLoader.prototype._parseBones=function(A,e){for(var t=new Hm.BoneReader(A),i=this.model.getModelDescriptor(),n=t.boneCount,o=0;o<n;o+=1){var r=t.boneMap[o];Gh.debug("bones",r),i.cacheReferencedMeshBoneBufferData(r.geoId,r)}t=null},zm.ModelGroupLoader.prototype._parseOctree=function(A,a,e){function l(A,e){A.childStart=e.child_s,A.childEnd=e.child_e,a&&e.boundingBox.applyMatrix4(a);var t=A.min=e.boundingBox.min,i=A.max=e.boundingBox.max;A.center=new Ue(.5*(i.x+t.x),.5*(i.y+t.y),.5*(i.z+t.z));var n=i.x-t.x,o=i.y-t.y,r=i.z-t.z;A.size=n*n+o*o+r*r}var t=null,i=new zm.OctreeReader(A);if(0<i.getCount()){var n=i.getNode(0);l(t=new zm.OctreeNode(n.cell_id,0),n),function A(e,t){for(var i,n,o=e.childEnd,r=e.childStart;r<o;r+=1){var a=t.getNode(r),s=new zm.OctreeNode(a.cell_id,e.depth);l(s,a),e.add(s),n=e,(i=s).octType=0,i.center.x<n.center.x&&(i.octType+=1),i.center.y<n.center.y&&(i.octType+=2),i.center.z<n.center.z&&(i.octType+=4),s.updateMaxDepth(),A(s,t)}}(t,i)}e?this.octreeRootNodeI=t:this.octreeRootNode=t,Gh.log("Maximum Depth:",Ah.MaximumDepth)},zm.ModelGroupLoader.prototype.destroyReader=function(){this.userIdReader=null,this.userDataReader=null,this.symbolReader=null,this.sceneReaderArray=null},zm.ModelGroupLoader.prototype.destroy=function(){this.taskManager=null,this.url=null,this.model=null,this.loader=null,this.octreeRootNode=null,this.octreeRootNodeI=null,this.userIdReader=null,this.userDataReader=null,this.symbolReader=null,this.sceneReader=null},zm.ModelGroupLoader.prototype.getOctreeRootNodeInner=function(){return this.octreeRootNodeI},zm.ModelGroupLoader.prototype.getOctreeRootNodeOuter=function(){return this.octreeRootNode},zm.ModelGroupLoader.prototype.getSceneReaderArray=function(){return this.sceneReader},zm.ModelGroupLoader.prototype.getSymbolReader=function(){return this.symbolReader},zm.ModelGroupLoader.prototype.getUserIdReader=function(){return this.userIdReader},zm.ModelGroupLoader.prototype.getUserDataReader=function(){return this.userDataReader},zm.ModelGroupLoader.prototype.setCrossOrigin=function(A){this.loader.setCrossOrigin(A)},zm.ModelGroupLoader.prototype.load=function(A){var c=this,d=this.url,h=this.model;this.notifyProgress=A,h.dispatchEventEx({type:lh.ON_LOAD_START,modelKey:h.modelKey});var e=function(A){var e={};if("string"==typeof A)try{e=JSON.parse(A)}catch(A){return void h.dispatchEventEx({type:lh.ON_LOAD_INVALID_SCENE,modelKey:h.modelKey})}else e=A;if(e&&"SUCCESS"===e.code){if(Ah.offLine)c.model.getStorage().put(d.projectUrl(),e,c.model.modelKey,function(){},function(){});var t=e.data.scene||null;if(-1===Number(e.data.status))return void h.dispatchEventEx({type:ch.PARSEFAILE,modelKey:h.modelKey});if(Number(e.data.status)<3)return void h.dispatchEventEx({type:ch.PARSING,modelKey:h.modelKey});c.dataVersion=e.data.profiles.geo,d.apiVersion=Number(e.data.profiles.api),c.model.dataVersion=c.dataVersion,c.model.boundingBoxWorld=new ni(new Ue(e.data.minBoundary.x,e.data.minBoundary.y,e.data.minBoundary.z),new Ue(e.data.maxBoundary.x,e.data.maxBoundary.y,e.data.maxBoundary.z)),h.parseRootNode(e.data),c.sceneReader=e.data,e.data.hasAnimation?(c.model.hasAnimation=!0,c.model.setDataType(Dm.EnumDataType.ANIMATION),c.parseScene(t,e.data.animation)):c.parseScene(t),h.setModelConfig(e.data),h.dispatchEventEx({type:lh.ON_LOAD_CONFIG_FINISH,modelKey:h.modelKey})}else Gh.log(h.modelKey,"config load error! ",e.message),h.dispatchEventEx({type:lh.ON_LOAD_ERROR,modelKey:h.modelKey,code:e.code,message:e.message})};if(Ah.offLine){var t=this.model.getStorage();t&&t.getBatch([d.projectUrl()],function(A){A[d.projectUrl()]?e(A[d.projectUrl()]):Bu({type:"GET",url:d.projectUrl(),headers:{Authorization:h.accessToken},success:e,error:function(A){h.dispatchEventEx({type:lh.ON_NETWORK_ERROR,modelKey:h.modelKey,data:A})}})},function(){})}else{for(var n=[],i=function(){var i=h.modelKeys[o];n.push(new Promise(function(e,t){Bu({type:"GET",url:d.projectUrl(i),headers:{Authorization:h.accessToken},success:function(A){e({modelKey:i,data:A})},error:function(A,e){switch(A){case 401:h.dispatchEventEx({type:lh.ACCOUNT_NO_EXIST,modelKey:i,data:e});break;case 403:h.dispatchEventEx({type:lh.NO_PERMISSION,modelKey:i,data:e});break;default:h.dispatchEventEx({type:lh.ON_NETWORK_ERROR,modelKey:i,data:A})}t(A,e)}})}))},o=0;o<h.modelKeys.length;o+=1)i();Promise.all(n).then(function(A){for(var e=[],t=new ni,i=0,n={},o=0;o<A.length;o+=1)if(A[o]){var r=A[o].data,a=A[o].modelKey,s={};if("string"==typeof r)try{s=JSON.parse(r)}catch(A){return void h.dispatchEventEx({type:lh.ON_LOAD_INVALID_SCENE,modelKey:a})}else s=r;if(s&&"SUCCESS"===s.code){if(Ah.offLine)c.model.getStorage().put(d.projectUrl(),s,c.model.modelKey,function(){},function(){});var l=s.data.profiles.geo;e.push({scene:s.data.scene||null,modelKey:s.data.key,dataVersion:l}),n[c.modelDataVersion[s.data.key]=l]=!0;if(i+=s.data.componentCount,-1===Number(s.data.status))return void h.dispatchEventEx({type:ch.PARSEFAILE,modelKey:a});if(Number(s.data.status)<3)return void h.dispatchEventEx({type:ch.PARSING,modelKey:a});c.dataVersion=s.data.profiles.geo,d.apiVersion=Number(s.data.profiles.api),c.sceneReader=c.sceneReader||[],c.sceneReader.push(s.data),t.expandByPoint(new Ue(s.data.minBoundary.x,s.data.minBoundary.y,s.data.minBoundary.z)),t.expandByPoint(new Ue(s.data.maxBoundary.x,s.data.maxBoundary.y,s.data.maxBoundary.z)),c.model.boundingBoxWorld=t,h.setModelConfig(s.data),h.parseRootNode(s.data)}else Gh.log(h.modelKey,"config load error! ",s.message),h.dispatchEventEx({type:lh.ON_LOAD_ERROR,modelKey:a,code:s.code,message:s.message})}c.model.dataVersion=1<Object.keys(n).length?"1.0":"2.0",c.model.boundingBoxWorld=t,c.model.componentCount=i,h.dispatchEventEx({type:lh.ON_LOAD_CONFIG_FINISH,modelKey:h.modelKey}),c.parseScene(e)}).catch(function(A){console.log(A)})}},zm.ModelGroupLoader.prototype.loadGeometrie=function(e,i){var n=this,A=this.loader,t=this.url,o=this.model,r=Ah.MpkWorkerUrl;Ah.UseMpkWorker?(A.setResponseType("arraybuffer"),A.load(t.mpkUrl(e),function(A){var e=new Worker(r);e.onmessage=function(A){var e=A.data;for(var t in e)e.hasOwnProperty(t);i(),n._onTaskFinished()},e.postMessage({msg:A})})):(A.setResponseType("arraybuffer"),A.setCacheViable(!this.offLine),A.load(t.mpkUrl(e),function(A){n._parseGeometrie(A,e,e),Gh.debug("geo load from online"),i(),n._onTaskFinished()},void 0,function(A){o.dispatchEventEx({type:ch.LOAD_GEOMETRY_ERROR,modelKey:o.modelKey})}))},zm.ModelGroupLoader.prototype.loadMaterial=function(e,i){var n=this,A=this.loader,t=this.url,o=this.model,r=Ah.MpkWorkerUrl;Ah.UseMpkWorker?(A.setResponseType("arraybuffer"),A.load(t.mpkUrl(e),function(A){var e=new Worker(r);e.onmessage=function(A){var e=A.data;for(var t in e)e.hasOwnProperty(t);i(),n._onTaskFinished()},e.postMessage({msg:A})})):(A.setResponseType("2.0"===n.modelDataVersion[n.fileKeyFromModelKey[e]||""]?"json":"arraybuffer"),A.setCacheViable(!this.offLine),A.load(t.mpkUrl(e),function(A){n._parseMaterial(A,e),Gh.debug("met  load from online"),i(),n._onTaskFinished()},void 0,function(A){o.dispatchEventEx({type:ch.LOAD_MATERIAL_ERROR,modelKey:o.modelKey})}))},zm.ModelGroupLoader.prototype.loadTextures=function(i,n){var o=this.model.materialManager.textures,r=this,A=this.Textureloader,e=this.url,a=this.model,t=Ah.MpkWorkerUrl;Ah.UseMpkWorker?A.load(e.mpkUrl(i),function(A){var e=new Worker(t);e.onmessage=function(A){var e=A.data;for(var t in e)e.hasOwnProperty(t);n(),r._onTaskFinished()},e.postMessage({msg:A})}):(A.setResponseType("blob"),A.setMimeType("text/plain"),A.setCacheViable(!this.offLine),A.load(e.textureUrl(i),function(e){Gh.debug("tex load from online");var A=new Ye;(o[i]=A).wrapS=A.wrapT=B;var t=document.createElement("img");t.onload=function(A){"string"!=typeof e&&window.URL.revokeObjectURL(t.src),n(),r.model.textureNeedsUpdate=!0,r._onTaskFinished()},t.onerror=function(A){a.dispatchEventEx({type:ch.LOAD_TEXTURE_ERROR,modelKey:a.modelKey})},t.src="string"==typeof e?e:window.URL.createObjectURL(e),A.image=t,A.needsUpdate=!0},void 0,function(A){a.dispatchEventEx({type:ch.LOAD_TEXTURE_ERROR,modelKey:a.modelKey})}))},zm.ModelGroupLoader.prototype.loadComponent=function(e,i){var n=this,A=this.jsonLoader,t=this.model,o=this.url,r=Ah.MpkWorkerUrl;Ah.UseMpkWorker?(A.setResponseType("json"),A.load(o.mpkUrl(e),function(A){var e=new Worker(r);e.onmessage=function(A){var e=A.data;for(var t in e)e.hasOwnProperty(t);i(),n._onTaskFinished()},e.postMessage({msg:A})},function(A){})):(A.setResponseType("json"),A.setCacheViable(!this.offLine),A.load(o.mpkUrl(e),function(A){n._parseComponent(A,e),Gh.debug("component load from online"),i(),n._onTaskFinished()},void 0,function(A){t.dispatchEventEx({type:ch.LOAD_COMPONENT_ERROR,modelKey:t.modelKey})}))},zm.ModelGroupLoader.prototype.loadKDTree=function(e,i){var n=this,A=this.loader,t=this.model,o=this.url,r=Ah.MpkWorkerUrl;Ah.UseMpkWorker?(A.setResponseType("json"),A.load(o.mpkUrl(e),function(A){var e=new Worker(r);e.onmessage=function(A){var e=A.data;for(var t in e)e.hasOwnProperty(t);i(),n._onTaskFinished()},e.postMessage({msg:A})},function(A){})):(A.setResponseType("json"),A.setCacheViable(!this.offLine),A.load(o.kdTreeUrl(e),function(A){n._parseKDTree(A,e),Gh.debug("kdtree load from online"),i(),n._onTaskFinished()},void 0,function(A){t.dispatchEventEx({type:ch.LOAD_COMPONENT_ERROR,modelKey:t.modelKey})}))},zm.ModelGroupLoader.prototype.loadBones=function(e,i){var n=this,A=this.loader,t=this.model,o=this.url,r=Ah.MpkWorkerUrl;Ah.UseMpkWorker?(A.setResponseType("arraybuffer"),A.load(o.bonesUrl(e),function(A){var e=new Worker(r);e.onmessage=function(A){var e=A.data;for(var t in e)e.hasOwnProperty(t);i(),n._onTaskFinished()},e.postMessage({msg:A})},function(A){})):(A.setResponseType("arraybuffer"),A.setCacheViable(!this.offLine),A.load(o.bonesUrl(e),function(A){n._parseBones(A,e),Gh.debug("bones load from online"),i(),n._onTaskFinished()},void 0,function(A){t.dispatchEventEx({type:ch.LOAD_COMPONENT_ERROR,modelKey:t.modelKey})}))},zm.ModelGroupLoader.prototype.loadClips=function(e,i){var n=this,A=this.loader,t=this.model,o=this.url,r=Ah.MpkWorkerUrl;Ah.UseMpkWorker?(A.setResponseType("json"),A.load(o.mpkUrl(e),function(A){var e=new Worker(r);e.onmessage=function(A){var e=A.data;for(var t in e)e.hasOwnProperty(t);i(),n._onTaskFinished()},e.postMessage({msg:A})},function(A){})):(A.setResponseType("json"),A.setCacheViable(!this.offLine),A.load(o.clipsUrl(e),function(A){n._parseClips(A,e),Gh.debug("Clips load from online"),i(),n._onTaskFinished()},void 0,function(A){t.dispatchEventEx({type:ch.LOAD_COMPONENT_ERROR,modelKey:t.modelKey})}))},zm.ModelGroupLoader.prototype.loadNodes=function(e,i){var n=this,A=this.loader,t=this.model,o=this.url,r=Ah.MpkWorkerUrl;Ah.UseMpkWorker?(A.setResponseType("json"),A.load(o.mpkUrl(e),function(A){var e=new Worker(r);e.onmessage=function(A){var e=A.data;for(var t in e)e.hasOwnProperty(t);i(),n._onTaskFinished()},e.postMessage({msg:A})},function(A){})):(A.setResponseType("json"),A.setCacheViable(!this.offLine),A.load(o.nodesUrl(e),function(A){n._parseNodes(A,e),Gh.debug("Nodes load from online"),i(),n._onTaskFinished()},void 0,function(A){t.dispatchEventEx({type:ch.LOAD_COMPONENT_ERROR,modelKey:t.modelKey})}))},zm.ModelGroupLoader.prototype.loadAttribute=function(A,i){var n=this,e=this.loader,t=this.model,o=this.url,r=Ah.MpkWorkerUrl;Ah.UseMpkWorker?(e.setResponseType("json"),e.load(o.mpkUrl(A),function(A){var e=new Worker(r);e.onmessage=function(A){var e=A.data;for(var t in e)e.hasOwnProperty(t);i(),n._onTaskFinished()},e.postMessage({msg:A})},function(A){})):(e.setResponseType("json"),e.setCacheViable(!this.offLine),e.load(o.attributeUrl(),function(A){if(A instanceof String)try{A=JSON.parse(A)}catch(A){}t.attributes=A,Gh.debug("Attribute load from online")},void 0,function(A){t.dispatchEventEx({type:ch.LOAD_COMPONENT_ERROR,modelKey:t.modelKey})}))},zm.ModelLoader=function(A,e){Gs.call(this),this.model=A,this.offLine=e.offLine,this.dataVersion=null,this.defaultLevel="level5",this.storage=A.getStorage(),this.taskComponentManager=new Wm(this,"component"),this.taskGeometrieManager=new Wm(this,"geometrie"),this.taskMaterialManager=new Wm(this,"material"),this.taskTexturesManager=new Wm(this,"textures"),this.url=new zm.Url(e.serverUrl,e.modelKey,e.dbName),this.url.offLine=this.offLine,this.loader=new km(this),this.Textureloader=new km(this),this.jsonLoader=new km(this),this.loadTaskCount=0,this.maxLoadTaskCount=0,this.octreeRootNode=null,this.octreeRootNodeI=null,this.symbolReader=null,this.userIdReader=null,this.userDataReader=null,this.sceneReader=null,this.progress={total:0,loaded:0,failed:0},this.requests={}},zm.ModelLoader.prototype=Object.create(Gs.prototype),zm.ModelLoader.prototype.constructor=zm.ModelLoader,zm.ModelLoader.prototype.getStorage=function(){return this.storage},zm.ModelLoader.prototype._onTaskFinished=function(){var A=this.model;this.loadTaskCount+=1;var e=this.dealProgressSegment(A,this.loadTaskCount);this.notifyProgress&&A.dispatchEventEx({type:lh.ON_LOAD_PROGRESS,progress:{total:this.maxLoadTaskCount,loaded:e,modelKey:A.modelKey},modelKey:A.modelKey});this.loadTaskCount<this.maxLoadTaskCount||(Gh.timeEnd("数据加载时间"),this._dataLoaded=!0,this._loadingOnDemand=!1,A.prepareData())},zm.ModelLoader.prototype.dealProgressSegment=function(A,e){return A.merged?A.isLayerData()?this._loadingOnDemand?e*A.progressPercentage.load:e:e*A.progressPercentage.load:e},zm.ModelLoader.prototype.getDataProvider=function(A){return Ah.DataProvider===bh.MERGED?bh.MERGED:Ah.DataProvider===bh.LAYER&&A.layers?bh.LAYER:bh.DEFAULT},zm.ModelLoader.prototype._loadScene=function(A,e,t){var i=this;A.setResponseType("arraybuffer"),A.load(e.sceneUrl(t),function(A){var e=new zm.SceneReader(A),t=e.header.blockId;t<i.sceneCount&&(i.sceneReader[t]=e),e=null,i._onTaskFinished()})},zm.ModelLoader.prototype.parseScene=function(A,e,t){var i=this.url,n=this.loader,o=this,r=this.model;if(!(A&&A.components&&A.geometries&&A.materials&&A.textures))return r.emptyScene=!0,Gh.error("scene is null,modelKey is ",r.modelKey),void r.dispatchEventEx({type:lh.ON_LOAD_EMPTY_SCENE,modelKey:r.modelKey});t&&Ah.UseLods&&(A=t[o.defaultLevel]?t[o.defaultLevel]:A);var a=0,s=0,l=0,c=A.components.length||0,d=A.geometries.length||0,h=A.materials.length||0,u=A.textures.length||0,p=[],g=[],f=[],m=[],v=[],y=[],C=A.textures,I=[];if(this.map={},"2.0"!==o.dataVersion){for(var x=0;x<c;x+=1)A.components[x].fileKey?p.push(A.components[x].fileKey):r.dispatchEventEx({type:ch.SCENE_NOT_CLOSE,modelKey:r.modelKey});for(var b=0;b<d;b+=1)A.geometries[b].fileKey?g.push(A.geometries[b].fileKey):r.dispatchEventEx({type:ch.SCENE_NOT_CLOSE,modelKey:r.modelKey});for(var E=0;E<h;E+=1)A.materials[E].fileKey?f.push(A.materials[E].fileKey):r.dispatchEventEx({type:ch.SCENE_NOT_CLOSE,modelKey:r.modelKey})}else p=A.components,g=A.geometries,f=A.materials;A.map&&(this.map=A.map);var w=this.model.getLayerProvider();if(w&&(w.cachedLayerData=this.map),0<A.trees.length)for(var M=0;M<A.trees.length;M+=1){var B=A.trees[M];"partition"===B.type&&I.push(B.fileKey)}if(e&&(a=e.bones.length,l=s=1,m=e.bones,v.push(e.clips),y.push(e.nodes)),o.maxLoadTaskCount=0,o.maxLoadTaskCount+=c,Ah.LoadComponentOnDemand||(o.maxLoadTaskCount+=d),o.maxLoadTaskCount+=h,o.maxLoadTaskCount+=u,o.maxLoadTaskCount+=a,o.maxLoadTaskCount+=s,o.maxLoadTaskCount+=l,o.maxLoadTaskCount+=I.length,o.maxLoadTaskCount<1)return Gh.info("Nothing to load ",r.modelKey),void r.dispatchEventEx({type:ch.SCENE_NOTHING_TO_LOAD,modelKey:r.modelKey});o.progress.total+=o.maxLoadTaskCount,Gh.time("数据加载时间"),o._loadComponent(n,i,p),Ah.LoadComponentOnDemand||o._loadGeometrie(n,i,g),o._loadMaterial(n,i,f),o._loadTextures(n,i,C),o._loadKDTree(n,i,I),o._loadClips(n,i,v),o._loadBones(n,i,m),o._loadNodes(n,i,y),o.offLine&&o.loadAttribute()},zm.ModelLoader.prototype._loadSymbol=function(A,e){var t=this;A.setResponseType("arraybuffer"),A.load(e.symbolUrl(),function(A){t.symbolReader=new zm.SymbolReader(A),t._onTaskFinished()})},zm.ModelLoader.prototype._loadOctreeInner=function(A,e,t){var i=this;A.load(e.octreeUrl("i"),function(A){i._parseOctree(A,t,!0),i._onTaskFinished()})},zm.ModelLoader.prototype._loadOctreeOuter=function(A,e,t){var i=this;A.load(e.octreeUrl("o"),function(A){i._parseOctree(A,t,!1),i._onTaskFinished()})},zm.ModelLoader.prototype._loadUserId=function(A,e){var t=this;A.setResponseType("arraybuffer"),A.load(e.userIdUrl(),function(A){t.userIdReader=new zm.IdReader(A),t._onTaskFinished()},void 0,function(A){t._onTaskFinished()})},zm.ModelLoader.prototype._loadUserData=function(A,e){var t=this;A.setResponseType(""),A.load(e.userDataUrl(),function(A){t.userDataReader=new zm.UserDataReader(A),t._onTaskFinished()})},zm.ModelLoader.prototype._loadTexture=function(A,e,t,i){for(var n=this,o=this.model.getComponentCache(),r=0;r<A.length;r+=1){var a=this.url.textureUrl(A[r]),s=null,l=ec.Handlers.get();null!==l?s=l.load(a,e):(s=new Ye,o.textures[A[r]]=s,(l=new zm.ImageLoader(this)).setCrossOrigin("anonymous"),l.load(a,function(A){s.image=xu.ensurePowerOfTwo(A),s.needsUpdate=!0,e&&e(s),n._onTaskFinished()},t,i))}},zm.ModelLoader.prototype._loadMpks=function(A,e,t){for(var i=this.taskManager,n=0;n<t;n+=1)i.addTask(n);i.processTasks()},zm.ModelLoader.prototype._loadGeometrie=function(A,e,t){var s=this;if(Ah.getDataFromIndexedDB&&!this.offLine){for(var i=this.url,l=[],n=0;n<t.length;n+=1)l.push(i.mpkUrl(t[n]));var c=this.model.getStorage();c&&c.getBatch(l,function(A){for(var e=function(i){if(A[l[i]])if(!0===A[l[i]].split){var n=A[l[i]].list,o=new Uint8Array(A[l[i]].length);c.getBatch(n,function(A){for(var e=0;e<n.length;e+=1)A[n[e]]?o.set(new Uint8Array(A[n[e]]),4e7*e):Gh.error("获取分割几何失败");var t=l[i].indexOf("fileKey=");s._parseGeometrie(o.buffer,l[i].slice(t+8)),Gh.debug("load geo from local"),s._onTaskFinished()},function(){Gh.error("获取分割几何失败")})}else a=l[i].indexOf("fileKey="),s._parseGeometrie(A[l[i]],l[i].slice(a+8)),Gh.debug("load geo from local"),s._onTaskFinished();else{if(r=s.taskGeometrieManager,-1===(a=l[i].indexOf("fileKey=")))return Gh.error("url is net has fileKey"),{v:void 0};r.addTask(l[i].slice(a+8)),Gh.debug("load geo from net")}},t=0;t<l.length;t+=1){var r,a,i=e(t);if("object"===Bh(i))return i.v}s.taskGeometrieManager.processTasks(s.loadGeometrie.bind(s))},function(){for(var A=s.taskGeometrieManager,e=0;e<t.length;e+=1)A.addTask(t[e]);A.processTasks(s.loadGeometrie.bind(s))})}else{for(var o=this.taskGeometrieManager,r=0;r<t.length;r+=1)o.addTask(t[r]);o.processTasks(s.loadGeometrie.bind(s))}},zm.ModelLoader.prototype._loadKDTree=function(A,e,t){var i=this;if(Ah.getDataFromIndexedDB&&!this.offLine){for(var n=this.url,o=[],r=0;r<t.length;r+=1)o.push(n.kdTreeUrl(t[r]));var a=this.model.getStorage();a&&a.getBatch(o,function(A){for(var e=0;e<o.length;e+=1)if(A[o[e]])i._parseKDTree(A[o[e]]),Gh.debug("load kdtree from local"),i._onTaskFinished();else{var t=o[e].indexOf("fileKey=");if(-1===t)return void Gh.error("url is net has fileKey");i.loadKDTree(o[e].slice(t+8),function(){}),Gh.debug("load kdtree from net")}},function(){for(var A=0;A<t.length;A+=1)i.loadKDTree(t[A],function(){})})}else{for(var s=this.taskComponentManager,l=0;l<t.length;l+=1)s.addTask(t[l]);s.processTasks(i.loadKDTree.bind(i))}},zm.ModelLoader.prototype._loadBones=function(A,e,t){var i=this;if(Ah.getDataFromIndexedDB&&!this.offLine){for(var n=this.url,o=[],r=0;r<t.length;r+=1)o.push(n.bonesUrl(t[r]));var a=this.model.getStorage();a&&a.getBatch(o,function(A){for(var e=0;e<o.length;e+=1)if(A[o[e]])i._parseBones(A[o[e]]),Gh.debug("load Bones from local"),i._onTaskFinished();else{var t=o[e].indexOf("fileKey=");if(-1===t)return void Gh.error("url is net has fileKey");i.loadBones(o[e].slice(t+8),function(){}),Gh.debug("load Bones from net")}},function(){for(var A=0;A<t.length;A+=1)i.loadBones(t[A],function(){})})}else{for(var s=this.taskComponentManager,l=0;l<t.length;l+=1)s.addTask(t[l]);s.processTasks(i.loadBones.bind(i))}},zm.ModelLoader.prototype._loadClips=function(A,e,t){var i=this;if(Ah.getDataFromIndexedDB&&!this.offLine){for(var n=this.url,o=[],r=0;r<t.length;r+=1)o.push(n.clipsUrl(t[r]));var a=this.model.getStorage();a&&a.getBatch(o,function(A){for(var e=0;e<o.length;e+=1)if(A[o[e]])i._parseClips(A[o[e]]),Gh.debug("load Clips from local"),i._onTaskFinished();else{var t=o[e].indexOf("fileKey=");if(-1===t)return void Gh.error("url is net has fileKey");i.loadClips(o[e].slice(t+8),function(){}),Gh.debug("load Clips from net")}},function(){for(var A=0;A<t.length;A+=1)i.loadClips(t[A],function(){})})}else{for(var s=this.taskComponentManager,l=0;l<t.length;l+=1)s.addTask(t[l]);s.processTasks(i.loadClips.bind(i))}},zm.ModelLoader.prototype._loadNodes=function(A,e,t){var i=this;if(Ah.getDataFromIndexedDB&&!this.offLine){for(var n=this.url,o=[],r=0;r<t.length;r+=1)o.push(n.nodesUrl(t[r]));var a=this.model.getStorage();a&&a.getBatch(o,function(A){for(var e=0;e<o.length;e+=1)if(A[o[e]])i._parseNodes(A[o[e]]),Gh.debug("load Nodes from local"),i._onTaskFinished();else{var t=o[e].indexOf("fileKey=");if(-1===t)return void Gh.error("url is net has fileKey");i.loadNodes(o[e].slice(t+8),function(){}),Gh.debug("load Nodes from net")}},function(){for(var A=0;A<t.length;A+=1)i.loadNodes(t[A],function(){})})}else{for(var s=this.taskComponentManager,l=0;l<t.length;l+=1)s.addTask(t[l]);s.processTasks(i.loadNodes.bind(i))}},zm.ModelLoader.prototype._loadComponent=function(A,e,t){var n=this;if(Ah.getDataFromIndexedDB&&!this.offLine){for(var i=this.url,o=[],r=0;r<t.length;r+=1)o.push(i.mpkUrl(t[r]));var a=this.model.getStorage();a&&a.getBatch(o,function(A){for(var e=0;e<o.length;e+=1)if(A[o[e]])n._parseComponent(A[o[e]]),Gh.debug("load com from local"),n._onTaskFinished();else{var t=n.taskComponentManager,i=o[e].indexOf("fileKey=");if(-1===i)return void Gh.error("url is net has fileKey");t.addTask(o[e].slice(i+8)),t.processTasks(n.loadComponent.bind(n)),Gh.debug("load com from net")}},function(){for(var A=n.taskComponentManager,e=0;e<t.length;e+=1)A.addTask(t[e]);A.processTasks(n.loadComponent.bind(n))})}else{for(var s=this.taskComponentManager,l=0;l<t.length;l+=1)s.addTask(t[l]);s.processTasks(n.loadComponent.bind(n))}},zm.ModelLoader.prototype._loadMaterial=function(A,e,t){var n=this;if(Ah.getDataFromIndexedDB&&!this.offLine){for(var i=this.url,o=[],r=0;r<t.length;r+=1)o.push(i.mpkUrl(t[r]));var a=this.model.getStorage();a&&a.getBatch(o,function(A){for(var e=0;e<o.length;e+=1)if(A[o[e]])n._parseMaterial(A[o[e]]),Gh.debug("load mat from local"),n._onTaskFinished();else{var t=n.taskMaterialManager,i=o[e].indexOf("fileKey=");if(-1===i)return void Gh.error("url is net has fileKey");t.addTask(o[e].slice(i+8)),t.processTasks(n.loadMaterial.bind(n)),Gh.debug("load mat from net")}},function(){for(var A=n.taskMaterialManager,e=0;e<t.length;e+=1)A.addTask(t[e]);A.processTasks(n.loadMaterial.bind(n))})}else{for(var s=this.taskMaterialManager,l=0;l<t.length;l+=1)s.addTask(t[l]);s.processTasks(n.loadMaterial.bind(n))}},zm.ModelLoader.prototype._loadTextures=function(A,e,t){var s=this.model.materialManager.textures,l=this;if(Ah.getDataFromIndexedDB&&!this.offLine){for(var i=this.url,c=[],n=0;n<t.length;n+=1)c.push(i.mpkUrl(t[n]));var o=this.model.getStorage();o&&o.getBatch(c,function(e){for(var t=0;t<c.length;t+=1)if(e[c[t]]){var A=c[t].indexOf("fileKey=");if(-1===A)return void Gh.error("url is net has fileKey");var i=c[t].slice(A+8),n=new Ye;Gh.debug("load tex from local"),s[i]=n;var o=document.createElement("img");n.wrapS=n.wrapT=B,o.onload=function(A){"string"!=typeof e[c[t]]&&window.URL.revokeObjectURL(o.src),l.model.textureNeedsUpdate=!0,l._onTaskFinished()},o.onerror=function(A){l.model.dispatchEventEx({type:ch.LOAD_TEXTURE_ERROR})},o.src="string"==typeof e[c[t]]?e[c[t]]:window.URL.createObjectURL(e[c[t]]),n.image=o,n.needsUpdate=!0}else{var r=l.taskTexturesManager,a=c[t].indexOf("fileKey=");if(-1===a)return void Gh.error("url is net has fileKey");r.addTask(c[t].slice(a+8)),r.processTasks(l.loadTextures.bind(l)),Gh.debug("load tex from net")}},function(){for(var A=l.taskTexturesManager,e=0;e<t.length;e+=1)A.addTask(t[e]);A.processTasks(l.loadTextures.bind(l))})}else{for(var r=this.taskTexturesManager,a=0;a<t.length;a+=1)r.addTask(t[a]);r.processTasks(l.loadTextures.bind(l))}},zm.ModelLoader.prototype._parseGeometrie=function(A,e){for(var t=new Hm.GeometryReader(A,this.dataVersion),i=this.model.getModelDescriptor(),n=t.geoCount,o=0;o<n;o+=1){var r=t.geomMap[o];void 0!==r.position&&void 0!==r.index&&void 0!==r.normal?(Ah.DEBUG&&window.geoidToFileKeyMap&&(window.geoidToFileKeyMap[r.geoId]=e),i.cacheReferencedMeshBufferData(r.geoId,r)):Gh.error("Error Geometry!")}t=null},zm.ModelLoader.prototype._parseMaterial=function(A,e){var t=this.model.getModelDescriptor(),i=new Gm(A,this.dataVersion);if(Array.isArray(i.materialMap)){var n=i.materialCount;if(n<0)return;for(var o=0;o<n;o+=1){var r=i.materialMap[o];t.cacheReferencedMeshMaterialData(r.matId,r)}}else for(var a in i.materialMap)t.cacheReferencedMeshMaterialData(a,i.materialMap[a]);i=null},zm.ModelLoader.prototype._parseComponent=function(A,e){if(A){for(var t=new Vm(A),i=t.compArr.length,n=this.model.getModelDescriptor(),o=0;o<i;o+=1){var r=t.compArr[o];n.cacheReferencedMeshComponentData(r.key,r)}t=null}else Gh.error("没有数据")},zm.ModelLoader.prototype._parseKDTree=function(A,e){var t={};t="string"==typeof A?JSON.parse(A):A,!this.model.kdTreeNode&&t&&(this.model.kdTreeNode=new Lg,this.model.kdTreeNode.init(t))},zm.ModelLoader.prototype._parseNodes=function(A,e){var t=this.model.getModelDescriptor(),i={};i="string"==typeof A?JSON.parse(A):A,Gh.debug("nodes",i),t.cacheReferencedMeshNodesData(i)},zm.ModelLoader.prototype._parseClips=function(A,e){var t=this.model.getModelDescriptor(),i={};i="string"==typeof A?JSON.parse(A):A,Gh.debug("clips",i),t.cacheReferencedMeshClipsData(i)},zm.ModelLoader.prototype._parseBones=function(A,e){for(var t=new Hm.BoneReader(A),i=this.model.getModelDescriptor(),n=t.boneCount,o=0;o<n;o+=1){var r=t.boneMap[o];Gh.debug("bones",r),i.cacheReferencedMeshBoneBufferData(r.geoId,r)}t=null},zm.ModelLoader.prototype._parseOctree=function(A,a,e){function l(A,e){A.childStart=e.child_s,A.childEnd=e.child_e,a&&e.boundingBox.applyMatrix4(a);var t=A.min=e.boundingBox.min,i=A.max=e.boundingBox.max;A.center=new Ue(.5*(i.x+t.x),.5*(i.y+t.y),.5*(i.z+t.z));var n=i.x-t.x,o=i.y-t.y,r=i.z-t.z;A.size=n*n+o*o+r*r}var t=null,i=new zm.OctreeReader(A);if(0<i.getCount()){var n=i.getNode(0);l(t=new zm.OctreeNode(n.cell_id,0),n),function A(e,t){for(var i,n,o=e.childEnd,r=e.childStart;r<o;r+=1){var a=t.getNode(r),s=new zm.OctreeNode(a.cell_id,e.depth);l(s,a),e.add(s),n=e,(i=s).octType=0,i.center.x<n.center.x&&(i.octType+=1),i.center.y<n.center.y&&(i.octType+=2),i.center.z<n.center.z&&(i.octType+=4),s.updateMaxDepth(),A(s,t)}}(t,i)}e?this.octreeRootNodeI=t:this.octreeRootNode=t,Gh.log("Maximum Depth:",Ah.MaximumDepth)},zm.ModelLoader.prototype.destroyReader=function(){this.userIdReader=null,this.userDataReader=null,this.symbolReader=null,this.sceneReaderArray=null},zm.ModelLoader.prototype.destroy=function(){for(var A in this.requests)this.requests.hasOwnProperty(A)&&(this.requests[A].abort&&this.requests[A].abort(),delete this.requests[A]);this.taskComponentManager.stop(),this.taskComponentManager=null,this.taskGeometrieManager.stop(),this.taskGeometrieManager=null,this.taskMaterialManager.stop(),this.taskMaterialManager=null,this.taskTexturesManager.stop(),this.taskTexturesManager=null,this.url=null,this.model=null,this.loader=null,this.Textureloader=null,this.jsonLoader=null,this.octreeRootNode=null,this.octreeRootNodeI=null,this.userIdReader=null,this.userDataReader=null,this.symbolReader=null,this.sceneReader=null},zm.ModelLoader.prototype.getOctreeRootNodeInner=function(){return this.octreeRootNodeI},zm.ModelLoader.prototype.getOctreeRootNodeOuter=function(){return this.octreeRootNode},zm.ModelLoader.prototype.getSceneReaderArray=function(){return this.sceneReader},zm.ModelLoader.prototype.getSymbolReader=function(){return this.symbolReader},zm.ModelLoader.prototype.getUserIdReader=function(){return this.userIdReader},zm.ModelLoader.prototype.getUserDataReader=function(){return this.userDataReader},zm.ModelLoader.prototype.setCrossOrigin=function(A){this.loader.setCrossOrigin(A)},zm.ModelLoader.prototype.load=function(A){var i=this,n=this.url,o=this.model;this.notifyProgress=A,o.dispatchEventEx({type:lh.ON_LOAD_START,modelKey:o.modelKey});var e=function(A){var e={};if("string"==typeof A)try{e=JSON.parse(A)}catch(A){return void o.dispatchEventEx({type:lh.ON_LOAD_INVALID_SCENE,modelKey:o.modelKey})}else e=A;if(e&&"SUCCESS"===e.code){if(Ah.offLine)i.model.getStorage().put(n.projectUrl(),e,i.model.modelKey,function(){},function(){});var t=e.data.scene||null;if(-1===Number(e.data.status))return void o.dispatchEventEx({type:ch.PARSEFAILE,modelKey:o.modelKey});if(Number(e.data.status)<3)return void o.dispatchEventEx({type:ch.PARSING,modelKey:o.modelKey});i.dataVersion=e.data.profiles.geo,n.apiVersion=Number(e.data.profiles.api),i.model.dataVersion=i.dataVersion,i.model.boundingBoxWorld=new ni(new Ue(e.data.minBoundary.x,e.data.minBoundary.y,e.data.minBoundary.z),new Ue(e.data.maxBoundary.x,e.data.maxBoundary.y,e.data.maxBoundary.z)),o.parseRootNode(e.data),i.sceneReader=e.data,e.data.hasAnimation?(i.model.hasAnimation=!0,i.model.setDataType(Dm.EnumDataType.ANIMATION),i.parseScene(t,e.data.animation)):i.parseScene(t),o.setModelConfig(e.data),o.dispatchEventEx({type:lh.ON_LOAD_CONFIG_FINISH,modelKey:o.modelKey})}else Gh.log(o.modelKey,"config load error! ",e.message),o.dispatchEventEx({type:lh.ON_LOAD_ERROR,modelKey:o.modelKey,code:e.code,message:e.message})};if(Ah.offLine){var t=this.model.getStorage();t&&t.getBatch([n.projectUrl()],function(A){A[n.projectUrl()]?e(A[n.projectUrl()]):Bu({type:"GET",url:n.projectUrl(),headers:{Authorization:o.accessToken},success:e,error:function(A){o.dispatchEventEx({type:lh.ON_NETWORK_ERROR,modelKey:o.modelKey,data:A})}})},function(){})}else Bu({type:"GET",url:n.projectUrl(),headers:{Authorization:o.accessToken},success:e,error:function(A,e){switch(A){case 401:o.dispatchEventEx({type:lh.ACCOUNT_NO_EXIST,modelKey:o.modelKey,data:e});break;case 403:o.dispatchEventEx({type:lh.NO_PERMISSION,modelKey:o.modelKey,data:e});break;default:o.dispatchEventEx({type:lh.ON_NETWORK_ERROR,modelKey:o.modelKey,data:A})}}})},zm.ModelLoader.prototype.loadGeometrie=function(e,i){var n=this,A=this.loader,t=this.url,o=this.model,r=Ah.MpkWorkerUrl;if(Ah.UseMpkWorker)A.setResponseType("arraybuffer"),A.load(t.mpkUrl(e),function(A){var e=new Worker(r);e.onmessage=function(A){var e=A.data;for(var t in e)e.hasOwnProperty(t);i(),n._onTaskFinished()},e.postMessage({msg:A})});else{A.setResponseType("arraybuffer"),A.setCacheViable(!this.offLine);var a=A.load(t.mpkUrl(e),function(A){n._parseGeometrie(A,e),Gh.debug("geo load from online"),i(),n._onTaskFinished()},void 0,function(A){o.dispatchEventEx({type:ch.LOAD_GEOMETRY_ERROR,modelKey:o.modelKey})});n.requests.loadGeometrie=a}},zm.ModelLoader.prototype.loadMaterial=function(A,i){var n=this,e=this.loader,t=this.url,o=this.model,r=Ah.MpkWorkerUrl;if(Ah.UseMpkWorker)e.setResponseType("arraybuffer"),e.load(t.mpkUrl(A),function(A){var e=new Worker(r);e.onmessage=function(A){var e=A.data;for(var t in e)e.hasOwnProperty(t);i(),n._onTaskFinished()},e.postMessage({msg:A})});else{e.setResponseType("2.0"===n.dataVersion?"json":"arraybuffer"),e.setCacheViable(!this.offLine);var a=e.load(t.mpkUrl(A),function(A){n._parseMaterial(A),Gh.debug("met  load from online"),i(),n._onTaskFinished()},void 0,function(A){o.dispatchEventEx({type:ch.LOAD_MATERIAL_ERROR,modelKey:o.modelKey})});n.requests.loadMaterial=a}},zm.ModelLoader.prototype.loadTextures=function(i,n){var o=this.model.materialManager.textures,r=this,A=this.Textureloader,e=this.url,a=this.model,t=Ah.MpkWorkerUrl;if(Ah.UseMpkWorker)A.load(e.mpkUrl(i),function(A){var e=new Worker(t);e.onmessage=function(A){var e=A.data;for(var t in e)e.hasOwnProperty(t);n(),r._onTaskFinished()},e.postMessage({msg:A})});else{A.setResponseType("blob"),A.setMimeType("text/plain"),A.setCacheViable(!this.offLine);var s=A.load(e.textureUrl(i),function(e){Gh.debug("tex load from online");var A=new Ye;(o[i]=A).wrapS=A.wrapT=B;var t=document.createElement("img");t.onload=function(A){"string"!=typeof e&&window.URL.revokeObjectURL(t.src),n(),r.model.textureNeedsUpdate=!0,r._onTaskFinished()},t.onerror=function(A){a.dispatchEventEx({type:ch.LOAD_TEXTURE_ERROR,modelKey:a.modelKey})},t.src="string"==typeof e?e:window.URL.createObjectURL(e),A.image=t,A.needsUpdate=!0},void 0,function(A){a.dispatchEventEx({type:ch.LOAD_TEXTURE_ERROR,modelKey:a.modelKey})});r.requests.loadTextures=s}},zm.ModelLoader.prototype.loadComponent=function(A,i){var n=this,e=this.jsonLoader,t=this.model,o=this.url,r=Ah.MpkWorkerUrl;if(Ah.UseMpkWorker)e.setResponseType("json"),e.load(o.mpkUrl(A),function(A){var e=new Worker(r);e.onmessage=function(A){var e=A.data;for(var t in e)e.hasOwnProperty(t);i(),n._onTaskFinished()},e.postMessage({msg:A})},function(A){});else{e.setResponseType("json"),e.setCacheViable(!this.offLine);var a=e.load(o.mpkUrl(A),function(A){n._parseComponent(A),Gh.debug("component load from online"),i(),n._onTaskFinished()},void 0,function(A){t.dispatchEventEx({type:ch.LOAD_COMPONENT_ERROR,modelKey:t.modelKey})});n.requests.loadComponent=a}},zm.ModelLoader.prototype.loadKDTree=function(A,i){var n=this,e=this.loader,t=this.model,o=this.url,r=Ah.MpkWorkerUrl;if(Ah.UseMpkWorker)e.setResponseType("json"),e.load(o.mpkUrl(A),function(A){var e=new Worker(r);e.onmessage=function(A){var e=A.data;for(var t in e)e.hasOwnProperty(t);i(),n._onTaskFinished()},e.postMessage({msg:A})},function(A){});else{e.setResponseType("json"),e.setCacheViable(!this.offLine);var a=e.load(o.kdTreeUrl(A),function(A){n._parseKDTree(A),Gh.debug("kdtree load from online"),i(),n._onTaskFinished()},void 0,function(A){t.dispatchEventEx({type:ch.LOAD_COMPONENT_ERROR,modelKey:t.modelKey})});n.requests.loadKDTree=a}},zm.ModelLoader.prototype.loadBones=function(A,i){var n=this,e=this.loader,t=this.model,o=this.url,r=Ah.MpkWorkerUrl;if(Ah.UseMpkWorker)e.setResponseType("arraybuffer"),e.load(o.bonesUrl(A),function(A){var e=new Worker(r);e.onmessage=function(A){var e=A.data;for(var t in e)e.hasOwnProperty(t);i(),n._onTaskFinished()},e.postMessage({msg:A})},function(A){});else{e.setResponseType("arraybuffer"),e.setCacheViable(!this.offLine);var a=e.load(o.bonesUrl(A),function(A){n._parseBones(A),Gh.debug("bones load from online"),i(),n._onTaskFinished()},void 0,function(A){t.dispatchEventEx({type:ch.LOAD_COMPONENT_ERROR,modelKey:t.modelKey})});n.requests.loadBones=a}},zm.ModelLoader.prototype.loadClips=function(A,i){var n=this,e=this.loader,t=this.model,o=this.url,r=Ah.MpkWorkerUrl;if(Ah.UseMpkWorker)e.setResponseType("json"),e.load(o.mpkUrl(A),function(A){var e=new Worker(r);e.onmessage=function(A){var e=A.data;for(var t in e)e.hasOwnProperty(t);i(),n._onTaskFinished()},e.postMessage({msg:A})},function(A){});else{e.setResponseType("json"),e.setCacheViable(!this.offLine);var a=e.load(o.clipsUrl(A),function(A){n._parseClips(A),Gh.debug("Clips load from online"),i(),n._onTaskFinished()},void 0,function(A){t.dispatchEventEx({type:ch.LOAD_COMPONENT_ERROR,modelKey:t.modelKey})});n.requests.loadClips=a}},zm.ModelLoader.prototype.loadNodes=function(A,i){var n=this,e=this.loader,t=this.model,o=this.url,r=Ah.MpkWorkerUrl;if(Ah.UseMpkWorker)e.setResponseType("json"),e.load(o.mpkUrl(A),function(A){var e=new Worker(r);e.onmessage=function(A){var e=A.data;for(var t in e)e.hasOwnProperty(t);i(),n._onTaskFinished()},e.postMessage({msg:A})},function(A){});else{e.setResponseType("json"),e.setCacheViable(!this.offLine);var a=e.load(o.nodesUrl(A),function(A){n._parseNodes(A),Gh.debug("Nodes load from online"),i(),n._onTaskFinished()},void 0,function(A){t.dispatchEventEx({type:ch.LOAD_COMPONENT_ERROR,modelKey:t.modelKey})});n.requests.loadNodes=a}},zm.ModelLoader.prototype.loadAttribute=function(A,i){var n=this,e=this.loader,t=this.model,o=this.url,r=Ah.MpkWorkerUrl;if(Ah.UseMpkWorker)e.setResponseType("json"),e.load(o.mpkUrl(A),function(A){var e=new Worker(r);e.onmessage=function(A){var e=A.data;for(var t in e)e.hasOwnProperty(t);i(),n._onTaskFinished()},e.postMessage({msg:A})},function(A){});else{e.setResponseType("json"),e.setCacheViable(!this.offLine);var a=e.load(o.attributeUrl(),function(A){if(A instanceof String)try{A=JSON.parse(A)}catch(A){}t.attributes=A,Gh.debug("Attribute load from online")},void 0,function(A){t.dispatchEventEx({type:ch.LOAD_COMPONENT_ERROR,modelKey:t.modelKey})});n.requests.loadAttribute=a}},zm.ModelLoader.prototype.loadGeopkOnDemand=function(t,n,o){this.loadTaskCount=0,this.maxLoadTaskCount=t.length,this._loadingOnDemand=!0;var s=this;if(Ah.getDataFromIndexedDB&&!this.offLine){for(var A=this.url,l=[],e=0;e<t.length;e+=1)l.push(A.mpkUrl(t[e]));var c=this.model.getStorage();c&&c.getBatch(l,function(A){for(var e=function(i){if(A[l[i]])if(!0===A[l[i]].split){var n=A[l[i]].list,o=new Uint8Array(A[l[i]].length);c.getBatch(n,function(A){for(var e=0;e<n.length;e+=1)A[n[e]]?o.set(new Uint8Array(A[n[e]]),4e7*e):Gh.error("获取分割几何失败");var t=l[i].indexOf("fileKey=");s._parseGeometrie(o.buffer,l[i].slice(t+8)),Gh.debug("load geo from local"),s._onTaskFinished()},function(){Gh.error("获取分割几何失败")})}else a=l[i].indexOf("fileKey="),s._parseGeometrie(A[l[i]],l[i].slice(a+8)),Gh.debug("load geo from local"),s._onTaskFinished();else{if(r=s.taskGeometrieManager,-1===(a=l[i].indexOf("fileKey=")))return Gh.error("url is net has fileKey"),{v:void 0};r.addTask(l[i].slice(a+8)),Gh.debug("load geo from net")}},t=0;t<l.length;t+=1){var r,a,i=e(t);if("object"===Bh(i))return i.v}s.taskGeometrieManager.processTasks(s.loadGeometrie.bind(s),n,o)},function(){for(var A=s.taskGeometrieManager,e=0;e<t.length;e+=1)A.addTask(t[e]);A.processTasks(s.loadGeometrie.bind(s),n,o)})}else{for(var i=this.taskGeometrieManager,r=0;r<t.length;r+=1)i.addTask(t[r]);i.processTasks(s.loadGeometrie.bind(s),n,o)}};var qm={};qm.brdf_vs=["varying vec2 vUV;","void main() {","    vUV = uv;","    gl_Position = projectionMatrix * modelViewMatrix * vec4(position, 1.0);","}"].join("\n"),qm.brdf_fs=["varying vec2 vUV;","uniform sampler2D HammersleyTable;","const float PI = 3.14159265358979;","float GGX(float NdotV, float alpha)","{","    float alpha2 = pow(alpha, 2.0);","    return 2.0 * NdotV / (NdotV + sqrt(alpha2 + (1.0 - alpha2) * NdotV * NdotV));","}","float G_Smith(float NdotV, float NdotL, float roughness)","{","    float alpha = pow(roughness, 2.0);","    return GGX(NdotV, alpha) * GGX(NdotL, alpha);","}","vec3 ImportanceSampleGGX(vec2 Xi, vec3 N, float roughness)","{","    float a = roughness * roughness;","    float Phi = 2.0 * PI * Xi.x; ","    float CosTheta = sqrt((1.0 - Xi.y) / (1.0 + (a * a - 1.0) * Xi.y)); ","    float SinTheta = sqrt(1.0 - CosTheta * CosTheta);","    vec3 H;","    H.x = SinTheta * cos(Phi); ","    H.y = SinTheta * sin(Phi); ","    H.z = CosTheta;","    vec3 UpVector = abs(N.z) < 0.999 ? vec3(0.0, 0.0, 1.0) : vec3(1.0, 0.0, 0.0); ","    vec3 TangentX = normalize(cross(UpVector, N)); ","    vec3 TangentY = cross(N, TangentX);","    return normalize(TangentX * H.x + TangentY * H.y + N * H.z);","}","vec2 IntegrateBRDF(float NdotV, float roughness)","{","    vec3 N = vec3(0.0, 0.0, 1.0);","    vec3 V = vec3(sqrt(1.0 - NdotV * NdotV), 0.0, NdotV);","    vec2 result = vec2(0.0, 0.0);","    const int NumSamples = 1024;","    for (int i = 0; i < NumSamples; i++)","    {","        float u = float(i) / float(NumSamples);","        vec2 Xi = vec2(u, texture2D(HammersleyTable, vec2(u)).r);","        vec3 H = ImportanceSampleGGX(Xi, N, roughness);","        vec3 L = 2.0 * dot(V, H) * H - V;","        float NdotL = saturate(L.z);","        float NdotH = saturate(H.z);","        float VdotH = saturate(dot(V, H));","        float NdotV = saturate(dot(N, V));","        if (NdotL > 0.0)","        {","            float G = G_Smith(NdotV, NdotL, roughness);","            float G_Vis = G * VdotH / (NdotH * NdotV); ","            float F = pow(1.0 - VdotH, 5.0);","            result.x += (1.0 - F) * G_Vis;","            result.y += F * G_Vis;","        }","    }","    return result / float(NumSamples);","}","void main()","{","    vec2 brdf = IntegrateBRDF(vUV.x, vUV.y);","    gl_FragColor = vec4(brdf, 0.0, 1.0);","}"].join("\n"),qm.BRDFMap=function(A,e){this.texture=null,this.resolution=e||512,this.brdfMaterial=new cn({vertexShader:qm.brdf_vs,fragmentShader:qm.brdf_fs,uniforms:{HammersleyTable:{value:A}},lights:!1}),this.quad=new ji(new Fn(window.innerWidth,window.innerHeight),this.brdfMaterial),this.quad.position.z=-100},qm.BRDFMap.prototype.constructor=qm.BRDFMap,qm.BRDFMap.prototype.generateMap=function(A){var e=new ii;e.add(this.quad);var t=new Tl(window.innerWidth/-2,window.innerWidth/2,window.innerHeight/2,window.innerHeight/-2,-1e4,1e4);t.position.z=100;var i=new Ze(this.resolution,this.resolution,{minFilter:P,magFilter:N,format:NA});A.setRenderTarget(i),A.clear(),A.render(e,t),this.texture=i.texture};var Xm=function(){this.geometries={}};Xm.prototype.dispose=function(){this.disposeGeometries(),this.geometries={}},Xm.prototype.destory=function(){this.dispose()},Xm.prototype.disposeGeometries=function(){for(var A in this.geometries)this.disposeGeometry(A)},Xm.prototype.disposeGeometry=function(A){var e=this.geometries[A];if(e){if(Array.isArray(e))for(var t=0,i=e.length;t<i;t+=1)e[t].dispose();else e.dispose();delete this.geometries[A]}},Xm.prototype._hasGeometry=function(A){return!!this.geometries[A]},Xm.prototype._cacheGeometry=function(A,e){void 0===this.geometries[A]&&(this.geometries[A]=e)},Xm.prototype.getGeometryById=function(A){return this.geometries[A]},Xm.prototype.getGeometryByNodeInfo=function(A,e){return this._hasGeometry(e.geometryId)?this.getGeometryById(e.geometryId):this._createGeometryByNodeInfo(A,e)},Xm.prototype._createGeometryByNodeInfo=function(A,e){return this._createGeometry(e.type,e.geometryId,A.getModelDescriptor().getReferencedMeshBufferById(e.geometryId))},Xm.prototype._createGeometry=function(A,e,t){if(this._hasGeometry(e))return this.getGeometryById(e);var i=this._createBufferGeometry(A,t);return i?(this._cacheGeometry(i.key=e,i),i):null},Xm.prototype._createBufferGeometry=function(A,e){var t=Dm.EnumNodeItemType,i=null;switch(1){case t.MESH:case t.MESH_REF:if(!e)return null;if((i=new Gi).setIndex(new Ci(e.index,1)),i.addAttribute("position",new Ci(e.position,3)),e.normal&&0<e.normal.length?i.addAttribute("normal",new Ci(e.normal,3)):i.computeVertexNormals(),e.uv&&0<e.uv.length&&i.addAttribute("uv",new Ci(e.uv,2)),e.skinIndex&&0<e.skinIndex.length?i.addAttribute("skinIndex",new Ci(e.skinIndex,4)):Gh.debug("skinIndex 长度为0"),e.skinWeight&&0<e.skinWeight.length?i.addAttribute("skinWeight",new Ci(e.skinWeight,4)):Gh.debug("skinWeight 长度为0"),void 0!==e.materialIndex){for(var n=null,o=[],r=void 0,a=0;a<e.materialIndex.length;a+=1){var s=e.materialIndex[a];s!==r&&(r=s,null!=n&&(n.count=3*a-n.start,o.push(n)),n={start:3*a,materialIndex:r})}null!=n&&(n.count=3*e.materialIndex.length-n.start,o.push(n)),i.groups=o}break;case t.TUBE:case t.PIPE:i=lu.UnitCylinderInstance;break;case t.BOX:i=lu.UnitBoxInstance;break;case t.BOX_M:i=lu.getUnitTextureBox();break;case t.PIPE_M:i=lu.getUnitTextureCylinder();break;case t.LINE:if(!e)return null;(i=new Gi).setIndex(new Ci(e.I,1)),i.addAttribute("position",new Ci(e.P,3))}return i},Xm.prototype.createBufferByBufferDataWithUV2=function(A,e,t){var i=this.createBufferByBufferData(e,t);if(!i)return null;if(!A.lightmap)return i;var n=[],o=i.index,r=A.getLoader().getUV2ById(e.itemIdUV2,o.length);r&&(e.lightmapIdx=r.lightmapIdx,n=r.uv2);for(var a=i.position,s=i.normal,l=i.uv,c=[],d=[],h=[],u=0;u<o.length;u+=1){var p=o[u];c.push(a[3*p]),c.push(a[3*p+1]),c.push(a[3*p+2]),s&&(d.push(s[3*p]),d.push(s[3*p+1]),d.push(s[3*p+2])),l&&(h.push(l[2*p]),h.push(l[2*p+1])),o[u]=u}return l=s=a=null,i.uv2=n,i.position=c,i.normal=d,i.uv=h,i},Xm.prototype.createBufferByBufferData=function(A,e){this.cachedComponentGeoBuffer||(this.cachedComponentGeoBuffer={});var t=null,i=null,n=null,o=null,r=Dm.EnumNodeItemType,a=null;switch(1){case r.MESH:case r.MESH_REF:if(!e||!e.buffer)return Gh.debug("缺少几何buffer"),null;var s=e.buffer;if(i=s.index,o=A.geometryId===A.originalGeometryId?(t=s.position,n=s.normal,s.uv?s.uv:null):(t=Float32Array.from(s.position),n=Float32Array.from(s.normal),s.uv?Float32Array.from(s.uv):null),s=null,e.indexInfo){i=i.slice(e.indexInfo.indexStart,e.indexInfo.indexStart+e.indexInfo.indexCount),t=t.slice(e.indexInfo.positionStart,e.indexInfo.positionStart+e.indexInfo.positionCount),n=n.slice(e.indexInfo.positionStart,e.indexInfo.positionStart+e.indexInfo.positionCount),o=o?o.slice(e.indexInfo.uvStart,e.indexInfo.uvStart+e.indexInfo.uvCount):null;var l=e.indexInfo.positionStart/3;i.forEach(function(A,e,t){t[e]-=l})}if(kh.isMirror(A.matrix.elements))for(var c=0,d=i.length;c<d;c+=3){var h=i[c+1];i[c+1]=i[c+2],i[c+2]=h}break;case r.BOX:case r.PIPE:case r.TUBE:case r.BOX_M:case r.PIPE_M:a=A.type===r.BOX_M||A.type===r.BOX?lu.getBoxMBuffer(A.uvArrayBuffer):lu.getPipeMBuffer(A.uvArrayBuffer),i=Uint32Array.from(a.index),t=Float32Array.from(a.vertex),n=Float32Array.from(a.normal),a.uv&&(o=Float32Array.from(a.uv),delete a.uv),a=null;break;case r.LINE:if(!e||!e.buffer)return null;if(o=n=(t=e.isDataView?(i=Uint32Array.from(e.buffer.I),Float32Array.from(e.buffer.P)):(i=new Uint32Array(e.buffer.I),new Float32Array(e.buffer.P)),null),e.indexInfo){i=i.slice(e.indexInfo.indexStart,e.indexInfo.indexStart+e.indexInfo.indexCount),t=t.slice(e.indexInfo.positionStart,e.indexInfo.positionStart+e.indexInfo.positionCount);l=e.indexInfo.positionStart/3;i.forEach(function(A,e,t){t[e]-=l})}break;default:Gh.log("error data!")}if(!this.cachedComponentGeoBuffer[A.geometryId]||A.geometryId!==A.originalGeometryId){var u=A.matrix;if(lu.applyMatrix4ToBuffer(u,t),n){var p=new Ne;p.getNormalMatrix(u),lu.applyMatrix3ToBuffer(p,n),lu.normalizeBuffer(n)}this.cachedComponentGeoBuffer[A.geometryId]=!0}return A.uv=!!o,{index:i,position:t,normal:n,uv:o}};var Ym=function(A){return Xm.call(this),this.manager=A,this._maxIndiceseNum=0,this._materialList=[],this.mapMaterialIdToMergedNode={},this.selectedMeshes=[],this.nonSelectedMeshes=[],this.selectedObjectIds=[],this.blinkMaterials=[],this};(Ym.prototype=Object.create(Xm.prototype)).destroy=function(){this.dispose(),this.clearData(),this.mapMaterialIdToMergedNode=null,this.manager=null,this._materialList=null,this.selectedMeshes=null,this.nonSelectedMeshes=null,this.selectedObjectIds=null,this.blinkMaterials=null},Ym.prototype.clearData=function(){this.bufferDestroyed=!1,this.clearAllNodeBuffer(),this._disposeMergedGeometries()},Ym.prototype.getMeshesByUserIds=function(A,e,t){for(var i in this.mapMaterialIdToMergedNode)for(var n=this.mapMaterialIdToMergedNode[i],o=0,r=n.length;o<r;o+=1){var a=n[o],s=a.indices;for(var l in s)if(l===e||l===t)for(var c=s[l],d=0,h=c.length;d<h;d+=1){var u={};u.mesh=a.mesh,u.indexInfo=c[d],u.boundingBox=c[d].boundingBox,A.minDistanceObjects[l].push(u)}}},Ym.prototype.rebuildIndices=function(A){this._materialList.length=0,this.clearSelectedObjectIds();var e=this.manager.getFilteredUserIds(),t=this.manager.getSelectedUserIds(),i=this.manager.getHoveredUserIds(),n=this.manager.getBlinkedUserIds(),o=A.hasReplacedUserId(),r=A.manager.scene.fillClipPlane&&Ah.ClippingCaps,a={};for(var s in this.mapMaterialIdToMergedNode){var l,c=this.getPropertyValueByMaterialKey(s).materialId,d=null,h=null,u=null,p=null,g=null,f=null,m=null,v=null,y=null;t&&t[c]&&(p=t[c]),i&&i[c]&&(g=i[c]),n&&n[c]&&(f=n[c]),e&&e[c]&&(d=e[c][wh.HIDDEN],h=e[c][wh.OVERRIDED],u=e[c][wh.TRANSPARENT]);var C=this.mapMaterialIdToMergedNode[s];for(y=0,l=C.length;y<l;y+=1){var I=C[y],x=I.indices,b=I.geometry;if(b.clearGroups(),b._visible=!0,Ah.EnableLightmap)for(var E=A.lightmapNum,w=0;w<E;w+=1){var M="lightmap|"+w;-1===this._materialList.indexOf(M)&&this._materialList.push(M)}if(p||d||h||g||u||Ah.EnableLightmap||r||f||o){var B=[];for(var _ in x)if(x.hasOwnProperty(_)){if(d&&d[_])continue;if(A.isReplacedUserId(_))continue;var S=x[_];if(S&&0<S.length){if(u&&u[_]&&!Ah.EnableSelectionByTranslucent){for(m=0,v=S.length;m<v;m+=1)B.push({indexStart:S[m].indexStart,indexCount:S[m].indexCount,state:wh.TRANSPARENT});continue}if(A.manager.isSelectPriority()){if(p&&p[_]){for(m=0,v=S.length;m<v;m+=1)B.push({indexStart:S[m].indexStart,indexCount:S[m].indexCount,state:wh.SELECTED});this.cacheSelectedObjectIds(_,s,y);continue}if(f&&f[_]){if(h&&h[_]){var T="blink|"+h[_],K=this._materialList.indexOf(T);for(-1===K&&(this._materialList.push(T),K=this._materialList.length-1),m=0,v=S.length;m<v;m+=1)B.push({indexStart:S[m].indexStart,indexCount:S[m].indexCount,state:wh.OVERRIDED+K});continue}for(m=0,v=S.length;m<v;m+=1)B.push({indexStart:S[m].indexStart,indexCount:S[m].indexCount,state:wh.BLINK});continue}}else{if(f&&f[_]){if(h&&h[_]){var F="blink|"+h[_],L=this._materialList.indexOf(F);for(-1===L&&(this._materialList.push(F),L=this._materialList.length-1),m=0,v=S.length;m<v;m+=1)B.push({indexStart:S[m].indexStart,indexCount:S[m].indexCount,state:wh.OVERRIDED+L});continue}for(m=0,v=S.length;m<v;m+=1)B.push({indexStart:S[m].indexStart,indexCount:S[m].indexCount,state:wh.BLINK});continue}if(p&&p[_]){for(m=0,v=S.length;m<v;m+=1)B.push({indexStart:S[m].indexStart,indexCount:S[m].indexCount,state:wh.SELECTED});this.cacheSelectedObjectIds(_,s,y);continue}}if(u&&u[_]){for(m=0,v=S.length;m<v;m+=1)B.push({indexStart:S[m].indexStart,indexCount:S[m].indexCount,state:wh.TRANSPARENT});continue}if(g&&g[_]){if(h&&h[_]){for(-1===(U=this._materialList.indexOf(O="hover|"+h[_]))&&(this._materialList.push(O),U=this._materialList.length-1),m=0,v=S.length;m<v;m+=1)B.push({indexStart:S[m].indexStart,indexCount:S[m].indexCount,state:wh.OVERRIDED+U});continue}for(m=0,v=S.length;m<v;m+=1)B.push({indexStart:S[m].indexStart,indexCount:S[m].indexCount,state:wh.HOVER});continue}if(h&&h[_]){var O;for(-1===(U=this._materialList.indexOf(O=h[_]))&&(this._materialList.push(O),U=this._materialList.length-1),m=0,v=S.length;m<v;m+=1)B.push({indexStart:S[m].indexStart,indexCount:S[m].indexCount,state:wh.OVERRIDED+U});continue}if(r&&a[_]){for(m=0,v=S.length;m<v;m+=1)B.push({indexStart:S[m].indexStart,indexCount:S[m].indexCount,state:wh.CLIPPING});continue}if(Ah.EnableLightmap)for(m=0,v=S.length;m<v;m+=1){var U=this._materialList.indexOf("lightmap|"+S[m].lightmapIdx);B.push({indexStart:S[m].indexStart,indexCount:S[m].indexCount,state:wh.OVERRIDED+U})}else for(m=0,v=S.length;m<v;m+=1)B.push({indexStart:S[m].indexStart,indexCount:S[m].indexCount,state:0})}}if(0<B.length)for(B.sort(function(A,e){return A.state===e.state?A.indexStart-e.indexStart:A.state-e.state}),m=0,v=B.length;m<v;m+=1){var N=B[m].indexStart,R=B[m].indexCount,P=B[m].state;if(0===m)b.addGroup(N,R,P);else P===B[m-1].state&&N===B[m-1].indexStart+B[m-1].indexCount?b.groups[b.groups.length-1].count+=R:b.addGroup(N,R,P)}else b._visible=!1}}}},Ym.prototype.update=function(A,e){var t=A.manager.filter,i=A.materialManager.materials,n=A.selectedMaterial,o=A.manager.sceneState,r=null,a=null,s=null,l=null,c=null,d=null;if(A.isOnlyWireframe())for(var h in this.mapMaterialIdToMergedNode){for(s=0,l=(w=this.mapMaterialIdToMergedNode[h]).length;s<l;s+=1){var u=w[s].mesh;u&&(u.visible=!1)}}else{Ah.TranslucentDepthDisabled&&(n.depthWrite=!n.transparent);var p=t._getMaterialByName("scene");Ah.TranslucentDepthDisabled&&(p.depthWrite=!1);var g=[];this.blinkMaterials.length=0;var f={};if(!Ah.EnableLightmap)for(r=0,a=this._materialList.length;r<a;r+=1){var m=null,v=this._materialList[r],y=v.split("|");"hover"===y[0]?(m=t._getMaterialByName(y[1]),m=o.getHoverMaterial(m)):"blink"===y[0]?(m=t._getMaterialByName(y[1]),m=o.getBlinkMaterial(m),f[v]||this.blinkMaterials.push(m)):m=t._getMaterialByName(v),Ah.TranslucentDepthDisabled&&(m.depthWrite=!m.transparent),g[r]=m}for(var h in this.mapMaterialIdToMergedNode){var C=this.getPropertyValueByMaterialKey(h).materialId,I=h.split("-"),x=A.manager.getOverrideMaterialByName(I[0])||i[C];if(x){if(Ah.EnableLightmap)for(r=0,a=this._materialList.length;r<a;r+=1){var b=null,E=this._materialList[r].split("|");"lightmap"===E[0]&&((b=x.clone()).lightMap=A.materialManager.lightmaps[E[1]],b.lightMapIntensity=Ah.LightmapIntensity),Ah.TranslucentDepthDisabled&&b&&(b.depthWrite=!b.transparent),g[r]=b}Ah.TranslucentDepthDisabled&&(x.depthWrite=!x.transparent);var w,M=o.getHoverMaterial(i[C]);for(Ah.TranslucentDepthDisabled&&(M.depthWrite=!M.transparent),s=0,l=(w=this.mapMaterialIdToMergedNode[h]).length;s<l;s+=1){var B=w[s],_=B.geometry;if(null!==_){var S=B.mesh;if(_._visible){if(0<_.groups.length){var T=f[C];T||(T=f[C]=o.getBlinkMaterial(x),this.blinkMaterials.push(T));var K=[x,n,T,M,p];for(r=0,a=g.length;r<a;r+=1)_.attributes.uv||(g[r].map=null),K.push(g[r]);if(e){var F=[];for(c=0,d=K.length;c<d;c+=1)F.push(e);K=F}S.material=K}else S.material=e||x;S.visible=!0}else S.visible=!1}}x=null}}}},Ym.prototype._getNodeGroup=function(A){return A._getNodeGroup(Ap.GEOMETRY,{globalSpace:!0})},Ym.prototype._hasNodeGroup=function(A){return A._hasNodeGroup(Ap.GEOMETRY)},Ym.prototype._resetMaxIndicesNumberPerBathSegment=function(A){Ah.SegmentedBatchMergeEnable&&Ah.maxIndicesNumberPerBathSegment<this._maxIndiceseNum&&(Gh.log("adjust maxIndicesNumberPerBathSegment value from "+Ah.maxIndicesNumberPerBathSegment+" to "+this._maxIndiceseNum+"!"),Ah.maxIndicesNumberPerBathSegment=A)},Ym.prototype.asyncCreateMeshNodes=function(A,e,t){var i=this;e&&e.length?this._asyncMergeData(A,e,function(){Gh.timeEnd("MergeData"),i._makeMeshNodes(A),t&&t()}):t&&t()},Ym.prototype._asyncMergeData=function(n,o,r){Gh.time("MergeData");var a={},s=this,l=n.loader.maxLoadTaskCount,c=n.progressPercentage.load,d=n.progressPercentage.collect,h=o.length,u=Math.ceil(h/n.progressFrequency),p=n.getModelDescriptor().getStandardNodeInfos();requestAnimationFrame(function t(A){var i=A;return function(){var A=null,e=null;for(e=h<i+u?h:i+u,A=i;A<e;A+=1)s._collectMergedNodeInfosById(n,o[A],p,a),A===e-1&&(e!==h?(n.dispatchEventEx({type:lh.ON_LOAD_PROGRESS,progress:{total:l,loaded:(A/h*d+c)*l,modelKey:n.modelKey}}),requestAnimationFrame(t(A+1))):(n.dispatchEventEx({type:lh.ON_LOAD_PROGRESS,progress:{total:l,loaded:(d+c)*l,modelKey:n.modelKey}}),s._asyncMergeGeometry(a,n,r)))}}(0))},Ym.prototype._asyncMergeGeometry=function(n,o,r){var a=[];for(var A in n)a.push(A);if(0!==a.length){this._resetMaxIndicesNumberPerBathSegment(this._maxIndiceseNum);var s=this,l=o.loader.maxLoadTaskCount,c=o.progressPercentage.load,d=o.progressPercentage.collect,h=o.progressPercentage.merge,u=a.length,p=Math.ceil(u/o.progressFrequency),g=this.mapMaterialIdToMergedNode;requestAnimationFrame(function t(A){var i=A;return function(){var A=null,e=null;for(e=u<i+p?u:i+p,A=i;A<e;A+=1)s._collectMergedGeometriesById(a[A],n,g),A===e-1&&(e!==a.length?(o.dispatchEventEx({type:lh.ON_LOAD_PROGRESS,progress:{total:l,loaded:(A/u*h+c+d)*l,modelKey:o.modelKey},modelKey:o.modelKey}),requestAnimationFrame(t(A+1))):r())}}(0))}else r()},Ym.prototype._collectMergedNodeInfosById=function(A,e,t,i){for(var n=t[e],o=0,r=n.length;o<r;o+=1){var a=n[o];this._createNodeBuffer(A,a);var s=this._getNodeBufferBy(a.nodeId);if(s){var l=s.index;l&&this._maxIndiceseNum<l.length&&(this._maxIndiceseNum=l.length);var c=this._getMaterialKeyByNodeInfo(a,A);void 0===i[c]&&(i[c]=[]),i[c].push(a)}}},Ym.prototype._collectMergedGeometriesById=function(A,e,t){var i=e[A];void 0===t[A]&&(t[A]=[]);for(var n=[],o=Math.max(i.length/800,500),r=Math.floor(i.length/o),a=i.length,s=0;s<=r;s+=1){for(var l=0,c=0,d=0,h=0,u=0,p=null,g=!1,f=0,m=0,v=o<a?o:a;m<v;m+=1){var y=s*o,C=i[y+m];if(!C)break;(p=this._getNodeBufferBy(C.nodeId))?(c+=p.index.length,l+=p.position.length,p.normal&&(d+=p.normal.length),p.uv&&0<p.uv.length?(g=!0,h+=p.uv.length):h+=p.position.length/3*2,p.uv2&&(u+=p.uv2.length),Ah.SegmentedBatchMergeEnable&&Ah.maxIndicesNumberPerBathSegment<c?(p.normal&&(d-=p.normal.length),p.uv&&(h-=p.uv.length),p.uv2&&(u-=p.uv2.length),n.push({start:f,end:m,steps:y,arrayPositionLength:l-=p.position.length,arrayIndexLength:c-=p.index.length,arrayNormalLength:d,arrayUVLength:h,arrayUV2Length:u}),u=h=d=c=l=0,f=m,m-=1):m===v-1&&n.push({start:f,end:v,steps:y,arrayPositionLength:l,arrayIndexLength:c,arrayNormalLength:d,arrayUVLength:h,arrayUV2Length:u}),p=null):m===v-1&&n.push({start:f,end:v,steps:y,arrayPositionLength:l,arrayIndexLength:c,arrayNormalLength:d,arrayUVLength:h,arrayUV2Length:u})}a-=o}for(var I=0,x=n.length;I<x;I+=1){for(var b=n[I],E=new Gi,w={},M=new Float32Array(b.arrayPositionLength),B=new Uint32Array(b.arrayIndexLength),_=new Float32Array(b.arrayNormalLength),S=new Float32Array(b.arrayUVLength),T=new Float32Array(b.arrayUV2Length),K=0,F=0,L=0,O=0,U=0,N=[],R=b.start,P=b.end;R<P;R+=1){var D=i[b.steps+R];if(p=this._getNodeBufferBy(D.nodeId)){N.push(D.nodeId);var Q=p.index,k=p.position,z=p.normal,V=p.uv,H=p.uv2;M.set(k,K);for(var G=Uint32Array.from(Q),j=0,W=G.length;j<W;j+=1)G[j]+=K/3;B.set(G,F),void 0===w[D.userId]&&(w[D.userId]=[]),w[D.userId].push({userId:D.userId,nodeId:D.nodeId,positionStart:K,positionCount:k.length,indexStart:F,indexCount:Q.length,lightmapIdx:D.lightmapIdx,boundingBox:D.boundingBox}),F+=Q.length,K+=k.length,z&&(_.set(z,L),L+=z.length),g&&(S.set(V||new Float32Array(k.length/3*2),O),O+=V.length),H&&(T.set(H,U),U+=H.length),p=H=V=z=k=Q=null}}this.clearNodeBufferByNodeIds(N),E._visible=!0,E.setIndex(new Ci(B,1)),E.addAttribute("position",new Ci(M,3)),0<L&&E.addAttribute("normal",new Ci(_,3)),0<O&&E.addAttribute("uv",new Ci(S,2)),0<U&&E.addAttribute("uv2",new Ci(T,2)),t[A].push({geometry:E,indices:w})}},Ym.prototype.clearAllNodeBuffer=function(){this.cachedNodeBuffer&&(this.cachedNodeBuffer=null)},Ym.prototype.clearNodeBufferByNodeIds=function(A){if(this.cachedNodeBuffer)for(var e=0,t=A.length;e<t;e+=1)this.cachedNodeBuffer[A[e]]=null},Ym.prototype._getNodeBufferByNodeInfo=function(A,e){return this.cachedNodeBuffer||this._createNodeBuffer(A,e),this.cachedNodeBuffer[e.nodeId]},Ym.prototype._getNodeBufferBy=function(A){return this.cachedNodeBuffer?this.cachedNodeBuffer[A]:null},Ym.prototype._createNodeBufferForMergedBuffer=function(A,e,t){this.cachedNodeBuffer||(this.cachedNodeBuffer={}),this.cachedNodeBuffer[e.nodeId]||(this.cachedNodeBuffer[e.nodeId]=this.createBufferByBufferDataWithUV2(A,e,t))},Ym.prototype._createNodeBuffer=function(A,e){this._createNodeBufferForMergedBuffer(A,e,{buffer:A.getModelDescriptor().getReferencedMeshBufferById(e.geometryId),isDataView:!0})},Ym.prototype._createGeometries=function(A,e){var t=this,i=A.getModelDescriptor().getNodeInfosOnBMpkGeometryId(),n=A.getModelDescriptor().getReferencedMeshBufferData(),o=this._getClassifiedMeshes(i,n);this._dealDataMergedMeshs(A,o,n,i,function(){t._dealDataMergeableMeshs(A,o,n,i,e)})},Ym.prototype._getClassifiedMeshes=function(A,e){var t=[],i=[];for(var n in e){var o=e[n].IndexInfos,r=void 0;if(o){if(o.length<1)continue;for(var a=0,s=o.length;a<s;a+=1){if((l=A[o[a].meshId])&&l.length){r=o[a].meshId;break}}}else{var l;(l=A[n])&&l.length&&(r=n)}if(void 0!==r)(l=A[r])&&l.length&&(l[0].type===Dm.EnumNodeItemType.LINE||!l[0].instanceOrNot&&l[0].shared?t.push(n):i.push(n))}return{mergeableIdxs:t,mergedIdxs:i}},Ym.prototype._collectMergeableMeshesByIdxId=function(A,e,t,i,n){t[e].IndexInfos?this._collectSharedMeshesByIdxId(A,e,t,i,n):this._collectLineMeshesByIdxId(A,e,t,i,n)},Ym.prototype._collectLineMeshesByIdxId=function(A,e,t,i,n){for(var o=i[e],r={buffer:A.getModelDescriptor().getReferencedMeshBufferById(e)},a=0,s=o.length;a<s;a+=1){var l=o[a];this._createNodeBufferByMpkBufferData(A,l,r);var c=this._getMaterialKeyByNodeInfo(l);n[c]||(n[c]=[]),n[c].push(l)}},Ym.prototype._collectSharedMeshesByIdxId=function(A,e,t,i,n){for(var o=t[e].IndexInfos,r=0,a=o.length;r<a;r+=1){var s=i[o[r].meshId];if(s)for(var l={buffer:A.getModelDescriptor().getReferencedMeshBufferById(e),indexInfo:o[r]},c=0,d=s.length;c<d;c+=1){var h=s[c];this._createNodeBufferByMpkBufferData(A,h,l);var u=this._getMaterialKeyByNodeInfo(h);n[u]||(n[u]=[]),n[u].push(h)}}},Ym.prototype._mergeMergeableMeshes=function(n,o,r,a){var s=Object.keys(o);if(0!==s.length){var l=this,c=n.loader.maxLoadTaskCount,d=s.length,h=n.progressPercentage.load,u=n.progressPercentage.collect,p=n.progressPercentage.merge,g=Math.ceil(d/n.progressFrequency);requestAnimationFrame(function t(A){var i=A;return function(){var A=null,e=null;for(e=d<i+g?d:i+g,A=i;A<e;A+=1)l._collectMergedGeometriesById(s[A],o,r),A===e-1&&(e!==d?(n.dispatchEvent({type:lh.ON_LOAD_PROGRESS,progress:{total:c,loaded:(A/d*p+h+u)*c,modelKey:n.modelKey}}),requestAnimationFrame(t(A+1))):l._makeMeshNodes(n,a))}}(0))}else this._makeMeshNodes(n,a)},Ym.prototype._collectDataMergedMeshesByIdxId=function(A,e,t,i){var n=e[A],o=n.IndexInfos;if(o&&0!==o.length){var r=!1;n.UV&&(n.UV.byteLength||n.UV.length)&&(r=!0);for(var a=void 0,s=0,l=o.length;s<l;s+=1){var c=t[o[s].meshId];if(c&&0!==c.length){a=o[s].meshId;for(var d=0,h=c.length;d<h;d+=1)c[d].uv=r}}if(void 0!==a){var u=t[a][0],p={},g=this._getMaterialKeyByNodeInfo(u);void 0===i[g]&&(i[g]=[]);for(var f=0,m=o.length;f<m;f+=1)t[o[f].meshId]&&(void 0===p[(u=t[o[f].meshId][0]).name]&&(p[u.name]=[]),o[f].userId=u.name,o[f].nodeId=u.nodeId,o[f].boundingBox=u.boundingBox,p[u.name].push(o[f]));var v=new Gi;v._visible=!0,v.setIndex(new Ci(new Uint32Array(n.I),1)),v.addAttribute("position",new Ci(new Float32Array(n.P),3)),n.N&&(n.N.byteLength||n.N.length)&&v.addAttribute("normal",new Ci(new Float32Array(n.N),3)),r&&v.addAttribute("uv",new Ci(new Float32Array(n.UV),2)),i[g].push({geometry:v,indices:p})}}},Ym.prototype._dealDataMergedMeshs=function(n,A,o,r,a){if(0!==A.mergedIdxs.length){var s=this,l=this.mapMaterialIdToMergedNode,c=A.mergedIdxs,d=c.length,h=A.mergedIdxs.length+A.mergeableIdxs.length,u=n.loader.maxLoadTaskCount,p=n.progressPercentage.load,g=n.progressPercentage.collect,f=Math.ceil(d/n.progressFrequency);requestAnimationFrame(function t(A){var i=A;return function(){var A=null,e=null;for(e=d<i+f?d:i+f,A=i;A<e;A+=1)s._collectDataMergedMeshesByIdxId(c[A],o,r,l),A===e-1&&(e!==d?(n.dispatchEvent({type:lh.ON_LOAD_PROGRESS,progress:{total:u,loaded:(A/h*g+p)*u,modelKey:n.modelKey}}),requestAnimationFrame(t(A+1))):(n.dispatchEvent({type:lh.ON_LOAD_PROGRESS,progress:{total:u,loaded:(A/h*g+p)*u,modelKey:n.modelKey}}),a&&a()))}}(0))}else a&&a()},Ym.prototype._dealDataMergeableMeshs=function(n,A,o,r,a){if(0!==A.mergeableIdxs.length){var s=this,l=this.mapMaterialIdToMergedNode,c={},d=A.mergedIdxs.length,h=A.mergeableIdxs.length,u=d+h,p=A.mergeableIdxs,g=n.loader.maxLoadTaskCount,f=n.progressPercentage.load,m=n.progressPercentage.collect,v=Math.ceil(h/n.progressFrequency);requestAnimationFrame(function t(A){var i=A;return function(){var A=null,e=null;for(e=h<i+v?h:i+v,A=i;A<e;A+=1)s._collectMergeableMeshesByIdxId(n,p[A],o,r,c),A===e-1&&(e!==h?(n.dispatchEvent({type:lh.ON_LOAD_PROGRESS,progress:{total:g,loaded:((A+d)/u*m+f)*g,modelKey:n.modelKey}}),requestAnimationFrame(t(A+1))):(n.dispatchEvent({type:lh.ON_LOAD_PROGRESS,progress:{total:g,loaded:(m+f)*g,modelKey:n.modelKey}}),s._mergeMergeableMeshes(n,c,l,a)))}}(0))}else this._makeMeshNodes(n,a)},Ym.prototype._dealUnsharedMeshs=function(A,e,t){for(var i=this.mapMaterialIdToMergedNode,n=0,o=A.length;n<o;n+=1){var r=t[A[n]],a=r.IndexInfos,s=e[a[0].meshId][0],l={},c=this._getMaterialKeyByNodeInfo(s);void 0===i[c]&&(i[c]=[]);for(var d=0,h=a.length;d<h;d+=1)void 0===l[(s=e[a[d].meshId][0]).userId]&&(l[s.userId]=[]),a[d].userId=s.userId,a[d].nodeId=s.nodeId,l[s.userId].push(a[d]);var u=new Gi;u._visible=!0,u.setIndex(new Ci(new Uint32Array(r.index),1)),u.addAttribute("position",new Ci(new Float32Array(r.position),3)),r.normal&&u.addAttribute("normal",new Ci(new Float32Array(r.normal),3)),r.uv&&u.addAttribute("uv",new Ci(new Float32Array(r.uv),2)),i[c].push({geometry:u,indices:l})}},Ym.prototype._makeMeshNodes=function(t,A){Gh.time("makeMesh");var e=t.manager,i=t.modelKey,n=t._encodedDatabagId,o=this._getNodeGroup(t),r=this.mapMaterialIdToMergedNode;for(var a in r)for(var s=this.getPropertyValueByMaterialKey(a),l=r[a],c=0,d=l.length;c<d;c+=1){var h=l[c].geometry,u=l[c].indices,p=null;if("lines"===s.type)(p=new Ru(h)).modelKey=i;else{var g={modelKey:i};(p=new Fu(h)).spawn(g)}p._indicesGroup=u,o.add(p),e.addMeshToOctantMap(n,l[c].mesh=p,s.materialId,s.uvProp);var f=function(e){u.hasOwnProperty(e)&&u[e].forEach(function(A){t.addMeshToInfoMap(e,A.nodeId,p,A)})};for(var m in u)f(m);p=u=null}o.updateMatrixWorld(!0),t.dispatchEvent({type:lh.ON_LOAD_PROGRESS,progress:{total:t.loader.maxLoadTaskCount,loaded:t.loader.maxLoadTaskCount,modelKey:t.modelKey}}),A&&A(),Gh.timeEnd("makeMesh")},Ym.prototype.createMeshNodes=function(A,e){A.modelDescriptor.getStandardNodeInfos()?this._createGeometries(A,e):e&&e()},Ym.prototype.applySelection=function(A){},Ym.prototype.clearSelection=function(A){},Ym.prototype.applyHover=function(A){},Ym.prototype.clearHover=function(A){},Ym.prototype.getMeshNode=function(){return this.mapMaterialIdToMergedNode},Ym.prototype._disposeMergedGeometries=function(){for(var A in this.mapMaterialIdToMergedNode){for(var e=this.mapMaterialIdToMergedNode[A],t=0,i=e.length;t<i;t+=1){e[t].geometry.dispose(),delete e[t].geometry,delete e[t].indices,delete e[t].mesh}delete this.mapMaterialIdToMergedNode[A]}},Ym.prototype._getMaterialKeyByNodeInfo=function(A,e){var t=A.materialId;if(e){var i=e.manager.getOverrideMaterialByNodeInfo(A);A.materialId=i?t=i.name:A.originMId}return t+"-"+(A.uv?"1":"0")+"-"+(A.type===Dm.EnumNodeItemType.LINE?"lines":"meshes")},Ym.prototype.getPropertyValueByMaterialKey=function(A){var e=A.split("-");return{materialId:e[0],uvProp:e[1],type:e[2]}},Ym.prototype.clearSelectedObjectIds=function(){this.selectedObjectIds.length=0},Ym.prototype.cacheSelectedObjectIds=function(A,e,t){this.selectedObjectIds.push({uid:A,mKey:e,idx:t})},Ym.prototype.adjustVisibility=function(A,e){var t=this._getNodeGroup(A),i=t.visible;e&&!t.bVisible||(t.visible=e),t.bVisible=i},Ym.prototype.changeVisibilityOfSelectedObjects=function(A,e){if(e)for(var t=0,i=this.selectedMeshes.length;t<i;t+=1){var n=this.selectedMeshes[t].object,o=this.selectedMeshes[t].indices;if(n)for(var r=0,a=o.length;r<a;r+=1){var s=n.geometry.groups[o[r].idx];s.start=o[r].start,s.count=o[r].count}}else{for(var l={},c=this.selectedMeshes.length=0,d=this.selectedObjectIds.length;c<d;c+=1)l[this.selectedObjectIds[c].mKey+"&"+this.selectedObjectIds[c].idx]=!0;for(var h=Object.keys(l),u=0,p=h.length;u<p;u+=1){var g=h[u].split("&"),f=this.mapMaterialIdToMergedNode[g[0]][g[1]],m=f.mesh;if(m){for(var v=[],y=f.geometry.groups,C=0,I=y.length;C<I;C+=1){var x=y[C];x.materialIndex===wh.SELECTED&&(v.push({idx:C,start:x.start,count:x.count}),x.start=0,x.count=0)}v.length&&this.selectedMeshes.push({object:m,indices:v})}}}},Ym.prototype.changeVisibilityOfNonSelectedObjects=function(A,e){if(e)for(var t=0,i=this.nonSelectedMeshes.length;t<i;t+=1){var n=this.nonSelectedMeshes[t].object,o=this.nonSelectedMeshes[t].indices;if(o)for(var r=0,a=o.length;r<a;r+=1){var s=n.geometry.groups[o[r].idx];s.start=o[r].start,s.count=o[r].count}else n.visible=this.nonSelectedMeshes[t].visibility}else{for(var l={},c=this.nonSelectedMeshes.length=0,d=this.selectedObjectIds.length;c<d;c+=1){var h=this.selectedObjectIds[c];l[h.mKey]||(l[h.mKey]={}),l[h.mKey][h.idx]=!0}for(var u in this.mapMaterialIdToMergedNode){var p=this.mapMaterialIdToMergedNode[u];if(l[u])for(var g=0,f=p.length;g<f;g+=1){var m=p[g].mesh;if(m){if(!l[u][g]){this.nonSelectedMeshes.push({object:m,indices:null,visibility:m.visible}),m.visible=!1;continue}for(var v=[],y=m.geometry.groups,C=0,I=y.length;C<I;C+=1){var x=y[C];x.materialIndex!==wh.SELECTED&&(v.push({idx:C,start:x.start,count:x.count}),x.start=0,x.count=0)}v.length?this.nonSelectedMeshes.push({object:m,indices:v}):(this.nonSelectedMeshes.push({object:m,indices:null,visibility:m.visible}),m.visible=!1)}}else for(var b=0,E=p.length;b<E;b+=1){var w=p[b].mesh;w&&(this.nonSelectedMeshes.push({object:w,indices:null,visibility:w.visible}),w.visible=!1)}}}},Ym.prototype.restoreVisibilityOfObjects=function(){this.selectedMeshes.length=0,this.nonSelectedMeshes.length=0},Ym.prototype.getBlinkMaterials=function(){return this.blinkMaterials},Ym.prototype.disposeBufferAfterVbo=function(){if(!this.bufferDestroyed)for(var A in this.bufferDestroyed=!0,this.mapMaterialIdToMergedNode)for(var e=this.mapMaterialIdToMergedNode[A],t=0,i=e.length;t<i;t+=1){var n=e[t].geometry;null!==n&&lu.disposeBufferFromGeometry(n,["normal","uv","uv2"])}};var Jm=function(A){this.manager=A,this.generated=!1,this.wireframeLineSegment=null,this.wireframeGeometries=null};Jm.prototype.destroy=function(){this.clearData(),this.manager=null},Jm.prototype.clearData=function(){this.generated=!1,this.bufferDestroyed=!1,this.wireframeLineSegment&&(this.wireframeLineSegment._indicesGroup=null,this.wireframeLineSegment=null),this.wireframeGeometries=null},Jm.prototype._createWireframeGeometry=function(A,e){if(this.wireframeGeometries||(this.wireframeGeometries={}),!this.wireframeGeometries[e.nodeId]){for(var t=A.attributes.position.array.slice(e.positionStart,e.positionStart+e.positionCount),i=A.getIndex().array.slice(e.indexStart,e.indexStart+e.indexCount),n=0,o=i.length;n<o;n+=1)i[n]-=e.positionStart/3;var r=ku(t,i),a=new Gi;a.setIndex(new Bi(r,1)),a.addAttribute("position",new Ci(Float32Array.from(t),3)),a._userId=e.userId,this.wireframeGeometries[e.nodeId]=a}},Jm.prototype._createWireframeGeometries=function(A){var e=A.manager.filter,t=A.getModelDescriptor().getStandardNodeInfos();var i,n=this.manager.getMeshNode();for(var o in n){if("meshes"===this.manager.getPropertyValueByMaterialKey(o).type)for(var r=n[o],a=0,s=r.length;a<s;a+=1){var l=r[a],c=l.geometry;if(null!==c){var d=l.indices;for(var h in d)if(void 0,!(i=t[h])||!e._hasRenderWithBoardlineFilter()||e._isRenderWithBoardline(i[0]))for(var u=d[h],p=0,g=u.length;p<g;p+=1)this._createWireframeGeometry(c,u[p])}}}return!0},Jm.prototype._makeWireframe=function(A){var e={},t=A.getWireframeMaterial();for(var i in this.wireframeGeometries){var n=this.wireframeGeometries[i],o=n._userId,r=new Zr(n,t);r.name=o,e[r.nodeId=o]||(e[o]=[]),e[o].push(r),r=null}var a=[];for(var o in e)for(var s=e[o],l=0,c=s.length;l<c;l+=1)a.push(s[l]);if(0<a.length){var d={},h=lu.mergeBufferGeometriesFromMeshs(a,d);h&&(this.wireframeLineSegment=new Zr(h,A.getWireframeMaterial()),this.wireframeLineSegment._indicesGroup=d)}for(var o in a=null,e)delete e[o];this.wireframeGeometries=e=null},Jm.prototype.generateWireframe=function(A){A.isActivateWireframe()&&(this.generated||(this._createWireframeGeometries(A),this._makeWireframe(A),this.generated=!0))},Jm.prototype.update=function(A){if(this.manager.hasNodeInfo(A))if(this.generateWireframe(A),A.isActivateWireframe()){if(this.wireframeLineSegment){var e=this._getNodeGroup(A);e.clear(),e.add(this.wireframeLineSegment),e.updateMatrixWorld(!0)}}else A._hasNodeGroup(Ap.WIREFRAME)&&A._removeNodeGroup(Ap.WIREFRAME)},Jm.prototype.rebuildIndices=function(A){if(this.needDealWireframeLine(A)){this.wireframeLineSegment.visible=!0;var e=this.wireframeLineSegment._indicesGroup,t=this.wireframeLineSegment.geometry;t.clearGroups(),this.wireframeLineSegment.material=A.getWireframeMaterial();var i=this.manager.getHiddenUserIds();if(i&&0!==Object.keys(i).length){var n=[];for(var o in e)if(!i[o]){var r=e[o];if(r&&0<r.length)for(var a=0,s=r.length;a<s;a+=1)n.push({indexStart:r[a].indexStart,indexCount:r[a].indexCount})}if(0!==n.length){for(n.sort(function(A,e){return A.indexStart-e.indexStart}),a=0,s=n.length;a<s;a+=1){var l=n[a].indexStart,c=n[a].indexCount;if(0===a)t.addGroup(l,c,0);else l===n[a-1].indexStart+n[a-1].indexCount?t.groups[t.groups.length-1].count+=c:t.addGroup(l,c,0)}this.wireframeLineSegment.material=[A.getWireframeMaterial()]}else this.wireframeLineSegment.visible=!1}}},Jm.prototype._getNodeGroup=function(A){return A._getNodeGroup(Ap.WIREFRAME,{globalSpace:!0})},Jm.prototype.needDealWireframeLine=function(A){return!(!A.isActivateWireframe()||!this.wireframeLineSegment)},Jm.prototype.adjustVisibility=function(A,e){if(this.needDealWireframeLine(A)){var t=this._getNodeGroup(A),i=t.visible;e&&!t.bVisible||(t.visible=e),t.bVisible=i}},Jm.prototype.changeVisibilityOfSelectedObjects=function(A,e){},Jm.prototype.changeVisibilityOfNonSelectedObjects=function(A,e){this.adjustVisibility(A,e)},Jm.prototype.restoreVisibilityOfObjects=function(){},Jm.prototype.disposeBufferAfterVbo=function(){this.generated&&!this.bufferDestroyed&&this.wireframeLineSegment&&(this.bufferDestroyed=!0,lu.disposeBufferFromGeometry(this.wireframeLineSegment.geometry,["position","normal","uv","uv2"]))};var Zm=function(){this.meshManager=new Ym(this),this.wireframeManager=new Jm(this)};Zm.prototype.destroy=function(){this.meshManager.destroy(),this.meshManager=null,this.wireframeManager.destroy(),this.wireframeManager=null,this._clearFilteredState(),this._clearSelectedState(),this._clearHoveredState(),this._clearBlinkedState()},Zm.prototype.updateNodes=function(A){var e;e=this._collectModelFiltered(A),this.meshManager.update(A,e),this.wireframeManager.update(A)},Zm.prototype.rebuildIndices=function(A){this._rebuildIndices(A)},Zm.prototype.clearData=function(){this.meshManager.clearData(),this.wireframeManager.clearData(),this._clearFilteredState(),this._clearSelectedState(),this._clearHoveredState(),this._clearBlinkedState()},Zm.prototype.createMeshNodes=function(A,e){this.meshManager.createMeshNodes(A,e)},Zm.prototype.asyncCreateMeshNodes=function(A,e,t){this.meshManager.asyncCreateMeshNodes(A,e,t)},Zm.prototype.hasNodeInfo=function(A){return Boolean(A.getModelDescriptor().getStandardNodeInfos())},Zm.prototype.disposeGeometry=function(A){this.meshManager.disposeGeometry(A)},Zm.prototype.getMeshNode=function(){return this.meshManager.getMeshNode()},Zm.prototype.getPropertyValueByMaterialKey=function(A){return this.meshManager.getPropertyValueByMaterialKey(A)},Zm.prototype.getFilteredUserIds=function(){return this.mapMaterialIdToUserIdsForFilter},Zm.prototype.getSelectedUserIds=function(){return this.mapMaterialIdToUserIdsForSelection},Zm.prototype.getHoveredUserIds=function(){return this.mapMaterialIdToUserIdsForHover},Zm.prototype.getBlinkedUserIds=function(){return this.mapBlinkUserIds},Zm.prototype.getHiddenUserIds=function(){return this.hiddenUserIdSetObject},Zm.prototype.applyFilter=function(A,e){if(this.hasNodeInfo(A)){this.wireframeManager.generateWireframe(A);var t=null;t=e||A.getModelDescriptor().getStandardUserIds();var i=A.getModelDescriptor().getStandardNodeInfos();this._collectFilteredUserIds(A.manager.filter,t,i),this._collectSelectedUserIds(A.manager.sceneState.selectionSet,i),this._collectHoveredUserIds(A.manager.sceneState.hoverId,i),this._rebuildIndices(A),this.updateNodes(A)}},Zm.prototype.applySelection=function(A){if(this.hasNodeInfo(A)){var e=A.getModelDescriptor().getStandardNodeInfos();this._clearSelectedState(A),this._clearHoveredState(A),this._collectSelectedUserIds(A.manager.sceneState.selectionSet,e),this._collectHoveredUserIds(A.manager.sceneState.hoverId,e),this._rebuildIndices(A),this.updateNodes(A)}},Zm.prototype.clearSelection=function(A){this._clearSelectedState(A),this.applyHover(A)},Zm.prototype.applyHover=function(A){if(this.hasNodeInfo(A)){var e=A.getModelDescriptor().getStandardNodeInfos();this._clearHoveredState(A),this._collectHoveredUserIds(A.manager.sceneState.hoverId,e),this._rebuildIndices(A),this.updateNodes(A)}},Zm.prototype.applyBlink=function(A){if(this.hasNodeInfo(A)){var e=A.getModelDescriptor().getStandardNodeInfos();this._clearBlinkedState(A),this._clearHoveredState(A),this._collectBlinkedUserIds(A.manager.sceneState.getBlinkComponentsIdMap(),e),this._collectHoveredUserIds(A.manager.sceneState.hoverId,e),this._rebuildIndices(A),this.updateNodes(A)}},Zm.prototype.clearBlink=function(A){this._clearBlinkedState(A),this.applyHover(A)},Zm.prototype.applyReplacement=function(A){this._rebuildIndices(A),this.updateNodes(A)},Zm.prototype.clearHover=function(A){this._clearHoveredState(A),this._rebuildIndices(A),this.updateNodes(A)},Zm.prototype._collectFilteredUserIds=function(A,e,t){var i=A._hasHiddenFileIdFilter(),n=A._hasVisibleFilter(),o=A._hasOverrideMaterialFilter(),r=A._hasTransparentFilter(),a=this.mapMaterialIdToUserIdsForFilter={};if(this.hiddenUserIdSetObject={},this.overrideUserIdSetObject={},this.transparentUserIdSetObject={},i||n||o||r)for(var s=0;s<e.length;s+=1){var l=e[s],c=t[l];if(c&&c.length)for(var d=0,h=c.length;d<h;d+=1){var u=c[d];if(i&&A._isHiddenFileId(u)||n&&!1===A._isVisible(u))void 0===a[u.materialId]&&(a[u.materialId]={}),void 0===a[u.materialId][wh.HIDDEN]&&(a[u.materialId][wh.HIDDEN]={}),this.hiddenUserIdSetObject[l]=a[u.materialId][wh.HIDDEN][l]=!0;else if(r&&A._isTransparent(u))void 0===a[u.materialId]&&(a[u.materialId]={}),void 0===a[u.materialId][wh.TRANSPARENT]&&(a[u.materialId][wh.TRANSPARENT]={}),this.transparentUserIdSetObject[l]=a[u.materialId][wh.TRANSPARENT][l]=!0;else if(o&&A._hasOverrideMaterial(u)){var p=A._getOverrideMaterial(u),g=null!==p?p.name:"";""!==g&&(void 0===a[u.materialId]&&(a[u.materialId]={}),void 0===a[u.materialId][wh.OVERRIDED]&&(a[u.materialId][wh.OVERRIDED]={}),this.overrideUserIdSetObject[l]=a[u.materialId][wh.OVERRIDED][l]=g)}}}},Zm.prototype._collectModelFiltered=function(A){var e=A.manager.filter,t=A.modelKey,i=e._hasModelOverrideMaterialFilter(),n=e._hasModelTransparentFilter(),o=A.manager.modelState.selectionSet;return A.manager.modelState.hoverId===t?A.manager.modelState.getHoverMaterial():o.hasOwnProperty(A.modelKey)?A.manager.modelState.selectionMaterial:n&&e._isModelTransparent(t)?e._getMaterialByName("scene"):i&&e._hasModelOverrideMaterial(t)?e._getModelOverrideMaterial(t):null},Zm.prototype._clearFilteredState=function(){this.mapMaterialIdToUserIdsForFilter=null},Zm.prototype._collectSelectedUserIds=function(A,e){var t=this.mapMaterialIdToUserIdsForSelection={};for(var i in A){var n=e[i];if(n&&n.length)for(var o=0,r=n.length;o<r;o+=1)void 0===t[n[o].materialId]&&(t[n[o].materialId]={}),void 0===t[n[o].materialId][i]&&(t[n[o].materialId][i]=!0)}},Zm.prototype._clearSelectedState=function(){this.mapMaterialIdToUserIdsForSelection&&(this.mapMaterialIdToUserIdsForSelection=null)},Zm.prototype._collectHoveredUserIds=function(A,e){var t=this.mapMaterialIdToUserIdsForHover={};if(A&&e[A])for(var i=e[A],n=0,o=i.length;n<o;n+=1)void 0===t[i[n].materialId]&&(t[i[n].materialId]={}),void 0===t[i[n].materialId][A]&&(t[i[n].materialId][A]=!0)},Zm.prototype._clearHoveredState=function(){this.mapMaterialIdToUserIdsForHover&&(this.mapMaterialIdToUserIdsForHover=null)},Zm.prototype._collectBlinkedUserIds=function(A,e){var t=this.mapBlinkUserIds={};for(var i in A){var n=e[i];if(n&&n.length)for(var o=0,r=n.length;o<r;o+=1)void 0===t[n[o].materialId]&&(t[n[o].materialId]={}),void 0===t[n[o].materialId][i]&&(t[n[o].materialId][i]=!0)}},Zm.prototype._clearBlinkedState=function(){this.mapBlinkUserIds&&(this.mapBlinkUserIds=null)},Zm.prototype._rebuildIndices=function(A){this.meshManager.rebuildIndices(A),this.wireframeManager.rebuildIndices(A)},Zm.prototype.clearCachedData=function(){this.meshManager.clearAllNodeBuffer()},Zm.prototype.getMeshesByUserIds=function(A,e,t){this.meshManager.getMeshesByUserIds(A,e,t)},Zm.prototype.adjustVisibility=function(A,e){this.meshManager.adjustVisibility(A,e),this.wireframeManager.adjustVisibility(A,e)},Zm.prototype.changeVisibilityOfSelectedObjects=function(A,e){this.meshManager.changeVisibilityOfSelectedObjects(A,e),this.wireframeManager.changeVisibilityOfSelectedObjects(A,e)},Zm.prototype.changeVisibilityOfNonSelectedObjects=function(A,e){this.meshManager.changeVisibilityOfNonSelectedObjects(A,e),this.wireframeManager.changeVisibilityOfNonSelectedObjects(A,e)},Zm.prototype.restoreVisibilityOfObjects=function(){this.meshManager.restoreVisibilityOfObjects(),this.wireframeManager.restoreVisibilityOfObjects()},Zm.prototype.disposeBufferAfterVbo=function(){this.meshManager.disposeBufferAfterVbo(),this.wireframeManager.disposeBufferAfterVbo()};var $m=function(A,e,t){Yg.call(this,A,e,t)};($m.prototype=Object.create(Yg.prototype)).prepare=function(A){this.isLoaded&&!this.isHidden()&&(this.model.enableLightmap===Ah.EnableLightmap&&this.model.lightmapIntensity===Ah.LightmapIntensity||(this.model.enableLightmap=Ah.EnableLightmap,this.model.lightmapIntensity=Ah.LightmapIntensity,this.rebuildIndicesforLightmap(),this.updateNodes()),this.model.getMaterialManager()._updateTextureMapping())},$m.prototype.settleData=function(A){this.model.getModelDescriptor().cacheNodeInfosOnGeometryId(),this.addNodeInfoToOctantMap(),this.createMeshNodes(A)},$m.prototype.addNodeInfoToOctantMap=function(){var t=this.model.manager,i=this.model._encodedDatabagId;this.model.getModelDescriptor().traverseNodeInfos(function(A,e){t.addNodeInfoToOctantMap(i,A,e)})},$m.prototype.createMeshNodes=function(A){var e=this,t=this.model;this.instancedManager.createMeshNodes(t),this.defaultManager.createMeshNodes(t,function(){t.getMaterialManager()._updateTextureMapping(),e.updateNodes(),e.clearCachedData(t),e.loaded=!0,A&&A()})},$m.prototype.clearCachedData=function(A){A.getLoader().destroyReader(),A.getModelDescriptor().clearReferencedMeshCache(),this.defaultManager.clearCachedData(),this.instancedManager.clearCachedData()};var Av=function(A){return Xm.call(this),this.manager=A,this.instanceNode={},this.instanceUpdateMap={},this.mapPackIdToIndices={},this.mapMatrixToUserId={},this.mapIndicesToPackId={},this.instanceGeometries={},this.cachedInstance={vState:{},vColor:{},mcol0:{},mcol1:{},mcol2:{},mcol3:{},muvCol0:{},muvCol1:{},muvCol2:{}},this.selectedMeshes=[],this.nonSelectedMeshes=[],this.selectedObjectIds=[],this.bufferAttributeMap={},this};(Av.prototype=Object.create(Xm.prototype)).destroy=function(){this.dispose(),this.disposeInstanceGeometries(),this.cachedInstance=null,this.instanceGeometries=null,this.instanceUpdateMap=null,this.mapPackIdToIndices=null,this.instanceNode=null,this.manager=null,this.selectedMeshes=null,this.nonSelectedMeshes=null,this.selectedObjectIds=null,this.bufferAttributeMap=null},Av.prototype.clearData=function(){this.bufferDestroyed=!1,this.disposeInstanceGeometries(),this.disposeGeometries(),this.clearBufferAttributeMap(),this.clearInstanceCache(),this.mapPackIdToIndices={},this.instanceUpdateMap={},this.instanceNode={}},Av.prototype.clearInstanceCache=function(){this.cachedInstance.vState={},this.cachedInstance.vColor={},this.cachedInstance.mcol0={},this.cachedInstance.mcol1={},this.cachedInstance.mcol2={},this.cachedInstance.mcol3={},this.cachedInstance.muvCol0={},this.cachedInstance.muvCol1={},this.cachedInstance.muvCol2={}},Av.prototype.updateNodes=function(A){this._getNodeGroup(A).visible=!A.isOnlyWireframe()},Av.prototype.createMeshNodes=function(A,e){this._createInstanceGeometries(A,e),this._makeInstanceNodes(A)},Av.prototype.disposeInstanceGeometries=function(){for(var A in this.instanceGeometries)this.disposeInstanceGeometry(A)},Av.prototype.disposeInstanceGeometry=function(A){var e=this.instanceGeometries[A],t=null,i=null,n=null,o=null,r=null;if(e){for(var a in e){var s=e[a];if(Array.isArray(s))for(o=0,r=s.length;o<r;o+=1)if(t=s[o],Array.isArray(t))for(i=0,n=t.length;i<n;i+=1)t[i].dispose();else t.dispose();else s.dispose()}delete this.instanceGeometries[A]}},Av.prototype._clearInstanceStateByUserId=function(A,e){var t=this.mapPackIdToIndices[e];function i(A,e,t){for(var i=A.getAttribute("vState").array,n=0,o=e.length;n<o;n+=1){i[e[n]]=t}A.getAttribute("vState").needsUpdate=!0}for(var n in t){var o=this.instanceGeometries[n];for(var r in o){var a=t[n][r];if(void 0!==a)for(var s=o[r],l=A.instanceMaterials[r],c=0,d=l.length;c<d;c+=1){var h=s[c],u=l[c]._primary?Ih.NONE:Ih.HIDDEN;if(Array.isArray(h))for(var p=0,g=h.length;p<g;p+=1)i(h[p],a,u);else i(h,a,u)}}}},Av.prototype._createInstanceGeometry=function(A,e){var t=e.geometryId,i=e.materialId,n=e.userId,o=e.matrix,r=e.uvArrayBuffer,a=this.getGeometryByNodeInfo(A,e);if(a){a.attributes.uv&&(e.uv=!0);var s=void 0===a.length?1:a.length,l=A.manager.getOverrideMaterialByNodeInfo(e),c=A.materialManager.materials[i];if(c){e.materialId=l?i=(c=l).name:e.originMId;var d=this.cachedInstance;if(this.instanceGeometries[t]||(this.instanceGeometries[t]={},d.vState[t]={},d.vColor[t]={},d.mcol0[t]={},d.mcol1[t]={},d.mcol2[t]={},d.mcol3[t]={},(Array.isArray(a)||e.uv)&&(d.muvCol0[t]={},d.muvCol1[t]={},d.muvCol2[t]={})),!this.instanceGeometries[t][i]&&(this.instanceGeometries[t][i]=[],d.vState[t][i]=[],d.vColor[t][i]=[],d.mcol0[t][i]=[],d.mcol1[t][i]=[],d.mcol2[t][i]=[],d.mcol3[t][i]=[],Array.isArray(a)||e.uv)){d.muvCol0[t][i]=[],d.muvCol1[t][i]=[],d.muvCol2[t][i]=[];for(var h=0;h<s;h+=1)d.muvCol0[t][i][h]=[],d.muvCol1[t][i][h]=[],d.muvCol2[t][i][h]=[]}var u=this.instanceGeometries[t][i],p=null;if(0===u.length)for(var g=0;g<1;g+=1){if(Array.isArray(a)){p=new Array(s);for(h=0;h<s;h+=1)p[h]=new Rl,p[h].setIndex(a[h].index),p[h].addAttribute("position",a[h].attributes.position),p[h].addAttribute("normal",a[h].attributes.normal),p[h].addAttribute("uv",a[h].attributes.uv)}else{(p=new Rl).setIndex(a.index),p.addAttribute("position",a.attributes.position);var f=a.attributes.normal;f&&p.addAttribute("normal",f),a.attributes.uv&&p.addAttribute("uv",a.attributes.uv)}u.push(p)}d.vColor[t][i].push(c.color.r,c.color.g,c.color.b,c.opacity),d.vState[t][i].push(0);var m=o.elements;if(d.mcol0[t][i].push(m[0],m[1],m[2]),d.mcol1[t][i].push(m[4],m[5],m[6]),d.mcol2[t][i].push(m[8],m[9],m[10]),d.mcol3[t][i].push(m[12],m[13],m[14]),Array.isArray(a)&&r)for(h=0;h<s;h+=1)d.muvCol0[t][i][h].push(r[6*h],r[6*h+1]),d.muvCol1[t][i][h].push(r[6*h+2],r[6*h+3]),d.muvCol2[t][i][h].push(r[6*h+4],r[6*h+5]);else if(e.uv)for(h=0;h<s;h+=1)d.muvCol0[t][i][h].push(1,0),d.muvCol1[t][i][h].push(0,1),d.muvCol2[t][i][h].push(0,0);var v=this.mapPackIdToIndices;v[n]||(v[n]={}),v[n][t]||(v[n][t]={}),v[n][t][i]||(v[n][t][i]=[]);var y=d.vState[t][i].length;v[n][t][i].push(y-1);var C=this.mapIndicesToPackId;C[i]||(C[i]={}),C[i][t]||(C[i][t]={}),void 0===C[i][t][n]&&(C[i][t][n]=y-1);var I=this.instanceUpdateMap;I.hasOwnProperty(t)||(I[t]=!0);var x=this.mapMatrixToUserId;x[n]||(x[n]={}),x[n][t]||(x[n][t]={}),x[n][t][i]||(x[n][t][i]=[]),x[n][t][i].push({matrix:e.matrix,boundingBox:e.boundingBox})}else Gh.warn("缺少材质")}},Av.prototype._resetInstanceMaterial=function(A){var e=null,t=null,i=null,n=null,o=null,r=null,a=A.materialManager;for(var s in this.instanceGeometries){var l=this.instanceGeometries[s];for(var c in l){var d=l[c],h=a.instanceMaterials[c];for(i=0,r=h.length;i<r;i+=1){var u=d[i],p=h[i]._primary?Ih.NONE:Ih.HIDDEN;if(Array.isArray(u))for(t=0,o=u.length;t<o;t+=1){var g=u[t].getAttribute("vState").array;for(e=0,n=g.length;e<n;e+=1)g[e]=p;u[t].getAttribute("vState").needsUpdate=!0}else{if(!u.getAttribute("vState"))continue;var f=u.getAttribute("vState").array;for(e=0,n=f.length;e<n;e+=1)f[e]=p;u.getAttribute("vState").needsUpdate=!0}}}}},Av.prototype.getMeshesByUserId=function(A,e){var t=this.mapMatrixToUserId[e];for(var i in t){var n=t[i];for(var o in n)for(var r=n[o],a=this.instanceNode[i][o][0],s=0;s<r.length;s+=1){if(Array.isArray(a))for(var l=0;l<a.length;l+=1){var c;(c={}).matrix=r[s].matrix,c.mesh=a[l];var d=c.mesh.geometry.boundingBox;(d=d?d.clone():(c.mesh.geometry.computeBoundingBox(),c.mesh.geometry.boundingBox.clone())).applyMatrix4(c.matrix),c.boundingBox=d,A.minDistanceObjects[e].push(c)}else(c={}).matrix=r[s].matrix,c.boundingBox=r[s].boundingBox,c.mesh=a,A.minDistanceObjects[e].push(c)}}},Av.prototype._updateInstanceStateByUserId=function(A,e,t,i,n){var o=this.mapPackIdToIndices[e],r=A.selectedMaterial,a=A.manager.filter._getMaterialByName("scene");function s(A,e,t,i){for(var n=A.getAttribute("vState").array,o=A.getAttribute("aColor"),r=o?o.array:null,a=0;a<e.length;a+=1){var s=e[a];n[s]=t,null!==r&&null!==i&&(r[4*s]=i[0],r[4*s+1]=i[1],r[4*s+2]=i[2],r[4*s+3]=i[3])}A.getAttribute("vState").needsUpdate=!0,o&&(o.needsUpdate=!0)}var l=this.instanceGeometries[t],c=A.materialManager;for(var d in l){var h=o[t][d];if(void 0!==h){var u,p=A.manager.getOverrideMaterialByName(d)||c.materials[d],g=null,f=!1;switch(i){case Ih.HOVER:g=n?(g=A.manager.filter._getMaterialByName(n),A.manager.sceneState.getHoverMaterial(g)):A.manager.sceneState.getHoverMaterial(c.materials[d]);break;case Ih.SELECTED:this.cacheSelectedObjectIds(e,t,d),g=r;break;case Ih.TRANSPARENT:g=a;break;case Ih.OVERRIDED:g=n?A.manager.filter._getMaterialByName(n):(f=!0,p);break;case Ih.BLINK:g=n?A.manager.filter._getMaterialByName(n):p;break;default:f=!0,g=p}var m=i;i===Ih.TRANSPARENT&&(m=Ih.OVERRIDED),u=[g.color.r,g.color.g,g.color.b,g.opacity];for(var v=l[d],y=c.instanceMaterials[d],C=0,I=y.length;C<I;C+=1){var x=v[C],b=y[C],E=m;if(b.transparent!==g.transparent&&(b.transparent=!f||g.transparent),Array.isArray(x))for(var w=0,M=x.length;w<M;w+=1)s(x[w],h,E,u);else s(x,h,E,u);E===Ih.BLINK&&b.setBlinkColor(A.manager.getBlinkColor())}}}},Av.prototype.clearBufferAttributeMap=function(){this.bufferAttributeMap={}},Av.prototype.getBufferAttributesBy=function(A,e){var t=A+"&"+e;if(this.bufferAttributeMap[t])return this.bufferAttributeMap[t];var i=this.cachedInstance,n=new Pl(new Float32Array(i.mcol0[e][A]),3,!1,1),o=new Pl(new Float32Array(i.mcol1[e][A]),3,!1,1),r=new Pl(new Float32Array(i.mcol2[e][A]),3,!1,1),a=new Pl(new Float32Array(i.mcol3[e][A]),3,!1,1),s=[],l=[],c=[];if(i.muvCol0[e])for(var d=0,h=i.muvCol0[e][A].length;d<h;d+=1)s.push(new Pl(new Float32Array(i.muvCol0[e][A][d]),2,!1,1)),l.push(new Pl(new Float32Array(i.muvCol1[e][A][d]),2,!1,1)),c.push(new Pl(new Float32Array(i.muvCol2[e][A][d]),2,!1,1));return this.bufferAttributeMap[t]={attributeMcol0:n,attributeMcol1:o,attributeMcol2:r,attributeMcol3:a,attributeMuvCol0Array:s,attributeMuvCol1Array:l,attributeMuvCol2Array:c},this.bufferAttributeMap[t]},Av.prototype._makeInstanceNodeById=function(A,e){var t=this._getNodeGroup(A),i=this.cachedInstance,n=i.vState[e],o=null,r=null,a=null,s=null,l=null,c=null,d=A.materialManager;for(var h in n){var u=A.manager.getOverrideMaterialByName(h),p=d.instanceMaterials[h];if(!p){p=[];var g=xu.getMaterialParameters(u||d.materials[h]),f=g.transparent,m=xu.createInstanceMaterial(g,!0),v=xu.createInstanceMaterial(g,!(m.transparent=!1));v.transparent=!0,Ah.TranslucentDepthDisabled&&(v.depthWrite=!1),f?(v._primary=!(m._primary=!1),p.push(v)):(v._primary=!(m._primary=!0),p.push(m)),d.instanceMaterials[h]=p}var y=this.instanceGeometries[e][h];if(y){var C=[],I=null,x=this.getBufferAttributesBy(h,e);for(r=0,l=p.length;r<l;r+=1){var b=y[r],E=p[r];if(Array.isArray(b))for(I=new Array(b.length),o=0,s=b.length;o<s;o+=1){if(b[o].addAttribute("mcol0",x.attributeMcol0),b[o].addAttribute("mcol1",x.attributeMcol1),b[o].addAttribute("mcol2",x.attributeMcol2),b[o].addAttribute("mcol3",x.attributeMcol3),b[o].addAttribute("muvCol0",x.attributeMuvCol0Array[o]),b[o].addAttribute("muvCol1",x.attributeMuvCol1Array[o]),b[o].addAttribute("muvCol2",x.attributeMuvCol2Array[o]),b[o].addAttribute("aColor",new Pl(new Float32Array(i.vColor[e][h]),4,!1,1)),b[o].addAttribute("vState",new Pl(new Float32Array(i.vState[e][h]),1,!1,1)),!E._primary){var w=b[o].getAttribute("vState").array;for(a=0,c=w.length;a<c;a+=1)w[a]=Ih.HIDDEN}var M=new Fu(b[o],E);M.alive=!0,M.modelKey=A.modelKey,M.frustumCulled=!1,I[o]=M,0===r&&A.manager.addInstanceMeshToOctantMap(A._encodedDatabagId,M,e,h)}else{if(b.addAttribute("mcol0",x.attributeMcol0),b.addAttribute("mcol1",x.attributeMcol1),b.addAttribute("mcol2",x.attributeMcol2),b.addAttribute("mcol3",x.attributeMcol3),0<x.attributeMuvCol0Array.length&&(b.addAttribute("muvCol0",x.attributeMuvCol0Array[0]),b.addAttribute("muvCol1",x.attributeMuvCol1Array[0]),b.addAttribute("muvCol2",x.attributeMuvCol2Array[0])),b.addAttribute("aColor",new Pl(new Float32Array(i.vColor[e][h]),4,!1,1)),b.addAttribute("vState",new Pl(new Float32Array(i.vState[e][h]),1,!1,1)),!E._primary){var B=b.getAttribute("vState").array;for(a=0,c=B.length;a<c;a+=1)B[a]=Ih.HIDDEN}(I=new Fu(b,E)).frustumCulled=!1,I.modelKey=A.modelKey,I.visible=!0;var _=this.mapIndicesToPackId;if(_[h]&&_[h][e]){for(var S in I._indicesGroup=_[h][e],_[h][e])if(_[h][e].hasOwnProperty(S)){var T=S;if(-1!==e.indexOf("_")){var K=e.split("_");T=S+"_"+K[K.length-1]}A.addMeshToInfoMap(S,T,I,_[h][e][S])}}else Gh.debug("no geo");0===r&&A.manager.addInstanceMeshToOctantMap(A.modelKey,I,e,h)}C.push(I)}this.instanceNode.hasOwnProperty(e)||(this.instanceNode[e]={}),this.instanceNode[e][h]=C}}var F=this.instanceNode[e];for(var L in F)for(r=0,l=(C=F[L]).length;r<l;r+=1)if(I=C[r],Array.isArray(I))for(o=0,s=I.length;o<s;o+=1)t.add(I[o]),I[o].updateMatrixWorld(!0);else t.add(I),I.updateMatrixWorld(!0)},Av.prototype._createInstanceGeometries=function(A,e){Gh.time("createInstanceGeometries");var t=A.modelDescriptor.getInstancedNodeInfos();if(t){e||(e=A.getModelDescriptor().getInstancedUserIds());for(var i=0,n=e.length;i<n;i+=1)for(var o=t[e[i]],r=0,a=o.length;r<a;r+=1)this._createInstanceGeometry(A,o[r]);Gh.timeEnd("createInstanceGeometries")}},Av.prototype._makeInstanceNodes=function(A){for(var e in Gh.time("makeInstanceNodes"),this.instanceUpdateMap)this._makeInstanceNodeById(A,e);Gh.timeEnd("makeInstanceNodes")},Av.prototype._getNodeGroup=function(A){return A._getNodeGroup(Ap.INSTANCEGEOMETRY,{globalSpace:!0})},Av.prototype._hasNodeGroup=function(A){return A._hasNodeGroup(Ap.INSTANCEGEOMETRY)},Av.prototype.clearSelectedObjectIds=function(){this.selectedObjectIds.length=0},Av.prototype.cacheSelectedObjectIds=function(A,e,t){this.selectedObjectIds.push({uid:A,geometryId:e,mId:t})},Av.prototype.adjustVisibility=function(A,e){if(!kh.isEmptyObject(this.instanceNode)){var t=this._getNodeGroup(A),i=t.visible;e&&!t.bVisible||(t.visible=e),t.bVisible=i}},Av.prototype.changeVisibilityOfSelectedObjects=function(A,e){if(!kh.isEmptyObject(this.instanceNode))if(e)for(var t=0,i=this.selectedMeshes.length;t<i;t+=1){var n=this.selectedMeshes[t].object,o=this.selectedMeshes[t].indices;if(o){if(o.length){for(var r=n.geometry.getAttribute("vState").array,a=0,s=o.length;a<s;a+=1)r[o[a].idx]=o[a].state;n.geometry.getAttribute("vState").needsUpdate=!0}}else n.visible=this.selectedMeshes[t].visibility}else{for(var l={},c=this.selectedMeshes.length=0,d=this.selectedObjectIds.length;c<d;c+=1)l[this.selectedObjectIds[c].geometryId+"&"+this.selectedObjectIds[c].mId]=!0;for(var h=Object.keys(l),u=0,p=h.length;u<p;u+=1){for(var g=h[u].split("&"),f=this.instanceNode[g[0]][g[1]],m=[],v=[],y=0,C=f.length;y<C;y+=1)Array.isArray(f[y])?m.push(f[y]):v.push(f[y]);if(m.length){for(var I={},x=0,b=m.length;x<b;x+=1)for(var E=m[x],w=0,M=E.length;w<M;w+=1)I[w]||(I[w]=[]),I[w].push(E[w]);for(var B in I)_(I[B],this.selectedMeshes)}v.length&&_(v,this.selectedMeshes)}}function _(A,e){for(var t=!1,i={},n=0,o=A.length;n<o;n+=1){for(var r=A[n],a=[],s=r.geometry.getAttribute("vState").array,l=0;l<s.length;l+=1)s[l]===Ih.SELECTED&&(a.push({idx:l,state:s[l]}),s[l]=Ih.HIDDEN);a.length&&(t=!0,r.geometry.getAttribute("vState").needsUpdate=!0,i[n]={object:r,indices:a})}t?function(A,e,t){for(var i=0,n=A.length;i<n;i+=1)t.push(e[i]?e[i]:{object:A[i],indices:[]})}(A,i,e):function(A,e){for(var t=0,i=A.length;t<i;t+=1){var n=A[t];e.push({object:n,indices:null,visibility:n.visible}),n.visible=!1}}(A,e)}},Av.prototype.changeVisibilityOfNonSelectedObjects=function(A,e){if(!kh.isEmptyObject(this.instanceNode))if(e)for(r=0,a=this.nonSelectedMeshes.length;r<a;r+=1){var t=this.nonSelectedMeshes[r].object,i=this.nonSelectedMeshes[r].indices;if(i){if(i.length){var n=t.geometry.getAttribute("vState").array;for(p=0,g=i.length;p<g;p+=1)n[i[p].idx]=i[p].state;t.geometry.getAttribute("vState").needsUpdate=!0}}else t.visible=this.nonSelectedMeshes[r].visibility}else{for(var o={},r=this.nonSelectedMeshes.length=0,a=this.selectedObjectIds.length;r<a;r+=1){var s=this.selectedObjectIds[r];o[s.geometryId]||(o[s.geometryId]={}),o[s.geometryId][s.mId]=!0}for(var l in this.instanceNode)if(o[l])for(var c in this.instanceNode[l]){var d=this.instanceNode[l][c];if(o[l][c]){for(var h=[],u=[],p=0,g=d.length;p<g;p+=1)Array.isArray(d[p])?h.push(d[p]):u.push(d[p]);if(h.length){for(var f={},m=0,v=h.length;m<v;m+=1)for(var y=h[m],C=0,I=y.length;C<I;C+=1)f[C]||(f[C]=[]),f[C].push(y[C]);for(var x in f)E(f[x],this.nonSelectedMeshes)}u.length&&E(u,this.nonSelectedMeshes)}else b(d,this.nonSelectedMeshes)}else for(var c in this.instanceNode[l])b(this.instanceNode[l][c],this.nonSelectedMeshes)}function b(A,e){for(var t=0,i=A.length;t<i;t+=1){var n=A[t];if(Array.isArray(n))for(var o=0,r=n.length;o<r;o+=1)e.push({object:n[o],indices:null,visibility:n[o].visible}),n[o].visible=!1;else e.push({object:n,indices:null,visibility:n.visible}),n.visible=!1}}function E(A,e){for(var t=!1,i={},n=0,o=A.length;n<o;n+=1){for(var r=A[n],a=[],s=r.geometry.getAttribute("vState").array,l=0,c=s.length;l<c;l+=1)s[l]!==Ih.SELECTED&&s[l]!==Ih.HIDDEN&&(a.push({idx:l,state:s[l]}),s[l]=Ih.HIDDEN);a.length&&(t=!0,r.geometry.getAttribute("vState").needsUpdate=!0,i[n]={object:r,indices:a})}t&&function(A,e,t){for(var i=0,n=A.length;i<n;i+=1)t.push(e[i]?e[i]:{object:A[i],indices:[]})}(A,i,e)}},Av.prototype.restoreVisibilityOfObjects=function(){this.selectedMeshes.length=0,this.nonSelectedMeshes.length=0},Av.prototype.disposeBufferAfterVbo=function(){if(!this.bufferDestroyed){this.bufferDestroyed=!0;for(var A=this.instanceNode,e=Object.keys(A),t=["mcol0","mcol1","mcol2","mcol3","muvCol0","muvCol1","muvCol2"],i=0,n=e.length;i<n;i+=1)for(var o=A[e[i]],r=Object.keys(o),a=0,s=r.length;a<s;a+=1)for(var l=o[r[a]],c=0,d=l.length;c<d;c+=1){var h=l[c];if(Array.isArray(h))for(var u=0,p=h.length;u<p;u+=1)lu.disposeBufferFromGeometry(h[u].geometry,t);else lu.disposeBufferFromGeometry(h.geometry,t)}}};var ev=function(A){this.manager=A,this.wireframeGeometries={},this.noWireframingIds=null,this.generated=!1};ev.prototype.destroy=function(){this._clearNoWireframingIds(),this.disposeGeometries(),this.wireframeGeometries=null,this.manager=null},ev.prototype.clearData=function(){this.generated=!1,this.bufferDestroyed=!1,this.wireframeMeshNodes=[],this._clearNoWireframingIds(),this.disposeGeometries()},ev.prototype.disposeGeometries=function(){for(var A in this.wireframeGeometries)this.disposeGeometry(A)},ev.prototype.disposeGeometry=function(A){var e=this.wireframeGeometries[A],t=null;if(e){for(var i in e)if(t=e[i],Array.isArray(t))for(var n=0,o=t.length;n<o;n+=1)t[n].dispose();else t.dispose();delete this.wireframeGeometries[A]}},ev.prototype.getWireframeMaterial=function(A){return A.getInstanceWireframeMaterial()},ev.prototype._resetInstanceMaterial=function(){for(var A in this.wireframeGeometries){var e=this.wireframeGeometries[A];for(var t in e){var i=e[t];if(Array.isArray(i))for(var n=0,o=i.length;n<o;n+=1){for(var r=i[n].getAttribute("vState").array,a=0,s=r.length;a<s;a+=1)r[a]=0;i[n].getAttribute("vState").needsUpdate=!0}else{var l=i.getAttribute("vState").array;for(n=0,o=l.length;n<o;n+=1)l[n]=0;i.getAttribute("vState").needsUpdate=!0}}}this._updateNoWireframingState()},ev.prototype._setInstanceWireframeState=function(A,e,t){if(Array.isArray(A))for(var i=0,n=A.length;i<n;i+=1){for(var o=A[i].getAttribute("vState").array,r=0,a=e.length;r<a;r+=1){o[e[r]]=t}A[i].getAttribute("vState").needsUpdate=!0}else{for(o=A.getAttribute("vState").array,r=0,a=e.length;r<a;r+=1){o[e[r]]=t}A.getAttribute("vState").needsUpdate=!0}},ev.prototype._updateInstanceWireframeByUserId=function(A,e,t){var i=this.manager.getIndicesBaseOnPackId()[A];if(t===Ih.HIDDEN||t===Ih.NONE){var n=this.wireframeGeometries[e];for(var o in n){var r=i[e][o];r&&this._setInstanceWireframeState(n[o],r,t)}}},ev.prototype._getWireframeIndicesBy=function(A,e){if(this.instancedWireframeIndices||(this.instancedWireframeIndices={}),this.instancedWireframeIndices[e])return this.instancedWireframeIndices[e];if(this.instancedWireframeIndices[e]=[],Array.isArray(A))for(var t=0,i=A.length;t<i;t+=1)this.instancedWireframeIndices[e].push({index:ku(A[t].attributes.position.array,A[t].index.array),position:A[t].attributes.position});else this.instancedWireframeIndices[e].push({index:ku(A.attributes.position.array,A.index.array),position:A.attributes.position});return this.instancedWireframeIndices[e]},ev.prototype._clearWireframeIndices=function(){this.instancedWireframeIndices=null},ev.prototype._createInstanceWireframeGeometry=function(A,e,t){if(this.wireframeGeometries||(this.wireframeGeometries={}),this.wireframeGeometries[e]||(this.wireframeGeometries[e]={}),!this.wireframeGeometries[e][t])for(var i=this.wireframeGeometries[e][t]=[],n=this._getWireframeIndicesBy(A,e),o=0,r=n.length;o<r;o+=1){var a=new Rl;a.setIndex(n[o].index),a.addAttribute("position",n[o].position),i.push(a)}},ev.prototype._createInstanceWireframeGeometries=function(A){var e=this.manager.getInstanceGeometries();for(var t in e)for(var i in e[t]){this._createInstanceWireframeGeometry(e[t][i][0],t,i)}},ev.prototype._clearNoWireframingIds=function(){this.noWireframingIds=null},ev.prototype._collectNoWireframingIds=function(A){if(!this.noWireframingIds){this.noWireframingIds||(this.noWireframingIds={});var e=A.modelDescriptor.getInstancedNodeInfos(),t=A.manager.filter;for(var i in e){var n=e[i];n&&t._hasRenderWithBoardlineFilter()&&!t._isRenderWithBoardline(n[0])&&(this.noWireframingIds[i]=!0)}}},ev.prototype._updateNoWireframingState=function(){var A=this.manager.getIndicesBaseOnPackId();for(var e in A){var t=A[e];if(this.noWireframingIds&&this.noWireframingIds[e]){var i=Ih.HIDDEN;for(var n in this.wireframeGeometries)if(t[n]){var o=this.wireframeGeometries[n];for(var r in o){var a=t[n][r];if(void 0!==a)this._setInstanceWireframeState(o[r],a,i)}}}}},ev.prototype._makeInstanceWireframe=function(A){var e=this.manager,t=e.getCachedInstanceData(),i=this.wireframeGeometries,n=this.getWireframeMaterial(A),o={};for(var r in i){var a=[];for(var s in i[r])for(var l=e.getBufferAttributesBy(s,r),c=i[r][s],d=0,h=c.length;d<h;d+=1){c[d].addAttribute("vState",new Pl(new Float32Array(t.vState[r][s]),1,!1,1)),c[d].addAttribute("mcol0",l.attributeMcol0),c[d].addAttribute("mcol1",l.attributeMcol1),c[d].addAttribute("mcol2",l.attributeMcol2),c[d].addAttribute("mcol3",l.attributeMcol3);var u=new Zr(c[d],n);u.frustumCulled=!1,a.push(u)}o[r]||(o[r]={}),o[r][s]=a}var p=this._getNodeGroup(A);for(var g in this.wireframeMeshNodes=[],o)for(var s in o[g])for(d=0,h=(a=o[g][s]).length;d<h;d+=1)this.wireframeMeshNodes.push(a[d]),p.add(a[d]),a[d].updateMatrixWorld();o=null},ev.prototype._generateInstanceWireframe=function(A){this._collectNoWireframingIds(A),this._createInstanceWireframeGeometries(A),this._makeInstanceWireframe(A),this._updateNoWireframingState(),this._clearWireframeIndices()},ev.prototype._getNodeGroup=function(A){return A._getNodeGroup(Ap.INSTANCEWIREFRAMEGEOMETRY,{globalSpace:!0})},ev.prototype._hasNodeGroup=function(A){return A._hasNodeGroup(Ap.INSTANCEWIREFRAMEGEOMETRY)},ev.prototype.updateNodes=function(A){var e=null;A.isActivateWireframe()?(this.generated||(this._generateInstanceWireframe(A),this.generated=!0),(e=this._getNodeGroup(A)).updateMatrixWorld(!0),e.visible=!0):this._hasNodeGroup(A)&&((e=this._getNodeGroup(A)).visible=!1)},ev.prototype.adjustVisibility=function(A,e){if(A.isActivateWireframe()){var t=this._getNodeGroup(A),i=t.visible;e&&!t.bVisible||(t.visible=e),t.bVisible=i}},ev.prototype.changeVisibilityOfSelectedObjects=function(A,e){},ev.prototype.changeVisibilityOfNonSelectedObjects=function(A,e){this.adjustVisibility(A,e)},ev.prototype.restoreVisibilityOfObjects=function(){},ev.prototype.disposeBufferAfterVbo=function(){if(this.generated&&!this.bufferDestroyed){this.bufferDestroyed=!0;for(var A=this.wireframeMeshNodes,e=["normal","uv","uv2","mcol0","mcol1","mcol2","mcol3"],t=0,i=A.length;t<i;t+=1)lu.disposeBufferFromGeometry(A[t].geometry,e);this.wireframeMeshNodes=[]}};var tv=function(){this.meshManager=new Av(this),this.wireframeManager=new ev(this)};tv.prototype.destroy=function(){this.meshManager.destroy(),this.meshManager=null,this.wireframeManager.destroy(),this.wireframeManager=null},tv.prototype.clearData=function(){this.meshManager.clearData(),this.wireframeManager.clearData()},tv.prototype.getGeometryByNodeInfo=function(A,e){return this.meshManager.getGeometryByNodeInfo(A,e)},tv.prototype.getInstanceGeometries=function(){return this.meshManager.instanceGeometries},tv.prototype.getCachedInstanceData=function(){return this.meshManager.cachedInstance},tv.prototype.getBufferAttributesBy=function(A,e){return this.meshManager.getBufferAttributesBy(A,e)},tv.prototype.getIndicesBaseOnPackId=function(){return this.meshManager.mapPackIdToIndices},tv.prototype.getMeshesByUserId=function(A,e){this.meshManager.getMeshesByUserId(A,e)},tv.prototype._updateInstanceMaterialByUserId=function(A,e,t,i){var n=this.getIndicesBaseOnPackId();for(var o in n[e])this.meshManager._updateInstanceStateByUserId(A,e,o,t,i),this.wireframeManager._updateInstanceWireframeByUserId(e,o,t)},tv.prototype._updateInstanceMaterial=function(A){Gh.time("update instance material");var e=wh;for(var t in this.clearSelectedObjectIds(),this.filteredIds){var i=this.filteredIds[t];if(A.isReplacedUserId&&A.isReplacedUserId(t))this._updateInstanceMaterialByUserId(A,t,Ih.HIDDEN);else if(i[e.HIDDEN])this._updateInstanceMaterialByUserId(A,t,Ih.HIDDEN);else if(!i[e.TRANSPARENT]||Ah.EnableSelectionByTranslucent){if(A.manager.isSelectPriority()){if(i[e.SELECTED]){this._updateInstanceMaterialByUserId(A,t,Ih.SELECTED);continue}if(i[e.BLINK]){i[e.OVERRIDED]?this._updateInstanceMaterialByUserId(A,t,Ih.BLINK,i[e.OVERRIDED]):this._updateInstanceMaterialByUserId(A,t,Ih.BLINK);continue}}else{if(i[e.BLINK]){i[e.OVERRIDED]?this._updateInstanceMaterialByUserId(A,t,Ih.BLINK,i[e.OVERRIDED]):this._updateInstanceMaterialByUserId(A,t,Ih.BLINK);continue}if(i[e.SELECTED]){this._updateInstanceMaterialByUserId(A,t,Ih.SELECTED);continue}}i[e.TRANSPARENT]?this._updateInstanceMaterialByUserId(A,t,Ih.TRANSPARENT):i[e.HOVER]?i[e.OVERRIDED]?this._updateInstanceMaterialByUserId(A,t,Ih.HOVER,i[e.OVERRIDED]):this._updateInstanceMaterialByUserId(A,t,Ih.HOVER):i[e.OVERRIDED]&&this._updateInstanceMaterialByUserId(A,t,Ih.OVERRIDED,i[e.OVERRIDED])}else this._updateInstanceMaterialByUserId(A,t,Ih.TRANSPARENT)}Gh.timeEnd("update instance material")},tv.prototype._resetInstanceMaterial=function(A){this.meshManager._resetInstanceMaterial(A),this.wireframeManager._resetInstanceMaterial()},tv.prototype._collectFilteredUserIds=function(A,e,t){var i=A._hasHiddenFileIdFilter(),n=A._hasVisibleFilter(),o=A._hasOverrideMaterialFilter(),r=A._hasTransparentFilter(),a=this.filteredIds={};if(i||n||o||r)for(var s=wh,l=0;l<e.length;l+=1){var c=e[l],d=t[c];if(d&&d.length){var h=d[0];if(i&&A._isHiddenFileId(h)||n&&!1===A._isVisible(h))a[c]||(a[c]={}),a[c][s.HIDDEN]=!0;else if(r&&A._isTransparent(h))a[c]||(a[c]={}),a[c][s.TRANSPARENT]=!0;else if(o&&A._hasOverrideMaterial(h)){var u=A._getOverrideMaterial(h),p=null!==u?u.name:"";""!==p&&(a[c]||(a[c]={}),a[c][s.OVERRIDED]=p)}}}},tv.prototype._collectModelFiltered=function(A){var e=A.manager.filter,t=A.modelKey,i=e._hasModelOverrideMaterialFilter(),n=e._hasModelTransparentFilter(),o=A.manager.modelState.selectionSet;return A.manager.modelState.hoverId===t?A.manager.modelState.getHoverMaterial():o.hasOwnProperty(A.modelKey)?A.manager.modelState.selectionMaterial:n&&e._isModelTransparent(t)?e._getMaterialByName("scene"):i&&e._hasModelOverrideMaterial(t)?e._getModelOverrideMaterial(t):null},tv.prototype._collectSelectedUserIds=function(A,e){var t=this.filteredIds=this.filteredIds||{},i=wh,n={};for(var o in A)e[o]&&(t[o]||(t[o]={}),n[o]=t[o][i.SELECTED]=!0);this.selectedUserIds=Object.keys(n)},tv.prototype._clearSelectedState=function(A){if(this.filteredIds&&this.selectedUserIds&&this.selectedUserIds.length){for(var e=0,t=this.selectedUserIds.length;e<t;e+=1){var i=this.selectedUserIds[e];this.filteredIds[i]&&(this.meshManager._clearInstanceStateByUserId(A.materialManager,i),delete this.filteredIds[i][wh.SELECTED])}this.selectedUserIds=null}},tv.prototype._collectHoveredUserIds=function(A,e){var t=this.filteredIds=this.filteredIds||{};this.hoverdUserId=void 0,A&&e[A]&&(t[A]||(t[A]={}),t[A][wh.HOVER]=!0,this.hoverdUserId=A)},tv.prototype._clearHoveredState=function(A){this.filteredIds&&this.hoverdUserId&&this.filteredIds[this.hoverdUserId]&&(this.meshManager._clearInstanceStateByUserId(A.materialManager,this.hoverdUserId),delete this.filteredIds[this.hoverdUserId][wh.HOVER],this.hoverdUserId=void 0)},tv.prototype._collectBlinkedUserIds=function(A,e){var t=this.filteredIds=this.filteredIds||{},i=wh,n={};for(var o in A)e[o]&&(t[o]||(t[o]={}),n[o]=t[o][i.BLINK]=!0);this.blinkUserIds=Object.keys(n)},tv.prototype._clearBlinkedState=function(A){if(this.filteredIds&&this.blinkUserIds&&this.blinkUserIds.length){for(var e=0,t=this.blinkUserIds.length;e<t;e+=1){var i=this.blinkUserIds[e];this.filteredIds[i]&&(this.meshManager._clearInstanceStateByUserId(A.materialManager,i),delete this.filteredIds[i][wh.BLINK])}this.blinkUserIds=null}},tv.prototype.applyFilter=function(A,e){if(this.hasNodeInfo(A)){this._resetInstanceMaterial(A);var t=null;t=e||A.getModelDescriptor().getInstancedUserIds();var i=A.getModelDescriptor().getInstancedNodeInfos();this._collectFilteredUserIds(A.manager.filter,t,i),this._collectSelectedUserIds(A.manager.sceneState.selectionSet,i),this._collectBlinkedUserIds(A.manager.sceneState.getBlinkComponentsIdMap(),i),this._collectHoveredUserIds(A.manager.sceneState.hoverId,i),this._updateInstanceMaterial(A),this.updateNodes(A)}},tv.prototype.applySelection=function(A){if(this.hasNodeInfo(A)){this._resetInstanceMaterial(A);var e=A.getModelDescriptor().getInstancedNodeInfos();this._clearSelectedState(A),this._clearHoveredState(A),this._collectSelectedUserIds(A.manager.sceneState.selectionSet,e),this._collectHoveredUserIds(A.manager.sceneState.hoverId,e),this._updateInstanceMaterial(A),this.updateNodes(A)}},tv.prototype.clearSelection=function(A){this._clearSelectedState(A),this.applyHover(A)},tv.prototype.applyHover=function(A){if(this.hasNodeInfo(A)){this._resetInstanceMaterial(A);var e=A.getModelDescriptor().getInstancedNodeInfos();this._clearHoveredState(A),this._collectHoveredUserIds(A.manager.sceneState.hoverId,e),this._updateInstanceMaterial(A),this.updateNodes(A)}},tv.prototype.clearHover=function(A){this._resetInstanceMaterial(A),this._clearHoveredState(A),this._updateInstanceMaterial(A),this.updateNodes(A)},tv.prototype.applyBlink=function(A){if(this.hasNodeInfo(A)){var e=A.getModelDescriptor().getInstancedNodeInfos();this._clearBlinkedState(A),this._clearHoveredState(A),this._collectBlinkedUserIds(A.manager.sceneState.getBlinkComponentsIdMap(),e),this._collectHoveredUserIds(A.manager.sceneState.hoverId,e),this._updateInstanceMaterial(A),this.updateNodes(A)}},tv.prototype.clearBlink=function(A){this._clearBlinkedState(A),this.applyHover(A)},tv.prototype.applyReplacement=function(A){this._updateInstanceMaterial(A),this.updateNodes(A)},tv.prototype.hasNodeInfo=function(A){return A.modelDescriptor.getInstancedNodeInfos()},tv.prototype.updateNodes=function(A){if(this.hasNodeInfo(A)){var e;if(e=this._collectModelFiltered(A))for(var t=A.getModelDescriptor().getInstancedUserIds(),i=0;i<t.length;i+=1)this._updateInstanceMaterialByUserId(A,t[i],Ih.OVERRIDED,e);this.meshManager.updateNodes(A),this.wireframeManager.updateNodes(A)}},tv.prototype.createMeshNodes=function(A,e){this.meshManager.createMeshNodes(A,e)},tv.prototype.clearCachedData=function(){this.meshManager.disposeGeometries()},tv.prototype.getMeshesByUserIds=function(A,e,t){this.meshManager.getMeshesByUserIds(A,e,t)},tv.prototype.clearSelectedObjectIds=function(){this.meshManager.clearSelectedObjectIds()},tv.prototype.adjustVisibility=function(A,e){this.meshManager.adjustVisibility(A,e),this.wireframeManager.adjustVisibility(A,e)},tv.prototype.changeVisibilityOfSelectedObjects=function(A,e){this.meshManager.changeVisibilityOfSelectedObjects(A,e),this.wireframeManager.changeVisibilityOfSelectedObjects(A,e)},tv.prototype.changeVisibilityOfNonSelectedObjects=function(A,e){this.meshManager.changeVisibilityOfNonSelectedObjects(A,e),this.wireframeManager.changeVisibilityOfNonSelectedObjects(A,e)},tv.prototype.restoreVisibilityOfObjects=function(){this.meshManager.restoreVisibilityOfObjects(),this.wireframeManager.restoreVisibilityOfObjects()},tv.prototype.disposeBufferAfterVbo=function(){this.meshManager.disposeBufferAfterVbo(),this.wireframeManager.disposeBufferAfterVbo()};var iv=function(A,e,t){return Yg.call(this,A,e,t),this.layerDataLoaded=!1,this.loadedUserIdsObject=null,this.loadedUserIds=null,this};(iv.prototype=Object.create(Yg.prototype)).destroy=function(){this.dispose(),this.loadedUserIdsObject=null,this.loadedUserIds=null},iv.prototype.applyFilter=function(){if(this.isLoaded()&&this.layerDataLoaded){var A=this.model.getModelDescriptor().getStandardUserIdsByCategory(this._loadedUserIds);if(A.length&&this.defaultManager.applyFilter(this.model,A),Ah.Instance)this.model.getModelDescriptor().getInstancedUserIdsByCategory(this._loadedUserIds).length&&this.instancedManager.applyFilter(this.model)}},iv.prototype.settleData=function(A){this.addNodeInfoToOctantMap(),this.model.getLayerProvider().cacheDemandData(),this.model.getLoader().destroyReader(),this.loaded=!0,A&&A()},iv.prototype.clearData=function(){},iv.prototype.initData=function(){},iv.prototype.dealMeshNodes=function(A){},iv.prototype.needUpdate=function(){return!!this.layerDataLoaded},iv.prototype.dealData=function(A){this.clearData(),this.initData();var e=this;this.model.manager.loadOverrideMaterialsByDemand(function(){e.dealMeshNodes(A)},function(){e.dealMeshNodes(A)})},iv.prototype.unloadGeopkOnDemand=function(A){var e=this;this.model.getModelDescriptor().clearReferencedMeshCacheByMpkIdxs(A,function(A){e.defaultManager.disposeGeometry(A)})},iv.prototype.loadGeopkOnDemand=function(A,e,t){var i=this;this.layerDataLoaded=!1,A&&A(),this.model.getLayerProvider().loadGeopkOnDemand(function(){i.clearData(),i.model.getModelDescriptor().parseItemData(i.model,i.model.getLayerProvider()._getConditionsOnDemand()),i.dealData(function(){i.layerDataLoaded=!0,t&&t()})},function(A){i.unloadGeopkOnDemand(A)},e,function(){i.layerDataLoaded=!0,t&&t()})},iv.prototype.loadAllMpksOnDemand=function(A,e,t){var i=this;this.layerDataLoaded=!1,A&&A(),this.model.getLayerProvider().loadAllMpksOnDemand(function(){i.clearData(),i.dealData(function(){i.layerDataLoaded=!0,t&&t()})},e)},iv.prototype.getLoadedUserIdsObject=function(){return this._loadedUserIdsObject};var nv=function(A,e,t){return iv.call(this,A,e,t),this.mpksLoaded=!1,this._loadedUserIdsObject=null,this._loadedUserIds=null,this};(nv.prototype=Object.create(iv.prototype)).destroy=function(){this.dispose(),this._loadedUserIdsObject=null,this._loadedUserIds=null},nv.prototype.applyFilter=function(){if(this.isLoaded()&&this.mpksLoaded){var A=this.model.getModelDescriptor().getStandardUserIdsByCategory(this._loadedUserIds);if(A.length&&this.defaultManager.applyFilter(this.model,A),Ah.Instance){var e=this.model.getModelDescriptor().getInstancedUserIdsByCategory(this._loadedUserIds);e.length&&this.instancedManager.applyFilter(this.model,e)}}},nv.prototype.settleData=function(A){this.addNodeInfoToOctantMap(),this.model.getLayerProvider().cacheDemandData(),this.model.getLoader().destroyReader(),this.loaded=!0,A&&A()},nv.prototype.clearData=function(){this.model.clearNodeGroup(),this.model._clearMeshFromOctantMap(),this.defaultManager.clearData(),this.instancedManager.clearData(),this.model.getLayerProvider().clearData(),this._loadedUserIdsObject=null,this._loadedUserIds=null},nv.prototype.needUpdate=function(){return!!this.mpksLoaded},nv.prototype.dealData=function(A){this._loadedUserIdsObject=this.model.getLayerProvider().getUserIdsOnDemand(),this._loadedUserIds=Object.keys(this._loadedUserIdsObject),this.dealMeshNodes(A)},nv.prototype.dealMeshNodes=function(A){},nv.prototype.unloadGeopkOnDemand=function(A){var e=this;this.model.getModelDescriptor().clearReferencedMeshCacheByMpkIdxs(A,function(A){e.defaultManager.disposeGeometry(A)})},nv.prototype.loadGeopkOnDemand=function(A,e,t){var i=this;this.mpksLoaded=!1,A&&A(),this.model.getLayerProvider().loadGeopkOnDemand(function(){i.model.getModelDescriptor().parseItemData(i.model,i.model.getLayerProvider()._getConditionsOnDemand()),i.settleData(),i.dealData(function(){i.mpksLoaded=!0,i.model.dispatchEventEx({type:lh.ON_LOAD_COMPLETE,modelKey:i.model.modelKey}),t&&t()})},function(A){i.unloadGeopkOnDemand(A)},e,function(){i.mpksLoaded=!0,t&&t()})},nv.prototype.loadAllMpksOnDemand=function(A,e,t){var i=this;this.mpksLoaded=!1,A&&A(),this.model.getLayerProvider().loadAllMpksOnDemand(function(){i.clearData(),i.dealData(function(){i.mpksLoaded=!0,t&&t()})},e)},nv.prototype.getLoadedUserIdsObject=function(){return this._loadedUserIdsObject};var ov=function(A,e,t){nv.call(this,A,e,t)};(ov.prototype=Object.create(nv.prototype)).prepare=function(A){!this.isHidden()&&this.loaded&&this.mpksLoaded&&this.model.getMaterialManager()._updateTextureMapping()},ov.prototype.addNodeInfoToOctantMap=function(){var t=this.model.manager,i=this.model.getEncodedDatabagId();this.model.getModelDescriptor().traverseNodeInfos(function(A,e){t.addNodeInfoToOctantMap(i,A,e)})},ov.prototype.dealMeshNodes=function(A){this.model.manager.octantToObjectMap={},this.addNodeInfoToOctantMap();var e=this.model.getModelDescriptor().getInstancedUserIdsByCategory(this._loadedUserIds);e.length&&(this.model._removeNodeGroup(Ap.INSTANCEGEOMETRY),this.model._removeNodeGroup(Ap.INSTANCEWIREFRAMEGEOMETRY),this.instancedManager.meshManager.dispose(),this.instancedManager.meshManager.disposeInstanceGeometries(),this.instancedManager.createMeshNodes(this.model,e));var t=this.model.getModelDescriptor().getStandardUserIdsByCategory(this._loadedUserIds);t.length?(this.model._removeNodeGroup(Ap.GEOMETRY),this.model._removeNodeGroup(Ap.WIREFRAME),this.defaultManager.meshManager.dispose(),this.defaultManager.meshManager.clearData(),this.defaultManager.asyncCreateMeshNodes(this.model,t,A)):A&&A()},ov.prototype.unloadComponents=function(A,e){for(var t=this.model.modelKey,i=0,n=A.length;i<n;i+=1)this.model.manager.removeMeshFromOctantMap(t,A[i]);this.model.getModelDescriptor().clearNodeInfoCacheByComponentsKey(A),this.dealMeshNodes(e)};var rv=function(A,e,t){nv.call(this,A,e,t)};(rv.prototype=Object.create(nv.prototype)).prepare=function(A){!this.isHidden()&&this.loaded&&this.mpksLoaded&&(this.defaultManager.cullNodes(this.model,A),this.model.getMaterialManager()._updateTextureMapping(),this.updateNodes())},rv.prototype.dealMeshNodes=function(A){this.model.getModelDescriptor().getInstancedUserIdsByCategory(this._loadedUserIds);var e=this.model,t=this;this.defaultManager.asyncCreateMeshNodes(e,e.getModelDescriptor().getStandardUserIds(),function(){t.updateNodes(),A&&A()})},rv.prototype.unloadComponents=function(A,e){for(var t=this.model.modelKey,i=0,n=A.length;i<n;i+=1){var o=this.model.getModelDescriptor().getNodeInfosByComponentId(A[i]);if(o){for(var r=0,a=o.length;r<a;r+=1){var s=o[r];if(s.mesh)this.defaultManager.meshManager.disposeGeometry(s.mesh.geometry.key),s.mesh.destroy()}this.model.manager.removeMeshFromOctantMap(t,A[i])}}this.model.getModelDescriptor().clearNodeInfoCacheByComponentsKey(A),e&&e()};var av=function(A){this.model=A,this.conditionsChanged=!0,this.lastMpkIdxs=null,this._nodeInfosOnLayerkey={},this.lastLayerData=null,this.cachedLayerData={},this.cacheAttributes=null,this.cacheSpecialtysLevels={},this.mapLayerKeys={},this._fullMpkIdxs=null};av.prototype.destroy=function(){this.lastLayerData=null,this.lastMpkIdxs=null,this.cachedLayerData=null,this._nodeInfosOnLayerkey=null,this.cacheAttributes=null,this.cacheSpecialtysLevels=null,this.mapLayerKeys=null,this._fullMpkIdxs=null},av.prototype.clearData=function(){},av.prototype.loadGeopkOnDemand=function(A,e,t,i){var n=this.model.loader,o=this._getUsedMpkIdxs();if(o){var r=!1,a=o.removeIdxs;0<a.length&&(r=!0,e&&e(a)),0<(a=o.addIdxs).length?n.loadGeopkOnDemand(a,t,function(){A&&A()}):r?A&&A():i&&i()}else A&&A()},av.prototype.loadAllMpksOnDemand=function(A,e,t){this.setConditionsChanged(!1);var i=this._getAllMpkIdxs();i&&i.length?this.model.loader.loadGeopkOnDemand(i,e,function(){A()}):A()},av.prototype.setConditionsChanged=function(A){this.conditionsChanged=A},av.prototype.getUnionBoundingBoxOnDemand=function(){var A=this._getBoundingBoxesOnDemand();if(A&&0<A.length){for(var e=new ni,t=0,i=A.length;t<i;t+=1)e.union(A[t]);return e}return null},av.prototype._cacheNodeInfosByLayerKey=function(A,e){this._nodeInfosOnLayerkey[A]||(this._nodeInfosOnLayerkey[A]=[]),this._nodeInfosOnLayerkey[A].push(e)},av.prototype.cacheDemandData=function(){var A=this.model.getModelDescriptor().getNodeInfosWithUserId(),e=null,t=null;for(var i in A)for(var n=0,o=(t=A[i]).length;n<o;n+=1){var r=this.formatLayerIds(e=t[n]);this._cacheNodeInfosByLayerKey(r[0],e)}},av.prototype._getUsedMpkIdxs=function(){var A=this._getLayerDataOnDemand(),e=null,t=null,i=null,n={},o={},r={},a={},s=[],l=[];if(A){for(e=0,t=A.mpkIdxs.length;e<t;e+=1)n[i=A.mpkIdxs[e]]=!0;var c=!1;for(i in n){c=!0;break}if(c)if(this.lastMpkIdxs){for(i in this.lastMpkIdxs)n[i]&&(a[i]=!0);var d=!1;for(i in a){d=!0;break}if(d){for(i in this.lastMpkIdxs)a[i]||(r[i]=!0);for(i in n)a[i]||(o[i]=!0)}else o=n,r=this.lastMpkIdxs}else o=n;else r=this.lastMpkIdxs;this.lastMpkIdxs=n}else this.lastMpkIdxs&&(r=this.lastMpkIdxs,this.lastMpkIdxs=null);for(i in o)s.push(i);for(i in r)l.push(i);return 0===s.length&&0===l.length?null:{addIdxs:s,removeIdxs:l}},av.prototype._getBoundingBoxesOnDemand=function(){var A=this._getLayerDataOnDemand();return A?A.boundingBoxes:null},av.prototype._getConditionsOnDemand=function(){return this.model.manager.getConditionsOnDemandLoad()},av.prototype._isConditionsChanged=function(){return this.conditionsChanged},av.prototype._getLayerDataOnDemand=function(){if(!this._isConditionsChanged()&&this.lastLayerData)return this.lastLayerData;this.setConditionsChanged(!1);var A=this._getConditionsOnDemand();if(!A)return this.lastLayerData=null;for(var e=[],t=(this._getCachedLayerData(),[]),i=this.model.getModelDescriptor().referencedMeshCache.components,n=A,o=0,r=n.length;o<r;o+=1){var a=n[o];if(i[a]){var s=this.getFileKeyByGeoId(i[a].geoId);s&&(t.push(a),e.push(s))}}return this.lastLayerData={keys:t,boundingBoxes:[],mpkIdxs:e},this.lastLayerData},av.prototype.getFileKeyByGeoId=function(A){for(var e in this.cachedLayerData)if(this.cachedLayerData.hasOwnProperty(e)){var t=this.cachedLayerData[e];if(t[0]<=A&&A<=t[1])return e}return window.geoidToFileKeyMap?window.geoidToFileKeyMap[A]:null},av.prototype._getCachedLayerData=function(){return this.cachedLayerData},av.prototype._getAllMpkIdxs=function(){if(this._fullMpkIdxs)return this._fullMpkIdxs;for(var A=this._getAllLayerData(),e={},t=0,i=A.mpkIdxs.length;t<i;t+=1)e[A.mpkIdxs[t]]=!0;return this._fullMpkIdxs=Object.keys(e),this._fullMpkIdxs},av.prototype._getAllLayerData=function(){var A=[],e=[],t=null,i=null,n=null,o=null,r=this._getCachedLayerData(),a=[];if(r){for(var s in r)if(r.hasOwnProperty(s)&&r[s]){for(t=r[s].boundingBox,n=0,o=(i=r[s].mpkIdxs).length;n<o;n+=1)A.push(i[n]);e.push(t),a.push(s)}return{keys:a,boundingBoxes:e,mpkIdxs:A}}return null},av.prototype.getUserIdsOnDemand=function(){var A={},e=this._nodeInfosOnLayerkey;for(var t in e){var i=e[t];if(i)for(var n=0,o=i.length;n<o;n+=1)A[i[n].userId]=!0}return A},av.prototype.cacheLayerData=function(A,e){this.cachedLayerData[A]=e},av.prototype.cacheLayerKeys=function(A){this.mapLayerKeys=A;var e={},t=this.getLayerKeyAttributes();for(var i in A){var n=A[i],o=n[t[0]],r=n[t[1]];e.hasOwnProperty(o)||(e[o]=[]),e.hasOwnProperty(r)||(e[r]=[]),e[o].push(r),e[r].push(o)}this.cacheSpecialtysLevels=e},av.prototype.getLayerKeyAttributes=function(){if(this.cacheAttributes)return this.cacheAttributes;var A=[],e=Object.keys(this.mapLayerKeys),t=this.mapLayerKeys[e[0]];for(var i in t)t.hasOwnProperty(i)&&A.push(i);return this.cacheAttributes=A,this.cacheAttributes},av.prototype.formatLayerIds=function(A){var e=[];if(!A)return e.push("unknown"),e;var t=this.getFileKeyByGeoId(A.originalGeometryId);return e.push(t||"unknown"),e},av.prototype.getLevelsOrSpecialtys=function(A){return this.cacheSpecialtysLevels.hasOwnProperty(A)?this.cacheSpecialtysLevels[A]:(console.warn("Attribute "+A+"has no according levels or specialtys."),[])};var sv=function(){this.instanceMaterials={},this.materials={},this.textures={},this.lightmaps={},this.ensureImagePowerOfTwo=!1};sv.prototype.changeAllMaterials=function(A,e){},sv.prototype.destroy=function(){this.instanceMaterials=null,this.materials=null,this.textures=null},sv.prototype.disposeInstanceMaterials=function(A){var e=this.instanceMaterials;for(var t in e){var i=e[t];if(Array.isArray(i))for(var n=0,o=i.length;n<o;n+=1)i[n].dispose();else i.dispose()}},sv.prototype.disposeMaterials=function(A){for(var e in this.materials)this.materials[e].dispose();this.disposeInstanceMaterials(A)},sv.prototype.updateMaterialsValue=function(A,e,t){var i=this.materials,n=this.instanceMaterials,o=null;for(var r in i)if((o=i[r])&&o[e]&&(o[e]=t,"function"==typeof o.refreshUniforms&&o.refreshUniforms(),o.needsUpdate=!0),o=n[r])if(Array.isArray(o))for(var a=0,s=o.length;a<s;a+=1)o[a][e]&&(o[a][e]=t,"function"==typeof o[a].refreshUniforms&&o[a].refreshUniforms(),o[a].needsUpdate=!0);else o[e]&&(o[e]=t,"function"==typeof o.refreshUniforms&&o.refreshUniforms(),o.needsUpdate=!0)},sv.prototype._updateTextureMapping=function(A){var e=Ah.EnableTextureMapping,i=this.ensureImagePowerOfTwo;function t(A,e){if(e){if(void 0===e.length)A.map=e;else for(var t=0;t<e.length;t+=1)i||(e[t].image=xu.ensurePowerOfTwo(e[t].image)),"map"===e[t].texturetype?A.map=e[t]:"bumpMap"===e[t].texturetype||("specularMap"===e[t].texturetype?A.specularMap=e[t]:"alphaMap"===e[t].texturetype?A.alphaMap=e[t]:"emissiveMap"===e[t].texturetype?A.emissiveMap=e[t]:"environmentMap"===e[t].texturetype?A.envMap=e[t]:console.warn("This map type is not supported yet:",e[t].texturetype));Ah.IBL&&A.refreshUniforms(),A.needsUpdate=!0}else A.textureColor&&A.color.setStyle(A.textureColor),A.needsUpdate=!0}if(this.lastTextureEnabled!==e){var n=this.textures,o=this.materials;if(A)var r=A.manager.getMaterialOverrideSet(),a=r?r.materials:null,s=r?r.textures:null;var l=this.instanceMaterials,c=null,d=null;if(e){for(c in o){if(d=o[c])t(d,h=n[c])}for(c in l)if(d=l[c]){var h=n[c];if(s&&s[c]&&(h=s[c]),Array.isArray(d))for(var u=0,p=d.length;u<p;u+=1)t(d[u],h);else t(d,h)}for(c in a){if(d=a[c])t(d,h=s[c])}this.ensureImagePowerOfTwo=!0}else{if(!r)for(c in o)(d=o[c])&&(d.map=null,d.needsUpdate=!0);for(c in l)if(d=l[c])if(Array.isArray(d))for(u=0,p=d.length;u<p;u+=1)d[u].pureColor&&(d[u].color.setStyle(d[u].pureColor),d[u].map=null,d[u].needsUpdate=!0),r||(d[u].map=null,d[u].needsUpdate=!0);else d.pureColor&&(d.color.setStyle(d.pureColor),d.map=null,d.needsUpdate=!0),r||(d.map=null,d.needsUpdate=!0);for(c in a)(d=a[c])&&(d.map=null,d.needsUpdate=!0,d.pureColor&&d.color.setStyle(d.pureColor))}this.lastTextureEnabled=e}},sv.prototype.updateMaterials=function(A){var e=this.materials;for(var t in e)if(e.hasOwnProperty(t)){var i=e[t];i.IBLMaps=A.manager.scene.IBLMaps,i.refreshUniforms()}},sv.prototype._updateIBL=function(A){var e=A.manager.scene;if(Ah.IBL&&null!==e.iblProbe&&e.iblProbe.isComputed){this.materialManager.updateMaterials(A);var t=e.IBLcfg,i=t[Object.keys(t)[e.IBLIndex]];for(var n in i)this.materialManager.updateMaterialsValue(A,n,i[n])}},sv.prototype.changeAllMaterials=function(A,e){var t=this.materials;for(var i in t)if(t.hasOwnProperty(i)){var n=xu.getMaterialParameters(t[i]),o=null;e?(o=new qm.IBLMaterial(n)).type="IBL":(delete n.iblProbe,(o=xu.createStandardMaterial(n)).roughness=n.originRoughness,o.metalness=n.originMetalness),o.refreshUniforms(),t[o.name=i]=o,n=null}},sv.prototype.switchNewStyleMaterial=function(A,e){var t=this.materials;for(var i in t)if(t.hasOwnProperty(i)){var n=xu.getMaterialParameters(t[i]),o=null;t[(o=e?xu.createNewStyleMaterial(n):xu.createStandardMaterial(n)).name=i]=o,n=null}};var lv,cv=function(A,e){Wr.call(this),this.type="SkinnedMeshEx",this.matrixAutoUpdate=!0,this.active=!1,this.guid="",this.key="",this.typeEx="",this.geometry=A||lu.EmptyGeometry,this.material=e||xu.DefaultMaterial,this.visible=!1,this.castShadow=Ah.EnableShadow,this.receiveShadow=Ah.EnableShadow};((cv.prototype=Object.create(Wr.prototype)).constructor=cv).prototype.init=function(A){A&&A.parent&&A.parent.add(this)},cv.prototype.destroy=function(){this.parent&&this.parent.remove(this),this.userData&&(this.userData=null),this.geometry=null,this.material=null},cv.prototype.isVisible=function(){return this.visible&&this.active},cv.prototype.spawn=function(A){void 0!==A.guid&&(this.guid=A.guid),void 0!==A.key&&(this.key=A.key),void 0!==A.name&&(this.name=A.name),void 0!==A.typeEx&&(this.typeEx=A.typeEx),A.geometry&&(this.geometry=A.geometry),A.material&&(this.material=A.material),A.matrix?this.matrix.copy(A.matrix):this.matrix.identity(),this.updateMatrixWorld(!0),this.modelKey=A.modelKey?A.modelKey:"",A.userData?this.userData=A.userData:this.userData&&(this.userData=null),void 0!==A.visible&&(this.visible=A.visible),this.renderOrder=A.renderOrder||0,this.active=!0,this.visible=!0,this.frustumCulled=!1,this.matChange=!1},cv.prototype.clear=function(){this.geometry=lu.EmptyGeometry,this.material=xu.DefaultMaterial,this.active=!1,this.visible=!0,this.guid="",this.key="",this.typeEx="",this.frustumCulled=!0,this.material.visible=!1},cv.prototype.intersectBoxWithDistance=(lv=new ni,function(A,e){var t=this.geometry,i=this.material,n=this.matrixWorld;return e&&(n=new At).multiplyMatrices(this.matrixWorld,e),void 0===i?-1:(t.boundingBox||t.computeBoundingBox(),lv.copy(t.boundingBox),lv.applyMatrix4(n),A.ray.intersectBoxWithDistance(lv))}),cv.prototype.intersectBoxWithDistanceByIndices=function(A,e){var t=this.matrixWorld,i=this.computeBoundingBox(e);return i.applyMatrix4(t),A.ray.intersectBoxWithDistance(i)},cv.prototype.intersectBoxWithClipPlane=function(A,e){var t=this.matrixWorld,i=this.computeBoundingBox(e);return i.applyMatrix4(t),i.intersectsPlane(A)},cv.prototype.raycastByIndices=function(){var C=new At,I=new ri,x=new oi,g=new Ue,f=new Ue,m=new Ue,v=new Le,y=new Le,b=new Le,E=new Ue,w=new Ue,M=new Ue,B=new At;function _(A,e,t,i,n,o,r,a){g.fromBufferAttribute(i,o),f.fromBufferAttribute(i,r),m.fromBufferAttribute(i,a);var s,l,c,d=function(A,e,t,i,n,o,r){var a=A.material;if(null===(Array.isArray(a)?t.intersectTriangle(i,n,o,!1,r):a.side===IA?t.intersectTriangle(o,n,i,!0,r):t.intersectTriangle(i,n,o,a.side!==gA,r)))return null;M.copy(r),M.applyMatrix4(B);var s=e.ray.origin.distanceTo(M);return s<e.near||e.far<s?null:{distance:s,point:M.clone(),object:A}}(A,e,t,g,f,m,w);if(d){if(n&&n.array&&n.array.length&&(v.fromBufferAttribute(n,o),y.fromBufferAttribute(n,r),b.fromBufferAttribute(n,a),d.uv=(s=v,l=y,c=b,ai.getBarycoord(w,g,f,m,E),s.multiplyScalar(E.x),l.multiplyScalar(E.y),c.multiplyScalar(E.z),s.add(l).add(c),s.clone())),i.instanceMatrix){var h=g.clone().applyMatrix4(i.instanceMatrix),u=f.clone().applyMatrix4(i.instanceMatrix),p=m.clone().applyMatrix4(i.instanceMatrix);d.face=new fi(o,r,a,ai.getNormal(h,u,p,new Ue))}else d.face=new fi(o,r,a,ai.getNormal(g,f,m,new Ue));d.faceIndex=o}return d}return function(A,e,t,i){var n=this.geometry,o=this.material;if(i){n=this.geometry,o=this.material;if((B=new At).multiplyMatrices(this.matrixWorld,i),void 0===o)return;if(null===n.boundingSphere&&n.computeBoundingSphere(),x.copy(n.boundingSphere),x.applyMatrix4(B),!1===A.ray.intersectsSphere(x))return;if(C.getInverse(B),I.copy(A.ray).applyMatrix4(C),null!==n.boundingBox&&!1===I.intersectsBox(n.boundingBox))return;var r=null,a=null,s=null,l=null,c=n.index;(f=n.attributes.position).instanceMatrix=i;var d=n.attributes.uv,h=null,u=null;if(null!==c)for(h=0,u=c.count;h<u;h+=3)a=c.getX(h),s=c.getX(h+1),l=c.getX(h+2),(r=_(this,A,I,f,d,a,s,l))&&(r.faceIndex=Math.floor(h/3),e.push(r));else for(h=0,u=f.count;h<u;h+=3)(r=_(this,A,I,f,d,a=h,s=h+1,l=h+2))&&(r.index=a,e.push(r))}else{if(B=this.matrixWorld,void 0===o)return;if(x.copy(this.computeBoundingSphere(t)),x.applyMatrix4(B),!1===A.ray.intersectsSphere(x))return;C.getInverse(B),I.copy(A.ray).applyMatrix4(C);var p=this.computeBoundingBox(t);if(!1===I.intersectsBox(p))return;r=null,a=null,s=null,l=null;var g,f=n.attributes.position,m=(d=n.attributes.uv,h=null,t.indexStart),v=t.indexStart+t.indexCount,y=n.getIndex().array;for(h=m,g=v;h<g;h+=3)(r=_(this,A,I,f,d,a=y[h],s=y[h+1],l=y[h+2]))&&(r.faceIndex=Math.floor(h/3),e.push(r))}}}(),cv.prototype.minDistanceToTri=function(A,e,t){function w(A,e){return new Ue(A.x-e.x,A.y-e.y,A.z-e.z)}function g(A,e){return new Ue(A.x+e.x,A.y+e.y,A.z+e.z)}function M(A,e,t){return new Ue(A.x+e.x*t,A.y+e.y*t,A.z+e.z*t)}function B(A,e){return A.x*e.x+A.y*e.y+A.z*e.z}function _(A,e){return new Ue(A.y*e.z-A.z*e.y,A.z*e.x-A.x*e.z,A.x*e.y-A.y*e.x)}function S(A,e,t,i){var n,o=B(e,i),r=B(e,e),a=B(i,i),s=w(t,A),l=B(e,s),c=B(i,s),d=null;(d=(l*a-c*o)/(r*a-o*o))<0||isNaN(d)?d=0:1<d&&(d=1);var h=null,u=null,p=null;return(n=(d*o-c)/a)<=0||isNaN(n)?(u=t,p=(d=l/r)<=0||isNaN(d)?w(t,h=A):d<1?(h=M(A,e,d),_(e,_(s,e))):w(t,h=g(A,e))):n<1?(u=M(t,i,n),d<=0||isNaN(d)?(h=A,p=_(i,_(s,i))):d<1?(h=M(A,e,d),B(p=_(e,i),s)<0&&p.multiplyScalar(-1)):p=_(i,_(s=w(t,h=g(A,e)),i))):(u=g(t,i),p=(d=(o+l)/r)<=0||isNaN(d)?w(u,h=A):d<1?(h=M(A,e,d),_(e,_(s=w(u,A),e))):w(u,h=g(A,e))),{vec:p,closestP:h,closestQ:u}}function i(A,e){var t=null,i=null,n=[],o=[],r=null;n[0]=w(A[1],A[0]),n[1]=w(A[2],A[1]),n[2]=w(A[0],A[2]),o[0]=w(e[1],e[0]),o[1]=w(e[2],e[1]),o[2]=w(e[0],e[2]);for(var a=null,s=null,l=null,c=0,d=A[0].distanceToSquared(e[0])+1,h=0;h<3;h+=1)for(var u=0;u<3;u+=1){var p=S(A[h],n[h],e[u],o[u]);r=p.vec;var g=B(a=w(i=p.closestQ,t=p.closestP),a);if(g<=d){s=t.clone(),l=i.clone(),d=g;var f=B(w(A[(h+2)%3],t),r),m=B(w(e[(u+2)%3],i),r);if(f<=0&&0<=m)return{start:t.clone(),end:i.clone(),minDistance:Math.sqrt(g)};f<0&&(f=0),0<m&&(m=0),0<B(a,r)-f+m&&(c=1)}}var v=_(n[0],n[1]),y=B(v,v);if(1e-15<y){var C=[];a=w(A[0],e[0]),C[0]=B(a,v),a=w(A[0],e[1]),C[1]=B(a,v),a=w(A[0],e[2]),C[2]=B(a,v);var I=-1;if(0<C[0]&&0<C[1]&&0<C[2]?C[2]<C[I=C[0]<C[1]?0:1]&&(I=2):C[0]<0&&C[1]<0&&C[2]<0&&C[I=C[1]<C[0]?0:1]<C[2]&&(I=2),0<=I&&(c=1,0<B(a=w(e[I],A[0]),_(v,n[0]))&&0<B(a=w(e[I],A[1]),_(v,n[1]))&&0<B(a=w(e[I],A[2]),_(v,n[2]))))return t=M(e[I],v,C[I]/y),i=e[I].clone(),t.distanceTo(i)}var x=_(o[0],o[1]),b=B(x,x);if(1e-15<b){var E=[];a=w(e[0],A[0]),E[0]=B(a,x),a=w(e[0],A[1]),E[1]=B(a,x),a=w(e[0],A[2]),E[2]=B(a,x);I=-1;if(0<E[0]&&0<E[1]&&0<E[2]?E[2]<E[I=E[0]<E[1]?0:1]&&(I=2):E[0]<0&&E[1]<0&&E[2]<0&&E[I=E[1]<E[0]?0:1]<E[2]&&(I=2),0<=I&&(c=1,0<B(a=w(A[I],e[0]),_(x,o[0]))&&0<B(a=w(A[I],e[1]),_(x,o[1]))&&0<B(a=w(A[I],e[2]),_(x,o[2]))))return{start:t=A[I].clone(),end:(i=M(A[I],x,E[I]/b)).clone(),minDistance:t.distanceTo(i)}}return c?(i=l,{start:(t=s).clone(),end:l.clone(),minDistance:Math.sqrt(d)}):{start:s.clone(),end:l.clone(),minDistance:0}}var n=new Ue,o=new Ue,r=new Ue;for(var a,s,l,c,d,h={start:null,end:null,minDistance:Number.POSITIVE_INFINITY},u=this.geometry,p=u.attributes.position,f=e?e.indexStart:0,m=u.getIndex().array,v=f,y=e?e.indexStart+e.indexCount:m.length;v<y;v+=3){var C=[];a=C,l=m[v+1],c=m[v+2],d=t,n.fromBufferAttribute(s=p,m[v]),o.fromBufferAttribute(s,l),r.fromBufferAttribute(s,c),d&&(n.applyMatrix4(d),o.applyMatrix4(d),r.applyMatrix4(d)),a.push(n),a.push(o),a.push(r);var I=i(A,C);if(I.minDistance<=0)return h.minDistance=0,h;I.minDistance<h.minDistance&&(h.minDistance=I.minDistance,h.start=I.start.clone(),h.end=I.end.clone())}return h},cv.prototype.computeBoundingBox=function(A){var e=new ni,t=this.geometry.attributes.position.array,i=null,n=null;return n=A?(i=A.positionStart)+A.positionCount:(i=0,t.length),this.setBoundingBoxFromArray(e,t,i,n),e},cv.prototype.computeBoundingSphere=function(A){var e=new ni,t=new Ue,i=this.geometry.attributes.position.array,n=null,o=null;o=A?(n=A.positionStart)+A.positionCount:(n=0,i.length);var r=new oi,a=r.center;this.setBoundingBoxFromArray(e,i,n,o),e.getCenter(a);for(var s=0,l=n,c=o;l<c;l+=3)t.x=i[l],t.y=i[l+1],t.z=i[l+2],s=Math.max(s,a.distanceToSquared(t));return r.radius=Math.sqrt(s),r},cv.prototype.setBoundingBoxFromArray=function(A,e,t,i){for(var n=Number(1/0),o=Number(1/0),r=Number(1/0),a=-1/0,s=-1/0,l=-1/0,c=t,d=i;c<d;c+=3){var h=e[c],u=e[c+1],p=e[c+2];h<n&&(n=h),u<o&&(o=u),p<r&&(r=p),a<h&&(a=h),s<u&&(s=u),l<p&&(l=p)}A.min.set(n,o,r),A.max.set(a,s,l)};var dv=function(A){return Xm.call(this),this.manager=A,this.nodePriority={high:[],medium:[],low:[]},this.visibleOctant=[],this.occlusionVisibleOctant=[],this.usedNodeInfosObject={},this.lineNodes={},this.blinkMaterials=[],this.selectedMeshes=[],this.nonSelectedMeshes=[],this.selectedObjectIds=[],this};(dv.prototype=Object.create(Xm.prototype)).destroy=function(){this.dispose(),this.clearData(),this.manager=null,this.nodePriority=null,this.visibleOctant=null,this.occlusionVisibleOctant=null,this.nodePriority=null,this.lineNodes=null,this.blinkMaterials=null},dv.prototype.disposeLineNodes=function(){for(var A in this.lineNodes){var e=this.lineNodes[A];e.geometry.dispose(),e=null,delete this.lineNodes[A]}},dv.prototype.clearData=function(){this.disposeGeometries(),this.disposeLineNodes(),this._clearNodePriorityData(!0),this._clearUsedNodeInfosObject(),this.visibleOctant.length=0,this.occlusionVisibleOctant.length=0},dv.prototype.update=function(A,e,t){this._updateMeshNodes(A,e,t)},dv.prototype.cullNodes=function(A,e){this._clearNodePriorityData(!1),this._adjustLowNodePriorityLength(A);var t=0;return t=Ah.EnableOctant?this._cullNodesWithOctant(A,e):this._cullNodesWithFull(A),this._calcPrioritizedNodeCount(A,t)},dv.prototype.getPriorityNodes=function(){return[this.nodePriority.high,this.nodePriority.medium,this.nodePriority.low]},dv.prototype._cullNodesWithOctant=function(A,e){var t=0,i=0,n=this.manager.getLoader(A).getOctreeRootNodeInner(),o=this.manager.getLoader(A).getOctreeRootNodeOuter();if(this.manager.getContainsCamera(A)||!o)return this.visibleOctant.length=0,n&&this._frustumCull(A,e,n),o&&this._frustumCull(A,e,o),0<(i=this.visibleOctant.length)&&(this._sortVisibleOctant(e),t=this._logicCull(A,!0,!0,t,i)),t;o&&(this.visibleOctant.length=0,this._frustumCull(A,e,o),0<(i=this.visibleOctant.length)&&(this._sortVisibleOctant(e),t=this._logicCull(A,!0,!1,t,i)));var r=this.manager.getFilter(A);(Object.keys(this.nodePriority.low).length+this.nodePriority.high.length+this.nodePriority.medium.length<this.manager.getRenderableCount(A)||r._hasRenderPromotionFilter())&&((n=this.manager.getLoader(A).getOctreeRootNodeInner())&&(this.visibleOctant.length=0,this._frustumCull(A,e,n),0<(i=this.visibleOctant.length)&&(this._sortVisibleOctant(A,e),t=this._logicCull(A,!0,!1,t,i))));return t},dv.prototype._cullNodesWithFull=function(A){var e=A.getModelDescriptor().getCellCount();return 0===e?0:this._logicCullWithFull(A,e)},dv.prototype._calcPrioritizedNodeCount=function(A,e){var t=e+this.nodePriority.high.length+this.nodePriority.medium.length;return t>this.manager.getRenderableCount(A)&&(t=this.manager.getRenderableCount(A)),t},dv.prototype._updateMeshNodes222=function(A,e){if(!A.isOnlyWireframe()){this._clearLineSegmentsNodeGroup(A);var t=[this.nodePriority.high,this.nodePriority.medium,this.nodePriority.low],i=null;0<t[0].length&&(i=A.selectedMaterial);for(var n=A.manager.filter._hasOverrideMaterialFilter(),o={octantStartIndex:-1,curOctantId:-1},r=0,a=0,s=t.length;a<s;a+=1)for(var l=t[a],c=0,d=l.length;c<d&&e>=(r+=1);c+=1){var h=l[c],u=null;u=this._getUsableMaterial(A,h,0===a?i:null,n);var p=!A.isInstancedNode(h);this._isLineSegments(h)?this._dealLineSegments(A,h,p,u):this._dealMeshes(A,h,p,u,o),u=null}i=null,-1!==o.octantStartIndex&&A.manager.addObjectRangeToOctantMap(o.curOctantId,o.octantStartIndex,A.pool.counter-1),t=null}},dv.prototype._updateMeshNodes=function(A,e,t){if(A.isOnlyWireframe()){A._getNodeGroup(Ap.GEOMETRY).visible=!1}else{var i=A.getModelDescriptor().getStandardNodeInfos();if(i){this.clearSelectedObjectIds(),A._getNodeGroup(Ap.GEOMETRY).visible=!0;var n=A.manager.filter,o=A.selectedMaterial,r=A.manager.sceneState,a=A.manager;if(a.octantToObjectMap&&a.octantToObjectMap[A.modelKey]){var s=a.octantToObjectMap[A.modelKey].mesh,l=A.materialManager.materials,c=this.manager.hiddenUserIdSetObject,d=this.manager.overrideUserIdSetObject,h=this.manager.transparentUserIdSetObject,u=this.manager.selectedUserIdSetObject,p=this.manager.hoveredUserIdSetObject;this.blinkMaterials.length=0,e||(e=A.getModelDescriptor().getStandardUserIds()),Ah.TranslucentDepthDisabled&&(o.depthWrite=!o.transparent);var g=n._getMaterialByName("scene");Ah.TranslucentDepthDisabled&&(g.depthWrite=!1);for(var f=0;f<e.length;f+=1){var m=e[f],v=i[m][0];if(v){var y=s[m];if(y)if(c&&c[m])y.visible=!1;else{y.visible=!0;var C=[];if(h&&h[m]&&!Ah.EnableSelectionByTranslucent){for(var I=0;I<v.materialId.length;I+=1)C.push(t||g);y.material=C}else if(u&&u[m]){for(var x=0;x<v.materialId.length;x+=1)C.push(t||o);y.material=C,this.cacheSelectedObjectIds(m)}else if(p&&p[m]){for(var b=0;b<v.materialId.length;b+=1){M=r.getHoverMaterial(M=l[v.materialId[b]]),C.push(t||M)}y.material=C}else if(h&&h[m]){for(var E=0;E<v.materialId.length;E+=1)C.push(t||g);y.material=C}else if(d&&d[m]){for(var w=0;w<v.materialId.length;w+=1){var M=n._getMaterialByName(d[m]);C.push(t||M)}y.material=C}else{for(var B=0;B<v.materialId.length;B+=1){M=l[v.materialId[B]];C.push(t||M)}y.material=C}}}}}}}},dv.prototype._getUsableMaterial=function(A,e,t,i){var n=e.materialId,o=e.userId,r=A.materialManager.materials,a=A.manager.sceneState,s=A.manager.filter,l=null,c=a.isSelected(o);!0!==c||s._isSelectable(e)||(c=!1),t?(l=s._getOverrideMaterial(e))&&!c||(l=t):i&&(l=s._getOverrideMaterial(e));var d=A.manager.getOverrideMaterialByNodeInfo(e);return l=l||d||r[n],Ah.Hover&&!Ah.EnableRenderPass&&a.hoverId===o&&!1===c&&(l=a.getHoverMaterial(l)),l},dv.prototype._dealMeshes=function(A,e,t,i,n){var o=this.getGeometryByNodeInfo(A,e),r=A.pool,a=0;if(Array.isArray(o))for(var s=0,l=o.length;s<l;s+=1){a=r.get({modelKey:A.modelKey,nodeId:e.nodeId,userId:e.userId,originalId:e.originalId,userData:e.userData,geometry:o[s],matrix:e.matrix,material:i,renderOrder:i.transparent?0:Ah.MaximumDepth-e.cellDepth,visible:t}),null}else a=r.get({modelKey:A.modelKey,nodeId:e.nodeId,userId:e.userId,originalId:e.originalId,userData:e.userData,geometry:o,matrix:e.matrix,material:i,renderOrder:i.transparent?0:Ah.MaximumDepth-e.cellDepth,visible:t});a<0||n.curOctantId!==e.octantId&&(0<a&&A.manager.addObjectRangeToOctantMap(n.curOctantId,n.octantStartIndex,a-1),n.octantStartIndex=a,n.curOctantId=e.octantId)},dv.prototype._dealLineSegments=function(A,e,t,i){var n=this._getLineSegmentsNodeGroup(A),o=this.lineNodes[e.nodeId];if(!o){var r=this.getGeometryByNodeInfo(A,e);(o=new Ru(r,i)).modelKey=A.modelKey,this.lineNodes[e.nodeId]=o}o.material=i,o.visible=t,n.add(o),o.updateMatrixWorld(!0)},dv.prototype._frustumCull=function(A,e,t){var i=A.manager,n=e.getFrustum(),o=Ah.OctantDepth,d=e.projScreenMatrix,h=new ni;function u(A,e,t,i,n){var o=null;if(e&&A.depth<t&&(h.set(A.min,A.max),o=e.intersectsBox(h)),o){if(i){var r=h.applyMatrix4(d),a=r.getSize().length(),s=r.getCenter().z;A.priority=a/(s=1e-6<s?s:1e-6),n.push(A)}else n.push(A);for(var l=0,c=A.childOctants.length;l<c;l+=1)u(A.childOctants[l],e,t,i,n)}}(Ah.DEBUG&&i.showOctreeBox(t),u(t,n,o,!0,this.visibleOctant),Ah.OcclusionTranslucentEnabled)&&u(t,this.manager.getFrustumFromOcclusionCamera(),o,!1,this.occlusionVisibleOctant);return!0},dv.prototype._logicCull=function(A,e,t,o,i){var n=A.manager,r=n.filter,a=r._hasHiddenFileIdFilter(),s=r._hasOverrideMaterialFilter(),l=n.sceneState.selectionSet,c=r._hasRenderPromotionFilter(),d=this.nodePriority.high,h=this.nodePriority.medium,u=this.nodePriority.low,p=this.nodePriority.low.length,g=A.getModelDescriptor().getNodeInfosWithCellId();function f(A,e){if(!(a&&r._isHiddenFileId(A)||!1===r._isVisible(A)))if(l.hasOwnProperty(A.userId)||s&&r._hasHighPriorityOverrideMaterial(A))d.push(A);else{var t=!1;if(c&&r._isRenderPromotion(A)&&(t=!0),e){var i=A.userData,n=i?i.categoryId:void 0;n&&e[n]&&(t=!0)}t?h.push(A):o<p&&(u[o]=A,o+=1)}}var m=n.getCategoriesFromHighPriority("outer");!0===t&&(m=n.getCategoriesFromHighPriority("inner"));for(var v=0,y=0,C=0;C<i;C+=1){var I=null,x=0;e?(I=this.visibleOctant[C].octantId,x=this.visibleOctant[C].depth):I=C;var b=g[I];if(b){var E=this._getUsedNodeInfosByCellId(I);if(!E){for(v=0,y=b.length;v<y;v+=1){(M=b[v]).octantId=I,M.cellDepth=x,this._isSatisfied(A,M)&&this._cacheUsedNodeInfosByCellId(I,M)}E=this._getUsedNodeInfosByCellId(I)}if(E){var w=E.default;for(v=0,y=w.length;v<y;v+=1){var M;f(M=w[v],m)}}}}return Gh.timeEnd("collectNodeInfo"),o},dv.prototype._clearUsedNodeInfosObject=function(){for(var A in this.usedNodeInfosObject)delete this.usedNodeInfosObject[A].default,delete this.usedNodeInfosObject[A].instance,delete this.usedNodeInfosObject[A];this.usedNodeInfosObject={}},dv.prototype._getUsedNodeInfosByCellId=function(A){return this.usedNodeInfosObject[A]},dv.prototype._cacheUsedNodeInfosByCellId=function(A,e){this.usedNodeInfosObject[A]||(this.usedNodeInfosObject[A]={},this.usedNodeInfosObject[A].default=[],this.usedNodeInfosObject[A].instance=[]),this.usedNodeInfosObject[A].default.push(e)},dv.prototype._isSatisfied=function(A,e){var t=A.getLoadedUserIdsObject();return!t||Boolean(t[e.userId])},dv.prototype._logicCullWithFull=function(A,e){return this._logicCull(A,!1,!0,0,e)},dv.prototype._sortVisibleOctant=function(A,e){},dv.prototype._applyOcclusionTranslucent=function(A){if(Ah.OcclusionTranslucentEnabled){var e=A.pool.getObjects(),t=A.manager.octantToObjectMap,i=this.occlusionVisibleOctant.length;if(0<i)for(var n=A.manager.getFrustumFromOcclusionCamera(),o=0;o<i;o+=1){var r=t[this.occlusionVisibleOctant[o].octantId];if(r&&0<r.length)for(var a=0,s=r.length;a<s;a+=2)for(var l=r[a];l<=r[a+1];l+=1){var c=e[l];Zu.intersectObjectWithFrustum(c,n)&&this._overrideOcclusionMaterial(c)}}}},dv.prototype._overrideOcclusionMaterial=function(A,e){var t=e.material;if(t&&!1===t.transparent){var i=A.manager.acquireMaterial(),n=i.material;t.color?n.color.copy(t.color):i.resetColor(),n.opacity=Ah.OcclusionOpacity,e.material=n,e.material.needsUpdate=!0}},dv.prototype._clearNodePriorityData=function(A){var e=this.nodePriority;e.high.length=0,e.medium.length=0,A&&(e.low.length=0)},dv.prototype._adjustLowNodePriorityLength=function(A){0===this.nodePriority.low.length&&(this.nodePriority.low.length=this.manager.getRenderableCount(A))},dv.prototype._clearLineSegmentsNodeGroup=function(A){this._getLineSegmentsNodeGroup(A).clear()},dv.prototype._getLineSegmentsNodeGroup=function(A){return A._getNodeGroup(Ap.LINESEGMENTS,{globalSpace:!0})},dv.prototype._isLineSegments=function(A){return A.type===Dm.EnumNodeItemType.LINE},dv.prototype.getBlinkMaterials=function(A){return this.blinkMaterials},dv.prototype._makeMesh=function(A,e,t){var i=A.modelKey,n=A.manager,o=A.modelDescriptor.getStandardNodeInfos();if(o){e||(e=A.getModelDescriptor().getInstancedUserIds());for(var r=A.getModelDescriptor(),a=A._getNodeGroup(Ap.GEOMETRY,{globalSpace:!0}),s=A.materialManager.materials,l=0,c=e.length;l<c;l+=1){var d=A.getModelDescriptor().getNodeInfosByComponentId(e[l]);if(!d||!d[0].mesh)for(var h=o[e[l]],u=0,p=h.length;u<p;u+=1){var g=h[u];if(g){var f=g.geometryId,m=this.getGeometryById(f);if(m){var v=g.materialId||r.referencedMeshCache.components[e[l]].matId,y=null;if(y=[],"1.0"===A.dataVersion||void 0===A.dataVersion){var C=s[v];if(g.materialId=[],!C)continue;if(Array.isArray(C))if(1<C.length)for(u=0;u<C.length;u+=1)g.materialId.push(v+"_"+u),s[v+"_"+u]=C[u];else s[v]=C[0],g.materialId.push(v);else g.materialId.push(v);for(u=0;u<g.materialId.length;u+=1)y.push(s[g.materialId[u]])}else for(u=0;u<v.length;u+=1){var I=s[v[u]];I||(I=xu.DefaultMaterial),y.push(I)}if(y.length<1){var x=su[g.type]?su[g.type].color:void 0;x||(Gh.log("Material not found for type: ",g.type),x=su.DEFAULT.color),x||(Gh.log("Default material not found for type: ",g.type),x=[1,1,1,1]);var b=new hi(x[0],x[1],x[2]),E=b.getHexString()+"_"+x[3],w=s[E];w||(w=new ws({color:b}),x[3]<1&&(w.transparent=!0,w.opacity=x[3]),w.side=gA,s[E]=w),m.groups=[{start:0,count:m.index.count,materialIndex:0}],g.materialId.push(E),y.push(w)}for(var M=0;M<y.length;M+=1)y[M].aoMap&&(m.attributes.uv2=m.attributes.uv);var B=new Fu(m,y),_={matrix:g.matrix,modelKey:i,name:g.name,key:g.componentId,userData:{},typeEx:g.type};B.spawn(_),a.add(B),n.addMeshToOctantMap(i,B,g.componentId);var S={indexCount:m.index.count,indexStart:0,lightmapIdx:void 0,nodeId:g.componentId,positionCount:m.attributes.position.count,positionStart:0,userId:g.componentId};B._indicesGroup={},B._indicesGroup[g.componentId]=[S],A.addMeshToInfoMap(g.componentId,g.componentId,B,S),B=m=y=_=v=f=null}}}}a.updateMatrixWorld(!0),t&&t()}},dv.prototype._makeSkinMesh=function(A,e,t){var i=A.modelKey,n=A.manager,o=A.modelDescriptor.getStandardNodeInfos();if(o){e||(e=A.getModelDescriptor().getInstancedUserIds());for(var r=A.getModelDescriptor(),a=A.materialManager.materials,s=0,l=e.length;s<l;s+=1)for(var c=o[e[s]],d=0,h=c.length;d<h;d+=1){var u=c[d];if(u){var p=u.geometryId,g=this.getGeometryById(p);if(g){var f=u.materialId||r.referencedMeshCache.components[e[s]].matId,m=null;m=[];for(d=0;d<f.length;d+=1){var v=a[f[d]];v||(v=xu.DefaultMaterial),m.push(v)}if(m.length<1){var y=su[u.type]?su[u.type].color:void 0;y||(Gh.log("Material not found for type: ",u.type),y=su.DEFAULT.color),y||(Gh.log("Default material not found for type: ",u.type),y=[1,1,1,1]);var C=new hi(y[0],y[1],y[2]),I=C.getHexString()+"_"+y[3],x=a[I];x||(x=new ws({color:C}),y[3]<1&&(x.transparent=!0,x.opacity=y[3]),x.side=gA,a[I]=x),g.groups=[{start:0,count:g.index.count,materialIndex:0}],u.materialId.push(I),m.push(x)}for(var b=0;b<m.length;b+=1)m[b].aoMap&&(g.attributes.uv2=g.attributes.uv);var E=null;if("skinIndex"in g.attributes&&"skinWeight"in g.attributes){E=new cv(g,m);for(var w=0;w<m.length;w+=1)m[w].skinning=!0;console.log("SkinnedMesh 类型mesh")}else E=new Fu(g,m);var M={matrix:u.matrix,modelKey:i,name:u.name,key:u.componentId,userData:{},typeEx:u.type};E.spawn(M),n.addMeshToOctantMap(i,E,u.componentId);var B={indexCount:g.index.count,indexStart:0,lightmapIdx:void 0,nodeId:u.componentId,positionCount:g.attributes.position.count,positionStart:0,userId:u.componentId};return E._indicesGroup={},E._indicesGroup[u.componentId]=[B],A.addMeshToInfoMap(u.componentId,u.componentId,E,B),g=m=M=f=p=null,E}}}}},dv.prototype._readBufferInfo=function(A,e){var t=A.modelDescriptor.getStandardNodeInfos();if(t){e||(e=A.getModelDescriptor().getInstancedUserIds());for(var i=A.getModelDescriptor(),n=A.materialManager.materials,o=A.materialManager.textures,r=0,a=e.length;r<a;r+=1)for(var s=t[e[r]],l=0,c=s.length;l<c;l+=1){var d=i.referencedMeshCache.components[s[l].componentId],h=d.type;if(!oh[h])if(-1!==d.geoId){var u=this.getGeometryById(d.geoId);if(u||(u=this.getGeometryByNodeInfo(A,s[l])))if("2.0"===A.dataVersion);else{var p=n[d.matId];if(p){if(A.textureNeedsUpdate&&void 0!==A.dataVersion&&"2.0"!==A.dataVersion&&(A.textureNeedsUpdate=!1,0<p.textures.length))if(1<p.materials.length)for(l=0;l<p.UVgroup.length;l+=1)for(m=(f=p.UVgroup[l]).start,v=f.count,y=f.textureIndex,r=0;r<p.groups.length;r+=1){x=(C=p.groups[r]).count,b=C.materialIndex;if((m===(I=C.start)||m+v===I+x||m<I&&x<v)&&x<=v){w=p.materials[b];(E=o[p.textures[y]])&&w&&(w.map=E)}}else p.materials[0].map=o[p.textures[0]]}else if(p=this._readMaterialBuffer(d.matId,A)){if(0===p.materials.length){(C=su[h]?su[h].color:void 0)||(Gh.log("Material not found for type: ",h),C=su.DEFAULT.color),C||Gh.log("Default material not found for type: ",h);var g=new ws({color:new hi(C[0],C[1],C[2])});C[3]<1&&(g.transparent=!0,g.opacity=C[3]),g.side=gA,p.materials.push(g),p.groups.push({start:0,count:c=u.index.count,materialIndex:0})}if(0<p.textures.length)if(1<p.materials.length)for(var l=0;l<p.UVgroup.length;l+=1)for(var f,m=(f=p.UVgroup[l]).start,v=f.count,y=f.textureIndex,r=0;r<p.groups.length;r+=1){var C,I,x=(C=p.groups[r]).count,b=C.materialIndex;if((m===(I=C.start)||m+v===I+x||m<I&&x<v)&&x<=v){var E,w=p.materials[b];(E=o[p.textures[y]])&&w&&(w.map=E)}}else p.materials[0].map=o[p.textures[0]];u&&p&&(u.groups=p.groups),n[d.matId]=p.materials}}}else Gh.debug("实体没有几何")}}},dv.prototype.createMeshNodes=function(A,e){this._readBufferInfo(A,e),A.hasAnimation&&Ah.EnableAnimation||this._makeMesh(A)},dv.prototype.asyncCreateMeshNodes=function(A,e,t){this._readBufferInfo(A,e),A.hasAnimation&&Ah.EnableAnimation?t&&t():this._makeMesh(A,e,t)},dv.prototype._readMaterialBuffer=function(A,e){var t=e.getModelDescriptor().referencedMeshCache.materials[A];if(!t)return null;var i=t.color,n=t.colorIndex,o=t.texture,r=t.textureIndex,a=[],s=[],l=[];if(4<i.length){for(var c=0;c<i.length/4;c+=1){var d=new ws({color:new hi(i[4*c],i[4*c+1],i[4*c+2])});i[4*c+3]<1&&(d.transparent=!0,d.opacity=i[4*c+3]),d.side=gA,a.push(d),d=null}for(var h=null,u=void 0,p=0;p<n.length;p+=1){var g=n[p];g!==u&&(u=g,null!=h&&(h.count=3*p-h.start,s.push(h)),h={start:3*p,materialIndex:u})}null!=h&&(h.count=3*n.length-h.start,s.push(h))}else if(4===i.length){var f=new ws({color:new hi(i[0],i[1],i[2])});i[3]<1&&(f.transparent=!0,f.opacity=i[3]),f.side=gA,a.push(f),s.push({start:0,count:3*n.length,materialIndex:0})}for(var m=null,v=void 0,y=r,C=0;C<y.length;C+=1){var I=y[C];I!==v&&(v=I,null!=m&&(m.count=3*C-m.start,l.push(m)),m={start:3*C,textureIndex:v})}return null!=m&&(m.count=3*y.length-m.start,l.push(m)),{materials:a,groups:s,textures:o,UVgroup:l}},dv.prototype.clearSelectedObjectIds=function(){this.selectedObjectIds.length=0},dv.prototype.cacheSelectedObjectIds=function(A){this.selectedObjectIds.push(A)},dv.prototype.adjustVisibility=function(A,e){var t=this._getNodeGroup(A),i=t.visible;e&&!t.bVisible||(t.visible=e),t.bVisible=i},dv.prototype.changeVisibilityOfSelectedObjects=function(A,e){for(var t=A.manager,i=t.octantToObjectMap[A.modelKey].mesh,n=this.selectedMeshes.length=0,o=this.selectedObjectIds.length;n<o;n+=1){var r=this.selectedObjectIds[n],a=i[r];a&&(t.filter._isVisible({userId:r})&&(a.visible=e))}},dv.prototype.changeVisibilityOfNonSelectedObjects=function(A,e){for(var t=A.manager,i=t.octantToObjectMap[A.modelKey].mesh,n={},o=this.selectedMeshes.length=0,r=this.selectedObjectIds.length;o<r;o+=1){n[this.selectedObjectIds[o]]=!0}for(var a in i)if(i.hasOwnProperty(a)&&!n[a]){var s=i[a];if(!s)continue;if(!t.filter._isVisible({userId:a}))continue;s.visible=e}},dv.prototype.restoreVisibilityOfObjects=function(){this.selectedMeshes.length=0,this.nonSelectedMeshes.length=0},dv.prototype._getNodeGroup=function(A){return A._getNodeGroup(Ap.GEOMETRY,{globalSpace:!0})};var hv=function(A){this.manager=A,this.wireframeGeometries={},this.wireframeLineMeshes={}};hv.prototype._disposeGeometries=function(){for(var A in this.wireframeGeometries)this._disposeGeometry(A)},hv.prototype.destroy=function(){this.manager=null,this._clearWireframeLineMeshes(),this.wireframeLineMeshes=null,this._disposeGeometries(),this.wireframeGeometries=null},hv.prototype.clearData=function(){this._clearWireframeLineMeshes(),this._disposeGeometries()},hv.prototype.update=function(A,e){this.isActivateWireframe(A)?(this._clearWireframeGroupNode(A),this._generateWireframeNodes(A,e),this._getWireWireframeGroupNode(A).updateMatrixWorld(!0)):this._removeWireframeGroupNode(A)},hv.prototype._disposeGeometry=function(A){var e=this.wireframeGeometries[A];if(e){if(Array.isArray(e))for(var t=0,i=e.length;t<i;t+=1)e[t].dispose();else e.dispose();delete this.wireframeGeometries[A]}},hv.prototype._clearWireframeLineMeshes=function(){for(var A in this.wireframeLineMeshes)delete this.wireframeLineMeshes[A];this.wireframeLineMeshes={}},hv.prototype._clearWireframeGroupNode=function(A){this._getWireWireframeGroupNode(A).clear()},hv.prototype._removeWireframeGroupNode=function(A){A._removeNodeGroup(this._getWireframeGroupName(A))},hv.prototype.isActivateWireframe=function(A){return A.isActivateWireframe()},hv.prototype._getWireWireframeGroupNode=function(A){return A._getNodeGroup(this._getWireframeGroupName(A),{globalSpace:!0})},hv.prototype._getWireframeGeometryByNodeInfo=function(A,e){return this._getWireframeGeometryById(e.geometryId,this.manager.getGeometryByNodeInfo(A,e))},hv.prototype._getWireframeGeometryById=function(A,e){if(this.wireframeGeometries[A])return this.wireframeGeometries[A];var t=[],i=null,n=null;if(Array.isArray(e))for(var o=0,r=e.length;o<r;o+=1)n=ku(e[o].attributes.position.array,e[o].index.array),(i=new Gi).setIndex(new Bi(n,1)),i.addAttribute("position",e[o].attributes.position,3),t.push(i);else n=ku(e.attributes.position.array,e.index.array),(i=new Gi).setIndex(new Bi(n,1)),i.addAttribute("position",e.attributes.position,3),t.push(i);return this.wireframeGeometries[A]=t,this.wireframeGeometries[A]},hv.prototype._makeWireframeLineMeshes=function(A,e,t){var i=this.wireframeLineMeshes[e.nodeId];if(!i){i=this.wireframeLineMeshes[e.nodeId]=[];for(var n=this._getWireframeGeometryByNodeInfo(A,e),o=0,r=n.length;o<r;o+=1){var a=new Zr(n[o],this._getWireframeMaterial(A));a.name=e.nodeId+"_"+o,a.applyMatrix(e.matrix),i.push(a)}}for(var s=0,l=i.length;s<l;s+=1)t.add(i[s])},hv.prototype._generateWireframeNodes=function(A,e){var t=this._getWireWireframeGroupNode(A),i=A.getModelDescriptor().getStandardNodeInfos();e||(e=A.getModelDescriptor().getStandardUserIds());for(var n,o,r=this.manager.getHiddenUserIds(),a=0;a<e.length;a+=1){var s=e[a],l=i[s][0];r[s]||(n=l,o=this._getFilter(A),n.type===Dm.EnumNodeItemType.LINE||Ah.Instance&&("box"===n.geometryId||"boxM"===n.geometryId)||o._hasRenderWithBoardlineFilter()&&!o._isRenderWithBoardline(n)||this._makeWireframeLineMeshes(A,l,t))}},hv.prototype._getWireframeGroupName=function(A){return A._getWireframeGroupName()},hv.prototype._getWireframeMaterial=function(A){return A.getWireframeMaterial()},hv.prototype._getFilter=function(A){return A.manager.filter},hv.prototype.adjustVisibility=function(A,e){if(A.isActivateWireframe()){var t=this._getWireWireframeGroupNode(A),i=t.visible;e&&!t.bVisible||(t.visible=e),t.bVisible=i}},hv.prototype.changeVisibilityOfSelectedObjects=function(A,e){},hv.prototype.changeVisibilityOfNonSelectedObjects=function(A,e){this.adjustVisibility(A,e)},hv.prototype.restoreVisibilityOfObjects=function(){};var uv=function(){this.meshManager=new dv(this),this.wireframeManager=new hv(this),this.prioritizedNodeCount=0,this.hiddenUserIdSetObject={},this.overrideUserIdSetObject={},this.transparentUserIdSetObject={}};uv.prototype.destroy=function(){this.meshManager.destroy(),this.meshManager=null,this.wireframeManager.destroy(),this.wireframeManager=null},uv.prototype.clearData=function(){this.meshManager.clearData(),this.wireframeManager.clearData()},uv.prototype.disposeGeometry=function(A){this.meshManager.disposeGeometry(A)},uv.prototype.cullNodes=function(A,e){this.prioritizedNodeCount=this.meshManager.cullNodes(A,e)},uv.prototype.updateNodes=function(A,e){var t;t=this._collectModelFiltered(A),this.meshManager.update(A,e,t),this.wireframeManager.update(A,e)},uv.prototype.applyFilter=function(A,e){if(this.hasNodeInfo(A)){var t=null;t=e||A.getModelDescriptor().getStandardUserIds();var i=A.getModelDescriptor().getStandardNodeInfos();this._collectFilteredUserIds(A.manager.filter,t,i),this._collectSelectedUserIds(A.manager.sceneState.selectionSet,i),this._collectHoveredUserIds(A.manager.sceneState.hoverId,i),this.updateNodes(A,e)}},uv.prototype.applySelection=function(A){if(this.hasNodeInfo(A)){var e=A.getModelDescriptor().getStandardNodeInfos();this._clearSelectedState(A),this._clearHoveredState(A),this._collectSelectedUserIds(A.manager.sceneState.selectionSet,e),this._collectHoveredUserIds(A.manager.sceneState.hoverId,e),this.updateNodes(A)}},uv.prototype.clearSelection=function(A){this._clearSelectedState(A),this.applyHover(A)},uv.prototype.applyHover=function(A){if(this.hasNodeInfo(A)){var e=A.getModelDescriptor().getStandardNodeInfos();this._clearHoveredState(A),this._collectHoveredUserIds(A.manager.sceneState.hoverId,e),this.updateNodes(A)}},uv.prototype.clearHover=function(A){this._clearHoveredState(A),this.updateNodes(A)},uv.prototype.applyBlink=function(A){},uv.prototype.clearBlink=function(A){},uv.prototype.getPriorityNodes=function(){return this.meshManager.getPriorityNodes()},uv.prototype.getGeometryByNodeInfo=function(A,e){return this.meshManager.getGeometryByNodeInfo(A,e)},uv.prototype.getRenderableCount=function(A){return A.renderableCount},uv.prototype.getLoader=function(A){return A.loader},uv.prototype.getContainsCamera=function(A){return A.containsCamera},uv.prototype.getFilter=function(A){return A.manager.filter},uv.prototype.hasNodeInfo=function(A){return!!A.getModelDescriptor().getStandardNodeInfos()},uv.prototype.createMeshNodes=function(A){this.meshManager.createMeshNodes(A)},uv.prototype.asyncCreateMeshNodes=function(A,e,t){this.meshManager.asyncCreateMeshNodes(A,e,t)},uv.prototype._collectFilteredUserIds=function(A,e,t){var i=A._hasHiddenFileIdFilter(),n=A._hasVisibleFilter(),o=A._hasOverrideMaterialFilter(),r=A._hasTransparentFilter();this.mapMaterialIdToUserIdsForFilter={};if(this.hiddenUserIdSetObject={},this.overrideUserIdSetObject={},this.transparentUserIdSetObject={},i||n||o||r)for(var a=0;a<e.length;a+=1){var s=e[a],l=t[s];if(l&&l.length)for(var c=0,d=l.length;c<d;c+=1){var h=l[c];if(i&&A._isHiddenFileId(h)||n&&!1===A._isVisible(h))this.hiddenUserIdSetObject[s]=!0;else if(r&&A._isTransparent(h))this.transparentUserIdSetObject[s]=!0;else if(o&&A._hasOverrideMaterial(h)){var u=A._getOverrideMaterial(h),p=null!==u?u.name:"";""!==p&&(this.overrideUserIdSetObject[s]=p)}else;}}},uv.prototype._collectModelFiltered=function(A){var e=A.manager.filter,t=A.modelKey,i=e._hasModelOverrideMaterialFilter(),n=e._hasModelTransparentFilter(),o=A.manager.modelState.selectionSet;return A.manager.modelState.hoverId===t?A.manager.modelState.getHoverMaterial():o.hasOwnProperty(A.modelKey)?A.manager.modelState.selectionMaterial:n&&e._isModelTransparent(t)?e._getMaterialByName("scene"):i&&e._hasModelOverrideMaterial(t)?e._getModelOverrideMaterial(t):null},uv.prototype._clearFilteredState=function(){this.hiddenUserIdSetObject={},this.overrideUserIdSetObject={},this.transparentUserIdSetObject={}},uv.prototype.getFilteredUserIds=function(){return this.mapMaterialIdToUserIdsForFilter},uv.prototype.getSelectedUserIds=function(){return this.mapMaterialIdToUserIdsForSelection},uv.prototype.getHoveredUserIds=function(){return this.mapMaterialIdToUserIdsForHover},uv.prototype.getBlinkedUserIds=function(){return this.mapBlinkUserIds},uv.prototype.getHiddenUserIds=function(){return this.hiddenUserIdSetObject},uv.prototype._collectSelectedUserIds=function(A,e){for(var t in this.selectedUserIdSetObject={},A)if(A.hasOwnProperty(t)){if(!e[t])continue;this.selectedUserIdSetObject[t]=!0}},uv.prototype._clearSelectedState=function(){this.selectedUserIdSetObject={}},uv.prototype._collectHoveredUserIds=function(A,e){if(this.hoveredUserIdSetObject={},A&&e[A]){var t=e[A];this.hoveredUserIdSetObject={},t&&(this.hoveredUserIdSetObject[A]=!0)}},uv.prototype._clearHoveredState=function(){this.hoveredUserIdSetObject={}},uv.prototype.getMeshesByUserIds=function(A,e,t){this.meshManager.getMeshesByUserIds(A,e,t)},uv.prototype.adjustVisibility=function(A,e){this.meshManager.adjustVisibility(A,e),this.wireframeManager.adjustVisibility(A,e)},uv.prototype.changeVisibilityOfSelectedObjects=function(A,e){this.meshManager.changeVisibilityOfSelectedObjects(A,e),this.wireframeManager.changeVisibilityOfSelectedObjects(A,e)},uv.prototype.changeVisibilityOfNonSelectedObjects=function(A,e){this.meshManager.changeVisibilityOfNonSelectedObjects(A,e),this.wireframeManager.changeVisibilityOfNonSelectedObjects(A,e)},uv.prototype.restoreVisibilityOfObjects=function(){this.meshManager.restoreVisibilityOfObjects(),this.wireframeManager.restoreVisibilityOfObjects()};var pv=function(A,e,t,i){var n=this;this.manager=A,this.modelKey=e.modelKey,this.projectKey=e.dbName,this.offLine=e.offLine,this.accessToken=e.token||"",this.dataVersion=null,this.debut=i,this.loader=new zm.ModelLoader(this,e),this.modelDescriptor=new Dm(this.loader,this),this.pool=A.getObjectPool(),this.renderableCount=0,this.renderableTotal=Ah.maxObjectNumInPool,this.renderableTotalForPool=this.renderableTotal,this.numOfElements=0,this.numOfTriangles=0,this.singleStepMode=!1,this.sizeOfNextStep=0,this.needUpdate=!1,this.boundingBoxWorld=null,this.rotation=new Oe,this.position=new Ue,this.scale=new Ue(1,1,1),this.transformMatrix=new At,this.selectedMaterial=this.manager.sceneState.selectionMaterial,this.materialManager=new sv,this.wireframeManager=new If,this.containsCamera=!1,this.loaded=!1,this.visible=!0,this.emptyScene=!1,this.cameraList=[],this.index=0,this.modelConfig=null,this.kdTreeNode=null,this.parseCfgFinish=void 0,this.progressPercentage={load:.4,collect:.5,merge:.1},this.progressFrequency=10,this._encodedDatabagId=this.modelKey,this.groupName=Ap.MODEL+"|"+this.modelKey,this.group=this.manager.scene.getOrCreateGroup(this.groupName,{pickableType:sh.Geometry,globalSpace:!0}),this._handler=null,this._mpkDataType=Dm.EnumDataType.NONE,Ah.LoadComponentOnDemand&&this.setDataType(Dm.EnumDataType.LAYER),this.lightmap=!1,this.lightmapNum=0,this.enableLightmap=!1,this.lightmapIntensity=Ah.LightmapIntensity,this.minDistanceObjects={},this.prioritizedNodeCount=0,this.plugins=[],this.merged=!1,zh.isSupportIndexedDB()?(this.storage=new Vu({store:this.modelKey,version:1,dbName:this.modelKey}),this.storage.addEventListener(lh.ON_DATABASE_OPEN,function(A){t&&t(n,!0)}),this.storage.addEventListener(lh.ON_DATABASE_EEEOR,function(A){n.storage=void 0,t&&t(n,!1)})):(n.storage=void 0,t&&t(this,!1))};Object.assign(pv.prototype,ou.prototype),pv.prototype.getStorage=function(){return this.storage},pv.prototype.destroy=function(){this.loader&&(this.loader.destroy(),this.loader=null),this.boundingBoxWorld=null,this.rotation=null,this.position=null,this.scale=null,this.transformMatrix=null,this.selectedMaterial=null,this.cameraList=null,this.occlusionCamera&&(this.occlusionCamera=null),this._removeMeshNodeGroup(),this._removeAllFromOctantMap(),this._handler&&(this._handler.destroy(),this._handler=null),this.modelDescriptor.destroy(),this.modelDescriptor=null,this.wireframeManager.destroy(),this.wireframeManager=null,this.materialManager.disposeMaterials(this),this.materialManager.destroy(),this.materialManager=null,this.layerProvider&&(this.layerProvider.destroy(),this.layerProvider=null),this.pool=null,this.manager=null,this._handler=null,this.plugins=null},pv.prototype.isUserIdExist=function(A){return!!this.modelDescriptor.getNodeInfosByUserId(A)},pv.prototype.isHiddenUserId=function(A){var e=this._getHandler();return!!e&&!(!e.hiddenUserIdSetObject||!this.hiddenUserIdSetObject[A])},pv.prototype.getNodeInfosByUserId=function(A){return this.modelDescriptor.getNodeInfosByUserId(A)},pv.prototype.getNodeInfos=function(){return this.getModelDescriptor().getNodeInfosWithUserId()},pv.prototype.getOctreeRoots=function(A){this.modelDescriptor.getOctreeRoots(A)},pv.prototype.onWSWorkerMessage=function(){},pv.prototype.onPDWorkerMessage=function(){},pv.prototype._overrideOcclusionMaterial=function(A){var e=A.material;if(e&&!1===e.transparent){var t=this.manager.acquireMaterial(),i=t.material;e.color?i.color.copy(e.color):t.resetColor(),i.opacity=Ah.OcclusionOpacity,A.material=i,A.material.needsUpdate=!0}},pv.prototype._getWireframeGroupName=function(){return Ap.WIREFRAME+"|"+this.modelKey},pv.prototype.updateMeshNodes=function(A){var e=this._getHandler();e&&this.isLoaded()&&e.updateNodes()},pv.prototype._getHandler=function(A){if(this._handler)return this._handler;switch(this.getDataType()){case Dm.EnumDataType.NONE:this.merged=Ah.MergeComponent?(this._handler=new Jg(this,new Zm,new tv),!0):(this._handler=new Zg(this,new uv,new tv),!1),this._handler.tag="none";break;case Dm.EnumDataType.LAYER:this.merged=Ah.MergeComponent?(this._handler=new ov(this,new Zm,new tv),!0):(this._handler=new rv(this,new uv,new tv),!1),this._handler.tag="layer";break;case Dm.EnumDataType.MERGE_DATA:this._handler=new $m(this,new Zm,new tv),this._handler.tag="merge_data";break;case Dm.EnumDataType.ANIMATION:this._handler=new Zg(this,new uv,new tv),this._handler.tag="animation"}return this._handler},pv.prototype.load=function(A){this.loader.load(A)},pv.prototype.setCrossOrigin=function(A){this.loader.setCrossOrigin(A)},pv.prototype.prepare=function(A){var e=this._getHandler();e&&e.prepare(A)},pv.prototype.clearComponents=function(){this.cache.components={}},pv.prototype.dispatchEventEx=function(A){A.modelKey=this.modelKey,this.manager.dispatchEvent(A)},pv.prototype.parseRootNode=function(A){A.lengthUnit&&(this.originalLengthUnit=A.lengthUnit);if(void 0!==A.count&&(void 0!==A.count.mesh_face&&(this.numOfTriangles+=A.count.mesh_face),void(this.renderableTotal=0)!==A.count.geom_box&&void 0!==A.count.geom_pipe&&void 0!==A.count.geom_tube&&void 0!==A.count.mesh?(this.renderableTotal+=A.count.geom_box,this.renderableTotal+=A.count.geom_pipe,this.renderableTotal+=A.count.geom_tube,this.renderableTotal+=A.count.mesh,this.numOfTriangles+=12*A.count.geom_box,this.numOfTriangles+=32*A.count.geom_pipe,this.numOfTriangles+=32*A.count.geom_tube):void 0!==A.count.geom&&void 0!==A.count.mesh&&(this.renderableTotal+=A.count.geom,this.renderableTotal+=A.count.mesh,this.numOfTriangles+=12*A.count.geom,this.numOfElements=this.renderableTotal),void 0!==A.count.item&&(this.numOfElements=A.count.item)),void 0!==this.parseCfgFinish&&this.parseCfgFinish(),this.transformMatrix.fromArray(A.matrix||[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1]),A.transform&&Array.isArray(A.transform)){var e=(new At).fromArray(A.transform||[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1]);this.transformMatrix.multiplyMatrices(this.transformMatrix,e)}this.setModelMatrix(this.transformMatrix),this.boundingBoxWorld&&this.boundingBoxWorld.applyMatrix4(this.transformMatrix),this.manager.updateScene()},pv.prototype.isLoaded=function(){return this.loaded},pv.prototype.setModelConfig=function(A){this.modelConfig=A},pv.prototype.getModelConfig=function(){return this.modelConfig},pv.prototype.isVisible=function(){return this.manager.filter._isModelVisible(this.modelKey)},pv.prototype.setVisible=function(A){A?this.manager.filter.showModelByIds([this.modelKey]):this.manager.filter.hideModelByIds([this.modelKey])},pv.prototype.calculateCameraModelRelation=function(A){var e=this.loader.getOctreeRootNodeInner();e||(e=this.loader.getOctreeRootNodeOuter()),this.containsCamera=!(A.x<e.min.x||e.max.x<A.x||A.y<e.min.y||e.max.y<A.y||A.z<e.min.z||e.max.z<A.z)},pv.prototype.getBoundingBoxWorld=function(){return this.boundingBoxWorld},pv.prototype.getRenderableTotal=function(){return this.renderableTotal},pv.prototype.setRenderableCount=function(A){this.renderableCount=A,this._handler&&this._handler._clearNodePriorityData&&this._handler._clearNodePriorityData(!0)},pv.prototype.addCamera=function(A){this.cameraList.push(A)},pv.prototype.getCameraNameList=function(){for(var A=[],e=this.cameraList.length-1;0<=e;e-=1)A.push(this.cameraList[e].name);return A},pv.prototype.getCamera=function(A){for(var e=this.cameraList.length-1;0<=e;e-=1)if(this.cameraList[e].name===A)return this.cameraList[e];return null},pv.prototype.getTransformMatrix=function(){return this.transformMatrix},pv.prototype.isEmptyScene=function(){return this.emptyScene},pv.prototype.updateOctreeNode=function(){var t=new ni;function o(A,e){t.copy(A.boundingBoxWorld),t.applyMatrix4(e),A.min.copy(t.min),A.max.copy(t.max),A.center=t.getCenter(),A.size=t.getSize().lengthSq()}function r(A,e){for(var t=0,i=A.childOctants.length;t<i;t+=1){var n=A.childOctants[t];o(n,e),r(n,e)}}return function(A){var e=this.manager.scene.getMatrixGlobal();if(A||this.firstOctreeTransform){this.firstOctreeTransform&&(this.firstOctreeTransform=!1);var t=this.loader.getOctreeRootNodeOuter();t&&(o(t,e),r(t,e));var i=this.loader.getOctreeRootNodeInner();i&&(o(i,e),r(i,e))}}}(),pv.prototype.isDataReady=function(){var A=this._getHandler();return!!A&&A.isDataReady()},pv.prototype.updateMaterials=function(){var A=this.cache.materials;for(var e in A)if(A.hasOwnProperty(e)){var t=A[e];t.iblProbe=this.manager.scene.iblProbe,t.refreshUniforms()}},pv.prototype.updateMaterialsValue=function(A,e){var t=this.cache.materials;for(var i in t)if(t.hasOwnProperty(i)){var n=t[i];n.hasOwnProperty(A)&&(n[A]=e,n.refreshUniforms(),n.needsUpdate=!0)}},pv.prototype.changeAllMaterials=function(A){var e=this.cache.materials;for(var t in e)if(e.hasOwnProperty(t)){var i=xu.getMaterialParameters(e[t]),n=null;A?(n=new qm.IBLMaterial(i)).type="IBL":(delete i.iblProbe,n=xu.createPhongMaterial(i)),e[n.name=t]=n,i=null}},pv.prototype.getAllComponents=function(){return this.getComponentlist()},pv.prototype._otherObjectsInModel=function(A){var e=this.cache.components,t=[],i=!1;for(var n in e){i=!1;for(var o=0;o<A.length;o+=1)n!==A[o]||(i=!0);i||t.push(e[n].key)}return t},pv.prototype.getComponentKeysByTypeFromList=function(A,e){for(var t=this.modelDescriptor,i=[],n=0;n<A.length;n+=1)t.mapNodeInfoByComponentId.hasOwnProperty(A[n])&&t.mapNodeInfoByComponentId[A[n]][0].type===e&&i.push(A[n]);return i},pv.prototype.getComponentKeysByType=function(A){var e=this.modelDescriptor,t=[];for(var i in e.mapNodeInfoByComponentId)e.mapNodeInfoByComponentId.hasOwnProperty(i)&&e.mapNodeInfoByComponentId[i][0].type===A&&t.push(i);return t},pv.prototype.getAllComponentKeyType=function(){var A={},e=[],t=this.modelDescriptor;for(var i in t.mapNodeInfoByComponentId)if(t.mapNodeInfoByComponentId.hasOwnProperty(i)){var n=t.mapNodeInfoByComponentId[i][0].type;A[n]||(A[n]=!0,e.push(n))}return e},pv.prototype.getComponentKeysByName=function(A){var e=this.modelDescriptor,t=[];for(var i in e.mapNodeInfoByComponentId)e.mapNodeInfoByComponentId.hasOwnProperty(i)&&e.mapNodeInfoByComponentId[i][0].name===A&&t.push(i);return t},pv.prototype.getComponentKeysByProperty=function(A,e){var t=this.modelDescriptor,i=[];for(var n in t.mapNodeInfoByComponentId)t.mapNodeInfoByComponentId.hasOwnProperty(n)&&t.mapNodeInfoByComponentId[n][0][A]===e&&i.push(n);return i},pv.prototype._getLayerHandler=function(){return this._layerHandler||this.isLayerData()&&(this.merged=Ah.MergeComponent?(this._layerHandler=new zm.LayerMergeHandler(this),!0):(this._layerHandler=new zm.LayerIncrementHandler(this),!1)),this._layerHandler},pv.prototype.prepareData=function(){var A=this;this.materialManager._updateTextureMapping(),this.materialManager._updateIBL(this);var e=this._getHandler();e&&e.prepareData(function(){A.loaded=!0,A.hasAnimation&&Ah.EnableAnimation&&A.createPanel(),A.debut(A)})},pv.prototype.getMeshesByUserIds=function(A,e){if(A&&e){this.minDistanceObjects[A]=[],this.minDistanceObjects[e]=[];var t=this._getHandler();t&&t.getMeshesByUserIds(A,e)}},pv.prototype.applyFilter=function(){if(!1!==this.manager.filter._isModelVisible(this.modelKey)){for(var A=0,e=this.plugins.length;A<e;A+=1)this.plugins[A].applyFilter();this.group.visible=!0;var t=this._getHandler();t&&t.applyFilter()}else this.group.visible=!1},pv.prototype.applySelection=function(){for(var A=0,e=this.plugins.length;A<e;A+=1)this.plugins[A].applySelection();var t=this._getHandler();t&&t.applySelection()},pv.prototype.clearSelection=function(){for(var A=0,e=this.plugins.length;A<e;A+=1)this.plugins[A].clearSelection();var t=this._getHandler();t&&t.clearSelection()},pv.prototype.applyHover=function(){for(var A=0,e=this.plugins.length;A<e;A+=1)this.plugins[A].applyHover();var t=this._getHandler();t&&t.applyHover()},pv.prototype.clearHover=function(){for(var A=0,e=this.plugins.length;A<e;A+=1)this.plugins[A].clearHover();var t=this._getHandler();t&&t.clearHover()},pv.prototype.applyBlink=function(){var A=this._getHandler();A&&A.applyBlink()},pv.prototype.clearBlink=function(){var A=this._getHandler();A&&A.clearBlink()},pv.prototype.applyReplacement=function(){var A=this._getHandler();A&&A.applyReplacement()},pv.prototype._removeMeshNodeGroup=function(){this._removeNodeGroup(Ap.GEOMETRY),this._removeNodeGroup(Ap.INSTANCEGEOMETRY),this._removeNodeGroup(Ap.WIREFRAME),this._removeNodeGroup(Ap.INSTANCEWIREFRAMEGEOMETRY),this._removeSceneGroup(),this.group=null},pv.prototype._getNodeGroup=function(A,e){for(var t=this.group.children,i=0,n=t.length;i<n;i+=1)if(t[i].name===A)return t[i];var o=new op(A,e);return this.group.add(o),o.globalSpace&&(o.matrixAutoUpdate=!1,o.updateMatrixWorld(!0)),o},pv.prototype._removeNodeGroup=function(A){this.group.removeByName(A)},pv.prototype._hasNodeGroup=function(A){return this.group.hasChild(A)},pv.prototype._removeSceneGroup=function(){this.manager.scene.removeGroupByName(this.groupName),this.manager.scene.removeGroupByName(this._getWireframeGroupName())},pv.prototype._removeAllFromOctantMap=function(){this.manager.removeAllFromOctantMap(this.modelKey)},pv.prototype._clearMeshFromOctantMap=function(){this.manager.removeMeshFromOctantMap(this.modelKey)},pv.prototype.getEncodedDatabagId=function(){return this.modelKey},pv.prototype.setLayerData=function(A){this.layerData=A},pv.prototype.isLayerData=function(){return this._mpkDataType===Dm.EnumDataType.LAYER},pv.prototype.loadGeopkOnDemand=function(A,e,t){this._handler&&"layer"===this._handler.tag&&this._handler.loadGeopkOnDemand(A,e,t)},pv.prototype.unloadGeopkOnDemand=function(A,e){this._handler&&"layer"===this._handler.tag&&this._handler.unloadComponents(A,e)},pv.prototype.loadAllMpksOnDemand=function(A,e,t){this._handler&&"layer"===this._handler.tag&&this._handler.loadAllMpksOnDemand(A,e,t)},pv.prototype.getUnionBoundingBoxOnDemand=function(){return this.getLayerProvider().getUnionBoundingBoxOnDemand()},pv.prototype.setConditionsChangedOnDemand=function(A){this.getLayerProvider().setConditionsChanged(A)},pv.prototype.getLayerProvider=function(A){return this.layerProvider||(this.layerProvider=new av(this)),this.layerProvider},pv.prototype.setDataType=function(A){this._mpkDataType=A},pv.prototype.getDataType=function(){return this._mpkDataType},pv.prototype.getModelDescriptor=function(){return this.modelDescriptor},pv.prototype.getLoader=function(){return this.loader},pv.prototype.getMaterialManager=function(){return this.materialManager},pv.prototype.getRotation=function(){return this.rotation},pv.prototype.getTransformMatrix=function(){return this.transformMatrix},pv.prototype.getTransformed=function(){return this.transformed},pv.prototype.clearWireframeElementCount=function(){this.wireframeElementCount=void 0},pv.prototype.getWireframeElementCount=function(){if(void 0!==this.wireframeElementCount)return this.wireframeElementCount;var A=this.modelDescriptor.getNodeInfosWithUserId(),e=this.manager.filter,t=0;for(var i in A){var n=A[i];e._hasRenderWithBoardlineFilter()&&!e._isRenderWithBoardline(n[0])||(t+=n.length)}return this.wireframeElementCount=t},pv.prototype.isActivateWireframe=function(){if(Ah.DrawingBoardlineLimit){if(this.getWireframeElementCount()<Ah.DrawingBoardlineLimitThreshold&&(Ah.DrawingStyle===Ch.BOARDLINE||Ah.DrawingStyle===Ch.SHADINGWITHLINE))return!0}else if(Ah.DrawingStyle===Ch.BOARDLINE||Ah.DrawingStyle===Ch.SHADINGWITHLINE)return!0;return!1},pv.prototype.isOnlyWireframe=function(){return Ah.DrawingStyle===Ch.BOARDLINE},pv.prototype.isInstancedNode=function(A){return A.instanceOrNot},pv.prototype.getLoadedUserIdsObject=function(){return this._handler&&this._handler.getLoadedUserIdsObject?this._handler.getLoadedUserIdsObject():null},pv.prototype.clearNodeGroup=function(){var A=this._getNodeGroup(Ap.GEOMETRY,{globalSpace:!0});A.clear(),(A=this._getNodeGroup(Ap.WIREFRAME,{globalSpace:!0})).clear(),(A=this._getNodeGroup(Ap.INSTANCEGEOMETRY,{globalSpace:!0})).clear(),(A=this._getNodeGroup(Ap.INSTANCEWIREFRAMEGEOMETRY,{globalSpace:!0})).clear()},pv.prototype.getWireframeMaterial=function(){return this.wireframeManager.wireframeMaterial},pv.prototype.getInstanceWireframeMaterial=function(){return this.wireframeManager.instanceWireframeMaterial},pv.prototype.adjustProgressPercentage=function(A,e,t){this.progressPercentage.load=A,this.progressPercentage.collect=e,this.progressPercentage.merge=t},pv.prototype.useDataMergedWireframe=function(A){this.dataWireframeEnabled=A},pv.prototype.isUseDataWireframe=function(){return Boolean(this.dataWireframeEnabled)},pv.prototype.setReplacedUserIdMap=function(A){this.replacedUserIdMap=kh.isOwnEmptyObject(A)?null:A},pv.prototype.hasReplacedUserId=function(){return!kh.isEmptyObject(this.replacedUserIdMap)},pv.prototype.isReplacedUserId=function(A){return this.replacedUserIdMap&&this.replacedUserIdMap[A]},pv.prototype.addToNodeInfoMap=function(A){for(var e=0,t=A.length;e<t;e+=1)this.modelDescriptor._cacheNodeInfoByUserId(A[e])},pv.prototype.removeFromNodeInfoMap=function(A){for(var e=this.modelDescriptor.getNodeInfosWithUserId(),t=0,i=A.length;t<i;t+=1){var n=A[t].userId;e[n]&&delete e[n]}},pv.prototype.getMaterialByMaterialId=function(A){return this.materialManager.materials[A]},pv.prototype.registerPlugin=function(A){this.plugins.push(A)},pv.prototype.disposeBufferAfterVbo=function(){var A=this._getHandler();A&&A.disposeBufferAfterVbo()},pv.prototype.formatLayerIds=function(A){return this.getLayerProvider().formatLayerIds(A)},pv.prototype.getBoundingBoxOfGeometries=function(A){for(var e=!A,t=new ni,i=0;i<A.length;i+=1){var n=this.group.getObjectByProperty("guid",A[i]);if(n){var o=n.geometry;if(o){if(e||o){o.boundingBox||o.computeBoundingBox();var r=o.boundingBox;if(r){var a=r.clone();n.matrixWorld&&a.applyMatrix4(n.matrixWorld),t.expandByPoint(a.min),t.expandByPoint(a.max)}}}else Gh.log("empty geometry!")}}return t},pv.prototype.setModelMatrix=function(A){this.group.matrix&&(this.group.matrix.copy(A),this.group.updateMatrixWorld(!0))},pv.prototype.getModelMatrix=function(){var A=null;return this.group.matrix&&(A=this.group.matrix.clone()),A},pv.prototype.overturnYAndZaxis=function(){this.group.matrix&&(this.group.matrix.makeRotationFromEuler(new et(Math.PI/2,0,0)),this.group.updateMatrixWorld(!0))},pv.prototype.hasComponent=function(A){return!!this.modelDescriptor.getNodeInfosByUserId(A)},pv.prototype.getComponentInfo=function(A){return this.modelDescriptor.getNodeInfosByComponentId(A)},pv.prototype.getComponentlist=function(){var A=[],e=this.modelDescriptor;for(var t in e.mapNodeInfoByComponentId)e.mapNodeInfoByComponentId.hasOwnProperty(t)&&A.push(t);return A},pv.prototype.addMeshToInfoMap=function(A,e,t,i){this.modelDescriptor.addMeshToInfoMap(A,e,t,i)},pv.prototype.explosion=function(A){var e=this._getHandler(),t=(new Ue).fromArray(A.center),i=new Ue,n=new ni,o=A.coefficientX||1,r=A.coefficientY||1,a=A.coefficientZ||1,s=new At;if(1===o&&1===r&&1===a)return this.explosioning=!1,void this.closeExplosion();if(this.explosioning=!0,Gh.time("模型离散用时"),e instanceof Zg){var l=this._getNodeGroup(Ap.GEOMETRY);if(l&&l.children)for(var c=0;c<l.children.length;c+=1){var d=l.children[c];d.userData.originalMatrix||(d.userData.originalMatrix=d.matrixWorld.clone());var h=d.geometry,u=d.userData.originalMatrix,p=d.matrixWorld;h.boundingBox||h.computeBoundingBox(),n.copy(h.boundingBox);var g=(new Ue).fromArray(u.elements,12),f=n.getCenter(i).add(g).sub(t.clone()).clone();f.x*=o,f.y*=r,f.z*=a,f.add(t.clone()),f.sub(n.getCenter(i)),p.setPosition(f)}}else if(e instanceof Jg){var m=this.modelDescriptor,v=m.mapNodeInfoByCategory[1],y=m.mapNodeInfoByCategory[0];for(var C in v)if(v.hasOwnProperty(C))for(var I=v[C],x=0;x<I.length;x+=1){var b=I[x],E=b.mesh;if(E){var w=b.index,M=E.geometry.attributes.position,B=E.matrixWorld;n.copy(b.boundingBox),n.applyMatrix4(B);var _=n.getCenter(i).sub(t.clone()).clone();b.offset||(b.offset=new Ue),_.x*=o,_.y*=r,_.z*=a,_.add(t.clone()),_.sub(n.getCenter(i));var S=_.sub(b.offset);s.setPosition(S),b.offset.add(S),lu.applyMatrix4ToBuffer(s,M.array,w.positionStart,w.positionStart+w.positionCount),M.needsUpdate=!0}}for(var T in y)if(y.hasOwnProperty(T))for(var K=y[T],F=0;F<K.length;F+=1){var L=K[F],O=L.mesh;if(O){var U=O._indicesGroup[L.userId],N=O.geometry.getAttribute("mcol3"),R=O.matrixWorld;n.copy(K[F].boundingBox),n.applyMatrix4(R);var P=n.getCenter(i).sub(t.clone()).clone();L.offset||(L.offset=(new Ue).fromArray(L.matrix.elements,12),L.originalMatrix=L.matrix.clone()),P.x*=o,P.y*=r,P.z*=a,P.add(t.clone()),P.sub(n.getCenter(i)),P.add(L.offset),N.array[3*U]=P.x,N.array[3*U+1]=P.y,N.array[3*U+2]=P.z,L.matrix.setPosition(P),N.needsUpdate=!0}}}else Gh.warn("当前模式下暂不支持模型离散");Gh.timeEnd("模型离散用时")},pv.prototype.closeExplosion=function(){var A=this._getHandler(),e=new At;if(A instanceof Zg){var t=this._getNodeGroup(Ap.GEOMETRY);if(t&&t.children)for(var i=0;i<t.children.length;i+=1){var n=t.children[i];n.userData.originalMatrix&&(n.matrixWorld=n.userData.originalMatrix,delete n.userData.originalMatrix)}}else if(A instanceof Jg){var o=this.modelDescriptor,r=o.mapNodeInfoByCategory[1],a=o.mapNodeInfoByCategory[0];for(var s in r)if(r.hasOwnProperty(s))for(var l=r[s],c=0;c<l.length;c+=1){var d=l[c],h=d.mesh;if(h){var u=d.index,p=h.geometry.attributes.position;d.offset||(d.offset=new Ue),e.setPosition(d.offset.multiplyScalar(-1)),delete d.offset,lu.applyMatrix4ToBuffer(e,p.array,u.positionStart,u.positionStart+u.positionCount),p.needsUpdate=!0}}for(var g in a)if(a.hasOwnProperty(g))for(var f=a[g],m=0;m<f.length;m+=1){var v=f[m],y=v.mesh,C=y._indicesGroup[v.userId],I=y.geometry.getAttribute("mcol3");v.offset||(v.offset=(new Ue).fromArray(v.matrix.elements,12)),I.array[3*C]=v.offset.x,I.array[3*C+1]=v.offset.y,I.array[3*C+2]=v.offset.z,delete v.offset,v.originalMatrix&&(v.matrix.setPosition((new Ue).fromArray(v.originalMatrix.elements,12)),delete v.originalMatrix),I.needsUpdate=!0}}else Gh.warn("当前模式下暂不支持模型离散");this.explosioning=!1},pv.prototype.showModel=function(A){this.nodes.visible=A},pv.prototype.showSkeleton=function(A){this.skeleton.visible=A},pv.prototype.deactivateAllActions=function(){this.needUpdate=!1,this.actions.forEach(function(A){A.stop()})},pv.prototype.activateAllActions=function(){this.needUpdate=!0;for(var A=0;A<this.actions.length;A+=1)this.setWeight(this.actions[A],0===A?1:0);this.actions.forEach(function(A){A.play()})},pv.prototype.pauseAllActions=function(){this.needUpdate=!1,this.actions.forEach(function(A){A.paused=!0})},pv.prototype.toSingleStepMode=function(){this.unPauseAllActions(),this.singleStepMode=!0,this.sizeOfNextStep=this.settings["调整步长"]},pv.prototype.pauseContinue=function(){this.singleStepMode?(this.singleStepMode=!1,this.unPauseAllActions()):this.paused?(this.paused=!1,this.unPauseAllActions()):(this.paused=!0,this.pauseAllActions())},pv.prototype.unPauseAllActions=function(){this.needUpdate=!0,this.actions.forEach(function(A){A.paused=!1})},pv.prototype.setWeight=function(A,e){A.enabled=!0,A.setEffectiveTimeScale(1),A.setEffectiveWeight(e)},pv.prototype.modifyTimeScale=function(A){this.mixer.timeScale=A},pv.prototype.createPanel=function(){var t=this,A=new Pm({width:400}).addFolder(this.modelKey),e=A.addFolder("可见性"),i=A.addFolder("激活/失活"),n=A.addFolder("暂停/步进"),o=A.addFolder("混合权重"),r=A.addFolder("综合速度");this.settings={"显示模型":!0,"显示骨骼":!1,"关闭全部动画":this.deactivateAllActions.bind(t),"激活所有动画":this.activateAllActions.bind(t),"暂停/继续":this.pauseContinue.bind(t),"单步动画":this.toSingleStepMode.bind(t),"调整步长":.05,"使用默认持续时间":!0,"设置自定义持续时间":3.5,"modify idle weight":0,"modify walk weight":1,"modify run weight":0,"修改时间尺度":1};var a=this.settings;e.add(a,"显示模型").onChange(this.showModel.bind(t)),e.add(a,"显示骨骼").onChange(this.showSkeleton.bind(t)),i.add(a,"关闭全部动画"),i.add(a,"激活所有动画"),n.add(a,"暂停/继续"),n.add(a,"单步动画"),n.add(a,"调整步长",.01,.1,.001);for(var s=this.actions,l=function(e){var A=s[e]._clip.name;a[A]=0===e?1:0,o.add(a,A,0,1,.01).listen().onChange(function(A){t.setWeight(s[e],A)})},c=0;c<s.length;c+=1)l(c);r.add(a,"修改时间尺度",0,10,.01).onChange(this.modifyTimeScale.bind(t)),e.open(),i.open(),n.open(),o.open(),r.open()};var gv=function(A,e,t,i){var n=this;this.manager=A,this.modelGroup=!0,this.modelKey=e.modelKey,this.groupKey=e.modelKey,this.modelKeys=e.modelKeys,this.projectKey=e.dbName,this.offLine=e.offLine,this.accessToken=e.token||"",this.dataVersion=null,this.debut=i,this.submodel={},this.loader=new zm.ModelGroupLoader(this,e),this.modelDescriptor=new Dm(this.loader,this),this.pool=A.getObjectPool(),this.renderableCount=0,this.renderableTotal=Ah.maxObjectNumInPool,this.renderableTotalForPool=this.renderableTotal,this.numOfElements=0,this.numOfTriangles=0,this.singleStepMode=!1,this.sizeOfNextStep=0,this.needUpdate=!1,this.boundingBoxWorld=null,this.rotation=new Oe,this.position=new Ue,this.scale=new Ue(1,1,1),this.transformMatrix=new At,this.selectedMaterial=this.manager.sceneState.selectionMaterial,this.materialManager=new sv,this.wireframeManager=new If,this.containsCamera=!1,this.loaded=!1,this.visible=!0,this.emptyScene=!1,this.cameraList=[],this.index=0,this.modelConfig={},this.kdTreeNode=null,this.parseCfgFinish=void 0,this.progressPercentage={load:.4,collect:.5,merge:.1},this.progressFrequency=100,this._encodedDatabagId=this.modelKey,this.groupName=Ap.MODEL+"|"+this.modelKey,this.group=this.manager.scene.getOrCreateGroup(this.groupName,{pickableType:sh.Geometry,globalSpace:!0}),this._handler=null,this._mpkDataType=Dm.EnumDataType.NONE,this.lightmap=!1,this.lightmapNum=0,this.enableLightmap=!1,this.lightmapIntensity=Ah.LightmapIntensity,this.minDistanceObjects={},this.prioritizedNodeCount=0,this.plugins=[],this.merged=!0,zh.isSupportIndexedDB()?(this.storage=new Vu({store:this.modelKey,version:1,dbName:this.modelKey}),this.storage.addEventListener(lh.ON_DATABASE_OPEN,function(A){t&&t(n,!0)}),this.storage.addEventListener(lh.ON_DATABASE_EEEOR,function(A){n.storage=void 0,t&&t(n,!1)})):(n.storage=void 0,t&&t(this,!1))};Object.assign(gv.prototype,ou.prototype),gv.prototype.getStorage=function(){return this.storage},gv.prototype.destroy=function(){this.loader&&(this.loader.destroy(),this.loader=null),this.isMerge?this.manager.scene.objectGroups.remove(this.mergeMesh):this.manager.clearPool(),this.boundingBoxWorld=null,this.rotation=null,this.position=null,this.scale=null,this.transformMatrix=null,this.selectedMaterial=null,this.cameraList=null,this.occlusionCamera&&(this.occlusionCamera=null),this._removeMeshNodeGroup(),this._removeAllFromOctantMap(),this._handler&&(this._handler.destroy(),this._handler=null),this.modelDescriptor.destroy(),this.modelDescriptor=null,this.wireframeManager.destroy(),this.wireframeManager=null,this.materialManager.disposeMaterials(this),this.materialManager.destroy(),this.materialManager=null,this.layerProvider&&(this.layerProvider.destroy(),this.layerProvider=null),this.pool=null,this.manager=null,this._handler=null,this.plugins=null},gv.prototype.isUserIdExist=function(A){return!!this.modelDescriptor.getNodeInfosByUserId(A)},gv.prototype.isHiddenUserId=function(A){var e=this._getHandler();return!!e&&!(!e.hiddenUserIdSetObject||!this.hiddenUserIdSetObject[A])},gv.prototype.getNodeInfosByUserId=function(A){return this.modelDescriptor.getNodeInfosByUserId(A)},gv.prototype.getNodeInfos=function(){return this.getModelDescriptor().getNodeInfosWithUserId()},gv.prototype.getOctreeRoots=function(A){this.modelDescriptor.getOctreeRoots(A)},gv.prototype.onWSWorkerMessage=function(){},gv.prototype.onPDWorkerMessage=function(){},gv.prototype._overrideOcclusionMaterial=function(A){var e=A.material;if(e&&!1===e.transparent){var t=this.manager.acquireMaterial(),i=t.material;e.color?i.color.copy(e.color):t.resetColor(),i.opacity=Ah.OcclusionOpacity,A.material=i,A.material.needsUpdate=!0}},gv.prototype._getWireframeGroupName=function(){return Ap.WIREFRAME+"|"+this.modelKey},gv.prototype.updateMeshNodes=function(A){var e=this._getHandler();e&&this.isLoaded()&&e.updateNodes()},gv.prototype._getHandler=function(A){if(this._handler)return this._handler;switch(this.getDataType()){case Dm.EnumDataType.NONE:this._handler=Ah.MergeComponent?new Jg(this,new Zm,new tv):new Zg(this,new uv,new tv),this._handler.tag="none";break;case Dm.EnumDataType.LAYER:this._handler=Ah.MergeComponent?new ov(this,new Zm,new tv):new rv(this,new uv,new tv),this._handler.tag="layer";break;case Dm.EnumDataType.MERGE_DATA:this._handler=new $m(this,new Zm,new tv),this._handler.tag="merge_data";break;case Dm.EnumDataType.ANIMATION:this._handler=new Zg(this,new uv,new tv),this._handler.tag="animation"}return this._handler},gv.prototype.load=function(A){this.loader.load(A)},gv.prototype.setCrossOrigin=function(A){this.loader.setCrossOrigin(A)},gv.prototype.prepare=function(A){var e=this._getHandler();e&&e.prepare(A)},gv.prototype.clearComponents=function(){this.cache.components={}},gv.prototype.dispatchEventEx=function(A){A.modelKey=this.modelKey,this.manager.dispatchEvent(A)},gv.prototype.parseRootNode=function(A){A.lengthUnit&&(this.originalLengthUnit=A.lengthUnit);if(void 0!==A.count&&(void 0!==A.count.mesh_face&&(this.numOfTriangles+=A.count.mesh_face),void(this.renderableTotal=0)!==A.count.geom_box&&void 0!==A.count.geom_pipe&&void 0!==A.count.geom_tube&&void 0!==A.count.mesh?(this.renderableTotal+=A.count.geom_box,this.renderableTotal+=A.count.geom_pipe,this.renderableTotal+=A.count.geom_tube,this.renderableTotal+=A.count.mesh,this.numOfTriangles+=12*A.count.geom_box,this.numOfTriangles+=32*A.count.geom_pipe,this.numOfTriangles+=32*A.count.geom_tube):void 0!==A.count.geom&&void 0!==A.count.mesh&&(this.renderableTotal+=A.count.geom,this.renderableTotal+=A.count.mesh,this.numOfTriangles+=12*A.count.geom,this.numOfElements=this.renderableTotal),void 0!==A.count.item&&(this.numOfElements=A.count.item)),void 0!==this.parseCfgFinish&&this.parseCfgFinish(),this.transformMatrix.fromArray(A.matrix||[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1]),A.transform&&Array.isArray(A.transform)){var e=(new At).fromArray(A.transform||[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1]);this.transformMatrix.multiplyMatrices(this.transformMatrix,e)}this.setModelMatrix(this.transformMatrix),this.boundingBoxWorld&&this.boundingBoxWorld.applyMatrix4(this.transformMatrix),this.manager.updateScene()},gv.prototype.isLoaded=function(){return this.loaded},gv.prototype.setModelConfig=function(A,e){this.modelConfig[e]=A},gv.prototype.getModelConfig=function(){return this.modelConfig},gv.prototype.isVisible=function(){return this.manager.filter._isModelVisible(this.modelKey)},gv.prototype.setVisible=function(A){A?this.manager.filter.showModelByIds([this.modelKey]):this.manager.filter.hideModelByIds([this.modelKey])},gv.prototype.calculateCameraModelRelation=function(A){var e=this.loader.getOctreeRootNodeInner();e||(e=this.loader.getOctreeRootNodeOuter()),this.containsCamera=!(A.x<e.min.x||e.max.x<A.x||A.y<e.min.y||e.max.y<A.y||A.z<e.min.z||e.max.z<A.z)},gv.prototype.getBoundingBoxWorld=function(){return this.boundingBoxWorld},gv.prototype.getRenderableTotal=function(){return this.renderableTotal},gv.prototype.setRenderableCount=function(A){this.renderableCount=A,this._handler&&this._handler._clearNodePriorityData&&this._handler._clearNodePriorityData(!0)},gv.prototype.addCamera=function(A){this.cameraList.push(A)},gv.prototype.getCameraNameList=function(){for(var A=[],e=this.cameraList.length-1;0<=e;e-=1)A.push(this.cameraList[e].name);return A},gv.prototype.getCamera=function(A){for(var e=this.cameraList.length-1;0<=e;e-=1)if(this.cameraList[e].name===A)return this.cameraList[e];return null},gv.prototype.getTransformMatrix=function(){return this.transformMatrix},gv.prototype.isEmptyScene=function(){return this.emptyScene},gv.prototype.updateOctreeNode=function(){var t=new ni;function o(A,e){t.copy(A.boundingBoxWorld),t.applyMatrix4(e),A.min.copy(t.min),A.max.copy(t.max),A.center=t.getCenter(),A.size=t.getSize().lengthSq()}function r(A,e){for(var t=0,i=A.childOctants.length;t<i;t+=1){var n=A.childOctants[t];o(n,e),r(n,e)}}return function(A){var e=this.manager.scene.getMatrixGlobal();if(A||this.firstOctreeTransform){this.firstOctreeTransform&&(this.firstOctreeTransform=!1);var t=this.loader.getOctreeRootNodeOuter();t&&(o(t,e),r(t,e));var i=this.loader.getOctreeRootNodeInner();i&&(o(i,e),r(i,e))}}}(),gv.prototype.isDataReady=function(){var A=this._getHandler();return!!A&&A.isDataReady()},gv.prototype.updateMaterials=function(){var A=this.cache.materials;for(var e in A)if(A.hasOwnProperty(e)){var t=A[e];t.iblProbe=this.manager.scene.iblProbe,t.refreshUniforms()}},gv.prototype.updateMaterialsValue=function(A,e){var t=this.cache.materials;for(var i in t)if(t.hasOwnProperty(i)){var n=t[i];n.hasOwnProperty(A)&&(n[A]=e,n.refreshUniforms(),n.needsUpdate=!0)}},gv.prototype.changeAllMaterials=function(A){var e=this.cache.materials;for(var t in e)if(e.hasOwnProperty(t)){var i=xu.getMaterialParameters(e[t]),n=null;A?(n=new qm.IBLMaterial(i)).type="IBL":(delete i.iblProbe,n=xu.createPhongMaterial(i)),e[n.name=t]=n,i=null}},gv.prototype.getAllComponents=function(){return this.getComponentlist()},gv.prototype._otherObjectsInModel=function(A){var e=this.cache.components,t=[],i=!1;for(var n in e){i=!1;for(var o=0;o<A.length;o+=1)n!==A[o]||(i=!0);i||t.push(e[n].key)}return t},gv.prototype.getComponentKeysByTypeFromList=function(A,e){for(var t=this.modelDescriptor,i=[],n=0;n<A.length;n+=1)t.mapNodeInfoByComponentId.hasOwnProperty(A[n])&&t.mapNodeInfoByComponentId[A[n]][0].type===e&&i.push(A[n]);return i},gv.prototype.getComponentKeysByType=function(A){var e=this.modelDescriptor,t=[];for(var i in e.mapNodeInfoByComponentId)e.mapNodeInfoByComponentId.hasOwnProperty(i)&&e.mapNodeInfoByComponentId[i][0].type===A&&t.push(i);return t},gv.prototype.getAllComponentKeyType=function(){var A={},e=[],t=this.modelDescriptor;for(var i in t.mapNodeInfoByComponentId)if(t.mapNodeInfoByComponentId.hasOwnProperty(i)){var n=t.mapNodeInfoByComponentId[i][0].type;A[n]||(A[n]=!0,e.push(n))}return e},gv.prototype.getComponentKeysByName=function(A){var e=this.modelDescriptor,t=[];for(var i in e.mapNodeInfoByComponentId)e.mapNodeInfoByComponentId.hasOwnProperty(i)&&e.mapNodeInfoByComponentId[i][0].name===A&&t.push(i);return t},gv.prototype.getComponentKeysByProperty=function(A,e){var t=this.modelDescriptor,i=[];for(var n in t.mapNodeInfoByComponentId)t.mapNodeInfoByComponentId.hasOwnProperty(n)&&t.mapNodeInfoByComponentId[n][0][A]===e&&i.push(n);return i},gv.prototype._getLayerHandler=function(){return this._layerHandler||this.isLayerData()&&(this._layerHandler=Ah.MergeComponent?new zm.LayerMergeHandler(this):new zm.LayerIncrementHandler(this)),this._layerHandler},gv.prototype.prepareData=function(){var A=this;this.materialManager._updateTextureMapping(),this.materialManager._updateIBL(this);var e=this._getHandler();e&&e.prepareData(function(){A.loaded=!0,A.hasAnimation&&Ah.EnableAnimation&&A.createPanel(),A.debut(A)})},gv.prototype.getMeshesByUserIds=function(A,e){if(A&&e){this.minDistanceObjects[A]=[],this.minDistanceObjects[e]=[];var t=this._getHandler();t&&t.getMeshesByUserIds(A,e)}},gv.prototype.applyFilter=function(){if(!1!==this.manager.filter._isModelVisible(this.modelKey)){for(var A=0,e=this.plugins.length;A<e;A+=1)this.plugins[A].applyFilter();this.group.visible=!0;var t=this._getHandler();t&&t.applyFilter()}else this.group.visible=!1},gv.prototype.applySelection=function(){for(var A=0,e=this.plugins.length;A<e;A+=1)this.plugins[A].applySelection();var t=this._getHandler();t&&t.applySelection()},gv.prototype.clearSelection=function(){for(var A=0,e=this.plugins.length;A<e;A+=1)this.plugins[A].clearSelection();var t=this._getHandler();t&&t.clearSelection()},gv.prototype.applyHover=function(){for(var A=0,e=this.plugins.length;A<e;A+=1)this.plugins[A].applyHover();var t=this._getHandler();t&&t.applyHover()},gv.prototype.clearHover=function(){for(var A=0,e=this.plugins.length;A<e;A+=1)this.plugins[A].clearHover();var t=this._getHandler();t&&t.clearHover()},gv.prototype.applyBlink=function(){var A=this._getHandler();A&&A.applyBlink()},gv.prototype.clearBlink=function(){var A=this._getHandler();A&&A.clearBlink()},gv.prototype.applyReplacement=function(){var A=this._getHandler();A&&A.applyReplacement()},gv.prototype._removeMeshNodeGroup=function(){this._removeNodeGroup(Ap.GEOMETRY),this._removeNodeGroup(Ap.INSTANCEGEOMETRY),this._removeNodeGroup(Ap.WIREFRAME),this._removeNodeGroup(Ap.INSTANCEWIREFRAMEGEOMETRY),this._removeSceneGroup(),this.group=null},gv.prototype._getNodeGroup=function(A,e){for(var t=this.group.children,i=0,n=t.length;i<n;i+=1)if(t[i].name===A)return t[i];var o=new op(A,e);return this.group.add(o),o.globalSpace&&(o.matrixAutoUpdate=!1,o.updateMatrixWorld(!0)),o},gv.prototype._removeNodeGroup=function(A){this.group.removeByName(A)},gv.prototype._hasNodeGroup=function(A){return this.group.hasChild(A)},gv.prototype._removeSceneGroup=function(){this.manager.scene.removeGroupByName(this.groupName),this.manager.scene.removeGroupByName(this._getWireframeGroupName())},gv.prototype._removeAllFromOctantMap=function(){this.manager.removeAllFromOctantMap(this.modelKey)},gv.prototype._clearMeshFromOctantMap=function(){this.manager.removeMeshFromOctantMap(this.modelKey)},gv.prototype.getEncodedDatabagId=function(){return this.modelKey},gv.prototype.setLayerData=function(A){this.layerData=A},gv.prototype.isLayerData=function(){return this._mpkDataType===Dm.EnumDataType.LAYER},gv.prototype.loadGeopkOnDemand=function(A,e,t){this._handler&&"layer"===this._handler.tag&&this._handler.loadGeopkOnDemand(A,e,t)},gv.prototype.loadAllMpksOnDemand=function(A,e,t){this._handler&&"layer"===this._handler.tag&&this._handler.loadAllMpksOnDemand(A,e,t)},gv.prototype.getUnionBoundingBoxOnDemand=function(){return this.getLayerProvider().getUnionBoundingBoxOnDemand()},gv.prototype.setConditionsChangedOnDemand=function(A){this.getLayerProvider().setConditionsChanged(A)},gv.prototype.getLayerProvider=function(A){return this.layerProvider||(this.layerProvider=new av(this)),this.layerProvider},gv.prototype.setDataType=function(A){this._mpkDataType=A},gv.prototype.getDataType=function(){return this._mpkDataType},gv.prototype.getModelDescriptor=function(){return this.modelDescriptor},gv.prototype.getLoader=function(){return this.loader},gv.prototype.getMaterialManager=function(){return this.materialManager},gv.prototype.getRotation=function(){return this.rotation},gv.prototype.getTransformMatrix=function(){return this.transformMatrix},gv.prototype.getTransformed=function(){return this.transformed},gv.prototype.clearWireframeElementCount=function(){this.wireframeElementCount=void 0},gv.prototype.getWireframeElementCount=function(){if(void 0!==this.wireframeElementCount)return this.wireframeElementCount;var A=this.modelDescriptor.getNodeInfosWithUserId(),e=this.manager.filter,t=0;for(var i in A){var n=A[i];e._hasRenderWithBoardlineFilter()&&!e._isRenderWithBoardline(n[0])||(t+=n.length)}return this.wireframeElementCount=t},gv.prototype.isActivateWireframe=function(){if(Ah.DrawingBoardlineLimit){if(this.getWireframeElementCount()<Ah.DrawingBoardlineLimitThreshold&&(Ah.DrawingStyle===Ch.BOARDLINE||Ah.DrawingStyle===Ch.SHADINGWITHLINE))return!0}else if(Ah.DrawingStyle===Ch.BOARDLINE||Ah.DrawingStyle===Ch.SHADINGWITHLINE)return!0;return!1},gv.prototype.isOnlyWireframe=function(){return Ah.DrawingStyle===Ch.BOARDLINE},gv.prototype.isInstancedNode=function(A){return A.instanceOrNot},gv.prototype.getLoadedUserIdsObject=function(){return this._handler&&this._handler.getLoadedUserIdsObject?this._handler.getLoadedUserIdsObject():null},gv.prototype.clearNodeGroup=function(){var A=this._getNodeGroup(Ap.GEOMETRY,{globalSpace:!0});A.clear(),(A=this._getNodeGroup(Ap.WIREFRAME,{globalSpace:!0})).clear(),(A=this._getNodeGroup(Ap.INSTANCEGEOMETRY,{globalSpace:!0})).clear(),(A=this._getNodeGroup(Ap.INSTANCEWIREFRAMEGEOMETRY,{globalSpace:!0})).clear()},gv.prototype.getWireframeMaterial=function(){return this.wireframeManager.wireframeMaterial},gv.prototype.getInstanceWireframeMaterial=function(){return this.wireframeManager.instanceWireframeMaterial},gv.prototype.adjustProgressPercentage=function(A,e,t){this.progressPercentage.load=A,this.progressPercentage.collect=e,this.progressPercentage.merge=t},gv.prototype.useDataMergedWireframe=function(A){this.dataWireframeEnabled=A},gv.prototype.isUseDataWireframe=function(){return Boolean(this.dataWireframeEnabled)},gv.prototype.setReplacedUserIdMap=function(A){this.replacedUserIdMap=kh.isOwnEmptyObject(A)?null:A},gv.prototype.hasReplacedUserId=function(){return!kh.isEmptyObject(this.replacedUserIdMap)},gv.prototype.isReplacedUserId=function(A){return this.replacedUserIdMap&&this.replacedUserIdMap[A]},gv.prototype.addToNodeInfoMap=function(A){for(var e=0,t=A.length;e<t;e+=1)this.modelDescriptor._cacheNodeInfoByUserId(A[e])},gv.prototype.removeFromNodeInfoMap=function(A){for(var e=this.modelDescriptor.getNodeInfosWithUserId(),t=0,i=A.length;t<i;t+=1){var n=A[t].userId;e[n]&&delete e[n]}},gv.prototype.getMaterialByMaterialId=function(A){return this.materialManager.materials[A]},gv.prototype.registerPlugin=function(A){this.plugins.push(A)},gv.prototype.disposeBufferAfterVbo=function(){var A=this._getHandler();A&&A.disposeBufferAfterVbo()},gv.prototype.formatLayerIds=function(A){return this.getLayerProvider().formatLayerIds(A)},gv.prototype.getBoundingBoxOfGeometries=function(A){for(var e=!A,t=new ni,i=0;i<A.length;i+=1){var n=this.group.getObjectByProperty("guid",A[i]);if(n){var o=n.geometry;if(o){if(e||o){o.boundingBox||o.computeBoundingBox();var r=o.boundingBox;if(r){var a=r.clone();n.matrixWorld&&a.applyMatrix4(n.matrixWorld),t.expandByPoint(a.min),t.expandByPoint(a.max)}}}else Gh.log("empty geometry!")}}return t},gv.prototype.setModelMatrix=function(A){this.group.matrix&&(this.group.matrix.copy(A),this.group.updateMatrixWorld(!0))},gv.prototype.getModelMatrix=function(){var A=null;return this.group.matrix&&(A=this.group.matrix.clone()),A},gv.prototype.overturnYAndZaxis=function(){this.group.matrix&&(this.group.matrix.makeRotationFromEuler(new et(Math.PI/2,0,0)),this.group.updateMatrixWorld(!0))},gv.prototype.hasComponent=function(A){return!!this.modelDescriptor.getNodeInfosByUserId(A)},gv.prototype.getComponentInfo=function(A){return this.modelDescriptor.getNodeInfosByComponentId(A)},gv.prototype.getComponentlist=function(){var A=[],e=this.modelDescriptor;for(var t in e.mapNodeInfoByComponentId)e.mapNodeInfoByComponentId.hasOwnProperty(t)&&A.push(t);return A},gv.prototype.addMeshToInfoMap=function(A,e,t,i){this.modelDescriptor.addMeshToInfoMap(A,e,t,i)},gv.prototype.explosion=function(A){var e=this._getHandler(),t=(new Ue).fromArray(A.center),i=new Ue,n=new ni,o=A.coefficientX||1,r=A.coefficientY||1,a=A.coefficientZ||1,s=new At;if(1===o&&1===r&&1===a)return this.explosioning=!1,void this.closeExplosion();if(this.explosioning=!0,Gh.time("模型离散用时"),e instanceof Zg){var l=this._getNodeGroup(Ap.GEOMETRY);if(l&&l.children)for(var c=0;c<l.children.length;c+=1){var d=l.children[c];d.userData.originalMatrix||(d.userData.originalMatrix=d.matrixWorld.clone());var h=d.geometry,u=d.userData.originalMatrix,p=d.matrixWorld;h.boundingBox||h.computeBoundingBox(),n.copy(h.boundingBox);var g=(new Ue).fromArray(u.elements,12),f=n.getCenter(i).add(g).sub(t.clone()).clone();f.x*=o,f.y*=r,f.z*=a,f.add(t.clone()),f.sub(n.getCenter(i)),p.setPosition(f)}}else if(e instanceof Jg){var m=this.modelDescriptor,v=m.mapNodeInfoByCategory[1],y=m.mapNodeInfoByCategory[0];for(var C in v)if(v.hasOwnProperty(C))for(var I=v[C],x=0;x<I.length;x+=1){var b=I[x],E=b.mesh;if(E){var w=b.index,M=E.geometry.attributes.position,B=E.matrixWorld;n.copy(b.boundingBox),n.applyMatrix4(B);var _=n.getCenter(i).sub(t.clone()).clone();b.offset||(b.offset=new Ue),_.x*=o,_.y*=r,_.z*=a,_.add(t.clone()),_.sub(n.getCenter(i));var S=_.sub(b.offset);s.setPosition(S),b.offset.add(S),lu.applyMatrix4ToBuffer(s,M.array,w.positionStart,w.positionStart+w.positionCount),M.needsUpdate=!0}}for(var T in y)if(y.hasOwnProperty(T))for(var K=y[T],F=0;F<K.length;F+=1){var L=K[F],O=L.mesh;if(O){var U=O._indicesGroup[L.userId],N=O.geometry.getAttribute("mcol3"),R=O.matrixWorld;n.copy(K[F].boundingBox),n.applyMatrix4(R);var P=n.getCenter(i).sub(t.clone()).clone();L.offset||(L.offset=(new Ue).fromArray(L.matrix.elements,12),L.originalMatrix=L.matrix.clone()),P.x*=o,P.y*=r,P.z*=a,P.add(t.clone()),P.sub(n.getCenter(i)),P.add(L.offset),N.array[3*U]=P.x,N.array[3*U+1]=P.y,N.array[3*U+2]=P.z,L.matrix.setPosition(P),N.needsUpdate=!0}}}else Gh.warn("当前模式下暂不支持模型离散");Gh.timeEnd("模型离散用时")},gv.prototype.closeExplosion=function(){var A=this._getHandler(),e=new At;if(A instanceof Zg){var t=this._getNodeGroup(Ap.GEOMETRY);if(t&&t.children)for(var i=0;i<t.children.length;i+=1){var n=t.children[i];n.userData.originalMatrix&&(n.matrixWorld=n.userData.originalMatrix,delete n.userData.originalMatrix)}}else if(A instanceof Jg){var o=this.modelDescriptor,r=o.mapNodeInfoByCategory[1],a=o.mapNodeInfoByCategory[0];for(var s in r)if(r.hasOwnProperty(s))for(var l=r[s],c=0;c<l.length;c+=1){var d=l[c],h=d.mesh;if(h){var u=d.index,p=h.geometry.attributes.position;d.offset||(d.offset=new Ue),e.setPosition(d.offset.multiplyScalar(-1)),delete d.offset,lu.applyMatrix4ToBuffer(e,p.array,u.positionStart,u.positionStart+u.positionCount),p.needsUpdate=!0}}for(var g in a)if(a.hasOwnProperty(g))for(var f=a[g],m=0;m<f.length;m+=1){var v=f[m],y=v.mesh,C=y._indicesGroup[v.userId],I=y.geometry.getAttribute("mcol3");v.offset||(v.offset=(new Ue).fromArray(v.matrix.elements,12)),I.array[3*C]=v.offset.x,I.array[3*C+1]=v.offset.y,I.array[3*C+2]=v.offset.z,delete v.offset,v.originalMatrix&&(v.matrix.setPosition((new Ue).fromArray(v.originalMatrix.elements,12)),delete v.originalMatrix),I.needsUpdate=!0}}else Gh.warn("当前模式下暂不支持模型离散");this.explosioning=!1},gv.prototype.showModel=function(A){this.nodes.visible=A},gv.prototype.showSkeleton=function(A){this.skeleton.visible=A},gv.prototype.deactivateAllActions=function(){this.needUpdate=!1,this.actions.forEach(function(A){A.stop()})},gv.prototype.activateAllActions=function(){this.needUpdate=!0;for(var A=0;A<this.actions.length;A+=1)this.setWeight(this.actions[A],0===A?1:0);this.actions.forEach(function(A){A.play()})},gv.prototype.pauseAllActions=function(){this.needUpdate=!1,this.actions.forEach(function(A){A.paused=!0})},gv.prototype.toSingleStepMode=function(){this.unPauseAllActions(),this.singleStepMode=!0,this.sizeOfNextStep=this.settings["调整步长"]},gv.prototype.pauseContinue=function(){this.singleStepMode?(this.singleStepMode=!1,this.unPauseAllActions()):this.paused?(this.paused=!1,this.unPauseAllActions()):(this.paused=!0,this.pauseAllActions())},gv.prototype.unPauseAllActions=function(){this.needUpdate=!0,this.actions.forEach(function(A){A.paused=!1})},gv.prototype.setWeight=function(A,e){A.enabled=!0,A.setEffectiveTimeScale(1),A.setEffectiveWeight(e)},gv.prototype.modifyTimeScale=function(A){this.mixer.timeScale=A},gv.prototype.createPanel=function(){var t=this,A=new Pm({width:400}).addFolder(this.modelKey),e=A.addFolder("可见性"),i=A.addFolder("激活/失活"),n=A.addFolder("暂停/步进"),o=A.addFolder("混合权重"),r=A.addFolder("综合速度");this.settings={"显示模型":!0,"显示骨骼":!1,"关闭全部动画":this.deactivateAllActions.bind(t),"激活所有动画":this.activateAllActions.bind(t),"暂停/继续":this.pauseContinue.bind(t),"单步动画":this.toSingleStepMode.bind(t),"调整步长":.05,"使用默认持续时间":!0,"设置自定义持续时间":3.5,"modify idle weight":0,"modify walk weight":1,"modify run weight":0,"修改时间尺度":1};var a=this.settings;e.add(a,"显示模型").onChange(this.showModel.bind(t)),e.add(a,"显示骨骼").onChange(this.showSkeleton.bind(t)),i.add(a,"关闭全部动画"),i.add(a,"激活所有动画"),n.add(a,"暂停/继续"),n.add(a,"单步动画"),n.add(a,"调整步长",.01,.1,.001);for(var s=this.actions,l=function(e){var A=s[e]._clip.name;a[A]=0===e?1:0,o.add(a,A,0,1,.01).listen().onChange(function(A){t.setWeight(s[e],A)})},c=0;c<s.length;c+=1)l(c);r.add(a,"修改时间尺度",0,10,.01).onChange(this.modifyTimeScale.bind(t)),e.open(),i.open(),n.open(),o.open(),r.open()},gv.prototype.getComponentKeysBySubmodelKey=function(A){return this.submodel[A]||[]};var fv=function(A,e){Ah.UseWorker&&zh.isSupportWorker()&&(this.websocketWorker=new Worker("src/worker/WebsocketWorker.js"),this.prepareDataWorkers=new Worker("src/worker/PrepareDataWorker.js")),zh.isMobileDevice()&&(Ah.maxObjectNumInPool=6e3,Ah.maxDrawCacheNum=4e3),this.scene=new vp(this),this.crossOrigin=!0,this.models={},this.filter=A,this.viewerImpl=e,this.materialPool=null,this.occlusionCamera=null,this.containsCamera=!1,this.highPriorityCategories={inner:{},outer:{}},this.octantToObjectMap={},this.instanceGeometries={},this.sceneState=new yp(this),this.modelState=new yp(this),this.filter.setSceneStateHelper(this.sceneState),this.rotation=new Oe,this.boundingBox=new ni,this.explosionList=[],this.IBLMaterial=!1,this.clippingCaps=!1,this.blinkStartTime=null,this.blinkEnabled=!1,this.blinkIntervalTime=600,this.blinkPermited=!1,this.defaultBlinkColor=(new hi).setHex(3330982),this.defaultBlinkAlpha=1,this.blinkColor=new Je(this.defaultBlinkColor.r,this.defaultBlinkColor.g,this.defaultBlinkColor.b,this.defaultBlinkAlpha),this.selectPriority=!0,this.materialOverrideSet=null};Object.assign(fv.prototype,ou.prototype),fv.prototype.prepareCapScene=function(){this.capsScene?this.clippingCaps||this.initCapPlane():(this.capsScene=new vp,this.clippingCaps||this.initCapPlane(),this.scene.createCapStencilMaterials())},fv.prototype.initCapPlane=function(){var A=this.scene.getFillClipPlane().initCapsPlane();this.capsScene.add(A.planeMesh),this.capsScene.add(A.lineMesh),this.clippingCaps=!0},fv.prototype.initCapBox=function(){var A=this.scene.getClipPlanes().initCapsBox();A.material.needsUpdate=!0,A.visible=!0,this.capsScene.add(A),this.clippingCaps=!0},fv.prototype.getAllComponents=function(){return this.scene.pool._pool},fv.prototype.getAllComponentsKey=function(){var A=[];for(var e in this.models)if(this.models.hasOwnProperty(e)){var t=this.models[e];if(t){var i=t.getComponentlist();A=A.concat(i)}}return A},fv.prototype.getComponent=function(A){var e=null;for(var t in this.models)if(this.models.hasOwnProperty(t)){var i=this.models[t];if(i.getComponentInfo(A)){e=i.getComponentInfo(A);break}}return e},fv.prototype.getStorage=function(){return this.storage},fv.prototype.destroy=function(){for(var A in this.models)this.models[A].destroy();this.models=null,this.octantToObjectMap=null,this.materialPool&&(this.materialPool.destroy(),this.materialPool=null),this.occlusionCamera&&(this.occlusionCamera=null),this.highPriorityCategories=null,this.sceneState=null,this.rotation=null,this.boundingBox=null,this.scene.destroy(),this.scene=null,this.filter=null},fv.prototype._updateOcclusionCamera=function(A){var e=A.near,t=A.distanceFromWorldToDrawing(this.getMatrixWorldGlobal(),Ah.OcclusionDistanceToCamera);this.occlusionCamera?this.occlusionCamera.copy(A):this.occlusionCamera=A.clone(),this.occlusionCamera.setNearFar(e,t),this.occlusionCamera.updateMVP()},fv.prototype._clearMaterialPool=function(){this.materialPool&&this.materialPool.clear()},fv.prototype.acquireMaterial=function(){return this.materialPool?this.materialPool.acquire():null},fv.prototype.getObjectPool=function(){return this.scene.getObjectPool()},fv.prototype.getFrustumFromOcclusionCamera=function(){return this.occlusionCamera.getFrustum(!1)},fv.prototype.getOcclusionCamera=function(){return this.occlusionCamera},fv.prototype.prepareScene=function(A,e){var t=this.models;for(var i in Ah.MergeComponent||(this.clearPool(),this.octantToObjectMap={}),Ah.OcclusionTranslucentEnabled&&(null===this.materialPool&&(this.materialPool=new Lf,this.materialPool.init(Tu,50)),this._clearMaterialPool(),this._updateOcclusionCamera(A)),t)if(t.hasOwnProperty(i)){var n=t[i];!Ah.RendererWhenLoad&&!n.isLoaded()||n.isEmptyScene()||n.prepare(A,e)}},fv.prototype.clearPool=function(){this.scene.getObjectPool().clear()},fv.prototype.load=function(n,A,e){var t=this.models,o=t[n.modelKey],r=this;if(void 0!==o)return o.isVisible()||(o.setVisible(!0),o.dispatchEventEx({type:lh.ON_LOAD_COMPLETE})),o;var i=[];for(var a in t)t.hasOwnProperty(a)&&i.push(t[a].index);i.sort();for(var s=0;s<i.length&&i[s]===s;s+=1);return o=n.modelKeys&&Array.isArray(n.modelKeys)?new gv(this,n,function(A,e){if(Ah.UseWorker){if(r.websocketWorker&&r.prepareDataWorkers){var t=JSON.parse(window.localStorage.getItem("bos_IndexedDB"));t||(t={version:1}),window.localStorage.setItem("bos_IndexedDB",JSON.stringify(t));var i=t.version;r.websocketWorker.postMessage({type:"INITIALIZE_DATABASE",data:{modelKey:o.modelKey,dbName:o.projectKey,version:i}}),r.websocketWorker.onmessage=o.onWSWorkerMessage,r.prepareDataWorkers.postMessage({type:"INITIALIZE_DATABASE",data:{modelKey:o.modelKey,dbName:o.projectKey,version:i}}),r.prepareDataWorkers.onmessage=o.onPDWorkerMessage}}else A.load(n.notifyProgress)},e):new pv(this,n,function(A,e){if(Ah.UseWorker){if(r.websocketWorker&&r.prepareDataWorkers){var t=JSON.parse(window.localStorage.getItem("bos_IndexedDB"));t||(t={version:1}),window.localStorage.setItem("bos_IndexedDB",JSON.stringify(t));var i=t.version;r.websocketWorker.postMessage({type:"INITIALIZE_DATABASE",data:{modelKey:o.modelKey,dbName:o.projectKey,version:i}}),r.websocketWorker.onmessage=o.onWSWorkerMessage,r.prepareDataWorkers.postMessage({type:"INITIALIZE_DATABASE",data:{modelKey:o.modelKey,dbName:o.projectKey,version:i}}),r.prepareDataWorkers.onmessage=o.onPDWorkerMessage}}else A.load(n.notifyProgress)},e),this.filter.addModel(o.modelKey),this.models[n.modelKey]=o},fv.prototype.loadModels=function(t){var i=this.models[t.modelKey],n=this;return void 0!==i?(i.isVisible()||(i.setVisible(!0),i.dispatchEventEx({type:lh.ON_LOAD_COMPLETE})),i):(i=new pv(this,t,function(){if(Ah.UseWorker){if(n.websocketWorker&&n.prepareDataWorkers){var A=JSON.parse(window.localStorage.getItem("bos_IndexedDB"));A||(A={version:1}),window.localStorage.setItem("bos_IndexedDB",JSON.stringify(A));var e=A.version;n.websocketWorker.postMessage({type:"INITIALIZE_DATABASE",data:{modelKey:i.modelKey,dbName:i.projectKey,version:e}}),n.websocketWorker.onmessage=i.onWSWorkerMessage,n.prepareDataWorkers.postMessage({type:"INITIALIZE_DATABASE",data:{modelKey:i.modelKey,dbName:i.projectKey,version:e}}),n.prepareDataWorkers.onmessage=i.onPDWorkerMessage}}else i.load(t.notifyProgress)}),this.models[t.modelKey]=i)},fv.prototype.unload=function(A){var e=this.models[A];return!!e&&(e.destroy(),delete this.models[A],this.filter.removeModel(A),this.updateScene(),!0)},fv.prototype.unloadAll=function(){for(var A=this.getModelKeys(),e=0,t=A.length;e<t;e+=1)this.unload(A[e]);this.clearPool(),this.models={}},fv.prototype.showModel=function(A){var e=this.models[A];return!!e&&(e.setVisible(!0),!0)},fv.prototype.hideModel=function(A){var e=this.models[A];return!!e&&(e.setVisible(!1),!0)},fv.prototype.getModelKeys=function(){var A=this.models,e=[];for(var t in A)A.hasOwnProperty(t)&&e.push(t);return e},fv.prototype.updateScene=function(){this.updateSceneBoundingBox()},fv.prototype.updateSceneBoundingBox=function(){var A=this.models,e=this.boundingBox;for(var t in e.makeEmpty(),A)if(A.hasOwnProperty(t)){var i=A[t].getBoundingBoxWorld();if(!i)continue;e.isEmpty()?e.copy(i):(e.expandByPoint(i.min),e.expandByPoint(i.max))}this.scene.setBoundingBoxWorld(e)},fv.prototype.parseSceneRootNode=function(A){this.scene.parseRootNode(A),this.updateSceneBoundingBox()},fv.prototype.updateSceneRootMatrix=function(){var A=!1,e=new At,t=new At,i=new Oe,n=this.models;for(var o in this.models)if(n.hasOwnProperty(o)){var r=n[o];if(!r.isEmptyScene()){i.copy(r.rotation),e.copy(r.transformMatrix),A=r.transformed;break}}if(this.scene.setTransformMatrixGlobal(e),A)t.copy(e);else{var a=new Ue(1,1,1),s=Ah.SceneSize,l=this.boundingBox.getSize(new Ue),c=Math.max(l.x,l.y,l.z);a.multiplyScalar(s/c),t.makeRotationFromQuaternion(i),t.scale(a)}this.scene.updateWorldMatrixByMatrix(t)},fv.prototype.updateSceneRenderable=function(){var A=this.models,e=Ah.maxObjectNumInPool,t=[],i=0;for(var n in A){if(A.hasOwnProperty(n))(s=A[n]).isEmptyScene()||(i+=s.getRenderableTotal(),t.push(n))}for(var o=0,r=0,a=t.length;r<a;r+=1){var s=A[n=t[r]],l=Math.floor(s.getRenderableTotal()/i*e);l>s.getRenderableTotal()&&(l=s.getRenderableTotal()),s.setRenderableCount(l),o+=l}this.scene.resizePool(e<o?e:o)},fv.prototype.updateOctreeNode=function(){var A=this.models;for(var e in this.models)if(A.hasOwnProperty(e)){var t=A[e];t.isLoaded()&&!t.isEmptyScene()&&t.updateOctreeNode(!0)}},fv.prototype.updateMaterials=function(){var A=this.models;for(var e in this.models)if(A.hasOwnProperty(e)){var t=A[e];t.isLoaded()&&!t.isEmptyScene()&&t.materialManager.updateMaterials(t)}},fv.prototype.updateMaterialsValue=function(A,e){var t=this.models;for(var i in this.models)if(t.hasOwnProperty(i)){var n=t[i];n.isLoaded()&&!n.isEmptyScene()&&n.materialManager.updateMaterialsValue(n,A,e)}},fv.prototype.switchNewStyleMaterial=function(A){var e=this.models;for(var t in this.models)if(e.hasOwnProperty(t)){var i=e[t];i.isLoaded()&&!i.isEmptyScene()&&i.materialManager.switchNewStyleMaterial(i,A)}},fv.prototype.changeAllMaterials=function(A){var e=this.models;for(var t in this.models)if(e.hasOwnProperty(t)){var i=e[t];i.isEmptyScene()||i.materialManager.changeAllMaterials(i,A)}this.IBLMaterial=A},fv.prototype.clearScene=function(){var A=this.models;for(var e in A){if(A.hasOwnProperty(e))A[e].clearCells()}},fv.prototype.setCrossOrigin=function(A){this.crossOrigin=A},fv.prototype.getMatrixWorldGlobal=function(){return this.scene.getMatrixWorldGlobal()},fv.prototype.hasModel=function(){var A=this.models;for(var e in A){if(A.hasOwnProperty(e))if(A[e].isLoaded())return!0}return!1},fv.prototype.hasModelDataReady=function(){var A=this.models,e=!1;for(var t in A){if(A.hasOwnProperty(t))if(e=!0,!A[t].isDataReady())return!1}return e},fv.prototype.isLayerData=function(){var A=this.models;for(var e in A){if(A.hasOwnProperty(e))if(A[e].isLayerData())return!0}return!1},fv.prototype.getModel=function(A){var e=this.models[A];return e&&e.isLoaded()?e:null},fv.prototype.showOctreeBox=function(A){Ah.ShowOctant||this.scene.removeGroupByName(Ap.OCTREENODE)},fv.prototype.setCategoriesToHighPriority=function(A,e){var t=A.length;if(1<=t)for(var i=this.highPriorityCategories[e]={},n=0;n<t;n+=1)i[A[n]]=!0},fv.prototype.getCategoriesFromHighPriority=function(A){return this.highPriorityCategories[A]},fv.prototype.clearCategoriesFromHighPriority=function(A){this.highPriorityCategories[A]={}},fv.prototype.clearAllCategoriesFromHighPriority=function(){this.clearCategoriesFromHighPriority("inner"),this.clearCategoriesFromHighPriority("outer")},fv.prototype.calculateCameraModelRelation=function(A){var e=!1,t=this.models;for(var i in t)if(t.hasOwnProperty(i)){var n=t[i];n&&n.isLoaded()&&!n.isEmptyScene()&&(n.calculateCameraModelRelation(A),e=e||n.containsCamera)}this.containsCamera=e},fv.prototype.getCameraNameList=function(){var A=this.models,e=[];for(var t in A)if(A.hasOwnProperty(t)){var i=A[t];i.isEmptyScene()||(e=e.concat(i.getCameraNameList()))}return e},fv.prototype.getCamera=function(A){var e=this.models,t=null;for(var i in e)if(e.hasOwnProperty(i)){var n=e[i];if(!n.isEmptyScene()&&(t=n.getCamera(A)))break}return t},fv.prototype.getNumOfElements=function(){var A=this.models,e=0;for(var t in this.models)if(A.hasOwnProperty(t)){var i=A[t];i.isEmptyScene()||(e+=i.numOfElements)}return e},fv.prototype.getNumOfRenderables=function(){var A=this.models,e=0;for(var t in this.models)if(A.hasOwnProperty(t)){var i=A[t];i.isEmptyScene()||(e+=i.renderableTotal)}return e},fv.prototype.getNumOfTriangles=function(){var A=this.models,e=0;for(var t in this.models)if(A.hasOwnProperty(t)){var i=A[t];i.isEmptyScene()||(e+=i.numOfTriangles)}return e},fv.prototype.useLayerScene=function(){return!1},fv.prototype.unloadGeopkOnDemand=function(A,e){var t=this.models;for(var i in t)if(t.hasOwnProperty(i)){var n=t[i];n.isLoaded()&&!n.isEmptyScene()&&n.isLayerData()&&n.unloadGeopkOnDemand(A,e)}},fv.prototype.loadGeopkOnDemand=function(A,e,t){var i=this.models;for(var n in i)if(i.hasOwnProperty(n)){var o=i[n];o.isLoaded()&&!o.isEmptyScene()&&o.isLayerData()&&o.loadGeopkOnDemand(A,e,t)}},fv.prototype.loadAllMpksOnDemand=function(A,e){var t=this.models;for(var i in t)if(t.hasOwnProperty(i)){var n=t[i];n.isLoaded()&&!n.isEmptyScene()&&n.isLayerData()&&n.loadAllMpksOnDemand(A,e)}},fv.prototype.getBoundingBoxOnDemand=function(){var A=this.models,e=new ni;for(var t in A)if(A.hasOwnProperty(t)){var i=A[t];if(i.isLoaded()&&!i.isEmptyScene()&&i.isLayerData()){var n=i.getUnionBoundingBoxOnDemand();n&&e.union(n)}}return e},fv.prototype.setConditionsOnDemandLoad=function(A){this.conditionsOnDemandLoad=A;var e=this.models;for(var t in e)if(e.hasOwnProperty(t)){var i=e[t];i.isLoaded()&&!i.isEmptyScene()&&i.isLayerData()&&i.setConditionsChangedOnDemand(!0)}},fv.prototype.getConditionsOnDemandLoad=function(){return this.conditionsOnDemandLoad},fv.prototype.getScene=function(){return this.scene},fv.prototype.getOctreeRoots=function(){var A=this.models,e=null;if(console.log("qqqq"),Ah.MergeComponent)for(var t in e={},A){if(A.hasOwnProperty(t))if((n=A[t]).isLoaded()&&!n.isEmptyScene()){var i=n.getEncodedDatabagId();e[i]=[],n.getOctreeRoots(e[i])}}else for(var t in e=[],A){var n;if(A.hasOwnProperty(t))(n=A[t]).isLoaded()&&!n.isEmptyScene()&&n.getOctreeRoots(e)}return e},fv.prototype.getModelSnapshotPhoto=function(){return this.viewerImpl.render(),{imgURL:this.viewerImpl.renderer.domElement.toDataURL("image/png"),height:this.viewerImpl.domElement.offsetHeight,width:this.viewerImpl.domElement.offsetWidth}},fv.prototype.addObjectRangeToOctantMap=function(A,e,t){var i=this.octantToObjectMap;void 0===i[A]&&(i[A]=[]),i[A].push(e),i[A].push(t)},fv.prototype.addMeshToOctantMap=function(A,e,t,i){var n=this.octantToObjectMap;n[A]||(n[A]={}),n[A].mesh||(n[A].mesh={}),n[A].mesh[t]||(n[A].mesh[t]={}),void 0!==i?(n[A].mesh[t][i]||(n[A].mesh[t][i]=[]),n[A].mesh[t][i].push(e)):n[A].mesh[t]=e},fv.prototype.removeMeshFromOctantMap=function(A,e){var t=this.octantToObjectMap;t[A]&&t[A].mesh&&t[A].mesh[e]&&delete t[A].mesh[e]},fv.prototype.addInstanceMeshToOctantMap=function(A,e,t,i){var n=this.octantToObjectMap;n[A]||(n[A]={}),n[A].instance||(n[A].instance={}),n[A].instance[t]||(n[A].instance[t]={}),n[A].instance[t][i]||(n[A].instance[t][i]=[]),n[A].instance[t][i].push(e)},fv.prototype.addNodeInfoToOctantMap=function(A,e,t){var i=this.octantToObjectMap;i[A]||(i[A]={}),i[A].info||(i[A].info={}),i[A].info[e]||(i[A].info[e]=[]),i[A].info[e].push(t)},fv.prototype.removeAllFromOctantMap=function(A){var e=this.octantToObjectMap;e[A]&&delete e[A]},fv.prototype._clearMeshFromOctantMap=function(A){var e=this.octantToObjectMap;e[A]&&(e[A].mesh&&delete e[A].mesh,e[A].instance&&delete e[A].instance)},fv.prototype.applyFilter=function(){for(var A in this.models){this.models[A].applyFilter()}},fv.prototype.applySelection=function(){for(var A in this.selectPriority=!0,this.models){this.models[A].applySelection()}},fv.prototype.clearSelection=function(){for(var A in this.selectPriority=!0,this.models){this.models[A].clearSelection()}},fv.prototype.applyHover=function(){if(Ah.Hover&&!Ah.EnableRenderPass)for(var A in this.models){this.models[A].applyHover()}},fv.prototype.clearHover=function(){if(Ah.Hover&&!Ah.EnableRenderPass)for(var A in this.models){this.models[A].clearHover()}},fv.prototype.chooseRendering=function(A){if(!this.firstChooseRendering){if(!(this.firstChooseRendering=!0)===Ah.UseBatchRendering)return Ah.MergeComponent=!1,void(Ah.IncrementRender=!0);var e=Ah.MergedTriangleNumberThreshold;Ah.MaxMergedTriangleNumber<Ah.MergedTriangleNumberThreshold&&(e=Ah.MaxMergedTriangleNumber),Ah.IncrementRender=e<A?!(Ah.MergeComponent=!1):!(Ah.MergeComponent=!0)}},fv.prototype.isUserIdExist=function(A){var e=!1;for(var t in this.models){if(this.models.hasOwnProperty(t))if(this.models[t].isUserIdExist(A)){e=!0;break}}return e},fv.prototype.getNodeInfosByUserId=function(A){for(var e in this.models)if(this.models.hasOwnProperty(e)){var t=this.models[e].getNodeInfosByUserId(A);if(t)return t}return null},fv.prototype.getNodeInfos=function(){var A={};for(var e in this.models){var t=this.models[e].getNodeInfos();t&&(A[e]=t)}return A},fv.prototype.createMaterialOverrideSet=function(A,e){this.materialOverrideSet=new MaterialOverriderSet(A,e),Ah.EnableTextureMapping=!0},fv.prototype.getMaterialOverrideSet=function(){return this.materialOverrideSet},fv.prototype.getOverrideMaterialByNodeInfo=function(A){return this.materialOverrideSet?this.materialOverrideSet.getOverrideMaterialByNodeInfo(A):null},fv.prototype.getOverrideMaterialByName=function(A){return this.materialOverrideSet?this.materialOverrideSet.getOverrideMaterialByName(A):null},fv.prototype.loadOverrideMaterialsByDemand=function(A,e){if(this.materialOverrideSet){var t=this.getConditions();this.materialOverrideSet.loadByDemand(t,A,e)}else e&&e()},fv.prototype.getConditions=function(){var A={},e={},t={};for(var i in this.models){var n=this.models[i].getNodeInfos();if(n)for(var i in n)if(n.hasOwnProperty(i))for(var o=0,r=n[i].length;o<r;o+=1){var a=n[i][o].userData;A[a.familyId]=t[a.systemTypeId]=e[n[i][o].userId]=!0}}return{familyIds:A,elementIds:e,systemTypeIds:t}},fv.prototype.isHiddenUserId=function(A){var e=!1;for(var t in this.models){if(this.models.hasOwnProperty(t))if((t=this.models[t]).isHiddenUserId(A)){e=!0;break}}return e},fv.prototype.updateMeshNodes=function(){for(var A in this.models){if(this.models.hasOwnProperty(A))(A=this.models[A]).updateMeshNodes()}},fv.prototype.getMinDistanceObjects=function(A,e){for(var t in this.models){if(this.models.hasOwnProperty(t))if((t=this.models[t]).minDistanceObjects={},t.getMeshesByUserIds(A,e),t.minDistanceObjects)return t.minDistanceObjects}return null},fv.prototype.adjustVisibility=function(A){for(var e in this.models)this.models[e]&&this.models[e]._getHandler().adjustVisibility(A);this.otherAdjustVisibility&&this.otherAdjustVisibility(A)},fv.prototype.changeVisibilityOfSelectedObjects=function(A){for(var e in this.models)this.models[e]&&this.models[e]._getHandler().changeVisibilityOfSelectedObjects(A)},fv.prototype.changeVisibilityOfNonSelectedObjects=function(A){for(var e in this.models)this.models[e]&&this.models[e]._getHandler().changeVisibilityOfNonSelectedObjects(A);this.otherAdjustVisibility&&this.otherAdjustVisibility(A)},fv.prototype.adjustInstanceVisibility=function(A){for(var e in this.models)this.models[e]&&this.models[e].merged&&this.models[e]._getHandler().adjustInstanceVisibility(A)},fv.prototype.changeInstanceVisibilityOfSelectedObjects=function(A){for(var e in this.models)this.models[e]&&this.models[e].merged&&this.models[e]._getHandler().changeInstanceVisibilityOfSelectedObjects(A)},fv.prototype.changeInstanceVisibilityOfNonSelectedObjects=function(A){for(var e in this.models)this.models[e]&&this.models[e].merged&&this.models[e]._getHandler().changeInstanceVisibilityOfNonSelectedObjects(A)},fv.prototype.restoreVisibilityOfObjects=function(){for(var A in this.models)this.models[A]&&this.models[A]._getHandler().restoreVisibilityOfObjects();this.otherAdjustVisibility&&this.otherAdjustVisibility(!0)},fv.prototype.getComponentKeysByTypeFromList=function(A,e){var t=[];for(var i in this.models)if(this.models.hasOwnProperty(i)){var n=(i=this.models[i]).getComponentKeysByTypeFromList(A,e);n&&(t=t.concat(n))}return t},fv.prototype.getComponentKeysByType=function(A){var e=[];for(var t in this.models)if(this.models.hasOwnProperty(t)){var i=(t=this.models[t]).getComponentKeysByType(A);i&&(e=e.concat(i))}return e},fv.prototype.getComponentKeysByName=function(A){var e=[];for(var t in this.models)if(this.models.hasOwnProperty(t)){var i=(t=this.models[t]).getComponentKeysByName(A);i&&(e=e.concat(i))}return e},fv.prototype.getComponentKeysByProperty=function(A,e){var t=[];for(var i in this.models)if(this.models.hasOwnProperty(i)){var n=(i=this.models[i]).getComponentKeysByProperty(A,e);n&&(t=t.concat(n))}return t},fv.prototype.getBlinkMaterials=function(){var A=[];for(var e in this.models)this.models[e]&&this.models[e]._getHandler().getBlinkMaterials&&(A=A.concat(this.models[e]._getHandler().getBlinkMaterials()));return A},fv.prototype.resetBlinkMaterial=function(){for(var A=this.getBlinkMaterials(),e=0,t=A.length;e<t;e+=1)A[e].resetBlinkUniformValue()},fv.prototype.updateBlinkMaterial=function(){if(null!==this.blinkStartTime){if(Date.now()-this.blinkStartTime>=this.blinkIntervalTime){this.blinkStartTime=Date.now(),this.indexSwitch=!this.indexSwitch;for(var A=this.indexSwitch?xh.BLINK:xh.NONE,e=this.getBlinkMaterials(),t=0,i=e.length;t<i;t+=1)e[t].updateBlinkUniformValue(A,this.blinkColor)}}else this.blinkStartTime=Date.now()},fv.prototype.getBlinkColor=function(){return this.blinkColor},fv.prototype.setBlinkColor=function(A,e){if(A){var t=kh.hexToRgb(A);this.blinkColor.fromArray([t.r,t.g,t.b,e||1])}else this.blinkColor.set(this.defaultBlinkColor.r,this.defaultBlinkColor.g,this.defaultBlinkColor.b,this.defaultBlinkAlpha)},fv.prototype.setBlinkIntervalTime=function(A){0<this.blinkIntervalTime&&(this.blinkIntervalTime=A)},fv.prototype.enableBlink=function(A){(this.blinkEnabled=A)?null===this.blinkStartTime&&(this.blinkStartTime=Date.now()):(this.blinkStartTime=null,this.resetBlinkMaterial()),this.applyBlink()},fv.prototype.getBlinkEnabled=function(){return!this.isBlinkPermited()&&this.blinkEnabled},fv.prototype.getBlinkComponentsIdMap=function(){return this.isBlinkPermited()?null:this.sceneState.getBlinkComponentsIdMap()},fv.prototype.applyBlink=function(){if(!this.isBlinkPermited())for(var A in this.selectPriority=!1,this.models){this.models[A].applyBlink()}},fv.prototype.clearBlink=function(){if(!this.isBlinkPermited())for(var A in this.selectPriority=!1,this.models){this.models[A].clearBlink()}},fv.prototype.permitBlink=function(A){this.blinkPermited=A},fv.prototype.isBlinkPermited=function(){return this.blinkPermited},fv.prototype.isSelectPriority=function(){return this.selectPriority},fv.prototype.disposeBufferAfterVbo=function(){if(Ah.EnableDisposeBufferAfterVbo)for(var A in this.models){this.models[A].disposeBufferAfterVbo()}},fv.prototype.updateAnimation=function(){var A=this.viewerImpl.clock.getDelta();for(var e in this.models)if(this.models.hasOwnProperty(e)){var t=this.models[e];if(t.hasAnimation&&t.mixer){var i=t.mixer;t.singleStepMode?(i.update(t.sizeOfNextStep),t.sizeOfNextStep=0):i.update(A)}}},fv.prototype.needUpdateAnimation=function(){for(var A in this.models)if(this.models.hasOwnProperty(A)){var e=this.models[A];if(e.hasAnimation&&e.mixer&&e.needUpdate)return!0}return!1};var mv=function(){this.duration=500,this._state=null};mv.prototype.rotateCameraByViewCubeSide=function(A,e,t,i){var n=A.target.clone(),o=e.getCenter(new Ue),r=A.quaternion.clone(),a=A.position.clone(),s=this._calculateDistanceAndEuler(t,e),l=(new Oe).setFromEuler(s.euler).inverse(),c=new At;c.makeRotationFromQuaternion(l);var d=c.elements,h=new Ue(-d[8],-d[9],-d[10]).normalize();h.setLength(s.distance);var u=o.clone().sub(h);if(!a.equals(u)||!r.equals(l)){var p=this._calculatePositionRotateInfo(r,l,a,u);this._state&&this._state.timerID&&(cancelAnimationFrame(this._state.timerID),this._state.timerID=void 0),this._state={startTime:Date.now(),startQuaternion:r,endQuaternion:l,startPosition:a,endPosition:u,startTarget:n,endTarget:o,positionRotateInfo:p,onUpdate:i},this._state.timerID=requestAnimationFrame(this._animate.bind(this))}},mv.prototype.cancelAnimation=function(){this._state&&this._state.timerID&&(cancelAnimationFrame(this._state.timerID),this._state=void 0)},mv.prototype._animate=function(){if(this._state){var A=Date.now(),e=this._state,t=e.startTarget,i=e.endTarget,n=e.startQuaternion,o=e.endQuaternion,r=e.startPosition,a=e.endPosition,s=e.positionRotateInfo,l=Math.min((A-e.startTime)/this.duration,1);l=this._easyOut(l);var c=o.clone();n.equals(o)||Oe.slerp(n,o,c,l);var d=a;r.equals(a)||(d=s?this._rotatePositionAroundCenter(s,r,a,l):r.clone().lerp(a,l));var h=i.clone();t.equals(i)||(h=h.lerpVectors(t,i,l)),"function"==typeof this._state.onUpdate&&this._state.onUpdate(l,c,d,h),1===l?(cancelAnimationFrame(this._state.timerID),this._state=null):this._state.timerID=requestAnimationFrame(this._animate.bind(this))}},mv.prototype._calculateDistanceAndEuler=function(A,e){var t=-45,i=0,n=-135,o=0,r=e?e.getSize(new Ue):{x:0,y:0,z:0};switch(A){case rh.Home:break;case rh.Front:i=0,n=t=-90;break;case rh.Right:t=-90,i=0,n=-180;break;case rh.Back:t=-90,i=0,n=-270;break;case rh.Left:t=-90,n=i=0;break;case rh.Top:i=t=0,n=-90;break;case rh.Bottom:t=-180,i=0,n=-270;break;case rh.TopFront:t=-45,i=0,n=-90;break;case rh.TopRight:t=-45,i=0,n=-180;break;case rh.TopBack:t=-45,i=0,n=90;break;case rh.TopLeft:t=-45,n=i=0;break;case rh.BottomFront:t=-135,i=0,n=270;break;case rh.BottomRight:t=-135,i=0,n=-180;break;case rh.BottomBack:t=-135,i=0,n=-270;break;case rh.BottomLeft:t=-135,n=i=0;break;case rh.FrontRight:t=-90,i=0,n=-135;break;case rh.BackRight:t=-90,i=0,n=-225;break;case rh.BackLeft:t=-90,i=0,n=45;break;case rh.FrontLeft:t=-90,i=0,n=-45;break;case rh.TopFrontRight:t=-45,i=-0,n=-135;break;case rh.TopBackRight:t=-45,i=0,n=-225;break;case rh.TopBackLeft:t=-45,i=0,n=-315;break;case rh.TopFrontLeft:i=0,n=t=-45;break;case rh.BottomFrontRight:i=0,n=t=-135;break;case rh.BottomBackRight:t=-135,i=0,n=-225;break;case rh.BottomBackLeft:t=-135,i=0,n=45;break;case rh.BottomFrontLeft:t=-135,i=0,n=-45}var a=Math.PI/180,s=new et(t*a,i*a,n*a);return 0===(o=r.x+r.y+r.z)&&(o=Ah.SceneSize/2),{euler:s,distance:o}},mv.prototype._easyOut=function(A){return A*(2-A)},mv.prototype._calculatePositionRotateInfo=function(A,e,t,i){var n=(new Oe).multiplyQuaternions(e,A.clone().inverse());n.normalize();var o=new Ue(n.x,n.y,n.z).normalize(),r=2*Math.acos(n.w);if(0!==r){var a=null;if(r===Math.PI)a=(new Ue).addVectors(t,i).divideScalar(2);else{var s=(new Ue).addVectors(t,i),l=(new Ue).subVectors(i,t),c=o.clone().cross(l).normalize(),d=.5*l.length()/Math.tan(r/2);c.setLength(d),a=(new Ue).addVectors(s.multiplyScalar(.5),c)}var h=null,u=null,p=(new Ue).subVectors(t,a),g=p.length(),f=(new Ue).subVectors(i,t);if(r===Math.PI)u=-1,h=(new Ue).crossVectors(f,o);else{var m=(new Ue).subVectors(i,a);u=Math.cos(r),u=Math.max(-1,Math.min(1,u)),h=m.clone().sub(p.clone().multiplyScalar(u))}return{center:a,dot:u,vec:h,start:p,radiusLength:g}}},mv.prototype._rotatePositionAroundCenter=function(A,e,t,i){if(0===i)return e;if(1<=i)return t;var n=Math.acos(A.dot)*i,o=A.start.clone(),r=A.vec.clone().normalize(),a=o.multiplyScalar(Math.cos(n)),s=r.multiplyScalar(Math.sin(n)*A.radiusLength),l=a.add(s);return l.add(A.center),l};var vv,yv,Cv,Iv={uniforms:{tDiffuse:{value:null},opacity:{value:1}},vertexShader:["varying vec2 vUv;","void main() {","vUv = uv;","gl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );","}"].join("\n"),fragmentShader:["uniform float opacity;","uniform sampler2D tDiffuse;","varying vec2 vUv;","void main() {","vec4 texel = texture2D( tDiffuse, vUv );","gl_FragColor = opacity * texel;","}"].join("\n")};function xv(){this.enabled=!0,this.needsSwap=!0,this.clear=!1,this.renderToScreen=!1}Object.assign(xv.prototype,{setSize:function(){},render:function(){console.error("THREE.Pass: .render() must be implemented in derived pass.")}}),xv.FullScreenQuad=(vv=new Tl(-1,1,1,-1,0,1),yv=new Fn(2,2),Cv=function(A){this._mesh=new ji(yv,A)},Object.defineProperty(Cv.prototype,"material",{get:function(){return this._mesh.material},set:function(A){this._mesh.material=A}}),Object.assign(Cv.prototype,{render:function(A){A.render(this._mesh,vv)}}),Cv);var bv=function(A,e){xv.call(this),this.textureID=void 0!==e?e:"tDiffuse",A instanceof cn?(this.uniforms=A.uniforms,this.material=A):A&&(this.uniforms=an.clone(A.uniforms),this.material=new cn({defines:Object.assign({},A.defines),uniforms:this.uniforms,vertexShader:A.vertexShader,fragmentShader:A.fragmentShader})),this.fsQuad=new xv.FullScreenQuad(this.material)};bv.prototype=Object.assign(Object.create(xv.prototype),{constructor:bv,render:function(A,e,t){this.uniforms[this.textureID]&&(this.uniforms[this.textureID].value=t.texture),this.fsQuad.material=this.material,this.renderToScreen?A.setRenderTarget(null):(A.setRenderTarget(e),this.clear&&A.clear(A.autoClearColor,A.autoClearDepth,A.autoClearStencil)),this.fsQuad.render(A)}});var Ev=function(A,e){xv.call(this),this.scene=A,this.camera=e,this.clear=!0,this.needsSwap=!1,this.inverse=!1};Ev.prototype=Object.assign(Object.create(xv.prototype),{constructor:Ev,render:function(A,e,t){var i=A.getContext(),n=A.state;n.buffers.color.setMask(!1),n.buffers.depth.setMask(!1),n.buffers.color.setLocked(!0),n.buffers.depth.setLocked(!0);var o=null,r=null;o=this.inverse?(r=0,1):(r=1,0),n.buffers.stencil.setTest(!0),n.buffers.stencil.setOp(i.REPLACE,i.REPLACE,i.REPLACE),n.buffers.stencil.setFunc(i.ALWAYS,r,4294967295),n.buffers.stencil.setClear(o),n.buffers.stencil.setLocked(!0),A.setRenderTarget(t),this.clear&&A.clear(),A.render(this.scene,this.camera),A.setRenderTarget(e),this.clear&&A.clear(),A.render(this.scene,this.camera),n.buffers.color.setLocked(!1),n.buffers.depth.setLocked(!1),n.buffers.stencil.setLocked(!1),n.buffers.stencil.setFunc(i.EQUAL,1,4294967295),n.buffers.stencil.setOp(i.KEEP,i.KEEP,i.KEEP),n.buffers.stencil.setLocked(!0)}});var wv=function(){xv.call(this),this.needsSwap=!1};wv.prototype=Object.create(xv.prototype),Object.assign(wv.prototype,{render:function(A){A.state.buffers.stencil.setLocked(!1),A.state.buffers.stencil.setTest(!1)}});var Mv=function(A,e){if(this.renderer=A,void 0===e){var t={minFilter:P,magFilter:P,format:RA,stencilBuffer:!1},i=A.getSize(new Le);this._pixelRatio=A.getPixelRatio(),this._width=i.width,this._height=i.height,(e=new Ze(this._width*this._pixelRatio,this._height*this._pixelRatio,t)).texture.name="EffectComposer.rt1"}else this._pixelRatio=1,this._width=e.width,this._height=e.height;this.renderTarget1=e,this.renderTarget2=e.clone(),this.renderTarget2.texture.name="EffectComposer.rt2",this.writeBuffer=this.renderTarget1,this.readBuffer=this.renderTarget2,this.renderToScreen=!0,this.passes=[],void 0===Iv&&console.error("THREE.EffectComposer relies on CopyShader"),void 0===bv&&console.error("THREE.EffectComposer relies on ShaderPass"),this.copyPass=new bv(Iv),this.clock=new _c};Object.assign(Mv.prototype,{swapBuffers:function(){var A=this.readBuffer;this.readBuffer=this.writeBuffer,this.writeBuffer=A},addPass:function(A){this.passes.push(A),A.setSize(this._width*this._pixelRatio,this._height*this._pixelRatio)},insertPass:function(A,e){this.passes.splice(e,0,A)},isLastEnabledPass:function(A){for(var e=A+1;e<this.passes.length;e+=1)if(this.passes[e].enabled)return!1;return!0},render:function(A){void 0===A&&(A=this.clock.getDelta());var e=this.renderer.getRenderTarget(),t=!1,i=null,n=null,o=this.passes.length;for(n=0;n<o;n+=1)if(!1!==(i=this.passes[n]).enabled){if(i.renderToScreen=this.renderToScreen&&this.isLastEnabledPass(n),i.render(this.renderer,this.writeBuffer,this.readBuffer,A,t),i.needsSwap){if(t){var r=this.renderer.getContext(),a=this.renderer.state.buffers.stencil;a.setFunc(r.NOTEQUAL,1,4294967295),this.copyPass.render(this.renderer,this.writeBuffer,this.readBuffer,A),a.setFunc(r.EQUAL,1,4294967295)}this.swapBuffers()}void 0!==Ev&&(i instanceof Ev?t=!0:i instanceof wv&&(t=!1))}this.renderer.setRenderTarget(e)},reset:function(A){if(void 0===A){var e=this.renderer.getSize(new Le);this._pixelRatio=this.renderer.getPixelRatio(),this._width=e.width,this._height=e.height,(A=this.renderTarget1.clone()).setSize(this._width*this._pixelRatio,this._height*this._pixelRatio)}this.renderTarget1.dispose(),this.renderTarget2.dispose(),this.renderTarget1=A,this.renderTarget2=A.clone(),this.writeBuffer=this.renderTarget1,this.readBuffer=this.renderTarget2},setSize:function(A,e){this._width=A,this._height=e;var t=this._width*this._pixelRatio,i=this._height*this._pixelRatio;this.renderTarget1.setSize(t,i),this.renderTarget2.setSize(t,i);for(var n=0;n<this.passes.length;n+=1)this.passes[n].setSize(t,i)},setPixelRatio:function(A){this._pixelRatio=A,this.setSize(this._width,this._height)}});var Bv,_v,Sv,Tv=function(){this.enabled=!0,this.needsSwap=!0,this.clear=!1,this.renderToScreen=!1};Object.assign(Tv.prototype,{setSize:function(){},render:function(){console.error("THREE.Pass: .render() must be implemented in derived pass.")}}),Tv.FullScreenQuad=(Bv=new Tl(-1,1,1,-1,0,1),_v=new Fn(2,2),Sv=function(A){this._mesh=new ji(_v,A)},Object.defineProperty(Sv.prototype,"material",{get:function(){return this._mesh.material},set:function(A){this._mesh.material=A}}),Object.assign(Sv.prototype,{render:function(A){A.render(this._mesh,Bv)}}),Sv);var Kv={uniforms:{tDiffuse:{value:null},resolution:{value:new Le(1/1024,1/512)}},vertexShader:["varying vec2 vUv;","void main() {","vUv = uv;","gl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );","}"].join("\n"),fragmentShader:["precision highp float;","","uniform sampler2D tDiffuse;","","uniform vec2 resolution;","","varying vec2 vUv;","","// FXAA 3.11 implementation by NVIDIA, ported to WebGL by Agost Biro (biro@archilogic.com)","","//----------------------------------------------------------------------------------","// File:        es3-kepler FXAA assets shaders/FXAA_DefaultES.frag","// SDK Version: v3.00","// Email:       gameworks@nvidia.com","// Site:        http://developer.nvidia.com/","//","// Copyright (c) 2014-2015, NVIDIA CORPORATION. All rights reserved.","//","// Redistribution and use in source and binary forms, with or without","// modification, are permitted provided that the following conditions","// are met:","//  * Redistributions of source code must retain the above copyright","//    notice, this list of conditions and the following disclaimer.","//  * Redistributions in binary form must reproduce the above copyright","//    notice, this list of conditions and the following disclaimer in the","//    documentation and/or other materials provided with the distribution.","//  * Neither the name of NVIDIA CORPORATION nor the names of its","//    contributors may be used to endorse or promote products derived","//    from this software without specific prior written permission.","//","// THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS ``AS IS'' AND ANY","// EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE","// IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR","// PURPOSE ARE DISCLAIMED.  IN NO EVENT SHALL THE COPYRIGHT OWNER OR","// CONTRIBUTORS BE LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL,","// EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED TO,","// PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR","// PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY","// OF LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT","// (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE","// OF THIS SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.","//","//----------------------------------------------------------------------------------","","#define FXAA_PC 1","#define FXAA_GLSL_100 1","#define FXAA_QUALITY_PRESET 12","","#define FXAA_GREEN_AS_LUMA 1","","/*--------------------------------------------------------------------------*/","#ifndef FXAA_PC_CONSOLE","    //","    // The console algorithm for PC is included","    // for developers targeting really low spec machines.","    // Likely better to just run FXAA_PC, and use a really low preset.","    //","    #define FXAA_PC_CONSOLE 0","#endif","/*--------------------------------------------------------------------------*/","#ifndef FXAA_GLSL_120","    #define FXAA_GLSL_120 0","#endif","/*--------------------------------------------------------------------------*/","#ifndef FXAA_GLSL_130","    #define FXAA_GLSL_130 0","#endif","/*--------------------------------------------------------------------------*/","#ifndef FXAA_HLSL_3","    #define FXAA_HLSL_3 0","#endif","/*--------------------------------------------------------------------------*/","#ifndef FXAA_HLSL_4","    #define FXAA_HLSL_4 0","#endif","/*--------------------------------------------------------------------------*/","#ifndef FXAA_HLSL_5","    #define FXAA_HLSL_5 0","#endif","/*==========================================================================*/","#ifndef FXAA_GREEN_AS_LUMA","    //","    // For those using non-linear color,","    // and either not able to get luma in alpha, or not wanting to,","    // this enables FXAA to run using green as a proxy for luma.","    // So with this enabled, no need to pack luma in alpha.","    //","    // This will turn off AA on anything which lacks some amount of green.","    // Pure red and blue or combination of only R and B, will get no AA.","    //","    // Might want to lower the settings for both,","    //    fxaaConsoleEdgeThresholdMin","    //    fxaaQualityEdgeThresholdMin","    // In order to insure AA does not get turned off on colors","    // which contain a minor amount of green.","    //","    // 1 = On.","    // 0 = Off.","    //","    #define FXAA_GREEN_AS_LUMA 0","#endif","/*--------------------------------------------------------------------------*/","#ifndef FXAA_EARLY_EXIT","    //","    // Controls algorithm's early exit path.","    // On PS3 turning this ON adds 2 cycles to the shader.","    // On 360 turning this OFF adds 10ths of a millisecond to the shader.","    // Turning this off on console will result in a more blurry image.","    // So this defaults to on.","    //","    // 1 = On.","    // 0 = Off.","    //","    #define FXAA_EARLY_EXIT 1","#endif","/*--------------------------------------------------------------------------*/","#ifndef FXAA_DISCARD","    //","    // Only valid for PC OpenGL currently.","    // Probably will not work when FXAA_GREEN_AS_LUMA = 1.","    //","    // 1 = Use discard on pixels which don't need AA.","    //     For APIs which enable concurrent TEX+ROP from same surface.","    // 0 = Return unchanged color on pixels which don't need AA.","    //","    #define FXAA_DISCARD 0","#endif","/*--------------------------------------------------------------------------*/","#ifndef FXAA_FAST_PIXEL_OFFSET","    //","    // Used for GLSL 120 only.","    //","    // 1 = GL API supports fast pixel offsets","    // 0 = do not use fast pixel offsets","    //","    #ifdef GL_EXT_gpu_shader4","        #define FXAA_FAST_PIXEL_OFFSET 1","    #endif","    #ifdef GL_NV_gpu_shader5","        #define FXAA_FAST_PIXEL_OFFSET 1","    #endif","    #ifdef GL_ARB_gpu_shader5","        #define FXAA_FAST_PIXEL_OFFSET 1","    #endif","    #ifndef FXAA_FAST_PIXEL_OFFSET","        #define FXAA_FAST_PIXEL_OFFSET 0","    #endif","#endif","/*--------------------------------------------------------------------------*/","#ifndef FXAA_GATHER4_ALPHA","    //","    // 1 = API supports gather4 on alpha channel.","    // 0 = API does not support gather4 on alpha channel.","    //","    #if (FXAA_HLSL_5 == 1)","        #define FXAA_GATHER4_ALPHA 1","    #endif","    #ifdef GL_ARB_gpu_shader5","        #define FXAA_GATHER4_ALPHA 1","    #endif","    #ifdef GL_NV_gpu_shader5","        #define FXAA_GATHER4_ALPHA 1","    #endif","    #ifndef FXAA_GATHER4_ALPHA","        #define FXAA_GATHER4_ALPHA 0","    #endif","#endif","","","/*============================================================================","                        FXAA QUALITY - TUNING KNOBS","------------------------------------------------------------------------------","NOTE the other tuning knobs are now in the shader function inputs!","============================================================================*/","#ifndef FXAA_QUALITY_PRESET","    //","    // Choose the quality preset.","    // This needs to be compiled into the shader as it effects code.","    // Best option to include multiple presets is to","    // in each shader define the preset, then include this file.","    //","    // OPTIONS","    // -----------------------------------------------------------------------","    // 10 to 15 - default medium dither (10=fastest, 15=highest quality)","    // 20 to 29 - less dither, more expensive (20=fastest, 29=highest quality)","    // 39       - no dither, very expensive","    //","    // NOTES","    // -----------------------------------------------------------------------","    // 12 = slightly faster then FXAA 3.9 and higher edge quality (default)","    // 13 = about same speed as FXAA 3.9 and better than 12","    // 23 = closest to FXAA 3.9 visually and performance wise","    //  _ = the lowest digit is directly related to performance","    // _  = the highest digit is directly related to style","    //","    #define FXAA_QUALITY_PRESET 12","#endif","","","/*============================================================================","","                           FXAA QUALITY - PRESETS","","============================================================================*/","","/*============================================================================","                     FXAA QUALITY - MEDIUM DITHER PRESETS","============================================================================*/","#if (FXAA_QUALITY_PRESET == 10)","    #define FXAA_QUALITY_PS 3","    #define FXAA_QUALITY_P0 1.5","    #define FXAA_QUALITY_P1 3.0","    #define FXAA_QUALITY_P2 12.0","#endif","/*--------------------------------------------------------------------------*/","#if (FXAA_QUALITY_PRESET == 11)","    #define FXAA_QUALITY_PS 4","    #define FXAA_QUALITY_P0 1.0","    #define FXAA_QUALITY_P1 1.5","    #define FXAA_QUALITY_P2 3.0","    #define FXAA_QUALITY_P3 12.0","#endif","/*--------------------------------------------------------------------------*/","#if (FXAA_QUALITY_PRESET == 12)","    #define FXAA_QUALITY_PS 5","    #define FXAA_QUALITY_P0 1.0","    #define FXAA_QUALITY_P1 1.5","    #define FXAA_QUALITY_P2 2.0","    #define FXAA_QUALITY_P3 4.0","    #define FXAA_QUALITY_P4 12.0","#endif","/*--------------------------------------------------------------------------*/","#if (FXAA_QUALITY_PRESET == 13)","    #define FXAA_QUALITY_PS 6","    #define FXAA_QUALITY_P0 1.0","    #define FXAA_QUALITY_P1 1.5","    #define FXAA_QUALITY_P2 2.0","    #define FXAA_QUALITY_P3 2.0","    #define FXAA_QUALITY_P4 4.0","    #define FXAA_QUALITY_P5 12.0","#endif","/*--------------------------------------------------------------------------*/","#if (FXAA_QUALITY_PRESET == 14)","    #define FXAA_QUALITY_PS 7","    #define FXAA_QUALITY_P0 1.0","    #define FXAA_QUALITY_P1 1.5","    #define FXAA_QUALITY_P2 2.0","    #define FXAA_QUALITY_P3 2.0","    #define FXAA_QUALITY_P4 2.0","    #define FXAA_QUALITY_P5 4.0","    #define FXAA_QUALITY_P6 12.0","#endif","/*--------------------------------------------------------------------------*/","#if (FXAA_QUALITY_PRESET == 15)","    #define FXAA_QUALITY_PS 8","    #define FXAA_QUALITY_P0 1.0","    #define FXAA_QUALITY_P1 1.5","    #define FXAA_QUALITY_P2 2.0","    #define FXAA_QUALITY_P3 2.0","    #define FXAA_QUALITY_P4 2.0","    #define FXAA_QUALITY_P5 2.0","    #define FXAA_QUALITY_P6 4.0","    #define FXAA_QUALITY_P7 12.0","#endif","","/*============================================================================","                     FXAA QUALITY - LOW DITHER PRESETS","============================================================================*/","#if (FXAA_QUALITY_PRESET == 20)","    #define FXAA_QUALITY_PS 3","    #define FXAA_QUALITY_P0 1.5","    #define FXAA_QUALITY_P1 2.0","    #define FXAA_QUALITY_P2 8.0","#endif","/*--------------------------------------------------------------------------*/","#if (FXAA_QUALITY_PRESET == 21)","    #define FXAA_QUALITY_PS 4","    #define FXAA_QUALITY_P0 1.0","    #define FXAA_QUALITY_P1 1.5","    #define FXAA_QUALITY_P2 2.0","    #define FXAA_QUALITY_P3 8.0","#endif","/*--------------------------------------------------------------------------*/","#if (FXAA_QUALITY_PRESET == 22)","    #define FXAA_QUALITY_PS 5","    #define FXAA_QUALITY_P0 1.0","    #define FXAA_QUALITY_P1 1.5","    #define FXAA_QUALITY_P2 2.0","    #define FXAA_QUALITY_P3 2.0","    #define FXAA_QUALITY_P4 8.0","#endif","/*--------------------------------------------------------------------------*/","#if (FXAA_QUALITY_PRESET == 23)","    #define FXAA_QUALITY_PS 6","    #define FXAA_QUALITY_P0 1.0","    #define FXAA_QUALITY_P1 1.5","    #define FXAA_QUALITY_P2 2.0","    #define FXAA_QUALITY_P3 2.0","    #define FXAA_QUALITY_P4 2.0","    #define FXAA_QUALITY_P5 8.0","#endif","/*--------------------------------------------------------------------------*/","#if (FXAA_QUALITY_PRESET == 24)","    #define FXAA_QUALITY_PS 7","    #define FXAA_QUALITY_P0 1.0","    #define FXAA_QUALITY_P1 1.5","    #define FXAA_QUALITY_P2 2.0","    #define FXAA_QUALITY_P3 2.0","    #define FXAA_QUALITY_P4 2.0","    #define FXAA_QUALITY_P5 3.0","    #define FXAA_QUALITY_P6 8.0","#endif","/*--------------------------------------------------------------------------*/","#if (FXAA_QUALITY_PRESET == 25)","    #define FXAA_QUALITY_PS 8","    #define FXAA_QUALITY_P0 1.0","    #define FXAA_QUALITY_P1 1.5","    #define FXAA_QUALITY_P2 2.0","    #define FXAA_QUALITY_P3 2.0","    #define FXAA_QUALITY_P4 2.0","    #define FXAA_QUALITY_P5 2.0","    #define FXAA_QUALITY_P6 4.0","    #define FXAA_QUALITY_P7 8.0","#endif","/*--------------------------------------------------------------------------*/","#if (FXAA_QUALITY_PRESET == 26)","    #define FXAA_QUALITY_PS 9","    #define FXAA_QUALITY_P0 1.0","    #define FXAA_QUALITY_P1 1.5","    #define FXAA_QUALITY_P2 2.0","    #define FXAA_QUALITY_P3 2.0","    #define FXAA_QUALITY_P4 2.0","    #define FXAA_QUALITY_P5 2.0","    #define FXAA_QUALITY_P6 2.0","    #define FXAA_QUALITY_P7 4.0","    #define FXAA_QUALITY_P8 8.0","#endif","/*--------------------------------------------------------------------------*/","#if (FXAA_QUALITY_PRESET == 27)","    #define FXAA_QUALITY_PS 10","    #define FXAA_QUALITY_P0 1.0","    #define FXAA_QUALITY_P1 1.5","    #define FXAA_QUALITY_P2 2.0","    #define FXAA_QUALITY_P3 2.0","    #define FXAA_QUALITY_P4 2.0","    #define FXAA_QUALITY_P5 2.0","    #define FXAA_QUALITY_P6 2.0","    #define FXAA_QUALITY_P7 2.0","    #define FXAA_QUALITY_P8 4.0","    #define FXAA_QUALITY_P9 8.0","#endif","/*--------------------------------------------------------------------------*/","#if (FXAA_QUALITY_PRESET == 28)","    #define FXAA_QUALITY_PS 11","    #define FXAA_QUALITY_P0 1.0","    #define FXAA_QUALITY_P1 1.5","    #define FXAA_QUALITY_P2 2.0","    #define FXAA_QUALITY_P3 2.0","    #define FXAA_QUALITY_P4 2.0","    #define FXAA_QUALITY_P5 2.0","    #define FXAA_QUALITY_P6 2.0","    #define FXAA_QUALITY_P7 2.0","    #define FXAA_QUALITY_P8 2.0","    #define FXAA_QUALITY_P9 4.0","    #define FXAA_QUALITY_P10 8.0","#endif","/*--------------------------------------------------------------------------*/","#if (FXAA_QUALITY_PRESET == 29)","    #define FXAA_QUALITY_PS 12","    #define FXAA_QUALITY_P0 1.0","    #define FXAA_QUALITY_P1 1.5","    #define FXAA_QUALITY_P2 2.0","    #define FXAA_QUALITY_P3 2.0","    #define FXAA_QUALITY_P4 2.0","    #define FXAA_QUALITY_P5 2.0","    #define FXAA_QUALITY_P6 2.0","    #define FXAA_QUALITY_P7 2.0","    #define FXAA_QUALITY_P8 2.0","    #define FXAA_QUALITY_P9 2.0","    #define FXAA_QUALITY_P10 4.0","    #define FXAA_QUALITY_P11 8.0","#endif","","/*============================================================================","                     FXAA QUALITY - EXTREME QUALITY","============================================================================*/","#if (FXAA_QUALITY_PRESET == 39)","    #define FXAA_QUALITY_PS 12","    #define FXAA_QUALITY_P0 1.0","    #define FXAA_QUALITY_P1 1.0","    #define FXAA_QUALITY_P2 1.0","    #define FXAA_QUALITY_P3 1.0","    #define FXAA_QUALITY_P4 1.0","    #define FXAA_QUALITY_P5 1.5","    #define FXAA_QUALITY_P6 2.0","    #define FXAA_QUALITY_P7 2.0","    #define FXAA_QUALITY_P8 2.0","    #define FXAA_QUALITY_P9 2.0","    #define FXAA_QUALITY_P10 4.0","    #define FXAA_QUALITY_P11 8.0","#endif","","","","/*============================================================================","","                                API PORTING","","============================================================================*/","#if (FXAA_GLSL_100 == 1) || (FXAA_GLSL_120 == 1) || (FXAA_GLSL_130 == 1)","    #define FxaaBool bool","    #define FxaaDiscard discard","    #define FxaaFloat float","    #define FxaaFloat2 vec2","    #define FxaaFloat3 vec3","    #define FxaaFloat4 vec4","    #define FxaaHalf float","    #define FxaaHalf2 vec2","    #define FxaaHalf3 vec3","    #define FxaaHalf4 vec4","    #define FxaaInt2 ivec2","    #define FxaaSat(x) clamp(x, 0.0, 1.0)","    #define FxaaTex sampler2D","#else","    #define FxaaBool bool","    #define FxaaDiscard clip(-1)","    #define FxaaFloat float","    #define FxaaFloat2 float2","    #define FxaaFloat3 float3","    #define FxaaFloat4 float4","    #define FxaaHalf half","    #define FxaaHalf2 half2","    #define FxaaHalf3 half3","    #define FxaaHalf4 half4","    #define FxaaSat(x) saturate(x)","#endif","/*--------------------------------------------------------------------------*/","#if (FXAA_GLSL_100 == 1)","  #define FxaaTexTop(t, p) texture2D(t, p, 0.0)","  #define FxaaTexOff(t, p, o, r) texture2D(t, p + (o * r), 0.0)","#endif","/*--------------------------------------------------------------------------*/","#if (FXAA_GLSL_120 == 1)","    // Requires,","    //  #version 120","    // And at least,","    //  #extension GL_EXT_gpu_shader4 : enable","    //  (or set FXAA_FAST_PIXEL_OFFSET 1 to work like DX9)","    #define FxaaTexTop(t, p) texture2DLod(t, p, 0.0)","    #if (FXAA_FAST_PIXEL_OFFSET == 1)","        #define FxaaTexOff(t, p, o, r) texture2DLodOffset(t, p, 0.0, o)","    #else","        #define FxaaTexOff(t, p, o, r) texture2DLod(t, p + (o * r), 0.0)","    #endif","    #if (FXAA_GATHER4_ALPHA == 1)","        // use #extension GL_ARB_gpu_shader5 : enable","        #define FxaaTexAlpha4(t, p) textureGather(t, p, 3)","        #define FxaaTexOffAlpha4(t, p, o) textureGatherOffset(t, p, o, 3)","        #define FxaaTexGreen4(t, p) textureGather(t, p, 1)","        #define FxaaTexOffGreen4(t, p, o) textureGatherOffset(t, p, o, 1)","    #endif","#endif","/*--------------------------------------------------------------------------*/","#if (FXAA_GLSL_130 == 1)",'    // Requires "#version 130" or better',"    #define FxaaTexTop(t, p) textureLod(t, p, 0.0)","    #define FxaaTexOff(t, p, o, r) textureLodOffset(t, p, 0.0, o)","    #if (FXAA_GATHER4_ALPHA == 1)","        // use #extension GL_ARB_gpu_shader5 : enable","        #define FxaaTexAlpha4(t, p) textureGather(t, p, 3)","        #define FxaaTexOffAlpha4(t, p, o) textureGatherOffset(t, p, o, 3)","        #define FxaaTexGreen4(t, p) textureGather(t, p, 1)","        #define FxaaTexOffGreen4(t, p, o) textureGatherOffset(t, p, o, 1)","    #endif","#endif","/*--------------------------------------------------------------------------*/","#if (FXAA_HLSL_3 == 1)","    #define FxaaInt2 float2","    #define FxaaTex sampler2D","    #define FxaaTexTop(t, p) tex2Dlod(t, float4(p, 0.0, 0.0))","    #define FxaaTexOff(t, p, o, r) tex2Dlod(t, float4(p + (o * r), 0, 0))","#endif","/*--------------------------------------------------------------------------*/","#if (FXAA_HLSL_4 == 1)","    #define FxaaInt2 int2","    struct FxaaTex { SamplerState smpl; Texture2D tex; };","    #define FxaaTexTop(t, p) t.tex.SampleLevel(t.smpl, p, 0.0)","    #define FxaaTexOff(t, p, o, r) t.tex.SampleLevel(t.smpl, p, 0.0, o)","#endif","/*--------------------------------------------------------------------------*/","#if (FXAA_HLSL_5 == 1)","    #define FxaaInt2 int2","    struct FxaaTex { SamplerState smpl; Texture2D tex; };","    #define FxaaTexTop(t, p) t.tex.SampleLevel(t.smpl, p, 0.0)","    #define FxaaTexOff(t, p, o, r) t.tex.SampleLevel(t.smpl, p, 0.0, o)","    #define FxaaTexAlpha4(t, p) t.tex.GatherAlpha(t.smpl, p)","    #define FxaaTexOffAlpha4(t, p, o) t.tex.GatherAlpha(t.smpl, p, o)","    #define FxaaTexGreen4(t, p) t.tex.GatherGreen(t.smpl, p)","    #define FxaaTexOffGreen4(t, p, o) t.tex.GatherGreen(t.smpl, p, o)","#endif","","","/*============================================================================","                   GREEN AS LUMA OPTION SUPPORT FUNCTION","============================================================================*/","#if (FXAA_GREEN_AS_LUMA == 0)","    FxaaFloat FxaaLuma(FxaaFloat4 rgba) { return rgba.w; }","#else","    FxaaFloat FxaaLuma(FxaaFloat4 rgba) { return rgba.y; }","#endif","","","","","/*============================================================================","","                             FXAA3 QUALITY - PC","","============================================================================*/","#if (FXAA_PC == 1)","/*--------------------------------------------------------------------------*/","FxaaFloat4 FxaaPixelShader(","    //","    // Use noperspective interpolation here (turn off perspective interpolation).","    // {xy} = center of pixel","    FxaaFloat2 pos,","    //","    // Used only for FXAA Console, and not used on the 360 version.","    // Use noperspective interpolation here (turn off perspective interpolation).","    // {xy_} = upper left of pixel","    // {_zw} = lower right of pixel","    FxaaFloat4 fxaaConsolePosPos,","    //","    // Input color texture.","    // {rgb_} = color in linear or perceptual color space","    // if (FXAA_GREEN_AS_LUMA == 0)","    //     {__a} = luma in perceptual color space (not linear)","    FxaaTex tex,","    //","    // Only used on the optimized 360 version of FXAA Console.",'    // For everything but 360, just use the same input here as for "tex".',"    // For 360, same texture, just alias with a 2nd sampler.","    // This sampler needs to have an exponent bias of -1.","    FxaaTex fxaaConsole360TexExpBiasNegOne,","    //","    // Only used on the optimized 360 version of FXAA Console.",'    // For everything but 360, just use the same input here as for "tex".',"    // For 360, same texture, just alias with a 3nd sampler.","    // This sampler needs to have an exponent bias of -2.","    FxaaTex fxaaConsole360TexExpBiasNegTwo,","    //","    // Only used on FXAA Quality.","    // This must be from a constant/uniform.","    // {x_} = 1.0/screenWidthInPixels","    // {_y} = 1.0/screenHeightInPixels","    FxaaFloat2 fxaaQualityRcpFrame,","    //","    // Only used on FXAA Console.","    // This must be from a constant/uniform.","    // This effects sub-pixel AA quality and inversely sharpness.","    //   Where N ranges between,","    //     N = 0.50 (default)","    //     N = 0.33 (sharper)","    // {x__} = -N/screenWidthInPixels","    // {_y_} = -N/screenHeightInPixels","    // {_z_} =  N/screenWidthInPixels","    // {__w} =  N/screenHeightInPixels","    FxaaFloat4 fxaaConsoleRcpFrameOpt,","    //","    // Only used on FXAA Console.","    // Not used on 360, but used on PS3 and PC.","    // This must be from a constant/uniform.","    // {x__} = -2.0/screenWidthInPixels","    // {_y_} = -2.0/screenHeightInPixels","    // {_z_} =  2.0/screenWidthInPixels","    // {__w} =  2.0/screenHeightInPixels","    FxaaFloat4 fxaaConsoleRcpFrameOpt2,","    //","    // Only used on FXAA Console.","    // Only used on 360 in place of fxaaConsoleRcpFrameOpt2.","    // This must be from a constant/uniform.","    // {x__} =  8.0/screenWidthInPixels","    // {_y_} =  8.0/screenHeightInPixels","    // {_z_} = -4.0/screenWidthInPixels","    // {__w} = -4.0/screenHeightInPixels","    FxaaFloat4 fxaaConsole360RcpFrameOpt2,","    //","    // Only used on FXAA Quality.","    // This used to be the FXAA_QUALITY_SUBPIX define.","    // It is here now to allow easier tuning.","    // Choose the amount of sub-pixel aliasing removal.","    // This can effect sharpness.","    //   1.00 - upper limit (softer)","    //   0.75 - default amount of filtering","    //   0.50 - lower limit (sharper, less sub-pixel aliasing removal)","    //   0.25 - almost off","    //   0.00 - completely off","    FxaaFloat fxaaQualitySubpix,","    //","    // Only used on FXAA Quality.","    // This used to be the FXAA_QUALITY_EDGE_THRESHOLD define.","    // It is here now to allow easier tuning.","    // The minimum amount of local contrast required to apply algorithm.","    //   0.333 - too little (faster)","    //   0.250 - low quality","    //   0.166 - default","    //   0.125 - high quality","    //   0.063 - overkill (slower)","    FxaaFloat fxaaQualityEdgeThreshold,","    //","    // Only used on FXAA Quality.","    // This used to be the FXAA_QUALITY_EDGE_THRESHOLD_MIN define.","    // It is here now to allow easier tuning.","    // Trims the algorithm from processing darks.","    //   0.0833 - upper limit (default, the start of visible unfiltered edges)","    //   0.0625 - high quality (faster)","    //   0.0312 - visible limit (slower)","    // Special notes when using FXAA_GREEN_AS_LUMA,","    //   Likely want to set this to zero.","    //   As colors that are mostly not-green","    //   will appear very dark in the green channel!","    //   Tune by looking at mostly non-green content,","    //   then start at zero and increase until aliasing is a problem.","    FxaaFloat fxaaQualityEdgeThresholdMin,","    //","    // Only used on FXAA Console.","    // This used to be the FXAA_CONSOLE_EDGE_SHARPNESS define.","    // It is here now to allow easier tuning.","    // This does not effect PS3, as this needs to be compiled in.","    //   Use FXAA_CONSOLE_PS3_EDGE_SHARPNESS for PS3.","    //   Due to the PS3 being ALU bound,","    //   there are only three safe values here: 2 and 4 and 8.","    //   These options use the shaders ability to a free *|/ by 2|4|8.","    // For all other platforms can be a non-power of two.","    //   8.0 is sharper (default!!!)","    //   4.0 is softer","    //   2.0 is really soft (good only for vector graphics inputs)","    FxaaFloat fxaaConsoleEdgeSharpness,","    //","    // Only used on FXAA Console.","    // This used to be the FXAA_CONSOLE_EDGE_THRESHOLD define.","    // It is here now to allow easier tuning.","    // This does not effect PS3, as this needs to be compiled in.","    //   Use FXAA_CONSOLE_PS3_EDGE_THRESHOLD for PS3.","    //   Due to the PS3 being ALU bound,","    //   there are only two safe values here: 1/4 and 1/8.","    //   These options use the shaders ability to a free *|/ by 2|4|8.","    // The console setting has a different mapping than the quality setting.","    // Other platforms can use other values.","    //   0.125 leaves less aliasing, but is softer (default!!!)","    //   0.25 leaves more aliasing, and is sharper","    FxaaFloat fxaaConsoleEdgeThreshold,","    //","    // Only used on FXAA Console.","    // This used to be the FXAA_CONSOLE_EDGE_THRESHOLD_MIN define.","    // It is here now to allow easier tuning.","    // Trims the algorithm from processing darks.","    // The console setting has a different mapping than the quality setting.","    // This only applies when FXAA_EARLY_EXIT is 1.","    // This does not apply to PS3,","    // PS3 was simplified to avoid more shader instructions.","    //   0.06 - faster but more aliasing in darks","    //   0.05 - default","    //   0.04 - slower and less aliasing in darks","    // Special notes when using FXAA_GREEN_AS_LUMA,","    //   Likely want to set this to zero.","    //   As colors that are mostly not-green","    //   will appear very dark in the green channel!","    //   Tune by looking at mostly non-green content,","    //   then start at zero and increase until aliasing is a problem.","    FxaaFloat fxaaConsoleEdgeThresholdMin,","    //","    // Extra constants for 360 FXAA Console only.","    // Use zeros or anything else for other platforms.","    // These must be in physical constant registers and NOT immediates.","    // Immediates will result in compiler un-optimizing.","    // {xyzw} = float4(1.0, -1.0, 0.25, -0.25)","    FxaaFloat4 fxaaConsole360ConstDir",") {","/*--------------------------------------------------------------------------*/","    FxaaFloat2 posM;","    posM.x = pos.x;","    posM.y = pos.y;","    #if (FXAA_GATHER4_ALPHA == 1)","        #if (FXAA_DISCARD == 0)","            FxaaFloat4 rgbyM = FxaaTexTop(tex, posM);","            #if (FXAA_GREEN_AS_LUMA == 0)","                #define lumaM rgbyM.w","            #else","                #define lumaM rgbyM.y","            #endif","        #endif","        #if (FXAA_GREEN_AS_LUMA == 0)","            FxaaFloat4 luma4A = FxaaTexAlpha4(tex, posM);","            FxaaFloat4 luma4B = FxaaTexOffAlpha4(tex, posM, FxaaInt2(-1, -1));","        #else","            FxaaFloat4 luma4A = FxaaTexGreen4(tex, posM);","            FxaaFloat4 luma4B = FxaaTexOffGreen4(tex, posM, FxaaInt2(-1, -1));","        #endif","        #if (FXAA_DISCARD == 1)","            #define lumaM luma4A.w","        #endif","        #define lumaE luma4A.z","        #define lumaS luma4A.x","        #define lumaSE luma4A.y","        #define lumaNW luma4B.w","        #define lumaN luma4B.z","        #define lumaW luma4B.x","    #else","        FxaaFloat4 rgbyM = FxaaTexTop(tex, posM);","        #if (FXAA_GREEN_AS_LUMA == 0)","            #define lumaM rgbyM.w","        #else","            #define lumaM rgbyM.y","        #endif","        #if (FXAA_GLSL_100 == 1)","          FxaaFloat lumaS = FxaaLuma(FxaaTexOff(tex, posM, FxaaFloat2( 0.0, 1.0), fxaaQualityRcpFrame.xy));","          FxaaFloat lumaE = FxaaLuma(FxaaTexOff(tex, posM, FxaaFloat2( 1.0, 0.0), fxaaQualityRcpFrame.xy));","          FxaaFloat lumaN = FxaaLuma(FxaaTexOff(tex, posM, FxaaFloat2( 0.0,-1.0), fxaaQualityRcpFrame.xy));","          FxaaFloat lumaW = FxaaLuma(FxaaTexOff(tex, posM, FxaaFloat2(-1.0, 0.0), fxaaQualityRcpFrame.xy));","        #else","          FxaaFloat lumaS = FxaaLuma(FxaaTexOff(tex, posM, FxaaInt2( 0, 1), fxaaQualityRcpFrame.xy));","          FxaaFloat lumaE = FxaaLuma(FxaaTexOff(tex, posM, FxaaInt2( 1, 0), fxaaQualityRcpFrame.xy));","          FxaaFloat lumaN = FxaaLuma(FxaaTexOff(tex, posM, FxaaInt2( 0,-1), fxaaQualityRcpFrame.xy));","          FxaaFloat lumaW = FxaaLuma(FxaaTexOff(tex, posM, FxaaInt2(-1, 0), fxaaQualityRcpFrame.xy));","        #endif","    #endif","/*--------------------------------------------------------------------------*/","    FxaaFloat maxSM = max(lumaS, lumaM);","    FxaaFloat minSM = min(lumaS, lumaM);","    FxaaFloat maxESM = max(lumaE, maxSM);","    FxaaFloat minESM = min(lumaE, minSM);","    FxaaFloat maxWN = max(lumaN, lumaW);","    FxaaFloat minWN = min(lumaN, lumaW);","    FxaaFloat rangeMax = max(maxWN, maxESM);","    FxaaFloat rangeMin = min(minWN, minESM);","    FxaaFloat rangeMaxScaled = rangeMax * fxaaQualityEdgeThreshold;","    FxaaFloat range = rangeMax - rangeMin;","    FxaaFloat rangeMaxClamped = max(fxaaQualityEdgeThresholdMin, rangeMaxScaled);","    FxaaBool earlyExit = range < rangeMaxClamped;","/*--------------------------------------------------------------------------*/","    if(earlyExit)","        #if (FXAA_DISCARD == 1)","            FxaaDiscard;","        #else","            return rgbyM;","        #endif","/*--------------------------------------------------------------------------*/","    #if (FXAA_GATHER4_ALPHA == 0)","        #if (FXAA_GLSL_100 == 1)","          FxaaFloat lumaNW = FxaaLuma(FxaaTexOff(tex, posM, FxaaFloat2(-1.0,-1.0), fxaaQualityRcpFrame.xy));","          FxaaFloat lumaSE = FxaaLuma(FxaaTexOff(tex, posM, FxaaFloat2( 1.0, 1.0), fxaaQualityRcpFrame.xy));","          FxaaFloat lumaNE = FxaaLuma(FxaaTexOff(tex, posM, FxaaFloat2( 1.0,-1.0), fxaaQualityRcpFrame.xy));","          FxaaFloat lumaSW = FxaaLuma(FxaaTexOff(tex, posM, FxaaFloat2(-1.0, 1.0), fxaaQualityRcpFrame.xy));","        #else","          FxaaFloat lumaNW = FxaaLuma(FxaaTexOff(tex, posM, FxaaInt2(-1,-1), fxaaQualityRcpFrame.xy));","          FxaaFloat lumaSE = FxaaLuma(FxaaTexOff(tex, posM, FxaaInt2( 1, 1), fxaaQualityRcpFrame.xy));","          FxaaFloat lumaNE = FxaaLuma(FxaaTexOff(tex, posM, FxaaInt2( 1,-1), fxaaQualityRcpFrame.xy));","          FxaaFloat lumaSW = FxaaLuma(FxaaTexOff(tex, posM, FxaaInt2(-1, 1), fxaaQualityRcpFrame.xy));","        #endif","    #else","        FxaaFloat lumaNE = FxaaLuma(FxaaTexOff(tex, posM, FxaaInt2(1, -1), fxaaQualityRcpFrame.xy));","        FxaaFloat lumaSW = FxaaLuma(FxaaTexOff(tex, posM, FxaaInt2(-1, 1), fxaaQualityRcpFrame.xy));","    #endif","/*--------------------------------------------------------------------------*/","    FxaaFloat lumaNS = lumaN + lumaS;","    FxaaFloat lumaWE = lumaW + lumaE;","    FxaaFloat subpixRcpRange = 1.0/range;","    FxaaFloat subpixNSWE = lumaNS + lumaWE;","    FxaaFloat edgeHorz1 = (-2.0 * lumaM) + lumaNS;","    FxaaFloat edgeVert1 = (-2.0 * lumaM) + lumaWE;","/*--------------------------------------------------------------------------*/","    FxaaFloat lumaNESE = lumaNE + lumaSE;","    FxaaFloat lumaNWNE = lumaNW + lumaNE;","    FxaaFloat edgeHorz2 = (-2.0 * lumaE) + lumaNESE;","    FxaaFloat edgeVert2 = (-2.0 * lumaN) + lumaNWNE;","/*--------------------------------------------------------------------------*/","    FxaaFloat lumaNWSW = lumaNW + lumaSW;","    FxaaFloat lumaSWSE = lumaSW + lumaSE;","    FxaaFloat edgeHorz4 = (abs(edgeHorz1) * 2.0) + abs(edgeHorz2);","    FxaaFloat edgeVert4 = (abs(edgeVert1) * 2.0) + abs(edgeVert2);","    FxaaFloat edgeHorz3 = (-2.0 * lumaW) + lumaNWSW;","    FxaaFloat edgeVert3 = (-2.0 * lumaS) + lumaSWSE;","    FxaaFloat edgeHorz = abs(edgeHorz3) + edgeHorz4;","    FxaaFloat edgeVert = abs(edgeVert3) + edgeVert4;","/*--------------------------------------------------------------------------*/","    FxaaFloat subpixNWSWNESE = lumaNWSW + lumaNESE;","    FxaaFloat lengthSign = fxaaQualityRcpFrame.x;","    FxaaBool horzSpan = edgeHorz >= edgeVert;","    FxaaFloat subpixA = subpixNSWE * 2.0 + subpixNWSWNESE;","/*--------------------------------------------------------------------------*/","    if(!horzSpan) lumaN = lumaW;","    if(!horzSpan) lumaS = lumaE;","    if(horzSpan) lengthSign = fxaaQualityRcpFrame.y;","    FxaaFloat subpixB = (subpixA * (1.0/12.0)) - lumaM;","/*--------------------------------------------------------------------------*/","    FxaaFloat gradientN = lumaN - lumaM;","    FxaaFloat gradientS = lumaS - lumaM;","    FxaaFloat lumaNN = lumaN + lumaM;","    FxaaFloat lumaSS = lumaS + lumaM;","    FxaaBool pairN = abs(gradientN) >= abs(gradientS);","    FxaaFloat gradient = max(abs(gradientN), abs(gradientS));","    if(pairN) lengthSign = -lengthSign;","    FxaaFloat subpixC = FxaaSat(abs(subpixB) * subpixRcpRange);","/*--------------------------------------------------------------------------*/","    FxaaFloat2 posB;","    posB.x = posM.x;","    posB.y = posM.y;","    FxaaFloat2 offNP;","    offNP.x = (!horzSpan) ? 0.0 : fxaaQualityRcpFrame.x;","    offNP.y = ( horzSpan) ? 0.0 : fxaaQualityRcpFrame.y;","    if(!horzSpan) posB.x += lengthSign * 0.5;","    if( horzSpan) posB.y += lengthSign * 0.5;","/*--------------------------------------------------------------------------*/","    FxaaFloat2 posN;","    posN.x = posB.x - offNP.x * FXAA_QUALITY_P0;","    posN.y = posB.y - offNP.y * FXAA_QUALITY_P0;","    FxaaFloat2 posP;","    posP.x = posB.x + offNP.x * FXAA_QUALITY_P0;","    posP.y = posB.y + offNP.y * FXAA_QUALITY_P0;","    FxaaFloat subpixD = ((-2.0)*subpixC) + 3.0;","    FxaaFloat lumaEndN = FxaaLuma(FxaaTexTop(tex, posN));","    FxaaFloat subpixE = subpixC * subpixC;","    FxaaFloat lumaEndP = FxaaLuma(FxaaTexTop(tex, posP));","/*--------------------------------------------------------------------------*/","    if(!pairN) lumaNN = lumaSS;","    FxaaFloat gradientScaled = gradient * 1.0/4.0;","    FxaaFloat lumaMM = lumaM - lumaNN * 0.5;","    FxaaFloat subpixF = subpixD * subpixE;","    FxaaBool lumaMLTZero = lumaMM < 0.0;","/*--------------------------------------------------------------------------*/","    lumaEndN -= lumaNN * 0.5;","    lumaEndP -= lumaNN * 0.5;","    FxaaBool doneN = abs(lumaEndN) >= gradientScaled;","    FxaaBool doneP = abs(lumaEndP) >= gradientScaled;","    if(!doneN) posN.x -= offNP.x * FXAA_QUALITY_P1;","    if(!doneN) posN.y -= offNP.y * FXAA_QUALITY_P1;","    FxaaBool doneNP = (!doneN) || (!doneP);","    if(!doneP) posP.x += offNP.x * FXAA_QUALITY_P1;","    if(!doneP) posP.y += offNP.y * FXAA_QUALITY_P1;","/*--------------------------------------------------------------------------*/","    if(doneNP) {","        if(!doneN) lumaEndN = FxaaLuma(FxaaTexTop(tex, posN.xy));","        if(!doneP) lumaEndP = FxaaLuma(FxaaTexTop(tex, posP.xy));","        if(!doneN) lumaEndN = lumaEndN - lumaNN * 0.5;","        if(!doneP) lumaEndP = lumaEndP - lumaNN * 0.5;","        doneN = abs(lumaEndN) >= gradientScaled;","        doneP = abs(lumaEndP) >= gradientScaled;","        if(!doneN) posN.x -= offNP.x * FXAA_QUALITY_P2;","        if(!doneN) posN.y -= offNP.y * FXAA_QUALITY_P2;","        doneNP = (!doneN) || (!doneP);","        if(!doneP) posP.x += offNP.x * FXAA_QUALITY_P2;","        if(!doneP) posP.y += offNP.y * FXAA_QUALITY_P2;","/*--------------------------------------------------------------------------*/","        #if (FXAA_QUALITY_PS > 3)","        if(doneNP) {","            if(!doneN) lumaEndN = FxaaLuma(FxaaTexTop(tex, posN.xy));","            if(!doneP) lumaEndP = FxaaLuma(FxaaTexTop(tex, posP.xy));","            if(!doneN) lumaEndN = lumaEndN - lumaNN * 0.5;","            if(!doneP) lumaEndP = lumaEndP - lumaNN * 0.5;","            doneN = abs(lumaEndN) >= gradientScaled;","            doneP = abs(lumaEndP) >= gradientScaled;","            if(!doneN) posN.x -= offNP.x * FXAA_QUALITY_P3;","            if(!doneN) posN.y -= offNP.y * FXAA_QUALITY_P3;","            doneNP = (!doneN) || (!doneP);","            if(!doneP) posP.x += offNP.x * FXAA_QUALITY_P3;","            if(!doneP) posP.y += offNP.y * FXAA_QUALITY_P3;","/*--------------------------------------------------------------------------*/","            #if (FXAA_QUALITY_PS > 4)","            if(doneNP) {","                if(!doneN) lumaEndN = FxaaLuma(FxaaTexTop(tex, posN.xy));","                if(!doneP) lumaEndP = FxaaLuma(FxaaTexTop(tex, posP.xy));","                if(!doneN) lumaEndN = lumaEndN - lumaNN * 0.5;","                if(!doneP) lumaEndP = lumaEndP - lumaNN * 0.5;","                doneN = abs(lumaEndN) >= gradientScaled;","                doneP = abs(lumaEndP) >= gradientScaled;","                if(!doneN) posN.x -= offNP.x * FXAA_QUALITY_P4;","                if(!doneN) posN.y -= offNP.y * FXAA_QUALITY_P4;","                doneNP = (!doneN) || (!doneP);","                if(!doneP) posP.x += offNP.x * FXAA_QUALITY_P4;","                if(!doneP) posP.y += offNP.y * FXAA_QUALITY_P4;","/*--------------------------------------------------------------------------*/","                #if (FXAA_QUALITY_PS > 5)","                if(doneNP) {","                    if(!doneN) lumaEndN = FxaaLuma(FxaaTexTop(tex, posN.xy));","                    if(!doneP) lumaEndP = FxaaLuma(FxaaTexTop(tex, posP.xy));","                    if(!doneN) lumaEndN = lumaEndN - lumaNN * 0.5;","                    if(!doneP) lumaEndP = lumaEndP - lumaNN * 0.5;","                    doneN = abs(lumaEndN) >= gradientScaled;","                    doneP = abs(lumaEndP) >= gradientScaled;","                    if(!doneN) posN.x -= offNP.x * FXAA_QUALITY_P5;","                    if(!doneN) posN.y -= offNP.y * FXAA_QUALITY_P5;","                    doneNP = (!doneN) || (!doneP);","                    if(!doneP) posP.x += offNP.x * FXAA_QUALITY_P5;","                    if(!doneP) posP.y += offNP.y * FXAA_QUALITY_P5;","/*--------------------------------------------------------------------------*/","                    #if (FXAA_QUALITY_PS > 6)","                    if(doneNP) {","                        if(!doneN) lumaEndN = FxaaLuma(FxaaTexTop(tex, posN.xy));","                        if(!doneP) lumaEndP = FxaaLuma(FxaaTexTop(tex, posP.xy));","                        if(!doneN) lumaEndN = lumaEndN - lumaNN * 0.5;","                        if(!doneP) lumaEndP = lumaEndP - lumaNN * 0.5;","                        doneN = abs(lumaEndN) >= gradientScaled;","                        doneP = abs(lumaEndP) >= gradientScaled;","                        if(!doneN) posN.x -= offNP.x * FXAA_QUALITY_P6;","                        if(!doneN) posN.y -= offNP.y * FXAA_QUALITY_P6;","                        doneNP = (!doneN) || (!doneP);","                        if(!doneP) posP.x += offNP.x * FXAA_QUALITY_P6;","                        if(!doneP) posP.y += offNP.y * FXAA_QUALITY_P6;","/*--------------------------------------------------------------------------*/","                        #if (FXAA_QUALITY_PS > 7)","                        if(doneNP) {","                            if(!doneN) lumaEndN = FxaaLuma(FxaaTexTop(tex, posN.xy));","                            if(!doneP) lumaEndP = FxaaLuma(FxaaTexTop(tex, posP.xy));","                            if(!doneN) lumaEndN = lumaEndN - lumaNN * 0.5;","                            if(!doneP) lumaEndP = lumaEndP - lumaNN * 0.5;","                            doneN = abs(lumaEndN) >= gradientScaled;","                            doneP = abs(lumaEndP) >= gradientScaled;","                            if(!doneN) posN.x -= offNP.x * FXAA_QUALITY_P7;","                            if(!doneN) posN.y -= offNP.y * FXAA_QUALITY_P7;","                            doneNP = (!doneN) || (!doneP);","                            if(!doneP) posP.x += offNP.x * FXAA_QUALITY_P7;","                            if(!doneP) posP.y += offNP.y * FXAA_QUALITY_P7;","/*--------------------------------------------------------------------------*/","    #if (FXAA_QUALITY_PS > 8)","    if(doneNP) {","        if(!doneN) lumaEndN = FxaaLuma(FxaaTexTop(tex, posN.xy));","        if(!doneP) lumaEndP = FxaaLuma(FxaaTexTop(tex, posP.xy));","        if(!doneN) lumaEndN = lumaEndN - lumaNN * 0.5;","        if(!doneP) lumaEndP = lumaEndP - lumaNN * 0.5;","        doneN = abs(lumaEndN) >= gradientScaled;","        doneP = abs(lumaEndP) >= gradientScaled;","        if(!doneN) posN.x -= offNP.x * FXAA_QUALITY_P8;","        if(!doneN) posN.y -= offNP.y * FXAA_QUALITY_P8;","        doneNP = (!doneN) || (!doneP);","        if(!doneP) posP.x += offNP.x * FXAA_QUALITY_P8;","        if(!doneP) posP.y += offNP.y * FXAA_QUALITY_P8;","/*--------------------------------------------------------------------------*/","        #if (FXAA_QUALITY_PS > 9)","        if(doneNP) {","            if(!doneN) lumaEndN = FxaaLuma(FxaaTexTop(tex, posN.xy));","            if(!doneP) lumaEndP = FxaaLuma(FxaaTexTop(tex, posP.xy));","            if(!doneN) lumaEndN = lumaEndN - lumaNN * 0.5;","            if(!doneP) lumaEndP = lumaEndP - lumaNN * 0.5;","            doneN = abs(lumaEndN) >= gradientScaled;","            doneP = abs(lumaEndP) >= gradientScaled;","            if(!doneN) posN.x -= offNP.x * FXAA_QUALITY_P9;","            if(!doneN) posN.y -= offNP.y * FXAA_QUALITY_P9;","            doneNP = (!doneN) || (!doneP);","            if(!doneP) posP.x += offNP.x * FXAA_QUALITY_P9;","            if(!doneP) posP.y += offNP.y * FXAA_QUALITY_P9;","/*--------------------------------------------------------------------------*/","            #if (FXAA_QUALITY_PS > 10)","            if(doneNP) {","                if(!doneN) lumaEndN = FxaaLuma(FxaaTexTop(tex, posN.xy));","                if(!doneP) lumaEndP = FxaaLuma(FxaaTexTop(tex, posP.xy));","                if(!doneN) lumaEndN = lumaEndN - lumaNN * 0.5;","                if(!doneP) lumaEndP = lumaEndP - lumaNN * 0.5;","                doneN = abs(lumaEndN) >= gradientScaled;","                doneP = abs(lumaEndP) >= gradientScaled;","                if(!doneN) posN.x -= offNP.x * FXAA_QUALITY_P10;","                if(!doneN) posN.y -= offNP.y * FXAA_QUALITY_P10;","                doneNP = (!doneN) || (!doneP);","                if(!doneP) posP.x += offNP.x * FXAA_QUALITY_P10;","                if(!doneP) posP.y += offNP.y * FXAA_QUALITY_P10;","/*--------------------------------------------------------------------------*/","                #if (FXAA_QUALITY_PS > 11)","                if(doneNP) {","                    if(!doneN) lumaEndN = FxaaLuma(FxaaTexTop(tex, posN.xy));","                    if(!doneP) lumaEndP = FxaaLuma(FxaaTexTop(tex, posP.xy));","                    if(!doneN) lumaEndN = lumaEndN - lumaNN * 0.5;","                    if(!doneP) lumaEndP = lumaEndP - lumaNN * 0.5;","                    doneN = abs(lumaEndN) >= gradientScaled;","                    doneP = abs(lumaEndP) >= gradientScaled;","                    if(!doneN) posN.x -= offNP.x * FXAA_QUALITY_P11;","                    if(!doneN) posN.y -= offNP.y * FXAA_QUALITY_P11;","                    doneNP = (!doneN) || (!doneP);","                    if(!doneP) posP.x += offNP.x * FXAA_QUALITY_P11;","                    if(!doneP) posP.y += offNP.y * FXAA_QUALITY_P11;","/*--------------------------------------------------------------------------*/","                    #if (FXAA_QUALITY_PS > 12)","                    if(doneNP) {","                        if(!doneN) lumaEndN = FxaaLuma(FxaaTexTop(tex, posN.xy));","                        if(!doneP) lumaEndP = FxaaLuma(FxaaTexTop(tex, posP.xy));","                        if(!doneN) lumaEndN = lumaEndN - lumaNN * 0.5;","                        if(!doneP) lumaEndP = lumaEndP - lumaNN * 0.5;","                        doneN = abs(lumaEndN) >= gradientScaled;","                        doneP = abs(lumaEndP) >= gradientScaled;","                        if(!doneN) posN.x -= offNP.x * FXAA_QUALITY_P12;","                        if(!doneN) posN.y -= offNP.y * FXAA_QUALITY_P12;","                        doneNP = (!doneN) || (!doneP);","                        if(!doneP) posP.x += offNP.x * FXAA_QUALITY_P12;","                        if(!doneP) posP.y += offNP.y * FXAA_QUALITY_P12;","/*--------------------------------------------------------------------------*/","                    }","                    #endif","/*--------------------------------------------------------------------------*/","                }","                #endif","/*--------------------------------------------------------------------------*/","            }","            #endif","/*--------------------------------------------------------------------------*/","        }","        #endif","/*--------------------------------------------------------------------------*/","    }","    #endif","/*--------------------------------------------------------------------------*/","                        }","                        #endif","/*--------------------------------------------------------------------------*/","                    }","                    #endif","/*--------------------------------------------------------------------------*/","                }","                #endif","/*--------------------------------------------------------------------------*/","            }","            #endif","/*--------------------------------------------------------------------------*/","        }","        #endif","/*--------------------------------------------------------------------------*/","    }","/*--------------------------------------------------------------------------*/","    FxaaFloat dstN = posM.x - posN.x;","    FxaaFloat dstP = posP.x - posM.x;","    if(!horzSpan) dstN = posM.y - posN.y;","    if(!horzSpan) dstP = posP.y - posM.y;","/*--------------------------------------------------------------------------*/","    FxaaBool goodSpanN = (lumaEndN < 0.0) != lumaMLTZero;","    FxaaFloat spanLength = (dstP + dstN);","    FxaaBool goodSpanP = (lumaEndP < 0.0) != lumaMLTZero;","    FxaaFloat spanLengthRcp = 1.0/spanLength;","/*--------------------------------------------------------------------------*/","    FxaaBool directionN = dstN < dstP;","    FxaaFloat dst = min(dstN, dstP);","    FxaaBool goodSpan = directionN ? goodSpanN : goodSpanP;","    FxaaFloat subpixG = subpixF * subpixF;","    FxaaFloat pixelOffset = (dst * (-spanLengthRcp)) + 0.5;","    FxaaFloat subpixH = subpixG * fxaaQualitySubpix;","/*--------------------------------------------------------------------------*/","    FxaaFloat pixelOffsetGood = goodSpan ? pixelOffset : 0.0;","    FxaaFloat pixelOffsetSubpix = max(pixelOffsetGood, subpixH);","    if(!horzSpan) posM.x += pixelOffsetSubpix * lengthSign;","    if( horzSpan) posM.y += pixelOffsetSubpix * lengthSign;","    #if (FXAA_DISCARD == 1)","        return FxaaTexTop(tex, posM);","    #else","        return FxaaFloat4(FxaaTexTop(tex, posM).xyz, lumaM);","    #endif","}","/*==========================================================================*/","#endif","","void main() {","  gl_FragColor = FxaaPixelShader(","    vUv,","    vec4(0.0),","    tDiffuse,","    tDiffuse,","    tDiffuse,","    resolution,","    vec4(0.0),","    vec4(0.0),","    vec4(0.0),","    0.75,","    0.166,","    0.0833,","    0.0,","    0.0,","    0.0,","    vec4(0.0)","  );","","  // TODO avoid querying texture twice for same texel","  gl_FragColor.a = texture2D(tDiffuse, vUv).a;","}"].join("\n")},Fv=function(A,e,t,i,n){xv.call(this),this.scene=A,this.camera=e,this.overrideMaterial=t,this.clearColor=i,this.clearAlpha=void 0!==n?n:0,this.clear=!0,this.clearDepth=!1,this.needsSwap=!1};Fv.prototype=Object.assign(Object.create(xv.prototype),{constructor:Fv,render:function(A,e,t){var i=A.autoClear;A.autoClear=!1,this.scene.overrideMaterial=this.overrideMaterial;var n=null,o=null;this.clearColor&&(o=A.getClearColor().getHex(),n=A.getClearAlpha(),A.setClearColor(this.clearColor,this.clearAlpha)),this.clearDepth&&A.clearDepth(),A.setRenderTarget(this.renderToScreen?null:t),this.clear&&A.clear(A.autoClearColor,A.autoClearDepth,A.autoClearStencil),A.render(this.scene,this.camera),this.clearColor&&A.setClearColor(o,n),this.scene.overrideMaterial=null,A.autoClear=i}});var Lv=function(A){cr.call(this),this.type="InstancedDepthMaterial",this.uniforms=_n.depth.uniforms,this.vertexShader=_n.depth.vertexShader.replace("void main() {","\n            attribute float vState;            \n            attribute vec4 aColor;            \n            attribute vec3 mcol0;\n            attribute vec3 mcol1;\n            attribute vec3 mcol2;\n            attribute vec3 mcol3;\n            #if defined(USE_MAP)\n                attribute vec2 muvCol0;\n                attribute vec2 muvCol1;\n                attribute vec2 muvCol2;\n            #endif\n            \n            varying float vfState;\n            \n            vec3 getInstancePosition(vec3 position) {\n                return vec3(mat4(vec4(mcol0, 0.0),\n                                 vec4(mcol1, 0.0),\n                                 vec4(mcol2, 0.0),\n                                 vec4(mcol3, 1.0)) * vec4(position, 1.0));\n            }\n            \n            void main() {\n                vfState = vState;\n        ").replace("#include <project_vertex>","\n        vec4 mvPosition = modelViewMatrix * vec4(getInstancePosition(transformed), 1.0);\n        gl_Position = projectionMatrix * mvPosition;\n    "),this.fragmentShader=_n.depth.fragmentShader.replace("void main() {","\n            varying float vfState;            \n            void main() {\n                if (vfState <= -0.99 && vfState >= -1.01) discard;\n                \n        "),void 0!==A&&this.setValues(A)};(Lv.prototype=Object.create(cr.prototype)).constructor=Lv;var Ov=function(A,e,t,i,n){xv.call(this),this.modelManager=e,this.renderScene=t,this.renderCamera=i,this.selectedObjectIds=void 0!==n?n:[],this.defaultEdgeColor=(new hi).setHex(4173056),this.defaultEdgeAlpha=.95,this.edgeColor=new Je(this.defaultEdgeColor.r,this.defaultEdgeColor.g,this.defaultEdgeColor.b,this.defaultEdgeAlpha),this.edgeLength=2,this.resolution=void 0!==A?new Le(A.x,A.y):new Le(256,256);var o={minFilter:P,magFilter:P,format:RA};this.renderTargetDepthBuffer=new Ze(this.resolution.x,this.resolution.y,o),this.renderTargetDepthBuffer.texture.name="OutlinePass.depth",this.renderTargetDepthBuffer.texture.generateMipmaps=!1,this.renderTargetMaskBuffer=new Ze(this.resolution.x,this.resolution.y,o),this.renderTargetMaskBuffer.texture.name="OutlinePass.mask",this.renderTargetMaskBuffer.texture.generateMipmaps=!1,this.renderTargetMaskDownSampleBuffer=new Ze(this.resolution.x,this.resolution.y,o),this.renderTargetMaskDownSampleBuffer.texture.name="OutlinePass.depthDownSample",this.renderTargetMaskDownSampleBuffer.texture.generateMipmaps=!1,this.renderTargetEdgeBuffer=new Ze(this.resolution.x,this.resolution.y,o),this.renderTargetEdgeBuffer.texture.name="OutlinePass.edge",this.renderTargetEdgeBuffer.texture.generateMipmaps=!1,this.renderTargetColorBuffer=new Ze(this.resolution.x,this.resolution.y,o),this.renderTargetColorBuffer.texture.name="OutlinePass.color",this.renderTargetColorBuffer.texture.generateMipmaps=!1,this.depthMaterial=new cr,this.depthMaterial.side=gA,this.depthMaterial.depthPacking=Be,this.depthMaterial.blending=X,this.InstancedDepthMaterial=new Lv,this.InstancedDepthMaterial.side=gA,this.InstancedDepthMaterial.depthPacking=Be,this.InstancedDepthMaterial.blending=X,this.prepareMaskMaterial=this.getPrepareMaskMaterial(),this.prepareMaskMaterial.side=gA,this.prepareMaskInstancedMaterial=this.getPrepareMaskInstancedMaterial(),this.prepareMaskInstancedMaterial.side=gA,this.edgeDetectionMaterial=this.getEdgeDetectionMaterial(),this.overlayMaterial=this.getOverlayMaterial(),void 0===Iv&&console.error("OutlinePass relies on THREE.CopyShader");var r=Iv;return this.copyUniforms=an.clone(r.uniforms),this.copyUniforms.opacity.value=1,this.materialCopy=new cn({uniforms:this.copyUniforms,vertexShader:r.vertexShader,fragmentShader:r.fragmentShader,blending:X,depthTest:!1,depthWrite:!1,transparent:!0}),this.enabled=!0,this.needsSwap=!1,this.oldClearColor=new hi,this.oldClearAlpha=1,this.camera=new Tl(-1,1,1,-1,0,1),this.scene=new ii,this.quad=new ji(new Fn(2,2),null),this.quad.frustumCulled=!1,this.scene.add(this.quad),this.textureMatrix=new At,this};Ov.prototype.dispose=function(){this.renderTargetDepthBuffer.dispose(),this.renderTargetMaskBuffer.dispose(),this.renderTargetMaskDownSampleBuffer.dispose(),this.renderTargetEdgeBuffer.dispose(),this.renderTargetColorBuffer.dispose()},Ov.prototype.setSize=function(A,e){this.renderTargetDepthBuffer.setSize(A,e),this.renderTargetMaskBuffer.setSize(A,e),this.renderTargetMaskDownSampleBuffer.setSize(A,e),this.renderTargetEdgeBuffer.setSize(A,e),this.renderTargetColorBuffer.setSize(A,e)},Ov.prototype.adjustVisibility=function(A){this.modelManager.adjustVisibility(A)},Ov.prototype.changeVisibilityOfSelectedObjects=function(A){this.modelManager.changeVisibilityOfSelectedObjects(A)},Ov.prototype.changeVisibilityOfNonSelectedObjects=function(A){this.modelManager.changeVisibilityOfNonSelectedObjects(A)},Ov.prototype.adjustInstanceVisibility=function(A){this.modelManager.adjustInstanceVisibility(A)},Ov.prototype.changeInstanceVisibilityOfSelectedObjects=function(A){this.modelManager.changeInstanceVisibilityOfSelectedObjects(A)},Ov.prototype.changeInstanceVisibilityOfNonSelectedObjects=function(A){this.modelManager.changeInstanceVisibilityOfNonSelectedObjects(A)},Ov.prototype.restoreVisibilityOfObjects=function(){this.modelManager.restoreVisibilityOfObjects()},Ov.prototype.updateTextureMatrix=function(){this.textureMatrix.set(.5,0,0,.5,0,.5,0,.5,0,0,.5,.5,0,0,0,1),this.textureMatrix.multiply(this.renderCamera.projectionMatrix),this.textureMatrix.multiply(this.renderCamera.matrixWorldInverse)},Ov.prototype.render=function(A,e,t,i,n){this.oldClearColor.copy(A.getClearColor()),this.oldClearAlpha=A.getClearAlpha();var o=A.autoClear;A.autoClear=!1,n&&A.state.buffers.stencil.setTest(!1),A.setClearColor(0,0),this.adjustInstanceVisibility(!1),this.changeVisibilityOfSelectedObjects(!1),this.renderScene.overrideMaterial=this.depthMaterial,A.setRenderTarget(this.renderTargetDepthBuffer),A.clear(),A.render(this.renderScene,this.renderCamera),this.adjustInstanceVisibility(!0),this.changeVisibilityOfSelectedObjects(!0),this.adjustVisibility(!1),this.changeInstanceVisibilityOfSelectedObjects(!1),this.renderScene.overrideMaterial=this.InstancedDepthMaterial,A.setRenderTarget(this.renderTargetDepthBuffer),A.render(this.renderScene,this.renderCamera),this.adjustVisibility(!0),this.changeInstanceVisibilityOfSelectedObjects(!0),this.updateTextureMatrix(),this.adjustInstanceVisibility(!1),this.changeVisibilityOfNonSelectedObjects(!1),this.renderScene.overrideMaterial=this.prepareMaskMaterial,this.prepareMaskMaterial.uniforms.cameraNearFar.value=new Le(this.renderCamera.near,this.renderCamera.far),this.prepareMaskMaterial.uniforms.depthTexture.value=this.renderTargetDepthBuffer.texture,this.prepareMaskMaterial.uniforms.textureMatrix.value=this.textureMatrix,A.setRenderTarget(this.renderTargetMaskBuffer),A.clear(),A.render(this.renderScene,this.renderCamera),this.adjustInstanceVisibility(!0),this.changeVisibilityOfNonSelectedObjects(!0),this.adjustVisibility(!1),this.changeInstanceVisibilityOfNonSelectedObjects(!1),this.renderScene.overrideMaterial=this.prepareMaskInstancedMaterial,this.prepareMaskInstancedMaterial.uniforms.cameraNearFar.value=new Le(this.renderCamera.near,this.renderCamera.far),this.prepareMaskInstancedMaterial.uniforms.depthTexture.value=this.renderTargetDepthBuffer.texture,this.prepareMaskInstancedMaterial.uniforms.textureMatrix.value=this.textureMatrix,A.setRenderTarget(this.renderTargetMaskBuffer),A.render(this.renderScene,this.renderCamera),this.renderScene.overrideMaterial=null,this.adjustVisibility(!0),this.changeInstanceVisibilityOfNonSelectedObjects(!0),this.restoreVisibilityOfObjects(),this.quad.material=this.materialCopy,this.copyUniforms.tDiffuse.value=this.renderTargetMaskBuffer.texture,A.setRenderTarget(this.renderTargetMaskDownSampleBuffer),A.clear(),A.render(this.scene,this.camera),this.quad.material=this.edgeDetectionMaterial,this.edgeDetectionMaterial.uniforms.maskTexture.value=this.renderTargetMaskDownSampleBuffer.texture,this.edgeDetectionMaterial.uniforms.texSize.value=new Le(this.renderTargetMaskDownSampleBuffer.width,this.renderTargetMaskDownSampleBuffer.height),this.edgeDetectionMaterial.uniforms.edgeColor.value=this.edgeColor,this.edgeDetectionMaterial.uniforms.edgeLength.value=this.edgeLength,A.setRenderTarget(this.renderTargetEdgeBuffer),A.clear(),A.render(this.scene,this.camera),this.quad.material=this.overlayMaterial,this.overlayMaterial.uniforms.colorTexture.value=t.texture,this.overlayMaterial.uniforms.outlineTexture.value=this.renderTargetEdgeBuffer.texture,A.setRenderTarget(this.renderTargetColorBuffer),A.clear(),A.render(this.scene,this.camera),this.quad.material=this.materialCopy,this.copyUniforms.tDiffuse.value=this.renderTargetColorBuffer.texture,n&&A.state.buffers.stencil.setTest(!0),A.setRenderTarget(t),A.clear(),A.render(this.scene,this.camera),A.setClearColor(this.oldClearColor,this.oldClearAlpha),A.autoClear=o},Ov.prototype.getPrepareMaskMaterial=function(){return new cn({uniforms:{depthTexture:{value:null},cameraNearFar:{value:new Le(.5,.5)},textureMatrix:{value:new At}},vertexShader:"varying vec2 vUv;\n\t\t\t\tvarying vec4 projTexCoord;\n\t\t\t\tvarying vec4 vPosition;\n\t\t\t\tuniform mat4 textureMatrix;\n\t\t\t\tvoid main() {\n\t\t\t\t\tvUv = uv;\n\t\t\t\t\tvPosition = modelViewMatrix * vec4( position, 1.0 );\n\t\t\t\t\tvec4 worldPosition = modelMatrix * vec4( position, 1.0 );\n\t\t\t\t\tprojTexCoord = textureMatrix * worldPosition;\n\t\t\t\t\tgl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );\n\t\t\t\t}",fragmentShader:"\n                #include <packing>\n\t\t\t\tvarying vec2 vUv;\n\t\t\t\tvarying vec4 vPosition;\n\t\t\t\tvarying vec4 projTexCoord;\n\t\t\t\tuniform sampler2D depthTexture;\n\t\t\t\tuniform vec2 cameraNearFar;\n\t\t\t\t\n\t\t\t\tfloat linearDepth(float depth)\n                {\n                    float far = cameraNearFar.y;\n                    float near = cameraNearFar.x;\n                    return (2.0 * near) / (far + near - depth * (far - near));\n                }\n\t\t\t\t\n\t\t\t\tvoid main() {\n\t\t\t\t\tfloat depth = unpackRGBAToDepth(texture2DProj( depthTexture, projTexCoord ));\t\t\t\t\t\n\t\t\t\t\tgl_FragColor = vec4(depth);\n\t\t\t\t}"})},Ov.prototype.getPrepareMaskInstancedMaterial=function(){return new cn({uniforms:{depthTexture:{value:null},cameraNearFar:{value:new Le(.5,.5)},textureMatrix:{value:new At}},vertexShader:"\n                attribute float vState;            \n                attribute vec4 aColor;            \n                attribute vec3 mcol0;\n                attribute vec3 mcol1;\n                attribute vec3 mcol2;\n                attribute vec3 mcol3;\n                #if defined(USE_MAP)\n                    attribute vec2 muvCol0;\n                    attribute vec2 muvCol1;\n                    attribute vec2 muvCol2;\n                #endif\n                \n                varying float vfState;\n                varying vec2 vUv;\n\t\t\t\tvarying vec4 projTexCoord;\n\t\t\t\tvarying vec4 vPosition;\n\t\t\t\tuniform mat4 textureMatrix;\n\t\t\t\t\n\t\t\t\tvec3 getInstancePosition(vec3 position) {\n                    return vec3(mat4(vec4(mcol0, 0.0),\n                                     vec4(mcol1, 0.0),\n                                     vec4(mcol2, 0.0),\n                                     vec4(mcol3, 1.0)) * vec4(position, 1.0));\n                }\n                \n                vec2 getInstanceUV(vec2 uv) {\n                \n                    #if defined(USE_MAP)\n                        return vec2(mat3(vec3(muvCol0, 0.0),\n                                         vec3(muvCol1, 0.0), \n                                         vec3(muvCol2, 1.0)) * vec3(uv, 1.0));\n                    #else\n                        return uv;\n                    #endif                    \n                    \n                }\n            \n\t\t\t\tvoid main() {\n\t\t\t\t    vfState = vState;\n\t\t\t\t\tvUv = uv;\n\t\t\t\t\tvPosition = vec4(getInstancePosition(position), 1.0);\n\t\t\t\t\tvec4 worldPosition = modelMatrix * vPosition;\n\t\t\t\t\tprojTexCoord = textureMatrix * worldPosition;\n\t\t\t\t\tgl_Position = projectionMatrix * modelViewMatrix * vPosition;\n\t\t\t\t}",fragmentShader:"#include <packing>\n                varying float vfState;\n                varying vec2 vUv;\n                varying vec4 vPosition;\n                varying vec4 projTexCoord;\n                uniform sampler2D depthTexture;\n                uniform vec2 cameraNearFar;\n                \n                float linearDepth(float depth)\n                {\n                    float far = cameraNearFar.y;\n                    float near = cameraNearFar.x;\n                    return (2.0 * near) / (far + near - depth * (far - near));\n                }\n                \n                void main() {\n                    if (vfState <= -0.99 && vfState >= -1.01) discard;\n                    float depth = unpackRGBAToDepth(texture2DProj( depthTexture, projTexCoord ));\n                    gl_FragColor = vec4(depth);\n                }"})},Ov.prototype.getEdgeDetectionMaterial=function(){return new cn({uniforms:{maskTexture:{value:null},texSize:{value:new Le(.5,.5)},edgeColor:{value:new Je(1,1,1,1)},edgeLength:{value:2}},vertexShader:"\n                varying vec2 vUv;\n\t\t\t\tvoid main() {\n\t\t\t\t\tvUv = uv;\n\t\t\t\t\tgl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );\n\t\t\t\t}",fragmentShader:"\n                varying vec2 vUv;\n\t\t\t\tuniform sampler2D maskTexture;\n\t\t\t\tuniform vec2 texSize;\n\t\t\t\tuniform vec4 edgeColor;\n                uniform float edgeLength; \n                \n                void main(void)\n                {\n                    float directions[3];\n                    directions[0] = -1.0;\n                    directions[1] = 0.0;\n                    directions[2] = 1.0;\n                \n                    float scalars[3];\n                    scalars[0] = 3.0;\n                    scalars[1] = 10.0;\n                    scalars[2] = 3.0;\n                \n                    float padx = 1.0 / texSize.x;\n                    float pady = 1.0 / texSize.y ; \n                \n                    float edgeSize  = 0.0; \n                    float horizEdge = 0.0;\n                    float vertEdge = 0.0;                    \n                \n                    for (int i = 0; i < 3; ++i)\n                    {\n                        float dir = directions[i];\n                        float scale = scalars[i];\n                \n                        horizEdge -= texture2D(maskTexture, vUv + vec2(-padx, dir * pady)).x * scale;\n                        horizEdge += texture2D(maskTexture, vUv + vec2(padx, dir * pady)).x * scale;\n                \n                        vertEdge -= texture2D(maskTexture, vUv + vec2(dir * padx, -pady)).x * scale;\n                        vertEdge += texture2D(maskTexture, vUv + vec2(dir * padx, pady)).x * scale;\n                    }                    \n                  \n                    float len = sqrt(horizEdge * horizEdge + vertEdge * vertEdge);    \n                    float alpha = len > edgeLength ? edgeColor.a : (texture2D(maskTexture, vUv).w > 0.1 ? 0.1 : 0.0);\n                    gl_FragColor = vec4(edgeColor.rgb, alpha);\n                }"})},Ov.prototype.getOverlayMaterial=function(){return new cn({uniforms:{colorTexture:{value:null},outlineTexture:{value:null}},vertexShader:"varying vec2 vUv;\n\t\t\t\tvoid main() {\n\t\t\t\t\tvUv = uv;\n\t\t\t\t\tgl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );\n\t\t\t\t}",fragmentShader:"varying vec2 vUv;\n\t\t\t\tuniform sampler2D colorTexture;\n\t\t\t\tuniform sampler2D outlineTexture;\n\t\t\t\t\n\t\t\t\tvoid main() {\n\t\t\t\t\tvec4 outlineColor = texture2D(outlineTexture, vUv);\t\t\t\t\t\n\t\t\t\t\tgl_FragColor = mix(texture2D(colorTexture, vUv), outlineColor, outlineColor.a);\t\t\t\t\t\n\t\t\t\t}",blending:J,depthTest:!1,depthWrite:!1,transparent:!0})},Ov.prototype.setOutlineEdgeColor=function(A){var e=kh.hexToRgb(A.color);this.edgeColor.fromArray([e.r,e.g,e.b,A.opacity?A.opacity:1])};var Uv=function(A){this.renderer=A,this.composer=null,this.renderPass=null,this.outlinePass=null,this.effectFXAA=null,this.selectedObjectIds=[]};Uv.prototype.destroy=function(){this.renderer=null,this.composer=null,this.renderPass.dispose(),this.renderPass=null,this.outlinePass.dispose(),this.outlinePass=null,this.effectFXAA=null,this.selectedObjectIds=null},Uv.prototype.init=function(A,e,t,i,n){this.composer=new Mv(this.renderer),this.renderPass=new Fv(e,t),this.composer.addPass(this.renderPass),this.outlinePass=new Ov(new Le(i,n),A,e,t),this.composer.addPass(this.outlinePass),this.effectFXAA=new bv(Kv),this.effectFXAA.uniforms.resolution.value.set(1/i,1/n),this.effectFXAA.renderToScreen=!0,this.composer.addPass(this.effectFXAA)},Uv.prototype.render=function(){this.composer.render()},Uv.prototype.setSize=function(A,e){this.composer.setSize(A,e),this.effectFXAA.uniforms.resolution.value.set(1/A,1/e)},Uv.prototype.addSelectedId=function(A){this.selectedObjectIds.push(A)},Uv.prototype.clearSelectedIds=function(){this.selectedObjectIds.length=0},Uv.prototype.setSelectedIds=function(A){if(this.outlinePass){this.clearSelectedIds();for(var e=0,t=A.length;e<t;e+=1)this.addSelectedId(A[e]);this.outlinePass.selectedObjectIds=this.selectedObjectIds}},Uv.prototype.setOutlineEdgeColor=function(A){this.outlinePass.setOutlineEdgeColor(A)};var Nv=function(){this.domElement=null,this.camera=null,this.renderer=null,this.highlightManager=null,this.controller=document.getElementById("viewerController"),this.countRenderRequest=0,this.maxCountRenderRequest=1e4,this.rendering=!1,this.incrementRenderHandle=0,this.callbacks={},this.tempBox=new ni,this.tempVector3=new Ue,this.enableCameraNearFar=!0,this.currentHomeView=rh.Home,this.initialView=rh.Home,this.filter=new Ff,this.modelManager=new fv(this.filter,this),this.isRecalculationPlanes=!1,this.calculationPlanesBind=this.calculationPlanes.bind(this),this.addRenderFinishedListener(this.calculationPlanesBind),this.uuid="",this.transitionAnimationState=!0,this.animator=new Xu,this._renderStateChanged=!1;var A=this;this._renderTimer=null,this.blinkHandle=0,this.clock=new _c,this.checkNeedRedner=function(){(A.needRender||A.modelManager.needUpdateAnimation())&&(A.needRender=!1,A.modelManager.updateAnimation(),A._render()),requestAnimationFrame(A.checkNeedRedner)}};Object.assign(Nv.prototype,ou.prototype),Object.assign(Nv.prototype,{constructor:Nv,addRenderListener:function(A){this.addEventListener("render",A)},removeRenderListener:function(A){this.removeEventListener("render",A)},onRenderListener:function(){this.dispatchEvent("render")},addRenderFinishedListener:function(A){this.addEventListener("renderFinished",A)},removeRenderFinishedListener:function(A){this.removeEventListener("renderFinished",A)},onRenderFinishedListener:function(){this.dispatchEvent("renderFinished")},removeAllListeners:function(){this.removeAllEventListener()},destroy:function(){this.removeAllListeners(),this.controlManager.unregisterDomEventListeners(this.domElement),this.domElement.removeChild(this.domElement.childNodes[0]),this.domElement=null,this.controlManager.destroy(),this.modelManager.destroy(),0<this.incrementRenderHandle&&cancelAnimationFrame(this.incrementRenderHandle),0<this.blinkHandle&&cancelAnimationFrame(this.blinkHandle),this.renderer&&this.renderer.destroy&&this.renderer.destroy(),this.renderer=null,this.modelManager=null,this.controlManager=null,this.highlightManager=null},init:function(A){var e=this;e.uuid=Fe.generateUUID(),(this.domElement=A).style.background="linear-gradient(rgb(206, 250, 255) 0%, rgb(202, 202, 202) 100%)";var t=Ah.IncrementRender,i=Ah.maxDrawCacheNum,n=(zh.isMobileDevice(),{alpha:!0,preserveDrawingBuffer:!0,antialias:!0,depth:!0,maxDrawCacheNum:i,logarithmicDepthBuffer:Ah.logarithmicDepthBuffer,stencil:!0});Ah.DisableAntialias&&(n.antialias=!1);var o=null;try{(o=document.createElement("canvas")).style.outline="none",o.getContext("webgl",n)||o.getContext("experimental-webgl",n)||(n.antialias=!1)}catch(A){return!1}var r=document.createElement("div");r.setAttribute("id",e.uuid),n.canvas=o,t?(this.modelManager.permitBlink(!(Ah.Instance=!1)),this.renderer=new(void 0)(n),this.renderer.setRenderTicket(0)):(this.renderer=new Dr(n),Ah.IncrementRender=!1),this.renderer.domElement.addEventListener("webglcontextlost",function(A){A.preventDefault(),0<e.incrementRenderHandle&&(cancelAnimationFrame(e.incrementRenderHandle),console.log("---------------- webglcontextlost --------------"))},!1);var a=A.offsetWidth,s=A.offsetHeight;this.renderer.setClearColor(0,0),this.renderer.setPixelRatio(window.devicePixelRatio),this.renderer.setSize(a,s),this.renderer.sortObjects=!1,this.renderer.shadowMap.enabled=Ah.EnableShadow,this.renderer.domElement.setAttribute("tabindex","0"),this.renderer.domElement.classList.add("main-canvas"),r.appendChild(this.renderer.domElement),this.domElement.appendChild(r),this.camera=this.defaultCamera=new Gu(45,a,s,.1,200*Ah.SceneSize),this.camera.up=new Ue(0,0,1),this.camera.realUp=new Ue(0,0,1),this.camera.lookAt(this.camera.target);this.cameraControl=new np(this,this.camera,A,function(A){e.render(A)}),this.controlManager=new wg,this.controlManager.setControlMode(this,"pick"),this.setOrbitButton("left"),this.setReverseWheelDirection(!1),this.controlManager.registerDomEventListeners(r),this.renderer.shadowMap.enabled=!0,this.composer=new Uv(this.renderer),this.composer.init(this.modelManager,this.getScene(),this.camera,a,s),this.startRender()},getDomElement:function(){return this.domElement?this.domElement:null},getRendererDomElement:function(){return this.renderer&&this.renderer.domElement?this.renderer.domElement:null},render:function(A){this.needRender=!0},startRender:function(){this._renderTimer=requestAnimationFrame(this.checkNeedRedner)},stopRedner:function(){cancelAnimationFrame(this._renderTimer)},_render:function(A){var e=this.camera,t=this.modelManager,i=this.renderer,n=this.getScene();if(!t.hasModel())return Gh.log("model not loaded!"),void i.render(n,e);n.fillClipPlane&&Ah.ClippingCaps&&Ah.MergeComponent&&this.setRenderStateChanged(!0),this._checkDataChanged(),Ah.IncrementRender?this.incrementRender(A):this.fullRender(A)},incrementRender:function(A){var n=this,o=this.camera,e=this.modelManager,r=this.renderer,a=this.getScene();if(this.countRenderRequest+=1,this.maxCountRenderRequest<this.countRenderRequest&&(this.countRenderRequest=0),!this.rendering){this.rendering=!0,e.calculateCameraModelRelation(o.position),this.calculateNearFar(),this.cameraControl.updateCamera(),a.updateLights(o);var t=this.controlManager.isUpdateRenderList;r.resetIncrementRender(),r.setObjectListUpdateState(t),this.incrementRenderHandle=requestAnimationFrame(function A(e,t){var i=e;return function(){r.autoClear=t,n.controlManager.cameraChange?(r.resetIncrementRender(),n.controlManager.cameraChange=!(r.autoClear=!0)):r.autoClear=t,r.render(a,o)||i!==n.countRenderRequest?(n.rendering=!1,i!==n.countRenderRequest?n.render():n.onRenderFinishedListener()):n.incrementRenderHandle=requestAnimationFrame(A(i,!1))}}(n.countRenderRequest,!0)),t&&e.prepareScene(o),this.onRenderFinishedListener(),this.cameraControl.setCameraChanging(!1)}},fullRender:function(A){var t=this,i=this.camera,n=this.modelManager,o=this.renderer,r=this.getScene();0<this.blinkHandle&&cancelAnimationFrame(this.blinkHandle),function A(){if(t.calculateNearFar(),t.cameraControl.updateCamera(),r.updateLights(i),n.getBlinkEnabled()&&n.updateBlinkMaterial(),r.fillClipPlane&&r.fillClipPlane.visible&&Ah.ClippingCaps){n.prepareCapScene(),o.clear(),o.autoClear=!1;var e=r.getFillClipPlane();e.planeHighLightMatrial.visible=!1,r.overrideMaterial=r.backMaterial,r.backFrontStencil=!0,o.render(r,i),r.overrideMaterial=r.frontMaterial,o.render(r,i),r.backFrontStencil=!1,o.render(n.capsScene,i),e.planeHighLightMatrial.visible=!(r.overrideMaterial=null),o.render(r,i)}else Ah.EnableSelectionOutline&&t.composer&&0<t.getSelection().length?t.composer.render():(o.setRenderTarget(null),o.clear(),o.render(r,i));t.onRenderListener(),t.onRenderFinishedListener(),t.cameraControl.setCameraChanging(!1),n.getBlinkEnabled()&&(t.blinkHandle=requestAnimationFrame(A)),n.disposeBufferAfterVbo()}()},resize:function(A,e){var t=this.getDomElement();t&&(t.style.height=e+"px",t.style.width=A+"px"),this.camera.setSize(A,e),this.camera.updateProjectionMatrix(),this.renderer.setSize(A,e),this.composer&&this.composer.setSize(A,e),this.highlightManager&&this.highlightManager.resize(A,e),this.dispatchEvent({type:"resize",data:{width:A,height:e}}),this.render()},calculateNearFar:function(){var A=this.getScene().getBoundingBoxWorld(),e=this.camera;if(null!==A){var t=this.tempBox;t.copy(A);var i=t.getCenter(new Ue),n=e.position,o=n.clone().sub(i).length(),r=1.1*t.getSize(new Ue).length(),a=this.cameraControl.getWorldEye().length()/10,s=this.getScene().getBoundingBoxWorld().getSize(new Ue).length()/1e3,l=100;s<.01?l=.1:s<.1?l=1:s<1&&(l=10);var c=Math.min(l,a<s?a:s),d=t.containsPoint(n),h=e.near,u=e.far;if(this.modelManager.containsCamera||!this.enableCameraNearFar)u=o+r,h=e.isPerspective?c:-u;else{var p=.5*r;if(u=o+p,e.isPerspective){p<o+(h=(o*o+.001*o)/16777.216)&&o<h+p&&(h=o/2-p),o-r/2<h&&(h=o-r/2),0<h||(h=c)}else h=-u}d&&((c/=10)<h&&(h=c),u=1.1*r),e.setNearFar(h,u)}},resetSelectionColor:function(A,e){this.modelManager.sceneState.setSelectionColor(A,e)},calculateMinDistance:function(A,e){function t(A,e){for(var t=0,i=0,n=0;n<3;n+=1){var o=A.min.getComponent(n),r=A.max.getComponent(n),a=e.min.getComponent(n),s=e.max.getComponent(n),l=0;s<o?l=o-s:r<a&&(l=a-r),t+=l*l;var c=Math.max(s,r)-Math.min(o,a);i+=c*c}return{minDis:Math.sqrt(t),maxDis:Math.sqrt(i)}}var x=new Ue,b=new Ue,E=new Ue;function i(A,e,t){for(var i,n,o,r,a,s={start:null,end:null,minDistance:t},l=A.indexInfo,c=A.matrix,d=A.mesh.geometry,h=d.attributes.position,u=l?l.indexStart:0,p=d.getIndex().array,g=e.mesh,f=e.indexInfo,m=e.matrix,v=u,y=l?l.indexStart+l.indexCount:p.length;v<y;v+=3){var C=[];i=C,o=p[v+1],r=p[v+2],a=c,x.fromBufferAttribute(n=h,p[v]),b.fromBufferAttribute(n,o),E.fromBufferAttribute(n,r),a&&(x.applyMatrix4(a),b.applyMatrix4(a),E.applyMatrix4(a)),i.push(x),i.push(b),i.push(E);var I=g.minDistanceToTri(C,f,m);I.minDistance<s.minDistance&&(s.minDistance=I.minDistance,s.start=I.start,s.end=I.end)}return s}var n=this.modelManager.getMinDistanceObjects(A,e);if(!n)return-1;var o=[],r={start:null,end:null,minDistance:Number.POSITIVE_INFINITY};for(var a in n)o.push(n[a]);if(o[0].length<1||o[1].length<1)return-1;var s=o[0],l=o[1],c=s.length,d=l.length,h=null,u=Number.POSITIVE_INFINITY;if(1<c||1<d){h={};for(var p=0;p<c;p+=1)for(var g=s[p],f=0;f<d;f+=1){var m=t(g.boundingBox,l[f].boundingBox);u=u<m.maxDis?u:m.maxDis,h[p+"_"+f]=m}}for(p=0;p<c;p+=1)for(g=s[p],f=0;f<d;f+=1){if(h){var v=h[p+"_"+f].minDis;if(u<v||r.minDistance<v)continue}var y=i(g,l[f],r.minDistance);if(y.minDistance<r.minDistance&&(r.minDistance=y.minDistance,r.start=y.start,r.end=y.end),0===r.minDistance)return r}return h=null,r},registerDomEventListeners:function(){this.domElement&&this.controlManager.registerDomEventListeners(this.domElement)},unregisterDomEventListeners:function(){this.domElement&&this.controlManager.unregisterDomEventListeners(this.domElement)},registerEventListener:function(A,e){this.modelManager.addEventListener(A,e)},unregisterEventListener:function(A,e){this.modelManager.removeEventListener(A,e)},registerCameraEventListener:function(A,e){this.cameraControl.addEventListener(A,e)},unregisterCameraEventListener:function(A,e){this.cameraControl.removeEventListener(A,e)},registerDomEventListener:function(A,e){this.controlManager.addEventListener(A,e)},unregisterDomEventListener:function(A,e){this.controlManager.removeEventListener(A,e)},load:function(A){var i=this;return this.modelManager.load(A,function(){void 0===i._useBatchMerge&&(i._useBatchMerge=i.modelManager.shouldUseBatchRendering(),Ah.MergeComponent=i._useBatchMerge,i._setupRenderer())},function(A){i.modelManager.updateScene(),i.modelManager.updateMeshNodes();var e=i.modelManager.filter,t=i.modelManager.getNodeInfos();e.initFilterManager(t),Gh.time("Rendering: "),i.camera.dirty=!0,i.camera.dirty?i.render():(i.goToInitialView(),i.zoomAll()),A.dispatchEventEx({type:lh.ON_LOAD_COMPLETE}),Gh.timeEnd("Rendering: ")})},unload:function(A){this.modelManager.unload(A)&&(Ah.UserControlView||this.zoomAll(),this.render())},unloadAll:function(){this.modelManager.unloadAll(),this.render()},showModel:function(A){this.modelManager.showModel(A)&&this.render()},hideModel:function(A){this.modelManager.hideModel(A)&&this.render()},showScene:function(A,e){A&&(A.setVisible(e),this.render())},clearAll:function(){this.getScene().clearAll()},getScene:function(){return this.modelManager.scene},getCapsScene:function(){return this.modelManager.capsScene},getControlManager:function(){return this.controlManager},getFilter:function(){return this.filter},getCurrentControlName:function(){return this.controlManager.getCurrentControlName()},getCurrentControlMode:function(){return this.controlManager.getCurrentControlMode()},setControlMode:function(A){this.controlManager.setControlMode(this,A),this.render()},setControlDefault:function(){this.setControlMode(mh.PICK)},getBoundingBoxWorld:function(){return this.getScene().getBoundingBoxWorld()},getBoundingBox:function(){return this.getScene().getBoundingBox()},getModel:function(A){return this.modelManager.getModel(A)},getModelManager:function(){return this.modelManager},setModelMatrix:function(A,e){var t=this.getModel(e);t&&t.setModelMatrix(A)},getModelMatrix:function(A){var e=null,t=this.getModel(A);return t&&(e=t.getModelMatrix()),e},overturnYAndZaxis:function(A){var e=this.getModel(A);e&&e.overturnYAndZaxis()},zoomIn:function(A){void 0===A&&(A=.1),A<0&&(A=0),this.cameraControl.zoom(A)},zoomOut:function(A){void 0===A&&(A=.1),0<A?A*=-1:A=0,this.cameraControl.zoom(A)},zoomAll:function(A,e,t){var i=this.getScene().getBoundingBox();this._zoomToLocalBox(i,A,e,t)},zoomToBuilding:function(A,e,t){this.zoomAll(A,e,t)},zoomToSelection:function(A,e,t){var i=this.getScene(),n=this.getBoundingBoxByIds(this.modelManager.sceneState.getSelection());n.isEmpty()&&(n=i.getBoundingBox()),this._zoomToLocalBox(n,A,e,t)},_zoomToLocalBox:function(A,e,t,i){this.camera.zoomToBox(A,e,t,i),this.cameraControl.update(!0,!0)},zoomToBox:function(A,e,t,i){var n=new ni;A?(n.copy(A),n.applyMatrix4(this.getScene().getMatrixGlobal())):n.copy(this.getScene().getBoundingBox()),this._zoomToLocalBox(n,e,t,i)},zoomToBoxByDirection:function(A,e,t,i){if(e){if(e&&A){var n=A.clone(),o=n.getCenter(new Ue).clone().add(e);n.applyMatrix4(this.getScene().getMatrixGlobal()),o.applyMatrix4(this.getScene().getMatrixGlobal());var r=o.clone().sub(n.getCenter(new Ue));1e-4<r.length()?(r.normalize(),this.camera.realUp.copy(ti.DefaultUp),this._zoomToLocalBox(n,t,i,r)):this._zoomToLocalBox(n,t,i)}}else this.zoomToBox(A,t,i)},zoomToBoxWithOuterBox:function(A,e,t,i){if(e){if(e&&A){var n=A.clone(),o=e.getCenter(new Ue);n.applyMatrix4(this.getScene().getMatrixGlobal()),o.applyMatrix4(this.getScene().getMatrixGlobal());var r=o.clone().sub(n.getCenter(new Ue));1e-4<r.length()?(r.normalize(),this.camera.realUp.copy(ti.DefaultUp),this.controlManager.zoomToBox(this,n,t,i,r)):this.controlManager.zoomToBox(this,n,t,i)}}else this.zoomToBox(A,t,i)},getObjectsInBox:function(A,e){var t=new ni;return t.copy(A),t.applyMatrix4(this.getScene().getMatrixGlobal()),Eu.getObjectsInBox(this.getScene(),t,this.modelManager,this,e)},setStandardView:function(A,e,t){var i=this.camera,n=this.getScene().getBoundingBox();if(this.transitionAnimationState)this.animator.setStandardView(A,this,n,e,t);else{i.setStandardView(A,n);this.camera.zoomToBox(n,e);this.cameraControl.update(!0,!0),t&&t()}},rotateCameraByViewCubeSide:function(A){this._viewCubeAnimator&&(this._viewCubeAnimator.cancelAnimation(),this._viewCubeAnimator=void 0);var e=this.camera,t=this.getScene().getBoundingBox(),i=new mv,o=this;i.rotateCameraByViewCubeSide(e,t,A,function(A,e,t,i){o.camera.position.copy(t);var n=new Ue(0,1,0);n.applyQuaternion(e),o.camera.up=n,o.camera.realUp=n.clone(),o.camera.lookAt(i),o.camera.target=i,A<1||o.camera.quaternion.copy(e),o.cameraControl.update(!0)}),this._viewCubeAnimator=i},cancelCurrentAnimationByViewCube:function(){this._viewCubeAnimator&&(this._viewCubeAnimator.cancelAnimation(),this._viewCubeAnimator=void 0)},_setStandardView:function(A,e){var t=this.camera,i=this.getScene().getBoundingBox();t.setStandardView(A,i),t.zoomToBox(i,e)},setStandardViewWithBox:function(A,e,t,i){if(e?e.applyMatrix4(this.getScene().getMatrixGlobal()):e=this.getScene().getBoundingBox(),this.transitionAnimationState)this.animator.setStandardView(A,this,e,t);else{var n=this.camera;n.setStandardView(A,e),n.zoomToBox(e,t,i),this.cameraControl.update(!0,!0)}},setTopView:function(A,e,t){this.setStandardViewWithBox(rh.ISO,A,e,t)},setInitialView:function(A){this.initialView=A,this._setStandardView(A)},goToInitialView:function(A){this.setStandardView(this.initialView,A,null)},setHomeViewType:function(A){Gh.warn("BIMWINNER.BOS3D.Viewer.setHomeViewType() has been deprecated. Use BIMWINNER.BOS3D.Viewer.setHomeView() instead."),this.setHomeView(A)},setHomeView:function(A){this.currentHomeView=A,this._setStandardView(A)},goToHomeView:function(A){this.setStandardView(this.currentHomeView,A,null)},rotateByAxis:function(A,e){var t=this.cameraControl.calculatePivot(dh.CENTER,null),i=2*Math.PI/60/60*A;if(e&&"x"!==e){if("y"!==e)return void Gh.warn("Illegal rotation axis for Viewer.rotateByAxis().");this.cameraControl.handleRotation(0,-i,t)}else this.cameraControl.handleRotation(-i,0,t);this.cameraControl.update(!0)},lookAt:function(A,e,t){var i=new Ue;i.subVectors(e,A),this.camera.lookAtEx(e,i,t),this.cameraControl.updateCamera(e),this.render()},setImageResPath:function(A){Ah.TextureResRoot=A},setLightIntensityFactor:function(A){Ah.LightIntensityFactor=A},setLimitFrameTime:function(A){Ah.IncrementRender&&(0<A||(A=30),Ah.LimitFrameTime=A)},limitFrameRate:function(A){Ah.IncrementRender&&(0<A||(A=4),Ah.LimitFrameTime=1e3/A)},transformCamera:function(A){return Zu.transformCamera(A,this.modelManager.scene)},getCamera:function(){var A=this.getScene().getMatrixGlobal(),e=this.cameraControl.getCamera(),t=this.cameraControl.getCameraName(),i=new Wu(t,e.position,e.target,e.up);i=Gu.drawingToWorld(i,A);var n=new Wu(t,i.position,i.target,i.up,e.fov);return JSON.stringify(n)},setCamera:function(A,e,t){var i=this,n=Zu.parseCameraInfo(A);if(null===n)Gh.log("Invalid camera info string. Fail to set camera.");else if(this.switchToCamera(n.name)){var o=this.getScene().getMatrixGlobal(),r=null;if(r=n.version?Gu.worldToDrawing(n,o):n,this.transitionAnimationState){var a={position:this.camera.position.clone(),target:this.camera.target.clone(),up:this.camera.up.clone()};this.animator.active(a,r,this,function(A){i.cameraControl.update(!0,!0)},t)}else{var s=new Ue;s.subVectors(r.target,r.position),this.camera.lookAtEx(r.target,s,r.up),e&&this.cameraControl.updateCamera(),t&&t()}}},getRenderBufferScreenShot:function(i,n){this.render();var A=this.renderer.domElement,e=A.toDataURL("image/png"),t=A.width,o=A.height,r=window.devicePixelRatio||1,a=t/r,s=o/r;if(!a||!s)return n?(n(e),null):e;var l,c=null,d=null,h=0,u=0;if(s<a||t/o<a/s?u=s/2-(d=o/t*(c=a))/2:h=a/2-(c=t/o*(d=s))/2,n)return(l=new Image).onload=function(){var A=document.createElement("canvas"),e=A.getContext("2d");A.width=a,A.height=s,i&&(e.fillStyle=i,e.fillRect(0,0,a,s)),e.drawImage(l,h,u,c,d);var t=A.toDataURL("image/png");n(t)},l.src=e,null;(l=new Image).src=e;var p=document.createElement("canvas"),g=p.getContext("2d");return p.width=a,p.height=s,i&&(g.fillStyle=i,g.fillRect(0,0,a,s)),g.drawImage(l,h,u,c,d),p.toDataURL("image/png")},screenShot:function(d,h,u){var p=this;var A=function(){var A=p.renderer.domElement,e=A.toDataURL("image/png"),t=A.width,i=A.height,n=(window,d),o=h;if(!n||!o)return u?(u(e),null):e;var r=null,a=null,s=0,l=0;if(o<n||t/i<n/o?l=o/2-(a=i/t*(r=n))/2:s=n/2-(r=t/i*(a=o))/2,u){var c=new Image;return c.onload=function(){var A=document.createElement("canvas"),e=A.getContext("2d");A.width=n,A.height=o,e.drawImage(c,s,l,r,a);var t=A.toDataURL("image/png");u(t)},c.src=e,null}}();return this.render(),A},canvas2image:function(A,e){var t=null,i=this;return e?(this.getRenderBufferScreenShot(A,function(A){e(A),i.render()}),null):(t=this.getRenderBufferScreenShot(A),this.render(),t)},lockAxisZ:function(A){this.cameraControl&&this.cameraControl.lockAxisZ(A)},isLockedAxisZ:function(){return this.cameraControl.isLockedAxisZ()},enableTranslucentByDClick:function(A){Ah.EnableDemolishByDClick=A},disableRotate:function(A){this.cameraControl&&this.cameraControl.disableRotate(A)},rotateCamera:function(A){this.cameraControl.processRotate(A),this.cameraControl.update()},getActiveCameraInfo:function(){var A={};A.up=new Ue,A.dir=new Ue;var e=this.camera,t=e.getWorldDirection(new Ue);return A.up.copy(e.realUp||e.up),A.dir.copy(t),A.quaternion=e.quaternion.clone(),A},calculationPlanes:function(){if(this.isRecalculationPlanes){this.isRecalculationPlanes=!1;var A=this.getScene(),e=this.getBoundingBoxByIds();e.isEmpty()&&(e=A.getBoundingBox()),A.getClipPlanes().calculationPlanes(e.getSize(new Ue),e.getCenter(new Ue)),this.render()}},recalculationPlanes:function(){this.isRecalculationPlanes=!0},setOctantDepth:function(A){Ah.OctantDepth=A},resizePool:function(A){Ah.maxObjectNumInPool=A,this.modelManager.updateSceneRenderable(),this.render()},setCategoriesToHighPriority:function(A,e){this.modelManager.setCategoriesToHighPriority(A,0===e?"inner":"outer")},clearCategoriesFromHighPriority:function(A){this.modelManager.clearCategoriesFromHighPriority(0===A?"inner":"outer")},clearAllCategoriesFromHighPriority:function(){this.modelManager.clearAllCategoriesFromHighPriority()},isolate:function(A,e){var t=this.getFilter();switch(e){case"hide":t.setIsolateConditions(A,ph.HIDDEN_OTHERS);break;case"translucent":t.setIsolateConditions(A,ph.TRANSLUCENT_OTHERS);break;default:Gh.warn("no this isolate state : "+e)}},setIsolateMaterial:function(A){this.getFilter().setIsolateMaterial(A)},resetIsolateMaterial:function(){this.getFilter().resetIsolateMaterial()},setOrbitButton:function(A){var e=this.controlManager._getControlByName(this,"orbit"),t=this.controlManager._getControlByName(this,"pick"),i={};"left"===A?i={ORBIT:pA.LEFT,PAN2:pA.MIDDLE,PAN:pA.RIGHT}:"right"===A&&(i={ORBIT:pA.RIGHT,PAN2:pA.MIDDLE,PAN:pA.LEFT}),e&&e.updateButtons(i),t&&t.updateButtons(i)},showPickedInformation:function(A){},setSelectPadCallback:function(A){var e=this.controlManager.getCurrentControlMode();e&&e.selectPad&&(e.selectPad.callback=A)},setDeviceMobile:function(A){Ah.IsMobile=A||!1},setPointRotateMode:function(A){Ju.RotatePivotMode=A},worldToDrawing:function(A){if(!this.cameraControl)return Gh.warn("camera is not initialized!!!"),null;var e=this.getScene().worldToDrawing(A);return{x:e.x,y:e.y,z:e.z}},drawingToWorld:function(A){if(!this.cameraControl)return Gh.warn("camera is not initialized!!!"),null;var e=this.getScene().drawingToWorld(A);return{x:e.x,y:e.y,z:e.z}},worldToCanvas:function(A){var e=this.cameraControl;if(!e)return Gh.warn("camera is not initialized!!!"),null;var t=e.getContainerDimensions();if(!t)return null;var i=e.getCamera(),n=this.getScene().worldToDrawing(A);return Zu.drawingToCanvas(i,n,t.width,t.height)},canvasToWorld:function(A){var e=this.cameraControl;if(!e)return Gh.warn("camera is not initialized!!!"),null;var t=e.getContainerDimensions();if(!t)return null;var i=e.getCamera(),n=this.getScene(),o=Zu.canvasToDrawing(i,A,t.width,t.height),r=n.drawingToWorld(o);return{x:r.x,y:r.y,z:r.z}},worldToClient:function(A){var e=this.cameraControl;if(!e)return Gh.warn("camera is not initialized!!!"),null;var t=e.getContainerDimensions();if(!t)return null;var i=e.getCamera(),n=this.getScene().worldToDrawing(A),o=Zu.drawingToCanvas(i,n,t.width,t.height);return o?(o.x+=t.left,o.y+=t.top,o):null},worldPointsToClient:function(A,e){var t=this.cameraControl;if(!t)return Gh.warn("camera is not initialized!!!"),null;var i=t.getContainerDimensions();if(!i)return null;var n=t.getCamera(),o=this.getScene(),r=o.worldToDrawing(A),a=o.worldToDrawing(e),s=Zu.drawingPointsToCanvas(n,r,a,i.width,i.height);return s?(s.start.x+=i.left,s.start.y+=i.top,s.end.x+=i.left,s.end.y+=i.top,s):null},clientToWorld:function(A){var e=this.cameraControl;if(!e)return Gh.warn("camera is not initialized!!!"),null;var t=e.getContainerDimensions();if(!t)return null;(o={x:A.x,y:A.y,z:A.z}).x-=t.left,o.y-=t.top;var i=e.getCamera(),n=this.getScene(),o=Zu.canvasToDrawing(i,o,t.width,t.height),r=n.drawingToWorld(o);return{x:r.x,y:r.y,z:r.z}},insideCamera:function(A){var e=this.cameraControl;if(!e)return Gh.warn("camera is not initialized!!!"),!1;var t=this.getScene().worldToDrawing(A);return e.getFrustum().containsPoint(t)},locateToPointWithParallelEye:function(A){var e=this.cameraControl;if(!e)return Gh.warn("camera is not initialized!!!"),!1;var t=this.getScene().worldToDrawing(A);e.flyToPointWithParallelEye(t)},locateToPoint:function(A){var e=this.cameraControl;if(!e)return Gh.warn("camera is not initialized!!!"),!1;var t=this.getScene().worldToDrawing(A);e.flyToPoint(t)},enableHover:function(A){Ah.Hover=A},getIBLManager:function(){return this.IBLManager},loadEnvMap:function(A){for(var e=["posx.hdr","negx.hdr","posy.hdr","negy.hdr","posz.hdr","negz.hdr"],t=[],i=0;i<6;i+=1)t.push("/"+A+"/"+e[i]);var n=this;(new(void 0)).load(SA,t,function(A){n.environmentCubeMap=A,n.modelManager.updateMaterialsValue("envMap",A),n.render()})},setEnvMapIntensity:function(A){this.modelManager.updateMaterialsValue("envMapIntensity",A),this.render()},closeEnvMap:function(){this.modelManager.updateMaterialsValue("envMap",null),this.render()},enableSSAO:function(A){Ah.IncrementRender||(Ah.EnableRenderPass=A,Ah.SSAO=A,this.render())},switchNewStyleMaterial:function(A){this.modelManager.switchNewStyleMaterial(A),this.setRenderStateChanged(!0),this.render()},addPlane:function(A,e,t,i){var n=new Ue;n.addVectors(new Ue(A.x,A.y,A.z),new Ue(e.x,e.y,e.z)),n.multiplyScalar(.5);var o=new ji(new Fn(e.x-A.x,e.y-A.y),new yi({side:gA,transparent:!0,depthTest:!0}));o.position.copy(n),o.renderOrder=10,this.getScene().getOrCreateGroup(Ap.CUSTOMPLANE,{globalSpace:!0}).add(o),o.updateMatrixWorld(!0);var r=this;return(new Al).load(t,function(A){o.material.map=A,r.setRenderStateChanged(o.material.needsUpdate=!0),i&&i()}),o},removePlane:function(A){var e=this.getScene().getGroup(Ap.CUSTOMPLANE);e&&e.remove(A)},enableTextureMapping:function(A){Ah.EnableTextureMapping=A},setReverseWheelDirection:function(A){Ju.ReverseWheelDirection=Boolean(A)},getReverseWheelDirection:function(){return Ju.ReverseWheelDirection},setMovementSpeedRate:function(A){void 0!==A&&(Ju.MovementSpeedRate=A)},getMovementSpeedRate:function(){return Ju.MovementSpeedRate},moveTo:function(A,e,t){var i=this.controlManager.control;i&&i.moveTo(A,e,t)},rotateTo:function(A){var e=this.controlManager.control;e&&e.rotateTo(A)},enableOcclusionTranslucent:function(A){Ah.OcclusionTranslucentEnabled=Boolean(A)},setOcclusionOpacity:function(A){Ah.OcclusionOpacity=A},setOcclusionDistanceToCamera:function(A){Ah.OcclusionDistanceToCamera=A},fitAndRotateBySelection:function(){this.cameraControl&&this.cameraControl.fitAndRotateBySelection()},setRoamingWalkHeight:function(A,e,t){if(Array.isArray(A)){var i=this.cameraControl;if(!i)return Gh.log("camera is not initialized!!!"),!1;if(0<e||(e=1750),void 0===t&&(t=!0),i.setCameraHeight(A,e),t){var n=this.controlManager.getCurrentControl();n&&n.name===mh.WALK&&n.update&&i.flyOnWorld()}}else Gh.log("elevations is not arry")},setRoamingWalkAbsoluteHeight:function(A,e){var t=this.cameraControl;if(!t)return Gh.log("camera is not initialized!!!"),!1;if(void 0===e&&(e=!0),t.setCameraAbsoluteHeight(A),e){var i=this.controlManager.getCurrentControl();i&&i.name===mh.WALK&&i.update&&t.flyOnWorld()}},cameraToWorld:function(A){return this.camera?Gu.drawingToWorld(A,this.getScene().getMatrixGlobal()):null},cameraToDrawing:function(A){return this.camera?Gu.worldToDrawing(A,this.getScene().getMatrixGlobal()):null},clearSelection:function(){this.modelManager.sceneState.clearSelection()},clearModelSelection:function(){this.modelManager.modelState.clearSelection()},addToSelection:function(A){this.modelManager.sceneState.addSelection(A)},addToModelSelection:function(A){this.modelManager.modelState.addSelection(A)},removeFromSelection:function(A){this.modelManager.sceneState.removeSelection(A)},removeFromModelSelection:function(A){this.modelManager.modelState.removeSelection(A)},setSelection:function(A){this.modelManager.sceneState.setSelection(A)},setModelSelection:function(A){this.modelManager.modelState.setSelection(A)},getSelection:function(){return this.modelManager.sceneState.getSelection()},getModelSelection:function(){return this.modelManager.modelState.getSelection()},setSelectionColor:function(A){this.modelManager.sceneState.setSelectionColor(A)},setModelSelectionColor:function(A){this.modelManager.modelState.setSelectionColor(A)},pickByPoint:function(A){var e=this.cameraControl;if(!1===e.enabled)return!1;var t=new Le(A.x,A.y),i=e.getIntersectContext(t),n=e.intersector.pick(i),o=this.getScene();if(n){o.intersectToWorld(n);var r={};return r.faceIndex=n.faceIndex,r.meshId=n.userId,r.worldPosition=n.worldPosition,r.worldBoundingBox=n.worldBoundingBox,r}return null},pickByPointWithNormal:function(A){var e=this.getScene(),t=this.cameraControl;if(!1===t.enabled)return!1;var i=new Le(A.x,A.y),n=t.getIntersectContext(i),o=t.intersector.pick(n);if(!o)return null;e.intersectToWorld(o),o.cx=i.x,o.cy=i.y;var r=[];r.push(o);var a=e.getMatrixGlobal(),s=o.face.normal.clone(),l=new ri(o.worldPosition.clone(),s);l.applyMatrix4(a);var c=t.intersector.getIntersectByRay(n,l);return c&&(e.intersectToWorld(c),r.push(c)),r},toDefaultOrthographicCamera:function(A){this.switchToCamera(th.ORTHOGRAPHIC),(A||void 0===A)&&this.render()},toDefaultPerspectiveCamera:function(A){this.switchToCamera(th.PERSPECTIVE),(A||void 0===A)&&this.render()},getCameraNameList:function(){return["pesp","orth"].concat(this.modelManager.getCameraNameList())},switchToCamera:function(A){var e=!0;if(A===th.PERSPECTIVE)this.camera=this.defaultCamera,this.camera.toPerspective();else if(A===th.ORTHOGRAPHIC)this.camera=this.defaultCamera,this.camera.toOrthographic();else{var t=this.modelManager.getCamera(A);t?this.camera=t:(Gh.log("Fail to switch because not found camera '"+A+"'"),e=!1)}return e&&this.cameraControl.setCamera(this.camera),this.render(),e},getNumOfElements:function(){return this.modelManager.getNumOfElements()},getNumOfRenderables:function(){return this.modelManager.getNumOfRenderables()},getNumOfTriangles:function(){return this.modelManager.getNumOfTriangles()},setLightPreset:function(A){Ah.LightPreset=A,this.getScene().lightPreset()},getLightPreset:function(){return Ah.LightPreset},setAmbientLightIntensity:function(A){var e=this.getScene().ambientLight;e&&(e.intensity=A)},getAmbientLightIntensity:function(){var A=this.getScene().ambientLight;if(A)return A.intensity},setWalkHeightLocked:function(A){var e=this.controlManager.getCurrentControl();e&&e.name===mh.WALK&&e.setHeightLocked(A)},setWalkLookMousePressed:function(A){var e=this.controlManager.getCurrentControl();e&&e.name===mh.WALK&&e.setDragLook(A)},setWalkSpeedRate:function(A){var e=this.controlManager.getCurrentControl();e&&e.name===mh.WALK&&(Ju.MovementSpeedRate=A)},setDrawingStyle:function(A){Ah.DrawingStyle=A,this.modelManager.applyFilter()},setWireframeColor:function(A,e){var t=this.modelManager;for(var i in t.models)t.models[i].wireframeMaterial.color=new hi(A),t.models[i].wireframeMaterial.opacity=e,t.models[i].wireframeMaterial.transparent=1!==e,t.models[i].instanceWireframeMaterial.color=new hi(A),t.models[i].instanceWireframeMaterial.opacity=e,t.models[i].instanceWireframeMaterial.transparent=1!==e},setInstanceMode:function(A){!Ah.Instance===A&&((Ah.Instance=A)?this.getScene().getOrCreateGroup(Ap.INSTANCEGEOMETRY,{globalSpace:!0}).visible=!0:this.getScene().getOrCreateGroup(Ap.INSTANCEGEOMETRY,{globalSpace:!0}).visible=!1)},setTransitionAnimationState:function(A){this.transitionAnimationState=A},getTransitionAnimationState:function(){return this.transitionAnimationState},clipPoint:function(A){var e=this.renderer.clippingPlanes;if(e&&0<e.length)for(var t=0;t<e.length;t+=1){var i=e[t];if(A.dot(i.normal)<-i.constant)return!0}return!1},setExposureShift:function(A){Ah.ToneMapping=1,this.modelManager.updateMaterialsValue("shift",0<A?-.4*A+.5:-4*A+.5),this.setRenderStateChanged(!0)},setRenderStateChanged:function(A){this._renderStateChanged=A},isRenderStateChanged:function(){return this._renderStateChanged},getComponentInfoByUserId:function(A){var e=this.modelManager.getNodeInfosByUserId(A);if(e&&0<e.length){for(var t=new ni,i=[],n=0,o=e.length;n<o;n+=1)t.union(e[n].boundingBox),-1===i.indexOf(e[n].materialId)&&i.push(e[n].materialId);return{userId:A,state:0,materials:i,boundingBox:t,userData:e[0].userData}}return null},getBoundingBoxByIds:function(A){var e=new ni;if(Array.isArray(A)){for(var t=0;t<A.length;t+=1)if(!this.modelManager.isHiddenUserId(A[t])){var i=this.getModelByComponentKey(A[t]),n=this.getComponentInfoByUserId(A[t]);if(n)if(i){var o=n.boundingBox.clone().applyMatrix4(i.getModelMatrix());e.union(o)}else e.union(n.boundingBox)}}else for(var r in A)if(!this.modelManager.isHiddenUserId(r)){var a=this.getModelByComponentKey(A[t]),s=this.getComponentInfoByUserId(r);if(s)if(a){var l=s.boundingBox.clone().applyMatrix4(a.getModelMatrix());e.union(l)}else e.union(s.boundingBox)}return e.isEmpty()||e.applyMatrix4(this.getScene().getMatrixGlobal()),e},setConditionsOnDemandLoad:function(A,e,t,i){e=e||!0,this.modelManager.setConditionsOnDemandLoad(A),e&&this.modelManager.loadGeopkOnDemand(t,i)},loadGeopkOnDemand:function(A,e,t,i){var n=this;this.modelManager.setConditionsOnDemandLoad(A),this.modelManager.loadGeopkOnDemand(e,t,function(){var A=n.modelManager.getNodeInfos();n.filter.reinitFilterManager(A),n.setRenderStateChanged(!0),n.render(),i&&i()})},unloadGeopkOnDemand:function(A,e){var t=this;this.filter._hasVisibleFilter()&&(this.filter.showByIds(A),this.filter.removeFromIsolateList(A)),this.filter._hasOverrideMaterialFilter()&&(this.filter.addToOverrideListByColor(A,null),this.filter.addToWireframeByWireframe(A,null)),this.filter._hasTransparentFilter()&&this.filter.opaqueByIds(A),this.removeFromSelection(A);for(var i=0,n=A.length;i<n;i+=1);this.modelManager.unloadGeopkOnDemand(A,function(){var A=t.modelManager.getNodeInfos();t.filter.reinitFilterManager(A),t.setRenderStateChanged(!0),t.render(),e&&e()})},getBoundingBoxOnDemand:function(){return this.modelManager.getBoundingBoxOnDemand()},convertAnnotationsToV3:function(A){var e=JSON.parse(A);function t(A,e,t){var i=null,n=new Ue((i="string"==typeof A?JSON.parse(window.atob(A)):{position:{x:A.position.x,y:A.position.y,z:A.position.z},target:{x:A.target.x,y:A.target.y,z:A.target.z},up:{x:A.up.x,y:A.up.y,z:A.up.z}}).position.x,i.position.y,i.position.z),o=new Ue(i.target.x,i.target.y,i.target.z),r=new Ue(i.up.x,i.up.y,i.up.z),a=new Wu(th.PERSPECTIVE,n,o,r);return a=Gu.drawingToWorld(a,e),a=new Wu(th.PERSPECTIVE,a.position,a.target,a.up),a=Gu.worldToDrawing(a,t),i.position.x=a.position.x,i.position.y=a.position.y,i.position.z=a.position.z,i.target.x=a.target.x,i.target.y=a.target.y,i.target.z=a.target.z,i.up.x=a.up.x,i.up.y=a.up.y,i.up.z=a.up.z,"string"==typeof A&&(i=window.btoa(JSON.stringify(i))),i}if(e.filter){var i=JSON.parse(e.filter);if(i.filter||i.basicIds){var n=this.getScene(),o=n.getTransformMatrixGlobal();(new At).getInverse(o);var r=n.getMatrixGlobal();(new At).getInverse(r);var a=this.getFilter().getFilterType(),s={state:{}};i.filter?(i.fileFilter&&(s.state[a.FILE_HIDDEN]=i.fileFilter),i.selectionSet&&(s.state[a.SELECTED]=i.selectionSet),i.filter.visibleIds&&(s.state[a.VISIBLE]=i.filter.visibleIds),i.filter.invisibleIds&&(s.state[a.HIDDEN]=i.filter.invisibleIds),i.filter.conditions&&(s.state[a.CONDITION_HIDDEN_OTHERS]=i.filter.conditions),i.filter.filters&&(s.state[a.USER_HIDDEN]=i.filter.filters),i.loomingSet&&(s.state[a.FROZENFILTER]=i.loomingSet),i.isolateSet&&(s.state[a.ISOLATE_HIDDEN_OTHERS]=i.isolateSet),i.overriderByIds&&(s.state[a.OVERRIDEFILTER]=i.overriderByIds),i.overriderByData&&(s.state[a.USER_OVERRIDE]=i.overriderByData),i.overriderCondition&&(s.state[a.CONDITION_OVERRIDE]=i.overriderCondition),i.isolateCondition&&(s.state[a.ISOLATE_CONDITION_HIDDEN_OTHERS]=i.isolateCondition),s.state.sceneState=i.overriderByScene):i.basicIds&&(i.basicIds[1]&&(s.state[a.FILE_HIDDEN]=i.basicIds[1]),i.basicIds[2]&&(s.state[a.SELECTED]=i.basicIds[2]),i.basicIds[3]&&(s.state[a.VISIBLE]=i.basicIds[3]),i.basicIds[4]&&(s.state[a.HIDDEN]=i.basicIds[4]),i.conditions[0]&&(s.state[a.CONDITION_HIDDEN_OTHERS]=i.conditions[0]),i.userHiddenIds&&(s.state[a.USER_HIDDEN]=i.userHiddenIds),i.loomingIds&&(s.state[a.FROZENFILTER]=i.loomingIds),i.isolateIds&&(s.state[a.ISOLATE_HIDDEN_OTHERS]=i.isolateIds),i.overrideByIds&&(s.state[a.OVERRIDEFILTER]=i.overrideByIds),i.overrideByData&&(s.state[a.USER_OVERRIDE]=i.overrideByData),i.conditions[2]&&(s.state[a.CONDITION_OVERRIDE]=i.conditions[2]),i.isolateConditions&&(i.isolateConditions[0]&&(s.state[a.ISOLATE_CONDITION_HIDDEN]=i.isolateConditions[0]),i.isolateConditions[1]&&(s.state[a.ISOLATE_CONDITION_HIDDEN_OTHERS]=i.isolateConditions[1]),i.isolateConditions[2]&&(s.state[a.ISOLATE_CONDITION_TRANSLUCENT]=i.isolateConditions[2]),i.isolateConditions[3]&&(s.state[a.ISOLATE_CONDITION_TRANSLUCENT_OTHERS]=i.isolateConditions[3])),s.state.sceneState=i.sceneState),s.camera=t(i.camera?i.camera:e.camera,o,r),i=s,e.filter=JSON.stringify(i)}}return e},getScreenCoordFromSceneCoord:function(A){var e=[],t=0;if(A.isVector3){var i=A.clone();return t=i.distanceTo(this.camera.position),i.project(this.camera),e[0]=(i.x+1)*this.domElement.clientWidth/2,e[1]=(1-i.y)*this.domElement.clientHeight/2,e[2]=t,e}if(Array.isArray(A)){var n=new Ue(A[0],A[1],A[2]);return t=n.distanceTo(this.camera.position),n.project(this.camera),e[0]=(n.x+1)*this.domElement.clientWidth/2,e[1]=(1-n.y)*this.domElement.clientHeight/2,e[2]=t,n=null,e}},_checkDataChanged:function(){var A=this.modelManager;A.hasModelDataReady()&&(this.getFilter().isStateChanged()||this.isRenderStateChanged())&&(this.isRenderStateChanged()&&this.setRenderStateChanged(!1),this.getFilter().isStateChanged()&&this.getFilter().diableStateChanged(),A.applyFilter())},_checkLayerDataLoading:function(){return!(!this.modelManager.isLayerData()||!this._layerDataLoading)&&(this.getFilter().isStateChanged()&&this.getFilter().diableStateChanged(),!0)},setOutlineEdgeColor:function(A){this.composer&&this.composer.setOutlineEdgeColor(A)},enableBlinkComponents:function(A){this.modelManager.isBlinkPermited()||(this.modelManager.enableBlink(A),this.render())},setBlinkComponentsById:function(A){this.modelManager.isBlinkPermited()||this.modelManager.sceneState.setBlinkComponentsById(A)},addBlinkComponentsById:function(A){this.modelManager.isBlinkPermited()||this.modelManager.sceneState.addBlinkComponentsById(A)},clearBlinkComponentsById:function(A){this.modelManager.isBlinkPermited()||this.modelManager.sceneState.clearBlinkComponentsById(A)},clearAllBlinkComponents:function(){this.modelManager.isBlinkPermited()||this.modelManager.sceneState.clearAllBlinkComponents()},getBlinkComponents:function(){return this.modelManager.isBlinkPermited()?null:this.modelManager.sceneState.getBlinkComponents()},setBlinkColor:function(A){this.modelManager.isBlinkPermited()||this.modelManager.setBlinkColor(A.color,A.opacity)},setBlinkIntervalTime:function(A){this.modelManager.isBlinkPermited()||this.modelManager.setBlinkIntervalTime(A)},getModelByComponentKey:function(A){var e=null;for(var t in this.modelManager.models)if(this.modelManager.models.hasOwnProperty(t)&&(e=this.modelManager.getModel(t))&&e.hasComponent(A))return e},getSceneState:function(){return{state:this.getFilter().saveState(),camera:this.getCamera(),selection:this.getSelection(),modelSelection:this.getModelSelection()}},setSceneState:function(A){void 0!==A.camera&&"object"!==Bh(A.camera)||(A.camera=JSON.stringify(A.camera)),this.setCamera(A.camera,!1),this.setSelection(A.selection),this.setModelSelection(A.modelSelection),this.getFilter().loadState(A.state)},setComponentPositionByKey:function(A,e){var t=(new Ue).fromArray(e),i=this.getModelManager(),n=new At;Gh.time("构件移动用时");var o=this.getModelByComponentKey(A);if(o){-1===i.explosionList.indexOf(A)&&i.explosionList.push(A);var r=o._getHandler();if(r instanceof Zg){var a=this.modelManager.getComponent(A);if(a&&a[0]&&a[0].mesh){var s=a[0].mesh;if(s)s.matrixWorld.setPosition(t)}}else if(r instanceof Jg){var l=o.modelDescriptor,c=l.mapNodeInfoByCategory[1],d=l.mapNodeInfoByCategory[0];if(c.hasOwnProperty(A))for(var h=c[A],u=0;u<h.length;u+=1){var p=h[u],g=p.mesh;if(g){g.userData||(g.userData={}),g.userData.offset||(g.userData.offset=new Ue);var f=p.index,m=g.geometry.attributes.position,v=t.clone().sub(g.userData.offset.clone());n.setPosition(v),g.userData.offset.copy(t),lu.applyMatrix4ToBuffer(n,m.array,f.positionStart,f.positionStart+f.positionCount),m.needsUpdate=!0}}if(d.hasOwnProperty(A))for(var y=d[A],C=0;C<y.length;C+=1){var I=y[C],x=I.mesh;if(x){var b=x._indicesGroup[I.userId],E=x.geometry.getAttribute("mcol3");E.array[3*b]=t.x,E.array[3*b+1]=t.y,E.array[3*b+2]=t.z,I.matrix.setPosition(t),E.needsUpdate=!0}}}else Gh.warn("当前模式下暂不支持构件移动")}Gh.timeEnd("构件移动用时")},setBackgroundColor:function(A,e){if(e)this.setBackgroundColors([{color:A,stop:"0%"},{color:e,stop:"100%"}],"180deg");else{var t=this.getDomElement();t&&(t.style.background=A.getRGBA())}},setBackgroundColors:function(A,e){var t=this.getDomElement(),i=e||"0deg",n=[];if(A&&0<A.length){1===A.length&&this.setBackgroundColor(A[0].color||A[0]);for(var o=0;o<A.length;o+=1){var r=A[o].color.getRGBA()+" "+A[o].stop;n.push(r)}var a=i+", "+n.join(",");t&&(t.style.background="linear-gradient("+a+")")}},getComponentLocalMatrixByKey:function(A){if(A){var e=this.modelManager.getComponent(A);if(e&&0<e.length)return e[0].mesh.matrix}},setComponentLocalMatrixByKey:function(A,e){if(A){var t=this.modelManager.getComponent(A);if(t&&0<t.length){var i=t[0].mesh;return i.matrix.fromArray(e),i.updateMatrixWorld(!0),this.render(),!0}}return!1},_transformComponentByKey:function(A){if(A){if("string"!=typeof A){if(A instanceof ti){var e=A;this.controlManager.enableTool(this,vh.COMPONENT_TRANSFORM);var t=this.controlManager.getToolByName(vh.COMPONENT_TRANSFORM),i=this;return t.transformComponent(e,function(A){i.render()}),t}return}var n=this.getModelByComponentKey(A);if(n&&n.merged)return void Gh.log("合并模式下无法使用该功能（请修改MergeComponent）");var o=this.modelManager.getComponent(A);if(o&&0<o.length){var r=o[0].mesh;this.controlManager.enableTool(this,vh.COMPONENT_TRANSFORM);var a=this.controlManager.getToolByName(vh.COMPONENT_TRANSFORM),s=this;return a.transformComponent(r,function(A){s.render()}),a}}},translateComponentByKey:function(A){var e=this._transformComponentByKey(A);e&&e.switchToTranslateMode()},scaleComponentByKey:function(A){var e=this._transformComponentByKey(A);e&&e.switchToScaleMode()},rotateComponentByKey:function(A){var e=this._transformComponentByKey(A);e&&e.switchToRotateMode()},cancelTransformComponent:function(A){var e=this.controlManager.getToolByName(vh.COMPONENT_TRANSFORM);e&&(e.cancelTransformComponent(A),this.controlManager.disableTool(e.name))},restoreComponentTransform:function(){var A=this.controlManager.getToolByName(vh.COMPONENT_TRANSFORM);A&&A.restoreComponentOriginalTransformState()&&this.render()},increaseComponentTransformControlSize:function(){var A=this.controlManager.getToolByName(vh.COMPONENT_TRANSFORM);A&&A.increaseTransformControlSize()&&this.render()},decreaseComponentTransformControlSize:function(){var A=this.controlManager.getToolByName(vh.COMPONENT_TRANSFORM);A&&A.decreaseTransformControlSize()&&this.render()},setComponentTransformSpaceToLocalSpace:function(){var A=this.controlManager.getToolByName(vh.COMPONENT_TRANSFORM);A&&A.setTransformSpaceToLocalSpace()&&this.render()},setComponentTransformSpaceToWorldSpace:function(){var A=this.controlManager.getToolByName(vh.COMPONENT_TRANSFORM);A&&A.setTransformSpaceToWorldSpace()&&this.render()},switchComponentTransformSpaceBetweenLocalAndWorld:function(){var A=this.controlManager.getToolByName(vh.COMPONENT_TRANSFORM);A&&A.switchTransformSpace()&&this.render()},showComponentTransformOnAxis:function(A){var e=this.controlManager.getToolByName(vh.COMPONENT_TRANSFORM);e&&e.showTransformOnAxis(A)&&this.render()},hideComponentTransformOnAxis:function(A){var e=this.controlManager.getToolByName(vh.COMPONENT_TRANSFORM);e&&e.hideTransformOnAxis(A)&&this.render()},disableComponentTransform:function(){var A=this.controlManager.getToolByName(vh.COMPONENT_TRANSFORM);A&&A.disableTransform()&&this.render()},enableComponentTransform:function(){var A=this.controlManager.getToolByName(vh.COMPONENT_TRANSFORM);A&&A.enableTransform()&&this.render()}});var Rv=function(A){var e=zh.detectWebGL();if(1===e){Ah.language=zh.language(),ti.DefaultUp.set(0,0,1);var a=kh.extend({},{host:"https://bos3d.bimwinner.com",viewport:""},A);this.host=a.host,this.viewerImpl=new Nv;var t=document.getElementById(a.viewport);t.style.position="relative";var s=this;this.getViewerImpl().init(t),Ah.EnableViewController&&!zh.isMobileDevice()&&(this.viewController=new Xg(this.viewerImpl,function(){return!0}),this.viewController.init(this.getViewerImpl().getDomElement()),this.viewController.render(),this.getViewerImpl().addRenderFinishedListener(function(){s.viewController.render()})),this.filter=this.getViewerImpl().filter,this.SVGRect=new qg(this),this.SVGRect.creatSVG(),this.viewport=A.viewport,this.viewportDiv=document.getElementById(A.viewport);var l=0;this.getViewerImpl().modelManager.addEventListener(lh.ON_LOAD_CONFIG_FINISH,function(A){Gh.time("load time");var e=s.viewerImpl.modelManager.scene.getBoundingBox(),t=s.viewerImpl.modelManager.models[A.modelKey],i=t.getModelConfig();"IMODEL"!==a.type&&"OBJ"!==a.type||(Ah.LightIntensityFactor=1),l+=i.componentCount,Ah.AutoMergeComponent&&Ah.AutoMergeComponentCount<l&&(Ah.MergeComponent=!0);var n=e.getCenter(new Ue),o=e.getSize(new Ue),r=new Ue(n.x+o.x,n.y+o.y,n.z+o.z);s.originalView&&Ah.UserControlView?s.viewerImpl.lookAt(s.originalView.position,s.originalView.target,s.originalView.up):(s.viewerImpl.lookAt(r,n,s.viewerImpl.camera.up),s.originalView={position:r,target:n,up:s.viewerImpl.camera.up})}),this.getViewerImpl().modelManager.addEventListener(lh.ON_LOAD_PROGRESS,function(A){Gh.log(A.progress)}),this.getViewerImpl().modelManager.addEventListener(lh.ON_LOAD_COMPLETE,function(A){Gh.log(A.modelKey," is load "),Gh.timeEnd("load time")}),this.getViewerImpl().modelManager.addEventListener(lh.ON_CLICK_PICK,function(A){if(A.intersectInfo){Gh.log("构件key",A.intersectInfo.selectedObjectId);var e=A.intersectInfo.object;e&&Gh.log(e)}}),this.viewerImpl.modelManager.addEventListener(lh.ON_CONTROL_UPDATEUI,function(A){s.SVGRect.creatRect(A)})}else zh.showWebGLMessage(e)};Object.assign(Rv.prototype,ou.prototype),Object.assign(Rv.prototype,{constructor:Rv,addView:function(A,e,t){this.getViewerImpl().load({serverUrl:this.host,modelKey:A,dbName:e,token:t,notifyProgress:!0})},addViews:function(A,e,t,i){Ah.AutoMergeComponent=!1,Ah.MergeComponent=!0,this.getViewerImpl().load({serverUrl:this.host,modelKey:A,modelKeys:e,dbName:t,token:i,notifyProgress:!0})},addViewFromLocal:function(A){this.getViewerImpl().load({serverUrl:".",modelKey:A,dbName:"",notifyProgress:!0,offLine:!0})},loadComponents:function(A,e,t,i){Array.isArray(A)||(A=[A]),this.getViewerImpl().loadGeopkOnDemand(A,e,t,i)},unloadCompomemts:function(A,e){Array.isArray(A)||(A=[A]),this.getViewerImpl().unloadGeopkOnDemand(A,e)},getOriginalView:function(){return this.originalView},setOriginalView:function(A,e,t){this.originalView||(this.originalView={}),this.originalView.position=Array.isArray(A)?new Ue(A[0],A[1],A[2]):new Ue(A.x,A.y,A.z),this.originalView.target=Array.isArray(e)?new Ue(e[0],e[1],e[2]):new Ue(e.x,e.y,e.z),this.originalView.up=Array.isArray(t)?new Ue(t[0],t[1],t[2]):new Ue(t.x,t.y,t.z)},getViewerImpl:function(){return this.viewerImpl},getAllComponents:function(){return this.getViewerImpl().getModelManager().getAllComponents()},getAllComponentsKey:function(){return this.getViewerImpl().getModelManager().getAllComponentsKey()},otherObjectsInScene:function(A){},getComponentsByKey:function(A){Array.isArray(A)||(A=[A]);var i=[],n=this;return A.forEach(function(A){var e=n.getViewerImpl().modelManager.getComponent(A);if(e){var t={};t[A]=e,i.push(t)}}),i},showComponentsById:function(A,e){Array.isArray(A)||(A=[A]);for(var t=[],i=0;i<A.length;i+=1)t[i]=e+"_"+A[i];this.getViewerImpl().getFilter().showByIds(t),this.render()},showComponentsByKey:function(A){Array.isArray(A)||(A=[A]),this.getViewerImpl().getFilter().showByIds(A),this.render()},hideComponentsById:function(A,e){Array.isArray(A)||(A=[A]);for(var t=[],i=0;i<A.length;i+=1)t[i]=e+"_"+A[i];this.filter.hideByIds(t),this.render()},hideComponentsByKey:function(A){Array.isArray(A)||(A=[A]),this.filter.hideByIds(A),this.render()},hideAllComponents:function(){this.getViewerImpl().getFilter().hideAll(),this.render()},showAllComponents:function(){this.getViewerImpl().getFilter().showAll(),this.render()},highlightComponentsById:function(A,e){Array.isArray(A)||(A=[A]);for(var t=[],i=0;i<A.length;i+=1)t[i]=e+"_"+A[i];this.getViewerImpl().setSelection(t),this.render()},highlightComponentsByKey:function(A){Array.isArray(A)||(A=[A]),this.getViewerImpl().setSelection(A),this.render()},addHighlightComponentsByKey:function(A){Array.isArray(A)||(A=[A]),this.getViewerImpl().addToSelection(A),this.render()},closeHighlightComponentsById:function(A,e){Array.isArray(A)||(A=[A]);for(var t=[],i=0;i<A.length;i+=1)t[i]=e+"_"+A[i];this.getViewerImpl().removeFromSelection(t),this.render()},closeHighlightComponentsByKey:function(A){Array.isArray(A)||(A=[A]),this.getViewerImpl().removeFromSelection(A),this.render()},getHighlightComponentsKey:function(){return this.getViewerImpl().getSelection()},clearHighlightList:function(){this.getViewerImpl().clearSelection(),this.render()},getHighlightComponents:function(){var A=this.getHighlightComponentsKey(),i=[],n=this;return A.forEach(function(A){var e=n.getViewerImpl().modelManager.getComponent(A);if(e){var t={};t[A]=e,i.push(t)}}),i},setComponentsOpacityState:function(A,e){Array.isArray(A)||(A=[A]),e===gh.TRANSLUCENT?this.transparentComponentsByKey(A):e===gh.OPAQUE&&this.closeTransparentComponentsByKey(A)},transparentComponentsById:function(A,e){Array.isArray(A)||(A=[A]);for(var t=[],i=0;i<A.length;i+=1)t[i]=e+"_"+A[i];this.getViewerImpl().getFilter().makeTranslucentByIds(t),this.render()},transparentComponentsByKey:function(A){Array.isArray(A)||(A=[A]),this.getViewerImpl().getFilter().makeTranslucentByIds(A),this.render()},transparentOtherComponentsByKey:function(A){Array.isArray(A)||(A=[A]),this.getViewerImpl().getFilter().makeTranslucentOthersByIds(A),this.render()},transparentAllComponents:function(){this.getViewerImpl().getFilter().makeTranslucentOthersByIds([]),this.render()},closeTransparentComponentsById:function(A,e){Array.isArray(A)||(A=[A]);for(var t=[],i=0;i<A.length;i+=1)t[i]=e+"_"+A[i];this.getViewerImpl().getFilter().opaqueByIds(t),this.render()},closeTransparentComponentsByKey:function(A){Array.isArray(A)||(A=[A]),this.getViewerImpl().getFilter().opaqueByIds(A),this.render()},clearTransparentList:function(){this.clearComponentTransparentList(),this.clearModelTransparentList()},clearComponentTransparentList:function(){var A=this.getViewerImpl().getFilter();A.opaqueAll(),A.opaqueByIds([]),this.render()},colorfulComponentsById:function(A,e,t,i){Array.isArray(A)||(A=[A]);for(var n=[],o=0;o<A.length;o+=1)n[o]=e+"_"+A[o];var r=this.getViewerImpl().getFilter(),a={};a.color=t,"number"==typeof i&&(a.opacity=i),r.addToOverrideListByColor(n,a),this.render()},colorfulComponentsByKey:function(A,e,t){Array.isArray(A)||(A=[A]);var i=this.getViewerImpl().getFilter(),n={};n.color=e,"number"==typeof t&&(n.opacity=t),i.addToOverrideListByColor(A,n),this.render()},closeColorfulComponentsById:function(A,e){Array.isArray(A)||(A=[A]);for(var t=[],i=0;i<A.length;i+=1)t[i]=e+"_"+A[i];this.getViewerImpl().getFilter().addToOverrideListByColor(t,null),this.render()},closeColorfulComponentsByKey:function(A){Array.isArray(A)||(A=[A]),this.getViewerImpl().getFilter().addToOverrideListByColor(A,null),this.render()},clearColorfulList:function(){this.getViewerImpl().getFilter().clearAllOverrideList()},wireFrameComponentsById:function(A,e){Array.isArray(A)||(A=[A]);for(var t=[],i=0;i<A.length;i+=1)t[i]=e+"_"+A[i];this.getViewerImpl().getFilter().addToWireframeByWireframe(t,{wireframe:!0}),this.render()},wireFrameComponentsByKey:function(A){Array.isArray(A)||(A=[A]);this.getViewerImpl().getFilter().addToWireframeByWireframe(A,{wireframe:!0}),this.render()},closeWireFrameComponentsById:function(A,e){Array.isArray(A)||(A=[A]);for(var t=[],i=0;i<A.length;i+=1)t[i]=e+"_"+A[i];this.getViewerImpl().getFilter().addToWireframeByWireframe(t,null),this.render()},closeWireFrameComponentsByKey:function(A){Array.isArray(A)||(A=[A]),this.getViewerImpl().getFilter().addToWireframeByWireframe(A,null),this.render()},clearWireframeList:function(){this.getViewerImpl().getFilter().clearAllWireframeList()},isolateComponentsById:function(A,e,t){Array.isArray(A)||(A=[A]);for(var i=[],n=0;n<A.length;n+=1)i[n]=e+"_"+A[n];this.getViewerImpl().getFilter().setIsolateList(i,!1!==t),this.render()},isolateComponentsByKey:function(A,e){Array.isArray(A)||(A=[A]),this.getViewerImpl().getFilter().setIsolateList(A,!1!==e),this.render()},closeIsolateComponentsById:function(A,e){Array.isArray(A)||(A=[A]);for(var t=[],i=0;i<A.length;i+=1)t[i]=e+"_"+A[i];this.getViewerImpl().getFilter().removeFromIsolateList(t),this.render()},closeIsolateComponentsByKey:function(A){Array.isArray(A)||(A=[A]),this.getViewerImpl().getFilter().removeFromIsolateList(A),this.render()},clearIsolation:function(){this.getViewerImpl().getFilter().clearIsolation()},showModelsByKey:function(A){Array.isArray(A)||(A=[A]),this.getViewerImpl().getFilter().showModelByIds(A),this.render()},hideModelsByKey:function(A){Array.isArray(A)||(A=[A]),this.filter.hideModelByIds(A),this.render()},hideAllModels:function(){this.getViewerImpl().getFilter().hideAllModel(),this.render()},showAllModels:function(){this.getViewerImpl().getFilter().showAllModel(),this.render()},highlightModelsByKey:function(A){Array.isArray(A)||(A=[A]),this.getViewerImpl().setModelSelection(A),this.render()},addHighlightModelsByKey:function(A){Array.isArray(A)||(A=[A]),this.getViewerImpl().addToModelSelection(A),this.render()},closeHighlightModelsByKey:function(A){Array.isArray(A)||(A=[A]),this.getViewerImpl().removeFromModelSelection(A),this.render()},getHighlightModelsKey:function(){return this.getViewerImpl().getModelSelection()},clearModelHighlightList:function(){this.getViewerImpl().clearModelSelection(),this.render()},transparentModelsByKey:function(A){Array.isArray(A)||(A=[A]),this.getViewerImpl().getFilter().makeModelTranslucentByIds(A),this.render()},transparentOtherModelsByKey:function(A){Array.isArray(A)||(A=[A]),this.getViewerImpl().getFilter().makeTranslucentOthersModelByIds(A),this.render()},transparentAllModels:function(){this.getViewerImpl().getFilter().makeTranslucentOthersModelByIds([]),this.render()},closeTransparentModelsByKey:function(A){Array.isArray(A)||(A=[A]),this.getViewerImpl().getFilter().opaqueModelByIds(A),this.render()},clearModelTransparentList:function(){var A=this.getViewerImpl().getFilter();A.opaqueAllModel(),A.opaqueModelByIds([]),this.render()},colorfulModelsByKey:function(A,e,t){Array.isArray(A)||(A=[A]);var i=this.getViewerImpl().getFilter(),n={};n.color=e,"number"==typeof t&&(n.opacity=t),i.addToModelOverrideListByColor(A,n),this.render()},closeColorfulModelsByKey:function(A){Array.isArray(A)||(A=[A]),this.getViewerImpl().getFilter().addToModelOverrideListByColor(A,null),this.render()},clearModelColorfulList:function(){this.getViewerImpl().getFilter().clearModelAllOverrideList(),this.render()},isolateModelsByKey:function(A,e){Array.isArray(A)||(A=[A]),this.getViewerImpl().getFilter().setModelIsolateList(A,!1!==e),this.render()},closeIsolateModelsByKey:function(A){Array.isArray(A)||(A=[A]),this.getViewerImpl().getFilter().removeModelFromIsolateList(A),this.render()},clearModelIsolation:function(){this.getViewerImpl().getFilter().clearModelIsolation(),this.render()},disableComponentsSelectionByKey:function(A){Array.isArray(A)||(A=[A]),this.filter.addToFrozenList(A)},enableComponentsSelectionByKey:function(A){Array.isArray(A)||(A=[A]),this.filter.removeFromFrozenList(A)},clearDisableSelectionList:function(){this.filter.clearFrozen()},modelsExplosion:function(A){for(var e={modelKey:[],coefficientX:1,coefficientY:1,coefficientZ:1,center:this.getViewerImpl().getScene().getBoundingBoxWorld().getCenter(new Ue).toArray()},t=kh.extend(!0,{},e,A),i=Array.isArray(t.modelKey)?t.modelKey:[t.modelKey],n=0;n<i.length;n+=1){var o=this.getViewerImpl().getModel(i[n]);o&&o.explosion(t)}this.render()},closeModelsExplosion:function(A){for(var e=Array.isArray(A)?A:[A],t=0;t<e.length;t+=1){var i=this.getViewerImpl().getModel(e[t]);i&&i.closeExplosion()}this.render()},componentsExplosion:function(A){var e={componentKey:[],coefficientX:1,coefficientY:1,coefficientZ:1,offsetX:0,offsetY:0,offsetZ:0,center:this.getViewerImpl().getScene().getBoundingBoxWorld().getCenter(new Ue).toArray()},t=kh.extend(!0,{},e,A),i=Array.isArray(t.componentKey)?t.componentKey:[t.componentKey],n=(new Ue).fromArray(t.center),o=new Ue,r=new ni,a=t.coefficientX||1,s=t.coefficientY||1,l=t.coefficientZ||1,c=t.offsetX||1,d=t.offsetY||1,h=t.offsetZ||1,u=this.getViewerImpl().getModelManager(),p=new At;Gh.time("构件离散用时");for(var g=0;g<i.length;g+=1){var f=i[g],m=this.getViewerImpl().getModelByComponentKey(f);if(m){-1===u.explosionList.indexOf(f)&&u.explosionList.push(f);var v=m._getHandler();if(v instanceof Zg){var y=this.getViewerImpl().modelManager.getComponent(f);if(y&&y[0]&&y[0].mesh){var C=y[0].mesh;if(C){C.userData.originalMatrix||(C.userData.originalMatrix=C.matrixWorld.clone());var I=C.geometry,x=C.userData.originalMatrix,b=C.matrixWorld;I.boundingBox||I.computeBoundingBox(),r.copy(I.boundingBox);var E=(new Ue).fromArray(x.elements,12),w=r.getCenter(o).add(E).sub(n.clone()).clone();w.x*=a,w.y*=s,w.z*=l,w.x+=c,w.y+=d,w.z+=h,w.add(n.clone()),w.sub(r.getCenter(o)),b.setPosition(w)}}}else if(v instanceof Jg){var M=m.modelDescriptor,B=M.mapNodeInfoByCategory[1],_=M.mapNodeInfoByCategory[0];if(B.hasOwnProperty(f))for(var S=B[f],T=0;T<S.length;T+=1){var K=S[T],F=K.mesh;if(F){var L=K.index,O=F.geometry.attributes.position,U=F.matrixWorld;r.copy(K.boundingBox),r.applyMatrix4(U);var N=r.getCenter(o).sub(n.clone()).clone();K.offset||(K.offset=new Ue,K.originalMatrix=K.matrix.clone()),N.x*=a,N.y*=s,N.z*=l,N.x+=c,N.y+=d,N.z+=h,N.add(n.clone()),N.sub(r.getCenter(o));var R=N.sub(K.offset);p.setPosition(R),K.offset.add(R),lu.applyMatrix4ToBuffer(p,O.array,L.positionStart,L.positionStart+L.positionCount),O.needsUpdate=!0}}if(_.hasOwnProperty(f))for(var P=_[f],D=0;D<P.length;D+=1){var Q=P[D],k=Q.mesh;if(k){var z=k._indicesGroup[Q.userId],V=k.geometry.getAttribute("mcol3"),H=k.matrixWorld;r.copy(Q.boundingBox),r.applyMatrix4(H);var G=r.getCenter(o).sub(n.clone()).clone();Q.offset||(Q.offset=(new Ue).fromArray(Q.matrix.elements,12),Q.originalMatrix=Q.matrix.clone()),G.x*=a,G.y*=s,G.z*=l,G.x+=c,G.y+=d,G.z+=h,G.add(n.clone()),G.sub(r.getCenter(o)),G.add(Q.offset),V.array[3*z]=G.x,V.array[3*z+1]=G.y,V.array[3*z+2]=G.z,Q.matrix.setPosition(G),V.needsUpdate=!0}}}else Gh.warn("当前模式下暂不支持模型离散")}}Gh.timeEnd("构件离散用时"),this.render()},closeComponentsExplosion:function(A){for(var e=Array.isArray(A)?A:[A],t=new At,i=this.getViewerImpl().getModelManager(),n=0;n<e.length;n+=1){var o=e[n],r=this.getViewerImpl().getModelByComponentKey(o);if(r){i.explosionList.remove(o);var a=r._getHandler();if(a instanceof Zg){var s=this.getViewerImpl().modelManager.getComponent(o);if(s&&s[0]&&s[0].mesh){var l=s[0].mesh;l.userData.originalMatrix&&(l.matrixWorld=l.userData.originalMatrix,delete l.userData.originalMatrix)}}else if(a instanceof Jg){var c=r.modelDescriptor,d=c.mapNodeInfoByCategory[1],h=c.mapNodeInfoByCategory[0];if(d.hasOwnProperty(o))for(var u=d[o],p=0;p<u.length;p+=1){var g=u[p],f=g.mesh;if(f){var m=g.index,v=f.geometry.attributes.position;g.offset||(g.offset=new Ue),t.setPosition(g.offset.multiplyScalar(-1)),delete g.offset,lu.applyMatrix4ToBuffer(t,v.array,m.positionStart,m.positionStart+m.positionCount),v.needsUpdate=!0}}if(h.hasOwnProperty(o))for(var y=h[o],C=0;C<y.length;C+=1){var I=y[C],x=I.mesh;if(x){var b=x._indicesGroup[I.userId],E=x.geometry.getAttribute("mcol3");I.offset||(I.offset=(new Ue).fromArray(I.matrix.elements,12)),E.array[3*b]=I.offset.x,E.array[3*b+1]=I.offset.y,E.array[3*b+2]=I.offset.z,delete I.offset,I.originalMatrix&&(I.matrix.setPosition((new Ue).fromArray(I.originalMatrix.elements,12)),delete I.originalMatrix),E.needsUpdate=!0}}}else Gh.warn("当前模式下暂不支持模型离散")}}this.render()},componentApplyMatrix:function(A,e){var t=this.getViewerImpl().getModelManager(),i=this.getViewerImpl().getModelByComponentKey(A);if(i){-1===t.explosionList.indexOf(A)&&t.explosionList.push(A);var n=i._getHandler();if(n instanceof Zg){var o=this.getViewerImpl().modelManager.getComponent(A);if(o&&o[0]&&o[0].mesh){var r=o[0].mesh;if(r){r.userData.originalMatrix||(r.userData.originalMatrix=r.matrixWorld.clone());var a=new Ue(r.userData.originalMatrix.elements[12],r.userData.originalMatrix.elements[13],r.userData.originalMatrix.elements[14]),s=new At;s.setPosition(a);var l=new At;l.setPosition(a.multiplyScalar(-1)),r.matrixWorld.multiply(l).multiply(e).multiply(s)}}}else if(n instanceof Jg){var c=i.modelDescriptor,d=c.mapNodeInfoByCategory[1],h=c.mapNodeInfoByCategory[0];if(d.hasOwnProperty(A))for(var u=d[A],p=0;p<u.length;p+=1){var g=u[p],f=g.mesh;if(f){var m=g.index,v=f.geometry.attributes.position;lu.applyMatrix4ToBuffer(e,v.array,m.positionStart,m.positionStart+m.positionCount),v.needsUpdate=!0}}if(h.hasOwnProperty(A))for(var y=h[A],C=0;C<y.length;C+=1){var I=y[C],x=I.mesh;if(x){var b=x._indicesGroup[I.userId],E=x.geometry,w=E.getAttribute("mcol0"),M=E.getAttribute("mcol1"),B=E.getAttribute("mcol2"),_=E.getAttribute("mcol3");I.transformation||(I.transformation=!0,I.transformationOriginalMatrix=I.matrix.clone());var S=(new Ue).fromArray(I.transformationOriginalMatrix.elements,12),T=new At;T.setPosition(S);var K=new At;K.setPosition(S.multiplyScalar(-1));var F=new At;F.fromArray([w.array[3*b],w.array[3*b+1],w.array[3*b+2],0,M.array[3*b],M.array[3*b+1],M.array[3*b+2],0,B.array[3*b],B.array[3*b+1],B.array[3*b+2],0,_.array[3*b],_.array[3*b+1],_.array[3*b+2],1],0),F.multiply(K).multiply(e).multiply(T),w.array[3*b]=F.elements[0],w.array[3*b+1]=F.elements[1],w.array[3*b+2]=F.elements[2],w.needsUpdate=!0,M.array[3*b]=F.elements[4],M.array[3*b+1]=F.elements[5],M.array[3*b+2]=F.elements[6],M.needsUpdate=!0,B.array[3*b]=F.elements[8],B.array[3*b+1]=F.elements[9],B.array[3*b+2]=F.elements[10],B.needsUpdate=!0,_.array[3*b]=F.elements[12],_.array[3*b+1]=F.elements[13],_.array[3*b+2]=F.elements[14],_.needsUpdate=!0,I.matrix=F}}}else Gh.warn("当前模式下暂不支持构件变换")}this.render()},getMatrix4FromEuler:function(A,e,t){var i=0,n=0,o=0;o=Array.isArray(A)?(i=A[0],n=A[1],A[2]):(i=A.x,n=A.y,A.z);var r=e||[0,0,0],a=0,s=0,l=0;l=Array.isArray(r)?(a=r[0],s=r[1],r[2]):(a=r.x,s=r.y,r.z);var c=new At;c.setPosition(-a,-s,-l);var d=new At,h=new et(i,n,o,t||"XYZ");d.makeRotationFromEuler(h);var u=new At;return u.setPosition(a,s,l),u.multiply(d).multiply(c),u},isolateComponentsByIdForJDS:function(A,e){Array.isArray(A)||(A=[A]);for(var t=[],i=0;i<A.length;i+=1)t[i]=e+"_"+A[i];this.filter.addToIsolateList(ph.HIDDEN_OTHERS,t);for(var n=this.getViewerImpl().modelManager.getScene().pool._pool,o=0;o<n.length;o+=1){n[o].visible=!1;for(var r=0;r<t.length;r+=1)n[o].key===t[r]&&(n[o].visible=!0)}return this.render(),!0},sortComponentsById:function(A,e,t){Array.isArray(A)||(A=[A]);for(var i=this.getViewerImpl().getModel(e),n=[],o=0;o<A.length;o+=1)n[o]=e+"_"+A[o];return i?i.getComponentKeysByTypeFromList(n,t):[]},sortComponentsByKey:function(A,e){return Array.isArray(A)||(A=[A]),this.getViewerImpl().modelManager.getComponentKeysByTypeFromList(A,e)},conditionSortComponentsById:function(A,e,t,i,n){var o=this.filter.setConditions(A,e);Array.isArray(t)||(t=[t]);for(var r=[],a=0;a<t.length;a+=1)r[a]=i+"_"+t[a];var s=this.getComponentsByKey(r),l=[];if(null!==o)switch(A){case 0:for(a=0;a<s.length;a+=1)o.match(s[a])&&l.push(s[a].key);this.isolateComponentsByKey(l);break;case 1:for(a=0;a<s.length;a+=1)o.match(s[a])&&l.push(s[a].key);var c=this.otherObjectsInScene(l);this.transparentComponentsByKey(c,.5,!1);break;case 2:for(a=0;a<s.length;a+=1)null!==o.getMatchItem(s[a])&&l.push(s[a].key);!0===n.highLight?this.highlightComponentsByKey(l):this.colorfulComponentsByKey(l,n.color)}return l},conditionSortComponentsByKey:function(A,e,t,i){var n=this.filter.setConditions(A,e);Array.isArray(t)||(t=[t]);var o=this.getComponentsByKey(t),r=[];if(null!==n)switch(A){case 0:for(var a=0;a<o.length;a+=1)n.match(o[a])&&r.push(o[a].key);this.isolateComponentsByKey(r);break;case 1:for(a=0;a<o.length;a+=1)n.match(o[a])&&r.push(o[a].key);var s=this.otherObjectsInScene(r);this.transparentComponentsByKey(s,.5,!1);break;case 2:for(a=0;a<o.length;a+=1)null!==n.getMatchItem(o[a])&&r.push(o[a].key);!0===i.highLight?this.highlightComponentsByKey(r):this.colorfulComponentsByKey(r,i.color)}return r},resetScene:function(A){if(A){if(A.visible&&(this.clearIsolation(),this.clearModelIsolation(),this.showAllComponents(),this.showAllModels()),A.selected&&(this.clearHighlightList(),this.clearModelHighlightList()),A.transparent&&(this.clearTransparentList(),this.clearModelTransparentList()),A.wireframed&&this.clearWireframeList(),A.colorfully&&(this.clearColorfulList(),this.clearModelColorfulList()),A.view){var e=(n=this.viewerImpl.modelManager.scene.getBoundingBox()).getCenter(new Ue),t=n.getSize(new Ue),i=new Ue(e.x+t.x,e.y+t.y,e.z+t.z);this.originalView?this.viewerImpl.lookAt(this.originalView.position,this.originalView.target,this.originalView.up):this.viewerImpl.lookAt(i,e,this.viewerImpl.camera.up)}}else{this.clearIsolation(),this.clearModelIsolation(),this.clearHighlightList(),this.clearModelHighlightList(),this.showAllComponents(),this.showAllModels(),this.clearWireframeList(),this.clearTransparentList(),this.clearModelTransparentList(),this.clearColorfulList(),this.clearModelColorfulList();var n;e=(n=this.viewerImpl.modelManager.scene.getBoundingBox()).getCenter(new Ue),t=n.getSize(new Ue),i=new Ue(e.x+t.x,e.y+t.y,e.z+t.z);this.originalView?this.viewerImpl.lookAt(this.originalView.position,this.originalView.target,this.originalView.up):this.viewerImpl.lookAt(i,e,this.viewerImpl.camera.up)}this.render()},getScreenCoordFromSceneCoord:function(A){return this.getViewerImpl().getScreenCoordFromSceneCoord(A)},render:function(){this.getViewerImpl().render()},resize:function(A,e){this.getViewerImpl().resize(A,e)},autoResize:function(){this.getViewerImpl().resize(window.innerWidth-5,window.innerHeight-5)},getClientHeight:function(){return jh.getClientHeight()},getClientWidth:function(){return jh.getClientWidth()},setSceneBackGroundColor:function(A,e){this.getViewerImpl().setBackgroundColor(new bu(A,e))},getComponentsAttributeById:function(A,e,t){this.getComponentsAttributeByKey(e+"_"+A,t)},getComponentsAttributeByKey:function(A,e){var t=this.getViewerImpl().getModelByComponentKey(A);if(t){if(t.offLine){if(t.attributes&&t.attributes[A])return void e({attribute:t.attributes[A]});e(null)}Bu({type:"GET",url:(t.loader.url.serverUrl||this.host)+"/api/"+t.projectKey+"/components?componentKey="+A,headers:{Authorization:t.accessToken},success:function(A){try{A=JSON.parse(A)}catch(A){Gh.log("解析属性失败")}e("SUCCESS"===A.code?A.data:null)},error:function(A){e(null)}})}else e(null)},mergeMesh:function(A,e){var t=this.getViewerImpl().modelManager.getModel(e);if(!t)return null;var i=new op("mergeGroup");i.modelKey=e;for(var n=new Gi,o=[],r=[],a=[],s=[],l=[],c=[],d=t.cache,h=[],u=[],p=null,g=0,f=0;f<A.length;f+=1)if(t.cache.components.hasOwnProperty(A)){g+=1;var m={},v=r.length,y=o.length/3;m.start=v;var C=l.length,I=t.cache.components[A],x=d.geometries[I.geoId];if(!x)continue;var b=x.clone(),E=new At;E.fromArray(I.matrix);var w=b.attributes;b.applyMatrix(E);for(var M=0;M<w.position.array.length;M+=1)o.push(w.position.array[M]);for(var B=0;B<w.normal.array.length;B+=1)s.push(w.normal.array[B]);if(w.uv)for(var _=0;_<w.uv.array.length;_+=1)a.push(w.uv.array[_]);for(var S=0;S<b.index.array.length;S+=1)r.push(b.index.array[S]+y);if(0<b.groups.length)for(var T=0;T<b.groups.length;T+=1){var K={};K.start=b.groups[T].start+v,K.count=b.groups[T].count,-1!==b.groups[T].materialIndex&&(K.materialIndex=b.groups[T].materialIndex+C),c.push(K)}else{var F={};F.start=v,F.count=b.index.count,F.materialIndex=C,c.push(F)}var L=d.materials[I.matId];if(!L)continue;for(S=0;S<L.materials.length;S+=1)l.push(L.materials[S]);if(m.end=r.length/3,m.guid=I.guid,Ah.MaxMergeCount<g){if(g=0,n.addAttribute("position",new Ci(new Float32Array(o),3)),n.addAttribute("normal",new Ci(new Float32Array(s),3)),n.addAttribute("uv",new Ci(new Float32Array(a),2)),h=[],Array.fill)h=Array(o.length).fill(1);else for(var O=0;O<o.length;O+=1)h.push(1);u=new Float32Array(h),n.addAttribute("color",new Ci(u,3,!0)),n.setIndex(r),n.groups=c,p=new ji(n,l),i.add(p),n=new Gi,o=[],r=[],a=[],s=[],l=[],c=[]}}if(n.addAttribute("position",new Ci(new Float32Array(o),3)),n.addAttribute("normal",new Ci(new Float32Array(s),3)),n.addAttribute("uv",new Ci(new Float32Array(a),2)),h=[],Array.fill)h=Array(o.length).fill(1);else for(O=0;O<o.length;O+=1)h.push(1);return u=new Float32Array(h),n.addAttribute("color",new Ci(u,3,!0)),n.setIndex(r),n.groups=c,p=new ji(n,l),i.add(p),c=l=s=a=r=o=h=null,i},setComponentPositionByKey:function(A,e){this.getViewerImpl().setComponentPositionByKey(A,e),this.render()},setComponentPositionById:function(A,e,t){},getBoxByComponentsKey:function(A){return Array.isArray(A)||(A=[A]),this.getViewerImpl().getBoundingBoxByIds(A)},getAttributeByComponentKey:function(){},zoomToBox:function(A,e,t){this.getViewerImpl().zoomToBox(A,e,t)},adaptiveSize:function(){this.getViewerImpl().zoomToSelection()},adaptiveSizeByKey:function(A){Array.isArray(A)||(A=[A]);var e=this.getViewerImpl().getBoundingBoxByIds(A);e&&!e.isEmpty()&&this.getViewerImpl().zoomToBox(e)},flyTo:function(A,e){var t=this;this.getViewerImpl().animator.slerpFlyTo(A,this.viewerImpl,function(A){t.viewerImpl.cameraControl.update(!0,!0)},e)},linearFlyTo:function(A,e){var t=this;this.getViewerImpl().animator.linearFlyTo(A,this.viewerImpl,function(A){t.viewerImpl.cameraControl.update(!0,!0)},e)},slerpFlyTo:function(A,e){var t=this;this.getViewerImpl().animator.slerpFlyTo(A,this.viewerImpl,function(A){t.viewerImpl.cameraControl.update(!0,!0)},e)},enableViewController:function(){return!!this.viewController&&(this.viewController.enable(),!0)},disableViewController:function(){if(!this.viewController)return!1;this.viewController.disable()},enabledCameraRotateOfVerticalPolarAngle:function(A){this.getViewerImpl().cameraControl.enabledPolar(A)},setMinPolarAngle:function(A){this.getViewerImpl().cameraControl.setMinPolarAngle(A)},setMaxPolarAngle:function(A){this.getViewerImpl().cameraControl.setMaxPolarAngle(A)},getMinPolarAngle:function(){return this.getViewerImpl().cameraControl.getMinPolarAngle()},getMaxPolarAngle:function(){return this.getViewerImpl().cameraControl.getMaxPolarAngle()},translateComponentByKey:function(A){this.getViewerImpl().translateComponentByKey(A)},scaleComponentByKey:function(A){this.getViewerImpl().scaleComponentByKey(A)},rotateComponentByKey:function(A){this.getViewerImpl().rotateComponentByKey(A)},cancelTransformComponent:function(A){this.getViewerImpl().cancelTransformComponent(A)},restoreComponentTransform:function(){this.getViewerImpl().restoreComponentTransform()},getComponentLocalMatrixByKey:function(A){return this.getViewerImpl().getComponentLocalMatrixByKey(A)},setComponentLocalMatrixByKey:function(A,e){return this.getViewerImpl().setComponentLocalMatrixByKey(A,e)},increaseComponentTransformControlSize:function(){this.getViewerImpl().increaseComponentTransformControlSize()},decreaseComponentTransformControlSize:function(){this.getViewerImpl().decreaseComponentTransformControlSize()},setComponentTransformSpaceToLocalSpace:function(){this.getViewerImpl().setComponentTransformSpaceToLocalSpace()},setComponentTransformSpaceToWorldSpace:function(){this.getViewerImpl().setComponentTransformSpaceToWorldSpace()},switchComponentTransformSpaceBetweenLocalAndWorld:function(){this.getViewerImpl().switchComponentTransformSpaceBetweenLocalAndWorld()},showComponentTransformOnAxis:function(A){this.getViewerImpl().showComponentTransformOnAxis(A)},hideComponentTransformOnAxis:function(A){this.getViewerImpl().hideComponentTransformOnAxis(A)},disableComponentTransform:function(){this.getViewerImpl().disableComponentTransform()},enableComponentTransform:function(){this.getViewerImpl().enableComponentTransform()},enableSectionBox:function(){var A=this.getViewerImpl();A.controlManager.enableTool(A,vh.CLIP_BY_BOX),this._sectionTool=new vg(A),this._sectionTool.toggle(!0,!0),this._sectionTool.setVisible(!0),this._isSection=!0,this.render()},disableSectionBox:function(){this.getViewerImpl().controlManager.disableTool(vh.CLIP_BY_BOX),this._isSection=!1,this.render()},resetSectionBox:function(){this._isSection?(this.showSectionBox(),this.setSectionBoxMode(),this._sectionTool.reset("Rotate")):Gh.log(Mh[Ah.language].SectionBoxLockHint)},setSectionBoxMode:function(A){this._isSection?this._sectionTool.setRotatable("Rotate"===A):Gh.log(Mh[Ah.language].SectionBoxLockHint)},showSectionBox:function(){this._isSection?(this._sectionTool.setVisible(!0),this.render()):Gh.log(Mh[Ah.language].SectionBoxLockHint)},hideSectionBox:function(){this._isSection?(this._sectionTool.setVisible(!1),this.render()):Gh.log(Mh[Ah.language].SectionBoxLockHint)},setSectionBox:function(A){var e=this.getViewerImpl(),t=e.getScene().getClipPlanes(),i=e.worldToDrawing(A.min),n=e.worldToDrawing(A.max);this.enableSectionBox(),t.setSectionBox(i,n),this.hideSectionBox()},getSectionBoxState:function(){if(this._isSection)return this._sectionTool.saveState();Gh.log(Mh[Ah.language].SectionBoxLockHint)},setSectionBoxState:function(A){this._isSection?this._sectionTool.loadState(A):Gh.log(Mh[Ah.language].SectionBoxLockHint)},registerModelEventListener:function(A,e){this.getViewerImpl().registerEventListener(A,e)},unregisterModelEventListener:function(A,e){this.getViewerImpl().unregisterEventListener(A,e)},registerControlEventListener:function(A,e){this.getViewerImpl().registerDomEventListener(A,e)},unregisterControlEventListener:function(A,e){this.getViewerImpl().unregisterDomEventListener(A,e)},registerCameraEventListener:function(A,e){this.getViewerImpl().registerCameraEventListener(A,e)},unregisterCameraEventListener:function(A,e){this.getViewerImpl().unregisterCameraEventListener(A,e)}});var Pv,Dv,Qv,kv,zv,Vv,Hv,Gv,jv=function(A){var e=A.lobibox,t=A.toolId,i=A.Flag,n=document.createElement("div");return n.className="tab-body",n.id="tab-compare-"+t,e.window({title:("old"===t?"新-旧":"旧-新")+"模型对比结果",width:334,height:705,closeOnEsc:!1,closeButton:!0,afterWindowHide:function(){var A=document.getElementById("modelCompares"+t);i.modelCompares=!1,A&&(A.style.backgroundColor="",A.querySelector(".yj-icon").className="yj-icon modelCompares-icon")},afterWindowShow:function(){var A=document.getElementById("modelCompares"+t);i.modelCompares=!0,A&&(A.style.backgroundColor="#1f89de",A.querySelector(".yj-icon").className="yj-icon modelCompares-icon active")},content:n})},Wv=function(A){var e=A.lobibox,t=A.toolId,i=document.createElement("div");i.className="tab-body",i.id="tab-compare-properties-"+t;var n=document.createElement("table");n.classList.add("sx-table"),n.classList.add("table-no-top"),i.appendChild(n);var o=document.createElement("thead");n.appendChild(o);var r=document.createElement("tbody");n.appendChild(r);var a=document.createElement("tr");a.className="noprop",r.appendChild(a);var s=document.createElement("td");return s.innerText="尚未选择构件",a.appendChild(s),e.window({title:"属性对比详情",width:500,height:400,closeOnEsc:!1,closeButton:!0,afterWindowHide:function(){},content:i})},qv={AGGREGATION:"AGGREGATION",SEPARATION:"SEPARATION",MULTIWINDOW:"MULTIWINDOW"},Xv={added:"added",deleted:"deleted",changed:"changed",noChanged:"noChanged",oldChanged:"oldChanged",newChanged:"newChanged",oldNoChanged:"oldNoChanged",newNoChanged:"newNoChanged"},Yv={addedColor:{color:32768,opacity:1},deletedColor:{color:16711680,opacity:1},changedColor:{color:16753920,opacity:1}},Jv={ACCOUNT_NO_EXIST:"ACCOUNT_NO_EXIST",NO_PERMISSION:"NO_PERMISSION",ON_NETWORK_ERROR:"ON_NETWORK_ERROR",ON_LOAD_INVALID_COMPARES:"ON_LOAD_INVALID_COMPARES",ON_LOAD_INVALID_CONTRASTDETAILS:"ON_LOAD_INVALID_CONTRASTDETAILS",ON_LOAD_INVALID_STATE:"ON_LOAD_INVALID_STATE",ON_LOAD_ERROR:"ON_LOAD_ERROR"},Zv=function(A,e){var t=this,i=kh.extend({},{host:"https://bos3d.bimwinner.com",viewport:"",toolbar:!0,coloringImmediately:!1,showPanel:!1},A);this.host=i.host,this.coloringImmediately=i.coloringImmediately,this.domElement=document.getElementById(i.viewport),this.domElement.style.position="relative",this.oldModelKey="",this.newModelKey="",this.displayModel=e||qv.SEPARATION,t.oldNoChangedList=[],t.newNoChangedList=[],t.oldChangedList=[],t.newChangedList=[],t.deletedList=[],t.addedList=[];var n={modelCompares:i.showPanel},o={modelCompares:i.showPanel};switch(this.displayModel){case qv.AGGREGATION:case qv.SEPARATION:if(this.firstViewer=new Rv(A),this.secondViewer=this.firstViewer,t.oldLobibox=new tu,t.oldLobibox.viewport=document.querySelector("#"+t.firstViewer.viewport),t.newLobibox=t.oldLobibox,i.toolbar){this.firstTool=new Wg(this.firstViewer),this.firstTool.createTool(),this.secondTool=this.firstTool,this.oldCompareWindow=jv({toolId:"old",lobibox:t.oldLobibox,Flag:n}),this.newCompareWindow=this.oldCompareWindow,this.oldContrastDetailsWindow=Wv({toolId:"old",lobibox:t.oldLobibox}),this.newContrastDetailsWindow=this.oldContrastDetailsWindow,this.oldCompareWindow.setPosition({left:"",right:5,top:60}),this.oldContrastDetailsWindow.setPosition({left:t.domElement.offsetWidth/2+t.domElement.offsetLeft/2-250,top:200}),t.oldContrastDetailsWindow.windowHide();var r=document.createElement("div");r.className="yj-group",this.firstTool.toolbarTop.appendChild(r);var a=document.createElement("button");a.className="yj-but",a.title="模型对比结果",a.id="modelComparesold";var s=document.createElement("div");s.classList.add("yj-icon"),s.classList.add("modelCompares-icon"),a.appendChild(s),r.appendChild(a),a.addEventListener("click",function(A){n.modelCompares?t.oldCompareWindow.windowHide():(n.modelCompares=!n.modelCompares,t.oldCompareWindow.windowShow())})}break;case qv.MULTIWINDOW:var l=document.createElement("div");l.setAttribute("id","firstViewer"),l.style.width="50%",l.style.float="left",this.domElement.appendChild(l);var c=document.createElement("div");if(c.setAttribute("id","secondViewer"),c.style.width="50%",c.style.float="left",this.domElement.appendChild(l),this.domElement.appendChild(c),this.firstViewer=new Rv({host:this.host,viewport:"firstViewer"}),this.secondViewer=new Rv({host:this.host,viewport:"secondViewer"}),t.oldLobibox=new tu,t.oldLobibox.viewport=document.querySelector("#"+t.firstViewer.viewport),t.newLobibox=new tu,t.newLobibox.viewport=document.querySelector("#"+t.secondViewer.viewport),i.toolbar){this.firstTool=new Wg(this.firstViewer),this.firstTool.createTool(),this.secondTool=new Wg(this.secondViewer),this.secondTool.createTool(),this.oldCompareWindow=jv({toolId:"old",lobibox:t.oldLobibox,Flag:n}),this.newCompareWindow=jv({toolId:"new",lobibox:t.newLobibox,Flag:o}),this.oldContrastDetailsWindow=Wv({toolId:"old",lobibox:t.oldLobibox}),this.newContrastDetailsWindow=Wv({toolId:"new",lobibox:t.newLobibox}),t.oldContrastDetailsWindow.windowHide(),t.newContrastDetailsWindow.windowHide(),this.oldContrastDetailsWindow.setTitle("旧-新属性对比详情"),this.newContrastDetailsWindow.setTitle("新-旧属性对比详情"),this.oldCompareWindow.setPosition({left:"",right:5+t.domElement.offsetWidth/2+t.domElement.offsetLeft/2,top:60}),this.oldContrastDetailsWindow.setPosition({left:t.domElement.offsetWidth/4+t.domElement.offsetLeft/4-250,top:200}),this.newCompareWindow.setPosition({left:"",right:5,top:60}),this.newContrastDetailsWindow.setPosition({left:t.domElement.offsetWidth/4*3+t.domElement.offsetLeft/4*3-250,top:200});var d=document.createElement("div");d.className="yj-group",this.firstTool.toolbarTop.appendChild(d);var h=document.createElement("button");h.className="yj-but",h.title="模型对比结果",h.id="modelComparesold";var u=document.createElement("div");u.classList.add("yj-icon"),u.classList.add("modelCompares-icon"),h.appendChild(u),d.appendChild(h),h.addEventListener("click",function(A){n.modelCompares?t.oldCompareWindow.windowHide():(n.modelCompares=!n.modelCompares,t.oldCompareWindow.windowShow())});var p=document.createElement("div");p.className="yj-group",this.secondTool.toolbarTop.appendChild(p);var g=document.createElement("button");g.className="yj-but",g.title="模型对比结果",g.id="modelComparesnew";var f=document.createElement("div");f.classList.add("yj-icon"),f.classList.add("modelCompares-icon"),g.appendChild(f),p.appendChild(g),g.addEventListener("click",function(A){o.modelCompares?t.newCompareWindow.windowHide():(o.modelCompares=!o.modelCompares,t.newCompareWindow.windowShow())})}break;default:Gh.error("无效的显示模式！")}i.showPanel||(t.newCompareWindow&&t.newCompareWindow.windowHide(),t.oldCompareWindow&&t.oldCompareWindow.windowHide()),this.firstViewer.getViewerImpl().modelManager.addEventListener(lh.ON_LOAD_COMPLETE,function(A){A.modelKey===t.oldModelKey&&(t.oldModelLoaded=!0,t._applyCompareData(),t._initCompareResultPlane(t.compareData))}),this.secondViewer.getViewerImpl().modelManager.addEventListener(lh.ON_LOAD_COMPLETE,function(A){A.modelKey===t.newModelKey&&(t.newModelLoaded=!0,t._applyCompareData(),t._initCompareResultPlane(t.compareData))})};Object.assign(Zv.prototype,ou.prototype),Object.assign(Zv.prototype,{resize:function(A,e){switch(this.domElement&&(this.domElement.style.height=e+"px",this.domElement.style.width=A+"px"),this.displayModel){case qv.AGGREGATION:case qv.SEPARATION:this.firstViewer.resize(A,e);break;case qv.MULTIWINDOW:this.firstViewer.resize(A/2,e),this.secondViewer.resize(A/2,e);break;default:this.firstViewer.resize(A,e)}},autoResize:function(){this.resize(this.getClientWidth(),this.getClientHeight())},getClientHeight:function(){return jh.getClientHeight()},getClientWidth:function(){return jh.getClientWidth()},resetOldScene:function(A){this.firstViewer.resetScene(A)},resetNewScene:function(A){this.secondViewer.resetScene(A)},resetScene:function(A){this.firstViewer.resetScene(A),this.secondViewer.resetScene(A),this._applyCompareData()},transparentComponentsByType:function(A){var e=this._getDataByType(A);this.firstViewer.transparentComponentsByKey(e.oldList),this.secondViewer.transparentComponentsByKey(e.newList)},transparentOtherComponentsByType:function(A){var e=this._getDataByType(A);switch(this.displayModel){case qv.AGGREGATION:case qv.SEPARATION:this.firstViewer.transparentOtherComponentsByKey([].concat(e.oldList).concat(e.newList));break;case qv.MULTIWINDOW:this.firstViewer.transparentOtherComponentsByKey(e.oldList),this.secondViewer.transparentOtherComponentsByKey(e.newList)}},closeTransparentComponentsByType:function(A){var e=this._getDataByType(A);switch(this.displayModel){case qv.AGGREGATION:case qv.SEPARATION:this.firstViewer.closeTransparentComponentsByKey([].concat(e.oldList).concat(e.newList));break;case qv.MULTIWINDOW:this.firstViewer.closeTransparentComponentsByKey(e.oldList),this.secondViewer.closeTransparentComponentsByKey(e.newList)}},clearComponentTransparentList:function(){switch(this.displayModel){case qv.AGGREGATION:case qv.SEPARATION:this.firstViewer.clearComponentTransparentList();break;case qv.MULTIWINDOW:this.firstViewer.clearComponentTransparentList(),this.secondViewer.clearComponentTransparentList()}},showComponentsByType:function(A){var e=this._getDataByType(A);switch(this.displayModel){case qv.AGGREGATION:case qv.SEPARATION:this.firstViewer.showComponentsByKey([].concat(e.oldList).concat(e.newList));break;case qv.MULTIWINDOW:this.firstViewer.showComponentsByKey(e.oldList),this.secondViewer.showComponentsByKey(e.newList)}},hideComponentsByType:function(A){var e=this._getDataByType(A);switch(this.displayModel){case qv.AGGREGATION:case qv.SEPARATION:this.firstViewer.hideComponentsByKey([].concat(e.oldList).concat(e.newList));break;case qv.MULTIWINDOW:this.firstViewer.hideComponentsByKey(e.oldList),this.secondViewer.hideComponentsByKey(e.newList)}},highlightComponentsByType:function(A){var e=this._getDataByType(A);switch(this.displayModel){case qv.AGGREGATION:case qv.SEPARATION:this.firstViewer.highlightComponentsByKey([].concat(e.oldList).concat(e.newList));break;case qv.MULTIWINDOW:this.firstViewer.highlightComponentsByKey(e.oldList),this.secondViewer.highlightComponentsByKey(e.newList)}},addHighlightComponentsByType:function(A){var e=this._getDataByType(A);switch(this.displayModel){case qv.AGGREGATION:case qv.SEPARATION:this.firstViewer.addHighlightComponentsByKey([].concat(e.oldList).concat(e.newList));break;case qv.MULTIWINDOW:this.firstViewer.addHighlightComponentsByKey(e.oldList),this.secondViewer.addHighlightComponentsByKey(e.newList)}},closeHighlightComponentsByType:function(A){var e=this._getDataByType(A);switch(this.displayModel){case qv.AGGREGATION:case qv.SEPARATION:this.firstViewer.closeHighlightComponentsByKey([].concat(e.oldList).concat(e.newList));break;case qv.MULTIWINDOW:this.firstViewer.closeHighlightComponentsByKey(e.oldList),this.secondViewer.closeHighlightComponentsByKey(e.newList)}},getHighlightComponentsKey:function(){switch(this.displayModel){case qv.AGGREGATION:case qv.SEPARATION:return this.firstViewer.getHighlightComponentsKey();case qv.MULTIWINDOW:return[].concat(this.firstViewer.getHighlightComponentsKey()).concat(this.secondViewer.getHighlightComponentsKey());default:return[]}},clearHighlightList:function(){switch(this.displayModel){case qv.AGGREGATION:case qv.SEPARATION:this.firstViewer.clearHighlightList();break;case qv.MULTIWINDOW:this.firstViewer.clearHighlightList(),this.secondViewer.clearHighlightList()}},getHighlightComponents:function(){switch(this.displayModel){case qv.AGGREGATION:case qv.SEPARATION:return this.firstViewer.getHighlightComponents();case qv.MULTIWINDOW:return[].concat(this.firstViewer.getHighlightComponents()).concat(this.secondViewer.getHighlightComponents());default:return[]}},colorfulComponentsByType:function(A,e,t){var i=this._getDataByType(A);switch(this.displayModel){case qv.AGGREGATION:case qv.SEPARATION:this.firstViewer.colorfulComponentsByKey([].concat(i.oldList).concat(i.newList),e,t);break;case qv.MULTIWINDOW:this.firstViewer.colorfulComponentsByKey(i.oldList,e,t),this.secondViewer.colorfulComponentsByKey(i.newList,e,t)}},closeColorfulComponentsByType:function(A){var e=this._getDataByType(A);switch(this.displayModel){case qv.AGGREGATION:case qv.SEPARATION:this.firstViewer.closeColorfulComponentsByKey([].concat(e.oldList).concat(e.newList));break;case qv.MULTIWINDOW:this.firstViewer.closeColorfulComponentsByKey(e.oldList),this.secondViewer.closeColorfulComponentsByKey(e.newList)}},clearColorfulList:function(){switch(this.displayModel){case qv.AGGREGATION:case qv.SEPARATION:this.firstViewer.clearColorfulList();break;case qv.MULTIWINDOW:this.firstViewer.clearColorfulList(),this.secondViewer.clearColorfulList()}},wireFrameComponentsByType:function(A){var e=this._getDataByType(A);switch(this.displayModel){case qv.AGGREGATION:case qv.SEPARATION:this.firstViewer.wireFrameComponentsByKey([].concat(e.oldList).concat(e.newList));break;case qv.MULTIWINDOW:this.firstViewer.wireFrameComponentsByKey(e.oldList),this.secondViewer.wireFrameComponentsByKey(e.newList)}},closeWireFrameComponentsByType:function(A){var e=this._getDataByType(A);switch(this.displayModel){case qv.AGGREGATION:case qv.SEPARATION:this.firstViewer.closeWireFrameComponentsByKey([].concat(e.oldList).concat(e.newList));break;case qv.MULTIWINDOW:this.firstViewer.closeWireFrameComponentsByKey(e.oldList),this.secondViewer.closeWireFrameComponentsByKey(e.newList)}},clearWireframeList:function(){switch(this.displayModel){case qv.AGGREGATION:case qv.SEPARATION:this.firstViewer.clearWireframeList();break;case qv.MULTIWINDOW:this.firstViewer.clearWireframeList(),this.secondViewer.clearWireframeList()}},isolateComponentsByType:function(A,e){var t=this._getDataByType(A);switch(this.displayModel){case qv.AGGREGATION:case qv.SEPARATION:this.firstViewer.isolateComponentsByKey([].concat(t.oldList).concat(t.newList),e);break;case qv.MULTIWINDOW:this.firstViewer.isolateComponentsByKey(t.oldList,e),this.secondViewer.isolateComponentsByKey(t.newList,e)}},closeIsolateComponentsByType:function(A){var e=this._getDataByType(A);switch(this.displayModel){case qv.AGGREGATION:case qv.SEPARATION:this.firstViewer.closeIsolateComponentsByKey([].concat(e.oldList).concat(e.newList));break;case qv.MULTIWINDOW:this.firstViewer.closeIsolateComponentsByKey(e.oldList),this.secondViewer.closeIsolateComponentsByKey(e.newList)}},clearIsolation:function(){switch(this.displayModel){case qv.AGGREGATION:case qv.SEPARATION:this.firstViewer.clearIsolation();break;case qv.MULTIWINDOW:this.firstViewer.clearIsolation(),this.secondViewer.clearIsolation()}},getAddedList:function(){return this.addedList},getDeletedList:function(){return this.deletedList},getChangedList:function(){return[].concat(this.oldChangedList).concat(this.newChangedList)},getNoChangedList:function(){return[].concat(this.oldNoChangedList).concat(this.newNoChangedList)},getNewChangedList:function(){return this.newChangedList},getOldChangedList:function(){return this.oldChangedList},getNewNoChangedList:function(){return this.newNoChangedList},getOldNoChangedList:function(){return this.oldNoChangedList},setAddedColor:function(A,e){Yv.addedColor.color=A,Yv.addedColor.opacity=e},setChangedColor:function(A,e){Yv.changedColor.color=A,Yv.changedColor.opacity=e},setDeletedColor:function(A,e){Yv.deletedColor.color=A,Yv.deletedColor.opacity=e},getAddedColor:function(){return Yv.addedColor},getChangedColor:function(){return Yv.changedColor},getDeletedColor:function(){return Yv.deletedColor},getOldViewer:function(){return this.firstViewer},getNewViewer:function(){return this.secondViewer},getOldToolbar:function(){return this.firstTool},getNewToolbar:function(){return this.secondTool},getComponentAttribute:function(A,e){var t=this.firstViewer.viewerImpl.getModelByComponentKey(A),i=this.secondViewer.viewerImpl.getModelByComponentKey(A);t?this.firstViewer.getComponentsAttributeByKey(A,function(A){A&&e(A.attribute)}):i&&this.secondViewer.getComponentsAttributeByKey(A,function(A){A&&e(A.attribute)})},getContrastDetails:function(A,e,t){var i=this;Bu({type:"GET",url:this.host+"/api/"+this.projectKey+"/compares/changes?compareKey="+this.compareKey+"&newComponentKey="+e+"&oldComponentKey="+A,headers:{Authorization:this.accessToken},success:function(A){var e={};if("string"==typeof A)try{e=JSON.parse(A)}catch(A){return void i.dispatchEvent({type:Jv.ON_LOAD_INVALID_CONTRASTDETAILS,compareKey:i.compareKey})}else e=A;e&&"SUCCESS"===e.code?t&&t(e.data):(Gh.log(i.compareKey,"获取对比详情出错! ",e.message),i.dispatchEvent({type:Jv.ON_LOAD_ERROR,compareKey:i.compareKey,code:e.code,message:e.message}))},error:function(A,e){switch(A){case 401:i.dispatchEvent({type:Jv.ACCOUNT_NO_EXIST,compareKey:i.compareKey,data:e});break;case 403:i.dispatchEvent({type:Jv.NO_PERMISSION,compareKey:i.compareKey,data:e});break;default:i.dispatchEvent({type:Jv.ON_NETWORK_ERROR,compareKey:i.compareKey,data:A})}}})},showOldContrastDetails:(zv="",Vv=document.getElementById("tab-compare-properties-old"),Hv=function(A,e,t,i,n){var o=document.createElement("tr");i.parentNode.appendChild(o),o.classList.add(n);var r=document.createElement("td");r.innerText=A||"",o.appendChild(r);var a=document.createElement("td");a.innerText=e||"",o.appendChild(a);var s=document.createElement("td");s.innerText=t||"",o.appendChild(s)},Gv=function(A,e,t,i){var n=document.createElement("tr");n.className="sx-active",Vv.querySelector("table tbody").appendChild(n);var o=document.createElement("td");for(var r in o.colSpan=2,o.style.fontSize="14px",n.appendChild(o),o.appendChild(document.createElement("b")),o.firstElementChild.innerHTML=A,e)if(e.hasOwnProperty(r)){if(!(t&&t[r]||i&&i[r])){Hv(r,e[r],e[r],n,"compares_noChanged");continue}if(t&&t[r]&&i&&i[r]){Hv(r,e[r],i[r],n,"compares_changed"),delete i[r];continue}if((!t||!t[r])&&i&&i[r]){Hv(r,"",i[r],n,"compares_added"),delete i[r];continue}!t||!t[r]||i&&i[r]||Hv(r,e[r],"",n,"compares_deleted")}for(var a in i)i.hasOwnProperty(a)&&(void 0!==e[a]?Hv(a,e[a],i[a],n,"compares_changed"):Hv(a,"",i[a],n,"compares_added"))},function(A){var r=this;if((Vv=document.querySelector("#tab-compare-properties-old"))&&(r.showOldContrastDetailsWindow(),A!==zv)){if(void 0===A){var e=Vv.querySelectorAll("table tbody tr");Vv.querySelector("table tbody").removeChild(e[0]),Vv.querySelector("table tbody").innerHTML="";var t=document.createElement("tr");t.className="noprop";var i=document.createElement("td");return i.setAttribute("colspan","2"),i.innerHTML="未选中构件",t.appendChild(i),Vv.querySelector("table tbody").appendChild(t),void(zv=A)}zv=A;var n=Vv.querySelectorAll("table tbody tr");Vv.querySelector("table tbody").removeChild(n[0]),r.getComponentAttribute(zv,function(u){if(Vv.querySelector("table tbody").innerHTML="",null===u){var A=document.createElement("tr");A.className="noprop";var e=document.createElement("td");return e.innerHTML="没有属性",A.appendChild(e),void Vv.querySelector("table tbody").appendChild(A)}if(void 0===u){var t=document.createElement("tr");t.className="noprop";var i=document.createElement("td");return i.innerHTML="属性加载失败",t.appendChild(i),void Vv.querySelector("table tbody").appendChild(t)}var n=zv.indexOf("_");if(-1!==n){var o=r.newModelKey+zv.slice(n);r.getContrastDetails(zv,o,function(A){var e=A.old.attribute,t=A.new.attribute,i=document.createElement("tr");i.className="noprop";var n=document.createElement("th");i.appendChild(n);var o=document.createElement("span");o.classList.add("value"),o.classList.add("nonEditable"),o.innerHTML="属性名",n.appendChild(o);var r=document.createElement("th");i.appendChild(r);var a=document.createElement("span");a.classList.add("value"),a.classList.add("nonEditable"),a.innerHTML="修改前",r.appendChild(a);var s=document.createElement("th");i.appendChild(s);var l=document.createElement("span");l.classList.add("value"),l.classList.add("nonEditable"),l.innerHTML="修改后",s.appendChild(l),Vv.querySelector("table tbody").appendChild(i);var c=u;for(var d in c)"object"===Bh(c[d])?(Gv(d,c[d],e[d],t[d]),delete t[d]):"string"==typeof c[d]&&Hv(d,c[d],t[d],i);for(var h in t)"object"===Bh(c[h])?Gv(h,c[h],e[h],t[h]):"string"==typeof c[h]&&Hv(h,c[h],t[h],i)})}})}}),showNewContrastDetails:(Pv="",Dv=document.getElementById("tab-compare-properties-new"),Qv=function(A,e,t,i,n){var o=document.createElement("tr");i.parentNode.appendChild(o),o.classList.add(n);var r=document.createElement("td");r.innerText=A||"",o.appendChild(r);var a=document.createElement("td");a.innerText=e||"",o.appendChild(a);var s=document.createElement("td");s.innerText=t||"",o.appendChild(s)},kv=function(A,e,t,i){var n=document.createElement("tr");n.className="sx-active",Dv.querySelector("table tbody").appendChild(n);var o=document.createElement("td");for(var r in o.colSpan=2,o.style.fontSize="14px",n.appendChild(o),o.appendChild(document.createElement("b")),o.firstElementChild.innerHTML=A,e)if(e.hasOwnProperty(r)){if(!(t&&t[r]||i&&i[r])){Qv(r,e[r],e[r],n,"compares_noChanged");continue}if(t&&t[r]&&i&&i[r]){Qv(r,e[r],i[r],n,"compares_changed"),delete i[r];continue}if((!t||!t[r])&&i&&i[r]){Qv(r,"",i[r],n,"compares_added"),delete i[r];continue}!t||!t[r]||i&&i[r]||Qv(r,e[r],"",n,"compares_deleted")}for(var a in i)i.hasOwnProperty(a)&&(void 0!==e[a]?Qv(a,e[a],i[a],n,"compares_changed"):Qv(a,"",i[a],n,"compares_added"))},function(A){var r=this;if((Dv=document.querySelector("#tab-compare-properties-new"))&&(r.showNewContrastDetailsWindow(),A!==Pv)){if(void 0===A){var e=Dv.querySelectorAll("table tbody tr");Dv.querySelector("table tbody").removeChild(e[0]),Dv.querySelector("table tbody").innerHTML="";var t=document.createElement("tr");t.className="noprop";var i=document.createElement("td");return i.setAttribute("colspan","2"),i.innerHTML="未选中构件",t.appendChild(i),Dv.querySelector("table tbody").appendChild(t),void(Pv=A)}Pv=A;var n=Dv.querySelectorAll("table tbody tr");Dv.querySelector("table tbody").removeChild(n[0]),r.getComponentAttribute(Pv,function(u){if(Dv.querySelector("table tbody").innerHTML="",null===u){var A=document.createElement("tr");A.className="noprop";var e=document.createElement("td");return e.innerHTML="没有属性",A.appendChild(e),void Dv.querySelector("table tbody").appendChild(A)}if(void 0===u){var t=document.createElement("tr");t.className="noprop";var i=document.createElement("td");return i.innerHTML="属性加载失败",t.appendChild(i),void Dv.querySelector("table tbody").appendChild(t)}var n=Pv.indexOf("_");if(-1!==n){var o=r.oldModelKey+Pv.slice(n);r.getContrastDetails(o,Pv,function(A){var e=A.new.attribute,t=A.old.attribute,i=document.createElement("tr");i.className="noprop";var n=document.createElement("th");i.appendChild(n);var o=document.createElement("span");o.classList.add("value"),o.classList.add("nonEditable"),o.innerHTML="属性名",n.appendChild(o);var r=document.createElement("th");i.appendChild(r);var a=document.createElement("span");a.classList.add("value"),a.classList.add("nonEditable"),a.innerHTML="修改前",r.appendChild(a);var s=document.createElement("th");i.appendChild(s);var l=document.createElement("span");l.classList.add("value"),l.classList.add("nonEditable"),l.innerHTML="修改后",s.appendChild(l),Dv.querySelector("table tbody").appendChild(i);var c=u;for(var d in c)"object"===Bh(c[d])?(kv(d,c[d],e[d],t[d]),delete t[d]):"string"==typeof c[d]&&Qv(d,c[d],t[d],i);for(var h in t)"object"===Bh(c[h])?kv(h,c[h],e[h],t[h]):"string"==typeof c[h]&&Qv(h,c[h],t[h],i)})}})}}),showOldContrastDetailsWindow:function(){this.oldContrastDetailsWindow&&this.oldContrastDetailsWindow.windowShow&&this.oldContrastDetailsWindow.windowShow()},showNewContrastDetailsWindow:function(){this.newContrastDetailsWindow&&this.newContrastDetailsWindow.windowShow&&this.newContrastDetailsWindow.windowShow()},hideOldContrastDetailsWindow:function(){this.oldContrastDetailsWindow&&this.oldContrastDetailsWindow.windowHide&&this.oldContrastDetailsWindow.windowHide()},hideNewContrastDetailsWindow:function(){this.newContrastDetailsWindow&&this.newContrastDetailsWindow.windowHide()&&this.newContrastDetailsWindow.windowHide()},showContrastDetailsWindow:function(){this.showOldContrastDetailsWindow(),this.showNewContrastDetailsWindow()},hideContrastDetailsWindow:function(){this.hideOldContrastDetailsWindow(),this.hideNewContrastDetailsWindow()},showOldCompareWindow:function(){this.oldCompareWindow&&this.oldCompareWindow.windowShow&&this.oldCompareWindow.windowShow()},showNewCompareWindow:function(){this.newCompareWindow&&this.newCompareWindow.windowShow&&this.newCompareWindow.windowShow()},hideOldCompareWindow:function(){this.oldCompareWindow&&this.oldCompareWindow.windowHide&&this.oldCompareWindow.windowHide()},hideNewCompareWindow:function(){this.newCompareWindow&&this.newCompareWindow.windowHide()&&this.newCompareWindow.windowHide()},showCompareWindow:function(){this.showOldCompareWindow(),this.showNewCompareWindow()},hideCompareWindow:function(){this.hideOldCompareWindow(),this.hideNewCompareWindow()}}),Zv.prototype.addView=function(t,A,e){var i=this;this.compareKey=t,this.projectKey=A,this.accessToken=e||"",Bu({type:"GET",url:this.host+"/api/"+A+"/compares/status?compareKey="+t,headers:{Authorization:this.accessToken},success:i._loadSuccess.bind(i),error:function(A,e){switch(A){case 401:i.dispatchEvent({type:Jv.ACCOUNT_NO_EXIST,compareKey:t,data:e});break;case 403:i.dispatchEvent({type:Jv.NO_PERMISSION,compareKey:t,data:e});break;default:i.dispatchEvent({type:Jv.ON_NETWORK_ERROR,compareKey:t,data:A})}}}),i._loadCompares()},Zv.prototype._loadCompares=function(){var t=this;Bu({type:"GET",url:this.host+"/api/"+this.projectKey+"/compares?compareKey="+this.compareKey,headers:{Authorization:this.accessToken},success:t._loadComparesSuccess.bind(t),error:function(A,e){switch(A){case 401:t.dispatchEvent({type:Jv.ACCOUNT_NO_EXIST,compareKey:t.compareKey,data:e});break;case 403:t.dispatchEvent({type:Jv.NO_PERMISSION,compareKey:t.compareKey,data:e});break;default:t.dispatchEvent({type:Jv.ON_NETWORK_ERROR,compareKey:t.compareKey,data:A})}}})},Zv.prototype._loadComparesSuccess=function(A){var e=this,t={};if("string"==typeof A)try{t=JSON.parse(A)}catch(A){return void e.dispatchEvent({type:Jv.ON_LOAD_INVALID_COMPARES,compareKey:e.compareKey})}else t=A;if(t&&"SUCCESS"===t.code){e.compareData=t.data,e.compareDataLoaded=!0;for(var i=[],n=[],o=null,r=0,a=e.compareData.changed.length;r<a;r+=1)i.push((o=e.compareData.changed[r]).old),n.push(o.new);e.oldChangedList=i,e.newChangedList=n,e.deletedList=e.compareData.deleted,e.addedList=e.compareData.added,e._initCompareResultPlane(t.data),e._applyCompareData()}else Gh.log(e.compareKey,"config load error! ",t.message),e.dispatchEvent({type:Jv.ON_LOAD_ERROR,compareKey:e.compareKey,code:t.code,message:t.message})},Zv.prototype._loadSuccess=function(A){var e=this,t={};if("string"==typeof A)try{t=JSON.parse(A)}catch(A){return void e.dispatchEvent({type:Jv.ON_LOAD_INVALID_STATE,compareKey:e.compareKey})}else t=A;if(t&&"SUCCESS"===t.code)if("1"!==t.data.status);else switch(e.oldModelKey=t.data.old,e.newModelKey=t.data.new,e.name=t.data.name,e.displayModel){case qv.AGGREGATION:case qv.SEPARATION:this.firstViewer.addView(e.oldModelKey,e.projectKey,e.accessToken),this.firstViewer.addView(e.newModelKey,e.projectKey,e.accessToken);break;case qv.MULTIWINDOW:this.firstViewer.addView(e.oldModelKey,e.projectKey,e.accessToken),this.secondViewer.addView(e.newModelKey,e.projectKey,e.accessToken);break;default:this.firstViewer.addView(e.oldModelKey,e.projectKey,e.accessToken),this.firstViewer.addView(e.newModelKey,e.projectKey,e.accessToken)}else Gh.log(e.compareKey,"config load error! ",t.message),e.dispatchEvent({type:Jv.ON_LOAD_ERROR,compareKey:e.compareKey,code:t.code,message:t.message})},Zv.prototype._applyCompareData=function(){var A=this;if(A.oldModelLoaded&&A.newModelLoaded&&A.compareDataLoaded){var e=A.firstViewer.getViewerImpl().getModel(A.oldModelKey),t=null,i=null;if(e){var n=e.getComponentlist();t=this.firstViewer.getBoxByComponentsKey(n);for(var o=0,r=A.deletedList.length;o<r;o+=1)n.remove(A.deletedList[o]);for(var a=0,s=A.oldChangedList.length;a<s;a+=1)n.remove(A.oldChangedList[a]);A.oldNoChangedList=n}var l=A.secondViewer.getViewerImpl().getModel(A.newModelKey);if(l){var c=l.getComponentlist();i=this.firstViewer.getBoxByComponentsKey(c);for(var d=0,h=A.addedList.length;d<h;d+=1)c.remove(A.addedList[d]);for(var u=0,p=A.newChangedList.length;u<p;u+=1)c.remove(A.newChangedList[u]);A.newNoChangedList=c}if(this.displayModel===qv.SEPARATION&&!t.isEmpty()&&!i.isEmpty()){var g=t.getSize(),f=i.getSize(),m=1,v=1,y=0;m=g.x<f.x?g.x:f.x,v=g.y<f.y?g.y:f.y;var C=l.getModelMatrix(),I=this.firstViewer.viewerImpl.modelManager.scene.getBoundingBoxWorld();v<m?(C.elements[14]+=y=1.5*v,I.min.y-=y/2,I.max.y+=y/2):(C.elements[13]+=y=1.5*m,I.min.x-=y/2,I.max.x+=y/2),l.setModelMatrix(C),this.firstViewer.viewerImpl.modelManager.scene.setBoundingBoxWorld(I),this.firstViewer.adaptiveSize()}A.coloringImmediately&&(this.firstViewer.colorfulComponentsByKey(A.deletedList,Yv.deletedColor.color,Yv.deletedColor.opacity),this.secondViewer.colorfulComponentsByKey(A.addedList,Yv.addedColor.color,Yv.addedColor.opacity),this.firstViewer.colorfulComponentsByKey(A.oldChangedList,Yv.changedColor.color,Yv.changedColor.opacity),this.secondViewer.colorfulComponentsByKey(A.newChangedList,Yv.changedColor.color,Yv.changedColor.opacity))}},Zv.prototype._getDataByType=function(A){var e=this,t=[],i=[];switch(A){case Xv.added:i=e.addedList;break;case Xv.deleted:t=e.deletedList;break;case Xv.changed:t=e.oldChangedList,i=e.newChangedList;break;case Xv.noChanged:t=e.oldNoChangedList,i=e.newNoChangedList;break;case Xv.oldChanged:t=e.oldChangedList;break;case Xv.newChanged:i=e.newChangedList;break;case Xv.oldNoChanged:t=e.oldNoChangedList;break;case Xv.newNoChanged:i=e.newNoChangedList}return{oldList:t,newList:i}},Zv.prototype._addProperty=function(A,e,t){var o=this,i=document.createElement("tr");i.classList.add("compares_list_tr");var n=document.createElement("td");n.innerText=A||"",i.appendChild(n);var r=document.createElement("td");if(r.innerText=e||"",i.appendChild(r),void 0!==t){var a=document.createElement("td"),s=document.createElement("a");s.classList.add("showDetails"),t?(s.innerHTML="查看详情",s.addEventListener("click",function(A){A.stopPropagation();for(var e=A.target.parentNode.parentNode.oldKey,t=A.target.parentNode.parentNode.newKey,i=0,n=A.path.length;i<n;i+=1){if("tab-compare-old"===A.path[i].id){o.showOldContrastDetails(e);break}if("tab-compare-new"===A.path[i].id){o.showNewContrastDetails(t);break}}})):s.innerHTML="无",a.appendChild(s),i.appendChild(a)}return i},Zv.prototype._initCompareResultPlane=function(A){if(this.oldModelLoaded&&this.newModelLoaded&&this.compareDataLoaded)switch(this.displayModel){case qv.AGGREGATION:case qv.SEPARATION:var e=document.getElementById("tab-compare-old");if(!e)return;this._createPanel(e,A);break;case qv.MULTIWINDOW:var t=document.getElementById("tab-compare-old");if(!t)return;this._createInversionPanel(t,A);var i=document.getElementById("tab-compare-new");if(!i)return;this._createPanel(i,A)}},Zv.prototype._createPanel=function(A,e){var r=this;if(A){var t=document.createElement("div");t.classList.add("compares_list_body"),A.appendChild(t);var i=document.createElement("div");i.classList.add("compares_list_title"),i.innerText="新增构件列表("+r.addedList.length+")",i.addEventListener("click",function(A){for(var e=A.target.parentNode.querySelectorAll("tr"),t=[],i=0,n=e.length;i<n;i+=1)e[i].newKey&&t.push(e[i].newKey);r.secondViewer.adaptiveSizeByKey(t),r.secondViewer.clearColorfulList(),r.secondViewer.clearTransparentList(),r.secondViewer.transparentOtherComponentsByKey(t),r.secondViewer.colorfulComponentsByKey(t,Yv.addedColor.color,Yv.addedColor.opacity)}),t.appendChild(i);var n=document.createElement("table");n.classList.add("sx-table"),n.classList.add("compares_list_table"),n.classList.add("table-no-top"),t.appendChild(n);var o=document.createElement("thead");n.appendChild(o);var a=document.createElement("tbody");n.appendChild(a);var s=document.createElement("tr");s.style.backgroundColor="rgba(0, 128, 0, 0.8)",s.className="noprop";var l=document.createElement("th");s.appendChild(l);var c=document.createElement("span");c.classList.add("value"),c.classList.add("nonEditable"),c.innerHTML="名称",l.appendChild(c);var d=document.createElement("th");s.appendChild(d);var h=document.createElement("span");h.classList.add("value"),h.classList.add("nonEditable"),h.innerHTML="类型",d.appendChild(h),o.appendChild(s);for(var u=0,p=r.addedList.length;u<p;u+=1){var g=r.secondViewer.getComponentsByKey(r.addedList[u]);if(g&&g[0]&&g[0][r.addedList[u]]&&g[0][r.addedList[u]][0]){var f=r._addProperty(g[0][r.addedList[u]][0].name,g[0][r.addedList[u]][0].type);f.oldKey="",f.newKey=r.addedList[u],f.addEventListener("click",function(A){var e=A.target.parentNode.newKey;e&&(r.secondViewer.adaptiveSizeByKey(e),r.secondViewer.clearColorfulList(),r.secondViewer.clearTransparentList(),r.secondViewer.transparentOtherComponentsByKey(e),r.secondViewer.colorfulComponentsByKey(e,Yv.addedColor.color,Yv.addedColor.opacity))}),a.appendChild(f)}}var m=document.createElement("div");m.classList.add("compares_list_body"),A.appendChild(m);var v=document.createElement("div");v.classList.add("compares_list_title"),v.innerText="变更构件列表("+e.changed.length+")",v.addEventListener("click",function(A){for(var e=A.target.parentNode.querySelectorAll("tr"),t=[],i=[],n=0,o=e.length;n<o;n+=1)e[n].oldKey&&i.push(e[n].oldKey),e[n].newKey&&t.push(e[n].newKey);switch(r.displayModel){case qv.AGGREGATION:case qv.SEPARATION:r.secondViewer.adaptiveSizeByKey(t.concat(i)),r.secondViewer.clearColorfulList(),r.secondViewer.clearTransparentList(),r.secondViewer.transparentOtherComponentsByKey(t.concat(i)),r.secondViewer.colorfulComponentsByKey(t.concat(i),Yv.changedColor.color,Yv.changedColor.opacity);break;case qv.MULTIWINDOW:r.firstViewer.adaptiveSizeByKey(i),r.firstViewer.clearColorfulList(),r.firstViewer.clearTransparentList(),r.firstViewer.transparentOtherComponentsByKey(i),r.firstViewer.colorfulComponentsByKey(i,Yv.changedColor.color,Yv.changedColor.opacity),r.secondViewer.adaptiveSizeByKey(t),r.secondViewer.clearColorfulList(),r.secondViewer.clearTransparentList(),r.secondViewer.transparentOtherComponentsByKey(t),r.secondViewer.colorfulComponentsByKey(t,Yv.changedColor.color,Yv.changedColor.opacity)}}),m.appendChild(v);var y=document.createElement("table");y.classList.add("sx-table"),y.classList.add("compares_list_table"),y.classList.add("table-no-top"),m.appendChild(y);var C=document.createElement("thead");y.appendChild(C);var I=document.createElement("tbody");y.appendChild(I);var x=document.createElement("tr");x.style.backgroundColor="rgba(255, 165, 0, 0.8)",x.className="noprop";var b=document.createElement("th");x.appendChild(b);var E=document.createElement("span");E.classList.add("value"),E.classList.add("nonEditable"),E.innerHTML="名称",b.appendChild(E);var w=document.createElement("th");x.appendChild(w);var M=document.createElement("span");M.classList.add("value"),M.classList.add("nonEditable"),M.innerHTML="类型",w.appendChild(M);var B=document.createElement("th");x.appendChild(B);var _=document.createElement("span");_.classList.add("value"),_.classList.add("nonEditable"),_.innerHTML="操作",B.appendChild(_),C.appendChild(x);for(var S=0,T=e.changed.length;S<T;S+=1){var K=r.secondViewer.getComponentsByKey(e.changed[S].new);if(K&&K[0]&&K[0][e.changed[S].new]&&K[0][e.changed[S].new][0]){var F=r._addProperty(K[0][e.changed[S].new][0].name,K[0][e.changed[S].new][0].type,"geometry"!==e.changed[S].type);F.oldKey=e.changed[S].old,F.newKey=e.changed[S].new,F.addEventListener("click",function(A){var e=A.target.parentNode.oldKey,t=A.target.parentNode.newKey;if(e&&t)switch(r.displayModel){case qv.AGGREGATION:case qv.SEPARATION:r.secondViewer.adaptiveSizeByKey([e,t]),r.secondViewer.clearColorfulList(),r.secondViewer.clearTransparentList(),r.secondViewer.transparentOtherComponentsByKey([e,t]),r.secondViewer.colorfulComponentsByKey([e,t],Yv.changedColor.color,Yv.changedColor.opacity);break;case qv.MULTIWINDOW:r.firstViewer.adaptiveSizeByKey(e),r.firstViewer.clearColorfulList(),r.firstViewer.clearTransparentList(),r.firstViewer.transparentOtherComponentsByKey(e),r.firstViewer.colorfulComponentsByKey(e,Yv.changedColor.color,Yv.changedColor.opacity),r.secondViewer.adaptiveSizeByKey(t),r.secondViewer.clearColorfulList(),r.secondViewer.clearTransparentList(),r.secondViewer.transparentOtherComponentsByKey(t),r.secondViewer.colorfulComponentsByKey(t,Yv.changedColor.color,Yv.changedColor.opacity)}}),I.appendChild(F)}}var L=document.createElement("div");L.classList.add("compares_list_body"),A.appendChild(L);var O=document.createElement("div");O.classList.add("compares_list_title"),O.innerText="移除构件列表("+r.deletedList.length+")",O.addEventListener("click",function(A){for(var e=A.target.parentNode.querySelectorAll("tr"),t=[],i=0,n=e.length;i<n;i+=1)e[i].oldKey&&t.push(e[i].oldKey);r.secondViewer.adaptiveSizeByKey(t),r.secondViewer.clearColorfulList(),r.secondViewer.clearTransparentList(),r.secondViewer.transparentOtherComponentsByKey(t),r.secondViewer.colorfulComponentsByKey(t,Yv.deletedColor.color,Yv.deletedColor.opacity)}),L.appendChild(O);var U=document.createElement("table");U.classList.add("sx-table"),U.classList.add("compares_list_table"),U.classList.add("table-no-top"),L.appendChild(U);var N=document.createElement("thead");U.appendChild(N);var R=document.createElement("tbody");U.appendChild(R);var P=document.createElement("tr");P.style.backgroundColor="rgba(255, 0, 0, 0.8)",P.className="noprop";var D=document.createElement("th");P.appendChild(D);var Q=document.createElement("span");Q.classList.add("value"),Q.classList.add("nonEditable"),Q.innerHTML="名称",D.appendChild(Q);var k=document.createElement("th");P.appendChild(k);var z=document.createElement("span");z.classList.add("value"),z.classList.add("nonEditable"),z.innerHTML="类型",k.appendChild(z),N.appendChild(P);for(var V=0,H=r.deletedList.length;V<H;V+=1){var G=r.firstViewer.getComponentsByKey(r.deletedList[V]);if(G&&G[0]&&G[0][r.deletedList[V]]&&G[0][r.deletedList[V]][0]){var j=r._addProperty(G[0][r.deletedList[V]][0].name,G[0][r.deletedList[V]][0].type);j.oldKey=r.deletedList[V],j.newKey="",j.addEventListener("click",function(A){var e=A.target.parentNode.oldKey;e&&(r.firstViewer.adaptiveSizeByKey(e),r.firstViewer.clearColorfulList(),r.firstViewer.clearTransparentList(),r.firstViewer.transparentOtherComponentsByKey(e),r.firstViewer.colorfulComponentsByKey(e,Yv.deletedColor.color,Yv.deletedColor.opacity))}),R.appendChild(j)}}}},Zv.prototype._createInversionPanel=function(A,e){var r=this;if(A){var t=r.deletedList,i=r.addedList,n=document.createElement("div");n.classList.add("compares_list_body"),A.appendChild(n);var o=document.createElement("div");o.classList.add("compares_list_title"),o.innerText="新增构件列表("+t.length+")",o.addEventListener("click",function(A){for(var e=A.target.parentNode.querySelectorAll("tr"),t=[],i=0,n=e.length;i<n;i+=1)e[i].newKey&&t.push(e[i].newKey);r.firstViewer.adaptiveSizeByKey(t),r.firstViewer.clearColorfulList(),r.firstViewer.clearTransparentList(),r.firstViewer.transparentOtherComponentsByKey(t),r.firstViewer.colorfulComponentsByKey(t,Yv.addedColor.color,Yv.addedColor.opacity)}),n.appendChild(o);var a=document.createElement("table");a.classList.add("sx-table"),a.classList.add("compares_list_table"),a.classList.add("table-no-top"),n.appendChild(a);var s=document.createElement("thead");a.appendChild(s);var l=document.createElement("tbody");a.appendChild(l);var c=document.createElement("tr");c.style.backgroundColor="rgba(0, 128, 0, 0.8)",c.className="noprop";var d=document.createElement("th");c.appendChild(d);var h=document.createElement("span");h.classList.add("value"),h.classList.add("nonEditable"),h.innerHTML="名称",d.appendChild(h);var u=document.createElement("th");c.appendChild(u);var p=document.createElement("span");p.classList.add("value"),p.classList.add("nonEditable"),p.innerHTML="类型",u.appendChild(p),s.appendChild(c);for(var g=0,f=t.length;g<f;g+=1){var m=r.firstViewer.getComponentsByKey(t[g]);if(m&&m[0]&&m[0][t[g]]&&m[0][t[g]][0]){var v=r._addProperty(m[0][t[g]][0].name,m[0][t[g]][0].type);v.oldKey="",v.newKey=t[g],v.addEventListener("click",function(A){var e=A.target.parentNode.newKey;e&&(r.firstViewer.adaptiveSizeByKey(e),r.firstViewer.clearColorfulList(),r.firstViewer.clearTransparentList(),r.firstViewer.transparentOtherComponentsByKey(e),r.firstViewer.colorfulComponentsByKey(e,Yv.addedColor.color,Yv.addedColor.opacity))}),l.appendChild(v)}}var y=document.createElement("div");y.classList.add("compares_list_body"),A.appendChild(y);var C=document.createElement("div");C.classList.add("compares_list_title"),C.innerText="变更构件列表("+e.changed.length+")",C.addEventListener("click",function(A){for(var e=A.target.parentNode.querySelectorAll("tr"),t=[],i=[],n=0,o=e.length;n<o;n+=1)e[n].oldKey&&i.push(e[n].oldKey),e[n].newKey&&t.push(e[n].newKey);switch(r.displayModel){case qv.AGGREGATION:case qv.SEPARATION:r.secondViewer.adaptiveSizeByKey(t.concat(i)),r.secondViewer.clearColorfulList(),r.secondViewer.clearTransparentList(),r.secondViewer.transparentOtherComponentsByKey(t.concat(i)),r.secondViewer.colorfulComponentsByKey(t.concat(i),Yv.changedColor.color,Yv.changedColor.opacity);break;case qv.MULTIWINDOW:r.firstViewer.adaptiveSizeByKey(i),r.firstViewer.clearColorfulList(),r.firstViewer.clearTransparentList(),r.firstViewer.transparentOtherComponentsByKey(i),r.firstViewer.colorfulComponentsByKey(i,Yv.changedColor.color,Yv.changedColor.opacity),r.secondViewer.adaptiveSizeByKey(t),r.secondViewer.clearColorfulList(),r.secondViewer.clearTransparentList(),r.secondViewer.transparentOtherComponentsByKey(t),r.secondViewer.colorfulComponentsByKey(t,Yv.changedColor.color,Yv.changedColor.opacity)}}),y.appendChild(C);var I=document.createElement("table");I.classList.add("sx-table"),I.classList.add("compares_list_table"),I.classList.add("table-no-top"),y.appendChild(I);var x=document.createElement("thead");I.appendChild(x);var b=document.createElement("tbody");I.appendChild(b);var E=document.createElement("tr");E.style.backgroundColor="rgba(255, 165, 0, 0.8)",E.className="noprop";var w=document.createElement("th");E.appendChild(w);var M=document.createElement("span");M.classList.add("value"),M.classList.add("nonEditable"),M.innerHTML="名称",w.appendChild(M);var B=document.createElement("th");E.appendChild(B);var _=document.createElement("span");_.classList.add("value"),_.classList.add("nonEditable"),_.innerHTML="类型",B.appendChild(_);var S=document.createElement("th");E.appendChild(S);var T=document.createElement("span");T.classList.add("value"),T.classList.add("nonEditable"),T.innerHTML="操作",S.appendChild(T),x.appendChild(E);for(var K=0,F=e.changed.length;K<F;K+=1){var L=r.secondViewer.getComponentsByKey(e.changed[K].new);if(L&&L[0]&&L[0][e.changed[K].new]&&L[0][e.changed[K].new][0]){var O=r._addProperty(L[0][e.changed[K].new][0].name,L[0][e.changed[K].new][0].type,"geometry"!==e.changed[K].type);O.oldKey=e.changed[K].old,O.newKey=e.changed[K].new,O.addEventListener("click",function(A){var e=A.target.parentNode.oldKey,t=A.target.parentNode.newKey;if(e&&t)switch(r.displayModel){case qv.AGGREGATION:case qv.SEPARATION:r.secondViewer.adaptiveSizeByKey([e,t]),r.secondViewer.clearColorfulList(),r.secondViewer.clearTransparentList(),r.secondViewer.transparentOtherComponentsByKey([e,t]),r.secondViewer.colorfulComponentsByKey([e,t],Yv.changedColor.color,Yv.changedColor.opacity);break;case qv.MULTIWINDOW:r.firstViewer.adaptiveSizeByKey(e),r.firstViewer.clearColorfulList(),r.firstViewer.clearTransparentList(),r.firstViewer.transparentOtherComponentsByKey(e),r.firstViewer.colorfulComponentsByKey(e,Yv.changedColor.color,Yv.changedColor.opacity),r.secondViewer.adaptiveSizeByKey(t),r.secondViewer.clearColorfulList(),r.secondViewer.clearTransparentList(),r.secondViewer.transparentOtherComponentsByKey(t),r.secondViewer.colorfulComponentsByKey(t,Yv.changedColor.color,Yv.changedColor.opacity)}}),b.appendChild(O)}}var U=document.createElement("div");U.classList.add("compares_list_body"),A.appendChild(U);var N=document.createElement("div");N.classList.add("compares_list_title"),N.innerText="移除构件列表("+i.length+")",N.addEventListener("click",function(A){for(var e=A.target.parentNode.querySelectorAll("tr"),t=[],i=0,n=e.length;i<n;i+=1)e[i].oldKey&&t.push(e[i].oldKey);r.secondViewer.adaptiveSizeByKey(t),r.secondViewer.clearColorfulList(),r.secondViewer.clearTransparentList(),r.secondViewer.transparentOtherComponentsByKey(t),r.secondViewer.colorfulComponentsByKey(t,Yv.deletedColor.color,Yv.deletedColor.opacity)}),U.appendChild(N);var R=document.createElement("table");R.classList.add("sx-table"),R.classList.add("compares_list_table"),R.classList.add("table-no-top"),U.appendChild(R);var P=document.createElement("thead");R.appendChild(P);var D=document.createElement("tbody");R.appendChild(D);var Q=document.createElement("tr");Q.style.backgroundColor="rgba(255, 0, 0, 0.8)",Q.className="noprop";var k=document.createElement("th");Q.appendChild(k);var z=document.createElement("span");z.classList.add("value"),z.classList.add("nonEditable"),z.innerHTML="名称",k.appendChild(z);var V=document.createElement("th");Q.appendChild(V);var H=document.createElement("span");H.classList.add("value"),H.classList.add("nonEditable"),H.innerHTML="类型",V.appendChild(H),P.appendChild(Q);for(var G=0,j=i.length;G<j;G+=1){var W=r.secondViewer.getComponentsByKey(i[G]);if(W&&W[0]&&W[0][i[G]]&&W[0][i[G]][0]){var q=r._addProperty(W[0][i[G]][0].name,W[0][i[G]][0].type);q.oldKey=i[G],q.newKey="",q.addEventListener("click",function(A){var e=A.target.parentNode.oldKey;e&&(r.secondViewer.adaptiveSizeByKey(e),r.secondViewer.clearColorfulList(),r.secondViewer.clearTransparentList(),r.secondViewer.transparentOtherComponentsByKey(e),r.secondViewer.colorfulComponentsByKey(e,Yv.deletedColor.color,Yv.deletedColor.opacity))}),D.appendChild(q)}}}};var $v=function(A,e){this.viewer2D=e,this.viewer3D=A,this.enableFocus(),this.show3DCameraOn2DViewer()};$v.prototype.enableFocus=function(){var e=this.viewer2D,t=this.viewer3D;t&&e&&(e.setOnSelectComponentCallback(function(A){A.intersectInfo&&A.intersectInfo.selectedObjectId&&0<t.getComponentsByKey(A.intersectInfo.selectedObjectId).length?(t.highlightComponentsByKey(A.intersectInfo.selectedObjectId),t.adaptiveSizeByKey(A.intersectInfo.selectedObjectId)):t.clearHighlightList()}),t.registerModelEventListener(lh.ON_CLICK_PICK,function(A){A.intersectInfo&&A.intersectInfo.selectedObjectId&&e.focusOnComponentByKey(A.intersectInfo.selectedObjectId,!0)}))},$v.prototype.enableMove2DCamera=function(){this.viewer2D.getViewerImpl().controlManager.enableTool(this.viewer2D.getViewerImpl(),"viewer3DCameraControl")},$v.prototype.disableMove2DCamera=function(){this.viewer2D.getViewerImpl().controlManager.disableTool("viewer3DCameraControl")},$v.prototype.show3DCameraOn2DViewer=function(){var n=this.viewer2D,A=this.viewer3D;if(A&&n){var t=A.getViewerImpl();A.registerCameraEventListener(lh.ON_CAMERA_CHANGE,function(A){var e=A.camera,t=e.getWorldPosition(new Ue),i=e.getWorldDirection(new Ue);n.show3DCamera([t.x,t.y],[i.x,i.y])}),n.getViewerImpl().cameraControl.addEventListener(lh.ON_VIEWER3D_CAMERA_CHANGE,function(A){var e=A.position;t.locateToPoint({x:e[0],y:e[1],z:t.camera.position.z})})}};var Ay={};Ay.ToolBar=Wg;var ey={};ey.ModelCompares=Zv,ey.DISPLAYMODEL=qv,ey.CompareGlobalData=Yv,ey.CompareComponentType=Xv,ey.COMPAREEVENTS=Jv,ey.ViewerConnector=$v,A.Animation=qu,A.BOS3DMaterial=Iu,A.BaseControl=xp,A.CAMERATYPE=th,A.Camera=Gu,A.CameraAnimator=Xu,A.CameraControl=np,A.CameraInfo=Wu,A.CameraUtil=Zu,A.ClipPlaneService=vg,A.ClipPlanes=ap,A.ClipPlanesTool=_p,A.CollisionDetection=function(l){this.cameraControl=l,this.intersector=l.intersector;var c=new $u,d=new $u,h=new $u,u=new $u,p=new $u,g=new $u;this.run=function(A,e){var t={},i=this.cameraControl.getIntersectContext(null);c.set(A,new Ue(0,0,1)),d.set(A,new Ue(0,0,-1)),p.set(A,e),g.set(A,new Ue(-e.x,-e.y,-e.z)),h.set(A,new Ue(-e.y,e.x,e.z)),u.set(A,new Ue(e.y,-e.x,e.z)),t.top=this.intersector.getIntersectByRay(i,c.ray),t.down=this.intersector.getIntersectByRay(i,d.ray),t.front=this.intersector.getIntersectByRay(i,p.ray),t.back=this.intersector.getIntersectByRay(i,g.ray),t.left=this.intersector.getIntersectByRay(i,h.ray),t.right=this.intersector.getIntersectByRay(i,u.ray);var n=new Ue(A.x,A.y,A.z-.8*l.manHeight),o=new $u;o.set(n,e);var r=new $u;r.set(n,new Ue(-e.x,-e.y,-e.z));var a=new $u;a.set(n,new Ue(-e.y,e.x,e.z));var s=new $u;return s.set(n,new Ue(e.y,-e.x,e.z)),t.frontMiddle=this.intersector.getIntersectByRay(i,o.ray),t.backMiddle=this.intersector.getIntersectByRay(i,r.ray),t.leftMiddle=this.intersector.getIntersectByRay(i,a.ray),t.rightMiddle=this.intersector.getIntersectByRay(i,s.ray),t}},A.Color=bu,A.ColorPicker=wu,A.ControlConfig=Ju,A.ControlManager=wg,A.ControlMode=mh,A.DOMMark=Ug,A.DefaultInvisibleComponentType=oh,A.DefaultMaterial=su,A.DeviceTest=zh,A.DomUtil=jh,A.DrawingStyle=Ch,A.EVENTS=lh,A.Edge=Pu,A.EnumConditionType={HIDDEN_OTHERS:0,TRANSLUCENT_OTHERS:1,OVERRIDE:2,BORDERLINE:3},A.EnumDataProvider=bh,A.EnumFilterState=wh,A.EnumIdBasedType=hh,A.EnumInstanceState=Ih,A.EnumIsolateState=ph,A.EnumObjectState=uh,A.EnumRenderType={RENDER:0,RENDER_FINISHED:1,RESIZE:2},A.EnumSceneState=fh,A.EnumShaderColorState=xh,A.EnumTransparentState=gh,A.EnumUserType={HIDDEN_DATA:0,OVERRIDE_DATA:1,WITH_BOARDLINE:2},A.EventDispatcher=ou,A.FillClipPlane=gp,A.FillClipPlaneTool=Sp,A.FilterResultMode=Eh,A.FullScreen=Su,A.GeomUtil=lu,A.GlobalData=Ah,A.Group=op,A.IDENTITYMATRIX3=nh,A.IDENTITYMATRIX4=ih,A.ImageResources=Mu,A.IntersectHelper=tp,A.KDNode=Lg,A.LOADERROREVENTS=ch,A.LineSegmentsEx=Ru,A.Lobibox=tu,A.LogLevels=Vh,A.MarkObject=Qg,A.MaterialEx=Tu,A.MaterialUtil=xu,A.MeasureTool=mg,A.MeasurementManager=kg,A.MeshEx=Fu,A.MoveDirection=yh,A.NodeItemType={SYMBOL:0,MESH:1,TUBE:2,PIPE:3,BOX:4,BOX_M:5,PIPE_M:6,MESH_REF:7,LINE:8},A.NormalControl=bp,A.OPSELECTIONTYPE=ah,A.OrbitControl=Ep,A.PICKABLETYPE=sh,A.PhongLightingMaterial=rp,A.PickControl=wp,A.PickHelper=Ip,A.PickUtil=Eu,A.PlaneMark=Ng,A.Plugins=ey,A.PostilObject=Hg,A.PrimitiveCount={vertexCount:0,triangleCount:0},A.Raycaster=$u,A.RectOpTool=Tp,A.RectPickTool=Kp,A.RectZoomTool=Fp,A.RotatePivotMode=dh,A.RotationOrders=eh,A.SVGRect=qg,A.Scene=vp,A.SceneStateHelper=yp,A.SectionPlane=Fg,A.SelectPad=Cp,A.Snapshot=jg,A.SpriteMark=Rg,A.StorageCache=Vu,A.THREE=$d,A.ThreeMark=Pg,A.Tool=Bp,A.ToolBar=Wg,A.ToolMode=vh,A.UI=Ay,A.Utils=kh,A.Version="4.12.0",A.ViewController=Xg,A.Viewer=Rv,A.ViewerImpl=Nv,A.WalkControl=Mp,A.WordPlaneMark=Dg,A.ajax=Bu,A.buildEdge=ku,A.getFaceIndex=zu,A.getScript=function(A,e){var t={};if(t[A])e&&e();else{var i=document.createElement("script");i.type="text/javascript",i.src=A,document.head.appendChild(i),t[A]=!0,i.readyState?i.onreadystatechange=function(){"loaded"!==i.readyState&&"complete"!==i.readyState||(i.onreadystatechange=null,e&&e())}:i.onload=function(){e&&e()}}},A.i18nMessage=Mh,A.logger=Gh,A.message=nu,A.removeDuplicateIndex=Du,A.removeDuplicateVertex=Qu,A.standardView=rh,Object.defineProperty(A,"__esModule",{value:!0})});
//# sourceMappingURL=BIMWINNER.BOS3D.min.js.map
